[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761299864",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#issuecomment-761299864",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20946",
    "id": 761299864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MTI5OTg2NA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-16T02:53:56Z",
    "updated_at": "2021-01-16T02:53:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20915 (fuzz: Fail if message type is not fuzzed by MarcoFalke)\n* #20749 ([Bundle 1/n] Prune g_chainman usage related to ::LookupBlockIndex by dongcarl)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761299864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761537108",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#issuecomment-761537108",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20946",
    "id": 761537108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MTUzNzEwOA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-16T09:59:24Z",
    "updated_at": "2021-01-16T09:59:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nThanks for improving the fuzzing code! Very happy to the number of active contributors to `src/test/fuzz/` grow :)\r\n\r\n> Question for fuzzing people: was it intentional that `src/test/fuzz/net.cpp` would directly instantiate the `BasicTestingSetup` and thus omit the `\"-nodebuglogfile\"` flag?\r\n\r\nI don't think that was intentional on my part. We want `-nodebuglogfile` :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761537108/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761904673",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#issuecomment-761904673",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20946",
    "id": 761904673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MTkwNDY3Mw==",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?u=62e3204f6586795420395a7059ec7dc7c4a40c7d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-18T00:03:55Z",
    "updated_at": "2021-01-18T00:03:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can someone help me out with this fuzzer message? Is this a real error that we caught or something benign?\r\n\r\nhttps://cirrus-ci.com/task/5473797673320448?command=ci#L3550",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/761904673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762016502",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#issuecomment-762016502",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20946",
    "id": 762016502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MjAxNjUwMg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-18T06:31:24Z",
    "updated_at": "2021-01-18T06:31:24Z",
    "author_association": "MEMBER",
    "body": "Looks like an issue with your code. Could it mean that you destroyed some object twice?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/762016502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764702642",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#issuecomment-764702642",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20946",
    "id": 764702642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDcwMjY0Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T15:00:07Z",
    "updated_at": "2021-01-21T15:00:07Z",
    "author_association": "MEMBER",
    "body": "ACK abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/764702642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559344789",
    "pull_request_review_id": 570204371,
    "id": 559344789,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTM0NDc4OQ==",
    "diff_hunk": "@@ -36,9 +36,7 @@ bool operator==(const Coin& a, const Coin& b)\n \n void initialize_coins_view()\n {\n-    static const ECCVerifyHandle ecc_verify_handle;\n-    ECC_Start();\n-    SelectParams(CBaseChainParams::REGTEST);\n+    static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "827b5df3660f9dcf6e647d7435a4dc6ed68a3e78",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "why is it needed to spin up more than just ecc and params?",
    "created_at": "2021-01-18T06:43:08Z",
    "updated_at": "2021-01-21T14:29:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r559344789",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559344789"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r559344789"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/559344789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 39,
    "original_line": 39,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561369925",
    "pull_request_review_id": 572746679,
    "id": 561369925,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTM2OTkyNQ==",
    "diff_hunk": "@@ -36,9 +36,7 @@ bool operator==(const Coin& a, const Coin& b)\n \n void initialize_coins_view()\n {\n-    static const ECCVerifyHandle ecc_verify_handle;\n-    ECC_Start();\n-    SelectParams(CBaseChainParams::REGTEST);\n+    static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "827b5df3660f9dcf6e647d7435a4dc6ed68a3e78",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Happy to delay this change, but `GetUTXOStats` calls `LookupBlockIndex` which asks `ChainstateManager` for its `BlockManager`. After `g_chainman` is de-globalized, we will no longer have an \"implicitly-constructed-by-virtue-of-being-member-of-a-global\" m_blockman, so we will need to run our initialization codepath at least until we have populated `NodeContext::chainman`.\r\n\r\nHowever, it is not absolutely necessary right now, so I'd be happy to delay this change if you want to!",
    "created_at": "2021-01-20T23:15:01Z",
    "updated_at": "2021-01-21T14:29:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561369925",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561369925"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561369925"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561369925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 39,
    "original_line": 39,
    "side": "RIGHT",
    "in_reply_to_id": 559344789
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561685302",
    "pull_request_review_id": 573083748,
    "id": 561685302,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY4NTMwMg==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})",
    "path": "src/test/fuzz/util.h",
    "position": null,
    "original_position": 14,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "ed7f84500087d8543ce9534fb7201b2360d457f7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style nit: templates are already inline, no need to specify twice",
    "created_at": "2021-01-21T08:30:26Z",
    "updated_at": "2021-01-21T14:29:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561685302",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561685302"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561685302"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561685302/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 343,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561699714",
    "pull_request_review_id": 573083748,
    "id": 561699714,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY5OTcxNA==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})",
    "path": "src/test/fuzz/util.h",
    "position": null,
    "original_position": 14,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "ed7f84500087d8543ce9534fb7201b2360d457f7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also, it looks like returning `T` is just fine here and should be sufficient to show that the caller owns the object that is returned:\r\n\r\n```diff\r\ndiff --git a/src/test/fuzz/process_message.cpp b/src/test/fuzz/process_message.cpp\r\nindex e9c5cb5954..19523d6951 100644\r\n--- a/src/test/fuzz/process_message.cpp\r\n+++ b/src/test/fuzz/process_message.cpp\r\n@@ -39,7 +39,7 @@ const TestingSetup* g_setup;\r\n void initialize_process_message()\r\n {\r\n     static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();\r\n-    g_setup = testing_setup.get();\r\n+    g_setup = &testing_setup;\r\n     for (int i = 0; i < 2 * COINBASE_MATURITY; i++) {\r\n         MineBlock(g_setup->m_node, CScript() << OP_TRUE);\r\n     }\r\ndiff --git a/src/test/fuzz/process_messages.cpp b/src/test/fuzz/process_messages.cpp\r\nindex 291d5df191..d8fa1028e5 100644\r\n--- a/src/test/fuzz/process_messages.cpp\r\n+++ b/src/test/fuzz/process_messages.cpp\r\n@@ -24,7 +24,7 @@ const TestingSetup* g_setup;\r\n void initialize_process_messages()\r\n {\r\n     static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();\r\n-    g_setup = testing_setup.get();\r\n+    g_setup = &testing_setup;\r\n     for (int i = 0; i < 2 * COINBASE_MATURITY; i++) {\r\n         MineBlock(g_setup->m_node, CScript() << OP_TRUE);\r\n     }\r\ndiff --git a/src/test/fuzz/util.h b/src/test/fuzz/util.h\r\nindex 9f1dfa44a1..68c6838a36 100644\r\n--- a/src/test/fuzz/util.h\r\n+++ b/src/test/fuzz/util.h\r\n@@ -339,8 +339,8 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\r\n     }\r\n }\r\n \r\n-template <class T = const BasicTestingSetup>\r\n-inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})\r\n+template <class T = BasicTestingSetup>\r\n+T MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})\r\n {\r\n     // Prepend default arguments for fuzzing\r\n     const std::vector<const char*> arguments = Cat(\r\n@@ -349,7 +349,7 @@ inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBa\r\n         },\r\n         extra_args);\r\n \r\n-    return MakeUnique<T>(chain_name, arguments);\r\n+    return T{chain_name, arguments};\r\n }\r\n \r\n class FuzzedFileProvider\r\n",
    "created_at": "2021-01-21T08:53:27Z",
    "updated_at": "2021-01-21T14:29:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561699714",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561699714"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561699714"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561699714/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 343,
    "side": "RIGHT",
    "in_reply_to_id": 561685302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561702512",
    "pull_request_review_id": 573105463,
    "id": 561702512,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTcwMjUxMg==",
    "diff_hunk": "@@ -36,9 +36,7 @@ bool operator==(const Coin& a, const Coin& b)\n \n void initialize_coins_view()\n {\n-    static const ECCVerifyHandle ecc_verify_handle;\n-    ECC_Start();\n-    SelectParams(CBaseChainParams::REGTEST);\n+    static const auto testing_setup = MakeFuzzingContext<const TestingSetup>();",
    "path": "src/test/fuzz/coins_view.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "827b5df3660f9dcf6e647d7435a4dc6ed68a3e78",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, makes sense.",
    "created_at": "2021-01-21T08:57:40Z",
    "updated_at": "2021-01-21T14:29:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561702512",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561702512"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561702512"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561702512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 39,
    "original_line": 39,
    "side": "RIGHT",
    "in_reply_to_id": 559344789
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561924388",
    "pull_request_review_id": 573384886,
    "id": 561924388,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTkyNDM4OA==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})",
    "path": "src/test/fuzz/util.h",
    "position": null,
    "original_position": 14,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "ed7f84500087d8543ce9534fb7201b2360d457f7",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "w/re returning `T`, I think I'm going to keep the `unique_ptr` just because in the future we might do something in `MakeFuzzingContext` that doesn't trigger RVO and I'm not sure about the copy semantics of our `*TestingSetup` classes...",
    "created_at": "2021-01-21T14:30:58Z",
    "updated_at": "2021-01-21T14:30:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561924388",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561924388"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561924388"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561924388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 343,
    "side": "RIGHT",
    "in_reply_to_id": 561685302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561948826",
    "pull_request_review_id": 573417095,
    "id": 561948826,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk0ODgyNg==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+inline std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})",
    "path": "src/test/fuzz/util.h",
    "position": null,
    "original_position": 14,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "ed7f84500087d8543ce9534fb7201b2360d457f7",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As you are using `auto`, changing from/to unique_ptr is a small diff, so can be done later easily, if needed",
    "created_at": "2021-01-21T15:00:46Z",
    "updated_at": "2021-01-21T15:00:46Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561948826",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561948826"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561948826"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561948826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 343,
    "side": "RIGHT",
    "in_reply_to_id": 561685302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561949731",
    "pull_request_review_id": 573418299,
    "id": 561949731,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTk0OTczMQ==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})\n {\n-    static const BasicTestingSetup basic_testing_setup{chain_name, {\"-nodebuglogfile\"}};\n+    // Prepend default arguments for fuzzing\n+    const std::vector<const char*> arguments = Cat(\n+        {\n+            \"-nodebuglogfile\",\n+        },\n+        extra_args);\n+\n+    return MakeUnique<T>(chain_name, arguments);",
    "path": "src/test/fuzz/util.h",
    "position": 24,
    "original_position": 24,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: new code can use\r\n\r\n```suggestion\r\n    return std::make_unique<T>(chain_name, arguments);\r\n```",
    "created_at": "2021-01-21T15:01:51Z",
    "updated_at": "2021-01-21T15:01:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561949731",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561949731"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r561949731"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/561949731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 352,
    "original_line": 352,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563625010",
    "pull_request_review_id": 575271421,
    "id": 563625010,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzYyNTAxMA==",
    "diff_hunk": "@@ -338,9 +339,17 @@ inline void FillNode(FuzzedDataProvider& fuzzed_data_provider, CNode& node, cons\n     }\n }\n \n-inline void InitializeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST)\n+template <class T = const BasicTestingSetup>\n+std::unique_ptr<T> MakeFuzzingContext(const std::string& chain_name = CBaseChainParams::REGTEST, const std::vector<const char*>& extra_args = {})\n {\n-    static const BasicTestingSetup basic_testing_setup{chain_name, {\"-nodebuglogfile\"}};\n+    // Prepend default arguments for fuzzing\n+    const std::vector<const char*> arguments = Cat(\n+        {\n+            \"-nodebuglogfile\",\n+        },\n+        extra_args);\n+\n+    return MakeUnique<T>(chain_name, arguments);",
    "path": "src/test/fuzz/util.h",
    "position": 24,
    "original_position": 24,
    "commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "original_commit_id": "abb6fa728598c4cc8874eae1c3c5e587e36424cd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed in #21003 ",
    "created_at": "2021-01-25T10:44:35Z",
    "updated_at": "2021-01-25T10:44:35Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r563625010",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563625010"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20946#discussion_r563625010"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20946"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563625010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 352,
    "original_line": 352,
    "side": "RIGHT",
    "in_reply_to_id": 561949731
  }
]