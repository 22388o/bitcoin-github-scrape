[
  {
    "sha": "60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MGVkMzM5MDRjZjk3NGU4ZjNjMWI5NTM5MmEyM2RiMWZlMmQ0YTk4",
    "commit": {
      "author": {
        "name": "10xcryptodev",
        "email": "10xcryptodev@gmail.com",
        "date": "2020-05-20T01:00:26Z"
      },
      "committer": {
        "name": "10xcryptodev",
        "email": "10xcryptodev@gmail.com",
        "date": "2020-05-20T21:56:08Z"
      },
      "message": "tests: implement base58_decode",
      "tree": {
        "sha": "fc17b99381ac4d8def3ed42ff725b0990eec4515",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc17b99381ac4d8def3ed42ff725b0990eec4515"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEBlEZuoKDmmiSqclfX2NjFIGdAvoFAl7Fp3gACgkQX2NjFIGd\nAvpEeA/+MmYH019cAM4ueosQEDVbCV+/ag7wRKK6tWEB/rwfxoLJD5LvRZfdDkMq\nNUqy4TVanQ5w9B5G9RsQCgnV6tAtscdgOZ9ST3HWRG1SLM0/SM0eN6Rh+8pyxMiI\ntjNfFil/7p3fNz0SkBK0qW4GMsr+eS7zAwrN+770FQlssIF1SClKO9EMjY3Jhtkl\nVZBmCGPhUehT24uvLx86XbAYxQw5tAcHipY9DY/dIOvF9wEuC9odrFIlFTzXl5Iz\nUBuMBt+bfovvayFOyNhfT69AE7YFACnZUPES0HdgbL5oiQ7GlQWDhP9IKewkPwUS\nGVwi4TZl5NXl19OUfNZpq+/0dWjyVrYW/WGL/Pe6PawxToR5lyAvh/1SGhZmGoyk\ng7Y8PQHwtb1ljU7mP073Ijj8eYMl97MzzP0FswTEMHCtIx/zs4U4mdONv5mu7SXv\n1hLpSIhIgK5Hvqvp2Ec+dUGV0NQHmE45xRTKBz6mwUoZep8psI6Vmo8DjrE7QYGd\noS3tGXYOLMSbZzGRTA72T0PddAmiZpcChHefOTsifHSHadtZvYtmqq707wwndIwF\nv1KhUSKASrDeaFTcIMY7Xl48FR9YNwZfTPuyE2kvj6Hg+0a6t9gSrKsSfryrrsZq\nWelGfcRS/+ORK34/IJOnjHfeLYp+JMCOuSwNF8nGFHq+Rfp1q2o=\n=AGx+\n-----END PGP SIGNATURE-----",
        "payload": "tree fc17b99381ac4d8def3ed42ff725b0990eec4515\nparent aa8d76806c74a51ec66e5004394fe9ea8ff0fac4\nauthor 10xcryptodev <10xcryptodev@gmail.com> 1589936426 -0300\ncommitter 10xcryptodev <10xcryptodev@gmail.com> 1590011768 -0300\n\ntests: implement base58_decode\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/60ed33904cf974e8f3c1b95392a23db1fe2d4a98/comments",
    "author": {
      "login": "10xcryptodev",
      "id": 63932478,
      "node_id": "MDQ6VXNlcjYzOTMyNDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/63932478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/10xcryptodev",
      "html_url": "https://github.com/10xcryptodev",
      "followers_url": "https://api.github.com/users/10xcryptodev/followers",
      "following_url": "https://api.github.com/users/10xcryptodev/following{/other_user}",
      "gists_url": "https://api.github.com/users/10xcryptodev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/10xcryptodev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/10xcryptodev/subscriptions",
      "organizations_url": "https://api.github.com/users/10xcryptodev/orgs",
      "repos_url": "https://api.github.com/users/10xcryptodev/repos",
      "events_url": "https://api.github.com/users/10xcryptodev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/10xcryptodev/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "10xcryptodev",
      "id": 63932478,
      "node_id": "MDQ6VXNlcjYzOTMyNDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/63932478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/10xcryptodev",
      "html_url": "https://github.com/10xcryptodev",
      "followers_url": "https://api.github.com/users/10xcryptodev/followers",
      "following_url": "https://api.github.com/users/10xcryptodev/following{/other_user}",
      "gists_url": "https://api.github.com/users/10xcryptodev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/10xcryptodev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/10xcryptodev/subscriptions",
      "organizations_url": "https://api.github.com/users/10xcryptodev/orgs",
      "repos_url": "https://api.github.com/users/10xcryptodev/repos",
      "events_url": "https://api.github.com/users/10xcryptodev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/10xcryptodev/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aa8d76806c74a51ec66e5004394fe9ea8ff0fac4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa8d76806c74a51ec66e5004394fe9ea8ff0fac4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aa8d76806c74a51ec66e5004394fe9ea8ff0fac4"
      }
    ],
    "stats": {
      "total": 50,
      "additions": 49,
      "deletions": 1
    },
    "files": [
      {
        "sha": "9506b63f82081f9345529e848d231b531ace0e58",
        "filename": "test/functional/test_framework/address.py",
        "status": "modified",
        "additions": 48,
        "deletions": 1,
        "changes": 49,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/60ed33904cf974e8f3c1b95392a23db1fe2d4a98/test/functional/test_framework/address.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/60ed33904cf974e8f3c1b95392a23db1fe2d4a98/test/functional/test_framework/address.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/address.py?ref=60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
        "patch": "@@ -5,12 +5,15 @@\n \"\"\"Encode and decode BASE58, P2PKH and P2SH addresses.\"\"\"\n \n import enum\n+import unittest\n \n from .script import hash256, hash160, sha256, CScript, OP_0\n from .util import hex_str_to_bytes\n \n from . import segwit_addr\n \n+from test_framework.util import assert_equal\n+\n ADDRESS_BCRT1_UNSPENDABLE = 'bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq3xueyj'\n ADDRESS_BCRT1_UNSPENDABLE_DESCRIPTOR = 'addr(bcrt1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq3xueyj)#juyq9d97'\n # Coins sent to this address can be spent with a witness stack of just OP_TRUE\n@@ -41,7 +44,32 @@ def byte_to_base58(b, version):\n         str = str[2:]\n     return result\n \n-# TODO: def base58_decode\n+\n+def base58_to_byte(s, verify_checksum=True):\n+    if not s:\n+        return b''\n+    n = 0\n+    for c in s:\n+        n *= 58\n+        assert c in chars\n+        digit = chars.index(c)\n+        n += digit\n+    h = '%x' % n\n+    if len(h) % 2:\n+        h = '0' + h\n+    res = n.to_bytes((n.bit_length() + 7) // 8, 'big')\n+    pad = 0\n+    for c in s:\n+        if c == chars[0]:\n+            pad += 1\n+        else:\n+            break\n+    res = b'\\x00' * pad + res\n+    if verify_checksum:\n+        assert_equal(hash256(res[:-4])[:4], res[-4:])\n+\n+    return res[1:-4], int(res[0])\n+\n \n def keyhash_to_p2pkh(hash, main = False):\n     assert len(hash) == 20\n@@ -100,3 +128,22 @@ def check_script(script):\n     if (type(script) is bytes or type(script) is CScript):\n         return script\n     assert False\n+\n+\n+class TestFrameworkScript(unittest.TestCase):\n+    def test_base58encodedecode(self):\n+        def check_base58(data, version):\n+            self.assertEqual(base58_to_byte(byte_to_base58(data, version)), (data, version))\n+\n+        check_base58(b'\\x1f\\x8e\\xa1p*{\\xd4\\x94\\x1b\\xca\\tA\\xb8R\\xc4\\xbb\\xfe\\xdb.\\x05', 111)\n+        check_base58(b':\\x0b\\x05\\xf4\\xd7\\xf6l;\\xa7\\x00\\x9fE50)l\\x84\\\\\\xc9\\xcf', 111)\n+        check_base58(b'A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 111)\n+        check_base58(b'\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 111)\n+        check_base58(b'\\0\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 111)\n+        check_base58(b'\\0\\0\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 111)\n+        check_base58(b'\\x1f\\x8e\\xa1p*{\\xd4\\x94\\x1b\\xca\\tA\\xb8R\\xc4\\xbb\\xfe\\xdb.\\x05', 0)\n+        check_base58(b':\\x0b\\x05\\xf4\\xd7\\xf6l;\\xa7\\x00\\x9fE50)l\\x84\\\\\\xc9\\xcf', 0)\n+        check_base58(b'A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 0)\n+        check_base58(b'\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 0)\n+        check_base58(b'\\0\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 0)\n+        check_base58(b'\\0\\0\\0A\\xc1\\xea\\xf1\\x11\\x80%Y\\xba\\xd6\\x1b`\\xd6+\\x1f\\x89|c\\x92\\x8a', 0)"
      },
      {
        "sha": "0812470b0c848437fc008b1b585c48dcfbdaefdf",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/60ed33904cf974e8f3c1b95392a23db1fe2d4a98/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/60ed33904cf974e8f3c1b95392a23db1fe2d4a98/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=60ed33904cf974e8f3c1b95392a23db1fe2d4a98",
        "patch": "@@ -67,6 +67,7 @@\n TEST_EXIT_SKIPPED = 77\n \n TEST_FRAMEWORK_MODULES = [\n+    \"address\",\n     \"script\",\n ]\n "
      }
    ]
  }
]