[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440565114",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440565114",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440565114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDU2NTExNA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T07:32:57Z",
    "updated_at": "2019-02-14T23:39:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15340](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15340.html) (gui: Introduce bilingual GUI error messages by hebasto)\n* [#15278](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15278.html) (Improve PID file error handling by hebasto)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440565114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440584840",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440584840",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440584840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDU4NDg0MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T08:52:47Z",
    "updated_at": "2018-11-21T08:59:20Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.\r\n\r\nI'm not sure this should be switched on `ENABLE_WALLET`. Knowing nothing else I'd say we should enable this always when possible (and not disabled using the flag).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440584840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440607879",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440607879",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440607879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDYwNzg3OQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T10:09:59Z",
    "updated_at": "2018-11-21T10:13:42Z",
    "author_association": "MEMBER",
    "body": "Taking a step back from the \"should we switch this based on wallet\" or \"should we take the (unknown) performance hit for the whole process\". I think it's important here to define what the threat scenario is that this is protecting against. This also needs to be documented to the user.\r\n\r\nAs I understand it, Spectre mitigation is especially meant for browsers and such and other software that runs untrusted code in a sandbox. Code running in a sandbox could use spectre to learn things and gain access that it's not supposed to have.\r\n\r\nI don't think this is the case for `bitcoind` at all\u2014yes, very pedantically the consensus scripts could be seen as that, but I would be extremely surprised if there's *any* chance of that with the lack of loops and such. So, then, what is left?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440607879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440627881",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440627881",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440627881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDYyNzg4MQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T11:16:18Z",
    "updated_at": "2018-11-21T11:16:18Z",
    "author_association": "MEMBER",
    "body": "Spectre can allow unrelated processes to get at private data of other processes. Whether these specific mitigations help with that scenario or not, however, I am unsure.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440627881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440849477",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440849477",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440849477,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDg0OTQ3Nw==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-21T23:29:24Z",
    "updated_at": "2018-11-21T23:29:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "We shouldn't take this by default without characterizing the performance implications, esp if we're not precisely sure about what it's protecting against.  If the performance impact is negligible then perhaps we can ignore the minutia of what it's protecting.\r\n\r\nLack of comprehensive mlock (e.g. rpc/QT result in decryption keys laying around in memory) probably and the lack of process isolation for secret keys are probably much more serious limitations to our current behaviour than anything spectre... but also can't just be improved with a ctl.   OTOH, fixing them doesn't have a risk of causing a large sync performance loss that push people onto far less secure software.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440849477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440971031",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-440971031",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 440971031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDk3MTAzMQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-22T09:42:24Z",
    "updated_at": "2018-11-22T09:44:48Z",
    "author_association": "MEMBER",
    "body": "> Spectre can allow unrelated processes to get at private data of other processes. Whether these specific mitigations help with that scenario or not, however, I am unsure.\r\n\r\nI think we need to be sure about that, as far as possible.\r\n\r\nI have a fairly good grasp of how vulnerabilities and exploitation work in general, but this Spectre stuff is abracadabra to me. I can't imagine how a PoC exploit for this would look.\r\n\r\nIf we're unsure if and how this will help, just flipping some process flags seems security theater, or a charm to keep the evil hacker spirits away.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/440971031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441404368",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-441404368",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 441404368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTQwNDM2OA==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-24T23:51:14Z",
    "updated_at": "2018-11-24T23:51:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's probably easier to tell if it has a meaningfully negative performance impact... understanding could be replaced with emailing the author(s) of the kernel functionality and asking if they think it would be useful for us.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441404368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441830244",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-441830244",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 441830244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTgzMDI0NA==",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?u=1b426d2927bced4f00fbbd8282d72ee032374b88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-26T22:47:55Z",
    "updated_at": "2018-11-26T22:47:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@gmaxwell I sent an email to the authors of the spectre prctl kernel patch asking them about how it should be used.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/441830244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465910690",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-465910690",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 465910690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTkxMDY5MA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-21T08:39:45Z",
    "updated_at": "2019-02-21T08:39:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/465910690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503367780",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#issuecomment-503367780",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14776",
    "id": 503367780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzM2Nzc4MA==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T01:14:51Z",
    "updated_at": "2019-06-19T01:14:51Z",
    "author_association": "MEMBER",
    "body": "I'm going to close this. Discussion seems to have stalled. It's not entirely clear when or how the mitigations should be applied. There would also need to be some effort put into figuring out the performance implications.\r\n\r\n> I have a fairly good grasp of how vulnerabilities and exploitation work in general, but this Spectre stuff is abracadabra to me. I can't imagine how a PoC exploit for this would look.\r\n\r\nI agree with laanwj in that I'd be interested in seeing some sort of proof of concept attack for `bitcoind`.\r\n\r\n@jameshilliard did the authors of the spectre prctl patch ever get back to your with more information?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503367780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235272587",
    "pull_request_review_id": 177099473,
    "id": 235272587,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI3MjU4Nw==",
    "diff_hunk": "@@ -888,6 +889,20 @@ bool AppInitBasicSetup()\n     if (setProcDEPPol != nullptr) setProcDEPPol(PROCESS_DEP_ENABLE);\n #endif\n \n+    if (gArgs.GetBoolArg(\"-disablewallet\", false)) {\n+        if (gArgs.GetBoolArg(\"-mitigatespectre\", false)) {\n+            SpectreMitigation(true);\n+        } else {\n+            SpectreMitigation(false);\n+        }\n+    } else {\n+        if (gArgs.GetBoolArg(\"-mitigatespectre\", DEFAULT_MITIGATE_SPECTRE)) {\n+            SpectreMitigation(true);\n+        } else {\n+            SpectreMitigation(false);\n+        }\n+    }\n+",
    "path": "src/init.cpp",
    "position": 20,
    "original_position": 25,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You could do\r\n```C++\r\nbool mitigatespectre_default = !gArgs.GetBoolArg(\"-disablewallet\", false) && DEFAULT_MITIGATE_SPECTE;\r\nSpectreMitigation(gArgs.GetBoolArg(\"-mitigatespectre\", mitigatespectre_default));\r\n```\r\n",
    "created_at": "2018-11-21T07:09:44Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235272587",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235272587"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235272587"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235272587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 900,
    "original_line": 900,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275199",
    "pull_request_review_id": 177102103,
    "id": 235275199,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI3NTE5OQ==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This doesn't seem safe. What if a kernel has number 52 with a different meaning?",
    "created_at": "2018-11-21T07:23:07Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235275199",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275199"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235275199"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275374",
    "pull_request_review_id": 177102718,
    "id": 235275374,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI3NTM3NA==",
    "diff_hunk": "@@ -888,6 +889,20 @@ bool AppInitBasicSetup()\n     if (setProcDEPPol != nullptr) setProcDEPPol(PROCESS_DEP_ENABLE);\n #endif\n \n+    if (gArgs.GetBoolArg(\"-disablewallet\", false)) {\n+        if (gArgs.GetBoolArg(\"-mitigatespectre\", false)) {\n+            SpectreMitigation(true);\n+        } else {\n+            SpectreMitigation(false);\n+        }\n+    } else {\n+        if (gArgs.GetBoolArg(\"-mitigatespectre\", DEFAULT_MITIGATE_SPECTRE)) {\n+            SpectreMitigation(true);\n+        } else {\n+            SpectreMitigation(false);\n+        }\n+    }\n+",
    "path": "src/init.cpp",
    "position": 20,
    "original_position": 25,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "yeah, that's def much cleaner",
    "created_at": "2018-11-21T07:24:00Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235275374",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275374"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235275374"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235275374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 900,
    "original_line": 900,
    "side": "RIGHT",
    "in_reply_to_id": 235272587
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235277564",
    "pull_request_review_id": 177105478,
    "id": 235277564,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI3NzU2NA==",
    "diff_hunk": "@@ -369,6 +369,7 @@ void SetupServerArgs()\n             \"(default: 0 = disable pruning blocks, 1 = allow manual pruning via RPC, >=%u = automatically prune block files to stay under the specified target size in MiB)\", MIN_DISK_SPACE_FOR_BLOCK_FILES / 1024 / 1024), false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-reindex\", \"Rebuild chain state and block index from the blk*.dat files on disk\", false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-reindex-chainstate\", \"Rebuild chain state from the currently indexed blocks. When in pruning mode or if blocks on disk might be corrupted, use full -reindex instead.\", false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u, defaults to disabled if -disablewallet is set)\", DEFAULT_MITIGATE_SPECTRE), true, OptionsCategory::OPTIONS);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "26525e5ad337696f716be0275006aeb6b790f6e2",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The default-exception language here doesn't match elsewhere.\r\n\r\nMaybe something like:\r\n```C++\r\n    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\r\n#ifdef ENABLE_WALLET\r\n    DEFAULT_MITIGATE_SPECTRE ? \"0 or 1 if -disablewallet set\" : \"0\"\r\n#else\r\n    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE)\r\n#endif\r\n    )), true, OptionsCategory::OPTIONS);\r\n```",
    "created_at": "2018-11-21T07:35:40Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235277564",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235277564"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235277564"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235277564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 372,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235278207",
    "pull_request_review_id": 177106043,
    "id": 235278207,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI3ODIwNw==",
    "diff_hunk": "@@ -369,6 +369,7 @@ void SetupServerArgs()\n             \"(default: 0 = disable pruning blocks, 1 = allow manual pruning via RPC, >=%u = automatically prune block files to stay under the specified target size in MiB)\", MIN_DISK_SPACE_FOR_BLOCK_FILES / 1024 / 1024), false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-reindex\", \"Rebuild chain state and block index from the blk*.dat files on disk\", false, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-reindex-chainstate\", \"Rebuild chain state from the currently indexed blocks. When in pruning mode or if blocks on disk might be corrupted, use full -reindex instead.\", false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u, defaults to disabled if -disablewallet is set)\", DEFAULT_MITIGATE_SPECTRE), true, OptionsCategory::OPTIONS);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "26525e5ad337696f716be0275006aeb6b790f6e2",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Alphabetic ordering seems to happen here, so move this entry up to below `-minimumchainwork`",
    "created_at": "2018-11-21T07:38:04Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235278207",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235278207"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235278207"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235278207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 372,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235281472",
    "pull_request_review_id": 177109549,
    "id": 235281472,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4MTQ3Mg==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "AFAIK the linux kernel API is supposed to be stable for these types of calls so that should not change.",
    "created_at": "2018-11-21T07:52:25Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235281472",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235281472"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235281472"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235281472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "in_reply_to_id": 235275199
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283402",
    "pull_request_review_id": 177111667,
    "id": 235283402,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4MzQwMg==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This will turn into `00` if `!DEFAULT_MITIGATE_SPECTE`, I think? Probably want end to go `: \"\"`.",
    "created_at": "2018-11-21T08:00:35Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235283402",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283402"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235283402"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 363,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283644",
    "pull_request_review_id": 177111966,
    "id": 235283644,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4MzY0NA==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"\n+#else\n+    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE)",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Am I misreading this code completely? This looks like it will print out `DEFAULT_MITIGATE_SPECTRE` twice.",
    "created_at": "2018-11-21T08:01:36Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235283644",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283644"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235283644"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235283644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 365,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284006",
    "pull_request_review_id": 177112438,
    "id": 235284006,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4NDAwNg==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "debug help shows with wallet enabled:  \r\n```\r\n  -mitigatespectre\r\n       Attempt to enable per process spectre mitigations (default: 1 or 0 if\r\n       -disablewallet set)\r\n```",
    "created_at": "2018-11-21T08:03:30Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235284006",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284006"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235284006"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 363,
    "side": "RIGHT",
    "in_reply_to_id": 235283402
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284566",
    "pull_request_review_id": 177113127,
    "id": 235284566,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4NDU2Ng==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If you set `DEFAULT_MITIGATE_SPECTRE` to `false` it will say `00` I think.",
    "created_at": "2018-11-21T08:06:06Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235284566",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284566"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235284566"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235284566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 363,
    "side": "RIGHT",
    "in_reply_to_id": 235283402
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285092",
    "pull_request_review_id": 177113778,
    "id": 235285092,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4NTA5Mg==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"\n+#else\n+    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE)",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`DEFAULT_MITIGATE_SPECTRE` is somewhat redundant in `DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"` since `DEFAULT_MITIGATE_SPECTRE` is controlled by `ENABLE_WALLET`, doesn't look like it would be printed twice.",
    "created_at": "2018-11-21T08:08:27Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235285092",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285092"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235285092"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 365,
    "side": "RIGHT",
    "in_reply_to_id": 235283644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285513",
    "pull_request_review_id": 177114257,
    "id": 235285513,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI4NTUxMw==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "yeah, it only works because `DEFAULT_MITIGATE_SPECTRE` is controlled by `ENABLE_WALLET`",
    "created_at": "2018-11-21T08:10:06Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235285513",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285513"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235285513"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235285513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 363,
    "side": "RIGHT",
    "in_reply_to_id": 235283402
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235292633",
    "pull_request_review_id": 177122942,
    "id": 235292633,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5MjYzMw==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think it should rely on that.\r\n\r\nAnd it does give the following output for `-disable-wallet` (at configure level) so it's broken regardless:\r\n```\r\n  -mitigatespectre\r\n       Attempt to enable per process spectre mitigations (default: 00)\r\n```\r\n\r\nPerhaps \r\n```C++\r\n    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %s)\", (\r\n#ifdef ENABLE_WALLET\r\n    DEFAULT_MITIGATE_SPECTRE ? \"1 or 0 if -disablewallet set\" : \"0\"\r\n#else\r\n    std::to_string(DEFAULT_MITIGATE_SPECTRE)\r\n#endif\r\n```\r\n",
    "created_at": "2018-11-21T08:36:42Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235292633",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235292633"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235292633"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235292633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 363,
    "side": "RIGHT",
    "in_reply_to_id": 235283402
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235293907",
    "pull_request_review_id": 177124381,
    "id": 235293907,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5MzkwNw==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"\n+#else\n+    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE)",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The first `0` comes from `%u` in the initial format line and `DEFAULT_MITIGATE_SPECTRE`. The second `0` comes from\r\n```C++\r\n    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE);\r\n```\r\nin the else case on line 365.",
    "created_at": "2018-11-21T08:39:45Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235293907",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235293907"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235293907"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235293907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 365,
    "side": "RIGHT",
    "in_reply_to_id": 235283644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235294926",
    "pull_request_review_id": 177125561,
    "id": 235294926,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5NDkyNg==",
    "diff_hunk": "@@ -358,6 +358,13 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (\n+#ifdef ENABLE_WALLET\n+    DEFAULT_MITIGATE_SPECTRE ? \" or 0 if -disablewallet set\" : \"0\"\n+#else\n+    strprintf(\"%u\", DEFAULT_MITIGATE_SPECTRE)",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "6dbaed44dec9ab1e41094244dd8d22ebe5a6c653",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ah, removed that line now",
    "created_at": "2018-11-21T08:42:47Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235294926",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235294926"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235294926"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235294926/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 365,
    "side": "RIGHT",
    "in_reply_to_id": 235283644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295371",
    "pull_request_review_id": 177125719,
    "id": 235295371,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5NTM3MQ==",
    "diff_hunk": "@@ -1186,6 +1211,44 @@ void RenameThread(const char* name)\n #endif\n }\n \n+void SpectreMitigation(bool enable)\n+{\n+#if defined(HAVE_SYS_PRCTL_H)",
    "path": "src/util/system.cpp",
    "position": 38,
    "original_position": 38,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please add a common prefix to these log messages to be able to quickly grep for it. E.g. `SpectreMitigation:` using `%s:` and `__func__`. It also makes it seem less to come out of the blue for users.",
    "created_at": "2018-11-21T08:44:14Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235295371",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295371"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235295371"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295371/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1216,
    "original_line": 1216,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295665",
    "pull_request_review_id": 177125719,
    "id": 235295665,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5NTY2NQ==",
    "diff_hunk": "@@ -40,6 +40,11 @@ int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n extern const char * const BITCOIN_PID_FILENAME;\n+#ifdef ENABLE_WALLET",
    "path": "src/util/system.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please don't add `#ifdef ENABLE_WALLET` in the utility code! We've only recently painstakingly removed `#ifdef ENABLE_WALLET` stuff from the `server` library, for example.\r\n\r\nAlso I think it probably should be switched based on the run-time `-disablewallet` flag as well?\r\n\r\nOr maybe: always enable it, don't make it depend on the wallet at all? What would be the drawback to that?\r\n",
    "created_at": "2018-11-21T08:45:29Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235295665",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295665"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235295665"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235295665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235296392",
    "pull_request_review_id": 177125719,
    "id": 235296392,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5NjM5Mg==",
    "diff_hunk": "@@ -358,6 +358,11 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (",
    "path": "src/init.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might want to add that this works around a CPU vulnerability, for users that don't know what `spectre` is.",
    "created_at": "2018-11-21T08:47:59Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235296392",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235296392"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235296392"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235296392/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 361,
    "original_line": 361,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235298091",
    "pull_request_review_id": 177129410,
    "id": 235298091,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5ODA5MQ==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should make it clear that this is for *linux only*.\r\nAre there other operating systems with PRCTL?",
    "created_at": "2018-11-21T08:53:36Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235298091",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235298091"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235298091"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235298091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "in_reply_to_id": 235275199
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235299243",
    "pull_request_review_id": 177130789,
    "id": 235299243,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTI5OTI0Mw==",
    "diff_hunk": "@@ -40,6 +40,11 @@ int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n extern const char * const BITCOIN_PID_FILENAME;\n+#ifdef ENABLE_WALLET",
    "path": "src/util/system.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@laanwj Performance slowdown. For a node not running a wallet having mitigation for spectre seems rather pointless, but I could be wrong on that.",
    "created_at": "2018-11-21T08:57:01Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235299243",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235299243"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235299243"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235299243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 235295665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235300149",
    "pull_request_review_id": 177131847,
    "id": 235300149,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTMwMDE0OQ==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think some emulate the interface.",
    "created_at": "2018-11-21T08:59:50Z",
    "updated_at": "2018-11-21T09:02:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235300149",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235300149"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235300149"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235300149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "in_reply_to_id": 235275199
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235301604",
    "pull_request_review_id": 177133567,
    "id": 235301604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTMwMTYwNA==",
    "diff_hunk": "@@ -40,6 +40,11 @@ int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n extern const char * const BITCOIN_PID_FILENAME;\n+#ifdef ENABLE_WALLET",
    "path": "src/util/system.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should I move that to somewhere else?",
    "created_at": "2018-11-21T09:04:20Z",
    "updated_at": "2018-11-21T09:04:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235301604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235301604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235301604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235301604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 235295665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235322856",
    "pull_request_review_id": 177159565,
    "id": 235322856,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTMyMjg1Ng==",
    "diff_hunk": "@@ -40,6 +40,11 @@ int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n extern const char * const BITCOIN_PID_FILENAME;\n+#ifdef ENABLE_WALLET",
    "path": "src/util/system.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What *is* the performance slowdown in practice?\r\nI think this needs benchmarking, if it's neglible over say, a full sync, I don't think it makes sense to do this kind of switching at all.",
    "created_at": "2018-11-21T10:05:48Z",
    "updated_at": "2018-11-21T10:05:48Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235322856",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235322856"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235322856"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235322856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 235295665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344495",
    "pull_request_review_id": 177186070,
    "id": 235344495,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTM0NDQ5NQ==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IRIX has its own prctl(), and there's no guarantee someone won't fork Linux incompatibly either - it's open source, after all.\r\n\r\nAnyone building from source should have recent enough headers to match their actual kernel anyway. Let's just make sure the gitian builds have it working, and rely on the system for source builds...?",
    "created_at": "2018-11-21T11:08:43Z",
    "updated_at": "2018-11-21T11:08:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235344495",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344495"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235344495"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "in_reply_to_id": 235275199
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344930",
    "pull_request_review_id": 177186619,
    "id": 235344930,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTM0NDkzMA==",
    "diff_hunk": "@@ -40,6 +40,11 @@ int64_t GetStartupTime();\n \n extern const char * const BITCOIN_CONF_FILENAME;\n extern const char * const BITCOIN_PID_FILENAME;\n+#ifdef ENABLE_WALLET",
    "path": "src/util/system.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Perhaps this should be a ParameterInteraction thing using SoftSetArg in the wallet logic?",
    "created_at": "2018-11-21T11:10:19Z",
    "updated_at": "2018-11-21T11:10:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235344930",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344930"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235344930"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235344930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 43,
    "original_line": 43,
    "side": "RIGHT",
    "in_reply_to_id": 235295665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235345585",
    "pull_request_review_id": 177187325,
    "id": 235345585,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTM0NTU4NQ==",
    "diff_hunk": "@@ -358,6 +358,11 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (",
    "path": "src/init.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, I wonder if it should be future-proofed by making it applicable to any other vulns we could mitigate later.",
    "created_at": "2018-11-21T11:12:14Z",
    "updated_at": "2018-11-21T11:12:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235345585",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235345585"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235345585"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235345585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 361,
    "original_line": 361,
    "side": "RIGHT",
    "in_reply_to_id": 235296392
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235445311",
    "pull_request_review_id": 177312437,
    "id": 235445311,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTQ0NTMxMQ==",
    "diff_hunk": "@@ -67,6 +67,31 @@\n \n #ifdef HAVE_SYS_PRCTL_H\n #include <sys/prctl.h>\n+// Set spectre prctl defines so that we can build on older kernels",
    "path": "src/util/system.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "aa21a4ecfc7e577a0ad3d28f572f5eef9b62dde0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Irix is an abandoned platform, I think the only other non-linux OS's that have prctl are BSD's but they seem to be just for compatibility with linux so their prctl numbers should always match. Regardless as long as those values are present in the kernel header the ones I hard coded should not get used. I didn't want to have it build this feature based on the presence of the defines in prctl.h since that would complicate the testing and logic since some of the options may not be present. For example I think `PR_SPEC_FORCE_DISABLE` was added after `PR_SPEC_DISABLE`.\r\n\r\nIf linux were to change the prctl number for these it would break on binary builds regardless, but that sounds quite unlikely with the current linux userspace API stability policy.",
    "created_at": "2018-11-21T15:58:54Z",
    "updated_at": "2018-11-21T15:58:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235445311",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235445311"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235445311"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235445311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 70,
    "original_line": 70,
    "side": "RIGHT",
    "in_reply_to_id": 235275199
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235548724",
    "pull_request_review_id": 177441215,
    "id": 235548724,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzNTU0ODcyNA==",
    "diff_hunk": "@@ -358,6 +358,11 @@ void SetupServerArgs()\n     gArgs.AddArg(\"-minimumchainwork=<hex>\", strprintf(\"Minimum work assumed to exist on a valid chain in hex (default: %s, testnet: %s)\", defaultChainParams->GetConsensus().nMinimumChainWork.GetHex(), testnetChainParams->GetConsensus().nMinimumChainWork.GetHex()), true, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-par=<n>\", strprintf(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\",\n         -GetNumCores(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS), false, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-mitigatespectre\", strprintf(\"Attempt to enable per process spectre mitigations (default: %u%s)\", DEFAULT_MITIGATE_SPECTRE, (",
    "path": "src/init.cpp",
    "position": 4,
    "original_position": 4,
    "commit_id": "e2779a07e0b1efefc27fa4d33e2c62eacf8847a1",
    "original_commit_id": "8813aaf3687b1284ea5ddd70dfd5d884bf8cbba0",
    "user": {
      "login": "jameshilliard",
      "id": 3298484,
      "node_id": "MDQ6VXNlcjMyOTg0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3298484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jameshilliard",
      "html_url": "https://github.com/jameshilliard",
      "followers_url": "https://api.github.com/users/jameshilliard/followers",
      "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions",
      "organizations_url": "https://api.github.com/users/jameshilliard/orgs",
      "repos_url": "https://api.github.com/users/jameshilliard/repos",
      "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jameshilliard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think there will soon be multiple spectre related prctl controls such as [this](https://lkml.org/lkml/2018/11/21/179).",
    "created_at": "2018-11-21T21:52:28Z",
    "updated_at": "2018-11-21T21:52:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235548724",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235548724"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14776#discussion_r235548724"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14776"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/235548724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 361,
    "original_line": 361,
    "side": "RIGHT",
    "in_reply_to_id": 235296392
  }
]