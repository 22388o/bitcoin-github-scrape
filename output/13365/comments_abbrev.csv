promag,2018-06-01T23:07:59Z,I don't think this is the correct fix. What if the caller wants an empty string? ,https://github.com/bitcoin/bitcoin/pull/13365#issuecomment-394032009,394032009,
yuntai,2018-06-04T01:28:10Z,being addressed in #13381 ,https://github.com/bitcoin/bitcoin/pull/13365#issuecomment-394211141,394211141,
sipa,2018-06-01T23:20:00Z,"This is incorrect. If `mapAddressBook` doesn't already have an entry for `address`, an empty **has** to be created, or the resulting address will be considered change.",https://github.com/bitcoin/bitcoin/pull/13365#discussion_r192535900,192535900,src/wallet/wallet.cpp
promag,2018-06-01T23:28:06Z,"Right, funny travis is green.",https://github.com/bitcoin/bitcoin/pull/13365#discussion_r192536725,192536725,src/wallet/wallet.cpp
yuntai,2018-06-02T06:40:40Z,"It's green because there is no test case where strPurpose.isEmpty(). \n\nAs far as #13087 concerned, I could think of:\n* disallow adding key when it's already in the wallet\n(so as to allow the user to recreate wallet and import the address again to change label) \n'importaddress' already disallow adding an existing address.\n\n* extend existing rpc commands (import*key) to allow the user ",https://github.com/bitcoin/bitcoin/pull/13365#discussion_r192551966,192551966,src/wallet/wallet.cpp
