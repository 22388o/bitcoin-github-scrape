[
  {
    "sha": "0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowY2MwN2Y4MmYwZDQwNDNlOTNkOGNlYTQ5MzU2Y2QyYmM1ZmZjYjI3",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-12-07T14:20:40Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-14T11:58:11Z"
      },
      "message": "[QA] add fundrawtransaction test on a locked wallet with empty keypool\n\nGithub-Pull: #9295\nRebased-From: 1a6eacbf3b7e3d5941fec1154079bbc4678ce861",
      "tree": {
        "sha": "aa5f83fc1c282962a4ff7f5f2e3f174c3c7ca2c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aa5f83fc1c282962a4ff7f5f2e3f174c3c7ca2c1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "782328660e6dc44c026d13fef4d069ad8cad4d42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/782328660e6dc44c026d13fef4d069ad8cad4d42",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/782328660e6dc44c026d13fef4d069ad8cad4d42"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 17,
      "deletions": 0
    },
    "files": [
      {
        "sha": "0dcca4cb570fd231ca76f14392a2b9d8166a17fa",
        "filename": "qa/rpc-tests/fundrawtransaction.py",
        "status": "modified",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27/qa/rpc-tests/fundrawtransaction.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27/qa/rpc-tests/fundrawtransaction.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/fundrawtransaction.py?ref=0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
        "patch": "@@ -484,6 +484,23 @@ def run_test(self):\n         self.is_network_split=False\n         self.sync_all()\n \n+        # drain the keypool\n+        self.nodes[1].getnewaddress()\n+        inputs = []\n+        outputs = {self.nodes[0].getnewaddress():1.1}\n+        rawTx = self.nodes[1].createrawtransaction(inputs, outputs)\n+        # fund a transaction that requires a new key for the change output\n+        # creating the key must be impossible because the wallet is locked\n+        try:\n+            fundedTx = self.nodes[1].fundrawtransaction(rawTx)\n+            raise AssertionError(\"Wallet unlocked without passphrase\")\n+        except JSONRPCException as e:\n+            assert('Keypool ran out' in e.error['message'])\n+\n+        #refill the keypool\n+        self.nodes[1].walletpassphrase(\"test\", 100)\n+        self.nodes[1].walletlock()\n+\n         try:\n             self.nodes[1].sendtoaddress(self.nodes[0].getnewaddress(), 1.2)\n             raise AssertionError(\"Wallet unlocked without passphrase\")"
      }
    ]
  },
  {
    "sha": "43bcfca48970b65d4eb215f20047bb99495f3727",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0M2JjZmNhNDg5NzBiNjVkNGViMjE1ZjIwMDQ3YmI5OTQ5NWYzNzI3",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-12-06T12:45:56Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-14T11:58:45Z"
      },
      "message": "[Wallet] Bugfix: FRT: don't terminate when keypool is empty\n\nGithub-Pull: #9295\nRebased-From: c24a4f5981d47d55aa9e4eb40294832a4d38fb80",
      "tree": {
        "sha": "67b0caf1e377917417297605af37cd3a7a8429fc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/67b0caf1e377917417297605af37cd3a7a8429fc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/43bcfca48970b65d4eb215f20047bb99495f3727",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43bcfca48970b65d4eb215f20047bb99495f3727",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/43bcfca48970b65d4eb215f20047bb99495f3727",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43bcfca48970b65d4eb215f20047bb99495f3727/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0cc07f82f0d4043e93d8cea49356cd2bc5ffcb27"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "5b35e49a0f25e370a948dbd25b62dd7a7b7821bc",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/43bcfca48970b65d4eb215f20047bb99495f3727/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/43bcfca48970b65d4eb215f20047bb99495f3727/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=43bcfca48970b65d4eb215f20047bb99495f3727",
        "patch": "@@ -2290,7 +2290,11 @@ bool CWallet::CreateTransaction(const vector<CRecipient>& vecSend, CWalletTx& wt\n                         CPubKey vchPubKey;\n                         bool ret;\n                         ret = reservekey.GetReservedKey(vchPubKey);\n-                        assert(ret); // should never fail, as we just unlocked\n+                        if (!ret)\n+                        {\n+                            strFailReason = _(\"Keypool ran out, please call keypoolrefill first\");\n+                            return false;\n+                        }\n \n                         scriptChange = GetScriptForDestination(vchPubKey.GetID());\n                     }"
      }
    ]
  },
  {
    "sha": "a0f7ececfd096df398fc5e4aad07f1a43760afb4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMGY3ZWNlY2ZkMDk2ZGYzOThmYzVlNGFhZDA3ZjFhNDM3NjBhZmI0",
    "commit": {
      "author": {
        "name": "Gregory Maxwell",
        "email": "greg@xiph.org",
        "date": "2016-12-12T08:10:27Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-14T12:44:43Z"
      },
      "message": "Update for OpenSSL 1.1 API\n\nGithub-Pull: #9326\nRebased-From: bae1eef752dcecfd85fa482881e1dbe4d7e9f74c b05b1af10b9a5298bd90bea439f0fd6c636e0cfa",
      "tree": {
        "sha": "5f30ba94fd65cfdd1f89489512e01204a3fa02fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5f30ba94fd65cfdd1f89489512e01204a3fa02fb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a0f7ececfd096df398fc5e4aad07f1a43760afb4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0f7ececfd096df398fc5e4aad07f1a43760afb4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a0f7ececfd096df398fc5e4aad07f1a43760afb4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0f7ececfd096df398fc5e4aad07f1a43760afb4/comments",
    "author": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "43bcfca48970b65d4eb215f20047bb99495f3727",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/43bcfca48970b65d4eb215f20047bb99495f3727",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/43bcfca48970b65d4eb215f20047bb99495f3727"
      }
    ],
    "stats": {
      "total": 52,
      "additions": 35,
      "deletions": 17
    },
    "files": [
      {
        "sha": "82be4d831f6cd632f12223959f1d5012591a1dd6",
        "filename": "src/qt/paymentrequestplus.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 5,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a0f7ececfd096df398fc5e4aad07f1a43760afb4/src/qt/paymentrequestplus.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a0f7ececfd096df398fc5e4aad07f1a43760afb4/src/qt/paymentrequestplus.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/paymentrequestplus.cpp?ref=a0f7ececfd096df398fc5e4aad07f1a43760afb4",
        "patch": "@@ -159,14 +159,24 @@ bool PaymentRequestPlus::getMerchant(X509_STORE* certStore, QString& merchant) c\n         std::string data_to_verify;                     // Everything but the signature\n         rcopy.SerializeToString(&data_to_verify);\n \n-        EVP_MD_CTX ctx;\n+#if OPENSSL_VERSION_NUMBER >= 0x10100000L\n+        EVP_MD_CTX *ctx = EVP_MD_CTX_new();\n+        if (!ctx) throw SSLVerifyError(\"Error allocating OpenSSL context.\");\n+#else\n+        EVP_MD_CTX _ctx;\n+        EVP_MD_CTX *ctx;\n+        ctx = &_ctx;\n+#endif\n         EVP_PKEY *pubkey = X509_get_pubkey(signing_cert);\n-        EVP_MD_CTX_init(&ctx);\n-        if (!EVP_VerifyInit_ex(&ctx, digestAlgorithm, NULL) ||\n-            !EVP_VerifyUpdate(&ctx, data_to_verify.data(), data_to_verify.size()) ||\n-            !EVP_VerifyFinal(&ctx, (const unsigned char*)paymentRequest.signature().data(), (unsigned int)paymentRequest.signature().size(), pubkey)) {\n+        EVP_MD_CTX_init(ctx);\n+        if (!EVP_VerifyInit_ex(ctx, digestAlgorithm, NULL) ||\n+            !EVP_VerifyUpdate(ctx, data_to_verify.data(), data_to_verify.size()) ||\n+            !EVP_VerifyFinal(ctx, (const unsigned char*)paymentRequest.signature().data(), (unsigned int)paymentRequest.signature().size(), pubkey)) {\n             throw SSLVerifyError(\"Bad signature, invalid payment request.\");\n         }\n+#if OPENSSL_VERSION_NUMBER >= 0x10100000L\n+        EVP_MD_CTX_free(ctx);\n+#endif\n \n         // OpenSSL API for getting human printable strings from certs is baroque.\n         int textlen = X509_NAME_get_text_by_NID(certname, NID_commonName, NULL, 0);"
      },
      {
        "sha": "b235b96095ce70950cffe3bc0737b87725804bb2",
        "filename": "src/wallet/test/crypto_tests.cpp",
        "status": "modified",
        "additions": 20,
        "deletions": 12,
        "changes": 32,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a0f7ececfd096df398fc5e4aad07f1a43760afb4/src/wallet/test/crypto_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a0f7ececfd096df398fc5e4aad07f1a43760afb4/src/wallet/test/crypto_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/crypto_tests.cpp?ref=a0f7ececfd096df398fc5e4aad07f1a43760afb4",
        "patch": "@@ -42,15 +42,19 @@ bool OldEncrypt(const CKeyingMaterial& vchPlaintext, std::vector<unsigned char>\n     int nCLen = nLen + AES_BLOCK_SIZE, nFLen = 0;\n     vchCiphertext = std::vector<unsigned char> (nCLen);\n \n-    EVP_CIPHER_CTX ctx;\n+    EVP_CIPHER_CTX *ctx = EVP_CIPHER_CTX_new();\n+\n+    if (!ctx) return false;\n \n     bool fOk = true;\n \n-    EVP_CIPHER_CTX_init(&ctx);\n-    if (fOk) fOk = EVP_EncryptInit_ex(&ctx, EVP_aes_256_cbc(), NULL, chKey, chIV) != 0;\n-    if (fOk) fOk = EVP_EncryptUpdate(&ctx, &vchCiphertext[0], &nCLen, &vchPlaintext[0], nLen) != 0;\n-    if (fOk) fOk = EVP_EncryptFinal_ex(&ctx, (&vchCiphertext[0]) + nCLen, &nFLen) != 0;\n-    EVP_CIPHER_CTX_cleanup(&ctx);\n+    EVP_CIPHER_CTX_init(ctx);\n+    if (fOk) fOk = EVP_EncryptInit_ex(ctx, EVP_aes_256_cbc(), NULL, chKey, chIV) != 0;\n+    if (fOk) fOk = EVP_EncryptUpdate(ctx, &vchCiphertext[0], &nCLen, &vchPlaintext[0], nLen) != 0;\n+    if (fOk) fOk = EVP_EncryptFinal_ex(ctx, (&vchCiphertext[0]) + nCLen, &nFLen) != 0;\n+    EVP_CIPHER_CTX_cleanup(ctx);\n+\n+    EVP_CIPHER_CTX_free(ctx);\n \n     if (!fOk) return false;\n \n@@ -66,15 +70,19 @@ bool OldDecrypt(const std::vector<unsigned char>& vchCiphertext, CKeyingMaterial\n \n     vchPlaintext = CKeyingMaterial(nPLen);\n \n-    EVP_CIPHER_CTX ctx;\n+    EVP_CIPHER_CTX *ctx = EVP_CIPHER_CTX_new();\n+\n+    if (!ctx) return false;\n \n     bool fOk = true;\n \n-    EVP_CIPHER_CTX_init(&ctx);\n-    if (fOk) fOk = EVP_DecryptInit_ex(&ctx, EVP_aes_256_cbc(), NULL, chKey, chIV) != 0;\n-    if (fOk) fOk = EVP_DecryptUpdate(&ctx, &vchPlaintext[0], &nPLen, &vchCiphertext[0], nLen) != 0;\n-    if (fOk) fOk = EVP_DecryptFinal_ex(&ctx, (&vchPlaintext[0]) + nPLen, &nFLen) != 0;\n-    EVP_CIPHER_CTX_cleanup(&ctx);\n+    EVP_CIPHER_CTX_init(ctx);\n+    if (fOk) fOk = EVP_DecryptInit_ex(ctx, EVP_aes_256_cbc(), NULL, chKey, chIV) != 0;\n+    if (fOk) fOk = EVP_DecryptUpdate(ctx, &vchPlaintext[0], &nPLen, &vchCiphertext[0], nLen) != 0;\n+    if (fOk) fOk = EVP_DecryptFinal_ex(ctx, (&vchPlaintext[0]) + nPLen, &nFLen) != 0;\n+    EVP_CIPHER_CTX_cleanup(ctx);\n+\n+    EVP_CIPHER_CTX_free(ctx);\n \n     if (!fOk) return false;\n "
      }
    ]
  },
  {
    "sha": "35174a0280845e9583a3af1fcf57ee1f98238539",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozNTE3NGEwMjgwODQ1ZTk1ODNhM2FmMWZjZjU3ZWUxZjk4MjM4NTM5",
    "commit": {
      "author": {
        "name": "Gregory Maxwell",
        "email": "greg@xiph.org",
        "date": "2016-12-06T06:39:14Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-14T12:55:14Z"
      },
      "message": "Make RelayWalletTransaction attempt to AcceptToMemoryPool.\n\nThis resolves an issue where a wallet transaction which failed to\n relay previously because it couldn't make it into the mempool\n will not try again until restart, even though mempool conditions\n may have changed.\n\nAbandoned and known-conflicted transactions are skipped.\n\nSome concern was expressed that there may be users with many\n unknown conflicts would waste a lot of CPU time trying to\n add them to their memory pools over and over again.  But I am\n doubtful these users exist in any number, if they do exist\n they have worse problems, and they can mitigate any performance\n issue this might have by abandoning the transactions in question.\n\nGithub-Pull: #9290\nRebased-From: f692fce8a49e05e25f1c767aae1e50db419caebe",
      "tree": {
        "sha": "f8f31f756956b3da1b95d1f129c22acd7ee1e3c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f8f31f756956b3da1b95d1f129c22acd7ee1e3c1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/35174a0280845e9583a3af1fcf57ee1f98238539",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/35174a0280845e9583a3af1fcf57ee1f98238539",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/35174a0280845e9583a3af1fcf57ee1f98238539",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/35174a0280845e9583a3af1fcf57ee1f98238539/comments",
    "author": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a0f7ececfd096df398fc5e4aad07f1a43760afb4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0f7ececfd096df398fc5e4aad07f1a43760afb4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a0f7ececfd096df398fc5e4aad07f1a43760afb4"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "0403b355853585679b9f2931b3c85f60070074a8",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/35174a0280845e9583a3af1fcf57ee1f98238539/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/35174a0280845e9583a3af1fcf57ee1f98238539/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=35174a0280845e9583a3af1fcf57ee1f98238539",
        "patch": "@@ -1449,9 +1449,10 @@ void CWallet::ReacceptWalletTransactions()\n bool CWalletTx::RelayWalletTransaction()\n {\n     assert(pwallet->GetBroadcastTransactions());\n-    if (!IsCoinBase())\n+    if (!IsCoinBase() && !isAbandoned() && GetDepthInMainChain() == 0)\n     {\n-        if (GetDepthInMainChain() == 0 && !isAbandoned() && InMempool()) {\n+        /* GetDepthInMainChain already catches known conflicts. */\n+        if (InMempool() || AcceptToMemoryPool(false, maxTxFee)) {\n             LogPrintf(\"Relaying wtx %s\\n\", GetHash().ToString());\n             RelayTransaction((CTransaction)*this);\n             return true;"
      }
    ]
  },
  {
    "sha": "f5d606e5ab0b20881cc0d58d63e6db065c59b411",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNWQ2MDZlNWFiMGIyMDg4MWNjMGQ1OGQ2M2U2ZGIwNjVjNTliNDEx",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-12-08T19:49:28Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-14T12:56:22Z"
      },
      "message": "Return txid even if ATMP fails for new transaction\n\nGithub-Pull: #9302\nRebased-From: b3a74100b86423c553ac327f3ea6fdbc2c50890a",
      "tree": {
        "sha": "8f0353aeb30bc0a305be1b9864151104f9747b8e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8f0353aeb30bc0a305be1b9864151104f9747b8e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5d606e5ab0b20881cc0d58d63e6db065c59b411",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5d606e5ab0b20881cc0d58d63e6db065c59b411",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f5d606e5ab0b20881cc0d58d63e6db065c59b411",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5d606e5ab0b20881cc0d58d63e6db065c59b411/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "35174a0280845e9583a3af1fcf57ee1f98238539",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/35174a0280845e9583a3af1fcf57ee1f98238539",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/35174a0280845e9583a3af1fcf57ee1f98238539"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 12,
      "deletions": 11
    },
    "files": [
      {
        "sha": "7f62402625ef15818e9bf91843f3fba575ac022a",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 10,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5d606e5ab0b20881cc0d58d63e6db065c59b411/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5d606e5ab0b20881cc0d58d63e6db065c59b411/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=f5d606e5ab0b20881cc0d58d63e6db065c59b411",
        "patch": "@@ -1442,7 +1442,8 @@ void CWallet::ReacceptWalletTransactions()\n         CWalletTx& wtx = *(item.second);\n \n         LOCK(mempool.cs);\n-        wtx.AcceptToMemoryPool(false, maxTxFee);\n+        CValidationState state;\n+        wtx.AcceptToMemoryPool(false, maxTxFee, state);\n     }\n }\n \n@@ -1451,8 +1452,9 @@ bool CWalletTx::RelayWalletTransaction()\n     assert(pwallet->GetBroadcastTransactions());\n     if (!IsCoinBase() && !isAbandoned() && GetDepthInMainChain() == 0)\n     {\n+        CValidationState state;\n         /* GetDepthInMainChain already catches known conflicts. */\n-        if (InMempool() || AcceptToMemoryPool(false, maxTxFee)) {\n+        if (InMempool() || AcceptToMemoryPool(false, maxTxFee, state)) {\n             LogPrintf(\"Relaying wtx %s\\n\", GetHash().ToString());\n             RelayTransaction((CTransaction)*this);\n             return true;\n@@ -2482,14 +2484,14 @@ bool CWallet::CommitTransaction(CWalletTx& wtxNew, CReserveKey& reservekey)\n \n         if (fBroadcastTransactions)\n         {\n+            CValidationState state;\n             // Broadcast\n-            if (!wtxNew.AcceptToMemoryPool(false, maxTxFee))\n-            {\n-                // This must not fail. The transaction has already been signed and recorded.\n-                LogPrintf(\"CommitTransaction(): Error: Transaction not valid\\n\");\n-                return false;\n+            if (!wtxNew.AcceptToMemoryPool(false, maxTxFee, state)) {\n+                LogPrintf(\"CommitTransaction(): Transaction cannot be broadcast immediately, %s\\n\", state.GetRejectReason());\n+                // TODO: if we expect the failure to be long term or permanent, instead delete wtx from the wallet and return failure.\n+            } else {\n+                wtxNew.RelayWalletTransaction();\n             }\n-            wtxNew.RelayWalletTransaction();\n         }\n     }\n     return true;\n@@ -3595,8 +3597,7 @@ int CMerkleTx::GetBlocksToMaturity() const\n }\n \n \n-bool CMerkleTx::AcceptToMemoryPool(bool fLimitFree, CAmount nAbsurdFee)\n+bool CMerkleTx::AcceptToMemoryPool(bool fLimitFree, CAmount nAbsurdFee, CValidationState& state)\n {\n-    CValidationState state;\n     return ::AcceptToMemoryPool(mempool, state, *this, fLimitFree, NULL, false, nAbsurdFee);\n }"
      },
      {
        "sha": "056dcc5dafa3006f7d5fe4d642d6236ca206e9f7",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5d606e5ab0b20881cc0d58d63e6db065c59b411/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5d606e5ab0b20881cc0d58d63e6db065c59b411/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=f5d606e5ab0b20881cc0d58d63e6db065c59b411",
        "patch": "@@ -213,7 +213,7 @@ class CMerkleTx : public CTransaction\n     bool IsInMainChain() const { const CBlockIndex *pindexRet; return GetDepthInMainChain(pindexRet) > 0; }\n     int GetBlocksToMaturity() const;\n     /** Pass this transaction to the mempool. Fails if absolute fee exceeds absurd fee. */\n-    bool AcceptToMemoryPool(bool fLimitFree, const CAmount nAbsurdFee);\n+    bool AcceptToMemoryPool(bool fLimitFree, const CAmount nAbsurdFee, CValidationState& state);\n     bool hashUnset() const { return (hashBlock.IsNull() || hashBlock == ABANDON_HASH); }\n     bool isAbandoned() const { return (hashBlock == ABANDON_HASH); }\n     void setAbandoned() { hashBlock = ABANDON_HASH; }"
      }
    ]
  },
  {
    "sha": "c365556185d89122a04344d2dc640cffc67f155c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMzY1NTU2MTg1ZDg5MTIyYTA0MzQ0ZDJkYzY0MGNmZmM2N2YxNTVj",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter.wuille@gmail.com",
        "date": "2016-12-06T07:26:32Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-15T19:35:06Z"
      },
      "message": "Complain when unknown rpcserialversion is specified\n\nGithub-Pull: #9292\nRebased-From: 80d073c9bca4521d512ea14ff7919d4609647b6d",
      "tree": {
        "sha": "83083f5c065deecbcd551f85c21815e765c151f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/83083f5c065deecbcd551f85c21815e765c151f7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c365556185d89122a04344d2dc640cffc67f155c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c365556185d89122a04344d2dc640cffc67f155c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c365556185d89122a04344d2dc640cffc67f155c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c365556185d89122a04344d2dc640cffc67f155c/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f5d606e5ab0b20881cc0d58d63e6db065c59b411",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5d606e5ab0b20881cc0d58d63e6db065c59b411",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f5d606e5ab0b20881cc0d58d63e6db065c59b411"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 4,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f2dbf575192fd02239d08d0c72730105bfcc1d63",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c365556185d89122a04344d2dc640cffc67f155c/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c365556185d89122a04344d2dc640cffc67f155c/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=c365556185d89122a04344d2dc640cffc67f155c",
        "patch": "@@ -364,7 +364,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-port=<port>\", strprintf(_(\"Listen for connections on <port> (default: %u or testnet: %u)\"), Params(CBaseChainParams::MAIN).GetDefaultPort(), Params(CBaseChainParams::TESTNET).GetDefaultPort()));\n     strUsage += HelpMessageOpt(\"-proxy=<ip:port>\", _(\"Connect through SOCKS5 proxy\"));\n     strUsage += HelpMessageOpt(\"-proxyrandomize\", strprintf(_(\"Randomize credentials for every proxy connection. This enables Tor stream isolation (default: %u)\"), DEFAULT_PROXYRANDOMIZE));\n-    strUsage += HelpMessageOpt(\"-rpcserialversion\", strprintf(_(\"Sets the serialization of raw transaction or block hex returned in non-verbose mode, non-segwit(0) or segwit(>0) (default: %d)\"), DEFAULT_RPC_SERIALIZE_VERSION));\n+    strUsage += HelpMessageOpt(\"-rpcserialversion\", strprintf(_(\"Sets the serialization of raw transaction or block hex returned in non-verbose mode, non-segwit(0) or segwit(1) (default: %d)\"), DEFAULT_RPC_SERIALIZE_VERSION));\n     strUsage += HelpMessageOpt(\"-seednode=<ip>\", _(\"Connect to a node to retrieve peer addresses, and disconnect\"));\n     strUsage += HelpMessageOpt(\"-timeout=<n>\", strprintf(_(\"Specify connection timeout in milliseconds (minimum: 1, default: %d)\"), DEFAULT_CONNECT_TIMEOUT));\n     strUsage += HelpMessageOpt(\"-torcontrol=<ip>:<port>\", strprintf(_(\"Tor control port to use if onion listening enabled (default: %s)\"), DEFAULT_TOR_CONTROL));\n@@ -986,6 +986,9 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n     if (GetArg(\"-rpcserialversion\", DEFAULT_RPC_SERIALIZE_VERSION) < 0)\n         return InitError(\"rpcserialversion must be non-negative.\");\n \n+    if (GetArg(\"-rpcserialversion\", DEFAULT_RPC_SERIALIZE_VERSION) > 1)\n+        return InitError(\"unknown rpcserialversion requested.\");\n+\n     nMaxTipAge = GetArg(\"-maxtipage\", DEFAULT_MAX_TIP_AGE);\n \n     fEnableReplacement = GetBoolArg(\"-mempoolreplacement\", DEFAULT_ENABLE_REPLACEMENT);"
      }
    ]
  },
  {
    "sha": "49a612f347be150b03eb6ef8fa438d2b06e26993",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OWE2MTJmMzQ3YmUxNTBiMDNlYjZlZjhmYTQzOGQyYjA2ZTI2OTkz",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-11T13:12:47Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-12-15T19:36:24Z"
      },
      "message": "[qa] Don't set unknown rpcserialversion\n\nGithub-Pull: #9322\nRebased-From: fa615d39b53a9309ef480c41ec073354c4371f40",
      "tree": {
        "sha": "c923c008fc806b046ff5a8087781874dacccf0f6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c923c008fc806b046ff5a8087781874dacccf0f6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/49a612f347be150b03eb6ef8fa438d2b06e26993",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/49a612f347be150b03eb6ef8fa438d2b06e26993",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/49a612f347be150b03eb6ef8fa438d2b06e26993",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/49a612f347be150b03eb6ef8fa438d2b06e26993/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c365556185d89122a04344d2dc640cffc67f155c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c365556185d89122a04344d2dc640cffc67f155c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c365556185d89122a04344d2dc640cffc67f155c"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 1,
      "deletions": 2
    },
    "files": [
      {
        "sha": "31a48955e5c2b98f21a5f61c728ec55bdaf5d484",
        "filename": "qa/rpc-tests/segwit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/49a612f347be150b03eb6ef8fa438d2b06e26993/qa/rpc-tests/segwit.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/49a612f347be150b03eb6ef8fa438d2b06e26993/qa/rpc-tests/segwit.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/segwit.py?ref=49a612f347be150b03eb6ef8fa438d2b06e26993",
        "patch": "@@ -85,7 +85,7 @@ def setup_chain(self):\n     def setup_network(self):\n         self.nodes = []\n         self.nodes.append(start_node(0, self.options.tmpdir, [\"-logtimemicros\", \"-debug\", \"-walletprematurewitness\", \"-rpcserialversion=0\"]))\n-        self.nodes.append(start_node(1, self.options.tmpdir, [\"-logtimemicros\", \"-debug\", \"-blockversion=4\", \"-promiscuousmempoolflags=517\", \"-prematurewitness\", \"-walletprematurewitness\", \"-rpcserialversion=2\"]))\n+        self.nodes.append(start_node(1, self.options.tmpdir, [\"-logtimemicros\", \"-debug\", \"-blockversion=4\", \"-promiscuousmempoolflags=517\", \"-prematurewitness\", \"-walletprematurewitness\", \"-rpcserialversion=1\"]))\n         self.nodes.append(start_node(2, self.options.tmpdir, [\"-logtimemicros\", \"-debug\", \"-blockversion=536870915\", \"-promiscuousmempoolflags=517\", \"-prematurewitness\", \"-walletprematurewitness\"]))\n         connect_nodes(self.nodes[1], 0)\n         connect_nodes(self.nodes[2], 1)\n@@ -215,7 +215,6 @@ def run_test(self):\n         assert_equal(len(segwit_tx_list), 5)\n \n         print(\"Verify block and transaction serialization rpcs return differing serializations depending on rpc serialization flag\")\n-        # Note: node1 has version 2, which is simply >0 and will catch future upgrades in tests\n         assert(self.nodes[2].getblock(block[0], False) !=  self.nodes[0].getblock(block[0], False))\n         assert(self.nodes[1].getblock(block[0], False) ==  self.nodes[2].getblock(block[0], False))\n         for i in range(len(segwit_tx_list)):"
      }
    ]
  }
]