[
  {
    "sha": "c02cf723f4f54e6ea7e6ec6887b620a280248c81",
    "node_id": "C_kwDOABII59oAKGMwMmNmNzIzZjRmNTRlNmVhN2U2ZWM2ODg3YjYyMGEyODAyNDhjODE",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-09-22T11:35:01Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-11-18T12:09:40Z"
      },
      "message": "test: Remove i686 from test/get_previous_releases.py\n\nIt is not possible to run the compatibility tests on i686 because the\nreleases v20+ are missing for that arch. It would be possible to\nself-compile those releases, but then one can also self-compile\n0.15-0.19.",
      "tree": {
        "sha": "37dcfaa9363b0e77a61f22cf09e28685333e168d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/37dcfaa9363b0e77a61f22cf09e28685333e168d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c02cf723f4f54e6ea7e6ec6887b620a280248c81",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGWQoUACgkQV/+b28ww\nEAlPCRAAgun0cu1lxWRQ38eaLrAJLJKnI8OaHVxB0+9B3Hv7tsbBZMJGBUCDDKFX\nI2f+YEsHUjHtAZWUj+1AOZEdwkl3hG7ct/+eVGK4I2Uqw7UhYjU2M9g7LOdXquf/\nht9bdOpaQUNRLTX29rK2kbDR+SsoD8SSa5ufXceStmfUQGAkWFNU1A7Z0SuKPyO9\nOP3wxE2lXF85CYLpQnKizQxY/NinLxNWD/xpy5J2Ihp1YMZKTuFnutYymzX8I8f0\nEG5vpq4s+Ych4WaaFY/yn1sCYA5s8qnIbXQswaaPaL38mgO7ysMCFC6SZbr7Q4Ii\n10490PCCDI+Uou78cFvcJwcKRImVkYfh9AC9A//ODU2nX9oiQqsnGBcZ4hEUiSrd\n1yzUCKlHRRjs+QI8icNlH3925LqAlkM6H7M7CdIqVdV9oqEXDLrh1ISqMYuOqUcA\nDB2xFHVBp184jfuY9mfvPCuv6IkIjIQ1uwuSeXKsAftdvRKxJ2Dp8g2P0o64Mdj/\nTnTZJ2NrI9CXa92jKNyLJsu8O93noSFLh+0SVlen85xofu45NG8q6uX+ERvhyHSk\nuudSHc1xNYYgHg6N7XE2pz99uRuZds9RmJAYVtYAaCnlFqo/mdSthjuNFvhzFEuR\nTuNUog6rwG+6sgT2d2V3eB+x8x/6/WghMl+x3GgsquryyWK6m2Q=\n=mnr2\n-----END PGP SIGNATURE-----",
        "payload": "tree 37dcfaa9363b0e77a61f22cf09e28685333e168d\nparent fe03f7a37fd0ef05149161f6b95a25493e1fe38f\nauthor MarcoFalke <falke.marco@gmail.com> 1632310501 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1637237380 +0100\n\ntest: Remove i686 from test/get_previous_releases.py\n\nIt is not possible to run the compatibility tests on i686 because the\nreleases v20+ are missing for that arch. It would be possible to\nself-compile those releases, but then one can also self-compile\n0.15-0.19.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c02cf723f4f54e6ea7e6ec6887b620a280248c81",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c02cf723f4f54e6ea7e6ec6887b620a280248c81",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c02cf723f4f54e6ea7e6ec6887b620a280248c81/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fe03f7a37fd0ef05149161f6b95a25493e1fe38f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fe03f7a37fd0ef05149161f6b95a25493e1fe38f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fe03f7a37fd0ef05149161f6b95a25493e1fe38f"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 0,
      "deletions": 5
    },
    "files": [
      {
        "sha": "0a54e18f4ff52d1cbfc3ca8a2cbfc1e0a8b7600e",
        "filename": "test/get_previous_releases.py",
        "status": "modified",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c02cf723f4f54e6ea7e6ec6887b620a280248c81/test/get_previous_releases.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c02cf723f4f54e6ea7e6ec6887b620a280248c81/test/get_previous_releases.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/get_previous_releases.py?ref=c02cf723f4f54e6ea7e6ec6887b620a280248c81",
        "patch": "@@ -23,32 +23,27 @@\n SHA256_SUMS = {\n     \"d40f18b4e43c6e6370ef7db9131f584fbb137276ec2e3dba67a4b267f81cb644\": \"bitcoin-0.15.2-aarch64-linux-gnu.tar.gz\",\n     \"54fb877a148a6ad189a1e1ab1ff8b11181e58ff2aaf430da55b3fd46ae549a6b\": \"bitcoin-0.15.2-arm-linux-gnueabihf.tar.gz\",\n-    \"2b843506c3f1af0eeca5854a920264f9a829f02d0d50328005950ddcbe88874d\": \"bitcoin-0.15.2-i686-pc-linux-gnu.tar.gz\",\n     \"87e9340ff3d382d543b2b69112376077f0c8b4f7450d372e83b68f5a1e22b2df\": \"bitcoin-0.15.2-osx64.tar.gz\",\n     \"566be44190fd76daa01f13d428939dadfb8e3daacefc8fa17f433cad28f73bd5\": \"bitcoin-0.15.2-x86_64-linux-gnu.tar.gz\",\n     #\n     \"0768c6c15caffbaca6524824c9563b42c24f70633c681c2744649158aa3fd484\": \"bitcoin-0.16.3-aarch64-linux-gnu.tar.gz\",\n     \"fb2818069854a6ad20ea03b28b55dbd35d8b1f7d453e90b83eace5d0098a2a87\": \"bitcoin-0.16.3-arm-linux-gnueabihf.tar.gz\",\n-    \"75a537844313b0a84bdb61ffcdc5c4ce19a738f7ddf71007cd2edf664efd7c37\": \"bitcoin-0.16.3-i686-pc-linux-gnu.tar.gz\",\n     \"78c3bff3b619a19aed575961ea43cc9e142959218835cf51aede7f0b764fc25d\": \"bitcoin-0.16.3-osx64.tar.gz\",\n     \"5d422a9d544742bc0df12427383f9c2517433ce7b58cf672b9a9b17c2ef51e4f\": \"bitcoin-0.16.3-x86_64-linux-gnu.tar.gz\",\n     #\n     \"5a6b35d1a348a402f2d2d6ab5aed653a1a1f13bc63aaaf51605e3501b0733b7a\": \"bitcoin-0.17.2-aarch64-linux-gnu.tar.gz\",\n     \"d1913a5d19c8e8da4a67d1bd5205d03c8614dfd2e02bba2fe3087476643a729e\": \"bitcoin-0.17.2-arm-linux-gnueabihf.tar.gz\",\n-    \"d295fc93f39bbf0fd937b730a93184899a2eb6c3a6d53f3d857cbe77ef89b98c\": \"bitcoin-0.17.2-i686-pc-linux-gnu.tar.gz\",\n     \"a783ba20706dbfd5b47fbedf42165fce70fbbc7d78003305d964f6b3da14887f\": \"bitcoin-0.17.2-osx64.tar.gz\",\n     \"943f9362b9f11130177839116f48f809d83478b4c28591d486ee9a7e35179da6\": \"bitcoin-0.17.2-x86_64-linux-gnu.tar.gz\",\n     #\n     \"88f343af72803b851c7da13874cc5525026b0b55e63e1b5e1298390c4688adc6\": \"bitcoin-0.18.1-aarch64-linux-gnu.tar.gz\",\n     \"cc7d483e4b20c5dabd4dcaf304965214cf4934bcc029ca99cbc9af00d3771a1f\": \"bitcoin-0.18.1-arm-linux-gnueabihf.tar.gz\",\n-    \"989e847b3e95fc9fedc0b109cae1b4fa43348f2f712e187a118461876af9bd16\": \"bitcoin-0.18.1-i686-pc-linux-gnu.tar.gz\",\n     \"b7bbcee7a7540f711b171d6981f939ca8482005fde22689bc016596d80548bb1\": \"bitcoin-0.18.1-osx64.tar.gz\",\n     \"425ee5ec631ae8da71ebc1c3f5c0269c627cf459379b9b030f047107a28e3ef8\": \"bitcoin-0.18.1-riscv64-linux-gnu.tar.gz\",\n     \"600d1db5e751fa85903e935a01a74f5cc57e1e7473c15fd3e17ed21e202cfe5a\": \"bitcoin-0.18.1-x86_64-linux-gnu.tar.gz\",\n     #\n     \"3a80431717842672df682bdb619e66523b59541483297772a7969413be3502ff\": \"bitcoin-0.19.1-aarch64-linux-gnu.tar.gz\",\n     \"657f28213823d240dd3324d14829702f9ad6f0710f8bdd1c379cb3c447197f48\": \"bitcoin-0.19.1-arm-linux-gnueabihf.tar.gz\",\n-    \"10d1e53208aa7603022f4acc084a046299ab4ccf25fe01e81b3fb6f856772589\": \"bitcoin-0.19.1-i686-pc-linux-gnu.tar.gz\",\n     \"1ae1b87de26487075cd2fd22e0d4ead87d969bd55c44f2f1d873ecdc6147ebb3\": \"bitcoin-0.19.1-osx64.tar.gz\",\n     \"aa7a9563b48aa79252c8e7b6a41c07a5441bd9f14c5e4562cc72720ea6cb0ee5\": \"bitcoin-0.19.1-riscv64-linux-gnu.tar.gz\",\n     \"5fcac9416e486d4960e1a946145566350ca670f9aaba99de6542080851122e4c\": \"bitcoin-0.19.1-x86_64-linux-gnu.tar.gz\","
      }
    ]
  },
  {
    "sha": "941ab614bc17a55e03986621755d19de15040bca",
    "node_id": "C_kwDOABII59oAKDk0MWFiNjE0YmMxN2E1NWUwMzk4NjYyMTc1NWQxOWRlMTUwNDBiY2E",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2020-05-19T10:02:49Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-12-01T05:18:50Z"
      },
      "message": "test: backwards compatibility: misc fixes\n\nThis cleanup may slightly impact test coverage.\n\nReduce code repition by looping over the list of nodes.\n\nReduce brittleness by refering to nodes by name rather than index.\n\nAdd helper method nodes_wallet_dir.",
      "tree": {
        "sha": "6f028f355aed3fdf2e84dd8a4a996221757db25f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f028f355aed3fdf2e84dd8a4a996221757db25f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/941ab614bc17a55e03986621755d19de15040bca",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGnBboACgkQV/+b28ww\nEAkWSA/+LhF1XRQQ8pdFGk374Xsl/SZerePoi4Qyis2RF/FtdrIR1XtjGTYKI7Xf\nm6OC5rgBjsAkcS2adB9UPW7M1zRvFuFbw319KtsE0w4J9bC+ALcneK1zN0AOhY6s\nVeXCanh1OUEAY0P2kI2YOcEL1/vva+tyft8E3gIxCD0A5LBuYweDeHESBCyLzAFV\nf4jV+pwGbVfuFAzsTTtVJTdgzi82qdml20hmTGJBHPXBi8SUqOigva776mPJ85Or\nR7JBBNxQe/aqKhNCNN8+jO2WIDKbi58Gp61SPYovoSExdBNRuYqdDjQDc6GeH2h5\nL9MkbHbCqmGw9Neiz1DVv6hhJNXEQxe+U/KVt5bqqfEhrYq34W8aeEUQR/Y9vXTn\naJ8Jg7uUzdwDMJVS7B1G5VCVe1hCmb1+ukir85MbRXWdIzj9QKs2ENcilh8wVx6w\nsL5R+d4CSb4RMsNoBrqlLA9P8Oj5Un0dxZVNBp6JpLGPPb9NLuHWPQ1ion+rZxjz\n60GOt1DokDLHfiO1mUzMpi4s+4vOHHo89PW1Xo9kP7UR/82fjmW2A4/425zVcOFt\n3Dy56LOUznwomti9EXHcIznqQF2B/GxjZM8ZmzW5FBKlMOzcl20Xa+v42gBSnilX\nwzMenKyLovmCzjXDLpVvLnCMuLJv8m1Z7I5VqyADiyABOZ9KSeo=\n=gcnn\n-----END PGP SIGNATURE-----",
        "payload": "tree 6f028f355aed3fdf2e84dd8a4a996221757db25f\nparent c02cf723f4f54e6ea7e6ec6887b620a280248c81\nauthor Sjors Provoost <sjors@sprovoost.nl> 1589882569 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1638335930 +0700\n\ntest: backwards compatibility: misc fixes\n\nThis cleanup may slightly impact test coverage.\n\nReduce code repition by looping over the list of nodes.\n\nReduce brittleness by refering to nodes by name rather than index.\n\nAdd helper method nodes_wallet_dir.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/941ab614bc17a55e03986621755d19de15040bca",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/941ab614bc17a55e03986621755d19de15040bca",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/941ab614bc17a55e03986621755d19de15040bca/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c02cf723f4f54e6ea7e6ec6887b620a280248c81",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c02cf723f4f54e6ea7e6ec6887b620a280248c81",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c02cf723f4f54e6ea7e6ec6887b620a280248c81"
      }
    ],
    "stats": {
      "total": 263,
      "additions": 80,
      "deletions": 183
    },
    "files": [
      {
        "sha": "df18efb6d237fc87e150acd287394bc4e14decec",
        "filename": "test/functional/feature_backwards_compatibility.py",
        "status": "modified",
        "additions": 80,
        "deletions": 183,
        "changes": 263,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/941ab614bc17a55e03986621755d19de15040bca/test/functional/feature_backwards_compatibility.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/941ab614bc17a55e03986621755d19de15040bca/test/functional/feature_backwards_compatibility.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_backwards_compatibility.py?ref=941ab614bc17a55e03986621755d19de15040bca",
        "patch": "@@ -63,19 +63,27 @@ def setup_nodes(self):\n         self.start_nodes()\n         self.import_deterministic_coinbase_privkeys()\n \n-    def run_test(self):\n-        self.generatetoaddress(self.nodes[0], COINBASE_MATURITY + 1, self.nodes[0].getnewaddress())\n-\n-        # Sanity check the test framework:\n-        res = self.nodes[self.num_nodes - 1].getblockchaininfo()\n-        assert_equal(res['blocks'], COINBASE_MATURITY + 1)\n+    def nodes_wallet_dir(self, node):\n+        if node.version < 170000:\n+            return os.path.join(node.datadir, \"regtest\")\n+        return os.path.join(node.datadir, \"regtest/wallets\")\n \n-        node_master = self.nodes[self.num_nodes - 5]\n+    def run_test(self):\n+        node_miner = self.nodes[0]\n+        node_master = self.nodes[1]\n         node_v19 = self.nodes[self.num_nodes - 4]\n         node_v18 = self.nodes[self.num_nodes - 3]\n         node_v17 = self.nodes[self.num_nodes - 2]\n         node_v16 = self.nodes[self.num_nodes - 1]\n \n+        legacy_nodes = self.nodes[2:]\n+\n+        self.generatetoaddress(node_miner, COINBASE_MATURITY + 1, node_miner.getnewaddress())\n+\n+        # Sanity check the test framework:\n+        res = node_v16.getblockchaininfo()\n+        assert_equal(res['blocks'], COINBASE_MATURITY + 1)\n+\n         self.log.info(\"Test wallet backwards compatibility...\")\n         # Create a number of wallets and open them in older versions:\n \n@@ -88,21 +96,21 @@ def run_test(self):\n         assert info['keypoolsize'] > 0\n         # Create a confirmed transaction, receiving coins\n         address = wallet.getnewaddress()\n-        self.nodes[0].sendtoaddress(address, 10)\n+        node_miner.sendtoaddress(address, 10)\n         self.sync_mempools()\n-        self.generate(self.nodes[0], 1)\n+        self.generate(node_miner, 1)\n         # Create a conflicting transaction using RBF\n-        return_address = self.nodes[0].getnewaddress()\n-        tx1_id = self.nodes[1].sendtoaddress(return_address, 1)\n-        tx2_id = self.nodes[1].bumpfee(tx1_id)[\"txid\"]\n+        return_address = node_miner.getnewaddress()\n+        tx1_id = node_master.sendtoaddress(return_address, 1)\n+        tx2_id = node_master.bumpfee(tx1_id)[\"txid\"]\n         # Confirm the transaction\n         self.sync_mempools()\n-        self.generate(self.nodes[0], 1)\n+        self.generate(node_miner, 1)\n         # Create another conflicting transaction using RBF\n-        tx3_id = self.nodes[1].sendtoaddress(return_address, 1)\n-        tx4_id = self.nodes[1].bumpfee(tx3_id)[\"txid\"]\n+        tx3_id = node_master.sendtoaddress(return_address, 1)\n+        tx4_id = node_master.bumpfee(tx3_id)[\"txid\"]\n         # Abandon transaction, but don't confirm\n-        self.nodes[1].abandontransaction(tx3_id)\n+        node_master.abandontransaction(tx3_id)\n \n         # w1_v19: regular wallet, created with v0.19\n         node_v19.rpc.createwallet(wallet_name=\"w1_v19\")\n@@ -113,6 +121,7 @@ def run_test(self):\n         # Use addmultisigaddress (see #18075)\n         address_18075 = wallet.rpc.addmultisigaddress(1, [\"0296b538e853519c726a2c91e61ec11600ae1390813a627c66fb8be7947be63c52\", \"037211a824f55b505228e4c3d5194c1fcfaa15a456abdf37f9b9d97a4040afc073\"], \"\", \"legacy\")[\"address\"]\n         assert wallet.getaddressinfo(address_18075)[\"solvable\"]\n+        node_v19.unloadwallet(\"w1_v19\")\n \n         # w1_v18: regular wallet, created with v0.18\n         node_v18.rpc.createwallet(wallet_name=\"w1_v18\")\n@@ -130,20 +139,6 @@ def run_test(self):\n         assert info['private_keys_enabled'] == False\n         assert info['keypoolsize'] == 0\n \n-        # w2_v19: wallet with private keys disabled, created with v0.19\n-        node_v19.rpc.createwallet(wallet_name=\"w2_v19\", disable_private_keys=True)\n-        wallet = node_v19.get_wallet_rpc(\"w2_v19\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n-        # w2_v18: wallet with private keys disabled, created with v0.18\n-        node_v18.rpc.createwallet(wallet_name=\"w2_v18\", disable_private_keys=True)\n-        wallet = node_v18.get_wallet_rpc(\"w2_v18\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n-\n         # w3: blank wallet, created on master: update this\n         #     test when default blank wallets can no longer be opened by older versions.\n         node_master.createwallet(wallet_name=\"w3\", blank=True)\n@@ -152,194 +147,96 @@ def run_test(self):\n         assert info['private_keys_enabled']\n         assert info['keypoolsize'] == 0\n \n-        # w3_v19: blank wallet, created with v0.19\n-        node_v19.rpc.createwallet(wallet_name=\"w3_v19\", blank=True)\n-        wallet = node_v19.get_wallet_rpc(\"w3_v19\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n-\n-        # w3_v18: blank wallet, created with v0.18\n-        node_v18.rpc.createwallet(wallet_name=\"w3_v18\", blank=True)\n-        wallet = node_v18.get_wallet_rpc(\"w3_v18\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] == 0\n-\n-        # Copy the wallets to older nodes:\n+        # Unload wallets and copy to older nodes:\n         node_master_wallets_dir = os.path.join(node_master.datadir, \"regtest/wallets\")\n         node_v19_wallets_dir = os.path.join(node_v19.datadir, \"regtest/wallets\")\n-        node_v18_wallets_dir = os.path.join(node_v18.datadir, \"regtest/wallets\")\n         node_v17_wallets_dir = os.path.join(node_v17.datadir, \"regtest/wallets\")\n         node_v16_wallets_dir = os.path.join(node_v16.datadir, \"regtest\")\n         node_master.unloadwallet(\"w1\")\n         node_master.unloadwallet(\"w2\")\n-        node_v19.unloadwallet(\"w1_v19\")\n-        node_v19.unloadwallet(\"w2_v19\")\n-        node_v18.unloadwallet(\"w1_v18\")\n-        node_v18.unloadwallet(\"w2_v18\")\n-\n-        # Copy wallets to v0.16\n-        for wallet in os.listdir(node_master_wallets_dir):\n-            shutil.copytree(\n-                os.path.join(node_master_wallets_dir, wallet),\n-                os.path.join(node_v16_wallets_dir, wallet)\n-            )\n+        node_master.unloadwallet(\"w3\")\n \n-        # Copy wallets to v0.17\n-        for wallet in os.listdir(node_master_wallets_dir):\n-            shutil.copytree(\n-                os.path.join(node_master_wallets_dir, wallet),\n-                os.path.join(node_v17_wallets_dir, wallet)\n-            )\n-        for wallet in os.listdir(node_v18_wallets_dir):\n-            shutil.copytree(\n-                os.path.join(node_v18_wallets_dir, wallet),\n-                os.path.join(node_v17_wallets_dir, wallet)\n-            )\n-\n-        # Copy wallets to v0.18\n-        for wallet in os.listdir(node_master_wallets_dir):\n-            shutil.copytree(\n-                os.path.join(node_master_wallets_dir, wallet),\n-                os.path.join(node_v18_wallets_dir, wallet)\n-            )\n-\n-        # Copy wallets to v0.19\n-        for wallet in os.listdir(node_master_wallets_dir):\n-            shutil.copytree(\n-                os.path.join(node_master_wallets_dir, wallet),\n-                os.path.join(node_v19_wallets_dir, wallet)\n-            )\n+        for node in legacy_nodes:\n+            # Copy wallets to previous version\n+            for wallet in os.listdir(node_master_wallets_dir):\n+                shutil.copytree(\n+                    os.path.join(node_master_wallets_dir, wallet),\n+                    os.path.join(self.nodes_wallet_dir(node), wallet)\n+                )\n \n         if not self.options.descriptors:\n             # Descriptor wallets break compatibility, only run this test for legacy wallet\n-            # Open the wallets in v0.19\n-            node_v19.loadwallet(\"w1\")\n-            wallet = node_v19.get_wallet_rpc(\"w1\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled']\n-            assert info['keypoolsize'] > 0\n-            txs = wallet.listtransactions()\n-            assert_equal(len(txs), 5)\n-            assert_equal(txs[1][\"txid\"], tx1_id)\n-            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-            assert not(txs[1][\"abandoned\"])\n-            assert_equal(txs[1][\"confirmations\"], -1)\n-            assert_equal(txs[2][\"blockindex\"], 1)\n-            assert txs[3][\"abandoned\"]\n-            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-            assert not(hasattr(txs[3], \"blockindex\"))\n-\n-            node_v19.loadwallet(\"w2\")\n-            wallet = node_v19.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled'] == False\n-            assert info['keypoolsize'] == 0\n-\n-            node_v19.loadwallet(\"w3\")\n-            wallet = node_v19.get_wallet_rpc(\"w3\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled']\n-            assert info['keypoolsize'] == 0\n-\n-            # Open the wallets in v0.18\n-            node_v18.loadwallet(\"w1\")\n-            wallet = node_v18.get_wallet_rpc(\"w1\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled']\n-            assert info['keypoolsize'] > 0\n-            txs = wallet.listtransactions()\n-            assert_equal(len(txs), 5)\n-            assert_equal(txs[1][\"txid\"], tx1_id)\n-            assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n-            assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n-            assert not(txs[1][\"abandoned\"])\n-            assert_equal(txs[1][\"confirmations\"], -1)\n-            assert_equal(txs[2][\"blockindex\"], 1)\n-            assert txs[3][\"abandoned\"]\n-            assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n-            assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n-            assert not(hasattr(txs[3], \"blockindex\"))\n-\n-            node_v18.loadwallet(\"w2\")\n-            wallet = node_v18.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled'] == False\n-            assert info['keypoolsize'] == 0\n-\n-            node_v18.loadwallet(\"w3\")\n-            wallet = node_v18.get_wallet_rpc(\"w3\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled']\n-            assert info['keypoolsize'] == 0\n-\n-            node_v17.loadwallet(\"w1\")\n-            wallet = node_v17.get_wallet_rpc(\"w1\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled']\n-            assert info['keypoolsize'] > 0\n-\n-            node_v17.loadwallet(\"w2\")\n-            wallet = node_v17.get_wallet_rpc(\"w2\")\n-            info = wallet.getwalletinfo()\n-            assert info['private_keys_enabled'] == False\n-            assert info['keypoolsize'] == 0\n+            # Load modern wallet with older nodes\n+            for node in legacy_nodes:\n+                for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                    if node.version < 170000:\n+                        # loadwallet was introduced in v0.17.0\n+                        continue\n+                    if node.version < 180000 and wallet_name == \"w3\":\n+                        # Blank wallets were introduced in v0.18.0. We test the loading error below.\n+                        continue\n+                    node.loadwallet(wallet_name)\n+                    wallet = node.get_wallet_rpc(wallet_name)\n+                    info = wallet.getwalletinfo()\n+                    if wallet_name == \"w1\":\n+                        assert info['private_keys_enabled'] == True\n+                        assert info['keypoolsize'] > 0\n+                        txs = wallet.listtransactions()\n+                        assert_equal(len(txs), 5)\n+                        assert_equal(txs[1][\"txid\"], tx1_id)\n+                        assert_equal(txs[2][\"walletconflicts\"], [tx1_id])\n+                        assert_equal(txs[1][\"replaced_by_txid\"], tx2_id)\n+                        assert not(txs[1][\"abandoned\"])\n+                        assert_equal(txs[1][\"confirmations\"], -1)\n+                        assert_equal(txs[2][\"blockindex\"], 1)\n+                        assert txs[3][\"abandoned\"]\n+                        assert_equal(txs[4][\"walletconflicts\"], [tx3_id])\n+                        assert_equal(txs[3][\"replaced_by_txid\"], tx4_id)\n+                        assert not(hasattr(txs[3], \"blockindex\"))\n+                    elif wallet_name == \"w2\":\n+                        assert(info['private_keys_enabled'] == False)\n+                        assert info['keypoolsize'] == 0\n+                    else:\n+                        assert(info['private_keys_enabled'] == True)\n+                        assert info['keypoolsize'] == 0\n         else:\n-            # Descriptor wallets appear to be corrupted wallets to old software\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v19.loadwallet, \"w1\")\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v19.loadwallet, \"w2\")\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v19.loadwallet, \"w3\")\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v18.loadwallet, \"w1\")\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v18.loadwallet, \"w2\")\n-            assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node_v18.loadwallet, \"w3\")\n-\n-        # Open the wallets in v0.17\n-        node_v17.loadwallet(\"w1_v18\")\n-        wallet = node_v17.get_wallet_rpc(\"w1_v18\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled']\n-        assert info['keypoolsize'] > 0\n-\n-        node_v17.loadwallet(\"w2_v18\")\n-        wallet = node_v17.get_wallet_rpc(\"w2_v18\")\n-        info = wallet.getwalletinfo()\n-        assert info['private_keys_enabled'] == False\n-        assert info['keypoolsize'] == 0\n+            for node in legacy_nodes:\n+                # Descriptor wallets appear to be corrupted wallets to old software\n+                # and loadwallet is introduced in v0.17.0\n+                if node.version >= 170000 and node.version < 210000:\n+                    for wallet_name in [\"w1\", \"w2\", \"w3\"]:\n+                        assert_raises_rpc_error(-4, \"Wallet file verification failed: wallet.dat corrupt, salvage failed\", node.loadwallet, wallet_name)\n \n         # RPC loadwallet failure causes bitcoind to exit, in addition to the RPC\n         # call failure, so the following test won't work:\n-        # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3_v18')\n+        # assert_raises_rpc_error(-4, \"Wallet loading failed.\", node_v17.loadwallet, 'w3')\n \n         # Instead, we stop node and try to launch it with the wallet:\n-        self.stop_node(4)\n-        node_v17.assert_start_raises_init_error([\"-wallet=w3_v18\"], \"Error: Error loading w3_v18: Wallet requires newer version of Bitcoin Core\")\n+        self.stop_node(node_v17.index)\n         if self.options.descriptors:\n             # Descriptor wallets appear to be corrupted wallets to old software\n             node_v17.assert_start_raises_init_error([\"-wallet=w1\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w2\"], \"Error: wallet.dat corrupt, salvage failed\")\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: wallet.dat corrupt, salvage failed\")\n         else:\n             node_v17.assert_start_raises_init_error([\"-wallet=w3\"], \"Error: Error loading w3: Wallet requires newer version of Bitcoin Core\")\n-        self.start_node(4)\n+        self.start_node(node_v17.index)\n \n         if not self.options.descriptors:\n             # Descriptor wallets break compatibility, only run this test for legacy wallets\n             # Open most recent wallet in v0.16 (no loadwallet RPC)\n-            self.restart_node(5, extra_args=[\"-wallet=w2\"])\n+            self.restart_node(node_v16.index, extra_args=[\"-wallet=w2\"])\n             wallet = node_v16.get_wallet_rpc(\"w2\")\n             info = wallet.getwalletinfo()\n             assert info['keypoolsize'] == 1\n \n         # Create upgrade wallet in v0.16\n-        self.restart_node(-1, extra_args=[\"-wallet=u1_v16\"])\n+        self.restart_node(node_v16.index, extra_args=[\"-wallet=u1_v16\"])\n         wallet = node_v16.get_wallet_rpc(\"u1_v16\")\n         v16_addr = wallet.getnewaddress('', \"bech32\")\n         v16_info = wallet.validateaddress(v16_addr)\n         v16_pubkey = v16_info['pubkey']\n-        self.stop_node(-1)\n+        self.stop_node(node_v16.index)\n \n         self.log.info(\"Test wallet upgrade path...\")\n         # u1: regular wallet, created with v0.17\n@@ -371,7 +268,7 @@ def run_test(self):\n                 os.path.join(node_master_wallets_dir, \"u1_v16\"),\n                 os.path.join(node_v16_wallets_dir, \"wallets/u1_v16\")\n             )\n-            self.start_node(-1, extra_args=[\"-wallet=u1_v16\"])\n+            self.start_node(node_v16.index, extra_args=[\"-wallet=u1_v16\"])\n             wallet = node_v16.get_wallet_rpc(\"u1_v16\")\n             info = wallet.validateaddress(v16_addr)\n             assert_equal(info, v16_info)"
      }
    ]
  },
  {
    "sha": "5aa77a776ae3a639bdd7dc44cc09651abc701abe",
    "node_id": "C_kwDOABII59oAKDVhYTc3YTc3NmFlM2E2MzliZGQ3ZGM0NGNjMDk2NTFhYmM3MDFhYmU",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-11-18T14:06:49Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-12-01T05:18:50Z"
      },
      "message": "test: v0.20.1 backwards compatibility\n\nThe file checksums were added in an earlier commit. Since the DMG\nfile is never downloaded, we drop that checksum.",
      "tree": {
        "sha": "434d5637789de6c9cfd3bce80155409f8baaf356",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/434d5637789de6c9cfd3bce80155409f8baaf356"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5aa77a776ae3a639bdd7dc44cc09651abc701abe",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGnBboACgkQV/+b28ww\nEAn/VxAAjGlfCXJ/gfXo0Ho4dGpEk0ZwtTU4Cb24+Z4O38lVYlV2gB4KWg4zTh6k\nB3s2c9AleHQg2W3LwNO+5WVffGrqYJ/pbZOHuemQ3DAnUi+3+g2m1EFa0Xsos9mn\nFU43+/P6foyHoicgLzxYfRCDDMNm3H8WkVkX4tyjts7HEju5nXOdBxhsIhDF6B2M\ngSDK0ng+5trOtZCWw1N+fT0/9J+mhpa9hYUjbNeB7HtDfMecoueVG61LWMMMvi1C\nTkY3MmV7V1pFBKoQoV/N2ZrfAJNtlOvo64EZW8q2rQfWGV/hO7UdAox4iiD7iyb4\ncawWhI7YHdA7HXlExW446PVKkGI4WTrXQB98Ipfqn34SUEd9XdSC3Xw4A51A3NLu\nbckitdKjZHfjZIe1ecME8j+BQAX/SH1gjeQZFensImQDq9BoqtRLbZ5j4PZGNNqA\n32OsBmjzlJhA/tIKvkGno8hOQet4NFmLGMsdKKVNhQk/pCAJv68BseIYys8Yhpkb\nIe9sSteEJnDIio3OGVReeEnF89pVl5vtaO66RDq9VcBSCaVBsOMGmaf6wbct+cMA\nRFN6PimUV85NmqEGMbw6ntNjmZ16zn2hwEhDCMrS9SnPCgYtnsc6ANz5/Jya9upt\ne102JK0VjN1sLWF31bEDwt7G3l1CtiigBk/YYsPJhwRW7zmFlj4=\n=pYnw\n-----END PGP SIGNATURE-----",
        "payload": "tree 434d5637789de6c9cfd3bce80155409f8baaf356\nparent 941ab614bc17a55e03986621755d19de15040bca\nauthor Sjors Provoost <sjors@sprovoost.nl> 1637244409 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1638335930 +0700\n\ntest: v0.20.1 backwards compatibility\n\nThe file checksums were added in an earlier commit. Since the DMG\nfile is never downloaded, we drop that checksum.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5aa77a776ae3a639bdd7dc44cc09651abc701abe",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5aa77a776ae3a639bdd7dc44cc09651abc701abe",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5aa77a776ae3a639bdd7dc44cc09651abc701abe/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "941ab614bc17a55e03986621755d19de15040bca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/941ab614bc17a55e03986621755d19de15040bca",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/941ab614bc17a55e03986621755d19de15040bca"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "d299a64759abf1cc4135858b724fb9d0ae76b832",
        "filename": "test/functional/feature_backwards_compatibility.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5aa77a776ae3a639bdd7dc44cc09651abc701abe/test/functional/feature_backwards_compatibility.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5aa77a776ae3a639bdd7dc44cc09651abc701abe/test/functional/feature_backwards_compatibility.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_backwards_compatibility.py?ref=5aa77a776ae3a639bdd7dc44cc09651abc701abe",
        "patch": "@@ -34,11 +34,12 @@\n class BackwardsCompatibilityTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 6\n+        self.num_nodes = 7\n         # Add new version after each release:\n         self.extra_args = [\n             [\"-addresstype=bech32\"], # Pre-release: use to mine blocks\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # Pre-release: use to receive coins, swap wallets, etc\n+            [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.20.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.19.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.18.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.17.2\n@@ -54,6 +55,7 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args=self.extra_args, versions=[\n             None,\n             None,\n+            200100,\n             190100,\n             180100,\n             170200,"
      },
      {
        "sha": "75c20daf2751f3010e5dedd137c9bf31fde96d1e",
        "filename": "test/get_previous_releases.py",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5aa77a776ae3a639bdd7dc44cc09651abc701abe/test/get_previous_releases.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5aa77a776ae3a639bdd7dc44cc09651abc701abe/test/get_previous_releases.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/get_previous_releases.py?ref=5aa77a776ae3a639bdd7dc44cc09651abc701abe",
        "patch": "@@ -51,7 +51,6 @@\n     \"60c93e3462c303eb080be7cf623f1a7684b37fd47a018ad3848bc23e13c84e1c\": \"bitcoin-0.20.1-aarch64-linux-gnu.tar.gz\",\n     \"55b577e0fb306fb429d4be6c9316607753e8543e5946b542d75d876a2f08654c\": \"bitcoin-0.20.1-arm-linux-gnueabihf.tar.gz\",\n     \"b9024dde373ea7dad707363e07ec7e265383204127539ae0c234bff3a61da0d1\": \"bitcoin-0.20.1-osx64.tar.gz\",\n-    \"c378d4e21109f09e8829f3591e015c66632dff2925a60b64d259be05a334c30b\": \"bitcoin-0.20.1-osx.dmg\",\n     \"fa71cb52ee5e0459cbf5248cdec72df27995840c796f58b304607a1ed4c165af\": \"bitcoin-0.20.1-riscv64-linux-gnu.tar.gz\",\n     \"376194f06596ecfa40331167c39bc70c355f960280bd2a645fdbf18f66527397\": \"bitcoin-0.20.1-x86_64-linux-gnu.tar.gz\",\n }"
      }
    ]
  },
  {
    "sha": "dc6dbf83914f6c5993ca4036702fc280f07d03ea",
    "node_id": "C_kwDOABII59oAKGRjNmRiZjgzOTE0ZjZjNTk5M2NhNDAzNjcwMmZjMjgwZjA3ZDAzZWE",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-02-24T16:28:58Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-12-01T05:18:50Z"
      },
      "message": "test: previous releases: add v0.21.0",
      "tree": {
        "sha": "e42b1d5ab0d6f3b69bd424326174cdafdc73f350",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e42b1d5ab0d6f3b69bd424326174cdafdc73f350"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc6dbf83914f6c5993ca4036702fc280f07d03ea",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGnBbsACgkQV/+b28ww\nEAk9+Q//Qk2zfEwMkXYNUX9IWz0mifc1ao2qpJbOaWSBmNNN8jWYFhGOPoxsffNh\nWPTaX+sbLE0ETbHZlSGSTyvH3rK82XhlXRTpnrS+KDXTNCe1CYrNfh1p6e76JMX2\nUS9bwogYMqyBTs4+XWDkqHBhS8ij/nWcG/2/2GyK8VqFYpcI+0hA28Ia2jbc+OFH\n22f0aDie0BoLt2EXFA98Vgp+a+FI8csQh1RaY34QEHR/ROJos16eXgF1jD7vLoJ2\nO+19xPA04mVrCj724efKbjHG28JSGxJn2uD/qDTmuCGg/H0a0K6T+lFNVv79cbKW\nMyscQP5MScpP8nJfRWGwClhkLrcF12lOirsRXy0Nbkl/eenIJFpLbbE36t9oFXKs\niqZbLYdbQbDrGat1ex+YpIweXovwI/DNCt04doEsbkbM244r1RYuuwOtrCWEKnUe\nBderpx2UcUCiSOozGLM0ydiTKS9GYr9kud6QXiSo8T15qYSP216ao3xZBhtMVljc\nA3B98kNs1HPhXxaP6mqfSBse8GU0ohNj9m6NbBXPLhX3r+vPmxx9taRPYAKtDJ9J\n2ae+wI267MLzlu3ivxHaGrn4avZUnaXd7ycCZUgYeNwsCkJYFECVGbI//KkmrbNS\nHoyaXGApTKr/sVnsKkp1AAeO5Tim9OXbb8NXe2fLNxGMAoZrhPk=\n=rCPq\n-----END PGP SIGNATURE-----",
        "payload": "tree e42b1d5ab0d6f3b69bd424326174cdafdc73f350\nparent 5aa77a776ae3a639bdd7dc44cc09651abc701abe\nauthor Sjors Provoost <sjors@sprovoost.nl> 1614184138 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1638335930 +0700\n\ntest: previous releases: add v0.21.0\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc6dbf83914f6c5993ca4036702fc280f07d03ea",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dc6dbf83914f6c5993ca4036702fc280f07d03ea",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc6dbf83914f6c5993ca4036702fc280f07d03ea/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5aa77a776ae3a639bdd7dc44cc09651abc701abe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5aa77a776ae3a639bdd7dc44cc09651abc701abe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5aa77a776ae3a639bdd7dc44cc09651abc701abe"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 11,
      "deletions": 3
    },
    "files": [
      {
        "sha": "82ade471a0138029becd0b059121911556ceb21d",
        "filename": "ci/test/00_setup_env_native_qt5.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc6dbf83914f6c5993ca4036702fc280f07d03ea/ci/test/00_setup_env_native_qt5.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc6dbf83914f6c5993ca4036702fc280f07d03ea/ci/test/00_setup_env_native_qt5.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_qt5.sh?ref=dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "patch": "@@ -14,6 +14,6 @@ export TEST_RUNNER_EXTRA=\"--previous-releases --coverage --extended --exclude fe\n export RUN_UNIT_TESTS_SEQUENTIAL=\"true\"\n export RUN_UNIT_TESTS=\"false\"\n export GOAL=\"install\"\n-export PREVIOUS_RELEASES_TO_DOWNLOAD=\"v0.15.2 v0.16.3 v0.17.2 v0.18.1 v0.19.1 v0.20.1\"\n+export PREVIOUS_RELEASES_TO_DOWNLOAD=\"v0.15.2 v0.16.3 v0.17.2 v0.18.1 v0.19.1 v0.20.1 v0.21.0\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-libs=no --with-gui=qt5 --enable-reduce-exports \\\n --enable-debug --disable-fuzz-binary  CFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CXXFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CC=gcc-8 CXX=g++-8\""
      },
      {
        "sha": "c041411e8c83596d81f60fb5f7fa1a1076682992",
        "filename": "test/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/README.md?ref=dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "patch": "@@ -98,7 +98,7 @@ test/functional/test_runner.py --extended\n In order to run backwards compatibility tests, download the previous node binaries:\n \n ```\n-test/get_previous_releases.py -b v0.20.1 v0.19.1 v0.18.1 v0.17.2 v0.16.3 v0.15.2\n+test/get_previous_releases.py -b v0.21.0 v0.20.1 v0.19.1 v0.18.1 v0.17.2 v0.16.3 v0.15.2\n ```\n \n By default, up to 4 tests will be run in parallel by test_runner. To specify"
      },
      {
        "sha": "96946d1cb5f562559287dd236dffc24d4cb36cf0",
        "filename": "test/functional/feature_backwards_compatibility.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/functional/feature_backwards_compatibility.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/functional/feature_backwards_compatibility.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_backwards_compatibility.py?ref=dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "patch": "@@ -34,11 +34,12 @@\n class BackwardsCompatibilityTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 7\n+        self.num_nodes = 8\n         # Add new version after each release:\n         self.extra_args = [\n             [\"-addresstype=bech32\"], # Pre-release: use to mine blocks\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # Pre-release: use to receive coins, swap wallets, etc\n+            [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.21.0\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.20.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.19.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.18.1\n@@ -55,6 +56,7 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args=self.extra_args, versions=[\n             None,\n             None,\n+            210000,\n             200100,\n             190100,\n             180100,"
      },
      {
        "sha": "2385955bb8e28bd5feda642417431d595b82e9d3",
        "filename": "test/get_previous_releases.py",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/get_previous_releases.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc6dbf83914f6c5993ca4036702fc280f07d03ea/test/get_previous_releases.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/get_previous_releases.py?ref=dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "patch": "@@ -53,6 +53,12 @@\n     \"b9024dde373ea7dad707363e07ec7e265383204127539ae0c234bff3a61da0d1\": \"bitcoin-0.20.1-osx64.tar.gz\",\n     \"fa71cb52ee5e0459cbf5248cdec72df27995840c796f58b304607a1ed4c165af\": \"bitcoin-0.20.1-riscv64-linux-gnu.tar.gz\",\n     \"376194f06596ecfa40331167c39bc70c355f960280bd2a645fdbf18f66527397\": \"bitcoin-0.20.1-x86_64-linux-gnu.tar.gz\",\n+\n+    \"43416854330914992bbba2d0e9adf2a6fff4130be9af8ae2ef1186e743d9a3fe\": \"bitcoin-0.21.0-aarch64-linux-gnu.tar.gz\",\n+    \"f028af308eda45a3c4c90f9332f96b075bf21e3495c945ebce48597151808176\": \"bitcoin-0.21.0-arm-linux-gnueabihf.tar.gz\",\n+    \"695fb624fa6423f5da4f443b60763dd1d77488bfe5ef63760904a7b54e91298d\": \"bitcoin-0.21.0-osx64.tar.gz\",\n+    \"f8b2adfeae021a672effbc7bd40d5c48d6b94e53b2dd660f787340bf1a52e4e9\": \"bitcoin-0.21.0-riscv64-linux-gnu.tar.gz\",\n+    \"da7766775e3f9c98d7a9145429f2be8297c2672fe5b118fd3dc2411fb48e0032\": \"bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\",\n }\n \n "
      }
    ]
  },
  {
    "sha": "03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
    "node_id": "C_kwDOABII59oAKDAzMDg3MzYxYTk3ZGFkMDFlN2UxYjFlZThlMmFmOTRjNGZjYThkNjU",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-11-15T10:41:30Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-12-01T05:21:36Z"
      },
      "message": "test: bump sandbox argument minimum version\n\nThe -sandbox argument is not present in the v22.0 release. Changing the minimum version to 229900 ensures it's used when testing the master branch.\n\nIf the argument is backported, the minimum version can be adjusted to e.g. 220100.",
      "tree": {
        "sha": "6654559cd8bc6c390652238d4ab9f97c57b0a9f6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6654559cd8bc6c390652238d4ab9f97c57b0a9f6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGnBmAACgkQV/+b28ww\nEAkiug/7BHEgrpOmfs6zx8mekFGFM47isRmscpZmGmtns8w8iHBFEmi3TfHpUSrj\n5dV217wx5xZoa7wFAyKN0b3BSLTTVIboSEQghfpj/9YpBU54pexyhExXyDD1nozB\nIYQ1DFWycrUh66PLjEuR2DJVKob9h4b2Trc/DKMvfFWkFN4AZyDzRpJLemzkLgQa\nY7d/GwdQs3wgBTWsGvLFVHbSkrZyRsCUWyA7UKYrXiStDuyjX1SyrV36kXjdV1fu\nYR2XO7Heod+gCTeWRe1aCrjYSCpZx8rFoxSL1ifhrjgwRCGtzdIj8gqU7mrzuh0l\nWX87ausnjIaOwuZ/f/73BiKUbtUXlPvWv/DHGyhmjq6J+z5fWv4I4GyvGsePCaD+\nEfuYcgi4eoF2lyhVcHKlRpf827GXRlg2vn3neMLMqOb+2h1aIrxpi8dQtsbDXtXq\niF54yOPHW4bfG2kPAoGjymDkHkAQW8VULaeu9jmy+AqMB+15ZRUoPO6+xg5aJQyf\n/xaA4BwGluqFyxdwwyRu6raLiSSnpkQ8V5Q2GJWYaWjNZyX3CM+F5u2elKnhe9p1\nO9+/hvNNXoxlcs/dNv/ER0wF1hh7W3ZPe1nAR2AeXBYLYkmnEfkaLd/YybHSN6hA\nKBWJX7rWXIShBO94Db/fqXLxtv6cBXDWx/YhDZ7ZXgheOaFrBdM=\n=z/lB\n-----END PGP SIGNATURE-----",
        "payload": "tree 6654559cd8bc6c390652238d4ab9f97c57b0a9f6\nparent dc6dbf83914f6c5993ca4036702fc280f07d03ea\nauthor Sjors Provoost <sjors@sprovoost.nl> 1636972890 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1638336096 +0700\n\ntest: bump sandbox argument minimum version\n\nThe -sandbox argument is not present in the v22.0 release. Changing the minimum version to 229900 ensures it's used when testing the master branch.\n\nIf the argument is backported, the minimum version can be adjusted to e.g. 220100.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03087361a97dad01e7e1b1ee8e2af94c4fca8d65/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc6dbf83914f6c5993ca4036702fc280f07d03ea",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/dc6dbf83914f6c5993ca4036702fc280f07d03ea"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "eaaba0984855bc3c6e3528322f5a40c5d9365915",
        "filename": "test/functional/test_framework/test_framework.py",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/03087361a97dad01e7e1b1ee8e2af94c4fca8d65/test/functional/test_framework/test_framework.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/03087361a97dad01e7e1b1ee8e2af94c4fca8d65/test/functional/test_framework/test_framework.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/test_framework.py?ref=03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
        "patch": "@@ -473,7 +473,8 @@ def get_bin_from_version(version, bin_name, bin_default):\n             versions = [None] * num_nodes\n         if self.is_syscall_sandbox_compiled() and not self.disable_syscall_sandbox:\n             for i in range(len(extra_args)):\n-                if versions[i] is None or versions[i] >= 219900:\n+                # The -sandbox argument is not present in the v22.0 release.\n+                if versions[i] is None or versions[i] >= 229900:\n                     extra_args[i] = extra_args[i] + [\"-sandbox=log-and-abort\"]\n         if binary is None:\n             binary = [get_bin_from_version(v, 'bitcoind', self.options.bitcoind) for v in versions]"
      }
    ]
  },
  {
    "sha": "ef08ba17c94b9f10eac3f03e6393c0c998133d66",
    "node_id": "C_kwDOABII59oAKGVmMDhiYTE3Yzk0YjlmMTBlYWMzZjAzZTYzOTNjMGM5OTgxMzNkNjY",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-09-22T11:10:40Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-12-01T05:21:36Z"
      },
      "message": "test: previous releases: add v22.0",
      "tree": {
        "sha": "2b3006b15f60e39832dc6894900f83bb850c3752",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b3006b15f60e39832dc6894900f83bb850c3752"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ef08ba17c94b9f10eac3f03e6393c0c998133d66",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmGnBmAACgkQV/+b28ww\nEAlHcA/9EWMCH6j4ORTVraz8rRajE+n9m4OsU0Cs48ce3ozJ8scs0yZsYzrkIfiz\nElhO+XHtt4bzWn24qD5exr2TJgfMRRcO3QOYOMozofhbZe372BPpAIeRdtvKLaga\n5eiAJFlU6Kw7rshtS0R81/kKlSkzdfLG8VsK1pjRDfycbenQcAfpCAYFE3MnmdDF\nPMI0PMT+Vl7RRhheCjz2ZNvDgKHP1qRvQqTYEvoQkq+UFcXK1BI7a3qDkgeGgsQi\nfnW+JI2YQO22dkTVdBer7vWuhKYi8z6we2Chgzf9HXdu9XU5zVf4VTFbT/aNLfUV\nkvT+BSzJDMn48p/yOZlQ17pHq6DSMvUJU+1aBGvMJhpA/mamNIUglzNiCY3m1kij\n73wlMNp8x32fbtPOmpId7razQFn9hDFgyHwkjsX/AcyHFzo67HaufOqe825emzX+\nF2uYNf7dGYMi3TXsEPlw281huQnYRQ+xIPVYbxJ0B+kmFRQplqJHIzkPmphppZMU\nN/w5WXN5AX9rXzlonO7HeJlM1pDdaQNOLQAyw8JP42Xv2Gg/KD8IB6eSGERSKp/c\n1zB67cW8RBUlpDk3lT6pGI5wBtxUIpm5/iiIha+JuL/tZoypTlLSZg0ndCyU7uJl\nKQQzZdoPqcFUd9HWUDA73LdxLF1jx4hh6MA5FTsqBl2RGgyZGQY=\n=66UR\n-----END PGP SIGNATURE-----",
        "payload": "tree 2b3006b15f60e39832dc6894900f83bb850c3752\nparent 03087361a97dad01e7e1b1ee8e2af94c4fca8d65\nauthor Sjors Provoost <sjors@sprovoost.nl> 1632309040 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1638336096 +0700\n\ntest: previous releases: add v22.0\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ef08ba17c94b9f10eac3f03e6393c0c998133d66",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ef08ba17c94b9f10eac3f03e6393c0c998133d66",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ef08ba17c94b9f10eac3f03e6393c0c998133d66/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/03087361a97dad01e7e1b1ee8e2af94c4fca8d65",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/03087361a97dad01e7e1b1ee8e2af94c4fca8d65"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 19,
      "deletions": 5
    },
    "files": [
      {
        "sha": "1997fe390b8642dfd2a13e884f4f3530e4a9a7c2",
        "filename": "ci/test/00_setup_env_native_qt5.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ef08ba17c94b9f10eac3f03e6393c0c998133d66/ci/test/00_setup_env_native_qt5.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ef08ba17c94b9f10eac3f03e6393c0c998133d66/ci/test/00_setup_env_native_qt5.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_qt5.sh?ref=ef08ba17c94b9f10eac3f03e6393c0c998133d66",
        "patch": "@@ -14,6 +14,6 @@ export TEST_RUNNER_EXTRA=\"--previous-releases --coverage --extended --exclude fe\n export RUN_UNIT_TESTS_SEQUENTIAL=\"true\"\n export RUN_UNIT_TESTS=\"false\"\n export GOAL=\"install\"\n-export PREVIOUS_RELEASES_TO_DOWNLOAD=\"v0.15.2 v0.16.3 v0.17.2 v0.18.1 v0.19.1 v0.20.1 v0.21.0\"\n+export PREVIOUS_RELEASES_TO_DOWNLOAD=\"v0.15.2 v0.16.3 v0.17.2 v0.18.1 v0.19.1 v0.20.1 v0.21.0 v22.0\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-libs=no --with-gui=qt5 --enable-reduce-exports \\\n --enable-debug --disable-fuzz-binary  CFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CXXFLAGS=\\\"-g0 -O2 -funsigned-char\\\" CC=gcc-8 CXX=g++-8\""
      },
      {
        "sha": "8fffde888dd5cb165520623f97ff3a2bae610eaa",
        "filename": "test/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/README.md?ref=ef08ba17c94b9f10eac3f03e6393c0c998133d66",
        "patch": "@@ -98,7 +98,7 @@ test/functional/test_runner.py --extended\n In order to run backwards compatibility tests, download the previous node binaries:\n \n ```\n-test/get_previous_releases.py -b v0.21.0 v0.20.1 v0.19.1 v0.18.1 v0.17.2 v0.16.3 v0.15.2\n+test/get_previous_releases.py -b v22.0 v0.21.0 v0.20.1 v0.19.1 v0.18.1 v0.17.2 v0.16.3 v0.15.2\n ```\n \n By default, up to 4 tests will be run in parallel by test_runner. To specify"
      },
      {
        "sha": "c0018bac20ed9701cf651da3f7e54a2c73b58896",
        "filename": "test/functional/feature_backwards_compatibility.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/functional/feature_backwards_compatibility.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/functional/feature_backwards_compatibility.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_backwards_compatibility.py?ref=ef08ba17c94b9f10eac3f03e6393c0c998133d66",
        "patch": "@@ -34,11 +34,12 @@\n class BackwardsCompatibilityTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n-        self.num_nodes = 8\n+        self.num_nodes = 9\n         # Add new version after each release:\n         self.extra_args = [\n             [\"-addresstype=bech32\"], # Pre-release: use to mine blocks\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # Pre-release: use to receive coins, swap wallets, etc\n+            [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v22.0\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.21.0\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.20.1\n             [\"-nowallet\", \"-walletrbf=1\", \"-addresstype=bech32\"], # v0.19.1\n@@ -56,6 +57,7 @@ def setup_nodes(self):\n         self.add_nodes(self.num_nodes, extra_args=self.extra_args, versions=[\n             None,\n             None,\n+            220000,\n             210000,\n             200100,\n             190100,"
      },
      {
        "sha": "2c2346da405c8b496221a9d2c750b49148ae7d32",
        "filename": "test/functional/test_framework/test_framework.py",
        "status": "modified",
        "additions": 6,
        "deletions": 2,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/functional/test_framework/test_framework.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/functional/test_framework/test_framework.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/test_framework.py?ref=ef08ba17c94b9f10eac3f03e6393c0c998133d66",
        "patch": "@@ -447,11 +447,15 @@ def add_nodes(self, num_nodes: int, extra_args=None, *, rpchost=None, binary=Non\n         def get_bin_from_version(version, bin_name, bin_default):\n             if not version:\n                 return bin_default\n+            if version > 219999:\n+                # Starting at client version 220000 the first two digits represent\n+                # the major version, e.g. v22.0 instead of v0.22.0.\n+                version *= 100\n             return os.path.join(\n                 self.options.previous_releases_path,\n                 re.sub(\n-                    r'\\.0$',\n-                    '',  # remove trailing .0 for point releases\n+                    r'\\.0$' if version <= 219999 else r'(\\.0){1,2}$',\n+                    '', # Remove trailing dot for point releases, after 22.0 also remove double trailing dot.\n                     'v{}.{}.{}.{}'.format(\n                         (version % 100000000) // 1000000,\n                         (version % 1000000) // 10000,"
      },
      {
        "sha": "e0d48f804799ca8c718b602a55dc43d4c2af1c7e",
        "filename": "test/get_previous_releases.py",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/get_previous_releases.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ef08ba17c94b9f10eac3f03e6393c0c998133d66/test/get_previous_releases.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/get_previous_releases.py?ref=ef08ba17c94b9f10eac3f03e6393c0c998133d66",
        "patch": "@@ -59,6 +59,14 @@\n     \"695fb624fa6423f5da4f443b60763dd1d77488bfe5ef63760904a7b54e91298d\": \"bitcoin-0.21.0-osx64.tar.gz\",\n     \"f8b2adfeae021a672effbc7bd40d5c48d6b94e53b2dd660f787340bf1a52e4e9\": \"bitcoin-0.21.0-riscv64-linux-gnu.tar.gz\",\n     \"da7766775e3f9c98d7a9145429f2be8297c2672fe5b118fd3dc2411fb48e0032\": \"bitcoin-0.21.0-x86_64-linux-gnu.tar.gz\",\n+\n+    \"ac718fed08570a81b3587587872ad85a25173afa5f9fbbd0c03ba4d1714cfa3e\": \"bitcoin-22.0-aarch64-linux-gnu.tar.gz\",\n+    \"b8713c6c5f03f5258b54e9f436e2ed6d85449aa24c2c9972f91963d413e86311\": \"bitcoin-22.0-arm-linux-gnueabihf.tar.gz\",\n+    \"2744d199c3343b2d94faffdfb2c94d75a630ba27301a70e47b0ad30a7e0155e9\": \"bitcoin-22.0-osx64.tar.gz\",\n+    \"2cca5f99007d060aca9d8c7cbd035dfe2f040dd8200b210ce32cdf858479f70d\": \"bitcoin-22.0-powerpc64-linux-gnu.tar.gz\",\n+    \"91b1e012975c5a363b5b5fcc81b5b7495e86ff703ec8262d4b9afcfec633c30d\": \"bitcoin-22.0-powerpc64le-linux-gnu.tar.gz\",\n+    \"9cc3a62c469fe57e11485fdd32c916f10ce7a2899299855a2e479256ff49ff3c\": \"bitcoin-22.0-riscv64-linux-gnu.tar.gz\",\n+    \"59ebd25dd82a51638b7a6bb914586201e67db67b919b2a1ff08925a7936d1b16\": \"bitcoin-22.0-x86_64-linux-gnu.tar.gz\",\n }\n \n "
      }
    ]
  }
]