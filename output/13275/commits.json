[
  {
    "sha": "2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyODg1YzEzMWI2YjhlYzExNDBlMDJlZDhmMjkzM2MyZmZiZjQxZmQx",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-05-18T12:34:53Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2018-05-19T09:24:40Z"
      },
      "message": "Qt: use [default wallet] as name for wallet with no name",
      "tree": {
        "sha": "b27311c1c58e8c2698ff262f263fd41d12fb0de8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b27311c1c58e8c2698ff262f263fd41d12fb0de8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEyhopCNzi8TB0xizeHrd2uwPHki0FAlr/7VkACgkQHrd2uwPH\nki3zhg//cBie4yChtVg8i4ClGtrD2yvKAyrNoqGNwQQM0anDFTjU4K1IvbSd+bnz\nkbXFsy3N+ISBzY0PAImvl5Sb1dYB7zFwO0FRPo1IWTF/MxYKtla3rwQ0D2iC6TjL\n6ij+8t8W/QU7FSCsL2J10HzLUwNNCtMDuayWhroLbTk2fnIjs3z2Mu9+cFhoEyoe\nlSuHGeIdR0PsnbWCshI5Qju5gyQKN8Jxe/PvNXWVQAPNCOiTWLYM9rx3rFv0GtXx\n6vjrOH1mkh6x5vLQg4TkPJcNCMXs7OXIQ6e4I8zmxkQiylBidIGT4hmupzJJT7Sa\nxRhn/fpLRrW9v+OibyeTIPOeiDB4yi2DdhfAr886Xqf1EiWthV6i8z7x5M8UNcgU\ncjzsa+UUntrCtMEHa+s9JBfh8x9u4mVn3jARtAdizsmWQtwH9pxDnPL+Hun03SLj\npp4dudZ6iexv9tyjVnIolmI/YzRUMVlb63y+j8WMuHJzPi93rHEFihayZGqr6bKy\nz4mihCg8zCbnpER+iPe523W+TzdJoeY6ehQxaYu04N1QvLcp37MTr7DVRtsgNT63\nEeXbTqofM4LBdIJ/U+T4u0HwglcDU+7Ldb8M9zc0eHr+nK3PNS10cYzWt/qJNPlA\nJvFDryGkbfPNjFW90PYCVOU4NS/Ckbo34BLBuC7C/xJqFDIdj7k=\n=h+2z\n-----END PGP SIGNATURE-----",
        "payload": "tree b27311c1c58e8c2698ff262f263fd41d12fb0de8\nparent 1a8b12c69c0158e6440c53a34b03a32fc0580878\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1526646893 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1526721880 +0200\n\nQt: use [default wallet] as name for wallet with no name\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1a8b12c69c0158e6440c53a34b03a32fc0580878",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1a8b12c69c0158e6440c53a34b03a32fc0580878",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1a8b12c69c0158e6440c53a34b03a32fc0580878"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 12,
      "deletions": 3
    },
    "files": [
      {
        "sha": "9f5ea02e1482b224a8ff54ea1ad4fc0d064bc4eb",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
        "patch": "@@ -476,7 +476,7 @@ void BitcoinGUI::createToolBars()\n         toolbar->addWidget(spacer);\n \n         m_wallet_selector = new QComboBox();\n-        connect(m_wallet_selector, SIGNAL(currentIndexChanged(const QString&)), this, SLOT(setCurrentWallet(const QString&)));\n+        connect(m_wallet_selector, SIGNAL(currentIndexChanged(int)), this, SLOT(setCurrentWalletBySelectorIndex(int)));\n #endif\n     }\n }\n@@ -552,8 +552,9 @@ bool BitcoinGUI::addWallet(WalletModel *walletModel)\n     if(!walletFrame)\n         return false;\n     const QString name = walletModel->getWalletName();\n+    QString display_name = name.isEmpty() ? \"[\"+tr(\"default wallet\")+\"]\" : name;\n     setWalletActionsEnabled(true);\n-    m_wallet_selector->addItem(name);\n+    m_wallet_selector->addItem(display_name, name);\n     if (m_wallet_selector->count() == 2) {\n         m_wallet_selector_label = new QLabel();\n         m_wallet_selector_label->setText(tr(\"Wallet:\") + \" \");\n@@ -572,6 +573,12 @@ bool BitcoinGUI::setCurrentWallet(const QString& name)\n     return walletFrame->setCurrentWallet(name);\n }\n \n+bool BitcoinGUI::setCurrentWalletBySelectorIndex(int index)\n+{\n+    QString internal_name = m_wallet_selector->itemData(index).toString();\n+    return setCurrentWallet(internal_name);\n+}\n+\n void BitcoinGUI::removeAllWallets()\n {\n     if(!walletFrame)"
      },
      {
        "sha": "89c1c73a79fd70b50befa365c3cb61be4bd7d835",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
        "patch": "@@ -186,6 +186,7 @@ public Q_SLOTS:\n \n #ifdef ENABLE_WALLET\n     bool setCurrentWallet(const QString& name);\n+    bool setCurrentWalletBySelectorIndex(int index);\n     /** Set the UI status indicators based on the currently selected wallet.\n     */\n     void updateWalletStatus();"
      },
      {
        "sha": "85e3586d64eae21c89d45b845171141c8f746855",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=2885c131b6b8ec1140e02ed8f2933c2ffbf41fd1",
        "patch": "@@ -702,7 +702,8 @@ void RPCConsole::addWallet(WalletModel * const walletModel)\n {\n     const QString name = walletModel->getWalletName();\n     // use name for text and internal data object (to allow to move to a wallet id later)\n-    ui->WalletSelector->addItem(name, name);\n+    QString display_name = name.isEmpty() ? \"[\"+tr(\"default wallet\")+\"]\" : name;\n+    ui->WalletSelector->addItem(display_name, name);\n     if (ui->WalletSelector->count() == 2 && !isVisible()) {\n         // First wallet added, set to default so long as the window isn't presently visible (and potentially in use)\n         ui->WalletSelector->setCurrentIndex(1);"
      }
    ]
  }
]