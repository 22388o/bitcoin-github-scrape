jonasschnelli,2018-02-25T00:43:50Z,"Seems not urgently important, but maybe worth to do.\nMy only concern is to include `init.h` in `wallet.cpp` (since the long term goal is to make the wallet more independent from the sublayers).",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-368272650,368272650,
promag,2018-02-25T11:25:00Z,I thought the concern was having the init depending on the wallet.,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-368301476,368301476,
promag,2018-02-25T11:30:14Z,Rebased after #12287.,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-368301816,368301816,
promag,2018-02-25T23:22:11Z,I wonder if the rescan should resume in the next run? The problem is the same if `abortrescan` is called - keys are stored but transactions can be missed.,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-368354950,368354950,
promag,2018-03-07T21:18:54Z,I guess it fixes #12596.,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-371288150,371288150,
MarcoFalke,2018-03-12T16:15:04Z,"Am I reading this correctly, that the rescan would be aborted instead of paused (and resumed on the next run), similar to reindex? This might be confusing to users.",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-372367647,372367647,
promag,2018-03-12T16:23:40Z,"@MarcoFalke right, but if `abortrescan` is called, the rescan is also not resumed. Also, not interrupting might lead the user to force kill which is not desirable.\n\nI can implement the ""resume rescan"" option here, just waiting for more feedback.",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-372370783,372370783,
sipa,2018-03-17T00:01:05Z,@MarcoFalke In what way do you think this is not expected behavior?,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-373875557,373875557,
MarcoFalke,2018-03-17T15:50:50Z,"Since rescanning might take several hours, some users might prefer to shut down the node temporarily and then continue the rescan process whenever they start the node again. (Without having to manually specify `rescanblockchain` with a block height.)\n\nValid use cases are probably\n* (1) abort rescan, (2) shut down (3) restart and don't resume rescan\n* (1) shut down, (2) restart and resume r",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-373930331,373930331,
MarcoFalke,2018-03-17T16:19:19Z,"Since the rescan in the gui is specifically advertised to be non-resumable, the following code can be used to fix the gui:\n\n```diff\n--- a/src/qt/splashscreen.cpp\n+++ b/src/qt/splashscreen.cpp\n@@ -225,8 +225,16 @@ void SplashScreen::paintEvent(QPaintEvent *event)\n     painter.drawText(r, curAlignment, curMessage);\n }\n \n-void SplashScreen::closeEvent(QCloseEvent *event)\n+void Spl",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-373932475,373932475,
eklitzke,2018-03-19T07:24:03Z,"I think the issue about interrupted re-scans should be tracked in a separate issue elsewhere. That's something I'm interested in working on at some point, i.e. in general if you shut down you node in the middle of a rescan it should make a best-effort to restart at the same point it was interrupted at.",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-374121913,374121913,
jonasschnelli,2018-04-15T18:05:12Z,"Needs rebase\nutACK 3c647844d960c80f45f0359bcb311638f4a733b2\nAgree with @eklitzke that interruptible rescans could be next and can be independent from this PR.",https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-381425702,381425702,
promag,2018-04-27T09:02:15Z,Rebased.,https://github.com/bitcoin/bitcoin/pull/12507#issuecomment-384911055,384911055,
MarcoFalke,2018-05-04T14:47:35Z,"Doesn't interrupt mean it will continue later on? I think this should say ""aborted"".",https://github.com/bitcoin/bitcoin/pull/12507#discussion_r186106274,186106274,src/wallet/wallet.cpp
