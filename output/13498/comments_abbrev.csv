sipa,2018-06-22T02:17:11Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13498#issuecomment-399299871,399299871,
laanwj,2018-06-24T17:35:40Z,utACK df10f07db178d84b3def9f0b99d9b7c92e4227a9,https://github.com/bitcoin/bitcoin/pull/13498#issuecomment-399773434,399773434,
TheCharlatan,2018-06-19T18:26:48Z,"Previously `sendmany` mimicked `sendfrom`'s behaviour by allowing the user to select the addresses to be sent from. By making the label allways `nullptr`, there is no more fine grained selection. I propose to keep `GetLegacyBalance(ISMINE_SPENDABLE, nMinDepth, &strAccount);` without checking wether the deprecated flag is active and using the `nullptr` when the label argument passed in is `\""\*\""`",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196531993,196531993,src/wallet/rpcwallet.cpp
sipa,2018-06-19T18:29:17Z,"The label in sendfrom/sendmany denotes which account's balance to debit. It does not, and never did, affect which UTXO were being used in transaction creation.",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196532769,196532769,src/wallet/rpcwallet.cpp
laanwj,2018-06-19T20:57:11Z,"> The label in sendfrom/sendmany denotes which account's balance to debit. It does not, and never did, affect which UTXO were being used in transaction creation.\n\nIndeed, this is one of the biggest confusions around accounts, and reasons why they're being deprecated.\n(also: how the balance is computed doesn't affect UTXO selection)",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196575773,196575773,src/wallet/rpcwallet.cpp
TheCharlatan,2018-06-19T21:56:41Z,"Yes, both sendfrom and sendmany use the same api of `CreateTransaction` (where no direct coin control is used in this case) followed by `CommitTransaction`. I think the wording would be better if ""send"" from is changed with ""debited"" from (both in the api call and in my comment, but that is probably not possible anymore). \nCurrently I have 2 UTXOs with 2 confirmations each in my wallet. One has ",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196591780,196591780,src/wallet/rpcwallet.cpp
jnewbery,2018-06-20T14:01:57Z,"@TheCharlatan - please see my comment here: https://github.com/bitcoin/bitcoin/issues/12952#issuecomment-398103755.\n\nThe account is not used in coin selection, but it *is* used in calculating the balance and whether there are enough funds to send from. That's what this PR is fixing.",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196790818,196790818,src/wallet/rpcwallet.cpp
TheCharlatan,2018-06-20T15:20:17Z,"Sorry for the ruckus, this patch does exactly what it should do. ",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196824404,196824404,src/wallet/rpcwallet.cpp
jnewbery,2018-06-20T16:32:24Z,@TheCharlatan no problem. Any test/review of this PR would be greatly appreciated :slightly_smiling_face: ,https://github.com/bitcoin/bitcoin/pull/13498#discussion_r196851208,196851208,src/wallet/rpcwallet.cpp
promag,2018-06-26T13:40:43Z,"Commit ""[wallet] Don't use accounts when checking balance in sendmany""\n\nUse same error as https://github.com/bitcoin/bitcoin/blob/ee02debb25675542d13a03b65ed49832b79b0db9/src/wallet/rpcwallet.cpp#L466\nand\nhttps://github.com/bitcoin/bitcoin/blob/ee02debb25675542d13a03b65ed49832b79b0db9/src/wallet/wallet.cpp#L2905",https://github.com/bitcoin/bitcoin/pull/13498#discussion_r198146859,198146859,src/wallet/rpcwallet.cpp
jnewbery,2018-06-26T15:16:16Z,Thanks @promag . This code will need to be changed for V0.18 when accounts are definitively removed. Let's save error message cleanup until then and not invalidate previous ACKs.,https://github.com/bitcoin/bitcoin/pull/13498#discussion_r198186532,198186532,src/wallet/rpcwallet.cpp
