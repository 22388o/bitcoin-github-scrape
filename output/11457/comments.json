[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334655782",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-334655782",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 334655782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDY1NTc4Mg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-06T04:33:36Z",
    "updated_at": "2017-10-06T04:33:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK modulo `GUARDED_BY(\u2026)` addition :-)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334655782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334780169",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-334780169",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 334780169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDc4MDE2OQ==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-06T14:59:54Z",
    "updated_at": "2017-10-06T14:59:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept Ack!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334780169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334909625",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-334909625",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 334909625,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNDkwOTYyNQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-07T04:28:53Z",
    "updated_at": "2017-10-07T04:28:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nice!\r\nConcept ACK,.. will review soon.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/334909625/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337458551",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-337458551",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 337458551,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzQ1ODU1MQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-18T04:40:35Z",
    "updated_at": "2017-10-18T04:40:35Z",
    "author_association": "MEMBER",
    "body": "Rebased and addressed most of the feedback here.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337458551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337988985",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-337988985",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 337988985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNzk4ODk4NQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-19T18:02:31Z",
    "updated_at": "2017-10-19T18:02:31Z",
    "author_association": "MEMBER",
    "body": "Addressed @sdaftuar's feedback. I went ahead and changed the Disconnect() in qt/rpcconsole back to using IP rather than nodeid to avoid adding unnecessary behavioral changes in a PR that should otherwise be a code refactor.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/337988985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344021553",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-344021553",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 344021553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDAyMTU1Mw==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T18:59:47Z",
    "updated_at": "2017-11-13T18:59:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK, needs rebase.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344021553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344405562",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-344405562",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 344405562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDQwNTU2Mg==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T21:31:42Z",
    "updated_at": "2017-11-14T21:31:42Z",
    "author_association": "MEMBER",
    "body": "rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344405562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344439326",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-344439326",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 344439326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDQzOTMyNg==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-14T23:51:06Z",
    "updated_at": "2017-11-14T23:51:06Z",
    "author_association": "MEMBER",
    "body": "> In commit net: Break disconnecting out of Ban(),\r\n> \r\n> Missing call DisconnectNode() after:\r\n\r\nThis is handled by setting fDisconnect directly above.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344439326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344988604",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-344988604",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 344988604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NDk4ODYwNA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-16T16:59:52Z",
    "updated_at": "2017-11-16T16:59:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Heh, rebase needed for the include change.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/344988604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347447124",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-347447124",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 347447124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzQ0NzEyNA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T08:19:54Z",
    "updated_at": "2017-11-28T08:19:54Z",
    "author_association": "MEMBER",
    "body": "I've added this to high-priority for review, would be nice to move this forward and this blocks further work in this direction.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347447124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347671320",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-347671320",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 347671320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NzY3MTMyMA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-28T21:35:34Z",
    "updated_at": "2017-11-28T21:35:34Z",
    "author_association": "MEMBER",
    "body": "@laanwj Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/347671320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351456420",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-351456420",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 351456420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTQ1NjQyMA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-13T17:06:16Z",
    "updated_at": "2017-12-13T17:06:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Needs rebase.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/351456420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352613328",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-352613328",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 352613328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjYxMzMyOA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-19T01:41:08Z",
    "updated_at": "2017-12-19T01:41:08Z",
    "author_association": "MEMBER",
    "body": "Addressed @TheBlueMatt's review and squashed. Diff from before (minus the rebase to master):\r\n```patch\r\ndiff --git a/src/net.cpp b/src/net.cpp\r\nindex 78c08b1..46e7783 100644\r\n--- a/src/net.cpp\r\n+++ b/src/net.cpp\r\n@@ -2125,4 +2125,2 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\r\n \r\n-    nStart = GetTimeMillis();\r\n-\r\n     uiInterface.InitMessage(_(\"Starting network threads...\"));\r\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\r\nindex 2981413..e8d731c 100644\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -2852,3 +2852,2 @@ bool PeerLogicValidation::SendRejectsAndCheckIfBanned(CNode* pnode)\r\n         else {\r\n-            pnode->fDisconnect = true;\r\n             if (pnode->addr.IsLocal())\r\n@@ -2861,2 +2860,4 @@ bool PeerLogicValidation::SendRejectsAndCheckIfBanned(CNode* pnode)\r\n             }\r\n+            // Disconnect all nodes with this address\r\n+            connman->DisconnectNode(pnode->addr);\r\n         }\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/352613328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377356118",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-377356118",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 377356118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM1NjExOA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T20:06:20Z",
    "updated_at": "2018-03-29T20:06:20Z",
    "author_association": "MEMBER",
    "body": "Rebased with only trivial changes, with one exception: https://github.com/bitcoin/bitcoin/pull/11457/commits/2335579f842607557a4742d2ec0749e459270bd0.\r\n\r\nAs @TheBlueMatt and @ryanofsky pointed out, it wasn't clear if any behavioral changes were introduced in SendRejectsAndCheckIfBanned, and it turned out that the new code indeed did not match master's behavior exactly, as pointed out by rpc tests.\r\n\r\nThat's now fixed and behavior should be exactly as before.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377356118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377382545",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-377382545",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 377382545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzM4MjU0NQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T21:47:00Z",
    "updated_at": "2018-03-29T21:47:00Z",
    "author_association": "MEMBER",
    "body": "utACK 0950d72",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377382545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377483673",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-377483673",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 377483673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzQ4MzY3Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-30T09:06:35Z",
    "updated_at": "2018-03-30T09:06:35Z",
    "author_association": "MEMBER",
    "body": "Did some light testing on macOS banning and unbanning unsuspecting testnet nodes. Didn't get in trouble.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/377483673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382917140",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-382917140",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 382917140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjkxNzE0MA==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-19T23:55:12Z",
    "updated_at": "2018-04-19T23:55:12Z",
    "author_association": "MEMBER",
    "body": "rebased. I just shoved g_banman into NodeImpl for now, but obviously we'll want it broken out as a next step.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/382917140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383023647",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-383023647",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11457",
    "id": 383023647,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MzAyMzY0Nw==",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?u=c6cf723ac2c78d38bf31ae2665cb16e3e4452227&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-20T08:26:28Z",
    "updated_at": "2018-04-20T08:26:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK 521ebf3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/383023647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143107886",
    "pull_request_review_id": 67570999,
    "id": 143107886,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzEwNzg4Ng==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention\n+    // The idea is to detect peers that are behaving\n+    // badly and disconnect/ban them, but do it in a\n+    // one-coding-mistake-won't-shatter-the-entire-network\n+    // way.\n+    // IMPORTANT:  There should be nothing I can give a\n+    // node that it will forward on that will make that\n+    // node's peers drop it. If there is, an attacker\n+    // can isolate a node and/or try to split the network.\n+    // Dropping a node for sending stuff that is invalid\n+    // now but might be valid in a later version is also\n+    // dangerous, because it can cause a network split\n+    // between nodes running old code and nodes running\n+    // new code.\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing\n+    bool IsBanned(CNetAddr ip);\n+    bool IsBanned(CSubNet subnet);\n+    bool Unban(const CNetAddr &ip);\n+    bool Unban(const CSubNet &ip);\n+    void GetBanned(banmap_t &banmap);\n+    void DumpBanlist();\n+\n+private:\n+    void SetBanned(const banmap_t &banmap);\n+    bool BannedSetIsDirty();\n+    //!set the \"dirty\" flag for the banlist\n+    void SetBannedSetDirty(bool dirty=true);\n+    //!clean unused entries (if bantime has expired)\n+    void SweepBanned();\n+\n+    banmap_t m_banned;\n+    CCriticalSection m_cs_banned;\n+    bool m_is_dirty;",
    "path": "src/banman.h",
    "position": null,
    "original_position": 58,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What about adding `GUARDED_BY(\u2026)` (see #10866 and #11226) annotations here?\r\n\r\nLike this:\r\n\r\n```\r\n    CCriticalSection m_cs_banned;\r\n    banmap_t m_banned GUARDED_BY(m_cs_banned);\r\n    bool m_is_dirty GUARDED_BY(m_cs_banned);\r\n```\r\n\r\nNit: The lock was renamed from `cs_setBanned` to `m_cs_banned`. All `CCriticalSection`:s in the code base except `m_cs_callbacks_pending` are named with the `cs_` prefix (as opposed to `m_cs_`). Is `m_cs_` the recommended prefix going forward? More specifically, what prefix is recommended for my work in #10866? :-)\r\n\r\nI think there is a point in having consistent naming for the locks in order to allow for easy grepping of the locks. Personally I use grepping frequently (e.g. `git grep ' cs_[a-zA-Z0-9]\\+;' -- \"*.h\" \"*.cpp\"`) in the scripts that keep tracks of the locks to cover in #10866).",
    "created_at": "2017-10-06T04:32:01Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143107886",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143107886"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143107886"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143107886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 58,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282072",
    "pull_request_review_id": 67777701,
    "id": 143282072,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4MjA3Mg==",
    "diff_hunk": "@@ -541,7 +541,13 @@ UniValue setban(const JSONRPCRequest& request)\n         if (request.params[3].isTrue())\n             absolute = true;\n \n-        isSubnet ? g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute) : g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+        if (isSubnet) {\n+            g_connman->DisconnectNode(subNet);",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "ac90cbc5c1faf76b9e9e2cb35c5b77319e10d146",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Shouldnt these technically be in the opposite order? Isnt there otherwise a (supidly rare) race where a new connection can come in and slip behind the ban?",
    "created_at": "2017-10-06T19:57:37Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282072",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282072"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282072"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 545,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282518",
    "pull_request_review_id": 67778242,
    "id": 143282518,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4MjUxOA==",
    "diff_hunk": "@@ -94,7 +94,7 @@ class CBanDB\n private:\n     fs::path pathBanlist;\n public:\n-    CBanDB();\n+    CBanDB(fs::path pathBanlist);",
    "path": "src/addrdb.h",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Make explicit?",
    "created_at": "2017-10-06T19:59:51Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282518",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282518"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282518"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 97,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282845",
    "pull_request_review_id": 67778242,
    "id": 143282845,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4Mjg0NQ==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention",
    "path": "src/banman.h",
    "position": null,
    "original_position": 22,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should this be a class-level comment? (Like placed right above `class BanMan`)",
    "created_at": "2017-10-06T20:01:30Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282845",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282845"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143282845"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143282845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285317",
    "pull_request_review_id": 67781626,
    "id": 143285317,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4NTMxNw==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention\n+    // The idea is to detect peers that are behaving\n+    // badly and disconnect/ban them, but do it in a\n+    // one-coding-mistake-won't-shatter-the-entire-network\n+    // way.\n+    // IMPORTANT:  There should be nothing I can give a\n+    // node that it will forward on that will make that\n+    // node's peers drop it. If there is, an attacker\n+    // can isolate a node and/or try to split the network.\n+    // Dropping a node for sending stuff that is invalid\n+    // now but might be valid in a later version is also\n+    // dangerous, because it can cause a network split\n+    // between nodes running old code and nodes running\n+    // new code.\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing\n+    bool IsBanned(CNetAddr ip);\n+    bool IsBanned(CSubNet subnet);\n+    bool Unban(const CNetAddr &ip);\n+    bool Unban(const CSubNet &ip);\n+    void GetBanned(banmap_t &banmap);\n+    void DumpBanlist();\n+\n+private:\n+    void SetBanned(const banmap_t &banmap);\n+    bool BannedSetIsDirty();\n+    //!set the \"dirty\" flag for the banlist\n+    void SetBannedSetDirty(bool dirty=true);\n+    //!clean unused entries (if bantime has expired)\n+    void SweepBanned();\n+\n+    banmap_t m_banned;\n+    CCriticalSection m_cs_banned;\n+    bool m_is_dirty;",
    "path": "src/banman.h",
    "position": null,
    "original_position": 58,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md:\r\n> Class member variables have a m_ prefix.\r\n\r\nSo yes, m_cs_foo is the recommended syntax going forward for member mutexes, I suppose.",
    "created_at": "2017-10-06T20:15:31Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285317",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285317"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285317"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 58,
    "side": "RIGHT",
    "in_reply_to_id": 143107886
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285464",
    "pull_request_review_id": 67781818,
    "id": 143285464,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4NTQ2NA==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention",
    "path": "src/banman.h",
    "position": null,
    "original_position": 22,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sure",
    "created_at": "2017-10-06T20:16:22Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285464",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285464"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285464"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 143282845
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285484",
    "pull_request_review_id": 67781848,
    "id": 143285484,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4NTQ4NA==",
    "diff_hunk": "@@ -94,7 +94,7 @@ class CBanDB\n private:\n     fs::path pathBanlist;\n public:\n-    CBanDB();\n+    CBanDB(fs::path pathBanlist);",
    "path": "src/addrdb.h",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Will do.",
    "created_at": "2017-10-06T20:16:28Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285484",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285484"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143285484"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143285484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 97,
    "side": "RIGHT",
    "in_reply_to_id": 143282518
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143287393",
    "pull_request_review_id": 67784203,
    "id": 143287393,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI4NzM5Mw==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention\n+    // The idea is to detect peers that are behaving\n+    // badly and disconnect/ban them, but do it in a\n+    // one-coding-mistake-won't-shatter-the-entire-network\n+    // way.\n+    // IMPORTANT:  There should be nothing I can give a\n+    // node that it will forward on that will make that\n+    // node's peers drop it. If there is, an attacker\n+    // can isolate a node and/or try to split the network.\n+    // Dropping a node for sending stuff that is invalid\n+    // now but might be valid in a later version is also\n+    // dangerous, because it can cause a network split\n+    // between nodes running old code and nodes running\n+    // new code.\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing\n+    bool IsBanned(CNetAddr ip);\n+    bool IsBanned(CSubNet subnet);\n+    bool Unban(const CNetAddr &ip);\n+    bool Unban(const CSubNet &ip);\n+    void GetBanned(banmap_t &banmap);\n+    void DumpBanlist();\n+\n+private:\n+    void SetBanned(const banmap_t &banmap);\n+    bool BannedSetIsDirty();\n+    //!set the \"dirty\" flag for the banlist\n+    void SetBannedSetDirty(bool dirty=true);\n+    //!clean unused entries (if bantime has expired)\n+    void SweepBanned();\n+\n+    banmap_t m_banned;\n+    CCriticalSection m_cs_banned;\n+    bool m_is_dirty;",
    "path": "src/banman.h",
    "position": null,
    "original_position": 58,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": ">What about adding GUARDED_BY(\u2026) (see #10866 and #11226) annotations here?\r\n\r\nWill do. Additionally, this actually needs another mutex for the db. I've been debating whether it should be fixed as part of this PR, but event-driven db flushes can actually collide with the one on a timer. addrman has the same issue, and that may be the cause of some addrman corruption we've seen lately (#11252, #11409, #11454).",
    "created_at": "2017-10-06T20:27:02Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143287393",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143287393"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143287393"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143287393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 58,
    "side": "RIGHT",
    "in_reply_to_id": 143107886
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143291015",
    "pull_request_review_id": 67788874,
    "id": 143291015,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzI5MTAxNQ==",
    "diff_hunk": "@@ -541,7 +541,13 @@ UniValue setban(const JSONRPCRequest& request)\n         if (request.params[3].isTrue())\n             absolute = true;\n \n-        isSubnet ? g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute) : g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+        if (isSubnet) {\n+            g_connman->DisconnectNode(subNet);",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "ac90cbc5c1faf76b9e9e2cb35c5b77319e10d146",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, good point. Will fix.",
    "created_at": "2017-10-06T20:48:15Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143291015",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143291015"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143291015"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143291015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 545,
    "side": "RIGHT",
    "in_reply_to_id": 143282072
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301192",
    "pull_request_review_id": 67801007,
    "id": 143301192,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwMTE5Mg==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention\n+    // The idea is to detect peers that are behaving\n+    // badly and disconnect/ban them, but do it in a\n+    // one-coding-mistake-won't-shatter-the-entire-network\n+    // way.\n+    // IMPORTANT:  There should be nothing I can give a\n+    // node that it will forward on that will make that\n+    // node's peers drop it. If there is, an attacker\n+    // can isolate a node and/or try to split the network.\n+    // Dropping a node for sending stuff that is invalid\n+    // now but might be valid in a later version is also\n+    // dangerous, because it can cause a network split\n+    // between nodes running old code and nodes running\n+    // new code.\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing\n+    bool IsBanned(CNetAddr ip);\n+    bool IsBanned(CSubNet subnet);\n+    bool Unban(const CNetAddr &ip);\n+    bool Unban(const CSubNet &ip);\n+    void GetBanned(banmap_t &banmap);\n+    void DumpBanlist();\n+\n+private:\n+    void SetBanned(const banmap_t &banmap);\n+    bool BannedSetIsDirty();\n+    //!set the \"dirty\" flag for the banlist\n+    void SetBannedSetDirty(bool dirty=true);\n+    //!clean unused entries (if bantime has expired)\n+    void SweepBanned();\n+\n+    banmap_t m_banned;\n+    CCriticalSection m_cs_banned;\n+    bool m_is_dirty;\n+    CClientUIInterface* m_client_interface = nullptr;\n+    CBanDB m_ban_db;\n+    int64_t m_default_ban_time;\n+};\n+\n+extern std::unique_ptr<BanMan> g_banman;\n+#endif",
    "path": "src/banman.h",
    "position": null,
    "original_position": 65,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```c++\r\n#endif // BITCOIN_BANMAN_H\r\n```",
    "created_at": "2017-10-06T21:47:03Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143301192",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301192"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143301192"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 66,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301475",
    "pull_request_review_id": 67801007,
    "id": 143301475,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwMTQ3NQ==",
    "diff_hunk": "@@ -1267,11 +1273,13 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // is not yet setup and may end up being set up twice if we\n     // need to reindex later.\n \n+    assert(!g_banman);\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface, DEFAULT_MISBEHAVING_BANTIME));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Use `std::make_unique`.",
    "created_at": "2017-10-06T21:49:13Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143301475",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301475"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143301475"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143301475/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1276,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304316",
    "pull_request_review_id": 67801007,
    "id": 143304316,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwNDMxNg==",
    "diff_hunk": "@@ -541,7 +541,13 @@ UniValue setban(const JSONRPCRequest& request)\n         if (request.params[3].isTrue())\n             absolute = true;\n \n-        isSubnet ? g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute) : g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+        if (isSubnet) {\n+            g_connman->DisconnectNode(subNet);",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "ac90cbc5c1faf76b9e9e2cb35c5b77319e10d146",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Inverting opens another dumb case: ban -> (unban -> connect) -> disconnect \ud83d\ude44 Do you think `DisconnectNode()` should be called inside `Ban()` while the lock is held?",
    "created_at": "2017-10-06T22:09:14Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143304316",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304316"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143304316"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 545,
    "side": "RIGHT",
    "in_reply_to_id": 143282072
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304477",
    "pull_request_review_id": 67801007,
    "id": 143304477,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwNDQ3Nw==",
    "diff_hunk": "@@ -44,6 +44,8 @@ BOOST_FIXTURE_TEST_SUITE(DoS_tests, TestingSetup)\n \n BOOST_AUTO_TEST_CASE(DoS_banning)\n {\n+    auto connman = std::unique_ptr<CConnman>(new CConnman(0x1337, 0x1337));",
    "path": "src/test/DoS_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "027b8d391812740ed2c77b995d91ea7a9ba14340",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Use `std::make_unique`.",
    "created_at": "2017-10-06T22:10:28Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143304477",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304477"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143304477"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143304477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143306698",
    "pull_request_review_id": 67807542,
    "id": 143306698,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwNjY5OA==",
    "diff_hunk": "@@ -1267,11 +1273,13 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // is not yet setup and may end up being set up twice if we\n     // need to reindex later.\n \n+    assert(!g_banman);\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface, DEFAULT_MISBEHAVING_BANTIME));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "that's c++14 :(",
    "created_at": "2017-10-06T22:28:36Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143306698",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143306698"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143306698"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143306698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1276,
    "side": "RIGHT",
    "in_reply_to_id": 143301475
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143308982",
    "pull_request_review_id": 67810130,
    "id": 143308982,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMwODk4Mg==",
    "diff_hunk": "@@ -541,7 +541,13 @@ UniValue setban(const JSONRPCRequest& request)\n         if (request.params[3].isTrue())\n             absolute = true;\n \n-        isSubnet ? g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute) : g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+        if (isSubnet) {\n+            g_connman->DisconnectNode(subNet);",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "ac90cbc5c1faf76b9e9e2cb35c5b77319e10d146",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't see how this could reasonably happen. Anyway, it's not a departure from the current behavior.",
    "created_at": "2017-10-06T22:50:58Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143308982",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143308982"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143308982"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143308982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 545,
    "side": "RIGHT",
    "in_reply_to_id": 143282072
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143327303",
    "pull_request_review_id": 67829712,
    "id": 143327303,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzMyNzMwMw==",
    "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+// Denial-of-service detection/prevention\n+// The idea is to detect peers that are behaving\n+// badly and disconnect/ban them, but do it in a\n+// one-coding-mistake-won't-shatter-the-entire-network\n+// way.\n+// IMPORTANT:  There should be nothing I can give a\n+// node that it will forward on that will make that\n+// node's peers drop it. If there is, an attacker\n+// can isolate a node and/or try to split the network.\n+// Dropping a node for sending stuff that is invalid\n+// now but might be valid in a later version is also\n+// dangerous, because it can cause a network split\n+// between nodes running old code and nodes running\n+// new code.\n+\n+class BanMan\n+{\n+public:\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing",
    "path": "src/banman.h",
    "position": null,
    "original_position": 41,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "7a574787c889a26d03af70a493210da5087935c7",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would it make sense to move `ClearBanned()` to a subclass that's only used by the test suite?",
    "created_at": "2017-10-07T09:50:54Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143327303",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143327303"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143327303"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143327303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 41,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143557085",
    "pull_request_review_id": 68085079,
    "id": 143557085,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzU1NzA4NQ==",
    "diff_hunk": "@@ -1267,11 +1273,13 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // is not yet setup and may end up being set up twice if we\n     // need to reindex later.\n \n+    assert(!g_banman);\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface, DEFAULT_MISBEHAVING_BANTIME));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A substitute for C++14 `std::make_unique` in the form of `MakeUnique` is added to `util.h` as part of #11043 (see https://github.com/bitcoin/bitcoin/pull/11043/commits/27a54eacc07325e9a10cbea71ab03d87a96679b7) which will hopefully be merged soon :-)",
    "created_at": "2017-10-09T19:29:26Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143557085",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143557085"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143557085"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143557085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1276,
    "side": "RIGHT",
    "in_reply_to_id": 143301475
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143563808",
    "pull_request_review_id": 68092372,
    "id": 143563808,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MzU2MzgwOA==",
    "diff_hunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+// Denial-of-service detection/prevention\n+// The idea is to detect peers that are behaving\n+// badly and disconnect/ban them, but do it in a\n+// one-coding-mistake-won't-shatter-the-entire-network\n+// way.\n+// IMPORTANT:  There should be nothing I can give a\n+// node that it will forward on that will make that\n+// node's peers drop it. If there is, an attacker\n+// can isolate a node and/or try to split the network.\n+// Dropping a node for sending stuff that is invalid\n+// now but might be valid in a later version is also\n+// dangerous, because it can cause a network split\n+// between nodes running old code and nodes running\n+// new code.\n+\n+class BanMan\n+{\n+public:\n+    ~BanMan();\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);\n+    void Ban(const CNetAddr& netAddr, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void Ban(const CSubNet& subNet, const BanReason& reason, int64_t bantimeoffset = 0, bool sinceUnixEpoch = false);\n+    void ClearBanned(); // needed for unit testing",
    "path": "src/banman.h",
    "position": null,
    "original_position": 41,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "7a574787c889a26d03af70a493210da5087935c7",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a misleading comment that needs to be dropped. This is used by the ```clearbanned``` rpc as well.",
    "created_at": "2017-10-09T20:01:13Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143563808",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143563808"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r143563808"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/143563808/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 41,
    "side": "RIGHT",
    "in_reply_to_id": 143327303
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145399568",
    "pull_request_review_id": 70192383,
    "id": 145399568,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTM5OTU2OA==",
    "diff_hunk": "@@ -1155,16 +1155,17 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Get currently selected peer address\n         NodeId id = nodes.at(i).data().toLongLong();\n \n-\t// Get currently selected peer address\n-\tint detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n-\tif(detailNodeRow < 0)\n-\t    return;\n-\n-\t// Find possible nodes, ban it and clear the selected node\n-\tconst CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n-\tif(stats) {\n-\t    g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-\t}\n+        // Get currently selected peer address\n+        int detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n+        if(detailNodeRow < 0)\n+            return;\n+\n+        // Find possible nodes, ban it and clear the selected node\n+        const CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n+        if(stats) {\n+            g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n+            g_connman->DisconnectNode(id);",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5226fd1c0ce0e96a8b7a136d39752b2d78544de3",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we need to invoke the new DisconnectNode() method that takes a CNetAddr, rather than just the nodeid, in order to keep the behavior the same (ie disconnect all peers on the same subnet)?",
    "created_at": "2017-10-18T12:33:50Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145399568",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145399568"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145399568"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145399568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1167,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402177",
    "pull_request_review_id": 70192383,
    "id": 145402177,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQwMjE3Nw==",
    "diff_hunk": "@@ -38,8 +38,11 @@\n \n #include <math.h>\n \n-// Dump addresses to peers.dat and banlist.dat every 15 minutes (900s)\n-#define DUMP_ADDRESSES_INTERVAL 900\n+// Dump addresses to peers.dat every 15 minutes (900s)\n+static const int DUMP_PEERS_INTERVAL = 60 * 15;\n+\n+// Dump addresses to banlist.dat every 15 minutes (900s)\n+static const int DUMP_BANS_INTERVAL = 60 * 15;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "fc8eeeca4b721895b5b973c8dfb5d9a898c1b55d",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this a place where a `constexpr` is preferred over just `const`?",
    "created_at": "2017-10-18T12:45:12Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145402177",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402177"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145402177"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402746",
    "pull_request_review_id": 70192383,
    "id": 145402746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQwMjc0Ng==",
    "diff_hunk": "@@ -72,8 +72,12 @@ static const bool DEFAULT_PROXYRANDOMIZE = true;\n static const bool DEFAULT_REST_ENABLE = false;\n static const bool DEFAULT_STOPAFTERBLOCKIMPORT = false;\n \n+// Dump addresses to banlist.dat every 15 minutes (900s)\n+static const int DUMP_BANS_INTERVAL = 60 * 15;",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(same question as before, about whether `constexpr` should be preferred?)",
    "created_at": "2017-10-18T12:47:32Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145402746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145402746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145402746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145403823",
    "pull_request_review_id": 70192383,
    "id": 145403823,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQwMzgyMw==",
    "diff_hunk": "@@ -1266,11 +1271,13 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // is not yet setup and may end up being set up twice if we\n     // need to reindex later.\n \n+    assert(!g_banman);\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(&uiInterface));\n     assert(!g_connman);\n     g_connman = std::unique_ptr<CConnman>(new CConnman(GetRand(std::numeric_limits<uint64_t>::max()), GetRand(std::numeric_limits<uint64_t>::max())));\n     CConnman& connman = *g_connman;\n \n-    peerLogic.reset(new PeerLogicValidation(&connman));\n+    peerLogic.reset(new PeerLogicValidation(g_connman.get(), g_banman.get()));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Mostly an aside, since we're already doing it this way with connman, but I'm curious why we're not using shared pointers here instead of this unique_ptr.get() stuff?",
    "created_at": "2017-10-18T12:52:28Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145403823",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145403823"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145403823"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145403823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1281,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145404743",
    "pull_request_review_id": 70192383,
    "id": 145404743,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQwNDc0Mw==",
    "diff_hunk": "@@ -1722,5 +1730,11 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    if (g_banman) {",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a circumstance where g_banman would not exist here?  If so a comment would be nice; if not then I'm wondering if we should `assert` instead, or otherwise enforce a shutdown.",
    "created_at": "2017-10-18T12:56:05Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145404743",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145404743"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145404743"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145404743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1733,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145406514",
    "pull_request_review_id": 70192383,
    "id": 145406514,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQwNjUxNA==",
    "diff_hunk": "@@ -2405,7 +2413,9 @@ void CConnman::Stop()\n     if (fAddressesInitialized)\n     {\n         DumpAddresses();\n-        DumpBanlist();\n+        if (m_banman) {\n+            m_banman->DumpBanlist();",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 217,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why do we need this, if the BanMan already dumps its banlist in its destructor?",
    "created_at": "2017-10-18T13:03:12Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145406514",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145406514"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145406514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145406514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2231,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456651",
    "pull_request_review_id": 70192383,
    "id": 145456651,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ1NjY1MQ==",
    "diff_hunk": "@@ -509,8 +509,8 @@ UniValue setban(const JSONRPCRequest& request)\n                             + HelpExampleCli(\"setban\", \"\\\"192.168.0.0/24\\\" \\\"add\\\"\")\n                             + HelpExampleRpc(\"setban\", \"\\\"192.168.0.6\\\", \\\"add\\\", 86400\")\n                             );\n-    if(!g_connman)\n-        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    if(!g_banman)\n+        throw JSONRPCError(RPC_DATABASE_ERROR, \"Error: Ban database not loaded\");",
    "path": "src/rpc/net.cpp",
    "position": 15,
    "original_position": 7,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Does this rpc error change require a release note mention?  If so, we should track this in an issue.",
    "created_at": "2017-10-18T15:44:24Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145456651",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456651"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145456651"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 514,
    "original_line": 514,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456944",
    "pull_request_review_id": 70192383,
    "id": 145456944,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ1Njk0NA==",
    "diff_hunk": "@@ -1163,8 +1163,12 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Find possible nodes, ban it and clear the selected node\n         const CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n         if(stats) {\n-            g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-            g_connman->DisconnectNode(id);\n+            if (g_banman) {\n+                g_banman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n+            }\n+            if (g_connman) {\n+                g_connman->DisconnectNode(id);",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same comment as before about using nodeid rather than address",
    "created_at": "2017-10-18T15:45:19Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145456944",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456944"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145456944"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145456944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1170,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145458299",
    "pull_request_review_id": 70192383,
    "id": 145458299,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ1ODI5OQ==",
    "diff_hunk": "@@ -570,11 +574,11 @@ UniValue listbanned(const JSONRPCRequest& request)\n                             + HelpExampleRpc(\"listbanned\", \"\")\n                             );\n \n-    if(!g_connman)\n-        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    if(!g_banman)\n+        throw JSONRPCError(RPC_DATABASE_ERROR, \"Error: Ban database not loaded\");",
    "path": "src/rpc/net.cpp",
    "position": 59,
    "original_position": 53,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Consider adding a release-note to do for the rpc error change in this rpc call as well.",
    "created_at": "2017-10-18T15:49:39Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145458299",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145458299"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145458299"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145458299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 579,
    "original_line": 579,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145461994",
    "pull_request_review_id": 70192383,
    "id": 145461994,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ2MTk5NA==",
    "diff_hunk": "@@ -1272,7 +1272,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // need to reindex later.\n \n     assert(!g_banman);\n-    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface));\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface, DEFAULT_MISBEHAVING_BANTIME));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8009f1d587b27728c00eaffe47bb324a25dfd39a",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we need to pass `gArgs.GetArg(\"-bantime\", DEFAULT_MISBEHAVING_BANTIME)` here?  Or else I'm missing how the command line argument gets used after this commit.",
    "created_at": "2017-10-18T16:01:18Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145461994",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145461994"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145461994"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145461994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1275,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471394",
    "pull_request_review_id": 70277014,
    "id": 145471394,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3MTM5NA==",
    "diff_hunk": "@@ -1266,11 +1271,13 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // is not yet setup and may end up being set up twice if we\n     // need to reindex later.\n \n+    assert(!g_banman);\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(&uiInterface));\n     assert(!g_connman);\n     g_connman = std::unique_ptr<CConnman>(new CConnman(GetRand(std::numeric_limits<uint64_t>::max()), GetRand(std::numeric_limits<uint64_t>::max())));\n     CConnman& connman = *g_connman;\n \n-    peerLogic.reset(new PeerLogicValidation(&connman));\n+    peerLogic.reset(new PeerLogicValidation(g_connman.get(), g_banman.get()));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Because these aren't intended to be actual globals. We just don't (yet) have the infrastructure to pass them into RPC and qt. Once banman/addrman are split out, I'll be PRing a set of changes that make RPC instantiated. With that done, the ui (rpc/qt/whatever else) will have these interfaces passed in, and they can assume that the pointers are good for their lifetime.",
    "created_at": "2017-10-18T16:35:28Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145471394",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471394"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145471394"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1281,
    "side": "RIGHT",
    "in_reply_to_id": 145403823
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471972",
    "pull_request_review_id": 70277729,
    "id": 145471972,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3MTk3Mg==",
    "diff_hunk": "@@ -1722,5 +1730,11 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    if (g_banman) {",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "My original thinking was that if we add a -nop2p option (which I'm hoping we can do soon), the bandb would be disabled as well. But thinking about it now, one doesn't exclude the other. So yes, an assert makes more sense here. Will do.",
    "created_at": "2017-10-18T16:37:19Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145471972",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471972"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145471972"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145471972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1733,
    "side": "RIGHT",
    "in_reply_to_id": 145404743
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472121",
    "pull_request_review_id": 70277899,
    "id": 145472121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3MjEyMQ==",
    "diff_hunk": "@@ -38,8 +38,11 @@\n \n #include <math.h>\n \n-// Dump addresses to peers.dat and banlist.dat every 15 minutes (900s)\n-#define DUMP_ADDRESSES_INTERVAL 900\n+// Dump addresses to peers.dat every 15 minutes (900s)\n+static const int DUMP_PEERS_INTERVAL = 60 * 15;\n+\n+// Dump addresses to banlist.dat every 15 minutes (900s)\n+static const int DUMP_BANS_INTERVAL = 60 * 15;",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "fc8eeeca4b721895b5b973c8dfb5d9a898c1b55d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep, will change.",
    "created_at": "2017-10-18T16:37:54Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT",
    "in_reply_to_id": 145402177
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472278",
    "pull_request_review_id": 70278107,
    "id": 145472278,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3MjI3OA==",
    "diff_hunk": "@@ -2405,7 +2413,9 @@ void CConnman::Stop()\n     if (fAddressesInitialized)\n     {\n         DumpAddresses();\n-        DumpBanlist();\n+        if (m_banman) {\n+            m_banman->DumpBanlist();",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 217,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, will remove.",
    "created_at": "2017-10-18T16:38:40Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472278",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472278"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472278"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2231,
    "side": "RIGHT",
    "in_reply_to_id": 145406514
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472776",
    "pull_request_review_id": 70278742,
    "id": 145472776,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3Mjc3Ng==",
    "diff_hunk": "@@ -1272,7 +1272,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     // need to reindex later.\n \n     assert(!g_banman);\n-    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface));\n+    g_banman = std::unique_ptr<BanMan>(new BanMan(GetDataDir() / \"banlist.dat\", &uiInterface, DEFAULT_MISBEHAVING_BANTIME));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8009f1d587b27728c00eaffe47bb324a25dfd39a",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Very much so, thanks for catching that.",
    "created_at": "2017-10-18T16:40:49Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472776",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472776"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145472776"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145472776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1275,
    "side": "RIGHT",
    "in_reply_to_id": 145461994
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145474963",
    "pull_request_review_id": 70281229,
    "id": 145474963,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3NDk2Mw==",
    "diff_hunk": "@@ -1155,16 +1155,17 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Get currently selected peer address\n         NodeId id = nodes.at(i).data().toLongLong();\n \n-\t// Get currently selected peer address\n-\tint detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n-\tif(detailNodeRow < 0)\n-\t    return;\n-\n-\t// Find possible nodes, ban it and clear the selected node\n-\tconst CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n-\tif(stats) {\n-\t    g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-\t}\n+        // Get currently selected peer address\n+        int detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n+        if(detailNodeRow < 0)\n+            return;\n+\n+        // Find possible nodes, ban it and clear the selected node\n+        const CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n+        if(stats) {\n+            g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n+            g_connman->DisconnectNode(id);",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5226fd1c0ce0e96a8b7a136d39752b2d78544de3",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "When accepting an ip as a string from the user I agree. But in this case the request is for a specific node, so I would argue that the id is more in line with what the user would expect.\r\n\r\nI don't care hugely either way though.\r\n\r\nAs an aside, what we really need here is kick/ban/kick+ban options. But I don't think it's worth adding the complexity?",
    "created_at": "2017-10-18T16:49:27Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145474963",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145474963"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145474963"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145474963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1167,
    "side": "RIGHT",
    "in_reply_to_id": 145399568
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145476777",
    "pull_request_review_id": 70283288,
    "id": 145476777,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3Njc3Nw==",
    "diff_hunk": "@@ -1163,8 +1163,12 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Find possible nodes, ban it and clear the selected node\n         const CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n         if(stats) {\n-            g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-            g_connman->DisconnectNode(id);\n+            if (g_banman) {\n+                g_banman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n+            }\n+            if (g_connman) {\n+                g_connman->DisconnectNode(id);",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same response :)\r\n\r\nNote that these comments are a bit stale. We used to track down the entry by looking through all node addresses, but now we use the id directly. I'll update those comments independently.\r\n\r\nAlso, see the behavior of disconnectSelectedNode above. I think it makes sense to be consistent with that?\r\n\r\nFor the sake of not over-complicating this, It may make sense to just keep the old behavior for this PR and switch to id in a follow-up.",
    "created_at": "2017-10-18T16:56:22Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145476777",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145476777"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145476777"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145476777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1170,
    "side": "RIGHT",
    "in_reply_to_id": 145456944
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145477562",
    "pull_request_review_id": 70284221,
    "id": 145477562,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3NzU2Mg==",
    "diff_hunk": "@@ -509,8 +509,8 @@ UniValue setban(const JSONRPCRequest& request)\n                             + HelpExampleCli(\"setban\", \"\\\"192.168.0.0/24\\\" \\\"add\\\"\")\n                             + HelpExampleRpc(\"setban\", \"\\\"192.168.0.6\\\", \\\"add\\\", 86400\")\n                             );\n-    if(!g_connman)\n-        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    if(!g_banman)\n+        throw JSONRPCError(RPC_DATABASE_ERROR, \"Error: Ban database not loaded\");",
    "path": "src/rpc/net.cpp",
    "position": 15,
    "original_position": 7,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I didn't bother with docs because as far as I know, it's been impossible to receive this error in practice because g_connman always exists. It won't be until we have a -nop2p that it's relevant.",
    "created_at": "2017-10-18T16:59:13Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145477562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145477562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145477562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145477562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 514,
    "original_line": 514,
    "side": "RIGHT",
    "in_reply_to_id": 145456651
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145478034",
    "pull_request_review_id": 70284753,
    "id": 145478034,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NTQ3ODAzNA==",
    "diff_hunk": "@@ -570,11 +574,11 @@ UniValue listbanned(const JSONRPCRequest& request)\n                             + HelpExampleRpc(\"listbanned\", \"\")\n                             );\n \n-    if(!g_connman)\n-        throw JSONRPCError(RPC_CLIENT_P2P_DISABLED, \"Error: Peer-to-peer functionality missing or disabled\");\n+    if(!g_banman)\n+        throw JSONRPCError(RPC_DATABASE_ERROR, \"Error: Ban database not loaded\");",
    "path": "src/rpc/net.cpp",
    "position": 59,
    "original_position": 53,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b435a7995da5ea7d914ea1d26ddd89babdd87c25",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same as above. These could be asserts for now, but imo we're less likely to forget about these if errors are hooked up in advance.",
    "created_at": "2017-10-18T17:00:57Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145478034",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145478034"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r145478034"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/145478034/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 579,
    "original_line": 579,
    "side": "RIGHT",
    "in_reply_to_id": 145458299
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986287",
    "pull_request_review_id": 76621832,
    "id": 150986287,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDk4NjI4Nw==",
    "diff_hunk": "@@ -2559,6 +2553,25 @@ bool CConnman::DisconnectNode(const std::string& strNode)\n     }\n     return false;\n }\n+\n+bool CConnman::DisconnectNode(const CSubNet& subnet)",
    "path": "src/net.cpp",
    "position": 291,
    "original_position": 20,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5f25e6ac15f4002a3227c2c207363e7c386d7e76",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit `net: Break disconnecting out of Ban()`,\r\n\r\nWhy `bool` if the return value is not used?",
    "created_at": "2017-11-14T22:42:05Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150986287",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986287"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150986287"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2369,
    "original_line": 2369,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986423",
    "pull_request_review_id": 76621832,
    "id": 150986423,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDk4NjQyMw==",
    "diff_hunk": "@@ -1143,16 +1143,17 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Get currently selected peer address\n         NodeId id = nodes.at(i).data().toLongLong();\n \n-\t// Get currently selected peer address\n-\tint detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n-\tif(detailNodeRow < 0)\n-\t    return;\n-\n-\t// Find possible nodes, ban it and clear the selected node\n-\tconst CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n-\tif(stats) {\n-\t    g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-\t}\n+        // Get currently selected peer address\n+        int detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n+        if(detailNodeRow < 0)",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5f25e6ac15f4002a3227c2c207363e7c386d7e76",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit `net: Break disconnecting out of Ban()`,\r\n\r\nNit, add space.",
    "created_at": "2017-11-14T22:42:42Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150986423",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986423"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150986423"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150986423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1148,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150997377",
    "pull_request_review_id": 76634738,
    "id": 150997377,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDk5NzM3Nw==",
    "diff_hunk": "@@ -2559,6 +2553,25 @@ bool CConnman::DisconnectNode(const std::string& strNode)\n     }\n     return false;\n }\n+\n+bool CConnman::DisconnectNode(const CSubNet& subnet)",
    "path": "src/net.cpp",
    "position": 291,
    "original_position": 20,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5f25e6ac15f4002a3227c2c207363e7c386d7e76",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Just to be consistent with the others.",
    "created_at": "2017-11-14T23:41:31Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150997377",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150997377"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150997377"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150997377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2369,
    "original_line": 2369,
    "side": "RIGHT",
    "in_reply_to_id": 150986287
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150998819",
    "pull_request_review_id": 76636385,
    "id": 150998819,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MDk5ODgxOQ==",
    "diff_hunk": "@@ -1143,16 +1143,17 @@ void RPCConsole::banSelectedNode(int bantime)\n         // Get currently selected peer address\n         NodeId id = nodes.at(i).data().toLongLong();\n \n-\t// Get currently selected peer address\n-\tint detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n-\tif(detailNodeRow < 0)\n-\t    return;\n-\n-\t// Find possible nodes, ban it and clear the selected node\n-\tconst CNodeCombinedStats *stats = clientModel->getPeerTableModel()->getNodeStats(detailNodeRow);\n-\tif(stats) {\n-\t    g_connman->Ban(stats->nodeStats.addr, BanReasonManuallyAdded, bantime);\n-\t}\n+        // Get currently selected peer address\n+        int detailNodeRow = clientModel->getPeerTableModel()->getRowByNodeId(id);\n+        if(detailNodeRow < 0)",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "5f25e6ac15f4002a3227c2c207363e7c386d7e76",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2017-11-14T23:50:16Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150998819",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150998819"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r150998819"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/150998819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1148,
    "side": "RIGHT",
    "in_reply_to_id": 150986423
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157000260",
    "pull_request_review_id": 83571030,
    "id": 157000260,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwMDI2MA==",
    "diff_hunk": "@@ -556,13 +556,7 @@ void CConnman::Ban(const CSubNet& subNet, const BanReason &banReason, int64_t ba\n     }\n     if(clientInterface)\n         clientInterface->BannedListChanged();\n-    {\n-        LOCK(cs_vNodes);\n-        for (CNode* pnode : vNodes) {\n-            if (subNet.Match((CNetAddr)pnode->addr))\n-                pnode->fDisconnect = true;\n-        }\n-    }\n+",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04e692c5292988688d492937ad37b8ac80f2fa07",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a behavior change when banning a remote IP in net_processing - we no longer disconnect any other connections from the same peer, only block new ones and disconnect the specific connection that made us ban them. Don't know that its a big deal, but might be nice to disconnect-by-ip there, too.",
    "created_at": "2017-12-14T16:52:14Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157000260",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157000260"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157000260"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157000260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 559,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157001644",
    "pull_request_review_id": 83571030,
    "id": 157001644,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwMTY0NA==",
    "diff_hunk": "@@ -1726,5 +1734,9 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    scheduler.scheduleEvery([]{",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, it seems like our trend is to move things like this into the constructor/init logic for the subsystem/module itself instead of shoving everything in init. I rather liked that trend....",
    "created_at": "2017-12-14T16:57:12Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157001644",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157001644"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157001644"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157001644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1769,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157002284",
    "pull_request_review_id": 83571030,
    "id": 157002284,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwMjI4NA==",
    "diff_hunk": "@@ -2283,24 +2279,8 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\n             DumpAddresses();\n         }\n     }\n-    if (clientInterface)\n-        clientInterface->InitMessage(_(\"Loading banlist...\"));\n-    // Load addresses from banlist.dat\n-    nStart = GetTimeMillis();\n-    CBanDB bandb;\n-    banmap_t banmap;\n-    if (bandb.Read(banmap)) {\n-        SetBanned(banmap); // thread save setter\n-        SetBannedSetDirty(false); // no need to write down, just read data\n-        SweepBanned(); // sweep out unused entries\n \n-        LogPrint(BCLog::NET, \"Loaded %d banned node ips/subnets from banlist.dat  %dms\\n\",\n-            banmap.size(), GetTimeMillis() - nStart);\n-    } else {\n-        LogPrintf(\"Invalid or missing banlist.dat; recreating\\n\");\n-        SetBannedSetDirty(true); // force write\n-        DumpBanlist();\n-    }\n+    nStart = GetTimeMillis();",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 166,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems like a dead store?",
    "created_at": "2017-12-14T16:59:21Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157002284",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157002284"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157002284"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157002284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2283,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157003948",
    "pull_request_review_id": 83571030,
    "id": 157003948,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwMzk0OA==",
    "diff_hunk": "@@ -544,16 +544,20 @@ UniValue setban(const JSONRPCRequest& request)\n             absolute = true;\n \n         if (isSubnet) {\n-            g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(subNet);\n+            g_banman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is it really worth checking? We already check for g_banman further up, are we really anticipating having a g_banman but not a g_connman?",
    "created_at": "2017-12-14T17:04:57Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157003948",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157003948"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157003948"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157003948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157004696",
    "pull_request_review_id": 83571030,
    "id": 157004696,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzAwNDY5Ng==",
    "diff_hunk": "@@ -132,7 +132,7 @@ class BanMan\n     // between nodes running old code and nodes running\n     // new code.\n     ~BanMan();\n-    BanMan(fs::path ban_file, CClientUIInterface* client_interface);\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);",
    "path": "src/net.h",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "c4c300849c1eaca3069022428dcabea6a1d6c4d4",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I cant say I really understand the desire to avoid the argparsing dep, when you include <util.h> either way. Seems like useless indirection.",
    "created_at": "2017-12-14T17:07:42Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157004696",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157004696"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157004696"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157004696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 135,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638178",
    "pull_request_review_id": 84313453,
    "id": 157638178,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzYzODE3OA==",
    "diff_hunk": "@@ -556,13 +556,7 @@ void CConnman::Ban(const CSubNet& subNet, const BanReason &banReason, int64_t ba\n     }\n     if(clientInterface)\n         clientInterface->BannedListChanged();\n-    {\n-        LOCK(cs_vNodes);\n-        for (CNode* pnode : vNodes) {\n-            if (subNet.Match((CNetAddr)pnode->addr))\n-                pnode->fDisconnect = true;\n-        }\n-    }\n+",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04e692c5292988688d492937ad37b8ac80f2fa07",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point. Disconnecting the single node seems more correct to me, but I'll revert to the current behavior here to avoid the change.",
    "created_at": "2017-12-19T00:34:40Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638178",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638178"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638178"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 559,
    "side": "RIGHT",
    "in_reply_to_id": 157000260
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638414",
    "pull_request_review_id": 84313719,
    "id": 157638414,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzYzODQxNA==",
    "diff_hunk": "@@ -2283,24 +2279,8 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\n             DumpAddresses();\n         }\n     }\n-    if (clientInterface)\n-        clientInterface->InitMessage(_(\"Loading banlist...\"));\n-    // Load addresses from banlist.dat\n-    nStart = GetTimeMillis();\n-    CBanDB bandb;\n-    banmap_t banmap;\n-    if (bandb.Read(banmap)) {\n-        SetBanned(banmap); // thread save setter\n-        SetBannedSetDirty(false); // no need to write down, just read data\n-        SweepBanned(); // sweep out unused entries\n \n-        LogPrint(BCLog::NET, \"Loaded %d banned node ips/subnets from banlist.dat  %dms\\n\",\n-            banmap.size(), GetTimeMillis() - nStart);\n-    } else {\n-        LogPrintf(\"Invalid or missing banlist.dat; recreating\\n\");\n-        SetBannedSetDirty(true); // force write\n-        DumpBanlist();\n-    }\n+    nStart = GetTimeMillis();",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 166,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, will remove.",
    "created_at": "2017-12-19T00:36:30Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638414",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638414"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638414"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2283,
    "side": "RIGHT",
    "in_reply_to_id": 157002284
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638681",
    "pull_request_review_id": 84314037,
    "id": 157638681,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzYzODY4MQ==",
    "diff_hunk": "@@ -132,7 +132,7 @@ class BanMan\n     // between nodes running old code and nodes running\n     // new code.\n     ~BanMan();\n-    BanMan(fs::path ban_file, CClientUIInterface* client_interface);\n+    BanMan(fs::path ban_file, CClientUIInterface* client_interface, int64_t default_ban_time);",
    "path": "src/net.h",
    "position": null,
    "original_position": 5,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "c4c300849c1eaca3069022428dcabea6a1d6c4d4",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "So that we can test independent of the cmdline args.",
    "created_at": "2017-12-19T00:38:48Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638681",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638681"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638681"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 135,
    "side": "RIGHT",
    "in_reply_to_id": 157004696
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638858",
    "pull_request_review_id": 84314247,
    "id": 157638858,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzYzODg1OA==",
    "diff_hunk": "@@ -544,16 +544,20 @@ UniValue setban(const JSONRPCRequest& request)\n             absolute = true;\n \n         if (isSubnet) {\n-            g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(subNet);\n+            g_banman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 27,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yea, I think it may be useful in the future to run with -p2p=0 in order to view/cleanup your bandb. ",
    "created_at": "2017-12-19T00:40:14Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638858",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638858"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157638858"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157638858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 549,
    "side": "RIGHT",
    "in_reply_to_id": 157003948
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157640452",
    "pull_request_review_id": 84316024,
    "id": 157640452,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzY0MDQ1Mg==",
    "diff_hunk": "@@ -1726,5 +1734,9 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    scheduler.scheduleEvery([]{",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Well the schedule in this case is bitcoind specific. There's no reason for BanMan to know about it, and it's not exclusive to net. Throwing in an app-specific schedule would kinda defeat the purpose of breaking it out.",
    "created_at": "2017-12-19T00:52:50Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157640452",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157640452"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157640452"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157640452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1769,
    "side": "RIGHT",
    "in_reply_to_id": 157001644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157657703",
    "pull_request_review_id": 84335595,
    "id": 157657703,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1NzY1NzcwMw==",
    "diff_hunk": "@@ -1726,5 +1734,9 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    scheduler.scheduleEvery([]{",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ugh, I mean the other annoying bit is that init.o is, by far, our largest compilation module. Any excuse to pull stuff out of init and put knowledge of a module in that module instead of init seems like the right direction to me. Also because we're telling the scheduler to schedule calling a function in that module based on a timer set in that module's header just seems...weird to me. If we want to ensure its easy to add unit tests later you can easily make the scheduler an optional arg and skip dumping if one isn't provided to the constructor.",
    "created_at": "2017-12-19T03:32:09Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157657703",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157657703"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157657703"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/157657703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1769,
    "side": "RIGHT",
    "in_reply_to_id": 157001644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159706508",
    "pull_request_review_id": 86696965,
    "id": 159706508,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcwNjUwOA==",
    "diff_hunk": "@@ -2556,6 +2550,25 @@ bool CConnman::DisconnectNode(const std::string& strNode)\n     }\n     return false;\n }\n+\n+bool CConnman::DisconnectNode(const CSubNet& subnet)\n+{\n+    bool disconnected = false;\n+    LOCK(cs_vNodes);\n+    for (CNode* pnode : vNodes) {\n+        if (subnet.Match((CNetAddr)pnode->addr)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b8d5dd5751eb45c9f1c576cc84301c0de75fea76",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"net: Break disconnecting out of Ban()\"\r\n\r\nMaybe drop this C cast. It doesn't do anything and could cause bugs if class definitions change.\r\n  \r\n  \r\n  \r\n  ",
    "created_at": "2018-01-04T17:14:20Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159706508",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159706508"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159706508"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159706508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2559,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159716790",
    "pull_request_review_id": 86696965,
    "id": 159716790,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcxNjc5MA==",
    "diff_hunk": "@@ -556,13 +556,7 @@ void CConnman::Ban(const CSubNet& subNet, const BanReason &banReason, int64_t ba\n     }\n     if(clientInterface)\n         clientInterface->BannedListChanged();\n-    {\n-        LOCK(cs_vNodes);\n-        for (CNode* pnode : vNodes) {\n-            if (subNet.Match((CNetAddr)pnode->addr))\n-                pnode->fDisconnect = true;\n-        }\n-    }\n+",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04e692c5292988688d492937ad37b8ac80f2fa07",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157000260\r\n\r\nIn commit \"net: Break disconnecting out of Ban()\"\r\n\r\n> This is a behavior change \r\n\r\nSeems to be fixed by the new change: https://github.com/bitcoin/bitcoin/pull/11457#issuecomment-352613328, but it would be clearer if commit message also said this commit does not change current behavior.\r\n  ",
    "created_at": "2018-01-04T18:00:11Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159716790",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159716790"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159716790"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159716790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 559,
    "side": "RIGHT",
    "in_reply_to_id": 157000260
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159718738",
    "pull_request_review_id": 86696965,
    "id": 159718738,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcxODczOA==",
    "diff_hunk": "@@ -2849,13 +2849,14 @@ static bool SendRejectsAndCheckIfBanned(CNode* pnode, CConnman* connman)\n         else if (pnode->m_manual_connection)\n             LogPrintf(\"Warning: not punishing manually-connected peer %s!\\n\", pnode->addr.ToString());\n         else {\n-            pnode->fDisconnect = true;\n             if (pnode->addr.IsLocal())\n                 LogPrintf(\"Warning: not banning local peer %s!\\n\", pnode->addr.ToString());\n             else\n             {\n                 connman->Ban(pnode->addr, BanReasonNodeMisbehaving);\n             }\n+            // Disconnect all nodes with this address\n+            connman->DisconnectNode(pnode->addr);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b8d5dd5751eb45c9f1c576cc84301c0de75fea76",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"net: Break disconnecting out of Ban()\"\r\n\r\nIs this a behavior change in the IsLocal case? It would be helpful if commit message clarified whether this is supposed be a pure refactoring or a behavior change.",
    "created_at": "2018-01-04T18:09:51Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159718738",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159718738"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159718738"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159718738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2922,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720117",
    "pull_request_review_id": 86696965,
    "id": 159720117,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcyMDExNw==",
    "diff_hunk": "@@ -54,6 +68,9 @@ BOOST_FIXTURE_TEST_SUITE(DoS_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n+    auto connman = std::unique_ptr<CConnman>(new CConnman(0x1337, 0x1337));",
    "path": "src/test/DoS_tests.cpp",
    "position": 36,
    "original_position": 25,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "25c27594bf6f9ce91e0401f13745e359c1987a19",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"tests: remove member connman/peerLogic in TestingSetup\"\r\n\r\nCould abbreviate `auto connman = MakeUnique<CConnman>(0x1337, 0x1337);`",
    "created_at": "2018-01-04T18:16:49Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159720117",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720117"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159720117"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 75,
    "original_line": 75,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720959",
    "pull_request_review_id": 86696965,
    "id": 159720959,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcyMDk1OQ==",
    "diff_hunk": "@@ -44,6 +44,8 @@ BOOST_FIXTURE_TEST_SUITE(DoS_tests, TestingSetup)\n \n BOOST_AUTO_TEST_CASE(DoS_banning)\n {\n+    auto connman = std::unique_ptr<CConnman>(new CConnman(0x1337, 0x1337));",
    "path": "src/test/DoS_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "027b8d391812740ed2c77b995d91ea7a9ba14340",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Use std::make_unique.\r\n\r\nIt's not available in c++11, but we do have MakeUnique in src/util.h\r\n",
    "created_at": "2018-01-04T18:20:55Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159720959",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720959"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159720959"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159720959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 205,
    "side": "RIGHT",
    "in_reply_to_id": 143304477
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159724353",
    "pull_request_review_id": 86696965,
    "id": 159724353,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTcyNDM1Mw==",
    "diff_hunk": "@@ -1726,5 +1734,9 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    scheduler.scheduleEvery([]{",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r157001644\r\n\r\nIn commit \"banman: create and split out banman\"\r\n\r\n> Well the schedule in this case is bitcoind specific. There's no reason for BanMan to know about it, and it's not exclusive to net. Throwing in an app-specific schedule would kinda defeat the purpose of breaking it out.\r\n\r\nI'm surprised the scheduler would be considered \"bitcoind specific\" / \"app-specific\" but BanMan would not be. How could that be true? On the surface, it seems reasonable for BanMan to use the scheduler since it relies on a scheduler to function, and would seem to simplify init.cpp and anything else using BanMan.\r\n  \r\n  \r\n  ",
    "created_at": "2018-01-04T18:36:23Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159724353",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159724353"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159724353"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159724353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1769,
    "side": "RIGHT",
    "in_reply_to_id": 157001644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159733485",
    "pull_request_review_id": 86732177,
    "id": 159733485,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTczMzQ4NQ==",
    "diff_hunk": "@@ -2853,7 +2853,9 @@ static bool SendRejectsAndCheckIfBanned(CNode* pnode, CConnman* connman)\n                 LogPrintf(\"Warning: not banning local peer %s!\\n\", pnode->addr.ToString());\n             else\n             {\n-                connman->Ban(pnode->addr, BanReasonNodeMisbehaving);\n+                if (m_banman) {",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit [banman: create and split out banman].\r\n\r\nI feel like this should be checked outside the surrounding `if (pnode->addr.IsLocal())` statement. Doesn't make sense to log \"not banning local peer\" if it wouldn't have been banned anyway.",
    "created_at": "2018-01-04T19:18:34Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159733485",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159733485"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159733485"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159733485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2856,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734421",
    "pull_request_review_id": 86732177,
    "id": 159734421,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTczNDQyMQ==",
    "diff_hunk": "@@ -1200,9 +1204,9 @@ void RPCConsole::unbanSelectedNode()\n         CSubNet possibleSubnet;\n \n         LookupSubNet(strNode.toStdString().c_str(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && g_connman)\n+        if (possibleSubnet.IsValid() && g_banman)",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit [banman: create and split out banman].\r\n\r\n`g_banman` is guaranteed to exist given the check at the top of the function.",
    "created_at": "2018-01-04T19:23:04Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159734421",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734421"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159734421"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1247,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734897",
    "pull_request_review_id": 86732177,
    "id": 159734897,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1OTczNDg5Nw==",
    "diff_hunk": "@@ -544,16 +544,20 @@ UniValue setban(const JSONRPCRequest& request)\n             absolute = true;\n \n         if (isSubnet) {\n-            g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(subNet);\n+            g_banman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {\n+                g_connman->DisconnectNode(subNet);\n+            }\n         } else {\n-            g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(netAddr);\n+            g_banman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit [banman: create and split out banman].\r\n\r\nPerhaps pull the common `DisconnectNode` code out of this `if/else` statement?",
    "created_at": "2018-01-04T19:25:29Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159734897",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734897"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r159734897"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/159734897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 554,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584194",
    "pull_request_review_id": 87726035,
    "id": 160584194,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NDE5NA==",
    "diff_hunk": "@@ -1726,5 +1734,9 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     StartWallets(scheduler);\n #endif\n \n+    scheduler.scheduleEvery([]{",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 48,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "04d0b51af1e42a32b35299e4cd69d78e6a0fffd4",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@ryanofsky BanMan doesn't rely on a scheduler to function any more than the wallet does, that's a bitcoind thing. Banman just loads/unloads the bandb when it's told.\r\n\r\nImagine a small util to dump/edit the bandb, (which would be completely reasonable). The scheduler would just be a needless dependency.\r\n\r\n@TheBlueMatt It's time to create an app context class (and .h/cpp) anyway, that holds these types of objects for the life of bitcoind. I figured one of us would get around to that once enough stuff had piled up in init.cpp :p .",
    "created_at": "2018-01-10T03:46:33Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584194",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584194"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584194"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1769,
    "side": "RIGHT",
    "in_reply_to_id": 157001644
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584448",
    "pull_request_review_id": 87726334,
    "id": 160584448,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NDQ0OA==",
    "diff_hunk": "@@ -2556,6 +2550,25 @@ bool CConnman::DisconnectNode(const std::string& strNode)\n     }\n     return false;\n }\n+\n+bool CConnman::DisconnectNode(const CSubNet& subnet)\n+{\n+    bool disconnected = false;\n+    LOCK(cs_vNodes);\n+    for (CNode* pnode : vNodes) {\n+        if (subnet.Match((CNetAddr)pnode->addr)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b8d5dd5751eb45c9f1c576cc84301c0de75fea76",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "sure",
    "created_at": "2018-01-10T03:49:25Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584448",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584448"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584448"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2559,
    "side": "RIGHT",
    "in_reply_to_id": 159706508
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584782",
    "pull_request_review_id": 87726729,
    "id": 160584782,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NDc4Mg==",
    "diff_hunk": "@@ -2853,7 +2853,9 @@ static bool SendRejectsAndCheckIfBanned(CNode* pnode, CConnman* connman)\n                 LogPrintf(\"Warning: not banning local peer %s!\\n\", pnode->addr.ToString());\n             else\n             {\n-                connman->Ban(pnode->addr, BanReasonNodeMisbehaving);\n+                if (m_banman) {",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 23,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "good point, will fix.",
    "created_at": "2018-01-10T03:53:13Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584782",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584782"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160584782"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160584782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2856,
    "side": "RIGHT",
    "in_reply_to_id": 159733485
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160585955",
    "pull_request_review_id": 87728007,
    "id": 160585955,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NTk1NQ==",
    "diff_hunk": "@@ -2849,13 +2849,14 @@ static bool SendRejectsAndCheckIfBanned(CNode* pnode, CConnman* connman)\n         else if (pnode->m_manual_connection)\n             LogPrintf(\"Warning: not punishing manually-connected peer %s!\\n\", pnode->addr.ToString());\n         else {\n-            pnode->fDisconnect = true;\n             if (pnode->addr.IsLocal())\n                 LogPrintf(\"Warning: not banning local peer %s!\\n\", pnode->addr.ToString());\n             else\n             {\n                 connman->Ban(pnode->addr, BanReasonNodeMisbehaving);\n             }\n+            // Disconnect all nodes with this address\n+            connman->DisconnectNode(pnode->addr);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "b8d5dd5751eb45c9f1c576cc84301c0de75fea76",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure what the behavior change would be, so I guess not :)",
    "created_at": "2018-01-10T04:06:40Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160585955",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160585955"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160585955"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160585955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2922,
    "side": "RIGHT",
    "in_reply_to_id": 159718738
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586025",
    "pull_request_review_id": 87728086,
    "id": 160586025,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NjAyNQ==",
    "diff_hunk": "@@ -1200,9 +1204,9 @@ void RPCConsole::unbanSelectedNode()\n         CSubNet possibleSubnet;\n \n         LookupSubNet(strNode.toStdString().c_str(), possibleSubnet);\n-        if (possibleSubnet.IsValid() && g_connman)\n+        if (possibleSubnet.IsValid() && g_banman)",
    "path": "src/qt/rpcconsole.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep, will fix.",
    "created_at": "2018-01-10T04:07:33Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586025",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586025"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586025"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1247,
    "side": "RIGHT",
    "in_reply_to_id": 159734421
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586393",
    "pull_request_review_id": 87728488,
    "id": 160586393,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NjM5Mw==",
    "diff_hunk": "@@ -544,16 +544,20 @@ UniValue setban(const JSONRPCRequest& request)\n             absolute = true;\n \n         if (isSubnet) {\n-            g_connman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(subNet);\n+            g_banman->Ban(subNet, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {\n+                g_connman->DisconnectNode(subNet);\n+            }\n         } else {\n-            g_connman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n-            g_connman->DisconnectNode(netAddr);\n+            g_banman->Ban(netAddr, BanReasonManuallyAdded, banTime, absolute);\n+            if (g_connman) {",
    "path": "src/rpc/net.cpp",
    "position": null,
    "original_position": 34,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "8500946d626ea3a65ec5307da5bd5eb15c954335",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "One is a subnet, the other is an address. CSubNet is a subclass of CNetAddr, so we could potentially store a generic one, but imo duplicating the disconnect is more straightforward.",
    "created_at": "2018-01-10T04:11:34Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586393",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586393"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586393"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 554,
    "side": "RIGHT",
    "in_reply_to_id": 159734897
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586473",
    "pull_request_review_id": 87728573,
    "id": 160586473,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE2MDU4NjQ3Mw==",
    "diff_hunk": "@@ -54,6 +68,9 @@ BOOST_FIXTURE_TEST_SUITE(DoS_tests, TestingSetup)\n // work.\n BOOST_AUTO_TEST_CASE(outbound_slow_chain_eviction)\n {\n+    auto connman = std::unique_ptr<CConnman>(new CConnman(0x1337, 0x1337));",
    "path": "src/test/DoS_tests.cpp",
    "position": 36,
    "original_position": 25,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "25c27594bf6f9ce91e0401f13745e359c1987a19",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "will do",
    "created_at": "2018-01-10T04:12:38Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586473",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586473"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r160586473"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/160586473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 75,
    "original_line": 75,
    "side": "RIGHT",
    "in_reply_to_id": 159720117
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178589653",
    "pull_request_review_id": 108669530,
    "id": 178589653,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3ODU4OTY1Mw==",
    "diff_hunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) 2009-2010 Satoshi Nakamoto\n+// Copyright (c) 2009-2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+#ifndef BITCOIN_BANMAN_H\n+#define BITCOIN_BANMAN_H\n+\n+#include \"addrdb.h\"\n+#include \"fs.h\"\n+#include \"sync.h\"\n+\n+// NOTE: When adjusting this, update rpcnet:setban's help (\"24h\")\n+static const unsigned int DEFAULT_MISBEHAVING_BANTIME = 60 * 60 * 24;  // Default 24-hour ban\n+\n+class CClientUIInterface;\n+class CNetAddr;\n+class CSubNet;\n+\n+class BanMan\n+{\n+public:\n+    // Denial-of-service detection/prevention",
    "path": "src/banman.h",
    "position": null,
    "original_position": 22,
    "commit_id": "521ebf37f47591b5bbb964463f28e7bac56b88bd",
    "original_commit_id": "a006ca20f20b776038e8562000ec8724d35ce607",
    "user": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "BanMan still needs class-level comment.",
    "created_at": "2018-04-02T16:59:50Z",
    "updated_at": "2018-04-19T23:53:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r178589653",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178589653"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11457#discussion_r178589653"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11457"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/178589653/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 143282845
  }
]