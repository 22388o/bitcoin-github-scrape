[
  {
    "sha": "8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2",
    "node_id": "C_kwDOABII59oAKDhjZTlmNzRhZTk0NGYxNjNjYjFiYmQwMzBlMDYyZTJhYzQ3ZDBjYjI",
    "commit": {
      "author": {
        "name": "node01",
        "email": "mbildwic@protonmail.com",
        "date": "2021-11-09T03:53:29Z"
      },
      "committer": {
        "name": "node01",
        "email": "mbildwic@protonmail.com",
        "date": "2021-11-16T23:16:37Z"
      },
      "message": "doc: Improve ZMQ documentation\n\nCo-authored-by: 0xB10C <19157360+0xB10C@users.noreply.github.com>",
      "tree": {
        "sha": "6ea1e0cfc1cdf8ba9a70bb767dda3a1685740d63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6ea1e0cfc1cdf8ba9a70bb767dda3a1685740d63"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2/comments",
    "author": {
      "login": "mbildwic",
      "id": 93953191,
      "node_id": "U_kgDOBZmcpw",
      "avatar_url": "https://avatars.githubusercontent.com/u/93953191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbildwic",
      "html_url": "https://github.com/mbildwic",
      "followers_url": "https://api.github.com/users/mbildwic/followers",
      "following_url": "https://api.github.com/users/mbildwic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbildwic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbildwic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbildwic/subscriptions",
      "organizations_url": "https://api.github.com/users/mbildwic/orgs",
      "repos_url": "https://api.github.com/users/mbildwic/repos",
      "events_url": "https://api.github.com/users/mbildwic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbildwic/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "mbildwic",
      "id": 93953191,
      "node_id": "U_kgDOBZmcpw",
      "avatar_url": "https://avatars.githubusercontent.com/u/93953191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mbildwic",
      "html_url": "https://github.com/mbildwic",
      "followers_url": "https://api.github.com/users/mbildwic/followers",
      "following_url": "https://api.github.com/users/mbildwic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mbildwic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mbildwic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mbildwic/subscriptions",
      "organizations_url": "https://api.github.com/users/mbildwic/orgs",
      "repos_url": "https://api.github.com/users/mbildwic/repos",
      "events_url": "https://api.github.com/users/mbildwic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mbildwic/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c702d1fefddcbd8c6465d3dc330fde235d03337e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c702d1fefddcbd8c6465d3dc330fde235d03337e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c702d1fefddcbd8c6465d3dc330fde235d03337e"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 23,
      "deletions": 4
    },
    "files": [
      {
        "sha": "76e6d1eec4148fefeb7bb91c2bd81941b6f061c1",
        "filename": "doc/zmq.md",
        "status": "modified",
        "additions": 23,
        "deletions": 4,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2/doc/zmq.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2/doc/zmq.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/zmq.md?ref=8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2",
        "patch": "@@ -91,9 +91,11 @@ For instance:\n Each PUB notification has a topic and body, where the header\n corresponds to the notification type. For instance, for the\n notification `-zmqpubhashtx` the topic is `hashtx` (no null\n-terminator) and the body is the transaction hash (32\n-bytes) for all but `sequence` topic. For `sequence`, the body\n-is structured as the following based on the type of message:\n+terminator). These options can also be provided in bitcoin.conf.\n+\n+The topics are:\n+\n+`sequence`: the body is structured as the following based on the type of message:\n \n     <32-byte hash>C :                 Blockhash connected\n     <32-byte hash>D :                 Blockhash disconnected\n@@ -102,7 +104,24 @@ is structured as the following based on the type of message:\n \n Where the 8-byte uints correspond to the mempool sequence number.\n \n-These options can also be provided in bitcoin.conf.\n+`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it.The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), the second part is the serialized transaction, and the last part is a sequence number (representing the data size to detect lost messages).\n+\n+    | rawtx | <serialized transaction> | <uint32 sequence number in Little Endian>\n+\n+`hashtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`hashtx`), the second part is the 32-byte transaction hash, and the last part is a sequence number (representing the data size to detect lost messages).\n+\n+    | hashtx | <32-byte transaction hash in Little Endian> | <uint32 sequence number in Little Endian>\n+\n+\n+`rawblock`: Notifies when the chain tip is updated. Messages are ZMQ multipart messages with three parts. The first part is the topic (`rawblock`), the second part is the serialized block, and the last part is a sequence number (representing the data size to detect lost messages).\n+\n+    | rawblock | <serialized block> | <uint32 sequence number in Little Endian>\n+\n+`hashblock`: Notifies when the chain tip is updated. Messages are ZMQ multipart messages with three parts. The first part is the topic (`hashblock`), the second part is the 32-byte block hash, and the last part is a sequence number (representing the data size to detect lost messages).\n+\n+    | hashblock | <32-byte block hash in Little Endian> | <uint32 sequence number in Little Endian>\n+\n+**_NOTE:_**  Note that the 32-byte hashes are in Little Endian and not in the Big Endian format that the RPC interface and block explorers use to display transaction and block hashes.\n \n ZeroMQ endpoint specifiers for TCP (and others) are documented in the\n [ZeroMQ API](http://api.zeromq.org/4-0:_start)."
      }
    ]
  }
]