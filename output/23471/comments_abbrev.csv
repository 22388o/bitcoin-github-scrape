mbildwic,2021-11-12 03:27:48,Thanks for review @0xB10C and @shaavan . I addressed your suggestions.,https://github.com/bitcoin/bitcoin/pull/23471#issuecomment-966791616,966791616,
tylerchambers,2021-11-15 22:48:31,Thanks! This clears things up.,https://github.com/bitcoin/bitcoin/pull/23471#issuecomment-969394750,969394750,
0xB10C,2021-11-23 14:02:22,"ACK 8ce9f74ae944f163cb1bbd030e062e2ac47d0cb2.\n\nIf more people agree that bold or italic text would help (as mentioned in https://github.com/bitcoin/bitcoin/pull/23471#pullrequestreview-811812308), then please add it. I don't mind but don't think it's crucial.",https://github.com/bitcoin/bitcoin/pull/23471#issuecomment-976579859,976579859,
shaavan,2021-11-10 13:54:53,"nit:\n```suggestion\n`rawblock`: notifies when the block tip is updated. The body of the message is the raw block in hexadecimal format.\n\n`hashblock`: notifies when the block tip is updated. The body of the message is structured in the following way:\n```",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r746609044,746609044,doc/zmq.md
0xB10C,2021-11-11 09:33:57,"```suggestion\n`rawtx`: notifies when a transaction is added to mempool. The body of the message is the serialized transaction.\n```",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747341512,747341512,doc/zmq.md
0xB10C,2021-11-11 09:45:39,"`hashtx` is not contained in the payload. The messages are ZMQ multipart messages with three parts. The first part is the topic (here `hashtx`), the second part is the 32-byte transaction hash, and the last part is a sequence number (to detect lost messages; this is already documented). \n\nI'd personally prefer a documentation similar to the following:\n```\n| hashtx | <32-byte transaction ha",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747350064,747350064,doc/zmq.md
0xB10C,2021-11-11 09:48:30,I think it would be good to explicitly note that the 32-byte hashes are in Little Endian and not in the Big Endian format that the RPC interface and e.g. block explorers use to display transaction and block hashes.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747352141,747352141,doc/zmq.md
0xB10C,2021-11-11 09:51:59,"Both `rawtx` and `hashtx` notify about all transactions. Mempool and transactions in blocks. This means it could happen that a transaction is published multiple times. First when it enters the mempool and then again in each block that includes it. This should be documented.\n  ",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747354721,747354721,doc/zmq.md
0xB10C,2021-11-11 09:52:44,"```suggestion\n`rawblock`: notifies when a the chain tip is updated. The body of the message is the serialized block.\n```",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747355329,747355329,doc/zmq.md
0xB10C,2021-11-11 09:54:03,"see comments for `hashtx` above (remove hashblock and mention Little Endianess)\n\nhttps://github.com/bitcoin/bitcoin/pull/23471#discussion_r747350064\nhttps://github.com/bitcoin/bitcoin/pull/23471#discussion_r747352141",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747356267,747356267,doc/zmq.md
mbildwic,2021-11-12 03:26:25,Done.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747955742,747955742,doc/zmq.md
mbildwic,2021-11-12 03:26:36,Done,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747955805,747955805,doc/zmq.md
mbildwic,2021-11-12 03:26:44,Done.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747955843,747955843,doc/zmq.md
mbildwic,2021-11-12 03:26:49,Done.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747955863,747955863,doc/zmq.md
mbildwic,2021-11-12 03:27:01,Done.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r747955921,747955921,doc/zmq.md
promag,2021-11-12 09:33:32,"nit, `-zmqpubrawtx` instead of `rawtx`? (same thing below)",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r748103714,748103714,doc/zmq.md
mbildwic,2021-11-12 19:06:05,Done.,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r748524046,748524046,doc/zmq.md
mbildwic,2021-11-12 19:15:10,"I am not sure. I think that `rawtx` is the ZMQ topic that the subscriber receives notification about and `-zmqpubrawtx` is the argument used to set the network address of this topic in node daemon (`bitcoind`).\n\nIf that is not the case, I can change them to `-zmq*`.",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r748529000,748529000,doc/zmq.md
0xB10C,2021-11-16 11:48:12,I'd say: leave it as `rawtx` (the topic). This sections starts in line 96 with `The topics are:`. ,https://github.com/bitcoin/bitcoin/pull/23471#discussion_r750190761,750190761,doc/zmq.md
0xB10C,2021-11-16 12:00:12,"I think it's fine to just repeat the first part of the `rawtx` documentation here. If the ordering is changed or a new topic is added, the 'previous topic' might change.\n\n```suggestion\n`hashtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and the",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r750200478,750200478,doc/zmq.md
0xB10C,2021-11-16 12:02:31,"We should mention that this is a multipart message too. \n\n```suggestion\n`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it.The messages are ZMQ multipart messages with three parts. The first part is",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r750202165,750202165,doc/zmq.md
0xB10C,2021-11-16 12:05:01,"```suggestion\n`hashblock`: Notifies when the chain tip is updated. Messages are ZMQ multipart messages with three parts. The first part is the topic (`hashblock`), the second part is the 32-byte block hash, and the last part is a sequence number (to detect lost messages).\n```",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r750203963,750203963,doc/zmq.md
0xB10C,2021-11-16 12:07:52,"```suggestion\n`rawblock`: Notifies when the chain tip is updated. Messages are ZMQ multipart messages with three parts. The first part is the topic (`rawblock`), the second part is the serialized block, and the last part is a sequence number (to detect \nlost messages).\n\n| rawblock | <serialized block> | <uint32 sequence number in Little Endian>\n```\n\n",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r750205907,750205907,doc/zmq.md
theStack,2021-11-28 18:26:22,"nit: missing space between sentences\n```suggestion\n`rawtx`: Notifies about all transactions, both when they are added to mempool or when a new block arrives. This means a transaction could be published multiple times. First, when it enters the mempool and then again in each block that includes it. The messages are ZMQ multipart messages with three parts. The first part is the topic (`rawtx`), ",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r757933397,757933397,doc/zmq.md
laanwj,2021-11-29 12:46:12,"> (representing the data size to detect lost messages)\n\nI'm not sure ""data size"" clarifies much here. I would associate that with sizes in bytes. Maybe ""message count""?",https://github.com/bitcoin/bitcoin/pull/23471#discussion_r758328423,758328423,doc/zmq.md
