[
  {
    "sha": "41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MWZkODUyZDNmY2I4NGI4N2ZlZmIyYTRmNzI5MGM1MzUxOWM3OGYz",
    "commit": {
      "author": {
        "name": "rodasmith",
        "email": "rodasmith@users.noreply.github.com",
        "date": "2016-09-10T18:41:01Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-09-13T09:35:52Z"
      },
      "message": "fix op order to append first alert\n\nGithub-Pull: #8697\nRebased-From: 1d635ae61b26d1dd613c1cc1cac796627af2a31e",
      "tree": {
        "sha": "23e430e8c8e7702ab6488bf709ced4b818b8dfdc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/23e430e8c8e7702ab6488bf709ced4b818b8dfdc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/41fd852d3fcb84b87fefb2a4f7290c53519c78f3/comments",
    "author": {
      "login": "rodasmith",
      "id": 4968956,
      "node_id": "MDQ6VXNlcjQ5Njg5NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4968956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodasmith",
      "html_url": "https://github.com/rodasmith",
      "followers_url": "https://api.github.com/users/rodasmith/followers",
      "following_url": "https://api.github.com/users/rodasmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodasmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodasmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodasmith/subscriptions",
      "organizations_url": "https://api.github.com/users/rodasmith/orgs",
      "repos_url": "https://api.github.com/users/rodasmith/repos",
      "events_url": "https://api.github.com/users/rodasmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodasmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a9429ca26dd8f4555def2dc8bd8ea7fc4e32fce6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a9429ca26dd8f4555def2dc8bd8ea7fc4e32fce6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a9429ca26dd8f4555def2dc8bd8ea7fc4e32fce6"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "8f519dee11eff158cdee7c4b13bd854352e31430",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/41fd852d3fcb84b87fefb2a4f7290c53519c78f3/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/41fd852d3fcb84b87fefb2a4f7290c53519c78f3/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
        "patch": "@@ -4675,12 +4675,12 @@ std::string GetWarnings(const std::string& strFor)\n     if (fLargeWorkForkFound)\n     {\n         strStatusBar = strRPC = \"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\";\n-        strGUI += strGUI.empty() ? \"\" : uiAlertSeperator + _(\"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\");\n+        strGUI += (strGUI.empty() ? \"\" : uiAlertSeperator) + _(\"Warning: The network does not appear to fully agree! Some miners appear to be experiencing issues.\");\n     }\n     else if (fLargeWorkInvalidChainFound)\n     {\n         strStatusBar = strRPC = \"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\";\n-        strGUI += strGUI.empty() ? \"\" : uiAlertSeperator + _(\"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\");\n+        strGUI += (strGUI.empty() ? \"\" : uiAlertSeperator) + _(\"Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade.\");\n     }\n \n     if (strFor == \"gui\")"
      }
    ]
  },
  {
    "sha": "d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkOWYwZDRlMDczN2ExZjI5MTczZWU1NDA3YmE3MDE0OTZiYTlmNDZi",
    "commit": {
      "author": {
        "name": "adlawren",
        "email": "adlawren010@gmail.com",
        "date": "2016-08-07T06:58:30Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-09-13T09:36:55Z"
      },
      "message": "Fix minimize and close bugs\n\nrefs #8225\n\nTo ensure the GUI closes when the \"Minimize on close\" window option is disabled, and the \"Minimize to the tray instead of the taskbar\" window option is enbaled, remove a check made against the \"Minimize to the tray instead of the taskbar\" value, made during GUI closure.\n\nTo ensure the GUI minimizes to the taskbar when the \"Minimize on close\" window option is enabled, and the \"Minimize to the tray instead of the taskbar\" window option is disabled, minimize the GUI and ignore the closure event.\n\nGithub-Pull: #8481\nRebased-From: 05242e937d3fc0144029ccf3b14f98662400dd60",
      "tree": {
        "sha": "9de8200e16a42ac65983243335dcb8b28ff432e7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9de8200e16a42ac65983243335dcb8b28ff432e7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9f0d4e0737a1f29173ee5407ba701496ba9f46b/comments",
    "author": {
      "login": "adlawren",
      "id": 2738670,
      "node_id": "MDQ6VXNlcjI3Mzg2NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2738670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adlawren",
      "html_url": "https://github.com/adlawren",
      "followers_url": "https://api.github.com/users/adlawren/followers",
      "following_url": "https://api.github.com/users/adlawren/following{/other_user}",
      "gists_url": "https://api.github.com/users/adlawren/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adlawren/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adlawren/subscriptions",
      "organizations_url": "https://api.github.com/users/adlawren/orgs",
      "repos_url": "https://api.github.com/users/adlawren/repos",
      "events_url": "https://api.github.com/users/adlawren/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adlawren/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/41fd852d3fcb84b87fefb2a4f7290c53519c78f3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/41fd852d3fcb84b87fefb2a4f7290c53519c78f3"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 8,
      "deletions": 3
    },
    "files": [
      {
        "sha": "2afefb733edcf7112ed330738ab7566003a6b0f0",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 3,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9f0d4e0737a1f29173ee5407ba701496ba9f46b/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9f0d4e0737a1f29173ee5407ba701496ba9f46b/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
        "patch": "@@ -902,17 +902,22 @@ void BitcoinGUI::closeEvent(QCloseEvent *event)\n #ifndef Q_OS_MAC // Ignored on Mac\n     if(clientModel && clientModel->getOptionsModel())\n     {\n-        if(!clientModel->getOptionsModel()->getMinimizeToTray() &&\n-           !clientModel->getOptionsModel()->getMinimizeOnClose())\n+        if(!clientModel->getOptionsModel()->getMinimizeOnClose())\n         {\n             // close rpcConsole in case it was open to make some space for the shutdown window\n             rpcConsole->close();\n \n             QApplication::quit();\n         }\n+        else\n+        {\n+            QMainWindow::showMinimized();\n+            event->ignore();\n+        }\n     }\n-#endif\n+#else\n     QMainWindow::closeEvent(event);\n+#endif\n }\n \n void BitcoinGUI::showEvent(QShowEvent *event)"
      }
    ]
  },
  {
    "sha": "a37cec537b70254a5587dd2aee6cfaad46349bcf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMzdjZWM1MzdiNzAyNTRhNTU4N2RkMmFlZTZjZmFhZDQ2MzQ5YmNm",
    "commit": {
      "author": {
        "name": "Andrew Chow",
        "email": "achow101@gmail.com",
        "date": "2016-08-08T18:17:23Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2016-09-13T09:39:08Z"
      },
      "message": "Persist the datadir after option reset\n\nGithub-Pull: #8487\nRebased-From: 15df3c196b2359505980a2b0217133e0bb550565 57acb82e7014f3214229349485fa3f57842b10ae",
      "tree": {
        "sha": "02e7e64d9eef3cffd68656d8ea5c34fedcce23b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/02e7e64d9eef3cffd68656d8ea5c34fedcce23b9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a37cec537b70254a5587dd2aee6cfaad46349bcf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a37cec537b70254a5587dd2aee6cfaad46349bcf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a37cec537b70254a5587dd2aee6cfaad46349bcf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a37cec537b70254a5587dd2aee6cfaad46349bcf/comments",
    "author": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9f0d4e0737a1f29173ee5407ba701496ba9f46b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d9f0d4e0737a1f29173ee5407ba701496ba9f46b"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 16,
      "deletions": 1
    },
    "files": [
      {
        "sha": "1a241ae0f0e67d6184200434bedb5d7522161092",
        "filename": "src/qt/intro.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a37cec537b70254a5587dd2aee6cfaad46349bcf/src/qt/intro.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a37cec537b70254a5587dd2aee6cfaad46349bcf/src/qt/intro.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/intro.cpp?ref=a37cec537b70254a5587dd2aee6cfaad46349bcf",
        "patch": "@@ -178,7 +178,7 @@ bool Intro::pickDataDirectory()\n     /* 2) Allow QSettings to override default dir */\n     dataDir = settings.value(\"strDataDir\", dataDir).toString();\n \n-    if(!fs::exists(GUIUtil::qstringToBoostPath(dataDir)) || GetBoolArg(\"-choosedatadir\", DEFAULT_CHOOSE_DATADIR))\n+    if(!fs::exists(GUIUtil::qstringToBoostPath(dataDir)) || GetBoolArg(\"-choosedatadir\", DEFAULT_CHOOSE_DATADIR) || settings.value(\"fReset\", false).toBool() || GetBoolArg(\"-resetguisettings\", false))\n     {\n         /* If current default data directory does not exist, let the user choose one */\n         Intro intro;\n@@ -204,6 +204,7 @@ bool Intro::pickDataDirectory()\n         }\n \n         settings.setValue(\"strDataDir\", dataDir);\n+        settings.setValue(\"fReset\", false);\n     }\n     /* Only override -datadir if different from the default, to make it possible to\n      * override -datadir in the bitcoin.conf file in the default data directory"
      },
      {
        "sha": "5538a28413dddfbca957e6ca397bca580d8c5578",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a37cec537b70254a5587dd2aee6cfaad46349bcf/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a37cec537b70254a5587dd2aee6cfaad46349bcf/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=a37cec537b70254a5587dd2aee6cfaad46349bcf",
        "patch": "@@ -16,6 +16,7 @@\n #include \"main.h\" // For DEFAULT_SCRIPTCHECK_THREADS\n #include \"net.h\"\n #include \"txdb.h\" // for -dbcache defaults\n+#include \"intro.h\" \n \n #ifdef ENABLE_WALLET\n #include \"wallet/wallet.h\"\n@@ -98,6 +99,9 @@ void OptionsModel::Init(bool resetSettings)\n     if (!SoftSetArg(\"-par\", settings.value(\"nThreadsScriptVerif\").toString().toStdString()))\n         addOverriddenOption(\"-par\");\n \n+    if (!settings.contains(\"strDataDir\"))\n+        settings.setValue(\"strDataDir\", Intro::getDefaultDataDirectory());\n+\n     // Wallet\n #ifdef ENABLE_WALLET\n     if (!settings.contains(\"bSpendZeroConfChange\"))\n@@ -150,9 +154,19 @@ void OptionsModel::Reset()\n {\n     QSettings settings;\n \n+    // Save the strDataDir setting\n+    QString dataDir = Intro::getDefaultDataDirectory();\n+    dataDir = settings.value(\"strDataDir\", dataDir).toString();\n+\n     // Remove all entries from our QSettings object\n     settings.clear();\n \n+    // Set strDataDir\n+    settings.setValue(\"strDataDir\", dataDir);\n+\n+    // Set that this was reset\n+    settings.setValue(\"fReset\", true);\n+\n     // default setting for OptionsModel::StartAtStartup - disabled\n     if (GUIUtil::GetStartOnSystemStartup())\n         GUIUtil::SetStartOnSystemStartup(false);"
      }
    ]
  }
]