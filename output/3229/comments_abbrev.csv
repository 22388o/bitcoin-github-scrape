laanwj,2013-11-11T11:08:18Z,"I'd propose to implement this slightly differently, more straightforward: set the default to invalid values (such as `-1` or MAXINT or `0`, whatever is most useless) then check for valid values in IsMiningSetup() instead of probing the arguments.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28190386,28190386,
luke-jr,2013-11-11T19:23:56Z,"That'd probably make it clearer too, okay...\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28230109,28230109,
luke-jr,2013-11-11T20:02:01Z,@laanwj That'd need making the variables globals again.. so maybe this is better after all?\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28233487,28233487,
laanwj,2013-11-11T20:33:33Z,"Ugh, yes I now see that CreateNewBlock also queries and parse the arguments every time. That's the same as using globals, just in a hidden way.\nAt least I now understand your reasoning for doing it that way in IsMiningSetup.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28236085,28236085,
mikehearn,2013-11-12T17:34:25Z,"The obvious downside of this approach being ..... once a miner has set them, we lose the ability to select smarter defaults, because whatever they pick could end up being used indefinitely.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28314793,28314793,
luke-jr,2013-11-12T18:40:46Z,"""We"" shouldn't be setting defaults anyway. That's the point.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28320534,28320534,
gmaxwell,2013-11-12T18:54:36Z,If we think that the common settings become wrong for an option there is always the possibility of just renaming the option to force resetting it.\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-28321718,28321718,
luke-jr,2013-12-03T14:09:13Z,"Rebased without ""&& true""\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-29711876,29711876,
BitcoinPullTester,2013-12-03T14:55:51Z,"Automatic sanity-testing: FAILED BUILD/TEST, see http://jenkins.bluematt.me/pull-tester/03528791ea2b870595723642dbac74bfa4f0923e for binaries and test log.\n\nThis could happen for one of several reasons:\n1. It chanages paths in makefile.linux-mingw or otherwise changes build scripts in a way that made them incompatible with the automated testing scripts (please tweak those patches in qa/pull-tes",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-29715795,29715795,
laanwj,2013-12-08T11:43:47Z,"I think this needs a documentation update too. Miners upgrading to 0.9.0 will have no idea what to set the defaults to, so the documentation could suggest some sane default values (I get the irony here) and to sources of information with regard to setting the values.\nWe wouldn't want them to just put some nonsense values.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-30079917,30079917,
jgarzik,2013-12-13T00:17:16Z,"NAK\n\nThis is fundamentally ""force X to think"" which is unfriendly.  We want miners to be thinking about this, agreed; But I see nothing wrong and much good by continuing to provide a sane default mining policy.  Let's continue to play nice with our miner friends.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-30475771,30475771,
laanwj,2014-01-10T11:51:19Z,"Seems consensus is against this (at least in the current state), so closing for now.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-32021534,32021534,
luke-jr,2014-02-05T07:02:51Z,Huh? Most people seemed to support this from the comments... Just realised this was closed without merging :(\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-34142259,34142259,
luke-jr,2015-07-23T15:48:33Z,Rebased\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124148306,124148306,
gavinandresen,2015-07-23T16:01:52Z,This probably breaks a bunch of qa/rpc-tests (which run -regtest and which rely on defaults).\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124151770,124151770,
jgarzik,2015-07-23T16:16:02Z,The same objections remain...\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124155020,124155020,
luke-jr,2015-07-23T16:20:12Z,@jgarzik This does give a randomised selection of not-unreasonable settings.\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124155891,124155891,
jgarzik,2015-07-23T16:33:50Z,"@luke-jr AFAICS this change _requires_ miners to have something set in their configs, which they may not have set before, by checking mapArgs.count()\n\nThus it breaks e.g. every miner, including p2pool miners, which do not have those settings in their config file.\n\nAm I missing something?\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124161465,124161465,
luke-jr,2015-07-23T18:13:08Z,"@jgarzik No, that sounds about right. It breaks miners who have thus far been too negligent to configure their node, until they do so.\n\n@gavinandresen Fixed QA tests by skipping config check on regtest/testnet.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124191791,124191791,
jgarzik,2015-07-23T18:17:18Z,NAK maintained.\n\nThis would seem to increase the barrier to entry for p2pool etc. miners and knowingly break currently-working configurations.\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124192725,124192725,
jgarzik,2015-07-24T05:48:10Z,"Just seems like way too many problems or oddities with this patch:\n- Raises the bar for getting p2pool working:  Breaks current documentation + requires users to perform lots of research vs. simply taking a useful default.\n- Breaks existing, working configs.\n- Picking random values for key settings is just odd, and runs counter to normal engineering practice.  Less deterministic, makes testing ",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-124337082,124337082,
luke-jr,2016-01-28T05:36:14Z,Closing due to inactivity.\n,https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-175989195,175989195,
laanwj,2016-01-28T09:58:57Z,"Yes, while I philosophically agree with this pull, and I'd rather get rid of any unnecessary default values any day, it's so inconvenient to miners that we can't really merge it.\n",https://github.com/bitcoin/bitcoin/pull/3229#issuecomment-176096204,176096204,
PRabahy,2013-11-11T02:24:49Z,"I'm not a C++ programmer, I don't see why this last ""&& true"" exists.\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7551409,7551409,src/rpcmining.cpp
laanwj,2013-11-11T06:58:49Z,"I am a C++ programmer but... huh :pig: :koala: :cow: Thinking about it it may be a way to temporary switch the result for testing, like `#if 0`. In any case, it shouldn't be there in the final code.\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7553121,7553121,src/rpcmining.cpp
laanwj,2013-11-11T10:27:05Z,"Why are you changing these defaults, if you don't want to allow using defaults?\n(The new value is MAX_BLOCKSIZE (1000000) whereas the old value was MAX_BLOCKSIZE/4 (250000))\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7555780,7555780,src/miner.cpp
luke-jr,2013-11-11T19:22:28Z,"GetArg doesn't allow omitting defaults, and leaving them in main.h is unclear.\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7569850,7569850,src/miner.cpp
luke-jr,2013-11-11T19:23:02Z,It makes the list of arguments consistent per-line.\n,https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7569870,7569870,src/rpcmining.cpp
Diapolo,2013-11-11T20:07:25Z,"My vote, don't do this...\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r7571467,7571467,src/rpcmining.cpp
jtimon,2015-07-23T00:24:50Z,"Maybe we should create GetMandatoryArg versions that throw exceptions or assert-fail when required values are not provided ? If you do this, please use the global argMap explictly as a const ref argument in the new versions, like in #6423\n",https://github.com/bitcoin/bitcoin/pull/3229#discussion_r35280251,35280251,src/miner.cpp
jtimon,2015-07-24T02:11:19Z,Can't you just use the defaults here and log a warning when the miner hasn't configured certain options instead of throwing a JSONRPCError for now? @jgarzik would that be acceptable?\n,https://github.com/bitcoin/bitcoin/pull/3229#discussion_r35390765,35390765,src/rpcmining.cpp
