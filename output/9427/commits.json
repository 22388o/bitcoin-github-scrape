[
  {
    "sha": "2eaf4b468d511aee77f5be566fafcef27c97a8e0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZWFmNGI0NjhkNTExYWVlNzdmNWJlNTY2ZmFmY2VmMjdjOTdhOGUw",
    "commit": {
      "author": {
        "name": "R E Broadley",
        "email": "rebroad+github@gmail.com",
        "date": "2016-12-26T07:41:41Z"
      },
      "committer": {
        "name": "R E Broadley",
        "email": "rebroad+github@gmail.com",
        "date": "2016-12-26T07:55:27Z"
      },
      "message": "Use compact blocks for blocks that have equal work to our current active\ntip (rather than requesting a full block each time).\n\nCurrently, the check for downloading a block is different here than it\nis in the parallel block fetch code, which means that we always request\nthe full block when we could be using the compact block. This commit\nallows the compact block received to be utilized.",
      "tree": {
        "sha": "f72d299aa68a6a9252ddbfaf145edfc30d43c736",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f72d299aa68a6a9252ddbfaf145edfc30d43c736"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2eaf4b468d511aee77f5be566fafcef27c97a8e0",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJYYM0XAAoJEJYWlWnKgEH5MdsP/0ODwZmTm1nBndXRrToQxd5u\nGnxlxoloGt5zVGvB7xSwsdk69rJo2bufjFHB20hXv4qRZVjbKyzrlG5vdu4KcWI7\nwF+NO74M9Y74EmZSM5VvgNxJqougvGyXayrn02AGnDJGPwO9Z1YaFVj/sGhBS5Z0\n3bVYRA1cmA2imjpAENaj3GHbYVwGU56k8HDHPxtZh4SVG5CeAlUj1cM8n0tMqjEL\nY5QeZGWhVxoBuOHl1OgGsRv+YlODMSFbWHTcojpfm6UmeMVfA0ba51dDGqywekCI\nYMm6Hyp/1ZYyQnmSJJtl1Qjjfn6AbKTteVdyjoZDFBvvZsLpmZVoKrO0X4+adrPA\n9Uj7BVL7KeYGxTwGL3md5otP2O3D+LlAfbjsWV3aF1sk9P/x8+k9efY+HledWui3\nYetv1vndIZbZ0+UwDBKCscLdZJX+h01gmRfrWTYaEDPXqSiJrFGhfpIe+nEoThCZ\n5KmR9XLDP3bSqPV2/gXa5ubs8EtqJwVoxte/TDsT7eGeZGTqfYRhpQUuqDub7oVJ\nYPI5IR5BqqMJiFNjA0P3EyVpMH3fZA0sFe1HHyf8/J6q/GUlfyF1hJnznPrbA6RJ\neltylKaO8TYbmpcFiDSco0DwiKg/ySuoyIAZ5gPO/ki+A0ylFV983KS/ag+m9Rl7\n4BjlBXPjV9zGiHk4UbvW\n=i9gS\n-----END PGP SIGNATURE-----",
        "payload": "tree f72d299aa68a6a9252ddbfaf145edfc30d43c736\nparent 0f921e6a0492c4e9f037a9ed91f474885032d68c\nauthor R E Broadley <rebroad+github@gmail.com> 1482738101 +0700\ncommitter R E Broadley <rebroad+github@gmail.com> 1482738927 +0700\n\nUse compact blocks for blocks that have equal work to our current active\ntip (rather than requesting a full block each time).\n\nCurrently, the check for downloading a block is different here than it\nis in the parallel block fetch code, which means that we always request\nthe full block when we could be using the compact block. This commit\nallows the compact block received to be utilized.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2eaf4b468d511aee77f5be566fafcef27c97a8e0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2eaf4b468d511aee77f5be566fafcef27c97a8e0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2eaf4b468d511aee77f5be566fafcef27c97a8e0/comments",
    "author": {
      "login": "rebroad",
      "id": 1530283,
      "node_id": "MDQ6VXNlcjE1MzAyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rebroad",
      "html_url": "https://github.com/rebroad",
      "followers_url": "https://api.github.com/users/rebroad/followers",
      "following_url": "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url": "https://api.github.com/users/rebroad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
      "organizations_url": "https://api.github.com/users/rebroad/orgs",
      "repos_url": "https://api.github.com/users/rebroad/repos",
      "events_url": "https://api.github.com/users/rebroad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rebroad/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "rebroad",
      "id": 1530283,
      "node_id": "MDQ6VXNlcjE1MzAyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1530283?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rebroad",
      "html_url": "https://github.com/rebroad",
      "followers_url": "https://api.github.com/users/rebroad/followers",
      "following_url": "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url": "https://api.github.com/users/rebroad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
      "organizations_url": "https://api.github.com/users/rebroad/orgs",
      "repos_url": "https://api.github.com/users/rebroad/repos",
      "events_url": "https://api.github.com/users/rebroad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rebroad/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0f921e6a0492c4e9f037a9ed91f474885032d68c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f921e6a0492c4e9f037a9ed91f474885032d68c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0f921e6a0492c4e9f037a9ed91f474885032d68c"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "7a4806545d37a26a03241d43bfd49b1a1da0678b",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2eaf4b468d511aee77f5be566fafcef27c97a8e0/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2eaf4b468d511aee77f5be566fafcef27c97a8e0/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=2eaf4b468d511aee77f5be566fafcef27c97a8e0",
        "patch": "@@ -1798,7 +1798,7 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv,\n         if (pindex->nStatus & BLOCK_HAVE_DATA) // Nothing to do here\n             return true;\n \n-        if (pindex->nChainWork <= chainActive.Tip()->nChainWork || // We know something better\n+        if (pindex->nChainWork < chainActive.Tip()->nChainWork || // We know something better\n                 pindex->nTx != 0) { // We had this block at some point, but pruned it\n             if (fAlreadyInFlight) {\n                 // We requested this block for some reason, but our mempool will probably be useless"
      }
    ]
  }
]