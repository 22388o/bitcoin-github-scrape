[
  {
    "sha": "6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2Y2ViZDVkODU0YjJlZGE5Y2NmYjQwM2U5ZTczZWUyYjdmZWExOGZi",
    "commit": {
      "author": {
        "name": "Johnathan Corgan",
        "email": "johnathan@corganlabs.com",
        "date": "2015-09-29T17:18:07Z"
      },
      "committer": {
        "name": "Johnathan Corgan",
        "email": "johnathan@corganlabs.com",
        "date": "2015-09-29T17:18:07Z"
      },
      "message": "zmq: require version 4.x or newer of libzmq\n\nSigned-off-by: Johnathan Corgan <johnathan@corganlabs.com>",
      "tree": {
        "sha": "fc80c05cc75bb147b764b57916f20b44f9a7c363",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fc80c05cc75bb147b764b57916f20b44f9a7c363"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb/comments",
    "author": {
      "login": "jmcorgan",
      "id": 1492956,
      "node_id": "MDQ6VXNlcjE0OTI5NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1492956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmcorgan",
      "html_url": "https://github.com/jmcorgan",
      "followers_url": "https://api.github.com/users/jmcorgan/followers",
      "following_url": "https://api.github.com/users/jmcorgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmcorgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmcorgan/subscriptions",
      "organizations_url": "https://api.github.com/users/jmcorgan/orgs",
      "repos_url": "https://api.github.com/users/jmcorgan/repos",
      "events_url": "https://api.github.com/users/jmcorgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmcorgan/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jmcorgan",
      "id": 1492956,
      "node_id": "MDQ6VXNlcjE0OTI5NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1492956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmcorgan",
      "html_url": "https://github.com/jmcorgan",
      "followers_url": "https://api.github.com/users/jmcorgan/followers",
      "following_url": "https://api.github.com/users/jmcorgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmcorgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmcorgan/subscriptions",
      "organizations_url": "https://api.github.com/users/jmcorgan/orgs",
      "repos_url": "https://api.github.com/users/jmcorgan/repos",
      "events_url": "https://api.github.com/users/jmcorgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmcorgan/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0bec36f3bb4053a37a4edca6a4370edecb6b1569",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0bec36f3bb4053a37a4edca6a4370edecb6b1569",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0bec36f3bb4053a37a4edca6a4370edecb6b1569"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 5,
      "deletions": 5
    },
    "files": [
      {
        "sha": "d530f8c262b25e024f34dddfe0221019e8053f8b",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
        "patch": "@@ -145,7 +145,7 @@ AC_ARG_ENABLE([zmq],\n \n AC_ARG_WITH([protoc-bindir],[AS_HELP_STRING([--with-protoc-bindir=BIN_DIR],[specify protoc bin path])], [protoc_bin_path=$withval], [])\n \n-# Enable debug \n+# Enable debug\n AC_ARG_ENABLE([debug],\n     [AS_HELP_STRING([--enable-debug],\n                     [use debug compiler flags and macros (default is no)])],\n@@ -157,11 +157,11 @@ if test \"x$enable_debug\" = xyes; then\n     if test \"x$GCC\" = xyes; then\n         CFLAGS=\"$CFLAGS -g3 -O0\"\n     fi\n-    \n+\n     if test \"x$GXX\" = xyes; then\n         CXXFLAGS=\"$CXXFLAGS -g3 -O0\"\n     fi\n-fi \n+fi\n \n ## TODO: Remove these hard-coded paths and flags. They are here for the sake of\n ##       compatibility with the legacy buildsystem.\n@@ -843,10 +843,10 @@ fi\n AC_MSG_CHECKING([whether to build ZMQ support])\n if test \"x$use_zmq\" = \"xyes\"; then\n   AC_MSG_RESULT([yes])\n-  PKG_CHECK_MODULES([ZMQ],[libzmq],\n+  PKG_CHECK_MODULES([ZMQ],[libzmq >= 4],\n     [AC_DEFINE([ENABLE_ZMQ],[1],[Define to 1 to enable ZMQ functions])],\n     [AC_DEFINE([ENABLE_ZMQ],[0],[Define to 1 to enable ZMQ functions])\n-     AC_MSG_WARN([libzmq not found, disabling])\n+     AC_MSG_WARN([libzmq version 4.x or greater not found, disabling])\n      use_zmq=no])\n else\n   AC_MSG_RESULT([no, --disable-zmq used])"
      }
    ]
  },
  {
    "sha": "ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYjBiOGJlODU3OWQ2YThmY2EyNmFjOWVlN2YyY2ZmYmNhOGQ3MmU5",
    "commit": {
      "author": {
        "name": "Johnathan Corgan",
        "email": "johnathan@corganlabs.com",
        "date": "2015-09-29T17:48:45Z"
      },
      "committer": {
        "name": "Johnathan Corgan",
        "email": "johnathan@corganlabs.com",
        "date": "2015-09-29T17:48:45Z"
      },
      "message": "zmq: update and cleanup build-unix, release-notes, and zmq docs\n\nSigned-off-by: Johnathan Corgan <johnathan@corganlabs.com>",
      "tree": {
        "sha": "67b153edf31184b736b48a4820bafbb31709f116",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/67b153edf31184b736b48a4820bafbb31709f116"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/comments",
    "author": {
      "login": "jmcorgan",
      "id": 1492956,
      "node_id": "MDQ6VXNlcjE0OTI5NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1492956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmcorgan",
      "html_url": "https://github.com/jmcorgan",
      "followers_url": "https://api.github.com/users/jmcorgan/followers",
      "following_url": "https://api.github.com/users/jmcorgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmcorgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmcorgan/subscriptions",
      "organizations_url": "https://api.github.com/users/jmcorgan/orgs",
      "repos_url": "https://api.github.com/users/jmcorgan/repos",
      "events_url": "https://api.github.com/users/jmcorgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmcorgan/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jmcorgan",
      "id": 1492956,
      "node_id": "MDQ6VXNlcjE0OTI5NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1492956?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmcorgan",
      "html_url": "https://github.com/jmcorgan",
      "followers_url": "https://api.github.com/users/jmcorgan/followers",
      "following_url": "https://api.github.com/users/jmcorgan/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmcorgan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmcorgan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmcorgan/subscriptions",
      "organizations_url": "https://api.github.com/users/jmcorgan/orgs",
      "repos_url": "https://api.github.com/users/jmcorgan/repos",
      "events_url": "https://api.github.com/users/jmcorgan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmcorgan/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6cebd5d854b2eda9ccfb403e9e73ee2b7fea18fb"
      }
    ],
    "stats": {
      "total": 74,
      "additions": 45,
      "deletions": 29
    },
    "files": [
      {
        "sha": "39f75e6b8d5632989fe26624ce49ea2076a74769",
        "filename": "doc/build-unix.md",
        "status": "modified",
        "additions": 8,
        "deletions": 3,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/build-unix.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/build-unix.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-unix.md?ref=ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
        "patch": "@@ -1,6 +1,6 @@\n UNIX BUILD NOTES\n ====================\n-Some notes on how to build Bitcoin in Unix. \n+Some notes on how to build Bitcoin in Unix.\n \n Note\n ---------------------\n@@ -44,6 +44,7 @@ Optional dependencies:\n  qt          | GUI              | GUI toolkit (only needed when GUI enabled)\n  protobuf    | Payments in GUI  | Data interchange format used for payment protocol (only needed when GUI enabled)\n  libqrencode | QR codes in GUI  | Optional for generating QR codes (only needed when GUI enabled)\n+ libzmq3     | ZMQ notification | Optional, allows generating ZMQ notifications (requires ZMQ version >= 4.x)\n \n For the versions used in the release, see [release-process.md](release-process.md) under *Fetch and build inputs*.\n \n@@ -59,7 +60,7 @@ Dependency Build Instructions: Ubuntu & Debian\n Build requirements:\n \n \tsudo apt-get install build-essential libtool autotools-dev autoconf pkg-config libssl-dev libevent-dev\n-\t\n+\n For Ubuntu 12.04 and later or Debian 7 and later libboost-all-dev has to be installed:\n \n \tsudo apt-get install libboost-all-dev\n@@ -81,6 +82,11 @@ Optional:\n \n \tsudo apt-get install libminiupnpc-dev (see --with-miniupnpc and --enable-upnp-default)\n \n+ZMQ dependencies:\n+\n+        sudo apt-get install libzmq3-dev (provides ZMQ API 4.x)\n+\n+\n Dependencies for the GUI: Ubuntu & Debian\n -----------------------------------------\n \n@@ -229,4 +235,3 @@ In this case there is no dependency on Berkeley DB 4.8.\n \n Mining is also possible in disable-wallet mode, but only using the `getblocktemplate` RPC\n call not `getwork`.\n-"
      },
      {
        "sha": "70623a3939d7b8ba55f81ed3dac8f011d49b8524",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
        "patch": "@@ -46,7 +46,7 @@ caching. A sample config for apache2 could look like:\n         # optional enable digest auth\n         # AuthType Digest\n         # ...\n-        \n+\n         # optional bypass bitcoind rpc basic auth\n         # RequestHeader set Authorization \"Basic <hash>\"\n         # get the <hash> from the shell with: base64 <<< bitcoinrpc:<password>\n@@ -171,3 +171,11 @@ configured specifically to process scriptPubKey and not scriptSig scripts.\n \n - Removed bitrpc.py from contrib\n \n+Addition of ZMQ-based Notifcations\n+==================================\n+\n+Bitcoind can now (optionally) asynchronously notify clients through a\n+ZMQ-based PUB socket of the arrival of new transactions and blocks.\n+This feature requires installation of the ZMQ C API library 4.x and\n+configuring its use through the command line or configuration file.\n+Please see docs/zmq.md for details of operation."
      },
      {
        "sha": "358d29d0467c25297d5d2b8c77247868e93f8ea4",
        "filename": "doc/zmq.md",
        "status": "modified",
        "additions": 28,
        "deletions": 25,
        "changes": 53,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/zmq.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9/doc/zmq.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/zmq.md?ref=ab0b8be8579d6a8fca26ac9ee7f2cffbca8d72e9",
        "patch": "@@ -1,7 +1,7 @@\n # Block and Transaction Broadcasting With ZeroMQ\n \n [ZeroMQ](http://zeromq.org/) is a lightweight wrapper around TCP\n-connections, inter-process communications, and shared-memory,\n+connections, inter-process communication, and shared-memory,\n providing various message-oriented semantics such as publish/subcribe,\n request/reply, and push/pull.\n \n@@ -14,31 +14,32 @@ requesting blockchain related data. However, there exists only a\n limited service to notify external software of events like the arrival\n of new blocks or transactions.\n \n-The ZeroMQ facility implements a notification interface through a\n-set of specific notifiers. Currently there are notifiers that publish\n+The ZeroMQ facility implements a notification interface through a set\n+of specific notifiers. Currently there are notifiers that publish\n blocks and transactions. This read-only facility requires only the\n-connection of a corresponding ZeroMQ subscriber port in receiving \n+connection of a corresponding ZeroMQ subscriber port in receiving\n software; it is not authenticated nor is there any two-way protocol\n involvement. Therefore, subscribers should validate the received data\n since it may be out of date, incomplete or even invalid.\n \n-ZeroMQ sockets are self-connecting and self-healing; that is, connects\n-made between two endpoints will be automatically restored after an\n-outage, and either end may be freely started or stopped in any order.\n+ZeroMQ sockets are self-connecting and self-healing; that is,\n+connections made between two endpoints will be automatically restored\n+after an outage, and either end may be freely started or stopped in\n+any order.\n \n Because ZeroMQ is message oriented, subscribers receive transactions\n and blocks all-at-once and do not need to implement any sort of\n buffering or reassembly.\n \n ## Prerequisites\n \n-The ZeroMQ feature in Bitcoin Core uses only a very small part of the\n-ZeroMQ C API, and is thus compatible with any version of ZeroMQ\n-from 2.1 onward, including all versions in the 3.x and 4.x release\n-series. Typically, it is packaged by distributions as something like\n-*libzmq-dev*.\n+The ZeroMQ feature in Bitcoin Core requires ZeroMQ API version 4.x or\n+newer. Typically, it is packaged by distributions as something like\n+*libzmq3-dev*. The C++ wrapper for ZeroMQ is *not* needed.\n \n-The C++ wrapper for ZeroMQ is *not* needed.\n+In order to run the example Python client scripts in contrib/ one must\n+also install *python-zmq*, though this is not necessary for daemon\n+operation.\n \n ## Enabling\n \n@@ -60,27 +61,29 @@ Currently, the following notifications are supported:\n     -zmqpubrawblock=address\n     -zmqpubrawtx=address\n \n-The socket type is PUB and the address must be a valid ZeroMQ\n-socket address. The same address can be used in more than one notification.\n+The socket type is PUB and the address must be a valid ZeroMQ socket\n+address. The same address can be used in more than one notification.\n \n For instance:\n \n-    $ bitcoind -zmqpubhashtx=tcp://127.0.0.1:28332 -zmqpubrawtx=ipc:///tmp/bitcoind.tx.raw\n+    $ bitcoind -zmqpubhashtx=tcp://127.0.0.1:28332 \\\n+               -zmqpubrawtx=ipc:///tmp/bitcoind.tx.raw\n \n Each PUB notification has a topic and body, where the header\n-corresponds to the notification type. For instance, for the notification\n-`-zmqpubhashtx` the topic is `hashtx` (no null terminator) and the body is the\n-hexadecimal transaction hash (32 bytes).\n+corresponds to the notification type. For instance, for the\n+notification `-zmqpubhashtx` the topic is `hashtx` (no null\n+terminator) and the body is the hexadecimal transaction hash (32\n+bytes).\n \n These options can also be provided in bitcoin.conf.\n \n ZeroMQ endpoint specifiers for TCP (and others) are documented in the\n [ZeroMQ API](http://api.zeromq.org).\n \n Client side, then, the ZeroMQ subscriber socket must have the\n-ZMQ_SUBSCRIBE option set to one or either of these prefixes (for instance, just `hash`); without\n-doing so will result in no messages arriving. Please see `contrib/zmq/zmq_sub.py`\n-for a working example.\n+ZMQ_SUBSCRIBE option set to one or either of these prefixes (for\n+instance, just `hash`); without doing so will result in no messages\n+arriving. Please see `contrib/zmq/zmq_sub.py` for a working example.\n \n ## Remarks\n \n@@ -93,6 +96,6 @@ No authentication or authorization is done on connecting clients; it\n is assumed that the ZeroMQ port is exposed only to trusted entities,\n using other means such as firewalling.\n \n-Note that when the block chain tip changes, a reorganisation may occur and just\n-the tip will be notified. It is up to the subscriber to retrieve the chain\n-from the last known block to the new tip.\n+Note that when the block chain tip changes, a reorganisation may occur\n+and just the tip will be notified. It is up to the subscriber to\n+retrieve the chain from the last known block to the new tip."
      }
    ]
  }
]