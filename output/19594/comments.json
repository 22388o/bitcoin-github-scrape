[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/664041834",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-664041834",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 664041834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDA0MTgzNA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-26T21:18:56Z",
    "updated_at": "2020-07-26T21:18:56Z",
    "author_association": "MEMBER",
    "body": "Friendly ping @LarryRuane :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/664041834/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/664099094",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-664099094",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 664099094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDA5OTA5NA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-27T03:25:32Z",
    "updated_at": "2021-01-28T08:44:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20750 ([Bundle 2/n] Prune g_chainman usage in mempool-related validation functions by dongcarl)\n* #20749 ([Bundle 1/n] Prune g_chainman usage related to ::LookupBlockIndex by dongcarl)\n* #20331 (allow -loadblock blocks to be unsorted by LarryRuane)\n* #20158 (tree-wide: De-globalize ChainstateManager by dongcarl)\n* #16981 (Improve runtime performance of --reindex by LarryRuane)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/664099094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674128637",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-674128637",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 674128637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDEyODYzNw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-14T15:26:00Z",
    "updated_at": "2020-08-14T15:26:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK: local is easier to reason about :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674128637/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674230166",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-674230166",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 674230166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NDIzMDE2Ng==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-14T19:08:44Z",
    "updated_at": "2020-08-14T19:08:44Z",
    "author_association": "MEMBER",
    "body": "@LarryRuane \r\n> Here's a slightly tangential suggestion, as long as you're changing this code, to eliminate one level of looping:\r\n\r\nLet's keep this PR diff minimal and focused :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/674230166/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712447328",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-712447328",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 712447328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMjQ0NzMyOA==",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?u=62e3204f6586795420395a7059ec7dc7c4a40c7d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-19T21:17:07Z",
    "updated_at": "2020-10-29T18:05:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "~~Concept ACK. This is a necessary change for [`2f2e8a2` (#20158)](https://github.com/bitcoin/bitcoin/pull/20158/commits/2f2e8a23959ad8f5dcd9d568af0019274a2757df) to work correctly.~~\r\nSorry, looking at this again now. It doesn't seem like it's fixing anything that's not working. If the concern is \"what happens if the map is not empty at the end of reindexing,\" then we should write a test case for that and implement the warning.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/712447328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720874585",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-720874585",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 720874585,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDg3NDU4NQ==",
    "user": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?u=f0ef8142342bcda68fe46c952d3c653456811ed4&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T02:40:41Z",
    "updated_at": "2020-11-03T02:40:41Z",
    "author_association": "MEMBER",
    "body": "code review ACK adc08e1bdcd092b07a349908c22a82a9ad7adeea\r\n\r\nbut I think OP should be updated. code currently is a pure refactor to maintain less global state. however, OP also has section that asks \"what happens if there are leftover entries in this map after reindexing has completed\", which I don't believe is addressed in this PR? \r\n\r\ntangential question: is `-loadblock` still used, or mostly a leftover relic? I was having a hard time understanding the purpose of `-loadblock`, and why it wouldn't take advantage of the orphan handling we have available. Looks like it was introduced in #883 and intentionally doesn't handle orphans (#1695). Seems like it might just be a dated mechanism that we still have around? So I'm interested to hear if there are current use cases.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/720874585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721274248",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721274248",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721274248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI3NDI0OA==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T17:33:37Z",
    "updated_at": "2020-11-03T17:33:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@amitiuttarwar :\r\n> ... I don't believe is addressed in this PR\r\n\r\nThe OP does mention logging if there are entries leftover entries, and I think that would be a good idea. But no other recovery is necessary, because the client will download the missing blocks from peers (I've verified this).\r\n\r\nWhile working on zcash, I recently looked into the `-loadblock` argument and concluded that it should be removed, see https://github.com/zcash/zcash/issues/4679#issuecomment-678839093, I'll quote the relevant part (the same 2012 commit hash referenced in this comment also exists in the bitcoin repo [here](https://github.com/bitcoin/bitcoin/commit/7fea48467442079cd0b4021b580761d7e33fa8a1)):\r\n\r\n> I don't think `-loadblock` makes sense at all. I just found this interesting [commit](https://github.com/zcash/zcash/commit/7fea48467442079cd0b4021b580761d7e33fa8a1) where `-reindex` was added and `-loadblock` already existed -- so `-reindex` was a nicer way to do what people used `-loadblock` to do previously. That strengthens my opinion that `-loadblock` isn't worth fixing. My guess is that back in 2012, the \"headers-first\" block download hadn't been implemented and merged yet, so blocks were in height order in the `blk?????.dat` files, so `-loadblock` worked well. Headers-first download broke it, but there's been no strong reason to fix it since `-reindex` existed by then.\r\n\r\nI could make a small PR to remove `-loadblock`, if that would be helpful (that shouldn't be part of the current PR).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721274248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721291371",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721291371",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721291371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI5MTM3MQ==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T18:06:45Z",
    "updated_at": "2020-11-03T18:06:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "me:\r\n> I could make a small PR to remove `-loadblock`\r\n\r\nOn further thought, we shouldn't do this, because I can easily imagine that it may be currently used for testing (outside of our repo), for example, with `regtest`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721291371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721291751",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721291751",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721291751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTI5MTc1MQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T18:07:31Z",
    "updated_at": "2020-11-03T18:07:31Z",
    "author_association": "MEMBER",
    "body": "@amitiuttarwar The purpose of `-loadblock` is loading external blocks from e.g. a bootstrap.dat file. I don't know if those see much use still, but we distribute the script to produce bootstrap.dat files still (see https://github.com/bitcoin/bitcoin/tree/master/contrib/linearize).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721291751/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721307311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721307311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721307311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTMwNzMxMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T18:39:37Z",
    "updated_at": "2020-11-03T18:39:37Z",
    "author_association": "MEMBER",
    "body": "It should also be possible to specify all block files of another datadir via multiple `-loadblock`. (sync via local disk)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721307311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721321744",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721321744",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721321744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTMyMTc0NA==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T19:09:38Z",
    "updated_at": "2020-11-03T19:09:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "> It should also be possible to specify all block files of another datadir via multiple `-loadblock`\r\n\r\nNo, because when using `-loadblock` (as opposed to `-reindex`), there is no unknown parent map. When `-loadblock` encounters a block whose parent hasn't yet been seen, which is very common beginning with headers-first download, it's silently ignored.\r\n\r\nWe could add an unknown parents map to the [`-loadblock` path](https://github.com/bitcoin/bitcoin/pull/19594/files#diff-b1e19192258d83199d8adaa5ac31f067af98f63554bfdd679bd8e8073815e69dR720), but that doesn't exist currently. I could make a tiny PR to do that, if it would be useful (it would make sense base it on the current PR).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721321744/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721418603",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-721418603",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 721418603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTQxODYwMw==",
    "user": {
      "login": "amitiuttarwar",
      "id": 1500952,
      "node_id": "MDQ6VXNlcjE1MDA5NTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1500952?u=f0ef8142342bcda68fe46c952d3c653456811ed4&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amitiuttarwar",
      "html_url": "https://github.com/amitiuttarwar",
      "followers_url": "https://api.github.com/users/amitiuttarwar/followers",
      "following_url": "https://api.github.com/users/amitiuttarwar/following{/other_user}",
      "gists_url": "https://api.github.com/users/amitiuttarwar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amitiuttarwar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amitiuttarwar/subscriptions",
      "organizations_url": "https://api.github.com/users/amitiuttarwar/orgs",
      "repos_url": "https://api.github.com/users/amitiuttarwar/repos",
      "events_url": "https://api.github.com/users/amitiuttarwar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amitiuttarwar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T23:00:15Z",
    "updated_at": "2020-11-03T23:00:15Z",
    "author_association": "MEMBER",
    "body": "@LarryRuane \r\n\r\n> The OP does mention logging if there are entries leftover entries, and I think that would be a good idea. But no other recovery is necessary, because the client will download the missing blocks from peers (I've verified this).\r\n\r\nright, sure, I think logging would make sense, but I'm talking about the difference between OP and code changes. Unless I'm mistaken, the code doesn't address this, so its misleading to talk about in the OP. additional logging could be added to this PR or it could be addressed in a separate PR, but the code & description should match :) \r\n\r\n---\r\n\r\nRE: `-loadblock`: \r\n- I just posted in irc asking if people are currently using. one person said they still use it\r\n- if we are trying to import block files from another datadir, wouldn't we just add them in the right directory and then reindex? \r\n\r\non irc @sipa said\r\n> i think part is that you don't want to encourage people copying entire datadirs, as chainstates don't get re-verified\r\n if you copy a *chainstate* from someone (not just block files), they don't get re-verified (because your node wouldn't know it's operating on an imported copy)\r\n\r\nas Larry said, one reason `loadblock` wouldn't work with the blocks dat is because it disables the parent map. but I don't think we should add functionality to amplify support unless we have concretely known use cases \r\n\r\nbut again, I don't think this is the most relevant to this PR. I current don't feel any conclusive evidence towards removing `loadblock` or adding support, but if I did I think opening an issue & continuing conversation there would make sense",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721418603/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770845820",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-770845820",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 770845820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDg0NTgyMA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-01T13:10:35Z",
    "updated_at": "2021-02-01T13:10:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770845820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826034289",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-826034289",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 826034289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjAzNDI4OQ==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-24T04:51:37Z",
    "updated_at": "2021-04-24T04:51:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@hebasto, I rebased this PR's commit as part of #20331. Feel free to cherry-pick it back to here. (A review of #20331 would be appreciated, BTW.)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/826034289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958801638",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#issuecomment-958801638",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19594",
    "id": 958801638,
    "node_id": "IC_kwDOABII5845Jibm",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T10:01:09Z",
    "updated_at": "2021-11-03T10:01:09Z",
    "author_association": "MEMBER",
    "body": "This will also fix an issue where the fuzz test goes OOM when running too long",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958801638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470730393",
    "pull_request_review_id": 467712997,
    "id": 470730393,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDczMDM5Mw==",
    "diff_hunk": "@@ -4752,15 +4758,17 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n \n                 NotifyHeaderTip();\n \n+                if (!blocks_with_unknown_parent) continue;",
    "path": "src/validation.cpp",
    "position": 42,
    "original_position": 42,
    "commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "original_commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice! It was hard to understand the previous code when `!dbp`.",
    "created_at": "2020-08-14T16:31:59Z",
    "updated_at": "2020-08-14T18:38:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470730393",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470730393"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470730393"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470730393/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 4761,
    "original_line": 4761,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470749547",
    "pull_request_review_id": 467712997,
    "id": 470749547,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc0OTU0Nw==",
    "diff_hunk": "@@ -4775,7 +4783,7 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n                             }\n                         }\n                         range.first++;\n-                        mapBlocksUnknownParent.erase(it);\n+                        blocks_with_unknown_parent->erase(it);",
    "path": "src/validation.cpp",
    "position": 63,
    "original_position": 63,
    "commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "original_commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n                        range.first = blocks_with_unknown_parent->erase(it);\r\n```\r\nAs written this is [safe](https://stackoverflow.com/questions/6438086/iterator-invalidation-rules/54004916#54004916) with this container type, but the assignment makes fewer assumptions (and is one less line of code!).",
    "created_at": "2020-08-14T17:10:35Z",
    "updated_at": "2020-08-14T18:38:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470749547",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470749547"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470749547"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470749547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 4785,
    "original_start_line": 4785,
    "start_side": "RIGHT",
    "line": 4786,
    "original_line": 4786,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470776156",
    "pull_request_review_id": 467712997,
    "id": 470776156,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc3NjE1Ng==",
    "diff_hunk": "@@ -4722,8 +4727,9 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n                     if (hash != chainparams.GetConsensus().hashGenesisBlock && !LookupBlockIndex(block.hashPrevBlock)) {\n                         LogPrint(BCLog::REINDEX, \"%s: Out of order block %s, parent %s not known\\n\", __func__, hash.ToString(),\n                                 block.hashPrevBlock.ToString());\n-                        if (dbp)\n-                            mapBlocksUnknownParent.insert(std::make_pair(block.hashPrevBlock, *dbp));\n+                        if (dbp && blocks_with_unknown_parent) {\n+                            blocks_with_unknown_parent->emplace(block.hashPrevBlock, *dbp);\n+                        }",
    "path": "src/validation.cpp",
    "position": 34,
    "original_position": 34,
    "commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "original_commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You could test either variable here (probably `blocks_with_unknown_parent` would be best), but I assume you're testing both since the code references both. The only downside is it could lead the casual reader to think that only one of these could be `nullptr` and not the other. The `emplace` simplification is nice here.",
    "created_at": "2020-08-14T18:05:29Z",
    "updated_at": "2020-08-14T18:38:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470776156",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470776156"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470776156"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470776156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 4730,
    "original_start_line": 4730,
    "start_side": "RIGHT",
    "line": 4732,
    "original_line": 4732,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470811473",
    "pull_request_review_id": 467807602,
    "id": 470811473,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgxMTQ3Mw==",
    "diff_hunk": "@@ -4722,8 +4727,9 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n                     if (hash != chainparams.GetConsensus().hashGenesisBlock && !LookupBlockIndex(block.hashPrevBlock)) {\n                         LogPrint(BCLog::REINDEX, \"%s: Out of order block %s, parent %s not known\\n\", __func__, hash.ToString(),\n                                 block.hashPrevBlock.ToString());\n-                        if (dbp)\n-                            mapBlocksUnknownParent.insert(std::make_pair(block.hashPrevBlock, *dbp));\n+                        if (dbp && blocks_with_unknown_parent) {\n+                            blocks_with_unknown_parent->emplace(block.hashPrevBlock, *dbp);\n+                        }",
    "path": "src/validation.cpp",
    "position": 34,
    "original_position": 34,
    "commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "original_commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> ... but I assume you're testing both since the code references both.\r\n\r\nCorrect.",
    "created_at": "2020-08-14T18:54:05Z",
    "updated_at": "2020-08-14T18:54:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470811473",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470811473"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470811473"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470811473/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 4730,
    "original_start_line": 4730,
    "start_side": "RIGHT",
    "line": 4732,
    "original_line": 4732,
    "side": "RIGHT",
    "in_reply_to_id": 470776156
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470816995",
    "pull_request_review_id": 467814578,
    "id": 470816995,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgxNjk5NQ==",
    "diff_hunk": "@@ -4775,7 +4783,7 @@ void LoadExternalBlockFile(const CChainParams& chainparams, FILE* fileIn, FlatFi\n                             }\n                         }\n                         range.first++;\n-                        mapBlocksUnknownParent.erase(it);\n+                        blocks_with_unknown_parent->erase(it);",
    "path": "src/validation.cpp",
    "position": 63,
    "original_position": 63,
    "commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "original_commit_id": "adc08e1bdcd092b07a349908c22a82a9ad7adeea",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree. But current diff is minimal :)",
    "created_at": "2020-08-14T19:06:34Z",
    "updated_at": "2020-08-14T19:06:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470816995",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470816995"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19594#discussion_r470816995"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19594"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/470816995/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 4785,
    "original_start_line": 4785,
    "start_side": "RIGHT",
    "line": 4786,
    "original_line": 4786,
    "side": "RIGHT",
    "in_reply_to_id": 470749547
  }
]