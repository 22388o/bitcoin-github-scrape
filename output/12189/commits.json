[
  {
    "sha": "515f2bdea0b45f740f63eca27bb35ead290f219b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MTVmMmJkZWEwYjQ1Zjc0MGY2M2VjYTI3YmIzNWVhZDI5MGYyMTli",
    "commit": {
      "author": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-01-15T12:57:25Z"
      },
      "committer": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-01-17T12:43:08Z"
      },
      "message": "Display fee sat/vbyte in SendCoinsDialog\n\nRelated to issue #11564, this is designed to provide\nfeedback to the user before they finish broadcasting their tx\nto the bitcoin network.",
      "tree": {
        "sha": "aebc149721b4eb75d183a69357fab3efe2edb7c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aebc149721b4eb75d183a69357fab3efe2edb7c5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/515f2bdea0b45f740f63eca27bb35ead290f219b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/515f2bdea0b45f740f63eca27bb35ead290f219b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/515f2bdea0b45f740f63eca27bb35ead290f219b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/515f2bdea0b45f740f63eca27bb35ead290f219b/comments",
    "author": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4db16ec82793beb941a7db2750e774246d7fbc21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4db16ec82793beb941a7db2750e774246d7fbc21",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4db16ec82793beb941a7db2750e774246d7fbc21"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 13,
      "deletions": 1
    },
    "files": [
      {
        "sha": "740d30866175497924b6fe4c2d7f9ac1626ce082",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 1,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/515f2bdea0b45f740f63eca27bb35ead290f219b/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/515f2bdea0b45f740f63eca27bb35ead290f219b/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=515f2bdea0b45f740f63eca27bb35ead290f219b",
        "patch": "@@ -318,11 +318,23 @@ void SendCoinsDialog::on_sendButton_clicked()\n         // append fee string if a fee is required\n         questionString.append(\"<hr /><span style='color:#aa0000;'>\");\n         questionString.append(BitcoinUnits::formatHtmlWithUnit(model->getOptionsModel()->getDisplayUnit(), txFee));\n+\n         questionString.append(\"</span> \");\n         questionString.append(tr(\"added as transaction fee\"));\n \n+        double txSize = (double)currentTransaction.getTransactionSize();\n+\n+        // safe to assume that txSize cannot be 0 at this point?\n+        double satPerVByte = txFee / txSize; // txFee is already in satoshis\n+\n         // append transaction size\n-        questionString.append(\" (\" + QString::number((double)currentTransaction.getTransactionSize() / 1000) + \" kB)\");\n+        questionString.append(\" (\");\n+        questionString.append(QString::number(txSize / 1000) + \" kB\");\n+\n+        // append sat/vbyte as another representation of the fee\n+        questionString.append(\" at \" + QString::number(satPerVByte) + \" sat/vbyte\");\n+\n+        questionString.append(\")\");\n     }\n \n     // add total amount in all subdivision units"
      }
    ]
  },
  {
    "sha": "111288cc04251f07512eb736f14f6834889c5ee2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxMTEyODhjYzA0MjUxZjA3NTEyZWI3MzZmMTRmNjgzNDg4OWM1ZWUy",
    "commit": {
      "author": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-02-20T14:40:24Z"
      },
      "committer": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-02-20T14:40:24Z"
      },
      "message": "Using formatBytes() to standardize the size output",
      "tree": {
        "sha": "224862ab2d673dc7d04b0d2fc81dda19b449982d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/224862ab2d673dc7d04b0d2fc81dda19b449982d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/111288cc04251f07512eb736f14f6834889c5ee2",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/111288cc04251f07512eb736f14f6834889c5ee2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/111288cc04251f07512eb736f14f6834889c5ee2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/111288cc04251f07512eb736f14f6834889c5ee2/comments",
    "author": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "515f2bdea0b45f740f63eca27bb35ead290f219b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/515f2bdea0b45f740f63eca27bb35ead290f219b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/515f2bdea0b45f740f63eca27bb35ead290f219b"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "0e474548417b518ae22c539f58cdd67749cfea2a",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/111288cc04251f07512eb736f14f6834889c5ee2/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/111288cc04251f07512eb736f14f6834889c5ee2/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=111288cc04251f07512eb736f14f6834889c5ee2",
        "patch": "@@ -329,7 +329,8 @@ void SendCoinsDialog::on_sendButton_clicked()\n \n         // append transaction size\n         questionString.append(\" (\");\n-        questionString.append(QString::number(txSize / 1000) + \" kB\");\n+        questionString.append(GUIUtil::formatBytes(txSize));\n+\n \n         // append sat/vbyte as another representation of the fee\n         questionString.append(\" at \" + QString::number(satPerVByte) + \" sat/vbyte\");"
      }
    ]
  },
  {
    "sha": "e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplODQ4NWQxMGU2M2MxYzY2ZWE4NWIyNTNmZjM4ZWU4NmZkMmEzZWE2",
    "commit": {
      "author": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-04-14T10:33:14Z"
      },
      "committer": {
        "name": "Eric Allam",
        "email": "eallam@icloud.com",
        "date": "2018-04-14T10:33:14Z"
      },
      "message": "Move sat/vbyte calculation to WalletModelTransaction\n\nThis allowed isolation of the transaction size validation into the wallet model, to protect against divide by 0 errors.\n\nAlso removed use of `GUIUtil::formatBytes` to output the size of the transaction to have better precision in the output.",
      "tree": {
        "sha": "b62b721d57cfa98097240c1acf01a9e9c1b8312e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b62b721d57cfa98097240c1acf01a9e9c1b8312e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/comments",
    "author": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ericallam",
      "id": 534,
      "node_id": "MDQ6VXNlcjUzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/534?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ericallam",
      "html_url": "https://github.com/ericallam",
      "followers_url": "https://api.github.com/users/ericallam/followers",
      "following_url": "https://api.github.com/users/ericallam/following{/other_user}",
      "gists_url": "https://api.github.com/users/ericallam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ericallam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ericallam/subscriptions",
      "organizations_url": "https://api.github.com/users/ericallam/orgs",
      "repos_url": "https://api.github.com/users/ericallam/repos",
      "events_url": "https://api.github.com/users/ericallam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ericallam/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "111288cc04251f07512eb736f14f6834889c5ee2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/111288cc04251f07512eb736f14f6834889c5ee2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/111288cc04251f07512eb736f14f6834889c5ee2"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 17,
      "deletions": 10
    },
    "files": [
      {
        "sha": "2400da5397ffeddf4c5ba9128fd8a186de0bfebf",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 10,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
        "patch": "@@ -318,23 +318,16 @@ void SendCoinsDialog::on_sendButton_clicked()\n         // append fee string if a fee is required\n         questionString.append(\"<hr /><span style='color:#aa0000;'>\");\n         questionString.append(BitcoinUnits::formatHtmlWithUnit(model->getOptionsModel()->getDisplayUnit(), txFee));\n-\n         questionString.append(\"</span> \");\n         questionString.append(tr(\"added as transaction fee\"));\n \n-        double txSize = (double)currentTransaction.getTransactionSize();\n-\n-        // safe to assume that txSize cannot be 0 at this point?\n-        double satPerVByte = txFee / txSize; // txFee is already in satoshis\n-\n+        unsigned int txSize = currentTransaction.getTransactionSize();\n         // append transaction size\n-        questionString.append(\" (\");\n-        questionString.append(GUIUtil::formatBytes(txSize));\n-\n+        questionString.append(\" (\" + QString::number(txSize / 1000.0) + \" kB\");\n \n+        double satPerVByte = currentTransaction.getTransactionFeePerByte();\n         // append sat/vbyte as another representation of the fee\n         questionString.append(\" at \" + QString::number(satPerVByte) + \" sat/vbyte\");\n-\n         questionString.append(\")\");\n     }\n "
      },
      {
        "sha": "f1b91522accff3415f6ea0b0f8b61666745e07d6",
        "filename": "src/qt/walletmodeltransaction.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/walletmodeltransaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/walletmodeltransaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodeltransaction.cpp?ref=e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
        "patch": "@@ -35,6 +35,19 @@ unsigned int WalletModelTransaction::getTransactionSize()\n     return (!walletTransaction ? 0 : ::GetVirtualTransactionSize(*walletTransaction->tx));\n }\n \n+double WalletModelTransaction::getTransactionFeePerByte()\n+{\n+    CAmount txFee = this->getTransactionFee();\n+    double txSize = (double)this->getTransactionSize();\n+\n+    // Prevent divide by 0\n+    if (txSize <= 0) {\n+      return 0;\n+    }\n+\n+    return txFee / txSize;\n+}\n+\n CAmount WalletModelTransaction::getTransactionFee() const\n {\n     return fee;"
      },
      {
        "sha": "4fad2a7190bb8d2ac440c8686f31aefcbe6321a7",
        "filename": "src/qt/walletmodeltransaction.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/walletmodeltransaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6/src/qt/walletmodeltransaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodeltransaction.h?ref=e8485d10e63c1c66ea85b253ff38ee86fd2a3ea6",
        "patch": "@@ -26,6 +26,7 @@ class WalletModelTransaction\n \n     CWalletTx *getTransaction() const;\n     unsigned int getTransactionSize();\n+    double getTransactionFeePerByte();\n \n     void setTransactionFee(const CAmount& newFee);\n     CAmount getTransactionFee() const;"
      }
    ]
  }
]