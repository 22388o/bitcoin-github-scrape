[
  {
    "sha": "48668e65d7977b8fe71f1927550847fef142c157",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ODY2OGU2NWQ3OTc3YjhmZTcxZjE5Mjc1NTA4NDdmZWYxNDJjMTU3",
    "commit": {
      "author": {
        "name": "motty",
        "email": "admin@fujicoin.org",
        "date": "2021-01-19T21:59:13Z"
      },
      "committer": {
        "name": "motty",
        "email": "admin@fujicoin.org",
        "date": "2021-01-20T03:54:55Z"
      },
      "message": "Fix a bug that personal signet can not be created.",
      "tree": {
        "sha": "f945613780a5d5777bf810095704d03906f769e2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f945613780a5d5777bf810095704d03906f769e2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48668e65d7977b8fe71f1927550847fef142c157",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48668e65d7977b8fe71f1927550847fef142c157",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48668e65d7977b8fe71f1927550847fef142c157",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48668e65d7977b8fe71f1927550847fef142c157/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "bc51b99bd5e99a4828a5f759b21ae911aef461e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc51b99bd5e99a4828a5f759b21ae911aef461e5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bc51b99bd5e99a4828a5f759b21ae911aef461e5"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 7,
      "deletions": 3
    },
    "files": [
      {
        "sha": "b750c744783a34be75c8876922c80bb67c7fd307",
        "filename": "src/signet.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 3,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48668e65d7977b8fe71f1927550847fef142c157/src/signet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48668e65d7977b8fe71f1927550847fef142c157/src/signet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/signet.cpp?ref=48668e65d7977b8fe71f1927550847fef142c157",
        "patch": "@@ -23,8 +23,6 @@\n #include <util/system.h>\n #include <uint256.h>\n \n-static constexpr uint8_t SIGNET_HEADER[4] = {0xec, 0xc7, 0xda, 0xa2};\n-\n static constexpr unsigned int BLOCK_SCRIPT_VERIFY_FLAGS = SCRIPT_VERIFY_P2SH | SCRIPT_VERIFY_WITNESS | SCRIPT_VERIFY_DERSIG | SCRIPT_VERIFY_NULLDUMMY;\n \n static bool FetchAndClearCommitmentSection(const Span<const uint8_t> header, CScript& witness_commitment, std::vector<uint8_t>& result)\n@@ -67,6 +65,12 @@ static uint256 ComputeModifiedMerkleRoot(const CMutableTransaction& cb, const CB\n \n Optional<SignetTxs> SignetTxs::Create(const CBlock& block, const CScript& challenge)\n {\n+    uint8_t signet_header[4];\n+    CHashWriter h(SER_DISK, 0);\n+    h << challenge;\n+    uint256 hash = h.GetHash();\n+    memcpy(signet_header, hash.begin(), 4);\n+\n     CMutableTransaction tx_to_spend;\n     tx_to_spend.nVersion = 0;\n     tx_to_spend.nLockTime = 0;\n@@ -94,7 +98,7 @@ Optional<SignetTxs> SignetTxs::Create(const CBlock& block, const CScript& challe\n     CScript& witness_commitment = modified_cb.vout.at(cidx).scriptPubKey;\n \n     std::vector<uint8_t> signet_solution;\n-    if (!FetchAndClearCommitmentSection(SIGNET_HEADER, witness_commitment, signet_solution)) {\n+    if (!FetchAndClearCommitmentSection(signet_header, witness_commitment, signet_solution)) {\n         // no signet solution -- allow this to support OP_TRUE as trivial block challenge\n     } else {\n         try {"
      }
    ]
  }
]