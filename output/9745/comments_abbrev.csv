jonasschnelli,2017-02-12T13:53:49Z,"Hmm..... so this would purely be a (bandwidth) performance optimisation? Right? I haven't measured it, but I expect that most of the CPU time gets spent in `GetTransaction()` and the http-serving parts.\nI'm not sure if its worth to add another RPC call to solve a rather individual issue.",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279220015,279220015,
34ro,2017-02-12T14:25:36Z,"yes, bandwidth performance.\nI think it is not individual issue.\nWallet users most interested in tx confirmations because it is changeable value.\nAnd we would like to detect confirmation as soon as possible to finish payment.\nFor this reason, getrawtransaction is called so many time and network performance is down.",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279221929,279221929,
jonasschnelli,2017-02-12T14:57:03Z,"For normal use-cases, `get(raw)transaction` seems to be fast enough... \nConstantly polling is not efficient.\nSomething that could be a better solution would be RPC long polling (https://github.com/bitcoin/bitcoin/pull/7949).\n\nIt would be possible, to keep the http-connection open (long poll) until the confirmation-count got changed (could be check on every Connect/Disconnect block). This w",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279223816,279223816,
kallewoof,2017-02-13T11:36:18Z,"A wallet would not use the RPC commands directly except if the bitcoin node is local, in which case bandwidth is not an issue. For a remote / arbitrary node, it would use some form of proxy which could have a reduced-bandwidth representation of the transactions easily enough. Without adding that representation mode to Bitcoin Core itself.",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279362780,279362780,
jonasschnelli,2017-02-13T11:38:43Z,"> A wallet would not use the RPC commands directly except if the bitcoin node is local, in which case bandwidth is not an issue. For a remote / arbitrary node, it would use some form of proxy which could have a reduced-bandwidth representation of the transactions easily enough.\n\nIdeally yes. But I could guess there are some users tunnelling RPC to a remote machine (bandwidth matters) or connec",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279363247,279363247,
JeremyRubin,2017-02-14T12:14:36Z,"Hey! Just wanted to say nice work for your first PR @34ro :) In terms of code quality and formatting I think you've done a nice job & your implementation seems correct and pragmatic. Great to see that you even added tests!\n\nUnfortunately, I agree somewhat with @jonasschnelli with regards to the necessity of this work. I don't think that the RPC bandwidth will be so large as to cause a problem ",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279692042,279692042,
laanwj,2017-02-14T12:20:00Z,"I'd say the code looks good, but yes it doesn't seem there is enough reason presented to add yet another call to the API.\n\n> And we would like to detect confirmation as soon as possible to finish payment.\n\nThe conceptual solution to this would be some kind of notification, not faster polling. @jonasschnelli has some work in introducing long-poll notifications in RPC, see #7949. That seems ",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279693112,279693112,
laanwj,2017-02-14T13:31:40Z,"Just wanted to add that while a better notification method would be nice, *practically* this is already possible with `-blocknotify`. The number of confirmations of a transaction can only change when a block comes in. The thing I'm not sure about is whether race conditions - it may be possible that the wallet has not processed the block yet when your script launches. A `-walletblocknotify` that is",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-279707430,279707430,
34ro,2017-02-15T15:10:05Z,"Thank you for many advice.\nLong polling is good idea.\nI agree ```-blocknotify``` is practically way to detect confirmation fast.\nI'll wait until #7949 is merged.",https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-280036398,280036398,
laanwj,2017-06-05T15:59:17Z,Closing this for now. It has been inactive for quite some time. Let me know if you start work on this again then I'll reopen.,https://github.com/bitcoin/bitcoin/pull/9745#issuecomment-306227117,306227117,
luke-jr,2017-02-17T19:58:10Z,Better to put these in `qa/rpc-tests`,https://github.com/bitcoin/bitcoin/pull/9745#discussion_r101835907,101835907,src/test/rpc_tests.cpp
luke-jr,2017-02-17T20:01:31Z,"This requires `txindex=1`, otherwise only works on unconfirmed transactions.\n\nSeems like this ought to be a wallet RPC?",https://github.com/bitcoin/bitcoin/pull/9745#discussion_r101836593,101836593,src/rpc/rawtransaction.cpp
