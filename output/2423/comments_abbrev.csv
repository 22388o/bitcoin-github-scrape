sipa,2013-03-30T16:51:13Z,"@TheBlueMatt Can you drop the #2409 included code, or switch to its latest version? They should combine cleanly anyway.\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15677633,15677633,
TheBlueMatt,2013-03-30T18:02:18Z,No longer depends on #2409\n,https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15678887,15678887,
rebroad,2013-04-01T02:05:21Z,"How about separating askedfor blocks and askedfor transactions? That way, one growing large won't affect downloads of the other.\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15701804,15701804,
TheBlueMatt,2013-04-01T14:09:22Z,"@rebroad meh, that just sounds like useless duplication...in that case, anyone will just send block invs so that you re-request blocks more often, sounds like a better way to let an attacker be more targeted.\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15716596,15716596,
TheBlueMatt,2013-04-01T15:56:59Z,"OK, switched to MAX_INV_SZ for the map's limit...Im not a huge fan of such a big number, but since its already a protocol rule it makes more sense to use that.\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15721394,15721394,
gmaxwell,2013-04-02T19:08:53Z,"This has passed a couple days of in-valgrind production testing, but I think the new limited map needs some unit tests. OTOH, I'd like this merged ASAP for previously discussed reasons.\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15795943,15795943,
sipa,2013-04-02T19:27:47Z,"If my understanding of how maps are represented at runtime in STL is correct, this should mean at most ~6.2MB of memory for 50000 invs (with 8-byte pointers, with 4-byte pointers is 4.4MB).\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15796920,15796920,
jgarzik,2013-04-02T19:33:13Z,@gmaxwell what are the previously discussed reasons?  I don't see them in this pull.\n,https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15797235,15797235,
sipa,2013-04-02T19:37:55Z,"ACK, but unit tests for the map would be nice indeed. Has been running for several days for me without problems (together with #2419 #2418 #2422 #2420 #2409)\n",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15797495,15797495,
BitcoinPullTester,2013-04-03T02:54:47Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/b5afda67f2846ddc6554304acc1567796733725b for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2423#issuecomment-15814991,15814991,
