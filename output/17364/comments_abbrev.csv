laanwj,2019-11-04 14:25:32,Concept ACK,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-549377329,549377329,
Sjors,2019-11-04 16:17:40,Concept ACK. Works for me if it works for AppVeyor :-),https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-549428959,549428959,
DrahtBot,2019-11-04 17:46:08,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15382](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15382.html) (util: add runCommandParseJSON by Sjors)\n\n",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-549468311,549468311,
MarcoFalke,2019-11-04 21:19:54,This build took 1h14m. Other builds take typically between 33 min and 49 min. Are you sure caching has no effect on the run time?,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-549551967,549551967,
sipsorcery,2019-11-04 22:05:08,"> This build took 1h14m. Other builds take typically between 33 min and 49 min. Are you sure caching has no effect on the run time?\n\nThat does warrant some further investigation. I'll look into it further.\n\nMy build times performed sequentially were as below. They seemed fairly consistent even with appveyor's unpredictability. But given your results I'll see if maybe I missed something wit",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-549568674,549568674,
MarcoFalke,2019-11-05 23:19:08,Maybe clcache can be removed in a follow-up? Splitting the change into two commits would also help with review.,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-550067772,550067772,
sipsorcery,2019-11-06 10:21:13,@MarcoFalke D'accord. Have put back the clcache steps. Now the changes in this PR are focused on getting the msvc build working with VS2019 and Qt5.9.8.,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-550244808,550244808,
sipsorcery,2019-11-07 08:21:08,"@MarcoFalke the appveyor job will need to have the cache cleared before this PR will build successfully. The Curl command below shows how to do it. You'll need to replace the project URL.\n\nAll the appveyor builds are failing at the moment due to a new utility class being added to the `test_bitcoin` program. This PR fixes that.\n\n````\nexport APPVEYOR_TOKEN=""<your-api-token>""\ncurl -H ""Aut",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-550973544,550973544,
MarcoFalke,2019-11-07 13:32:27,"```\n$ curl -H ""Authorization: Bearer $APPVEYOR_TOKEN"" -X DELETE https://ci.appveyor.com/api/projects/bitcoin/bitcoin-9ql6k/buildcache\n{""message"":""Account not found or access denied.""}",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551080148,551080148,
DrahtBot,2019-11-07 13:33:46,"```\n$ curl -H ""Authorization: Bearer $APPVEYOR_TOKEN"" -X DELETE https://ci.appveyor.com/api/projects/DrahtBot/bitcoin/buildcache && echo 'Done?'\nDone?\n",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551080613,551080613,
sipsorcery,2019-11-07 13:46:05,The cache purge worked. The appveyor job is now installing the vcpkg's from scratch. The first job will probably fail due to hitting the 1hr time limit. Installing the vcpkg's (~20mins) + build (~40mins) + test (~15mins) is now too long to do all at once. After the first attempt the vcpkg packages should be cached and subsequent job runs should work.,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551085576,551085576,
MarcoFalke,2019-11-07 13:54:01,Ok. Could you please update the OP to reflect the current state of this pull request?,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551088481,551088481,
sipsorcery,2019-11-07 14:00:01,OP and title updated.,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551090893,551090893,
MarcoFalke,2019-11-07 14:55:46,"Just wanted to note that this reverts 0646ca5ea2541d4da324d9aff7de422c6daa0ef9, which now needs to be applied manually on failing builds",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551113955,551113955,
fanquake,2019-11-07 15:44:32,"post-merge ACK 3c84deebaa311155ccc7565d09525041eed9747c\n\nI've just completed a qt build on Windows 10 with these changes:\n\n![windows_17364](https://user-images.githubusercontent.com/863730/68403794-842df200-014b-11ea-9831-02e307397833.png)\n",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551136048,551136048,
Sjors,2019-11-07 16:42:56,"The commit message was incorrectly formatted:\n\n```\ncommit 3c84deebaa311155ccc7565d09525041eed9747c\nAuthor: Aaron Clauson <aaron@sipsorcery.com>\nDate:   Wed Nov 6 22:02:16 2019 +0000\n\n    Updated appveyor config:\n     - Update build image from Visual Studio 2017 to Visual Studio 2019.\n```\n\nThere should be a blank line after the description. Otherwise things like `git rebase -i",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551162577,551162577,
MarcoFalke,2019-11-07 17:14:03,A linter makes sense to catch these,https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551175641,551175641,
MarcoFalke,2019-11-07 19:54:10,"It looks like compile time is back at about 50 minutes (like before): https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/28694137\n\nOk, this one is 57 minutes, but close enough.",https://github.com/bitcoin/bitcoin/pull/17364#issuecomment-551237605,551237605,
fanquake,2019-11-04 15:11:16,nit: s/fialing/failing,https://github.com/bitcoin/bitcoin/pull/17364#discussion_r342099747,342099747,.appveyor.yml
fanquake,2019-11-04 20:07:13,"You mentioned [here](https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548083497) that updating `vcpkg` for each build would likely be infeasible. Is that no-longer the case, or am I mis-understanding what this does?",https://github.com/bitcoin/bitcoin/pull/17364#discussion_r342245790,342245790,.appveyor.yml
sipsorcery,2019-11-04 21:54:13,"I checked my statement by running the appveyor job with a pull of the vcpkg repo as mentioned in the articles you [referenced](https://www.appveyor.com/docs/lang/cpp/#vc-packaging-tool) and I was incorrect about the time it would take. \n\nThe reason being that updating and rebuilding the `vcpkg` program does not affect already installed packages. In my testing it only added about 2 minutes onto",https://github.com/bitcoin/bitcoin/pull/17364#discussion_r342289793,342289793,.appveyor.yml
MarcoFalke,2019-11-07 13:32:20,"Why is this cache not cleared? \n\nhttps://www.appveyor.com/docs/build-cache/#cleaning-up-cache",https://github.com/bitcoin/bitcoin/pull/17364#discussion_r343650192,343650192,.appveyor.yml
