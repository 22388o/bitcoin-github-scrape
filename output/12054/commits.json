[
  {
    "sha": "2972b1ef4673dbb244452aee9f3ca98f8deceaea",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyOTcyYjFlZjQ2NzNkYmIyNDQ0NTJhZWU5ZjNjYTk4ZjhkZWNlYWVh",
    "commit": {
      "author": {
        "name": "Zoltan Vajda",
        "email": "vzvzvz2@gmail.com",
        "date": "2017-12-30T10:36:50Z"
      },
      "committer": {
        "name": "Zoltan Vajda",
        "email": "vzvzvz2@gmail.com",
        "date": "2017-12-30T10:36:50Z"
      },
      "message": "Minimize to tray functionality only on Windows\n\nMinimizing to tray should only be possible on Windows.\nTherefore, on non-Winodws systems the tray icon and related\nsettings are hidden, the related option variables are set to\npredefined values. Furthermore, not used entries are removed\nfrom the configuration files at initialization.\n Please enter the commit message for your changes. Lines starting",
      "tree": {
        "sha": "de39c810028947ab6dd3723baa7e2eba3bab65bb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de39c810028947ab6dd3723baa7e2eba3bab65bb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2972b1ef4673dbb244452aee9f3ca98f8deceaea",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2972b1ef4673dbb244452aee9f3ca98f8deceaea",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2972b1ef4673dbb244452aee9f3ca98f8deceaea",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2972b1ef4673dbb244452aee9f3ca98f8deceaea/comments",
    "author": {
      "login": "vajdaz",
      "id": 8015558,
      "node_id": "MDQ6VXNlcjgwMTU1NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8015558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vajdaz",
      "html_url": "https://github.com/vajdaz",
      "followers_url": "https://api.github.com/users/vajdaz/followers",
      "following_url": "https://api.github.com/users/vajdaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/vajdaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vajdaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vajdaz/subscriptions",
      "organizations_url": "https://api.github.com/users/vajdaz/orgs",
      "repos_url": "https://api.github.com/users/vajdaz/repos",
      "events_url": "https://api.github.com/users/vajdaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vajdaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "vajdaz",
      "id": 8015558,
      "node_id": "MDQ6VXNlcjgwMTU1NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8015558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vajdaz",
      "html_url": "https://github.com/vajdaz",
      "followers_url": "https://api.github.com/users/vajdaz/followers",
      "following_url": "https://api.github.com/users/vajdaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/vajdaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vajdaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vajdaz/subscriptions",
      "organizations_url": "https://api.github.com/users/vajdaz/orgs",
      "repos_url": "https://api.github.com/users/vajdaz/repos",
      "events_url": "https://api.github.com/users/vajdaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vajdaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d9fdac130a5ed1d96fcac6bb87c10bec9d596b17",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9fdac130a5ed1d96fcac6bb87c10bec9d596b17",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d9fdac130a5ed1d96fcac6bb87c10bec9d596b17"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 17,
      "deletions": 0
    },
    "files": [
      {
        "sha": "88950c448f39aff1608029a5c9061205c3253591",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2972b1ef4673dbb244452aee9f3ca98f8deceaea/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2972b1ef4673dbb244452aee9f3ca98f8deceaea/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=2972b1ef4673dbb244452aee9f3ca98f8deceaea",
        "patch": "@@ -65,6 +65,12 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     ui->tabWidget->removeTab(ui->tabWidget->indexOf(ui->tabWindow));\n #endif\n \n+#ifndef Q_OS_WIN\n+    /* hide tray icon related stuff from Window tab */\n+    ui->hideTrayIcon->hide();\n+    ui->minimizeToTray->hide();\n+#endif\n+\n     /* remove Wallet tab in case of -disablewallet */\n     if (!enableWallet) {\n         ui->tabWidget->removeTab(ui->tabWidget->indexOf(ui->tabWallet));"
      },
      {
        "sha": "2b0d782799f030ffa7feeac3db594f10629ab14a",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2972b1ef4673dbb244452aee9f3ca98f8deceaea/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2972b1ef4673dbb244452aee9f3ca98f8deceaea/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=2972b1ef4673dbb244452aee9f3ca98f8deceaea",
        "patch": "@@ -56,6 +56,8 @@ void OptionsModel::Init(bool resetSettings)\n     // These are Qt-only settings:\n \n     // Window\n+#ifdef Q_OS_WIN\n+    // Tray icon functionality is only available on Windows.\n     if (!settings.contains(\"fHideTrayIcon\"))\n         settings.setValue(\"fHideTrayIcon\", false);\n     fHideTrayIcon = settings.value(\"fHideTrayIcon\").toBool();\n@@ -64,6 +66,15 @@ void OptionsModel::Init(bool resetSettings)\n     if (!settings.contains(\"fMinimizeToTray\"))\n         settings.setValue(\"fMinimizeToTray\", false);\n     fMinimizeToTray = settings.value(\"fMinimizeToTray\").toBool() && !fHideTrayIcon;\n+#else\n+    // On systems without tray icon functionality we set some default values\n+    // and remove settings from previous versions of the software to not\n+    // confuse people looking into the .config or .plist file.\n+    fHideTrayIcon = true;\n+    settings.remove(\"fHideTrayIcon\");\n+    fMinimizeToTray = false;\n+    settings.remove(\"fMinimizeToTray\");\n+#endif\n \n     if (!settings.contains(\"fMinimizeOnClose\"))\n         settings.setValue(\"fMinimizeOnClose\", false);"
      }
    ]
  },
  {
    "sha": "d54e033294b5eac1e0dfb35bcff8632c5036bc27",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNTRlMDMzMjk0YjVlYWMxZTBkZmIzNWJjZmY4NjMyYzUwMzZiYzI3",
    "commit": {
      "author": {
        "name": "Zoltan Vajda",
        "email": "vzvzvz2@gmail.com",
        "date": "2018-01-02T20:54:38Z"
      },
      "committer": {
        "name": "Zoltan Vajda",
        "email": "vzvzvz2@gmail.com",
        "date": "2018-01-02T20:54:38Z"
      },
      "message": "Do not remove unused settings from the settings file",
      "tree": {
        "sha": "97da7300183d2deec193c5c8886b083c5453e7e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/97da7300183d2deec193c5c8886b083c5453e7e5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d54e033294b5eac1e0dfb35bcff8632c5036bc27",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d54e033294b5eac1e0dfb35bcff8632c5036bc27",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d54e033294b5eac1e0dfb35bcff8632c5036bc27",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d54e033294b5eac1e0dfb35bcff8632c5036bc27/comments",
    "author": {
      "login": "vajdaz",
      "id": 8015558,
      "node_id": "MDQ6VXNlcjgwMTU1NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8015558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vajdaz",
      "html_url": "https://github.com/vajdaz",
      "followers_url": "https://api.github.com/users/vajdaz/followers",
      "following_url": "https://api.github.com/users/vajdaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/vajdaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vajdaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vajdaz/subscriptions",
      "organizations_url": "https://api.github.com/users/vajdaz/orgs",
      "repos_url": "https://api.github.com/users/vajdaz/repos",
      "events_url": "https://api.github.com/users/vajdaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vajdaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "vajdaz",
      "id": 8015558,
      "node_id": "MDQ6VXNlcjgwMTU1NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8015558?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vajdaz",
      "html_url": "https://github.com/vajdaz",
      "followers_url": "https://api.github.com/users/vajdaz/followers",
      "following_url": "https://api.github.com/users/vajdaz/following{/other_user}",
      "gists_url": "https://api.github.com/users/vajdaz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vajdaz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vajdaz/subscriptions",
      "organizations_url": "https://api.github.com/users/vajdaz/orgs",
      "repos_url": "https://api.github.com/users/vajdaz/repos",
      "events_url": "https://api.github.com/users/vajdaz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vajdaz/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2972b1ef4673dbb244452aee9f3ca98f8deceaea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2972b1ef4673dbb244452aee9f3ca98f8deceaea",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2972b1ef4673dbb244452aee9f3ca98f8deceaea"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 3,
      "deletions": 5
    },
    "files": [
      {
        "sha": "dc8d669446c41159a8f9e5efd115dfd05bb73ac5",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 5,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d54e033294b5eac1e0dfb35bcff8632c5036bc27/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d54e033294b5eac1e0dfb35bcff8632c5036bc27/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=d54e033294b5eac1e0dfb35bcff8632c5036bc27",
        "patch": "@@ -67,13 +67,11 @@ void OptionsModel::Init(bool resetSettings)\n         settings.setValue(\"fMinimizeToTray\", false);\n     fMinimizeToTray = settings.value(\"fMinimizeToTray\").toBool() && !fHideTrayIcon;\n #else\n-    // On systems without tray icon functionality we set some default values\n-    // and remove settings from previous versions of the software to not\n-    // confuse people looking into the .config or .plist file.\n+    // On systems without tray icon functionality we always hide the tray icon\n+    // and we never minimize to tray. Therefore, these settings are not read\n+    // from the configuration file/registry.\n     fHideTrayIcon = true;\n-    settings.remove(\"fHideTrayIcon\");\n     fMinimizeToTray = false;\n-    settings.remove(\"fMinimizeToTray\");\n #endif\n \n     if (!settings.contains(\"fMinimizeOnClose\"))"
      }
    ]
  }
]