[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330474562",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-330474562",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 330474562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDQ3NDU2Mg==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-19T08:54:50Z",
    "updated_at": "2017-09-19T08:54:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "If #11359 gets in it might be nice to have the prune hwm in there too, but I didn't want to add the dependency.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330474562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330760846",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-330760846",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 330760846,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDc2MDg0Ng==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T06:48:37Z",
    "updated_at": "2017-09-20T06:48:37Z",
    "author_association": "MEMBER",
    "body": "Test for `getblockchaininfo` added in #11370.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330760846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330881165",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-330881165",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 330881165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDg4MTE2NQ==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-20T15:05:05Z",
    "updated_at": "2017-09-20T15:05:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "A few mishaps with the commit message there, sorry.\r\n\r\nI have merged this with #11366 and closed #11366.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/330881165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331353386",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331353386",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331353386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTM1MzM4Ng==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T05:26:05Z",
    "updated_at": "2017-09-22T05:26:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331353386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331524788",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331524788",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331524788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTUyNDc4OA==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T18:25:32Z",
    "updated_at": "2017-09-22T19:42:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased on master, moved the lock into CalculateCurrentUsage, `CBlockIndex *block` => `CBlockIndex* block`.\r\n\r\nTravis failed on one platform (iirc linux64) on a timeout in p2p-segwit last time. Not sure why. We'll see how it goes. edit: looks good.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331524788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331531586",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331531586",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331531586,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTUzMTU4Ng==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T18:53:06Z",
    "updated_at": "2017-09-22T18:53:06Z",
    "author_association": "MEMBER",
    "body": "utACK 071879a6263aa286e166f9cf07f409e6df35bc02",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331531586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331552341",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331552341",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331552341,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU1MjM0MQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T20:27:27Z",
    "updated_at": "2017-09-22T20:27:27Z",
    "author_association": "MEMBER",
    "body": "I've just tested this with `-prune=1` and I get the bizarre result:\r\n\r\n```\r\n\u2192 bitcoin-cli getblockchaininfo\r\n{\r\n...\r\n  \"prune_target_size\": 18446744073709551615,\r\n```\r\n\r\nThat's because of this section in `init.cpp`:\r\n\r\n```\r\n    nPruneTarget = (uint64_t) nPruneArg * 1024 * 1024;\r\n    if (nPruneArg == 1) {  // manual pruning: -prune=1\r\n        LogPrintf(\"Block pruning enabled.  Use RPC call pruneblockchain(height) to manually prune block and undo files.\\n\");\r\n        nPruneTarget = std::numeric_limits<uint64_t>::max();\r\n        fPruneMode = true;\r\n...\r\n```\r\n\r\nReturning the max int for `prune_target_size` is meaningless and confusing. I recommend you don't return `prune_target_size` if bitcoind is configured for manual pruning (ie if `-prune=1`) (and perhaps also add *another* field `pruning_mode` that returns whether pruning is automatic or manual).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331552341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331571173",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331571173",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331571173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTU3MTE3Mw==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T22:04:20Z",
    "updated_at": "2017-09-22T22:04:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmmm. Yes, that isn't desirable behaviour.\r\n\r\nOptions I can see:\r\na) nPruneArg is exposed from init.cpp, or an fPruneManualMode (in which case it could be explicitly checked for in FindFilesToPrune)\r\nor\r\nb) the RPC checks for int_max to determine whether automatic pruning is disabled\r\n\r\nb) fixes the RPC without having to touch pruning code but otherwise seems a bit messy to me.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331571173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331606508",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331606508",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331606508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTYwNjUwOA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-23T03:06:06Z",
    "updated_at": "2017-09-23T03:09:20Z",
    "author_association": "MEMBER",
    "body": "Or instead of b) just see if gArgs.GetArg(\"-prune\", 0) is 1?\r\nBut yeah maybe adding a manual prune bool to validation.cpp would be more sensible",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331606508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331628311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331628311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331628311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTYyODMxMQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-23T11:36:09Z",
    "updated_at": "2017-09-24T17:51:53Z",
    "author_association": "MEMBER",
    "body": "I think just testing the value of `gArgs.GetArg(\"-prune\", 0)` is appropriate for this pr. No need to touch the init or validation code.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331628311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331724085",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331724085",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331724085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTcyNDA4NQ==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-24T17:07:45Z",
    "updated_at": "2017-09-24T17:07:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\n$ grep \"prune\" ~/.bitcoin/bitcoin.conf\r\nprune=550\r\n$ ./bitcoin-cli getblockchaininfo | grep \"prune\"\r\n  \"pruned\": true,\r\n  \"pruneheight\": 0,\r\n  \"pruneauto\": true,\r\n  \"prune_target_size\": 576716800,\r\n\r\n$ grep \"prune\" ~/.bitcoin/bitcoin.conf\r\nprune=1\r\n$ ./bitcoin-cli getblockchaininfo | grep \"prune\"\r\n  \"pruned\": true,\r\n  \"pruneheight\": 0,\r\n  \"pruneauto\": false,\r\n\r\n$ grep \"prune\" ~/.bitcoin/bitcoin.conf\r\nprune=0\r\n$ ./bitcoin-cli getblockchaininfo | grep \"prune\"\r\n  \"pruned\": false,\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331724085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331738418",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-331738418",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 331738418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTczODQxOA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-24T20:35:06Z",
    "updated_at": "2017-09-24T20:35:06Z",
    "author_association": "MEMBER",
    "body": "Please rebase with #11370.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/331738418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332028248",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-332028248",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 332028248,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjAyODI0OA==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-25T22:08:50Z",
    "updated_at": "2017-09-25T22:14:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased on master and added tests for the relevant fields in test/functional/blockchain.py.\r\n\r\nMy box:\r\n```\r\n...\r\nblockchain.py                  | \u2713 Passed  | 13 s\r\n...\r\nALL                            | \u2713 Passed  | 695 s (accumulated) \r\nRuntime: 180 s\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332028248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332223575",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-332223575",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 332223575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjIyMzU3NQ==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-26T14:49:25Z",
    "updated_at": "2017-09-26T14:49:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Changes made and rebased on master (second push, first was a mistake).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332223575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332238465",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-332238465",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 332238465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMjIzODQ2NQ==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-26T15:35:17Z",
    "updated_at": "2017-09-26T15:35:17Z",
    "author_association": "MEMBER",
    "body": "Tested ACK 2b73ece6e34961a6745114b6932945692ed987e7",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/332238465/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333123961",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333123961",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333123961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzEyMzk2MQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T13:19:10Z",
    "updated_at": "2017-09-29T13:19:10Z",
    "author_association": "MEMBER",
    "body": "Needs rebase\u2122",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333123961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333208643",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333208643",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333208643,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzIwODY0Mw==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-29T18:51:41Z",
    "updated_at": "2017-09-29T18:51:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "\u00aeebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333208643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333295513",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333295513",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333295513,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI5NTUxMw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-30T09:08:48Z",
    "updated_at": "2017-09-30T09:08:48Z",
    "author_association": "MEMBER",
    "body": "utA\u00a9K b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333295513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333657132",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333657132",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333657132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzY1NzEzMg==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-02T20:35:52Z",
    "updated_at": "2017-10-02T20:35:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "re-utACK b7dfc6c4b89b62f9bb79ea009ee103a6299ac005. In the future, can you avoid rebasing when squashing unless you need to? Avoiding rebasing onto latest master makes it easier for reviewers to identify what changed between reviews.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333657132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333680420",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333680420",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333680420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzY4MDQyMA==",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?u=2c4cbde362272b2679f7047c19673451d73a176f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-02T22:13:59Z",
    "updated_at": "2017-10-02T22:13:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I can do that in the future. I hadn't considered that.\r\nDo you prefer for each change to be made in an individual commit (with a squash before the PR is implemented)?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333680420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333747421",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#issuecomment-333747421",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11367",
    "id": 333747421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzc0NzQyMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-03T05:58:42Z",
    "updated_at": "2017-10-03T05:58:42Z",
    "author_association": "MEMBER",
    "body": "It is fine to just amend the existing commits with fix-ups, as reviewers\nhave the original commits fetched locally. So it is easy to compare the two\nversions.\n\nHowever, with a rebase on master in between, the reviewer needs to\npainfully repeat the same rebase in some way.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/333747421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139772263",
    "pull_request_review_id": 63751850,
    "id": 139772263,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTc3MjI2Mw==",
    "diff_hunk": "@@ -1137,6 +1137,8 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"disk_size\\\": xxxxxx,    (numeric) the estimated size of the block and undo files on disk\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "a2d851fff5e71a08e596b4713ddbad7176acfdbb",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: perhaps `disk_usage` or `size_on_disk`?\r\n\r\nAlso consider placing this above `pruned` so all of the pruning-related fields are grouped.",
    "created_at": "2017-09-19T18:08:23Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139772263",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139772263"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139772263"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139772263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835587",
    "pull_request_review_id": 63823568,
    "id": 139835587,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTgzNTU4Nw==",
    "diff_hunk": "@@ -1137,6 +1137,8 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"disk_size\\\": xxxxxx,    (numeric) the estimated size of the block and undo files on disk\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "a2d851fff5e71a08e596b4713ddbad7176acfdbb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also align description.",
    "created_at": "2017-09-19T22:35:32Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139835587",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835587"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139835587"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT",
    "in_reply_to_id": 139772263
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835927",
    "pull_request_review_id": 63823568,
    "id": 139835927,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTgzNTkyNw==",
    "diff_hunk": "@@ -1137,6 +1137,8 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"disk_size\\\": xxxxxx,    (numeric) the estimated size of the block and undo files on disk\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "a2d851fff5e71a08e596b4713ddbad7176acfdbb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO we should test the response result. In this case, at least, check that the key exists and value is a number. cc @jnewbery ",
    "created_at": "2017-09-19T22:37:30Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139835927",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835927"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139835927"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139835927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT",
    "in_reply_to_id": 139772263
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837089",
    "pull_request_review_id": 63825238,
    "id": 139837089,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTgzNzA4OQ==",
    "diff_hunk": "@@ -1137,6 +1137,8 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"disk_size\\\": xxxxxx,    (numeric) the estimated size of the block and undo files on disk\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "a2d851fff5e71a08e596b4713ddbad7176acfdbb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ah, @jnewbery already recommended a test! \ud83d\udc4d ",
    "created_at": "2017-09-19T22:44:48Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139837089",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837089"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139837089"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT",
    "in_reply_to_id": 139772263
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837161",
    "pull_request_review_id": 63825318,
    "id": 139837161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzOTgzNzE2MQ==",
    "diff_hunk": "@@ -1180,6 +1182,7 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    obj.push_back(Pair(\"disk_size\",             CalculateCurrentUsage()));",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "a2d851fff5e71a08e596b4713ddbad7176acfdbb",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Missing lock of `cs_LastBlockFile`.",
    "created_at": "2017-09-19T22:45:13Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139837161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r139837161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/139837161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1185,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140073685",
    "pull_request_review_id": 64094597,
    "id": 140073685,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDA3MzY4NQ==",
    "diff_hunk": "@@ -1135,8 +1135,10 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"mediantime\\\": xxxxxx,     (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"size_on_disk\\\": xxxxxx,   (numeric) the estimated size of the block and undo files on disk\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "ae3cbb994cc29ef1c921da6aa8a0732073280099",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The help text for `pruneheight` should also include \"(only present if pruning is enabled)\"",
    "created_at": "2017-09-20T19:48:16Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140073685",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140073685"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140073685"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140073685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140121000",
    "pull_request_review_id": 64148405,
    "id": 140121000,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDEyMTAwMA==",
    "diff_hunk": "@@ -1135,8 +1135,10 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"mediantime\\\": xxxxxx,     (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"size_on_disk\\\": xxxxxx,   (numeric) the estimated size of the block and undo files on disk\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n             \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "ae3cbb994cc29ef1c921da6aa8a0732073280099",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "4a61af9",
    "created_at": "2017-09-20T23:53:24Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140121000",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140121000"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140121000"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140121000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1140,
    "side": "RIGHT",
    "in_reply_to_id": 140073685
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140122508",
    "pull_request_review_id": 64150104,
    "id": 140122508,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDEyMjUwOA==",
    "diff_hunk": "@@ -156,6 +156,7 @@ struct BlockHasher\n \n extern CScript COINBASE_FLAGS;\n extern CCriticalSection cs_main;\n+extern CCriticalSection cs_LastBlockFile;",
    "path": "src/validation.h",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd rather not expose more variables that are private to validation to the outside world.\r\n\r\nPerhaps you can instead create a wrapper around `CalculateCurrentUsage`, which just grabs `cs_LastBlockFile` and calls the internal one, and expose that? That way the RPC code wouldn't need to know about the existence of that lock eve.",
    "created_at": "2017-09-21T00:05:33Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140122508",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140122508"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140122508"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140122508/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 159,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186259",
    "pull_request_review_id": 64220215,
    "id": 140186259,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDE4NjI1OQ==",
    "diff_hunk": "@@ -156,6 +156,7 @@ struct BlockHasher\n \n extern CScript COINBASE_FLAGS;\n extern CCriticalSection cs_main;\n+extern CCriticalSection cs_LastBlockFile;",
    "path": "src/validation.h",
    "position": null,
    "original_position": 4,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not just lock `cs_LastBlockFile` in `CalculateCurrentUsage`? It's a recursive mutex and IMO should be locked where it's needed (BTW the same for remaining locks...).",
    "created_at": "2017-09-21T09:03:42Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140186259",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186259"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140186259"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186259/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 159,
    "side": "RIGHT",
    "in_reply_to_id": 140122508
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186375",
    "pull_request_review_id": 64220215,
    "id": 140186375,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDE4NjM3NQ==",
    "diff_hunk": "@@ -1179,7 +1181,18 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"mediantime\",            (int64_t)chainActive.Tip()->GetMedianTimePast()));\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n+    obj.push_back(Pair(\"size_on_disk\",          CalculateCurrentUsage()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    if (fPruneMode) {\n+        CBlockIndex *block = chainActive.Tip();",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`CBlockIndex* block = ...`;",
    "created_at": "2017-09-21T09:04:16Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140186375",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186375"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140186375"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140186375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1187,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414272",
    "pull_request_review_id": 64484805,
    "id": 140414272,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDQxNDI3Mg==",
    "diff_hunk": "@@ -1168,7 +1170,7 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             + HelpExampleRpc(\"getblockchaininfo\", \"\")\n         );\n \n-    LOCK(cs_main);\n+    LOCK2(cs_main, cs_LastBlockFile); // cs_LastBlockFile for CalculateCurrentUsage()",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As @sipa already commented, `CalculateCurrentUsage()` should be responsible for concurrency locking (not the calling code part).",
    "created_at": "2017-09-22T05:24:59Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140414272",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414272"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140414272"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1173,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414350",
    "pull_request_review_id": 64484900,
    "id": 140414350,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDQxNDM1MA==",
    "diff_hunk": "@@ -1135,8 +1135,10 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"mediantime\\\": xxxxxx,     (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"size_on_disk\\\": xxxxxx,   (numeric) the estimated size of the block and undo files on disk\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n+            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if pruning is enabled)\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indentation seems wrong (others need to space-up).",
    "created_at": "2017-09-22T05:25:51Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140414350",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414350"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140414350"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140414350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1141,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140564032",
    "pull_request_review_id": 64661115,
    "id": 140564032,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MDU2NDAzMg==",
    "diff_hunk": "@@ -1135,8 +1135,10 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n             \"  \\\"mediantime\\\": xxxxxx,     (numeric) median time for the current best block\\n\"\n             \"  \\\"verificationprogress\\\": xxxx, (numeric) estimate of verification progress [0..1]\\n\"\n             \"  \\\"chainwork\\\": \\\"xxxx\\\"     (string) total amount of work in active chain, in hexadecimal\\n\"\n+            \"  \\\"size_on_disk\\\": xxxxxx,   (numeric) the estimated size of the block and undo files on disk\\n\"\n             \"  \\\"pruned\\\": xx,             (boolean) if the blocks are subject to pruning\\n\"\n-            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored\\n\"\n+            \"  \\\"pruneheight\\\": xxxxxx,    (numeric) lowest-height complete block stored (only present if pruning is enabled)\\n\"\n+            \"  \\\"prune_target_size\\\": xxxxxx,  (numeric) the target size used by pruning (only present if pruning is enabled)\\n\"",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "4a61af9666e214b95151e20fd87388e87ea881d8",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I followed the example of 'verificationprogress'; can indent the others further if you think that makes sense.",
    "created_at": "2017-09-22T18:24:18Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140564032",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140564032"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r140564032"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/140564032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1141,
    "side": "RIGHT",
    "in_reply_to_id": 140414350
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141060923",
    "pull_request_review_id": 65220081,
    "id": 141060923,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2MDkyMw==",
    "diff_hunk": "@@ -1179,7 +1182,23 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"mediantime\",            (int64_t)chainActive.Tip()->GetMedianTimePast()));\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n+    obj.push_back(Pair(\"size_on_disk\",          CalculateCurrentUsage()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    if (fPruneMode) {\n+        CBlockIndex* block = chainActive.Tip();\n+        assert(block);\n+        while (block->pprev && (block->pprev->nStatus & BLOCK_HAVE_DATA)) {\n+            block = block->pprev;\n+        }\n+\n+        obj.push_back(Pair(\"pruneheight\",        block->nHeight));\n+\n+        bool fPruneAuto = (gArgs.GetArg(\"-prune\", 0) > 1);",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "current code style is snake_case for variables (https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#developer-notes). `prune_auto` or `auto_prune` should be fine.",
    "created_at": "2017-09-26T13:48:12Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141060923",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141060923"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141060923"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141060923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1196,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061064",
    "pull_request_review_id": 65220250,
    "id": 141061064,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2MTA2NA==",
    "diff_hunk": "@@ -1179,7 +1182,23 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"mediantime\",            (int64_t)chainActive.Tip()->GetMedianTimePast()));\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n+    obj.push_back(Pair(\"size_on_disk\",          CalculateCurrentUsage()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    if (fPruneMode) {\n+        CBlockIndex* block = chainActive.Tip();\n+        assert(block);\n+        while (block->pprev && (block->pprev->nStatus & BLOCK_HAVE_DATA)) {\n+            block = block->pprev;\n+        }\n+\n+        obj.push_back(Pair(\"pruneheight\",        block->nHeight));\n+\n+        bool fPruneAuto = (gArgs.GetArg(\"-prune\", 0) > 1);\n+        obj.push_back(Pair(\"pruneauto\",          fPruneAuto));",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please also use snake_case for RPC fields. I think `automatic_pruning` is appropriate here.",
    "created_at": "2017-09-26T13:48:42Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141061064",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061064"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141061064"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061064/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1197,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061511",
    "pull_request_review_id": 65220783,
    "id": 141061511,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2MTUxMQ==",
    "diff_hunk": "@@ -58,20 +58,42 @@ def _test_getblockchaininfo(self):\n             'headers',\n             'mediantime',\n             'pruned',\n+            'size_on_disk',\n             'softforks',\n             'verificationprogress',\n         ]\n         res = self.nodes[0].getblockchaininfo()\n-        # result should have pruneheight and default keys if pruning is enabled\n-        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+\n+        # result should have these additional pruning keys if manual pruning is enabled\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight', 'pruneauto'] + keys))\n+\n+        # size_on_disk should be >= 0\n+        assert res['size_on_disk'] >= 0\n+\n         # pruneheight should be greater or equal to 0\n         assert res['pruneheight'] >= 0\n \n+        # check other pruning fields given that prune=1\n+        assert_equal(res['pruned'], True)",
    "path": "test/functional/blockchain.py",
    "position": null,
    "original_position": 22,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No need for `assert_equal` when comparing a value to `True` or `False`. The following is fine:\r\n\r\n```python\r\nassert res['pruned']\r\nassert not res['pruneauto']\r\n```",
    "created_at": "2017-09-26T13:50:07Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141061511",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061511"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141061511"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141061511/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 79,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062035",
    "pull_request_review_id": 65220783,
    "id": 141062035,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2MjAzNQ==",
    "diff_hunk": "@@ -58,20 +58,42 @@ def _test_getblockchaininfo(self):\n             'headers',\n             'mediantime',\n             'pruned',\n+            'size_on_disk',\n             'softforks',\n             'verificationprogress',\n         ]\n         res = self.nodes[0].getblockchaininfo()\n-        # result should have pruneheight and default keys if pruning is enabled\n-        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+\n+        # result should have these additional pruning keys if manual pruning is enabled\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight', 'pruneauto'] + keys))\n+\n+        # size_on_disk should be >= 0\n+        assert res['size_on_disk'] >= 0\n+\n         # pruneheight should be greater or equal to 0\n         assert res['pruneheight'] >= 0\n \n+        # check other pruning fields given that prune=1\n+        assert_equal(res['pruned'], True)\n+        assert_equal(res['pruneauto'], False)\n+\n         self.restart_node(0, ['-stopatheight=207'])\n         res = self.nodes[0].getblockchaininfo()\n         # should have exact keys\n         assert_equal(sorted(res.keys()), keys)\n \n+        self.restart_node(0, ['-stopatheight=207', '-prune=550'])\n+        res = self.nodes[0].getblockchaininfo()\n+        # result should have these additional pruning keys if prune=550\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight', 'pruneauto', 'prune_target_size'] + keys))\n+\n+        # check related fields\n+        assert_equal(res['pruned'], True)\n+        assert_equal(res['pruneheight'], 0)\n+        assert_equal(res['pruneauto'], True)\n+        assert_equal(res['prune_target_size'], 576716800)\n+        assert_equal(res['size_on_disk'], 55550)",
    "path": "test/functional/blockchain.py",
    "position": null,
    "original_position": 40,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "suggest that you change this to assert that `size_on_disk` is greater than zero. This test would fail unnecessarily if a change in the implementation changed the size on disk.",
    "created_at": "2017-09-26T13:51:45Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141062035",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062035"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141062035"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062035/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 95,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062427",
    "pull_request_review_id": 65220783,
    "id": 141062427,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2MjQyNw==",
    "diff_hunk": "@@ -58,20 +58,42 @@ def _test_getblockchaininfo(self):\n             'headers',\n             'mediantime',\n             'pruned',\n+            'size_on_disk',\n             'softforks',\n             'verificationprogress',\n         ]\n         res = self.nodes[0].getblockchaininfo()\n-        # result should have pruneheight and default keys if pruning is enabled\n-        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+\n+        # result should have these additional pruning keys if manual pruning is enabled\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight', 'pruneauto'] + keys))\n+\n+        # size_on_disk should be >= 0\n+        assert res['size_on_disk'] >= 0",
    "path": "test/functional/blockchain.py",
    "position": null,
    "original_position": 16,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`assert_greater_than_or_equal()` is better here (since it will print out the value of `res['size_on_disk']` if the assert fails)",
    "created_at": "2017-09-26T13:52:57Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141062427",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062427"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141062427"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141062427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 71,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141065718",
    "pull_request_review_id": 65220783,
    "id": 141065718,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA2NTcxOA==",
    "diff_hunk": "@@ -1179,7 +1182,23 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"mediantime\",            (int64_t)chainActive.Tip()->GetMedianTimePast()));\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n+    obj.push_back(Pair(\"size_on_disk\",          CalculateCurrentUsage()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    if (fPruneMode) {\n+        CBlockIndex* block = chainActive.Tip();\n+        assert(block);\n+        while (block->pprev && (block->pprev->nStatus & BLOCK_HAVE_DATA)) {\n+            block = block->pprev;\n+        }\n+\n+        obj.push_back(Pair(\"pruneheight\",        block->nHeight));\n+\n+        bool fPruneAuto = (gArgs.GetArg(\"-prune\", 0) > 1);",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Since `1` is a magic number meaning manual pruning, I think it's clearer to use equality like in init.cpp, rather than greater-than:\r\n\r\n```\r\n        bool fPruneAuto = (gArgs.GetArg(\"-prune\", 0) != 1);\r\n```\r\n\r\n\r\n",
    "created_at": "2017-09-26T14:03:12Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141065718",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141065718"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141065718"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141065718/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1196,
    "side": "RIGHT",
    "in_reply_to_id": 141060923
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141076365",
    "pull_request_review_id": 65238426,
    "id": 141076365,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA3NjM2NQ==",
    "diff_hunk": "@@ -1179,7 +1182,23 @@ UniValue getblockchaininfo(const JSONRPCRequest& request)\n     obj.push_back(Pair(\"mediantime\",            (int64_t)chainActive.Tip()->GetMedianTimePast()));\n     obj.push_back(Pair(\"verificationprogress\",  GuessVerificationProgress(Params().TxData(), chainActive.Tip())));\n     obj.push_back(Pair(\"chainwork\",             chainActive.Tip()->nChainWork.GetHex()));\n+    obj.push_back(Pair(\"size_on_disk\",          CalculateCurrentUsage()));\n     obj.push_back(Pair(\"pruned\",                fPruneMode));\n+    if (fPruneMode) {\n+        CBlockIndex* block = chainActive.Tip();\n+        assert(block);\n+        while (block->pprev && (block->pprev->nStatus & BLOCK_HAVE_DATA)) {\n+            block = block->pprev;\n+        }\n+\n+        obj.push_back(Pair(\"pruneheight\",        block->nHeight));\n+\n+        bool fPruneAuto = (gArgs.GetArg(\"-prune\", 0) > 1);",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was torn there, because that actually gives True in the case prune=0, but that case can never happen because execution would skip over the `if (fPruneMode)` block. I'll change it.",
    "created_at": "2017-09-26T14:36:54Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141076365",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141076365"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141076365"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141076365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1196,
    "side": "RIGHT",
    "in_reply_to_id": 141060923
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141079289",
    "pull_request_review_id": 65241790,
    "id": 141079289,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTA3OTI4OQ==",
    "diff_hunk": "@@ -58,20 +58,42 @@ def _test_getblockchaininfo(self):\n             'headers',\n             'mediantime',\n             'pruned',\n+            'size_on_disk',\n             'softforks',\n             'verificationprogress',\n         ]\n         res = self.nodes[0].getblockchaininfo()\n-        # result should have pruneheight and default keys if pruning is enabled\n-        assert_equal(sorted(res.keys()), sorted(['pruneheight'] + keys))\n+\n+        # result should have these additional pruning keys if manual pruning is enabled\n+        assert_equal(sorted(res.keys()), sorted(['pruneheight', 'pruneauto'] + keys))\n+\n+        # size_on_disk should be >= 0\n+        assert res['size_on_disk'] >= 0",
    "path": "test/functional/blockchain.py",
    "position": null,
    "original_position": 16,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "bbca675c7a1ffa0d843fd55b6431c94161af4004",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "As below I've dropped the 'equal to' because I don't see why it should ever be 0 unless there's some caching going on.",
    "created_at": "2017-09-26T14:46:09Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141079289",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141079289"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141079289"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141079289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 71,
    "side": "RIGHT",
    "in_reply_to_id": 141062427
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141445930",
    "pull_request_review_id": 65661297,
    "id": 141445930,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTQ0NTkzMA==",
    "diff_hunk": "@@ -3230,8 +3230,10 @@ bool TestBlockValidity(CValidationState& state, const CChainParams& chainparams,\n  */\n \n /* Calculate the amount of disk space the block & undo files currently use */\n-static uint64_t CalculateCurrentUsage()\n+uint64_t CalculateCurrentUsage()\n {\n+    LOCK(cs_LastBlockFile);",
    "path": "src/validation.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "2b73ece6e34961a6745114b6932945692ed987e7",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "While you're at it can you add this lock to PruneOneBlockFile and GetBlockFileInfo (both of which are only called without lock during testing, so its not an actual issue, just annoying).",
    "created_at": "2017-09-27T19:35:33Z",
    "updated_at": "2017-09-29T18:50:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141445930",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141445930"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141445930"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141445930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3238,
    "original_line": 3238,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141941161",
    "pull_request_review_id": 66239902,
    "id": 141941161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0MTk0MTE2MQ==",
    "diff_hunk": "@@ -3230,8 +3230,10 @@ bool TestBlockValidity(CValidationState& state, const CChainParams& chainparams,\n  */\n \n /* Calculate the amount of disk space the block & undo files currently use */\n-static uint64_t CalculateCurrentUsage()\n+uint64_t CalculateCurrentUsage()\n {\n+    LOCK(cs_LastBlockFile);",
    "path": "src/validation.cpp",
    "position": 7,
    "original_position": 7,
    "commit_id": "b7dfc6c4b89b62f9bb79ea009ee103a6299ac005",
    "original_commit_id": "2b73ece6e34961a6745114b6932945692ed987e7",
    "user": {
      "login": "esotericnonsense",
      "id": 7999704,
      "node_id": "MDQ6VXNlcjc5OTk3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7999704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/esotericnonsense",
      "html_url": "https://github.com/esotericnonsense",
      "followers_url": "https://api.github.com/users/esotericnonsense/followers",
      "following_url": "https://api.github.com/users/esotericnonsense/following{/other_user}",
      "gists_url": "https://api.github.com/users/esotericnonsense/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/esotericnonsense/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/esotericnonsense/subscriptions",
      "organizations_url": "https://api.github.com/users/esotericnonsense/orgs",
      "repos_url": "https://api.github.com/users/esotericnonsense/repos",
      "events_url": "https://api.github.com/users/esotericnonsense/events{/privacy}",
      "received_events_url": "https://api.github.com/users/esotericnonsense/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done in b7dfc6c4b89b62f9bb79ea009ee103a6299ac005.",
    "created_at": "2017-09-29T18:51:26Z",
    "updated_at": "2017-09-29T18:51:26Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141941161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141941161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11367#discussion_r141941161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11367"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/141941161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3238,
    "original_line": 3238,
    "side": "RIGHT",
    "in_reply_to_id": 141445930
  }
]