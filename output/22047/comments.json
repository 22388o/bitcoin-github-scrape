[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847365954",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-847365954",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 847365954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzM2NTk1NA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-24T21:58:34Z",
    "updated_at": "2021-07-28T13:30:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22567 by MarcoFalke\n* #20362 by MarcoFalke\n* #19792 by fjahr\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/847365954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853288913",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-853288913",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 853288913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MzI4ODkxMw==",
    "user": {
      "login": "Talkless",
      "id": 292191,
      "node_id": "MDQ6VXNlcjI5MjE5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/292191?u=d9debc4e87d0036b59d7d56a02f7f0728a8a76e2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Talkless",
      "html_url": "https://github.com/Talkless",
      "followers_url": "https://api.github.com/users/Talkless/followers",
      "following_url": "https://api.github.com/users/Talkless/following{/other_user}",
      "gists_url": "https://api.github.com/users/Talkless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Talkless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Talkless/subscriptions",
      "organizations_url": "https://api.github.com/users/Talkless/orgs",
      "repos_url": "https://api.github.com/users/Talkless/repos",
      "events_url": "https://api.github.com/users/Talkless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Talkless/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-02T18:36:52Z",
    "updated_at": "2021-06-02T18:36:52Z",
    "author_association": "NONE",
    "body": "tACK f3cf0298180680900eabf1cd2827bd854d4cfeda. Built on Debian Sid, ran `-regtest` with `-coinstatsindex`, mined some blocks and checked `gettxoutsetinfo` output and executed `feature_coinstatsindex` functional test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/853288913/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/870440956",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-870440956",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 870440956,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MDQ0MDk1Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-29T09:37:54Z",
    "updated_at": "2021-06-29T09:37:54Z",
    "author_association": "MEMBER",
    "body": "ACK d6dbb17",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/870440956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882058230",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-882058230",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 882058230,
    "node_id": "IC_kwDOABII5840kyP2",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-18T13:40:50Z",
    "updated_at": "2021-07-18T13:40:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke could you check if you are happy with this? :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882058230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886254855",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-886254855",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 886254855,
    "node_id": "IC_kwDOABII58400y0H",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-25T20:39:04Z",
    "updated_at": "2021-07-25T20:39:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Addressed @jonatack 's comments and fixed a typo.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886254855/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887436266",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-887436266",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 887436266,
    "node_id": "IC_kwDOABII58405TPq",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-27T11:32:21Z",
    "updated_at": "2021-07-27T11:32:21Z",
    "author_association": "MEMBER",
    "body": "re-utACK 779e638ca9b2b37c247577d225b93ac762b0602f",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887436266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887659538",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-887659538",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 887659538,
    "node_id": "IC_kwDOABII58406JwS",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-27T16:32:43Z",
    "updated_at": "2021-07-28T10:47:50Z",
    "author_association": "MEMBER",
    "body": "re-ACK 779e638ca9b2b37c247577d225b93ac762b0602f diff since last review involves doc changes only; rebased to current master and verified clean debug build/no silent conflicts, unit tests, and feature_coinstatsindex functional test",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/887659538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888261667",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#issuecomment-888261667",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22047",
    "id": 888261667,
    "node_id": "IC_kwDOABII58408cwj",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T12:16:47Z",
    "updated_at": "2021-07-28T12:16:47Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 779e638ca9b2b37c247577d225b93ac762b0602f",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/888261667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638192002",
    "pull_request_review_id": 667074247,
    "id": 638192002,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODE5MjAwMg==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total value of all prevouts spent in this block\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "482e546254a15b83390c0396498a59f0d5c9e816",
    "user": {
      "login": "Talkless",
      "id": 292191,
      "node_id": "MDQ6VXNlcjI5MjE5MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/292191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Talkless",
      "html_url": "https://github.com/Talkless",
      "followers_url": "https://api.github.com/users/Talkless/followers",
      "following_url": "https://api.github.com/users/Talkless/following{/other_user}",
      "gists_url": "https://api.github.com/users/Talkless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Talkless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Talkless/subscriptions",
      "organizations_url": "https://api.github.com/users/Talkless/orgs",
      "repos_url": "https://api.github.com/users/Talkless/repos",
      "events_url": "https://api.github.com/users/Talkless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Talkless/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure if \"value\" is the best wording choice here. I see \"amount\" used much more in the codebase, and even variables/enums used here in PR uses \"amount\", not \"value\".",
    "created_at": "2021-05-24T18:43:21Z",
    "updated_at": "2021-05-24T18:43:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638192002",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638192002"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638192002"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638192002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1120,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638256089",
    "pull_request_review_id": 667149222,
    "id": 638256089,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODI1NjA4OQ==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total value of all prevouts spent in this block\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "482e546254a15b83390c0396498a59f0d5c9e816",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, I see what you mean and I was on the fence there. I felt like amount could be easier mistaken to mean 'count' in this context but I am not a native speaker so maybe that feeling is just off. I have changed it to 'amount' since, as you say, consistency is better, all other things being equal.",
    "created_at": "2021-05-24T20:37:31Z",
    "updated_at": "2021-05-24T20:37:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638256089",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638256089"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638256089"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638256089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1120,
    "side": "RIGHT",
    "in_reply_to_id": 638192002
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638572495",
    "pull_request_review_id": 667540986,
    "id": 638572495,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODU3MjQ5NQ==",
    "diff_hunk": "@@ -24,10 +24,10 @@ struct DBVal {\n     uint64_t bogo_size;\n     CAmount total_amount;\n     CAmount total_subsidy;\n-    CAmount block_unspendable_amount;\n-    CAmount block_prevout_spent_amount;\n-    CAmount block_new_outputs_ex_coinbase_amount;\n-    CAmount block_coinbase_amount;\n+    CAmount total_unspendable_amount;\n+    CAmount total_prevout_spent_amount;\n+    CAmount total_new_outputs_ex_coinbase_amount;\n+    CAmount total_coinbase_amount;",
    "path": "src/index/coinstatsindex.cpp",
    "position": 15,
    "original_position": 11,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`unspendables` are also \"total\", but don't mention it. Might be good to remove the \"total_\" here, or add it to unspendables?",
    "created_at": "2021-05-25T08:31:26Z",
    "updated_at": "2021-05-25T08:34:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638572495",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638572495"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638572495"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638572495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573195",
    "pull_request_review_id": 667540986,
    "id": 638573195,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODU3MzE5NQ==",
    "diff_hunk": "@@ -122,9 +122,12 @@ bool CoinStatsIndex::WriteBlock(const CBlock& block, const CBlockIndex* pindex)\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"%s: WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      __func__, read_out.first.ToString(), expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n                      read_out.first.ToString(), expected_block_hash.ToString());\r\n```\r\n\r\nThis is toggled with `-logsourcelocations`, so can skip here.",
    "created_at": "2021-05-25T08:32:21Z",
    "updated_at": "2021-05-25T08:34:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638573195",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573195"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638573195"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 126,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573424",
    "pull_request_review_id": 667540986,
    "id": 638573424,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzODU3MzQyNA==",
    "diff_hunk": "@@ -391,9 +395,12 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"%s: WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      __func__, read_out.first.ToString(), expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": null,
    "original_position": 210,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same",
    "created_at": "2021-05-25T08:32:41Z",
    "updated_at": "2021-05-25T08:34:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638573424",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573424"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r638573424"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/638573424/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 399,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249688",
    "pull_request_review_id": 668425531,
    "id": 639249688,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTI0OTY4OA==",
    "diff_hunk": "@@ -391,9 +395,12 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"%s: WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      __func__, read_out.first.ToString(), expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": null,
    "original_position": 210,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-05-25T22:28:54Z",
    "updated_at": "2021-05-25T22:28:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639249688",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249688"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639249688"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 399,
    "side": "RIGHT",
    "in_reply_to_id": 638573424
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249772",
    "pull_request_review_id": 668425641,
    "id": 639249772,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTI0OTc3Mg==",
    "diff_hunk": "@@ -122,9 +122,12 @@ bool CoinStatsIndex::WriteBlock(const CBlock& block, const CBlockIndex* pindex)\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"%s: WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      __func__, read_out.first.ToString(), expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-05-25T22:29:08Z",
    "updated_at": "2021-05-25T22:29:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639249772",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249772"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639249772"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639249772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 126,
    "side": "RIGHT",
    "in_reply_to_id": 638573195
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639250485",
    "pull_request_review_id": 668426475,
    "id": 639250485,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTI1MDQ4NQ==",
    "diff_hunk": "@@ -24,10 +24,10 @@ struct DBVal {\n     uint64_t bogo_size;\n     CAmount total_amount;\n     CAmount total_subsidy;\n-    CAmount block_unspendable_amount;\n-    CAmount block_prevout_spent_amount;\n-    CAmount block_new_outputs_ex_coinbase_amount;\n-    CAmount block_coinbase_amount;\n+    CAmount total_unspendable_amount;\n+    CAmount total_prevout_spent_amount;\n+    CAmount total_new_outputs_ex_coinbase_amount;\n+    CAmount total_coinbase_amount;",
    "path": "src/index/coinstatsindex.cpp",
    "position": 15,
    "original_position": 11,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "5535567f3d243d6c9bbd4579b9f52baf5f66db02",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Dropped the `total_` everywhere except for the `m_total_amount`, it seemed right to keep it in this case since it's closed to the corresponding legacy name `nTotalAmount` that is also still in use.",
    "created_at": "2021-05-25T22:30:49Z",
    "updated_at": "2021-05-25T22:30:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639250485",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639250485"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639250485"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639250485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 30,
    "original_line": 30,
    "side": "RIGHT",
    "in_reply_to_id": 638572495
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639677968",
    "pull_request_review_id": 668955413,
    "id": 639677968,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTY3Nzk2OA==",
    "diff_hunk": "@@ -23,11 +23,11 @@ struct DBVal {\n     uint64_t transaction_output_count;\n     uint64_t bogo_size;\n     CAmount total_amount;\n-    CAmount total_subsidy;",
    "path": "src/index/coinstatsindex.cpp",
    "position": 3,
    "original_position": 4,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "b778ac8f2b12f771e5b8ddcadc35ee267e57cfb0",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "b778ac8f2b12f771e5b8ddcadc35ee267e57cfb0: I think the `total_` prefix is more clear (and consistent with `total_amount` which you wanted to keep). So maybe use the second approach @MarcoFalke suggested:\r\n\r\n> unspendables are also \"total\", but don't mention it. Might be good to remove the \"total_\" here, or add it to unspendables?\r\n\r\nMore importantly, can you add comments explaining how these values are used? Their cumulative nature is a bit counter intuitive, though it makes sense for rollbacks.",
    "created_at": "2021-05-26T12:30:02Z",
    "updated_at": "2021-05-26T12:55:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639677968",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639677968"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639677968"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639677968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639690664",
    "pull_request_review_id": 668955413,
    "id": 639690664,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzOTY5MDY2NA==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total amount of all prevouts spent in this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"Coinbase subsidy amount of this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"Total amount of new outputs created by this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"Total amount of unspendable outputs in this block\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "0f9e936e521d7090c876d0c181ca241c56e387ab",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "0f9e936e521d7090c876d0c181ca241c56e387ab: `created in this block`",
    "created_at": "2021-05-26T12:46:50Z",
    "updated_at": "2021-05-26T12:55:24Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639690664",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639690664"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r639690664"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/639690664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1123,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398355",
    "pull_request_review_id": 674775723,
    "id": 644398355,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NDM5ODM1NQ==",
    "diff_hunk": "@@ -23,11 +23,11 @@ struct DBVal {\n     uint64_t transaction_output_count;\n     uint64_t bogo_size;\n     CAmount total_amount;\n-    CAmount total_subsidy;",
    "path": "src/index/coinstatsindex.cpp",
    "position": 3,
    "original_position": 4,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "b778ac8f2b12f771e5b8ddcadc35ee267e57cfb0",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done, changed the names to all use `total_` and added comments explaining each of the new values in `coinstats.h` a bit more clearly.",
    "created_at": "2021-06-03T00:15:55Z",
    "updated_at": "2021-06-03T00:15:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r644398355",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398355"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r644398355"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "LEFT",
    "in_reply_to_id": 639677968
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398370",
    "pull_request_review_id": 674775745,
    "id": 644398370,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY0NDM5ODM3MA==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total amount of all prevouts spent in this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"Coinbase subsidy amount of this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"Total amount of new outputs created by this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"Total amount of unspendable outputs in this block\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "0f9e936e521d7090c876d0c181ca241c56e387ab",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-06-03T00:16:00Z",
    "updated_at": "2021-06-03T00:16:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r644398370",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398370"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r644398370"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/644398370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1123,
    "side": "RIGHT",
    "in_reply_to_id": 639690664
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672964867",
    "pull_request_review_id": 710375629,
    "id": 672964867,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3Mjk2NDg2Nw==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total amount of all prevouts spent in this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"Coinbase subsidy amount of this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"Total amount of new outputs created by this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"Total amount of unspendable outputs created in this block\"},\n                             {RPCResult::Type::OBJ, \"unspendables\", \"Detailed view of the unspendable categories\",\n                             {\n-                                {RPCResult::Type::STR_AMOUNT, \"genesis_block\", \"\"},\n+                                {RPCResult::Type::STR_AMOUNT, \"genesis_block\", \"The Genesis block subsidy is not spendable\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ac2a8b51\r\n```suggestion\r\n                                {RPCResult::Type::STR_AMOUNT, \"genesis_block\", \"The unspendable amount of the Genesis block subsidy\"},\r\n```",
    "created_at": "2021-07-20T09:34:08Z",
    "updated_at": "2021-07-20T10:01:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672964867",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672964867"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672964867"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672964867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1126,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672969835",
    "pull_request_review_id": 710375629,
    "id": 672969835,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3Mjk2OTgzNQ==",
    "diff_hunk": "@@ -45,15 +45,25 @@ struct CCoinsStats\n     bool index_used{false};\n \n     // Following values are only available from coinstats index\n+\n+    //! Total cumulative amount of block subsidies up until and including this block\n     CAmount total_subsidy{0};\n-    CAmount block_unspendable_amount{0};\n-    CAmount block_prevout_spent_amount{0};\n-    CAmount block_new_outputs_ex_coinbase_amount{0};\n-    CAmount block_coinbase_amount{0};\n-    CAmount unspendables_genesis_block{0};\n-    CAmount unspendables_bip30{0};\n-    CAmount unspendables_scripts{0};\n-    CAmount unspendables_unclaimed_rewards{0};\n+    //! Total cumulative amount of unspendable coins up until and including this block\n+    CAmount total_unspendable_amount{0};\n+    //! Total cumulative amount of prevouts spent up until and including this block\n+    CAmount total_prevout_spent_amount{0};\n+    //! Total cumulative amount of outputs created up until and including this block\n+    CAmount total_new_outputs_ex_coinbase_amount{0};\n+    //! Total cumulative amount of coinbase outputs up until and including this block\n+    CAmount total_coinbase_amount{0};\n+    //! The unspendable coinbase amount from the genesis block\n+    CAmount total_unspendables_genesis_block{0};\n+    //! The two unspendable coinbase outputs total amount caused by BIP30\n+    CAmount total_unspendables_bip30{0};\n+    //! Total cumulative amount of outputs sent to unspendable scripts (OP_RETURN for example) up until and including this block\n+    CAmount total_unspendables_scripts{0};\n+    //! Total cumulative amount coins lost due to unclaimed miner rewards up until and including this block",
    "path": "src/node/coinstats.h",
    "position": null,
    "original_position": 29,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "d6dbb17 nit, `s/up until/up to/` for each of these",
    "created_at": "2021-07-20T09:41:16Z",
    "updated_at": "2021-07-20T10:01:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672969835",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672969835"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672969835"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672969835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 65,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672972487",
    "pull_request_review_id": 710375629,
    "id": 672972487,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3Mjk3MjQ4Nw==",
    "diff_hunk": "@@ -391,9 +395,12 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      read_out.first.ToString(), expected_block_hash.ToString());\n+\n             if (!m_db->Read(DBHashKey(expected_block_hash), read_out)) {\n-                return error(\"%s: previous block header belongs to unexpected block %s; expected %s\",\n-                             __func__, read_out.first.ToString(), expected_block_hash.ToString());\n+                return error(\"%s: previous block header not found; expected %s\",\n+                             __func__, expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": 251,
    "original_position": 251,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "18aa58b4 I did not test this change; it may be good to add a test here and for the same logging change above lines 125-130",
    "created_at": "2021-07-20T09:44:54Z",
    "updated_at": "2021-07-20T10:02:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672972487",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672972487"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r672972487"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672972487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 403,
    "original_line": 403,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199166",
    "pull_request_review_id": 714349071,
    "id": 676199166,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NjE5OTE2Ng==",
    "diff_hunk": "@@ -391,9 +395,12 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n \n         uint256 expected_block_hash{pindex->pprev->GetBlockHash()};\n         if (read_out.first != expected_block_hash) {\n+            LogPrintf(\"WARNING: previous block header belongs to unexpected block %s; expected %s\\n\",\n+                      read_out.first.ToString(), expected_block_hash.ToString());\n+\n             if (!m_db->Read(DBHashKey(expected_block_hash), read_out)) {\n-                return error(\"%s: previous block header belongs to unexpected block %s; expected %s\",\n-                             __func__, read_out.first.ToString(), expected_block_hash.ToString());\n+                return error(\"%s: previous block header not found; expected %s\",\n+                             __func__, expected_block_hash.ToString());",
    "path": "src/index/coinstatsindex.cpp",
    "position": 251,
    "original_position": 251,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we can really only hit this in cases of data corruption (or a bug somewhere else in the code). So that makes it really hard to test. I have made a note to look into it some more and think about how to add coverage without too much effort.",
    "created_at": "2021-07-25T20:37:13Z",
    "updated_at": "2021-07-25T20:37:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199166",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199166"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199166"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 403,
    "original_line": 403,
    "side": "RIGHT",
    "in_reply_to_id": 672972487
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199298",
    "pull_request_review_id": 714349155,
    "id": 676199298,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NjE5OTI5OA==",
    "diff_hunk": "@@ -45,15 +45,25 @@ struct CCoinsStats\n     bool index_used{false};\n \n     // Following values are only available from coinstats index\n+\n+    //! Total cumulative amount of block subsidies up until and including this block\n     CAmount total_subsidy{0};\n-    CAmount block_unspendable_amount{0};\n-    CAmount block_prevout_spent_amount{0};\n-    CAmount block_new_outputs_ex_coinbase_amount{0};\n-    CAmount block_coinbase_amount{0};\n-    CAmount unspendables_genesis_block{0};\n-    CAmount unspendables_bip30{0};\n-    CAmount unspendables_scripts{0};\n-    CAmount unspendables_unclaimed_rewards{0};\n+    //! Total cumulative amount of unspendable coins up until and including this block\n+    CAmount total_unspendable_amount{0};\n+    //! Total cumulative amount of prevouts spent up until and including this block\n+    CAmount total_prevout_spent_amount{0};\n+    //! Total cumulative amount of outputs created up until and including this block\n+    CAmount total_new_outputs_ex_coinbase_amount{0};\n+    //! Total cumulative amount of coinbase outputs up until and including this block\n+    CAmount total_coinbase_amount{0};\n+    //! The unspendable coinbase amount from the genesis block\n+    CAmount total_unspendables_genesis_block{0};\n+    //! The two unspendable coinbase outputs total amount caused by BIP30\n+    CAmount total_unspendables_bip30{0};\n+    //! Total cumulative amount of outputs sent to unspendable scripts (OP_RETURN for example) up until and including this block\n+    CAmount total_unspendables_scripts{0};\n+    //! Total cumulative amount coins lost due to unclaimed miner rewards up until and including this block",
    "path": "src/node/coinstats.h",
    "position": null,
    "original_position": 29,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-07-25T20:38:21Z",
    "updated_at": "2021-07-25T20:38:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199298",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199298"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199298"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 65,
    "side": "RIGHT",
    "in_reply_to_id": 672969835
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199311",
    "pull_request_review_id": 714349169,
    "id": 676199311,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3NjE5OTMxMQ==",
    "diff_hunk": "@@ -1117,13 +1117,13 @@ static RPCHelpMan gettxoutsetinfo()\n                         {RPCResult::Type::STR_AMOUNT, \"total_unspendable_amount\", \"The total amount of coins permanently excluded from the UTXO set (only available if coinstatsindex is used)\"},\n                         {RPCResult::Type::OBJ, \"block_info\", \"Info on amounts in the block at this block height (only available if coinstatsindex is used)\",\n                         {\n-                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"\"},\n-                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"prevout_spent\", \"Total amount of all prevouts spent in this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"coinbase\", \"Coinbase subsidy amount of this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"new_outputs_ex_coinbase\", \"Total amount of new outputs created by this block\"},\n+                            {RPCResult::Type::STR_AMOUNT, \"unspendable\", \"Total amount of unspendable outputs created in this block\"},\n                             {RPCResult::Type::OBJ, \"unspendables\", \"Detailed view of the unspendable categories\",\n                             {\n-                                {RPCResult::Type::STR_AMOUNT, \"genesis_block\", \"\"},\n+                                {RPCResult::Type::STR_AMOUNT, \"genesis_block\", \"The Genesis block subsidy is not spendable\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 15,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "d6dbb17b1608502850e9e5c6ec29569cfcb23237",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-07-25T20:38:27Z",
    "updated_at": "2021-07-25T20:38:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199311",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199311"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r676199311"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/676199311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1126,
    "side": "RIGHT",
    "in_reply_to_id": 672964867
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678244456",
    "pull_request_review_id": 716924786,
    "id": 678244456,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3ODI0NDQ1Ng==",
    "diff_hunk": "@@ -402,24 +409,24 @@ bool CoinStatsIndex::ReverseBlock(const CBlock& block, const CBlockIndex* pindex\n     for (size_t i = 0; i < block.vtx.size(); ++i) {\n         const auto& tx{block.vtx.at(i)};\n \n-        for (size_t j = 0; j < tx->vout.size(); ++j) {\n+        for (uint32_t j = 0; j < tx->vout.size(); ++j) {",
    "path": "src/index/coinstatsindex.cpp",
    "position": 260,
    "original_position": 260,
    "commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "original_commit_id": "779e638ca9b2b37c247577d225b93ac762b0602f",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Doesn't `vector<\u2026>::size()` return a `size_t`, making this effectively a cast?\r\n(apparently not necessarily: which `size_type` it returns is C++ library dependent)",
    "created_at": "2021-07-28T12:16:09Z",
    "updated_at": "2021-07-28T12:16:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r678244456",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678244456"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22047#discussion_r678244456"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/678244456/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 412,
    "original_line": 412,
    "side": "RIGHT"
  }
]