[
  {
    "sha": "a7a0c7a1bf3461bd43aacaf03ee5015903ead168",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphN2EwYzdhMWJmMzQ2MWJkNDNhYWNhZjAzZWU1MDE1OTAzZWFkMTY4",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-04-14T07:41:05Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-04-14T16:35:42Z"
      },
      "message": "Show a message box when runaway exception happens\n\nThis is more clear to users than when the program simply disappears (usually during initialization). It still logs the message to the console and debug log as well.",
      "tree": {
        "sha": "954c026838c1da1ba8ce66af605430207047167d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/954c026838c1da1ba8ce66af605430207047167d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a7a0c7a1bf3461bd43aacaf03ee5015903ead168",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a7a0c7a1bf3461bd43aacaf03ee5015903ead168",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a7a0c7a1bf3461bd43aacaf03ee5015903ead168",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a7a0c7a1bf3461bd43aacaf03ee5015903ead168/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6b8e7eefccf8d27c145d2e694037c2e10984f748",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6b8e7eefccf8d27c145d2e694037c2e10984f748",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6b8e7eefccf8d27c145d2e694037c2e10984f748"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 11,
      "deletions": 2
    },
    "files": [
      {
        "sha": "463b2cfa798410ec41c0a5f97f19c8e0694ea65d",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 2,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a7a0c7a1bf3461bd43aacaf03ee5015903ead168/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a7a0c7a1bf3461bd43aacaf03ee5015903ead168/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=a7a0c7a1bf3461bd43aacaf03ee5015903ead168",
        "patch": "@@ -119,6 +119,15 @@ std::string _(const char* psz)\n     return QCoreApplication::translate(\"bitcoin-core\", psz).toStdString();\n }\n \n+/* Handle runaway exceptions. Shows a message box with the problem and quits the program.\n+ */\n+static void handleRunawayException(std::exception *e)\n+{\n+    PrintExceptionContinue(e, \"Runaway exception\");\n+    QMessageBox::critical(0, \"Runaway exception\", BitcoinGUI::tr(\"A fatal error occured. Bitcoin can no longer continue safely and will quit.\") + QString(\"\\n\\n\") + QString::fromStdString(strMiscWarning));\n+    exit(1);\n+}\n+\n #ifdef WIN32\n #define strncasecmp strnicmp\n #endif\n@@ -284,9 +293,9 @@ int main(int argc, char *argv[])\n             return 1;\n         }\n     } catch (std::exception& e) {\n-        PrintException(&e, \"Runaway exception\");\n+        handleRunawayException(&e);\n     } catch (...) {\n-        PrintException(NULL, \"Runaway exception\");\n+        handleRunawayException(NULL);\n     }\n     return 0;\n }"
      }
    ]
  }
]