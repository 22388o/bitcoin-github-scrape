gavinandresen,2012-02-25T21:49:10Z,"Too big/dangerous a change for 0.6, I think.\n\nIt'd be really spiffy if there were unit tests for the SelectCoins code to test all the edge cases (I know they're not trivial to write, but maybe a little refactoring of SelectCoins would help).\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4176493,4176493,
dooglus,2012-02-26T20:56:17Z,@gavinandresen I'd be happy to write some unit tests for SelectCoins but it seems to depend on the whole blockchain which isn't available to the unit tests.  Is that what you are referring to with the refactoring of SelectCoins?  I'm sure with a little help I could get this done.\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4184395,4184395,
gavinandresen,2012-02-26T21:40:00Z,"@dooglus : yes, off the top of my head something like splitting it into two methods, the first of which creates an array of pointers to available outputs (or maybe tuples of (output, nConfirmations, size) or something) and the second of which runs the actual ""figure out which outputs to use"" algorithm.  Making SelectCoins strictly a function that chooses a subset of items passed in should make it ",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4184773,4184773,
dooglus,2012-02-27T00:55:58Z,"@gavinandresen Is it acceptable to use a vector of pair&lt;nConfirmations,pair&lt;nSize,pair&lt;tx,output_number&gt; &gt; &gt; or is that too ugly?\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4186435,4186435,
sipa,2012-02-27T01:13:22Z,"Tip: use COutPoint instead of pair(tx,output_number). But as soon as there is more than one argument you want to tie to it, I'd add a smallish class.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4186577,4186577,
dooglus,2012-02-27T11:54:57Z,"@sipa COutPoint has a hash, rather than a transaction, whereas I already have the transactions.\n\nI used a new smallish class anyway because it makes things tidier.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4192110,4192110,
luke-jr,2012-02-27T18:37:09Z,"I didn't see the test for this case:\n- Available outputs: 0.0005, 0.01, 1\n- Desired amount: 1.0001\n- Correct solution: 0.01, 1\n\nIn this case, the 0.0005 coin should never be chosen, because that would have 0.0004 BTC left over incurring a fee.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4199968,4199968,
dooglus,2012-02-27T19:22:03Z,"@luke-jr Your ""correct solution"" adds up to 1.01.  Subtracting the desired amount leaves 0.0099.  That's sub-cent change, which we're trying to avoid.\n\nWouldn't it be better to chose all 3 coins, leaving 0.0104 change and no fee?\n\nI guess you made a typo somewhere, but I can't work out what you meant.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4200889,4200889,
dooglus,2012-02-27T19:43:58Z,"Changing the desired amount to 0.999 gives a situation where we should leave the smallest coin.  I've added corresponding test cases, thanks.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-4201339,4201339,
sipa,2012-06-12T18:49:32Z,"Is this pull request superceded or not? I think we want this change for sure, while there are still implementation issues with coin selections.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-6279079,6279079,
luke-jr,2012-06-12T18:53:31Z,#1416 is the latest rebased iteration of this\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-6279185,6279185,
sipa,2012-06-14T15:20:11Z,Merged under #1416.\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-6331708,6331708,
dooglus,2012-06-14T18:26:45Z,I don't see this (or coin control) in #1416.\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-6336700,6336700,
dooglus,2012-08-23T18:58:50Z,"This fix still isn't merged, somehow.  The master branch is still doing this:\n\n```\nif (nTotalLower >= nTargetValue + CENT)\n    nTargetValue += CENT;\n```\n\nand consequently adds change when it isn't needed.\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-7980120,7980120,
gmaxwell,2012-08-24T02:25:32Z,@dooglus  Can you explain why the test case passes?   https://github.com/bitcoin/bitcoin/blob/master/src/test/wallet_tests.cpp#L210\n\nCan you suggest a test case that fails?\n\nI suspect you have an unclean clone that has been merged 'nTargetValue +=' doesn't appear anywhere in the codebase as far as I can tell.\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-7990483,7990483,
luke-jr,2012-08-24T02:29:45Z,I also can confirm that code does not exist in master...\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-7990533,7990533,
jwillerth,2012-08-24T02:43:54Z,"Take me off this list\n\nRegards,\n\nJoseph Willerth\n\nSent from my iPhone\n\nOn Aug 23, 2012, at 9:25 PM, Gregory Maxwell notifications@github.com wrote:\n\n> @dooglus Can you explain why the test case passes? https://github.com/bitcoin/bitcoin/blob/master/src/test/wallet_tests.cpp#L210\n> \n> Can you suggest a test case that fails?\n> \n> â€”\n> Reply to this email directly or view it on GitHub.\",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-7990710,7990710,
luke-jr,2012-08-24T02:54:03Z,"This isn't a list, it's an issue. To remove yourself from notifications (nobody else can do it for you), do this:\n- Login to GitHub if necessary\n- Open https://github.com/bitcoin/bitcoin/pull/898 in your browser\n- Scroll all the way to the bottom\n- Where it says ""Watching thread"", click it and select ""Mute""\n",https://github.com/bitcoin/bitcoin/pull/898#issuecomment-7990830,7990830,
dooglus,2012-08-24T20:46:54Z,You're right.  I was looking at a cached copy of master.  Apologies.\n,https://github.com/bitcoin/bitcoin/pull/898#issuecomment-8014365,8014365,
