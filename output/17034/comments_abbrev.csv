DrahtBot,2019-10-03 20:28:43,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23413](https://github.com/bitcoin/bitcoin/pull/23413) (Replace MakeSpan helper with Span deduction guide by sipa)\n* [#1",https://github.com/bitcoin/bitcoin/pull/17034#issuecomment-538114852,538114852,
achow101,2021-01-25 22:07:41,I've decided to combine this PR with #16463.,https://github.com/bitcoin/bitcoin/pull/17034#issuecomment-767145145,767145145,
achow101,2021-05-12 18:45:31,"> Shouldn't ""The global proprietary map"" for inputs and outputs also be an `RPCResult::Type::ARR`? And maybe label them ""The input proprietary map"" and ""The output proprietary map"" respectively.\n\nDone",https://github.com/bitcoin/bitcoin/pull/17034#issuecomment-840015447,840015447,
instagibbs,2019-10-08 15:52:30,"Manually inspected that all the fields with constant types are now being written with compact size, but I would like to be more systematic somehow in the future.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r332593715,332593715,src/psbt.h
luke-jr,2020-01-05 02:38:12,version*,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r363065879,363065879,src/psbt.h
achow101,2020-01-06 17:06:45,Fixed,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r363387756,363387756,src/psbt.h
Sjors,2021-04-30 12:32:08,"ec06a2e9ff3a59a903b301a8b539f467a8d57077: BIP174 defines it as `<32-bit uint>`. So we should check `key.size() > 4`? Not that it matters much, since we trip over any version > 0.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r623840244,623840244,src/psbt.h
Sjors,2021-04-30 13:04:36,"23b45a66f3343fdf5315a8673ed898202fddf182: I assume that `+ 1` is here because `<xpub>` is encoded as CompactSize and is always shorter than 253 bytes  (i.e. it's always 78 bytes)? Still it seems cleaner to just deserialise it, rather than adding 1 everywhere.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r623861065,623861065,src/psbt.h
apoelstra,2021-05-07 14:38:33,I think this should be inside an `RPCResult::Type::ARR`?,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r628262147,628262147,src/rpc/rawtransaction.cpp
apoelstra,2021-05-07 16:26:16,This comment may be out of date? You are using a set-valued map rather than a vector.,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r628353101,628353101,src/psbt.h
achow101,2021-05-11 20:14:00,"The version is in the value, not the key.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630509746,630509746,src/psbt.h
achow101,2021-05-11 20:15:09,The `+ 1` is for the type which is always encoded as a single byte.,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630510384,630510384,src/psbt.h
achow101,2021-05-11 20:18:29,"Yes, done.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630512324,630512324,src/rpc/rawtransaction.cpp
achow101,2021-05-11 20:18:38,Fixed.,https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630512395,630512395,src/psbt.h
Sjors,2021-05-12 08:11:14,"Ah yes. A better error message might be: ""Global version key may not contain key data"" (if you need to touch it)",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630820926,630820926,src/psbt.h
Sjors,2021-05-12 08:31:02,"I wish `<keylen>` would have been defined without the key type (i.e. `keydatalen`), but let's not overhaul the BIP :-)",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r630836616,630836616,src/psbt.h
achow101,2021-05-12 18:45:59,"This is the same wording that we use elsewhere for this kind of error, so I'm going to leave it as is.",https://github.com/bitcoin/bitcoin/pull/17034#discussion_r631314042,631314042,src/psbt.h
