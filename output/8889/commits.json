[
  {
    "sha": "16d2124215c32da6368c0e58cc9c6526335f48f3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxNmQyMTI0MjE1YzMyZGE2MzY4YzBlNThjYzljNjUyNjMzNWY0OGYz",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:07:13Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:07:13Z"
      },
      "message": "Qt/PlatformStyle: Expose explicit Colorize{Icon,Image} for public use",
      "tree": {
        "sha": "d704003cf398b03f60a9ba6078cb43eba7b47072",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d704003cf398b03f60a9ba6078cb43eba7b47072"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/16d2124215c32da6368c0e58cc9c6526335f48f3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/16d2124215c32da6368c0e58cc9c6526335f48f3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/16d2124215c32da6368c0e58cc9c6526335f48f3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/16d2124215c32da6368c0e58cc9c6526335f48f3/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "93566e0c37c5ae104095474fea89f00dcb40f551",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/93566e0c37c5ae104095474fea89f00dcb40f551",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/93566e0c37c5ae104095474fea89f00dcb40f551"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 7,
      "deletions": 4
    },
    "files": [
      {
        "sha": "27e26c9e474091faf3641e1ac9da67a27055eb35",
        "filename": "src/qt/platformstyle.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/16d2124215c32da6368c0e58cc9c6526335f48f3/src/qt/platformstyle.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/16d2124215c32da6368c0e58cc9c6526335f48f3/src/qt/platformstyle.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/platformstyle.cpp?ref=16d2124215c32da6368c0e58cc9c6526335f48f3",
        "patch": "@@ -30,7 +30,7 @@ static const struct {\n static const unsigned platform_styles_count = sizeof(platform_styles)/sizeof(*platform_styles);\n \n namespace {\n-/* Local functions for colorizing single-color images */\n+/* Local function for colorizing single-color images */\n \n void MakeSingleColorImage(QImage& img, const QColor& colorbase)\n {\n@@ -45,6 +45,8 @@ void MakeSingleColorImage(QImage& img, const QColor& colorbase)\n     }\n }\n \n+}\n+\n QIcon ColorizeIcon(const QIcon& ico, const QColor& colorbase)\n {\n     QIcon new_ico;\n@@ -70,9 +72,6 @@ QIcon ColorizeIcon(const QString& filename, const QColor& colorbase)\n     return QIcon(QPixmap::fromImage(ColorizeImage(filename, colorbase)));\n }\n \n-}\n-\n-\n PlatformStyle::PlatformStyle(const QString &_name, bool _imagesOnButtons, bool _colorizeIcons, bool _useExtraSpacing):\n     name(_name),\n     imagesOnButtons(_imagesOnButtons),"
      },
      {
        "sha": "b272470312253891301b5843649844a9b25a3ece",
        "filename": "src/qt/platformstyle.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/16d2124215c32da6368c0e58cc9c6526335f48f3/src/qt/platformstyle.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/16d2124215c32da6368c0e58cc9c6526335f48f3/src/qt/platformstyle.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/platformstyle.h?ref=16d2124215c32da6368c0e58cc9c6526335f48f3",
        "patch": "@@ -9,6 +9,10 @@\n #include <QPixmap>\n #include <QString>\n \n+QIcon ColorizeIcon(const QIcon&, const QColor&);\n+QImage ColorizeImage(const QString& filename, const QColor&);\n+QIcon ColorizeIcon(const QString& filename, const QColor&);\n+\n /* Coin network-specific GUI style information */\n class PlatformStyle\n {"
      }
    ]
  },
  {
    "sha": "51038c90f89528494acc46799c3fac7d209f9206",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MTAzOGM5MGY4OTUyODQ5NGFjYzQ2Nzk5YzNmYWM3ZDIwOWY5MjA2",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:07:31Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:29:04Z"
      },
      "message": "Qt/ModalOverlay: Use theme tooltip colours",
      "tree": {
        "sha": "13fc93ba0594b79087264b2bb8ea7b321ee69ec9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/13fc93ba0594b79087264b2bb8ea7b321ee69ec9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/51038c90f89528494acc46799c3fac7d209f9206",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/51038c90f89528494acc46799c3fac7d209f9206",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/51038c90f89528494acc46799c3fac7d209f9206",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/51038c90f89528494acc46799c3fac7d209f9206/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "16d2124215c32da6368c0e58cc9c6526335f48f3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/16d2124215c32da6368c0e58cc9c6526335f48f3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/16d2124215c32da6368c0e58cc9c6526335f48f3"
      }
    ],
    "stats": {
      "total": 43,
      "additions": 30,
      "deletions": 13
    },
    "files": [
      {
        "sha": "63e0574eedbbc341f6a534ee0fc357ac45f551eb",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "modified",
        "additions": 1,
        "deletions": 11,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/51038c90f89528494acc46799c3fac7d209f9206/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/51038c90f89528494acc46799c3fac7d209f9206/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=51038c90f89528494acc46799c3fac7d209f9206",
        "patch": "@@ -48,12 +48,7 @@\n        <number>60</number>\n       </property>\n       <item>\n-       <widget class=\"QWidget\" name=\"contentWidget\" native=\"true\">\n-        <property name=\"styleSheet\">\n-         <string notr=\"true\">#contentWidget { background: rgba(255,255,255,240); border-radius: 6px; }\n-\n-QLabel { color: rgb(40,40,40);  }</string>\n-        </property>\n+       <widget class=\"QFrame\" name=\"contentWidget\" native=\"true\">\n         <layout class=\"QVBoxLayout\" name=\"verticalLayoutSub\" stretch=\"1,0,0,0\">\n          <property name=\"spacing\">\n           <number>0</number>\n@@ -88,11 +83,6 @@ QLabel { color: rgb(40,40,40);  }</string>\n                <property name=\"text\">\n                 <string/>\n                </property>\n-               <property name=\"icon\">\n-                <iconset>\n-                 <normaloff>:/icons/warning</normaloff>\n-                 <disabledoff>:/icons/warning</disabledoff>:/icons/warning</iconset>\n-               </property>\n                <property name=\"iconSize\">\n                 <size>\n                  <width>48</width>"
      },
      {
        "sha": "da7e769d772ae50c81911aabb8eed31a308e99bd",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 2,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/51038c90f89528494acc46799c3fac7d209f9206/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/51038c90f89528494acc46799c3fac7d209f9206/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=51038c90f89528494acc46799c3fac7d209f9206",
        "patch": "@@ -6,6 +6,7 @@\n #include \"ui_modaloverlay.h\"\n \n #include \"guiutil.h\"\n+#include \"platformstyle.h\"\n \n #include <QResizeEvent>\n #include <QPropertyAnimation>\n@@ -50,7 +51,7 @@ bool ModalOverlay::eventFilter(QObject * obj, QEvent * ev) {\n     return QWidget::eventFilter(obj, ev);\n }\n \n-//! Tracks parent widget changes\n+//! Tracks parent widget changes and palette changes\n bool ModalOverlay::event(QEvent* ev) {\n     if (ev->type() == QEvent::ParentAboutToChange) {\n         if (parent()) parent()->removeEventFilter(this);\n@@ -61,7 +62,11 @@ bool ModalOverlay::event(QEvent* ev) {\n             raise();\n         }\n     }\n-    return QWidget::event(ev);\n+    const bool rv = QWidget::event(ev);\n+    if (ev->type() == QEvent::ApplicationPaletteChange || ev->type() == QEvent::PaletteChange) {\n+        updatePalette();\n+    }\n+    return rv;\n }\n \n void ModalOverlay::setKnownBestHeight(int count, const QDateTime& blockDate)\n@@ -137,6 +142,24 @@ void ModalOverlay::tipUpdate(int count, const QDateTime& blockDate, double nVeri\n     }\n }\n \n+void ModalOverlay::updatePalette()\n+{\n+    const QPalette & pal = QApplication::palette();\n+\n+    QColor bgcolor = pal.color(QPalette::Inactive, QPalette::ToolTipBase);\n+    QColor fgcolor = pal.color(QPalette::Inactive, QPalette::ToolTipText);\n+    ui->contentWidget->setStyleSheet(\n+        \"#contentWidget {\"\n+            \"background: \" + bgcolor.name() + \";\"\n+            \"border-radius: 6px;\"\n+        \"}\"\n+        \"QLabel {\"\n+            \"color: \" + fgcolor.name() + \";\"\n+        \"}\"\n+    );\n+    ui->warningIcon->setIcon(ColorizeIcon(\":/icons/warning\", fgcolor));\n+}\n+\n void ModalOverlay::showHide(bool hide, bool userRequested)\n {\n     if ( (layerIsVisible && !hide) || (!layerIsVisible && hide) || (!hide && userClosed && !userRequested))\n@@ -147,6 +170,8 @@ void ModalOverlay::showHide(bool hide, bool userRequested)\n \n     setGeometry(0, hide ? 0 : height(), width(), height());\n \n+    updatePalette();\n+\n     QPropertyAnimation* animation = new QPropertyAnimation(this, \"pos\");\n     animation->setDuration(300);\n     animation->setStartValue(QPoint(0, hide ? 0 : this->height()));"
      },
      {
        "sha": "56322094b8e5c404e8f20bbd3a72096acdea3575",
        "filename": "src/qt/modaloverlay.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/51038c90f89528494acc46799c3fac7d209f9206/src/qt/modaloverlay.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/51038c90f89528494acc46799c3fac7d209f9206/src/qt/modaloverlay.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.h?ref=51038c90f89528494acc46799c3fac7d209f9206",
        "patch": "@@ -40,6 +40,8 @@ public Q_SLOTS:\n     QVector<QPair<qint64, double> > blockProcessTime;\n     bool layerIsVisible;\n     bool userClosed;\n+\n+    void updatePalette();\n };\n \n #endif // BITCOIN_QT_MODALOVERLAY_H"
      }
    ]
  },
  {
    "sha": "f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmOGEyOGRjZDc4ODJkYmEwYTJkYzhlNGJlYmZiNWQ3MzEyMTAxMTI5",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:55:52Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-11-24T03:55:52Z"
      },
      "message": "Qt/ModalOverlay: Adjust behind-overlay fade-out slightly for darker overlay backgrounds",
      "tree": {
        "sha": "93c266b9b57ebb9e6a96ed998b9de88e03b910c0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/93c266b9b57ebb9e6a96ed998b9de88e03b910c0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "51038c90f89528494acc46799c3fac7d209f9206",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/51038c90f89528494acc46799c3fac7d209f9206",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/51038c90f89528494acc46799c3fac7d209f9206"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 15,
      "deletions": 3
    },
    "files": [
      {
        "sha": "714a5c09af0ba39de84423d682ad7368fbe9a4b4",
        "filename": "src/qt/forms/modaloverlay.ui",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129/src/qt/forms/modaloverlay.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129/src/qt/forms/modaloverlay.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/modaloverlay.ui?ref=f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
        "patch": "@@ -31,9 +31,6 @@\n    </property>\n    <item>\n     <widget class=\"QWidget\" name=\"bgWidget\" native=\"true\">\n-     <property name=\"styleSheet\">\n-      <string notr=\"true\">#bgWidget { background: rgba(0,0,0,220); }</string>\n-     </property>\n      <layout class=\"QVBoxLayout\" name=\"verticalLayoutMain\" stretch=\"1\">\n       <property name=\"leftMargin\">\n        <number>60</number>"
      },
      {
        "sha": "4f306dd214e7acf680bd5de4cd5ba0897946214c",
        "filename": "src/qt/modaloverlay.cpp",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129/src/qt/modaloverlay.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f8a28dcd7882dba0a2dc8e4bebfb5d7312101129/src/qt/modaloverlay.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/modaloverlay.cpp?ref=f8a28dcd7882dba0a2dc8e4bebfb5d7312101129",
        "patch": "@@ -158,6 +158,21 @@ void ModalOverlay::updatePalette()\n         \"}\"\n     );\n     ui->warningIcon->setIcon(ColorizeIcon(\":/icons/warning\", fgcolor));\n+\n+    int bggray = qGray(bgcolor.rgb()) * bgcolor.alpha() / 255;\n+    int fadeopacity;\n+    if (bggray < 0x40) {\n+        // Dark overlay background, so fade-out a bit less\n+        // 0xc0 for bggray=solid black, 0xe0 for bggray=0x40\n+        fadeopacity = 0xc0 + (bggray / 2);\n+    } else {\n+        fadeopacity = 0xe0;\n+    }\n+    ui->bgWidget->setStyleSheet(\n+        \"#bgWidget {\"\n+            \"background: rgba(0,0,0,\" + QString::number(fadeopacity) + \");\"\n+        \"}\"\n+    );\n }\n \n void ModalOverlay::showHide(bool hide, bool userRequested)"
      }
    ]
  }
]