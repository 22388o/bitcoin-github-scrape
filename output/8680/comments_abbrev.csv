laanwj,2016-09-09T05:21:32Z,"These RPCs happen to also wait for wallet processing at this point, but that will change if wallet processing becomes asynchronous.\n\nACK on this as a stopgap measure to prevent the synchronization issues.\n\nBut I think there should be a warning in their help to not rely on this behavior ""as the tests do"".\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-245822058,245822058,
jonasschnelli,2016-09-09T06:26:13Z,"Concept ACK.\nI like this approach. Also, it's a preform of longpoll RPC notifications proposed in https://github.com/bitcoin/bitcoin/pull/7949 which I think are generally useful.\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-245830060,245830060,
laanwj,2016-09-09T06:33:49Z,"Gah I'm just going to go ahead and merge this, I need the tests to pass, it's low-risk (largest risk is to break the tests even more, well...) and fixups can be done later.\nutACK d6a5dc4\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-245831377,245831377,
MarcoFalke,2016-09-09T16:24:39Z,Just to be sure: The new rpc calls are not meant for general consumption but serve as a temporary fix for the tests?\n,https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-245964182,245964182,
luke-jr,2016-09-16T22:03:53Z,Does this need a backport?\n,https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-247719602,247719602,
MarcoFalke,2016-09-17T08:07:53Z,"@luke-jr No, the commit that reworked the locks is only in master\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-247756536,247756536,
MarcoFalke,2016-09-20T17:37:51Z,"This will also break the tests, when an old binary is used for comp. checks.\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-248374706,248374706,
MarcoFalke,2016-09-20T17:38:32Z,"There were suggestions by @morcos and @TheBlueMatt to address the failures in a less breaking way during one of the last meetings, but I couldn't find any follow ups.\n",https://github.com/bitcoin/bitcoin/pull/8680#issuecomment-248374912,248374912,
jonasschnelli,2016-09-09T06:24:07Z,nit: `s/waitforblock/waitforblock <blockhash> <timeout>`\nI guess most commands help have it like this.\n,https://github.com/bitcoin/bitcoin/pull/8680#discussion_r78133809,78133809,src/rpc/blockchain.cpp
MarcoFalke,2016-09-09T16:21:35Z,Nit: `mempool_packages.py` relies on this not being thrown.\n,https://github.com/bitcoin/bitcoin/pull/8680#discussion_r78208206,78208206,qa/rpc-tests/test_framework/util.py
sdaftuar,2016-09-09T16:27:42Z,"There's a slightly bigger issue that @morcos just noticed, which is that the block notification signals doesn't quite work with invalidateblock right now.\n\nI think we can work around it by having the invalidateblock rpc handler explicitly call the ui signals in this case (which is probably the right thing to do in general).\n",https://github.com/bitcoin/bitcoin/pull/8680#discussion_r78209060,78209060,qa/rpc-tests/test_framework/util.py
MarcoFalke,2016-10-02T11:56:57Z,waitforblockheight\n\nAlso there is a spurious opening `{` some lines below.\n,https://github.com/bitcoin/bitcoin/pull/8680#discussion_r81468942,81468942,src/rpc/blockchain.cpp
