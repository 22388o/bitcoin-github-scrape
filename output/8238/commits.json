[
  {
    "sha": "a615386552f9981dc024cc4a0df758f8b0fda4d8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphNjE1Mzg2NTUyZjk5ODFkYzAyNGNjNGEwZGY3NThmOGIwZmRhNGQ4",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2016-06-22T09:56:07Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2016-07-21T08:20:17Z"
      },
      "message": "[depends] ZeroMQ 4.1.5",
      "tree": {
        "sha": "9c10f521cff8dc9b9be0a5f2377fd703b13a1479",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c10f521cff8dc9b9be0a5f2377fd703b13a1479"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a615386552f9981dc024cc4a0df758f8b0fda4d8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCgAGBQJXkIXBAAoJEC7rn1zAlSbBDgYP/06/BWhojni+kHg78GmiXkJS\nm5k4x63UdJjEqXqXCJ8KQTgd7aEt61O82AbrNAyMFQjgiryp1VWGSmbnAf6Db8LB\n9DDeSEZDnx37EDwiBM13E8fHQu2S7quaO3TncbEYoL0Woiv/r0+P5K1An7nSh7rQ\nJg3WIT4Ge2zxywowpVQZ1lO4PEds/Gk3M0eJm+MgxEnpi2jJgSzIdu/vKOU6a7CA\n3d57BRjbPVeR82NkTpDMEWFFzaYs2ZPDVidtLtcjMAwfnDTAQXTuKl4hznVRZbiX\new+1qT2znjb1EAT686RzgJGRGOJU8j1H1tT2U32N54BXg+jtnWJXvPvHQ3Dw6MQL\nGAJxwX2dlq1Aw8IUw9pwLiAX/t80i8KCdHfZ4yAZWHg5Q4plVc9YvfXouWQMObJ8\nmcVmGrgSU+cx3tCCuwrZH0SsZMUnrODMZUVKk2aUqKNfyrWxrMn8L5urdbm0PEEw\na7HUhRq0sNn7awu15rX+JDEQHOCPX9kuqSH8tytiMNLd7rxH35Nk+M0uHTLEylSK\n3aPxSi1msn/QthdKoPHVqgU+ULTL/XcM9uq8DWhMP4PmMo8q5bfeHDAVhs7NO0WJ\nIJty+5KbuZhXzPPryx9e+2IVzsZcdy09/qHPQDPYXiva7687x1XuoduWf8U/N2Bx\nHratPVIlqek48kxmSF+3\n=/KMi\n-----END PGP SIGNATURE-----",
        "payload": "tree 9c10f521cff8dc9b9be0a5f2377fd703b13a1479\nparent 8e048f40cc25b6ad3f49d2828c8562b657d91ced\nauthor fanquake <fanquake@gmail.com> 1466589367 +0800\ncommitter fanquake <fanquake@gmail.com> 1469089217 +0800\n\n[depends] ZeroMQ 4.1.5\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a615386552f9981dc024cc4a0df758f8b0fda4d8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a615386552f9981dc024cc4a0df758f8b0fda4d8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a615386552f9981dc024cc4a0df758f8b0fda4d8/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8e048f40cc25b6ad3f49d2828c8562b657d91ced",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e048f40cc25b6ad3f49d2828c8562b657d91ced",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8e048f40cc25b6ad3f49d2828c8562b657d91ced"
      }
    ],
    "stats": {
      "total": 73,
      "additions": 65,
      "deletions": 8
    },
    "files": [
      {
        "sha": "ef58cfc40d19d775cd2b55b6baa2ca09fd2d304b",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a615386552f9981dc024cc4a0df758f8b0fda4d8/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a615386552f9981dc024cc4a0df758f8b0fda4d8/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=a615386552f9981dc024cc4a0df758f8b0fda4d8",
        "patch": "@@ -816,6 +816,15 @@ else\n     AC_DEFINE_UNQUOTED([ENABLE_ZMQ],[0],[Define to 1 to enable ZMQ functions])\n   fi\n \n+  if test \"x$use_zmq\" = \"xyes\"; then\n+    dnl Assume libzmq was built for static linking\n+    case $host in\n+      *mingw*)\n+        ZMQ_CFLAGS=\"$ZMQ_CFLAGS -DZMQ_STATIC\"\n+      ;;\n+    esac\n+  fi\n+\n   BITCOIN_QT_CHECK(AC_CHECK_LIB([protobuf] ,[main],[PROTOBUF_LIBS=-lprotobuf], BITCOIN_QT_FAIL(libprotobuf not found)))\n   if test x$use_qr != xno; then\n     BITCOIN_QT_CHECK([AC_CHECK_LIB([qrencode], [main],[QR_LIBS=-lqrencode], [have_qrencode=no])])"
      },
      {
        "sha": "ba2a05248c04e3a96af440feb40ab3cfc6bb42f9",
        "filename": "depends/packages/packages.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/packages/packages.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/packages/packages.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/packages.mk?ref=a615386552f9981dc024cc4a0df758f8b0fda4d8",
        "patch": "@@ -1,6 +1,4 @@\n-packages:=boost openssl libevent\n-darwin_packages:=zeromq\n-linux_packages:=zeromq\n+packages:=boost openssl libevent zeromq\n native_packages := native_ccache native_comparisontool\n \n qt_native_packages = native_protobuf\n@@ -12,7 +10,6 @@ qt_i686_linux_packages:=$(qt_x86_64_linux_packages)\n qt_darwin_packages=qt\n qt_mingw32_packages=qt\n \n-\n wallet_packages=bdb\n \n upnp_packages=miniupnpc"
      },
      {
        "sha": "01146c26f69bc426f351424bc2cdcfded19e0b65",
        "filename": "depends/packages/zeromq.mk",
        "status": "modified",
        "additions": 11,
        "deletions": 4,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/packages/zeromq.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/packages/zeromq.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/zeromq.mk?ref=a615386552f9981dc024cc4a0df758f8b0fda4d8",
        "patch": "@@ -1,15 +1,22 @@\n package=zeromq\n-$(package)_version=4.1.4\n-$(package)_download_path=http://download.zeromq.org\n+$(package)_version=4.1.5\n+$(package)_download_path=https://github.com/zeromq/zeromq4-1/releases/download/v$($(package)_version)/\n $(package)_file_name=$(package)-$($(package)_version).tar.gz\n-$(package)_sha256_hash=e99f44fde25c2e4cb84ce440f87ca7d3fe3271c2b8cfbc67d55e4de25e6fe378\n+$(package)_sha256_hash=04aac57f081ffa3a2ee5ed04887be9e205df3a7ddade0027460b8042432bdbcf\n+$(package)_patches=9114d3957725acd34aa8b8d011585812f3369411.patch 9e6745c12e0b100cd38acecc16ce7db02905e27c.patch\n \n define $(package)_set_vars\n-  $(package)_config_opts=--without-documentation --disable-shared --without-libsodium\n+  $(package)_config_opts=--without-documentation --disable-shared --without-libsodium --disable-curve\n   $(package)_config_opts_linux=--with-pic\n   $(package)_cxxflags=-std=c++11\n endef\n \n+define $(package)_preprocess_cmds\n+  patch -p1 < $($(package)_patch_dir)/9114d3957725acd34aa8b8d011585812f3369411.patch && \\\n+  patch -p1 < $($(package)_patch_dir)/9e6745c12e0b100cd38acecc16ce7db02905e27c.patch && \\\n+  ./autogen.sh\n+endef\n+\n define $(package)_config_cmds\n   $($(package)_autoconf)\n endef"
      },
      {
        "sha": "f704b3d94fda8a2bd90ac422c8b267b02bc60f5c",
        "filename": "depends/patches/zeromq/9114d3957725acd34aa8b8d011585812f3369411.patch",
        "status": "added",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/patches/zeromq/9114d3957725acd34aa8b8d011585812f3369411.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/patches/zeromq/9114d3957725acd34aa8b8d011585812f3369411.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/zeromq/9114d3957725acd34aa8b8d011585812f3369411.patch?ref=a615386552f9981dc024cc4a0df758f8b0fda4d8",
        "patch": "@@ -0,0 +1,22 @@\n+From 9114d3957725acd34aa8b8d011585812f3369411 Mon Sep 17 00:00:00 2001\n+From: Jeroen Ooms <jeroenooms@gmail.com>\n+Date: Tue, 20 Oct 2015 13:10:38 +0200\n+Subject: [PATCH] enable static libraries on mingw\n+\n+---\n+ configure.ac | 2 +-\n+ 1 file changed, 1 insertion(+), 1 deletion(-)\n+\n+diff --git a/configure.ac b/configure.ac\n+index 393505b..e92131a 100644\n+--- a/configure.ac\n++++ b/configure.ac\n+@@ -265,7 +265,7 @@ case \"${host_os}\" in\n+         libzmq_dso_visibility=\"no\"\n+\n+         if test \"x$enable_static\" = \"xyes\"; then\n+-            AC_MSG_ERROR([Building static libraries is not supported under MinGW32])\n++            CPPFLAGS=\"-DZMQ_STATIC\"\n+         fi\n+\n+ \t# Set FD_SETSIZE to 1024\n\\ No newline at end of file"
      },
      {
        "sha": "9aff2c179a1982e6af89a410d06c42d1a0fbad90",
        "filename": "depends/patches/zeromq/9e6745c12e0b100cd38acecc16ce7db02905e27c.patch",
        "status": "added",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/patches/zeromq/9e6745c12e0b100cd38acecc16ce7db02905e27c.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a615386552f9981dc024cc4a0df758f8b0fda4d8/depends/patches/zeromq/9e6745c12e0b100cd38acecc16ce7db02905e27c.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/zeromq/9e6745c12e0b100cd38acecc16ce7db02905e27c.patch?ref=a615386552f9981dc024cc4a0df758f8b0fda4d8",
        "patch": "@@ -0,0 +1,22 @@\n+From 9e6745c12e0b100cd38acecc16ce7db02905e27c Mon Sep 17 00:00:00 2001\n+From: David Millard <dmillard10@gmail.com>\n+Date: Tue, 10 May 2016 13:53:53 -0700\n+Subject: [PATCH] Fix autotools for static MinGW builds\n+\n+---\n+ configure.ac | 2 +-\n+ 1 file changed, 1 insertion(+), 1 deletion(-)\n+\n+diff --git a/configure.ac b/configure.ac\n+index 5a0fa14..def6ea7 100644\n+--- a/configure.ac\n++++ b/configure.ac\n+@@ -259,7 +259,7 @@ case \"${host_os}\" in\n+         libzmq_dso_visibility=\"no\"\n+\n+         if test \"x$enable_static\" = \"xyes\"; then\n+-            CPPFLAGS=\"-DZMQ_STATIC\"\n++            CPPFLAGS=\"-DZMQ_STATIC $CPPFLAGS\"\n+         fi\n+\n+ \t# Set FD_SETSIZE to 1024\n\\ No newline at end of file"
      }
    ]
  }
]