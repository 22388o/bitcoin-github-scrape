[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485509311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485509311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 485509311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTUwOTMxMQ==",
    "user": {
      "login": "gmaxwell",
      "id": 858454,
      "node_id": "MDQ6VXNlcjg1ODQ1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/858454?u=63e5c438c242094837a9deeda775d77988b508bf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gmaxwell",
      "html_url": "https://github.com/gmaxwell",
      "followers_url": "https://api.github.com/users/gmaxwell/followers",
      "following_url": "https://api.github.com/users/gmaxwell/following{/other_user}",
      "gists_url": "https://api.github.com/users/gmaxwell/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gmaxwell/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
      "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
      "repos_url": "https://api.github.com/users/gmaxwell/repos",
      "events_url": "https://api.github.com/users/gmaxwell/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-22T18:44:06Z",
    "updated_at": "2019-04-22T18:44:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK.\r\n\r\nThere is an argument against doing things like this:  that it's better to fail deterministically rather than fail randomly at some point in the future and have created incorrect expectations of functionality.  But setting prune to some large \"future\" amount is a perfectly reasonable configuration.  And this doesn't cause it to fail randomly, but rather work until it doesn't.  So I don't believe the general argument against this sort of thing offsets the benefit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485509311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485519649",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485519649",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 485519649,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTUxOTY0OQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-22T19:16:50Z",
    "updated_at": "2019-04-22T19:16:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "This seems to affect importaddress, importpubkey, importprivkey, and importwallet but not importmulti. I wonder how the new behavior compares to importmulti behavior, and if there's a difference, whether that's justified.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485519649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485523746",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485523746",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 485523746,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTUyMzc0Ng==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-22T19:30:28Z",
    "updated_at": "2019-04-27T15:15:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485523746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485524753",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-485524753",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 485524753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NTUyNDc1Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-22T19:34:12Z",
    "updated_at": "2019-04-22T19:59:41Z",
    "author_association": "MEMBER",
    "body": "@ryanofsky The only difference between importmulti and the other calls is that in importmulti you can \"opt-out\" of scanning early blocks by setting a later timestamp. Otherwise, my change makes all calls behave in the same way.\r\n\r\nEdit: I believe the only difference is that importmulti will import the keys and then fail the rescan, whereas the other calls will exit early and not attempt to import anything.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/485524753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486407340",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486407340",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 486407340,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjQwNzM0MA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T20:12:51Z",
    "updated_at": "2019-04-24T20:12:51Z",
    "author_association": "MEMBER",
    "body": "> Edit: I believe the only difference is that importmulti will import the keys and then fail the rescan, whereas the other calls will exit early and not attempt to import anything.\r\n\r\nWhy a different behavior? It's already possible to call `importmulti ... '{\"rescan\": false}'` and then `rescanblockchain ...`? I think RPCs should (try to) be atomic so that the client doesn't have to figure out what succeeded or not.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486407340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486411063",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486411063",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 486411063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjQxMTA2Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T20:23:33Z",
    "updated_at": "2019-04-24T20:23:33Z",
    "author_association": "MEMBER",
    "body": "> Why a different behavior?\r\n\r\nI don't know. I didn't write the importmulti RPC and I don't plan to change it in this pull request.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486411063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486425232",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-486425232",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 486425232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjQyNTIzMg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T21:03:53Z",
    "updated_at": "2019-04-24T21:03:53Z",
    "author_association": "MEMBER",
    "body": "> Concept ACK. Correct me if I'm wrong, but it doesn't have to fail if all required blocks are available right?\r\n\r\nimportmulti does not fail the rescan when all blocks after the timestamp are available, but it fails *after* the import if a block is missing.\r\nthe other import* (after my change) also do not fail the rescan when all blocks after time=0 are available. However, they fail *before* the import if a block is missing.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/486425232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488217020",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488217020",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488217020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODIxNzAyMA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-01T06:02:21Z",
    "updated_at": "2019-05-01T06:02:21Z",
    "author_association": "MEMBER",
    "body": "Let's use prune height instead, so `rescanblockchain` can be picky about it?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488217020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488290292",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488290292",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488290292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODI5MDI5Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-01T14:02:10Z",
    "updated_at": "2019-05-01T14:02:10Z",
    "author_association": "MEMBER",
    "body": "I am not touching `rescanblockchain` at all. Could you explain what you mean?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488290292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488489329",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488489329",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488489329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODQ4OTMyOQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-01T23:26:52Z",
    "updated_at": "2019-05-01T23:26:52Z",
    "author_association": "MEMBER",
    "body": "I mean it would make sense to use a common interface with `rescanblockchain`, which would need prune-height rather than have-pruned.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488489329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488666562",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488666562",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488666562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODY2NjU2Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-02T13:10:42Z",
    "updated_at": "2019-05-02T13:10:42Z",
    "author_association": "MEMBER",
    "body": "Oh, the RPCs I touch are already deprecated in favor of importmulti, so I'd rather not add features to them.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488666562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488777086",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488777086",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488777086,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODc3NzA4Ng==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-02T18:17:24Z",
    "updated_at": "2019-05-02T18:17:24Z",
    "author_association": "MEMBER",
    "body": "I'm commenting on the src/interfaces changes specifically.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488777086/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488778502",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-488778502",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 488778502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODc3ODUwMg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-02T18:21:29Z",
    "updated_at": "2019-05-02T18:21:38Z",
    "author_association": "MEMBER",
    "body": "Ah. Yeah, since we don't store the prune height, this would complicate my changes slightly. I think the additional code can be added later (when needed in rescanblockchain).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/488778502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489175006",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-489175006",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 489175006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTE3NTAwNg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T17:25:58Z",
    "updated_at": "2019-05-03T17:25:58Z",
    "author_association": "MEMBER",
    "body": "I'm a little concerned about this change. Anywhere that `havePruned()` is called without `cs_main` is racy, since a block may be pruned after `havePruned()` is called. We therefore need to make sure that the code after those `havePruned()` calls is robust against being run when blocks have been pruned. If that's the case, why not just remove the `chain().getPruneMode()` check entirely and let the error-handling in the later code handle when a block is missing?\r\n\r\nThe four call sites in rpcdump do not hold `cs_main`. The call site in `CreateWalletFromFile()` does hold `cs_main` indirectly through `locked_chain`, but a goal is to remove that lock.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489175006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489182583",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-489182583",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 489182583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTE4MjU4Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T17:49:27Z",
    "updated_at": "2019-05-03T17:49:27Z",
    "author_association": "MEMBER",
    "body": "@jnewbery The check is only there to provide a nice error message. As you correctly observe it is not needed for correctness. Should I clarify that with a comment?\r\n\r\nThe error message otherwise would be https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315111",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489182583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489185056",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-489185056",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 489185056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTE4NTA1Ng==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T17:57:12Z",
    "updated_at": "2019-05-03T17:57:12Z",
    "author_association": "MEMBER",
    "body": "> The check is only there to provide a nice error message. As you correctly observe it is not needed for correctness. Should I clarify that with a comment?\r\n\r\nYes, that sounds good. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489185056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489218060",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-489218060",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 489218060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4OTIxODA2MA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-03T19:46:56Z",
    "updated_at": "2019-05-03T19:46:56Z",
    "author_association": "MEMBER",
    "body": "utACK fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/489218060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491096807",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-491096807",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 491096807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTA5NjgwNw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-09T22:59:06Z",
    "updated_at": "2019-05-09T22:59:06Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. My first read of this was that it'd permit rescanning pruned chains, as long as the to-be-rescanned blocks are not pruned, but it seems to just be about whether or not any blocks are actually pruned (independent of the ones to be rescanned), right?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491096807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491269852",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-491269852",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 491269852,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTI2OTg1Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-10T12:22:33Z",
    "updated_at": "2019-05-10T12:22:33Z",
    "author_association": "MEMBER",
    "body": "The legacy calls would always rescan the whole chain. As soon as one block is pruned, it fails.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491269852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492500634",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-492500634",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 492500634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjUwMDYzNA==",
    "user": {
      "login": "wpaulino",
      "id": 9447167,
      "node_id": "MDQ6VXNlcjk0NDcxNjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9447167?u=c655abc97feab8dd129c3badd97b13ccaa7615cf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wpaulino",
      "html_url": "https://github.com/wpaulino",
      "followers_url": "https://api.github.com/users/wpaulino/followers",
      "following_url": "https://api.github.com/users/wpaulino/following{/other_user}",
      "gists_url": "https://api.github.com/users/wpaulino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wpaulino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wpaulino/subscriptions",
      "organizations_url": "https://api.github.com/users/wpaulino/orgs",
      "repos_url": "https://api.github.com/users/wpaulino/repos",
      "events_url": "https://api.github.com/users/wpaulino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wpaulino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-15T04:40:40Z",
    "updated_at": "2019-05-15T04:40:40Z",
    "author_association": "NONE",
    "body": "Out of scope for this PR but somewhat related -- would there be any reason to not attempt to fetch the pruned blocks from the P2P network to allow the rescan to happen?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492500634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492624925",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-492624925",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 492624925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjYyNDkyNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-15T12:00:37Z",
    "updated_at": "2019-05-15T12:00:37Z",
    "author_association": "MEMBER",
    "body": "Jup, but that might be something to do only after #15946",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492624925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492746119",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-492746119",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 492746119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mjc0NjExOQ==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-15T17:23:12Z",
    "updated_at": "2019-05-15T17:23:12Z",
    "author_association": "MEMBER",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/15870/commits/aaaa57c2aad3a6278559ae3db5d953c847c6ffcb\r\n\r\nMakes a lot of sense to allow rescanning for as long as we can as @gmaxwell notes above - and indeed it might even be prudent for most users to set a future-proofing prune value that reflects their disk limitations at startup time. Better that your node start pruning vs. run out of disk space and exit. \r\n\r\nMaybe in the future we could even default to such a thing based on the datadir device if pruning-enabled-but-not-done-yet behavior is equivalent to a non-pruning node. Or introduce an \"adaptive\" pruning mode, which periodically polls for available disk space and adjusts the prune target accordingly. But of course this is all out of scope for this change.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492746119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492748421",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-492748421",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 492748421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mjc0ODQyMQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-15T17:29:35Z",
    "updated_at": "2019-05-15T17:29:35Z",
    "author_association": "MEMBER",
    "body": "@jamesob you mean an option to ensure a minimum free space?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/492748421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493084995",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-493084995",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 493084995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzA4NDk5NQ==",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-16T14:13:43Z",
    "updated_at": "2019-05-16T14:13:43Z",
    "author_association": "MEMBER",
    "body": "> @jamesob you mean an option to ensure a minimum free space?\r\n\r\nIf you mean \"prune as little as possible and only until necessitated by lack of space,\" yes. Some kind of adaptive prune would just be a measure to avoid hitting an out-of-disk error for as long as possible. But this is out of scope in terms of this PR so maybe I'll file an issue later or something.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493084995/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493126097",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#issuecomment-493126097",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15870",
    "id": 493126097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzEyNjA5Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-16T15:54:11Z",
    "updated_at": "2019-05-16T15:54:11Z",
    "author_association": "MEMBER",
    "body": "post-merge utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493126097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278306246",
    "pull_request_review_id": 230341302,
    "id": 278306246,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMwNjI0Ng==",
    "diff_hunk": "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
    "path": "src/interfaces/chain.cpp",
    "position": 11,
    "original_position": 5,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fad84519391a05f2ad42381cca9135323b709657",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Move to the chain lock?",
    "created_at": "2019-04-24T20:33:49Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278306246",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278306246"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278306246"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278306246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 328,
    "original_line": 328,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278307845",
    "pull_request_review_id": 230341302,
    "id": 278307845,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMwNzg0NQ==",
    "diff_hunk": "@@ -157,8 +157,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())\n             fRescan = request.params[2].get_bool();\n \n-        if (fRescan && pwallet->chain().getPruneMode()) {\n-            throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+        if (fRescan && pwallet->chain().havePruned()) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": 12,
    "original_position": 6,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fad84519391a05f2ad42381cca9135323b709657",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "A block can be pruned before RescanWallet (L202). What would be the error then?",
    "created_at": "2019-04-24T20:38:11Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278307845",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278307845"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278307845"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278307845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 160,
    "original_line": 160,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315111",
    "pull_request_review_id": 230352707,
    "id": 278315111,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNTExMQ==",
    "diff_hunk": "@@ -157,8 +157,8 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())\n             fRescan = request.params[2].get_bool();\n \n-        if (fRescan && pwallet->chain().getPruneMode()) {\n-            throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+        if (fRescan && pwallet->chain().havePruned()) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": 12,
    "original_position": 6,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fad84519391a05f2ad42381cca9135323b709657",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It will throw an error `\"Rescan was unable to fully rescan the blockchain. Some transactions may be missing.\"`",
    "created_at": "2019-04-24T20:57:57Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315111",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315111"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315111"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 160,
    "original_line": 160,
    "side": "RIGHT",
    "in_reply_to_id": 278307845
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315293",
    "pull_request_review_id": 230352946,
    "id": 278315293,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNTI5Mw==",
    "diff_hunk": "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
    "path": "src/interfaces/chain.cpp",
    "position": 11,
    "original_position": 5,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fad84519391a05f2ad42381cca9135323b709657",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why?",
    "created_at": "2019-04-24T20:58:28Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315293",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315293"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278315293"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278315293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 328,
    "original_line": 328,
    "side": "RIGHT",
    "in_reply_to_id": 278306246
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278316048",
    "pull_request_review_id": 230353926,
    "id": 278316048,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3ODMxNjA0OA==",
    "diff_hunk": "@@ -326,7 +326,11 @@ class ChainImpl : public Chain\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n     CAmount maxTxFee() override { return ::maxTxFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override",
    "path": "src/interfaces/chain.cpp",
    "position": 11,
    "original_position": 5,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fad84519391a05f2ad42381cca9135323b709657",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry for the brief reply, but see here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/fad84519391a05f2ad42381cca9135323b709657/src/interfaces/chain.h#L69-L73\r\n\r\nThe chain lock is deprecated and will be removed in the future.",
    "created_at": "2019-04-24T21:00:32Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278316048",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278316048"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r278316048"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/278316048/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 328,
    "original_line": 328,
    "side": "RIGHT",
    "in_reply_to_id": 278306246
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280892339",
    "pull_request_review_id": 233623884,
    "id": 280892339,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDg5MjMzOQ==",
    "diff_hunk": "@@ -40,9 +39,6 @@ class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n     def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)\n-        else:\n             return func(*args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": null,
    "original_position": 15,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9fa5d647092710aa03dadf92433584e9fe26a3",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: indentation\r\n\r\nEDIT: just remove this function entirely",
    "created_at": "2019-05-03T18:59:19Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r280892339",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280892339"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r280892339"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280892339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280902472",
    "pull_request_review_id": 233637159,
    "id": 280902472,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MDkwMjQ3Mg==",
    "diff_hunk": "@@ -40,9 +39,6 @@ class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n     def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)\n-        else:\n             return func(*args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": null,
    "original_position": 15,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9fa5d647092710aa03dadf92433584e9fe26a3",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2019-05-03T19:33:35Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r280902472",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280902472"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r280902472"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/280902472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT",
    "in_reply_to_id": 280892339
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281252918",
    "pull_request_review_id": 234065801,
    "id": 281252918,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI1MjkxOA==",
    "diff_hunk": "@@ -157,8 +157,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())",
    "path": "src/wallet/rpcdump.cpp",
    "position": 7,
    "original_position": 1,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: Update year in line 1? `// Copyright (c) 2009-2018 The Bitcoin Core developers`",
    "created_at": "2019-05-06T16:11:54Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281252918",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281252918"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281252918"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281252918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 157,
    "original_line": 157,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281253401",
    "pull_request_review_id": 234065801,
    "id": 281253401,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI1MzQwMQ==",
    "diff_hunk": "@@ -4221,8 +4221,11 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         //We can't rescan beyond non-pruned blocks, stop and throw an error\n         //this might happen if a user uses an old wallet within a pruned node",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: space after // in lines 4222 and 4223",
    "created_at": "2019-05-06T16:13:15Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281253401",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281253401"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281253401"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281253401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4223,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281254503",
    "pull_request_review_id": 234065801,
    "id": 281254503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI1NDUwMw==",
    "diff_hunk": "@@ -4221,8 +4221,11 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         //We can't rescan beyond non-pruned blocks, stop and throw an error\n         //this might happen if a user uses an old wallet within a pruned node",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Perhaps out of PR scope but the docs in lines 4222 and 4223 could be clearer, e.g. is \"error\" the end of a sentence and \"this\" the start of a sentence, or...",
    "created_at": "2019-05-06T16:16:25Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281254503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281254503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281254503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281254503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4223,
    "side": "RIGHT",
    "in_reply_to_id": 281253401
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281261523",
    "pull_request_review_id": 234065801,
    "id": 281261523,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI2MTUyMw==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does the code doc in 588 correspond correctly with the error message in 589? ",
    "created_at": "2019-05-06T16:36:31Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281261523",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281261523"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281261523"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281261523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 589,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281264587",
    "pull_request_review_id": 234065801,
    "id": 281264587,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI2NDU4Nw==",
    "diff_hunk": "@@ -314,8 +317,11 @@ UniValue importaddress(const JSONRPCRequest& request)\n     if (!request.params[2].isNull())\n         fRescan = request.params[2].get_bool();\n \n-    if (fRescan && pwallet->chain().getPruneMode()) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+    if (fRescan && pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled when blocks are pruned\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": 30,
    "original_position": 24,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Would it be worth extracting this code block repeated in `importprivkey`, `importaddress`, `importpubkey`, and `importwallet` (the latter with a different error message).\r\n\r\n```cpp\r\n    if (fRescan && pwallet->chain().havePruned()) {\r\n        // Exit early and print an error.\r\n        // If a block is pruned after this check, we will import the key(s),\r\n        // but fail the rescan with a generic error.\r\n        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled when blocks are pruned\");\r\n    }\r\n```\r\n\r\nEdit: I understand it may be a premature or unnecessary optimisation. Just an observation.",
    "created_at": "2019-05-06T16:45:40Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281264587",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281264587"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281264587"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281264587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 324,
    "original_line": 324,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270503",
    "pull_request_review_id": 234087587,
    "id": 281270503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI3MDUwMw==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, \"importing wallet\" means \"importing key(s)\", I believe.",
    "created_at": "2019-05-06T17:01:41Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281270503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281270503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 589,
    "side": "RIGHT",
    "in_reply_to_id": 281261523
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270849",
    "pull_request_review_id": 234087988,
    "id": 281270849,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI3MDg0OQ==",
    "diff_hunk": "@@ -314,8 +317,11 @@ UniValue importaddress(const JSONRPCRequest& request)\n     if (!request.params[2].isNull())\n         fRescan = request.params[2].get_bool();\n \n-    if (fRescan && pwallet->chain().getPruneMode()) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+    if (fRescan && pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled when blocks are pruned\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": 30,
    "original_position": 24,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, could make sense. Will do if I have to touch for other reasons.",
    "created_at": "2019-05-06T17:02:40Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281270849",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270849"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281270849"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281270849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 324,
    "original_line": 324,
    "side": "RIGHT",
    "in_reply_to_id": 281264587
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281271143",
    "pull_request_review_id": 234088366,
    "id": 281271143,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI3MTE0Mw==",
    "diff_hunk": "@@ -4221,8 +4221,11 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         //We can't rescan beyond non-pruned blocks, stop and throw an error\n         //this might happen if a user uses an old wallet within a pruned node",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is only a dev comment, so no need to over-optimize. Will take specific suggestions if I need to touch this pull for other reasons, though.",
    "created_at": "2019-05-06T17:03:36Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281271143",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281271143"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281271143"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281271143/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4223,
    "side": "RIGHT",
    "in_reply_to_id": 281253401
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281277772",
    "pull_request_review_id": 234096556,
    "id": 281277772,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI3Nzc3Mg==",
    "diff_hunk": "@@ -4221,8 +4221,11 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         //We can't rescan beyond non-pruned blocks, stop and throw an error\n         //this might happen if a user uses an old wallet within a pruned node",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think \"no need to over-optimize\" is a helpful response. The grammar is wrong. Why not correct it?",
    "created_at": "2019-05-06T17:20:58Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281277772",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281277772"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281277772"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281277772/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4223,
    "side": "RIGHT",
    "in_reply_to_id": 281253401
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294785",
    "pull_request_review_id": 234118842,
    "id": 281294785,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI5NDc4NQ==",
    "diff_hunk": "@@ -157,8 +157,11 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         if (!request.params[2].isNull())",
    "path": "src/wallet/rpcdump.cpp",
    "position": 7,
    "original_position": 1,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done with a scripted diff",
    "created_at": "2019-05-06T18:07:26Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281294785",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294785"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281294785"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 157,
    "original_line": 157,
    "side": "RIGHT",
    "in_reply_to_id": 281252918
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294894",
    "pull_request_review_id": 234118998,
    "id": 281294894,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MTI5NDg5NA==",
    "diff_hunk": "@@ -4221,8 +4221,11 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(interfaces::Chain& chain,\n     {\n         //We can't rescan beyond non-pruned blocks, stop and throw an error\n         //this might happen if a user uses an old wallet within a pruned node",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added a dot and space if that is what you meant",
    "created_at": "2019-05-06T18:07:46Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281294894",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294894"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r281294894"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/281294894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4223,
    "side": "RIGHT",
    "in_reply_to_id": 281253401
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284334252",
    "pull_request_review_id": 237923331,
    "id": 284334252,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDMzNDI1Mg==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe `s/in pruned mode/when blocks are pruned/` for consistency with the other error messages.",
    "created_at": "2019-05-15T16:05:35Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284334252",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284334252"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284334252"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284334252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 589,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284359219",
    "pull_request_review_id": 237923331,
    "id": 284359219,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDM1OTIxOQ==",
    "diff_hunk": "@@ -39,23 +38,17 @@\n class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n-    def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Now there is no longer any test coverage for the \"rescan is disabled\" cases, but I'm not sure if there's an easy way to add it back. Maybe a `pruneblockchain` RPC call could be added.",
    "created_at": "2019-05-15T17:07:07Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284359219",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284359219"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284359219"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284359219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 44,
    "original_line": 44,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284376933",
    "pull_request_review_id": 237976934,
    "id": 284376933,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDM3NjkzMw==",
    "diff_hunk": "@@ -39,23 +38,17 @@\n class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n-    def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If a test was added, it should also (or more importantly) test `importmulti`, so I am not actually decreasing test coverage here.",
    "created_at": "2019-05-15T17:50:55Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284376933",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284376933"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284376933"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284376933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 44,
    "original_line": 44,
    "side": "LEFT",
    "in_reply_to_id": 284359219
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284377125",
    "pull_request_review_id": 237977177,
    "id": 284377125,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDM3NzEyNQ==",
    "diff_hunk": "@@ -39,23 +38,17 @@\n class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n-    def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I agree that a test would be nice for that case, but can be done in a follow up pull request.",
    "created_at": "2019-05-15T17:51:21Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284377125",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284377125"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284377125"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284377125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 44,
    "original_line": 44,
    "side": "LEFT",
    "in_reply_to_id": 284359219
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284381570",
    "pull_request_review_id": 237982628,
    "id": 284381570,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDM4MTU3MA==",
    "diff_hunk": "@@ -39,23 +38,17 @@\n class Variant(collections.namedtuple(\"Variant\", \"call data rescan prune\")):\n     \"\"\"Helper for importing one key and verifying scanned transactions.\"\"\"\n \n-    def try_rpc(self, func, *args, **kwargs):\n-        if self.expect_disabled:\n-            assert_raises_rpc_error(-4, \"Rescan is disabled in pruned mode\", func, *args, **kwargs)",
    "path": "test/functional/wallet_import_rescan.py",
    "position": 14,
    "original_position": 14,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> it should also (or more importantly) test importmulti\r\n\r\nIn case it helps, there is currently a unit test for importmulti behavior with pruning: https://github.com/bitcoin/bitcoin/blob/2d16fb7a2b6a9e5a2535295d2de03e27c2438d1f/src/wallet/test/wallet_tests.cpp#L158",
    "created_at": "2019-05-15T18:01:30Z",
    "updated_at": "2019-05-15T18:09:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284381570",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284381570"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284381570"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284381570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 44,
    "original_line": 44,
    "side": "LEFT",
    "in_reply_to_id": 284359219
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284385846",
    "pull_request_review_id": 237987865,
    "id": 284385846,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDM4NTg0Ng==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done (and added a release note)",
    "created_at": "2019-05-15T18:11:59Z",
    "updated_at": "2019-05-15T18:11:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284385846",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284385846"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284385846"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284385846/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 589,
    "side": "RIGHT",
    "in_reply_to_id": 284334252
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284713285",
    "pull_request_review_id": 238391319,
    "id": 284713285,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDcxMzI4NQ==",
    "diff_hunk": "@@ -314,8 +317,11 @@ UniValue importaddress(const JSONRPCRequest& request)\n     if (!request.params[2].isNull())\n         fRescan = request.params[2].get_bool();\n \n-    if (fRescan && pwallet->chain().getPruneMode()) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled in pruned mode\");\n+    if (fRescan && pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Rescan is disabled when blocks are pruned\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": 30,
    "original_position": 24,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa9f3cc89442e9b332a27b81b04201bb4a0caf28",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "faf3729242c5e9486e137e549f05bf20bd3908a0\r\n\r\nYeah, in a follow up is fine.",
    "created_at": "2019-05-16T13:44:38Z",
    "updated_at": "2019-05-16T13:58:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284713285",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284713285"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284713285"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284713285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 324,
    "original_line": 324,
    "side": "RIGHT",
    "in_reply_to_id": 281264587
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284717609",
    "pull_request_review_id": 238391319,
    "id": 284717609,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDcxNzYwOQ==",
    "diff_hunk": "@@ -573,8 +582,11 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n-        throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");\n+    if (pwallet->chain().havePruned()) {\n+        // Exit early and print an error.\n+        // If a block is pruned after this check, we will import the key(s),\n+        // but fail the rescan with a generic error.\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled when blocks are pruned\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": 58,
    "original_position": 58,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fa7e311e169349bfcf1dab8b980724e8ddf4e749\r\n\r\nThis should be in 1s commit.",
    "created_at": "2019-05-16T13:53:10Z",
    "updated_at": "2019-05-16T13:58:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284717609",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284717609"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284717609"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284717609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 589,
    "original_line": 589,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284718591",
    "pull_request_review_id": 238391319,
    "id": 284718591,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDcxODU5MQ==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": 54,
    "original_position": 47,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "faf3729242c5e9486e137e549f05bf20bd3908a0\r\n\r\nThe dump file contains timestamps so, correct me if I'm wrong, it could only throw this error if earliest is pruned - the same for `importmulti` if timestamps are given.\r\n\r\nEdit: especially when manual pruning.",
    "created_at": "2019-05-16T13:55:09Z",
    "updated_at": "2019-05-16T14:15:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284718591",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284718591"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284718591"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284718591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 585,
    "original_line": 585,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284747583",
    "pull_request_review_id": 238445964,
    "id": 284747583,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDc0NzU4Mw==",
    "diff_hunk": "@@ -325,7 +325,11 @@ class ChainImpl : public Chain\n     CFeeRate relayMinFee() override { return ::minRelayTxFee; }\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override\n+    {\n+        LOCK(cs_main);",
    "path": "src/interfaces/chain.cpp",
    "position": 13,
    "original_position": 13,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not suggesting you change this PR, but for future reference we now have a handy `WITH_LOCK` macro: https://github.com/bitcoin/bitcoin/blob/fd61b9fc22faaa946ca43211c6c43b40ca4a860c/src/sync.h#L209",
    "created_at": "2019-05-16T14:50:51Z",
    "updated_at": "2019-05-16T14:50:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284747583",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284747583"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284747583"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284747583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 330,
    "original_line": 330,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284762760",
    "pull_request_review_id": 238465628,
    "id": 284762760,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDc2Mjc2MA==",
    "diff_hunk": "@@ -573,7 +582,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n                 },\n             }.ToString());\n \n-    if (pwallet->chain().getPruneMode()) {\n+    if (pwallet->chain().havePruned()) {",
    "path": "src/wallet/rpcdump.cpp",
    "position": 54,
    "original_position": 47,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "faf3729242c5e9486e137e549f05bf20bd3908a0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sounds like a nice follow up pull request",
    "created_at": "2019-05-16T15:20:10Z",
    "updated_at": "2019-05-16T15:20:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284762760",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284762760"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284762760"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284762760/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 585,
    "original_line": 585,
    "side": "RIGHT",
    "in_reply_to_id": 284718591
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284763116",
    "pull_request_review_id": 238466080,
    "id": 284763116,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4NDc2MzExNg==",
    "diff_hunk": "@@ -325,7 +325,11 @@ class ChainImpl : public Chain\n     CFeeRate relayMinFee() override { return ::minRelayTxFee; }\n     CFeeRate relayIncrementalFee() override { return ::incrementalRelayFee; }\n     CFeeRate relayDustFee() override { return ::dustRelayFee; }\n-    bool getPruneMode() override { return ::fPruneMode; }\n+    bool havePruned() override\n+    {\n+        LOCK(cs_main);",
    "path": "src/interfaces/chain.cpp",
    "position": 13,
    "original_position": 13,
    "commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "original_commit_id": "fa7e311e169349bfcf1dab8b980724e8ddf4e749",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I fail to see how this makes the code any easier to read",
    "created_at": "2019-05-16T15:20:55Z",
    "updated_at": "2019-05-16T15:20:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284763116",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284763116"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15870#discussion_r284763116"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15870"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/284763116/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 330,
    "original_line": 330,
    "side": "RIGHT",
    "in_reply_to_id": 284747583
  }
]