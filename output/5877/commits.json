[
  {
    "sha": "317e66c741aef0fd272e50aa2e82ff192ca5f7e5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozMTdlNjZjNzQxYWVmMGZkMjcyZTUwYWEyZTgyZmYxOTJjYTVmN2U1",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-11T12:34:20Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-11T13:33:29Z"
      },
      "message": "Initialization: set Boost path locale in main thread\n\nThe path locale is lazy initialized and to avoid deinitialization errors\nin multithreading environments, it is set explicitly by the main thread.",
      "tree": {
        "sha": "ef18c402c1f411a54a3a0fec568da8e2844c2fd0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef18c402c1f411a54a3a0fec568da8e2844c2fd0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/317e66c741aef0fd272e50aa2e82ff192ca5f7e5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVAETMAAoJEHZ14xz1cZgyc9kP/3Yg5jCaD+0FXBTHL4jSHHV+\nVU6koPp5OdmoHuUGuAYlPPZbvkJGy0j60Om04VU3s7PvcrGL1xI2w136erdV9zLh\nMd0RhGyQlWhW8S0Dj8jeCBOA3oO1z4lKKFt+OHrUIQZ8URcVYtbIaWqJ3j+33Uri\ngZ5SH3hvxHbYAs7FfqaOZ9AYn/Vb7gjw+58GGKtksk/1cZ5bCwy+5UUJykvxEsL+\nX/bxZSmJDERa03GcH6tkzAQZ9WbiLmW1FtYYCKhJxlkNlJItljVAK467115CkHUZ\nDxfICORdBZI4UJxTd1x6hQEECwD9iA9kXfDO1fu4Tjnc5F/YhJK4Ijgx7sZFL/3K\nNhLHmU1WfYv/25E50XjkEntZxpeQRAwXynkSQA9cfZEPWhFPjmVSWDNOiZkTB4bs\n5gP8w7FA6cbRnroAYZdiVjO37B4k9fqumlp01TTkYxLy277HquONVjIEZ5gNMqQc\nFddD/GNsRpmSOmqcl7Kv0IrsyQLWa0XtI59Y7dgIvZTcZJj1trQ0GJdcWsGdYffE\n4e2sXLVMvxpALofKHhD0k4d0xTpxtPU3xYX9m9VLXroh1uMMOb5xXf7LFKdn/PmJ\n4pf7J5Rlgo/2wIxsjvfyTnBODNRrVYxBvOLeAZ9nPaZJd9hk2ek3ICF13u3SDBjx\nsr0rS4L+k9Mz2jHhyCVj\n=5A2c\n-----END PGP SIGNATURE-----",
        "payload": "tree ef18c402c1f411a54a3a0fec568da8e2844c2fd0\nparent d734d87b28ccbf2a4a4eb19a28285b5dea782105\nauthor dexX7 <dexx@bitwatch.co> 1426077260 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1426080809 +0100\n\nInitialization: set Boost path locale in main thread\n\nThe path locale is lazy initialized and to avoid deinitialization errors\nin multithreading environments, it is set explicitly by the main thread.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/317e66c741aef0fd272e50aa2e82ff192ca5f7e5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/317e66c741aef0fd272e50aa2e82ff192ca5f7e5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/317e66c741aef0fd272e50aa2e82ff192ca5f7e5/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d734d87b28ccbf2a4a4eb19a28285b5dea782105",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d734d87b28ccbf2a4a4eb19a28285b5dea782105",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d734d87b28ccbf2a4a4eb19a28285b5dea782105"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 9,
      "deletions": 9
    },
    "files": [
      {
        "sha": "4192e44ae1b240f5c154c9450cea00df952e152f",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 9,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/317e66c741aef0fd272e50aa2e82ff192ca5f7e5/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/317e66c741aef0fd272e50aa2e82ff192ca5f7e5/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=317e66c741aef0fd272e50aa2e82ff192ca5f7e5",
        "patch": "@@ -723,18 +723,18 @@ void RenameThread(const char* name)\n \n void SetupEnvironment()\n {\n-#ifndef WIN32\n-    try\n-    {\n-#if BOOST_FILESYSTEM_VERSION == 3\n-            boost::filesystem::path::codecvt(); // Raises runtime error if current locale is invalid\n-#else // boost filesystem v2\n-            std::locale();                      // Raises runtime error if current locale is invalid\n-#endif\n+    // On most POSIX systems (e.g. Linux, but not BSD) the environment's locale\n+    // may be invalid, in which case the \"C\" locale is used as fallback.\n+#if !defined(WIN32) && !defined(MAC_OSX) && !defined(__FreeBSD__) && !defined(__OpenBSD__)\n+    try {\n+        std::locale(\"\"); // Raises a runtime error if current locale is invalid\n     } catch (const std::runtime_error&) {\n-        setenv(\"LC_ALL\", \"C\", 1); // Force C locale\n+        std::locale::global(std::locale(\"C\"));\n     }\n #endif\n+    // The path locale is lazy initialized and to avoid deinitialization errors \n+    // in multithreading environments, it is set explicitly by the main thread.\n+    boost::filesystem::path::imbue(std::locale());    \n }\n \n void SetThreadPriority(int nPriority)"
      }
    ]
  }
]