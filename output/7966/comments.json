[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216866129",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#issuecomment-216866129",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7966",
    "id": 216866129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNjg2NjEyOQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-04T13:33:04Z",
    "updated_at": "2016-05-04T13:33:04Z",
    "author_association": "MEMBER",
    "body": "Decided to forget about using std::move to move items conditionally into the queue, the resulting code was too complex, the old code is cleaner.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/216866129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217081021",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#issuecomment-217081021",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7966",
    "id": 217081021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzA4MTAyMQ==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T05:49:16Z",
    "updated_at": "2016-05-05T05:49:16Z",
    "author_association": "MEMBER",
    "body": "ut ACK, other than the little nit\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217081021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217124744",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#issuecomment-217124744",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7966",
    "id": 217124744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzEyNDc0NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-05T10:56:55Z",
    "updated_at": "2016-05-05T10:56:55Z",
    "author_association": "MEMBER",
    "body": "Fixed @theuni's nit, thanks\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217124744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61467339",
    "pull_request_review_id": null,
    "id": 61467339,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDY3MzM5",
    "diff_hunk": "@@ -71,8 +71,7 @@ class WorkQueue\n     /** Mutex protects entire object */\n     CWaitableCriticalSection cs;\n     CConditionVariable cond;\n-    /* XXX in C++11 we can use std::unique_ptr here and avoid manual cleanup */\n-    std::deque<WorkItem*> queue;\n+    std::deque<std::unique_ptr<WorkItem> > queue;",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "c0c7d8b7d747e8adc8b1bfaa2a8d1b4d6d4e52c8",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Also, in C++11, you no longer need to avoid the '>>' in `Template1<Template2<Template3>>`.\n",
    "created_at": "2016-04-28T17:22:08Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61467339",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61467339"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61467339"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61467339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61468317",
    "pull_request_review_id": null,
    "id": 61468317,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDY4MzE3",
    "diff_hunk": "@@ -71,8 +71,7 @@ class WorkQueue\n     /** Mutex protects entire object */\n     CWaitableCriticalSection cs;\n     CConditionVariable cond;\n-    /* XXX in C++11 we can use std::unique_ptr here and avoid manual cleanup */\n-    std::deque<WorkItem*> queue;\n+    std::deque<std::unique_ptr<WorkItem> > queue;",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "c0c7d8b7d747e8adc8b1bfaa2a8d1b4d6d4e52c8",
    "user": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was just about to ask why the space is there...\n",
    "created_at": "2016-04-28T17:28:11Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61468317",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61468317"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61468317"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61468317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61486514",
    "pull_request_review_id": null,
    "id": 61486514,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDg2NTE0",
    "diff_hunk": "@@ -71,8 +71,7 @@ class WorkQueue\n     /** Mutex protects entire object */\n     CWaitableCriticalSection cs;\n     CConditionVariable cond;\n-    /* XXX in C++11 we can use std::unique_ptr here and avoid manual cleanup */\n-    std::deque<WorkItem*> queue;\n+    std::deque<std::unique_ptr<WorkItem> > queue;",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "c0c7d8b7d747e8adc8b1bfaa2a8d1b4d6d4e52c8",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@paveljanik because `>>` is an operator. But yes with c++11 this is apparently parsed differently so will remove the space.\n",
    "created_at": "2016-04-28T19:15:46Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61486514",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61486514"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61486514"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61486514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61494617",
    "pull_request_review_id": null,
    "id": 61494617,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNDk0NjE3",
    "diff_hunk": "@@ -106,19 +105,15 @@ class WorkQueue\n      */\n     ~WorkQueue()",
    "path": "src/httpserver.cpp",
    "position": 46,
    "original_position": 12,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "paveljanik",
      "id": 6848764,
      "node_id": "MDQ6VXNlcjY4NDg3NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6848764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paveljanik",
      "html_url": "https://github.com/paveljanik",
      "followers_url": "https://api.github.com/users/paveljanik/followers",
      "following_url": "https://api.github.com/users/paveljanik/following{/other_user}",
      "gists_url": "https://api.github.com/users/paveljanik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paveljanik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paveljanik/subscriptions",
      "organizations_url": "https://api.github.com/users/paveljanik/orgs",
      "repos_url": "https://api.github.com/users/paveljanik/repos",
      "events_url": "https://api.github.com/users/paveljanik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paveljanik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Do we need an empty destructor?\n",
    "created_at": "2016-04-28T20:12:13Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61494617",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61494617"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61494617"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61494617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 106,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504551",
    "pull_request_review_id": null,
    "id": 61504551,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTA0NTUx",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`item` has been given to the queue here\n",
    "created_at": "2016-04-28T21:20:50Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61504551",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504551"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61504551"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504588",
    "pull_request_review_id": null,
    "id": 61504588,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNTA0NTg4",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "use after move here\n",
    "created_at": "2016-04-28T21:21:09Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61504588",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504588"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61504588"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61504588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726526",
    "pull_request_review_id": null,
    "id": 61726526,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI2NTI2",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@kazcw @theuni Bah, good catch. I suppose there's no such thing as a conditional move?\nMaybe it could return the unique_pointer (\"move back\") if it couldn't be pushed into the queue?\nThe other option would be to move the error message into the queue but that'd not be very nice.\n",
    "created_at": "2016-05-02T11:06:23Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61726526",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726526"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61726526"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726770",
    "pull_request_review_id": null,
    "id": 61726770,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzI2Nzcw",
    "diff_hunk": "@@ -106,19 +105,15 @@ class WorkQueue\n      */\n     ~WorkQueue()",
    "path": "src/httpserver.cpp",
    "position": 46,
    "original_position": 12,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'll remove it.\n",
    "created_at": "2016-05-02T11:10:48Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61726770",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726770"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61726770"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61726770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 106,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61756912",
    "pull_request_review_id": null,
    "id": 61756912,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzU2OTEy",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The actual moving happens in `unique_ptr`'s ctor. The function just needs to accept a `unique_ptr&&`, then it can freely move that into a new `unique_ptr` or not.\n",
    "created_at": "2016-05-02T15:44:47Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61756912",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61756912"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r61756912"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/61756912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015537",
    "pull_request_review_id": null,
    "id": 62015537,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDE1NTM3",
    "diff_hunk": "@@ -106,19 +105,15 @@ class WorkQueue\n      */\n     ~WorkQueue()",
    "path": "src/httpserver.cpp",
    "position": 46,
    "original_position": 12,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "On second thought, I'm going to keep it, the precondition comment is still relevant.\n",
    "created_at": "2016-05-04T09:59:01Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62015537",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015537"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62015537"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 106,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015847",
    "pull_request_review_id": null,
    "id": 62015847,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDE1ODQ3",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@kazcw I've updated to do that. Can you please re-review to see if this was what you meant?\n",
    "created_at": "2016-05-04T10:01:37Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62015847",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015847"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62015847"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62015847/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62031320",
    "pull_request_review_id": null,
    "id": 62031320,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDMxMzIw",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It doesn't seem to work. I've tested with a (hacked) work-queue size of 0, and the connection is closed before the error message can be sent.\n",
    "created_at": "2016-05-04T12:41:35Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62031320",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62031320"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62031320"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62031320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62033874",
    "pull_request_review_id": null,
    "id": 62033874,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDMzODc0",
    "diff_hunk": "@@ -288,11 +282,9 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n \n     // Dispatch to worker thread\n     if (i != iend) {\n-        std::auto_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n+        std::unique_ptr<HTTPWorkItem> item(new HTTPWorkItem(hreq.release(), path, i->handler));\n         assert(workQueue);\n-        if (workQueue->Enqueue(item.get()))\n-            item.release(); /* if true, queue took ownership */\n-        else\n+        if (!workQueue->Enqueue(std::move(item)))\n             item->req->WriteReply(HTTP_INTERNAL, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 73,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "3fc99f4d9b3d23112b46e38f2586a80e766bcc30",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Leaving out the std::move in the `->Enqueue` line gives a compile error about pointer conversions:\n\n```\n/home/orion/projects/bitcoin/bitcoin/src/httpserver.cpp:289:33: error: no viable conversion from 'unique_ptr<HTTPWorkItem>' to 'unique_ptr<HTTPClosure>'\n        if (!workQueue->Enqueue(item))\n```\n\nBleh.\n",
    "created_at": "2016-05-04T13:01:08Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62033874",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62033874"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62033874"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62033874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 290,
    "original_line": 288,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62150648",
    "pull_request_review_id": null,
    "id": 62150648,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMTUwNjQ4",
    "diff_hunk": "@@ -118,7 +112,7 @@ class WorkQueue\n         if (queue.size() >= maxDepth) {\n             return false;\n         }\n-        queue.push_back(item);\n+        queue.push_back(std::unique_ptr<WorkItem>(item));",
    "path": "src/httpserver.cpp",
    "position": null,
    "original_position": 60,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "867bc6d38227a4adc1ffe5faf0c05b1647398c6a",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `queue.emplace_back(item);`\n",
    "created_at": "2016-05-05T05:49:01Z",
    "updated_at": "2016-05-05T06:28:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62150648",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62150648"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62150648"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62150648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 115,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62208255",
    "pull_request_review_id": null,
    "id": 62208255,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjA4MjU1",
    "diff_hunk": "@@ -118,7 +112,7 @@ class WorkQueue\n         if (queue.size() >= maxDepth) {\n             return false;\n         }\n-        queue.push_back(item);\n+        queue.emplace_back(std::unique_ptr<WorkItem>(item));",
    "path": "src/httpserver.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Creating the unique_ptr here defeats the purpose of the emplace :)\nPassing it item directly would mean that the unique_ptr would be constructed in-place. As is, it's moved instead.\n\nNot worth worrying about, just pointing it out.\n",
    "created_at": "2016-05-05T15:57:45Z",
    "updated_at": "2016-05-05T15:57:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62208255",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62208255"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62208255"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62208255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 115,
    "original_line": 115,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62217806",
    "pull_request_review_id": null,
    "id": 62217806,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjE3ODA2",
    "diff_hunk": "@@ -118,7 +112,7 @@ class WorkQueue\n         if (queue.size() >= maxDepth) {\n             return false;\n         }\n-        queue.push_back(item);\n+        queue.emplace_back(std::unique_ptr<WorkItem>(item));",
    "path": "src/httpserver.cpp",
    "position": 60,
    "original_position": 60,
    "commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "original_commit_id": "f0188f9178a22fd493ed228c008d4cc25ac2952d",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes by all means feel free to improve this further.\n",
    "created_at": "2016-05-05T17:02:14Z",
    "updated_at": "2016-05-05T17:02:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62217806",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62217806"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7966#discussion_r62217806"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7966"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62217806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 115,
    "original_line": 115,
    "side": "RIGHT"
  }
]