laanwj,2020-07-22 15:46:08,"Code review ACK ef3d4ce4c301caa57946f772f554678cd872fca8\nIf we use this tool for the build then it should be found this way (also to have early error when it is missing).",https://github.com/bitcoin/bitcoin/pull/19565#issuecomment-662530256,662530256,
theuni,2020-07-22 16:16:46,"Nice find. Though I don't understand the interaction with lto or #19530 ?\n\nBecause I'm not sure what's calling it, I'm not sure if we should be concerned about others missing as well.\n\nFrom my libtool:\n```\n# Tool to manipulate archived DWARF debug symbol files on Mac OS X.\nDSYMUTIL=""x86_64-apple-darwin16-dsymutil""\n\n# Tool to change global to local symbols on Mac OS X.\nNMEDIT=""x",https://github.com/bitcoin/bitcoin/pull/19565#issuecomment-662547508,662547508,
fanquake,2020-07-23 14:28:13,"> Nice find. Though I don't understand the interaction with lto or #19530 ?\n\nThe interaction is that at least when building a dylib, and using LTO, LLVM adds some actions to the compiler runtime which invoke `dsymutil`. You can test this by building #19530 + [your patch](https://github.com/bitcoin/bitcoin/pull/19530#issuecomment-660166898) and doing a libconsensus build (I've trimmed some othe",https://github.com/bitcoin/bitcoin/pull/19565#issuecomment-663039202,663039202,
theuni,2020-07-23 16:08:47,"This is some good digging! I think this change looks good, but I'd like to understand fully as I think we may want to upstream some clang/libtool fixes here.\n\n> With this patch, `dsymutil` is found, but unless you're building for debugging it's not really interesting, so I also tried that.\n\nI don't understand how this patch actually helps `dsymutil` to be found, though, if it's invoked int",https://github.com/bitcoin/bitcoin/pull/19565#issuecomment-663094753,663094753,
theuni,2020-07-23 20:27:08,"Ok, managed to find it in my local libtool. Not sure how I missed it last time I grepped:\n```\n# Commands used to build a shared archive.\narchive_cmds=""\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring \$single_module~\$DSYMUTIL \$lib || :""\n```\n\nSo, yes, this is coming from libtool and not from clang (though ",https://github.com/bitcoin/bitcoin/pull/19565#issuecomment-663215597,663215597,
