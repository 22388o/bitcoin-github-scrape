jonasschnelli,2017-04-28T22:28:36Z,"Yes. They belong to CWallet rather then WalletModel. The coincontrol's `ListCoins` function can potentially be useful for non GUI features. My only nit is if we should rename `ListCoins` to something more meaningful.\n\nConcept ACK.",https://github.com/bitcoin/bitcoin/pull/10295#issuecomment-298121014,298121014,
ryanofsky,2017-05-17T15:34:04Z,Rebased a226c97c336c44b4b8320328debea69e576f0fa8 -> 108f04f2d973adac5313c7e4e17a59766a3cc1b6 ([pr/ipc-move.7](https://github.com/ryanofsky/bitcoin/commits/pr/ipc-move.7) -> [pr/ipc-move.8](https://github.com/ryanofsky/bitcoin/commits/pr/ipc-move.8)) because of conflict with #8952.,https://github.com/bitcoin/bitcoin/pull/10295#issuecomment-302128990,302128990,
laanwj,2017-05-23T17:29:45Z,utACK 108f04f,https://github.com/bitcoin/bitcoin/pull/10295#issuecomment-303474383,303474383,
TheBlueMatt,2017-05-03T21:22:47Z,nit: might be nice to LOCK here.,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114657164,114657164,src/wallet/wallet.cpp
TheBlueMatt,2017-05-04T17:02:57Z,Why did you change to false for safe here...looks like the old code did true? Does that have any effect?,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114834388,114834388,src/wallet/wallet.cpp
TheBlueMatt,2017-05-04T17:03:55Z,"We dont need vCoins anymore either, no?",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114834609,114834609,src/qt/walletmodel.cpp
jonasschnelli,2017-05-04T18:18:35Z,"Not sure if a lock is required at this point. Do you want to protect `const CCoinControl* coinControl`?\n`AvailableCoins()` does protect via `cs_main`/`cs_wallet`.",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114851983,114851983,src/wallet/wallet.cpp
TheBlueMatt,2017-05-04T20:26:39Z,"We have pointers in the COutput to entires in mapWallet, which can (theoretically) be delted out from under us thanks to the zap rpc.",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114879082,114879082,src/wallet/wallet.cpp
ryanofsky,2017-05-04T20:44:46Z,Removed in f8bfecf09037f3c49594ddc1ccadb9f98a354a84.,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114883038,114883038,src/qt/walletmodel.cpp
ryanofsky,2017-05-04T20:44:54Z,Added in 14c1174c9aadb446c9a9e16626611f476610f4ba,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114883070,114883070,src/wallet/wallet.cpp
ryanofsky,2017-05-04T20:44:59Z,"> Why did you change to false for safe here...looks like the old code did true? Does that have any effect?\n\nIt has no effect (I'm not even exposing it to Qt any more after 7a7795fdd5fe86b9918b8055666b8365e4342eb6 in #10244) and false seemed like a more correct value.",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r114883089,114883089,src/wallet/wallet.cpp
TheBlueMatt,2017-05-05T15:16:58Z,Were you planning on re-enabling this?,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115021309,115021309,src/qt/test/wallettests.cpp
ryanofsky,2017-05-05T15:47:06Z,"Wow, good catch. Fixed in 01f847bf2b0ea395f8533e4d52c9422807af0566. This was just an accident, I didn't mean to disable it at all.",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115028743,115028743,src/qt/test/wallettests.cpp
TheBlueMatt,2017-05-05T17:18:38Z,nit: maybe push this lock down into GetDestValues?,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115046545,115046545,src/qt/walletmodel.cpp
TheBlueMatt,2017-05-05T17:19:05Z,nit: might be nice to AssertLockHeld here (because you cant call this without cs_wallet due to the COutput returns).,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115046666,115046666,src/wallet/wallet.cpp
ryanofsky,2017-05-09T14:57:49Z,Done in e60a3110c12a47fdcf7fb488b17ae145058c020e,https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115511946,115511946,src/qt/walletmodel.cpp
ryanofsky,2017-05-09T15:02:26Z,"Not currently possible to just add the assert because Qt doesn't acquire the lock, but I added a todo in fe8c036cb87c62bee653fe581544c714ce8808d2",https://github.com/bitcoin/bitcoin/pull/10295#discussion_r115513223,115513223,src/wallet/wallet.cpp
