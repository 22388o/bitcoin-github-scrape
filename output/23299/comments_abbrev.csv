practicalswift,2021-10-18 09:49:36,"What environment/configuration is this? Interesting that we haven't encountered this earlier :)\n\nI guess one reason we haven't seen this one earlier is that the library function `gettimeofday` can be implemented using the syscall `clock_gettime` (instead of the actual `gettimeofday` syscall).\n",https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-945596785,945596785,
laanwj,2021-10-18 12:28:22,"Code review ACK fa4ae9d0de7b99bae934bb4ae7ce6739d050fe6f\nSome context: normally the DSO (kernel shared object) takes care of `gettimeofday`. This is much faster as the time is in a shared mapped page. However, if this isn't available for some reason, libc take the slow path by calling the actual system call.",https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-945714696,945714696,
practicalswift,2021-10-18 12:48:04,"More context:\n\n```\n       Why does the vDSO exist at all?  There are some system calls the\n       kernel provides that user-space code ends up using frequently, to\n       the point that such calls can dominate overall performance.  This\n       is due both to the frequency of the call as well as the context-\n       switch overhead that results from exiting user space and entering\n  ",https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-945728623,945728623,
practicalswift,2021-10-19 08:54:18,"Concept ACK (obviously)\n\nAnd cr ACK once the removal of the duplicate `LINUX_SYSCALLS` is done :)",https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-946502125,946502125,
MarcoFalke,2021-10-19 10:22:44,"> What environment/configuration is this? Interesting that we haven't encountered this earlier :)\n\nIt might be required to change the timezone or so?",https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-946585580,946585580,
practicalswift,2021-10-19 11:58:16,cr ACK faf13e272cad44917c4e5516172617fe8d68c00a,https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-946649258,946649258,
DrahtBot,2021-10-21 02:37:01,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 2d2516196bd2d9d9a60117df72518620151214f4<br>(master) | commit dc468a644755818200105bc247da418504f5bb35<br>(master and this pull) |\n|--|--|--|\n| SHA256SUMS.part | [`b862268575c288ac...`](https://drahtbot.space/guix/bitcoin/bitcoin/2d2516196bd2d9d9a60117df72518620151214f4/SHA256SUMS.part) | [`3a98ba603aeb51b0...`](https://,https://github.com/bitcoin/bitcoin/pull/23299#issuecomment-948201671,948201671,
practicalswift,2021-10-18 09:54:12,Note that `__NR_gettimeofday` is already included in `LINUX_SYSCALLS` below (after `gettid`).,https://github.com/bitcoin/bitcoin/pull/23299#discussion_r730758776,730758776,src/util/syscall_sandbox.cpp
MarcoFalke,2021-10-18 10:11:12,Should this list be sorted?,https://github.com/bitcoin/bitcoin/pull/23299#discussion_r730772023,730772023,src/util/syscall_sandbox.cpp
practicalswift,2021-10-18 10:44:42,"Yes, absolutely :)",https://github.com/bitcoin/bitcoin/pull/23299#discussion_r730795704,730795704,src/util/syscall_sandbox.cpp
MarcoFalke,2021-10-19 10:25:31,"Thanks, sorted.",https://github.com/bitcoin/bitcoin/pull/23299#discussion_r731719326,731719326,src/util/syscall_sandbox.cpp
