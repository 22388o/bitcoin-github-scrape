ryanofsky,2017-08-04T19:11:54Z,"The check was written this way so explicitly specifying a wallet is required if more than one is loaded. So if, for example, you are writing a script that runs a series of RPCs, and you accidentally forget the wallet option  in one of the calls, you get an error message instead of performing an operation or getting data returned from the wrong wallet.\n\nIf only one wallet is loaded, providing a",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320330799,320330799,
jonasschnelli,2017-08-04T19:12:48Z,"Didn't we agree that when running Core with multiple wallets one needs to specify the wallet (instead of default using the first one)? IMO we did agree on that.\n\nPR seems NACKish.",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320330961,320330961,
sipa,2017-08-04T19:14:56Z,"Yes, this is intentional and changing it looks like a footgun. NACK",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320331402,320331402,
ryanofsky,2017-08-04T19:21:55Z,"Maybe if https://github.com/bitcoin/bitcoin/pull/10615 is updated, and there's a way to specify default wallets or restricted wallets per user, that could avoid the need to explicitly specify the wallet on the client side when multiple wallets are loaded on the server side.",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320332692,320332692,
luke-jr,2017-08-04T20:00:10Z,"@jonasschnelli No, I don't recall agreeing to that. It breaks compatibility with existing software (and also means there is literally no future-supported method to access your wallet when multiple wallets are loaded).\n\nThe primary target with multiwallet in this release is to support having other wallets loaded in the background, so they're kept up to date with a pruning node. That is broken b",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320340148,320340148,
jonasschnelli,2017-08-04T20:08:50Z,"> @jonasschnelli No, I don't recall agreeing to that. It breaks compatibility with existing software (and also means there is literally no future-supported method to access your wallet when multiple wallets are loaded).\n\nWhy? 0.15 is the first release of Core with multiwallet. No versions before could run multiple wallets.\n\n\n> The primary target with multiwallet in this release is to sup",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320341914,320341914,
ryanofsky,2017-08-04T20:57:27Z,"Right now, if you are using bitcoin-cli you can specify `rpcwallet=wallet.dat` in your config file, and you won't have to specify any wallet on the command line. If you are using another RPC client you can send requests to `/wallet/wallet.dat` instead of `/`, which might require some work if you have preexisting code, but at least you shouldn't have to change the content of the requests.\n\nFor ",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320351518,320351518,
promag,2017-08-04T21:39:19Z,"Unless a new option is added to allow backward compatibility? For instance, `-defaultwallet=...`?\n\nEdit: ops @ryanofsky, you said the same above :)",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320359100,320359100,
jnewbery,2017-08-04T21:59:25Z,"NACK for the reasons other people have already mentioned:\n\n- multiwallet is a new feature so backwards-compatibility is not an issue\n- having an implicit default wallet in multiwallet is a footgun. Perhaps a future change could add an explicit default wallet as @ryanofsky suggests.",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320362461,320362461,
luke-jr,2017-08-04T22:12:02Z,That multiwallet is a new feature doesn't make backward compatibility a non-issue. Just because someone enables new feature XYZ doesn't mean existing features should suddenly break completely.,https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320364392,320364392,
sipa,2017-08-04T22:18:57Z,"No existing functionality is broken. As long as you only have a single wallet, everything keeps working as it was. Once you use multiple wallets - something that didn't exist before - some things stop working because of safety reasons.\n\nPlease stop arguing that this is about backward compatibility, it isn't. There are several ideas about how to accomplish your goal (having wallets loaded in the ",https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-320365477,320365477,
jonasschnelli,2017-08-15T19:27:12Z,Closing due to the NACK & comments above.,https://github.com/bitcoin/bitcoin/pull/10989#issuecomment-322564173,322564173,
