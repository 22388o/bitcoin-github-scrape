[
  {
    "sha": "fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWIyYjUwODNhMWI2M2FiODMxYzE1Y2FjOWNiM2Y5ZTRlNTdmZTY5",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-07-31T16:53:46Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-07-31T16:53:55Z"
      },
      "message": "qa: Re-enable test for unknown arg in conf file",
      "tree": {
        "sha": "ac23349fcf8cf08f3920661c37cce80ee56f95c9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac23349fcf8cf08f3920661c37cce80ee56f95c9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbYJQjAAoJEM4rdWl+aaVIQ/IMAKDaIhz7yxqtZqVKSSzSoWZl\nzzWK7G2Aw/VDXLRM/ASM4Ha9bqgXXgNCpwah4WtOIiupp1OlhQVvp1d7oR9zZVVh\nbezEG1SOpMEJ0N4WdTi+OYyPvbm2zQpFZZyQW3qxP34cKEvsPF/iizxCGmZenHWS\nMk4YhQUgRxT9Vy567VzIgV0lLYe4ZI5AYZ3WFgUULHPiLFdloSugSQq/F/B2rvht\nqYoMgcUUXLM1T/YD/LdtyrHVath4JoMAM3fuzApTyKiaLStKQYfJNk/mRg4fThNS\nAn3jp/pvoU8gCELdr2Xnob9tNqaOftZRFF7fmhGxD4Lyl6FI/b7xxE5ouFQiIQ5y\n1A6XErcuClUsqh2d89HhD1WWfPaZAciZuA0x38fzr+bpY5EcOKVLvTK22h7IfQlS\n+AC1uOFI3Qdq12rcK7I1sk2UHpLjRDPwKkfkr/oH+iyAsxmpYDUchtqlafJtYA6K\nC4916hN3XRnlQOhm36NrL4U4YW9Yr/nwd2wskhQQbw==\n=VQFC\n-----END PGP SIGNATURE-----",
        "payload": "tree ac23349fcf8cf08f3920661c37cce80ee56f95c9\nparent 230652cafc51a087b25a5e6fbc0114e63b3be0aa\nauthor MarcoFalke <falke.marco@gmail.com> 1533056026 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1533056035 -0400\n\nqa: Re-enable test for unknown arg in conf file\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "230652cafc51a087b25a5e6fbc0114e63b3be0aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/230652cafc51a087b25a5e6fbc0114e63b3be0aa",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/230652cafc51a087b25a5e6fbc0114e63b3be0aa"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 7,
      "deletions": 7
    },
    "files": [
      {
        "sha": "5c8a8d18e8fe7982c36b07687796752783f060cd",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
        "patch": "@@ -126,7 +126,7 @@ static int AppInitRPC(int argc, char* argv[])\n         fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n         return EXIT_FAILURE;\n     }\n-    if (!gArgs.ReadConfigFiles(error, true)) {\n+    if (!gArgs.ReadConfigFiles(error, /* ignore_invalid_keys */ true)) {\n         fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n         return EXIT_FAILURE;\n     }"
      },
      {
        "sha": "f8ab695dce2224cf5c1420b97319d4becc08fcd7",
        "filename": "src/bitcoind.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/bitcoind.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/bitcoind.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoind.cpp?ref=fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
        "patch": "@@ -96,7 +96,7 @@ static bool AppInit(int argc, char* argv[])\n             fprintf(stderr, \"Error: Specified data directory \\\"%s\\\" does not exist.\\n\", gArgs.GetArg(\"-datadir\", \"\").c_str());\n             return false;\n         }\n-        if (!gArgs.ReadConfigFiles(error, true)) {\n+        if (!gArgs.ReadConfigFiles(error, /* ignore_invalid_keys */ true)) {\n             fprintf(stderr, \"Error reading configuration file: %s\\n\", error.c_str());\n             return false;\n         }"
      },
      {
        "sha": "65da59a3946a64f5c4aa6ed77b8735731476d6cd",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
        "patch": "@@ -864,7 +864,7 @@ bool ArgsManager::ReadConfigStream(std::istream& stream, std::string& error, boo\n                 error = strprintf(\"Invalid configuration value %s\", option.first.c_str());\n                 return false;\n             } else {\n-                LogPrintf(\"Ignoring unknown configuration value %s\\n\", option.first);\n+                fprintf(stderr, \"Ignoring unknown configuration value %s\\n\", option.first.c_str());\n             }\n         }\n     }"
      },
      {
        "sha": "0fad4ae88c47c3106509a349a93c8599c6ef3666",
        "filename": "test/functional/feature_includeconf.py",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/test/functional/feature_includeconf.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69/test/functional/feature_includeconf.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_includeconf.py?ref=fab2b5083a1b63ab831c15cac9cb3f9e4e57fe69",
        "patch": "@@ -56,10 +56,10 @@ def run_test(self):\n \n         self.log.info(\"-includeconf cannot contain invalid arg\")\n \n-        # Commented out as long as we ignore invalid arguments in configuration files\n-        #with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"w\", encoding=\"utf8\") as f:\n-        #    f.write(\"foo=bar\\n\")\n-        #self.nodes[0].assert_start_raises_init_error(expected_msg=\"Error reading configuration file: Invalid configuration value foo\")\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"w\", encoding=\"utf8\") as f:\n+            f.write(\"foo=bar\\n\")\n+        self.start_node(0)\n+        self.stop_node(0, expected_stderr=\"Ignoring unknown configuration value foo\")\n \n         self.log.info(\"-includeconf cannot be invalid path\")\n         os.remove(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"))"
      }
    ]
  }
]