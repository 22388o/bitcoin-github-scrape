[
  {
    "sha": "8752b5c882fb94f223b117153bdac024f1dfb25f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NzUyYjVjODgyZmI5NGYyMjNiMTE3MTUzYmRhYzAyNGYxZGZiMjVm",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2015-02-17T21:15:01Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2015-03-19T04:14:28Z"
      },
      "message": "0.10 fix for crashes on OSX 10.6\n\nstrnlen is available at build-time but not at runtime, causing a crash.\n\n0.11 drops support for 10.6, so this is not needed in master.",
      "tree": {
        "sha": "d0f8f271c69c9ff66ad9a4f37b48f4abd8024a48",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d0f8f271c69c9ff66ad9a4f37b48f4abd8024a48"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8752b5c882fb94f223b117153bdac024f1dfb25f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8752b5c882fb94f223b117153bdac024f1dfb25f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8752b5c882fb94f223b117153bdac024f1dfb25f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8752b5c882fb94f223b117153bdac024f1dfb25f/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "601327be8ca971895bef8f3e5cdde86ca220e8d6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/601327be8ca971895bef8f3e5cdde86ca220e8d6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/601327be8ca971895bef8f3e5cdde86ca220e8d6"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 5,
      "deletions": 8
    },
    "files": [
      {
        "sha": "477dd2bfebd7f69fe2c8774b83d1bac3d40c6506",
        "filename": "src/compat.h",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8752b5c882fb94f223b117153bdac024f1dfb25f/src/compat.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8752b5c882fb94f223b117153bdac024f1dfb25f/src/compat.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/compat.h?ref=8752b5c882fb94f223b117153bdac024f1dfb25f",
        "patch": "@@ -88,8 +88,6 @@ typedef u_int SOCKET;\n #define THREAD_PRIORITY_ABOVE_NORMAL    (-2)\n #endif\n \n-#if HAVE_DECL_STRNLEN == 0\n-size_t strnlen( const char *start, size_t max_len);\n-#endif // HAVE_DECL_STRNLEN\n+size_t strnlen_int( const char *start, size_t max_len);\n \n #endif // BITCOIN_COMPAT_H"
      },
      {
        "sha": "7dafd98c0b563db9e96f36551c4749a1341775e8",
        "filename": "src/compat/strnlen.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8752b5c882fb94f223b117153bdac024f1dfb25f/src/compat/strnlen.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8752b5c882fb94f223b117153bdac024f1dfb25f/src/compat/strnlen.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/compat/strnlen.cpp?ref=8752b5c882fb94f223b117153bdac024f1dfb25f",
        "patch": "@@ -7,12 +7,11 @@\n #endif\n \n #include <cstring>\n-\n-#if HAVE_DECL_STRNLEN == 0\n-size_t strnlen( const char *start, size_t max_len)\n+// OSX 10.6 is missing strnlen at runtime, but builds targetting it will still\n+// succeed. Define our own version here to avoid a crash.\n+size_t strnlen_int( const char *start, size_t max_len)\n {\n     const char *end = (const char *)memchr(start, '\\0', max_len);\n \n     return end ? (size_t)(end - start) : max_len;\n }\n-#endif // HAVE_DECL_STRNLEN"
      },
      {
        "sha": "f03d6e75897cdc29ea17134060897a30a35cbf69",
        "filename": "src/protocol.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8752b5c882fb94f223b117153bdac024f1dfb25f/src/protocol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8752b5c882fb94f223b117153bdac024f1dfb25f/src/protocol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.cpp?ref=8752b5c882fb94f223b117153bdac024f1dfb25f",
        "patch": "@@ -40,7 +40,7 @@ CMessageHeader::CMessageHeader(const char* pszCommand, unsigned int nMessageSize\n \n std::string CMessageHeader::GetCommand() const\n {\n-    return std::string(pchCommand, pchCommand + strnlen(pchCommand, COMMAND_SIZE));\n+    return std::string(pchCommand, pchCommand + strnlen_int(pchCommand, COMMAND_SIZE));\n }\n \n bool CMessageHeader::IsValid() const"
      }
    ]
  }
]