MarcoFalke,2018-05-05T14:16:39Z,Thanks! Concept ACK.,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-386808788,386808788,
laanwj,2018-05-07T12:56:54Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-387055861,387055861,
luke-jr,2018-05-31T01:35:17Z,"Need to be sure bionic images can be made for LXC, VirtualBox, and KVM. Last I checked there was an issue doing it for KVM :/",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-393373481,393373481,
ken2812221,2018-05-31T03:05:48Z,"It seems there is no more updates for python-vm-builder. @achow101 introduced a way to do gitian-build with docker, so I thought we could drop the KVM way if we couldn't find any patch to build KVM image. See #13368",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-393387056,393387056,
MarcoFalke,2018-07-11T14:24:30Z,"utACK 997816bcc7d59a3bdb68c677ef0a6bce00210aa0\n\nThis hopefully fixes the currently broken gitian windows cross compiles of the gui (qt 5.9.6)",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-404188439,404188439,
MarcoFalke,2018-07-13T01:48:27Z,re-utACK 5eaee74b6c2acae33f806fa60da757ea6fcbc689,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-404701173,404701173,
theuni,2018-07-13T04:09:23Z,"ACK 5eaee74b6c2acae33f806fa60da757ea6fcbc689. I haven't tested the resulting binaries yet, but I can at least confirm that linux/macos/win build successfully.\n\nI wrestled with Gitian and KVM/LXC all day to get it built, I'll write up some notes and work-arounds.",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-404720083,404720083,
fanquake,2018-07-15T12:35:47Z,"utACK 5eaee74\n\nLGTM There's a lot of work building on/ issues solved by this.",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405089156,405089156,
fanquake,2018-07-16T07:16:54Z,@ken2812221 Could you please rebase this.,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405165259,405165259,
ken2812221,2018-07-16T10:43:33Z,@fanquake Rebased,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405209240,405209240,
fanquake,2018-07-16T10:45:01Z,re-utACK c1afe32,https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405209533,405209533,
Sjors,2018-07-17T18:39:07Z,"On Debian 9 I'm getting: ""No such script: /usr/share/debootstrap/scripts/bionic""\n\nAs discussed on IRC, it's because debootstrap 1.0.92+ is required, but Debian 9 uses 1.0.89.\n\nThis means the current Gitian instructions for Debian 9 need to be updated for 0.17, e.g. to use Bionic instead, but there's some problems with that as well, see #13688. ",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405685218,405685218,
MarcoFalke,2018-07-17T19:19:57Z,"Indeed, would be nice to mention the minimum version of debbootstrap required for lxc builds.",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405697655,405697655,
theuni,2018-07-17T19:30:28Z,"@MarcoFalke As @achow101 pointed out on IRC, LXC usage doesn't require debootstrap.\n\nThe complication with LXC is that Bionic has moved to LXC3, and that causes problems if the Gitian builder is using LXC2. Gitian has very recent support for that thanks to @ken2812221, so make sure you upgrade Gitian to latest master before anything else.\n\nThe solution for me, on Xenial, was to enable xeni",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405700578,405700578,
MarcoFalke,2018-07-17T19:52:51Z,"Ah, thanks for the input. In that case it should be removed from the programs that are installed https://github.com/bitcoin/bitcoin/blob/fa7f8a7769a4acf4368c9d59b852065a9596a079/contrib/gitian-build.py#L16 and probably a check added to assert `lxc --version` starts with `3`, no?",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405706697,405706697,
theuni,2018-07-17T20:07:48Z,"Well, it kinda depends. lxc v3 isn't strictly required, it's only needed when building on Bionic if the host's lxc is < 2.1.1.\n\nThere's a bug in lxc 2.1.0 and below that causes incompatibility between v2 hosts and v3 guests. I believe it was fixed upstream by https://github.com/lxc/lxc/commit/2c4bb8e39675fb9bd95959d95367dba54fbbedfd.\n\nSee the ubuntu bug report here:\nhttps://bugs.launchpa",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-405711147,405711147,
jonasschnelli,2018-07-19T20:53:27Z,"I tried to upgrade my build host which is based on Debian and failed.\n\nSince this requires LXC 2.1.1 or greater, it is currently not possible to run this on the newest version of Debian (9/stretch which currently has LXC in version 2.0.7).\n\nSeems to be odd to drop out Debian as build host.... but maybe there are solutions to work around this (help welcome).",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-406410911,406410911,
karelbilek,2018-10-14T14:44:34Z,"I can confirm that because of this PR, you cannot gitian build on debian but you need to use ubuntu.\n\nYou can however use this\n\nhttps://gist.github.com/laanwj/c62e101bfd68718f0686926dfd10666b\n\nThere is this PR that changes the build docs into ubuntu, which is another way of fixing that\n\nhttps://github.com/bitcoin-core/docs/pull/41\n\nWith either the ubuntu PR or the gist, it work",https://github.com/bitcoin/bitcoin/pull/13171#issuecomment-429632125,429632125,
theuni,2018-07-12T18:54:15Z,"It should suffice to add a symlink from ${WRAP_DIR}/${i}/${i}-g++ to /usr/bin/${i}-g++-posix``` instead. Since this is in our path, that means that it would be picked up before the generic one.",https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202143034,202143034,contrib/gitian-descriptors/gitian-win.yml
theuni,2018-07-12T18:54:47Z,This shouldn't be needed if the symlink trick works.,https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202143201,202143201,doc/release-process.md
theuni,2018-07-12T18:55:19Z,This also shouldn't be needed if the symlink trick works.,https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202143345,202143345,contrib/gitian-build.sh
MarcoFalke,2018-07-12T19:44:41Z,"Should rename ""git-core"" to ""git""?",https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202156486,202156486,contrib/gitian-descriptors/gitian-win.yml
ken2812221,2018-07-12T19:56:49Z,"Yes, I already do.",https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202159600,202159600,contrib/gitian-descriptors/gitian-win.yml
MarcoFalke,2018-07-12T19:59:24Z,"In line 11 of this file in the current version it still says ""git-core"", no?",https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202160255,202160255,contrib/gitian-descriptors/gitian-win.yml
ken2812221,2018-07-12T20:04:45Z,"Oh, I missed that one.",https://github.com/bitcoin/bitcoin/pull/13171#discussion_r202161608,202161608,contrib/gitian-descriptors/gitian-win.yml
