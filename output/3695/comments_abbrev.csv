jgarzik,2014-02-17T17:48:22Z,"Overall, happy to see this.\n\n1) style is inconsistent with the rest of the core code, in minor ways:  ""if"" keyword should be followed by a space.  '{' follows else on same line.  '{' follows try on same line. etc.\n\n2) a common interface for specifying bind addresses in unix daemons is specifying address/port pairs.  This seems preferable to the current setup, which forces -rpcport on all bind ",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-35306957,35306957,
laanwj,2014-02-18T07:55:36Z,"1) OK\n2) OK\n3) It follows the same logic in the bindany case as the old code, except that it's rolled into a loop (to make for shorter code). The idea is to\n- Try dual binding with boost::asio::ip::v6_only(false) when binding the asio::ip::address_v6::any() address\n- If this is succesful (!v6_only_error) and binding succeeded, stop trying, we're there\n- If this is not succesful (v6_only_error",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-35360464,35360464,
laanwj,2014-02-18T08:31:18Z,"I've updated the code style and made the bindany logic more explicit.\n\nI'll add parsing IPv4:port and [IPv6]:port later. It doesn't seem that boost has a built-in function for this, so I'll either have to \n- use Lookup (from netbase.cpp) with fAllowLookup=false as used for -bind and convert the result CService to boost address/port. This would introduce a dependency between the RPC and NET code",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-35362460,35362460,
laanwj,2014-02-18T09:20:27Z,"Voila, that was easy. Using `SplitHostPort` does introduce a dependency of rpc on netbase, but it is just a string parsing function and doesn't need to pull in any of the CService stuff so it could be moved somewhere else if that ever becomes a problem.\n\nTesting now please!\n",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-35365709,35365709,
jgarzik,2014-02-18T13:57:14Z,untested ACK\n,https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-35385939,35385939,
laanwj,2014-04-07T15:36:18Z,Rebased and added an extensive Python-based test.\n,https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-39745629,39745629,
laanwj,2014-04-07T16:16:06Z,"Weird, seemingly the flags argument to resolver_query doesn't exist yet in the old boost that the pulltester uses. Will need an #ifdef here.\n\n```\nrpcprotocol.h: In member function â€˜bool SSLIOStreamDevice<Protocol>::connect(const std::string&, const std::string&)â€™:\nrpcprotocol.h:117: error: â€˜flagsâ€™ is not a member of â€˜boost::asio::ip::resolver_query_baseâ€™\n```\n\nEdit: fixed\n",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-39750592,39750592,
laanwj,2014-04-14T10:46:39Z,Test builds:\n\nWindows 32-bit and 64-bit:\n- https://download.visucore.com/bitcoin/bitcoin-windows-5d67b25.zip\n- https://download.visucore.com/bitcoin/bitcoin-windows-5d67b25.zip.sig\n\nLinux 32-bit and 64-bit (static bitcoind and bitcoin-cli):\n- https://download.visucore.com/bitcoin/bitcoin-linux-5d67b25.tar.gz\n- https://download.visucore.com/bitcoin/bitcoin-linux-5d67b25.tar.gz.sig\n,https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-40353275,40353275,
BitcoinPullTester,2014-05-13T06:05:28Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/b5ad5e783d6f636d5ca5703919d05fd0119a34fc for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3695#issuecomment-42920345,42920345,
Diapolo,2014-02-18T12:19:01Z,Perhaps mention the default `(default: bind to all interfaces)` here?\n,https://github.com/bitcoin/bitcoin/pull/3695#discussion_r9821034,9821034,src/init.cpp
laanwj,2014-02-18T12:46:04Z,"Agreed; although the full behavior is more complicated than that\n- unless -rpcallowip is specified, it binds to localhost \n- if one or more -rpcallowip and one or more -rpcbind is specified, bind to those specific addresses\n- if one or more -rpcallowip and no -rpcbind is specified, bind to all interfaces\n\nBut listing all of that in the command line options help is too verbose. `(default: bind",https://github.com/bitcoin/bitcoin/pull/3695#discussion_r9821698,9821698,src/init.cpp
