DrahtBot,2019-08-04 07:43:34,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16489](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16489.html) (log: harmonize bitcoind logging by jonatack",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-517981643,517981643,
promag,2019-08-04 13:46:53,"> I suggest changing the default value to: `false`.\n> \n> As it opens an attack vector to stop all core nodes remotely and additionally previously none of the users would expect that remote servers could stop their nodes.\n\n@marpme that would be a breaking change. You should always restrict RPC access anyway.",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518005162,518005162,
promag,2019-08-04 13:51:53,"Maybe support any RPC, like `-rpcrestrict=sendtoaddress,sendmany,stop`?\n\nEdit: ðŸ‘‡ ",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518005552,518005552,
ryanofsky,2019-08-04 13:53:37,#12763 is a more general solution,https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518005677,518005677,
emilengler,2019-08-04 15:09:42,"@marpme \nI'm skeptical about this. Maybe some people are relying on a remote stop. I think your suggestion could be added later if the PR gets into the code",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518011377,518011377,
luke-jr,2019-08-04 18:05:52,"Yeah, concept NACK on something this specific.",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518023848,518023848,
laanwj,2019-08-05 04:38:46,"Tend towards concept NACK, seems awfully specific. I'd prefer like to avoid wild growth of features such as this.\n\nBitcoin core RPC is *not* safe for use remotely in any case, definitely not with untrusted users. Blocking one ""attack vector"" leaves tons of DoS and potential other vulnerabilities.\n\nI guess the use case for this is to have some kind of public RPC query service? If so, the co",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518082838,518082838,
emilengler,2019-08-05 17:09:18,"Ok I will close this now because of all the arguments above especially that it is too specific, feel free to steal if you need this in future :)",https://github.com/bitcoin/bitcoin/pull/16544#issuecomment-518318547,518318547,
hebasto,2019-08-04 08:03:17,Could you follow [Coding Style (C++)](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#coding-style-c)?,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310375536,310375536,src/rpc/server.cpp
jonatack,2019-08-04 10:02:11,This block is redundant with the one at L174 and could be extracted.,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310379805,310379805,src/rpc/server.cpp
jonatack,2019-08-04 10:07:14,"Suggest: ""Accept shutdown (stop) commands from remote RPC clients.""",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310380006,310380006,src/init.cpp
emilengler,2019-08-04 15:11:19,"I also thought about this but I want that it is clear that it is referring to the ""stop"" command.",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310391464,310391464,src/init.cpp
emilengler,2019-08-04 15:13:51,"Are you sure about this?\nThis block should only be executed if remote stop is disabled so a separate string slicing even if it isn't necessary is a bit too much overhead imo.",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310391582,310391582,src/rpc/server.cpp
emilengler,2019-08-04 15:14:05,Sure thing,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310391591,310391591,src/rpc/server.cpp
emilengler,2019-08-04 15:18:17,Done,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310391764,310391764,src/rpc/server.cpp
hebasto,2019-08-04 15:35:22,"```\n$ git diff -U0 HEAD~2.. src/rpc/server.cpp | ./contrib/devtools/clang-format-diff.py -p1 -v\n--- src/rpc/server.cpp	(before formatting)\n+++ src/rpc/server.cpp	(after formatting)\n@@ -170,36 +170,28 @@\n             }.ToString());\n     // Event loop will exit after current HTTP requests have been handled, so\n     // this reply will get back to the client.\n-    if (rpcallowstop)\n-",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310392440,310392440,src/rpc/server.cpp
hebasto,2019-08-04 15:37:59,> You can use the provided [clang-format-diff script](https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/README.md#clang-format-diffpy) tool to clean up patches automatically before submission.,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310392557,310392557,src/rpc/server.cpp
hebasto,2019-08-04 16:09:10,"Just `StartRPC(gArgs.GetBoolArg(""-rpcallowstop"", true));` ?",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310393608,310393608,src/init.cpp
emilengler,2019-08-04 16:26:09,"Yes, I was orienting myself at the code below",https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310394159,310394159,src/init.cpp
emilengler,2019-08-04 16:32:29,Fixed,https://github.com/bitcoin/bitcoin/pull/16544#discussion_r310394407,310394407,src/init.cpp
