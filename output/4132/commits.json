[
  {
    "sha": "d4e1c61212c3f28f80c7184aca81f5d118fad460",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNGUxYzYxMjEyYzNmMjhmODBjNzE4NGFjYTgxZjVkMTE4ZmFkNDYw",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2014-05-05T19:06:14Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2014-05-20T13:34:19Z"
      },
      "message": "add DEFAULT_UPNP constant in net\n\n- as this is a shared Core/GUI setting, this makes it easier to keep them\n  in sync (also no new includes are needed)",
      "tree": {
        "sha": "b8121210dd1b276be3ea0d34e18afbe539a14405",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b8121210dd1b276be3ea0d34e18afbe539a14405"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d4e1c61212c3f28f80c7184aca81f5d118fad460",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d4e1c61212c3f28f80c7184aca81f5d118fad460",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d4e1c61212c3f28f80c7184aca81f5d118fad460",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d4e1c61212c3f28f80c7184aca81f5d118fad460/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "9d97e83bf677ce595c6b2dc5d6805c2fcb1bc05b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9d97e83bf677ce595c6b2dc5d6805c2fcb1bc05b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9d97e83bf677ce595c6b2dc5d6805c2fcb1bc05b"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 8,
      "deletions": 8
    },
    "files": [
      {
        "sha": "7cabfef09996c530951d89c571af3d9ac2ac88a0",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=d4e1c61212c3f28f80c7184aca81f5d118fad460",
        "patch": "@@ -1736,10 +1736,8 @@ void StartNode(boost::thread_group& threadGroup)\n     else\n         threadGroup.create_thread(boost::bind(&TraceThread<void (*)()>, \"dnsseed\", &ThreadDNSAddressSeed));\n \n-#ifdef USE_UPNP\n     // Map ports with UPnP\n-    MapPort(GetBoolArg(\"-upnp\", USE_UPNP));\n-#endif\n+    MapPort(GetBoolArg(\"-upnp\", DEFAULT_UPNP));\n \n     // Send and receive from sockets, accept connections\n     threadGroup.create_thread(boost::bind(&TraceThread<void (*)()>, \"net\", &ThreadSocketHandler));"
      },
      {
        "sha": "21b8dd242f61bfffa4707dd8e3a5409713924aab",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=d4e1c61212c3f28f80c7184aca81f5d118fad460",
        "patch": "@@ -38,6 +38,12 @@ namespace boost {\n \n /** The maximum number of entries in an 'inv' protocol message */\n static const unsigned int MAX_INV_SZ = 50000;\n+/** -upnp default */\n+#ifdef USE_UPNP\n+static const bool DEFAULT_UPNP = USE_UPNP;\n+#else\n+static const bool DEFAULT_UPNP = false;\n+#endif\n \n inline unsigned int ReceiveFloodSize() { return 1000*GetArg(\"-maxreceivebuffer\", 5*1000); }\n inline unsigned int SendBufferSize() { return 1000*GetArg(\"-maxsendbuffer\", 1*1000); }"
      },
      {
        "sha": "051098315dedf9e07e6269cacd32292d7573d945",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 5,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d4e1c61212c3f28f80c7184aca81f5d118fad460/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=d4e1c61212c3f28f80c7184aca81f5d118fad460",
        "patch": "@@ -106,11 +106,7 @@ void OptionsModel::Init()\n \n     // Network\n     if (!settings.contains(\"fUseUPnP\"))\n-#ifdef USE_UPNP\n-        settings.setValue(\"fUseUPnP\", true);\n-#else\n-        settings.setValue(\"fUseUPnP\", false);\n-#endif\n+        settings.setValue(\"fUseUPnP\", DEFAULT_UPNP);\n     if (!SoftSetBoolArg(\"-upnp\", settings.value(\"fUseUPnP\").toBool()))\n         addOverriddenOption(\"-upnp\");\n "
      }
    ]
  }
]