[
  {
    "sha": "416f9b9541f0df793762a188abe17fafdde8fabc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MTZmOWI5NTQxZjBkZjc5Mzc2MmExODhhYmUxN2ZhZmRkZThmYWJj",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-06-14T21:23:00Z"
      },
      "committer": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2017-11-06T10:57:55Z"
      },
      "message": "Bugfix: net: Apply whitelisting criteria to outgoing connections",
      "tree": {
        "sha": "d2fa489b3bd335cb2cdd24295b1cc648a402f6da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d2fa489b3bd335cb2cdd24295b1cc648a402f6da"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/416f9b9541f0df793762a188abe17fafdde8fabc",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/416f9b9541f0df793762a188abe17fafdde8fabc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/416f9b9541f0df793762a188abe17fafdde8fabc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/416f9b9541f0df793762a188abe17fafdde8fabc/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0e707919f596c80056bca295abd71543ccae4956",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0e707919f596c80056bca295abd71543ccae4956",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0e707919f596c80056bca295abd71543ccae4956"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 5,
      "deletions": 2
    },
    "files": [
      {
        "sha": "2b05b8f415eaa62db51f7d49908f657befff2ecd",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/416f9b9541f0df793762a188abe17fafdde8fabc/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/416f9b9541f0df793762a188abe17fafdde8fabc/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=416f9b9541f0df793762a188abe17fafdde8fabc",
        "patch": "@@ -404,7 +404,7 @@ std::string HelpMessage(HelpMessageMode mode)\n #endif\n #endif\n     strUsage += HelpMessageOpt(\"-whitebind=<addr>\", _(\"Bind to given address and whitelist peers connecting to it. Use [host]:port notation for IPv6\"));\n-    strUsage += HelpMessageOpt(\"-whitelist=<IP address or network>\", _(\"Whitelist peers connecting from the given IP address (e.g. 1.2.3.4) or CIDR notated network (e.g. 1.2.3.0/24). Can be specified multiple times.\") +\n+    strUsage += HelpMessageOpt(\"-whitelist=<IP address or network>\", _(\"Whitelist peers using the given IP address (e.g. 1.2.3.4) or CIDR notated network (e.g. 1.2.3.0/24). Can be specified multiple times.\") +\n         \" \" + _(\"Whitelisted peers cannot be DoS banned and their transactions are always relayed, even if they are already in the mempool, useful e.g. for a gateway\"));\n     strUsage += HelpMessageOpt(\"-maxuploadtarget=<n>\", strprintf(_(\"Tries to keep outbound traffic under the given target (in MiB per 24h), 0 = no limit (default: %d)\"), DEFAULT_MAX_UPLOAD_TARGET));\n "
      },
      {
        "sha": "3388aa2db23b5d38d070cd0cb1b223e44d531f83",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/416f9b9541f0df793762a188abe17fafdde8fabc/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/416f9b9541f0df793762a188abe17fafdde8fabc/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=416f9b9541f0df793762a188abe17fafdde8fabc",
        "patch": "@@ -1990,6 +1990,9 @@ bool CConnman::OpenNetworkConnection(const CAddress& addrConnect, bool fCountFai\n         pnode->fFeeler = true;\n     if (manual_connection)\n         pnode->m_manual_connection = true;\n+    if (IsWhitelistedRange(pnode->addr)) {\n+        pnode->fWhitelisted = true;\n+    }\n \n     m_msgproc->InitializeNode(pnode);\n     {"
      },
      {
        "sha": "a37d0c05efaae6e774cd8d91a904cc02d9ae99e0",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/416f9b9541f0df793762a188abe17fafdde8fabc/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/416f9b9541f0df793762a188abe17fafdde8fabc/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=416f9b9541f0df793762a188abe17fafdde8fabc",
        "patch": "@@ -373,7 +373,7 @@ class CConnman\n     uint64_t nMaxOutboundLimit;\n     uint64_t nMaxOutboundTimeframe;\n \n-    // Whitelisted ranges. Any node connecting from these is automatically\n+    // Whitelisted ranges. Any node communicating using these is automatically\n     // whitelisted (as well as those connecting to whitelisted binds).\n     std::vector<CSubNet> vWhitelistedRange;\n "
      }
    ]
  }
]