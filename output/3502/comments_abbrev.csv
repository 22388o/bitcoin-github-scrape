luke-jr,2014-01-09T19:45:34Z,Keys and addresses don't have balances. You're not supposed to use import/dump privkey like this. Just backupwallet for backups.\n,https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-31968545,31968545,
sipa,2014-01-09T20:08:41Z,"Though I agree with Luke's opinion here, it's not an excuse for broken functionality. If you're using dumpprivkey/importprivkey, you're already managing your wallet at the per key level, and as we have rpc methods for that, they should work.\n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-31970621,31970621,
laanwj,2014-01-10T07:49:12Z,Agree with @luke-jr here. What you are doing is very dangerous. You should never assume that the balance is only on one key. Many people lost their coins this way.\n\nThis is exactly what dumpwallet/importwallet is for which is in master (and will be in 0.9). These methods export and import all the keys in your wallet.\n\nCode changes look ok to me though...\n,https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32008900,32008900,
gmaxwell,2014-01-10T07:55:35Z,"OH, this probably explains some misbehavior I saw with salvagewallet missing outputs!  See, look at how much easier slacking off and not investigating the cause wasâ€¦\n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32009132,32009132,
laanwj,2014-01-17T12:20:06Z,"Can we get some ACKs/NACKs here? This is a very simple patch, and if it solves a problem (and in the correct way) it should be in 0.9 IMO.\n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32601309,32601309,
sipa,2014-01-18T15:53:51Z,"This is not the correct way to solve the problem, IMHO.\n\nWe should set `pwallet->mapKeyMetadata[keyid].nCreationTime` to 1 in `importprivkey`, before calling  `AddKeyPubKey`, instead of initializing every key's birthdate to 1. \n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32684955,32684955,
sipa,2014-01-18T15:56:05Z,"I do agree that import/dump need a way to deal with birthdates, though. I suggest adding a bool to dumpprivkey [includebirth=false], which if set, outputs a string privkey@unixtimestamp. Importprivkey can then support keys in that format too, and set the imported key's timestamp to the provided one, instead of 1.\n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32684996,32684996,
cozz,2014-01-18T19:15:50Z,"I have now updated to what @sipa suggested.\nTested both, rescanning through importprivkey and through -rescan.\n\nAbout the import/dump of birthdate:\nI dont like so much bothering the user with the birthdates, I think this should be transparent to the user.\nSo how about introducing a version parameter to dumpprivkey [version=2].\nSo default is version 2, dump with @unixtimestamp. Now if someone",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32690215,32690215,
sipa,2014-01-18T19:20:54Z,"@cozz I consider this function micro-management. We provide it, so it must work. But in general, I'd very much prefer to encourage entire wallet dumping/importing (`dumpwallet`/`importwallet`) which already handles birthdates. I wouldn't bother adding a checksum there too.\n\nRegarding a version number rather than a boolean... meh, I don't think we'll add many more versions later for the same typo",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32690349,32690349,
sipa,2014-01-18T19:21:18Z,"Haven't tested, but ACK code changes.\n",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32690361,32690361,
BitcoinPullTester,2014-01-18T19:33:43Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/1f12844fc03dfc1863ea9a5096f8650c64a0b2ac for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32690690,32690690,
laanwj,2014-01-18T19:37:28Z,ACK (much easier to review with this localized change)\n,https://github.com/bitcoin/bitcoin/pull/3502#issuecomment-32690782,32690782,
