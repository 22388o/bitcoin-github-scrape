[
  {
    "sha": "9662fadf44a9529d1fa0c011d988cf43249cdad0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NjYyZmFkZjQ0YTk1MjlkMWZhMGMwMTFkOTg4Y2Y0MzI0OWNkYWQw",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-09-12T09:26:42Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-09-12T10:15:18Z"
      },
      "message": "net: remove unused CNetAddr scopeId member",
      "tree": {
        "sha": "85786e8ea54a03a0bdb057c60b35ae988754af0e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/85786e8ea54a03a0bdb057c60b35ae988754af0e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9662fadf44a9529d1fa0c011d988cf43249cdad0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl9cn8kACgkQT1chs9Dj\nkh2kbg/+Mm+q2m8P/Pv6ue6GcHEbaJ9oAVtuE+bg4SRnJOA8yeeDPa2lBIpxtB16\nQSKV4cJ4jRBXMyYPi4UD7o3EsC6jEALsmAKpZ2qjSs7LXCCsVvWELhPWyffgbqxn\n80m5BwJm3hN68OuAO/o+k0STCeB6/4bF//Tqyu5mkIXPPCSLgtHckoQc25OyHKRK\nykQU2Kkrd9BFHVh7mVZe7qIQ8zGK5aOiX5AoDrHuA6A5PafaCj7mBqMxfab9AN/9\ntwll9ct7ohQ9oVRRQOoVtgq9tatfJO4pnv1DFTxzELk93Aw6GA+Ae365R0rOiLcm\nqWxi0zQTeA3Ma5Ekb8ldnn0bcHmKB9/MwOYGXDrd/cyjjQP1KaVCtiJQmQN0aGBZ\nZsnKneTlJcfmErWKgR4c3LIYhwQCj3lQ1HBXgzEKh0KhVENRJdXtEx9xuwbXwzwg\nP8xFyeain6S9JEYdcJPMpKAnVXaTSJe6A3g9WTGwFb4sY65UYzv2/ZZv8jFXkrXi\nlY2MIiiZx5b7meFjcTX2qV+zSb9uUfhi1utRlrbOlLEtYwO3RNF3XLTM7XQ2Ml1Q\nRjrSAJzVjkXwcpR0zgeIkYI/Beyz8aRrCsjXRrYW/AvuqTbIY5bWhiNnlRnSPucb\nd+Bb/3MGZWK1sV18nM1Zxt1yLkJc7wgBJvU0if0USvSLVHdZ8fg=\n=inJi\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIPDyAEzOYa+FLHflXhuVHV9zKBanjd6bpl7ECbQrqSCNCP/wECGoBFDZrQi6\nJ5iwc4prAp0I8QRfXJ/L8Ag3Z1m0HC1OrgCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQN6meNVLPNPgRV6+h\nizFqkQjxBF9cn8rwCLe0hrVncYYBAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxl\nbmRhci5jYXRhbGxheHkuY29t//AQz2IqxJldgfzgz549XcKDFAjxBF9cn8vwCAJ6\nq2mX081uAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BDy1plHhEg4+9LpoIMHg+zICPEEX1yfy/AIGhBQKDD9VWgAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 85786e8ea54a03a0bdb057c60b35ae988754af0e\nparent f2d9934381bf89f1746f13cc5f86ae199eaa52bb\nauthor Jon Atack <jon@atack.com> 1599902802 +0200\ncommitter Jon Atack <jon@atack.com> 1599905718 +0200\n\nnet: remove unused CNetAddr scopeId member\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9662fadf44a9529d1fa0c011d988cf43249cdad0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9662fadf44a9529d1fa0c011d988cf43249cdad0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9662fadf44a9529d1fa0c011d988cf43249cdad0/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f2d9934381bf89f1746f13cc5f86ae199eaa52bb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f2d9934381bf89f1746f13cc5f86ae199eaa52bb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f2d9934381bf89f1746f13cc5f86ae199eaa52bb"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 5,
      "deletions": 9
    },
    "files": [
      {
        "sha": "0aa13db34bb3ea1070ce2534dbcdbefd4fbac838",
        "filename": "src/netaddress.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netaddress.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netaddress.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netaddress.cpp?ref=9662fadf44a9529d1fa0c011d988cf43249cdad0",
        "patch": "@@ -129,10 +129,9 @@ CNetAddr::CNetAddr(const struct in_addr& ipv4Addr)\n     m_addr.assign(ptr, ptr + ADDR_IPV4_SIZE);\n }\n \n-CNetAddr::CNetAddr(const struct in6_addr& ipv6Addr, const uint32_t scope)\n+CNetAddr::CNetAddr(const struct in6_addr& ipv6Addr)\n {\n     SetLegacyIPv6(Span<const uint8_t>(reinterpret_cast<const uint8_t*>(&ipv6Addr), sizeof(ipv6Addr)));\n-    scopeId = scope;\n }\n \n bool CNetAddr::IsBindAny() const\n@@ -648,7 +647,7 @@ CService::CService(const struct sockaddr_in& addr) : CNetAddr(addr.sin_addr), po\n     assert(addr.sin_family == AF_INET);\n }\n \n-CService::CService(const struct sockaddr_in6 &addr) : CNetAddr(addr.sin6_addr, addr.sin6_scope_id), port(ntohs(addr.sin6_port))\n+CService::CService(const struct sockaddr_in6 &addr) : CNetAddr(addr.sin6_addr), port(ntohs(addr.sin6_port))\n {\n    assert(addr.sin6_family == AF_INET6);\n }\n@@ -716,7 +715,6 @@ bool CService::GetSockAddr(struct sockaddr* paddr, socklen_t *addrlen) const\n         memset(paddrin6, 0, *addrlen);\n         if (!GetIn6Addr(&paddrin6->sin6_addr))\n             return false;\n-        paddrin6->sin6_scope_id = scopeId;\n         paddrin6->sin6_family = AF_INET6;\n         paddrin6->sin6_port = htons(port);\n         return true;"
      },
      {
        "sha": "6c0e4588f4efd5a36771041317b002de1ac86b56",
        "filename": "src/netaddress.h",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netaddress.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netaddress.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netaddress.h?ref=9662fadf44a9529d1fa0c011d988cf43249cdad0",
        "patch": "@@ -102,8 +102,6 @@ class CNetAddr\n          */\n         Network m_net{NET_IPV6};\n \n-        uint32_t scopeId{0}; // for scoped/link-local ipv6 addresses\n-\n     public:\n         CNetAddr();\n         explicit CNetAddr(const struct in_addr& ipv4Addr);\n@@ -164,7 +162,7 @@ class CNetAddr\n         std::vector<unsigned char> GetAddrBytes() const;\n         int GetReachabilityFrom(const CNetAddr *paddrPartner = nullptr) const;\n \n-        explicit CNetAddr(const struct in6_addr& pipv6Addr, const uint32_t scope = 0);\n+        explicit CNetAddr(const struct in6_addr& pipv6Addr);\n         bool GetIn6Addr(struct in6_addr* pipv6Addr) const;\n \n         friend bool operator==(const CNetAddr& a, const CNetAddr& b);"
      },
      {
        "sha": "ea09ba14c34fb0535312b4f47828f56405de019e",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=9662fadf44a9529d1fa0c011d988cf43249cdad0",
        "patch": "@@ -120,7 +120,7 @@ bool static LookupIntern(const std::string& name, std::vector<CNetAddr>& vIP, un\n         {\n             assert(aiTrav->ai_addrlen >= sizeof(sockaddr_in6));\n             struct sockaddr_in6* s6 = (struct sockaddr_in6*) aiTrav->ai_addr;\n-            resolved = CNetAddr(s6->sin6_addr, s6->sin6_scope_id);\n+            resolved = CNetAddr(s6->sin6_addr);\n         }\n         /* Never allow resolving to an internal address. Consider any such result invalid */\n         if (!resolved.IsInternal()) {"
      },
      {
        "sha": "e134d6d439a4ec54cbfab13c6b2dfb54fb7dac0e",
        "filename": "src/test/fuzz/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/test/fuzz/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9662fadf44a9529d1fa0c011d988cf43249cdad0/src/test/fuzz/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/util.h?ref=9662fadf44a9529d1fa0c011d988cf43249cdad0",
        "patch": "@@ -245,7 +245,7 @@ CNetAddr ConsumeNetAddr(FuzzedDataProvider& fuzzed_data_provider) noexcept\n         if (fuzzed_data_provider.remaining_bytes() >= 16) {\n             in6_addr v6_addr = {};\n             memcpy(v6_addr.s6_addr, fuzzed_data_provider.ConsumeBytes<uint8_t>(16).data(), 16);\n-            net_addr = CNetAddr{v6_addr, fuzzed_data_provider.ConsumeIntegral<uint32_t>()};\n+            net_addr = CNetAddr{v6_addr};\n         }\n     } else if (network == Network::NET_INTERNAL) {\n         net_addr.SetInternal(fuzzed_data_provider.ConsumeBytesAsString(32));"
      }
    ]
  }
]