[
  {
    "sha": "fa11fecf0dac44846a08e1b325547641f2eca957",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTExZmVjZjBkYWM0NDg0NmEwOGUxYjMyNTU0NzY0MWYyZWNhOTU3",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-01T17:58:16Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-01T18:04:07Z"
      },
      "message": "doc: Move buried deployment doc to the enum that enumerates them\n\nThis is more visible than a comment hidden in an RPC helper function.",
      "tree": {
        "sha": "031d39fbdfced3bdb0558fcf7704b23949ceba8a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/031d39fbdfced3bdb0558fcf7704b23949ceba8a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa11fecf0dac44846a08e1b325547641f2eca957",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhIlQwArHoHZKSefPR0Ncqf5B2cGZzeIDu0pAp8OX/tdL/3w/3CIS657g6cWM4z\nAp1Hp4kDvAOHM8Jh2ueG5KHaxd04MGW8KEL2U3A5rl4zy2TlTPv7D/iRmBx4Vvue\niRGPGNtUNt9Zyji6lz3RbTrSpYaQTwyLjB/q2gHgpqGkDRF3QMiB2HB5HAk4e7Ta\nvNZFy0oq/F3mFNJf61tOiEntsZfbtAmvlSjZ0K0G1K1+HfDToulJFbnDcvrEPiNA\nCZxOK3iXBIqk/HlHulMaWJwZhJX9RbSuJH3qatnwMCc4iwy8Zy+sPnUDocq3lmLh\nvybF9WT4LxFO0e/jkp7twodeCr2XPMFklSm9bMqHJHKJoJM+2AMX/8Sr34Vd9VnY\nimLjLjY4gIekYXvA0cI9oVUvj2PVe5czt8CiIOpzg7lFxOaeTYMgOLlkx85PtvGn\nhdgH0NUDH0jAIgt9wKvrRL5sd5N0U1/cJIeiHhrcmy93LJFMpa8ivV36xD9d5O8b\nQ21/02gB\n=GF8o\n-----END PGP SIGNATURE-----",
        "payload": "tree 031d39fbdfced3bdb0558fcf7704b23949ceba8a\nparent ddc6979b8baab048bbf0c5c2dd23345a8eb5c60e\nauthor MarcoFalke <falke.marco@gmail.com> 1625162296 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1625162647 +0200\n\ndoc: Move buried deployment doc to the enum that enumerates them\n\nThis is more visible than a comment hidden in an RPC helper function.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa11fecf0dac44846a08e1b325547641f2eca957",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa11fecf0dac44846a08e1b325547641f2eca957",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa11fecf0dac44846a08e1b325547641f2eca957/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ddc6979b8baab048bbf0c5c2dd23345a8eb5c60e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ddc6979b8baab048bbf0c5c2dd23345a8eb5c60e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ddc6979b8baab048bbf0c5c2dd23345a8eb5c60e"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 6,
      "deletions": 6
    },
    "files": [
      {
        "sha": "9205cfee874173316f97324421a6d2c8abf8915d",
        "filename": "src/consensus/params.h",
        "status": "modified",
        "additions": 6,
        "deletions": 4,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa11fecf0dac44846a08e1b325547641f2eca957/src/consensus/params.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa11fecf0dac44846a08e1b325547641f2eca957/src/consensus/params.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/consensus/params.h?ref=fa11fecf0dac44846a08e1b325547641f2eca957",
        "patch": "@@ -11,8 +11,11 @@\n \n namespace Consensus {\n \n-enum BuriedDeployment : int16_t\n-{\n+/**\n+ * A buried deployment is one where the height of the activation has been hardcoded into\n+ * the client implementation long after the consensus change has activated. See BIP 90.\n+ */\n+enum BuriedDeployment : int16_t {\n     // buried deployments get negative values to avoid overlap with DeploymentPos\n     DEPLOYMENT_HEIGHTINCB = std::numeric_limits<int16_t>::min(),\n     DEPLOYMENT_CLTV,\n@@ -22,8 +25,7 @@ enum BuriedDeployment : int16_t\n };\n constexpr bool ValidDeployment(BuriedDeployment dep) { return DEPLOYMENT_HEIGHTINCB <= dep && dep <= DEPLOYMENT_SEGWIT; }\n \n-enum DeploymentPos : uint16_t\n-{\n+enum DeploymentPos : uint16_t {\n     DEPLOYMENT_TESTDUMMY,\n     DEPLOYMENT_TAPROOT, // Deployment of Schnorr/Taproot (BIPs 340-342)\n     // NOTE: Also add new deployments to VersionBitsDeploymentInfo in deploymentinfo.cpp"
      },
      {
        "sha": "e08dad2eb090e4f0b70e1e4c41257bd4923abc4c",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa11fecf0dac44846a08e1b325547641f2eca957/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa11fecf0dac44846a08e1b325547641f2eca957/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=fa11fecf0dac44846a08e1b325547641f2eca957",
        "patch": "@@ -1350,8 +1350,6 @@ static RPCHelpMan verifychain()\n static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue& softforks, const Consensus::Params& params, Consensus::BuriedDeployment dep)\n {\n     // For buried deployments.\n-    // A buried deployment is one where the height of the activation has been hardcoded into\n-    // the client implementation long after the consensus change has activated. See BIP 90.\n     // Buried deployments with activation height value of\n     // std::numeric_limits<int>::max() are disabled and thus hidden.\n     if (!DeploymentEnabled(params, dep)) return;"
      }
    ]
  },
  {
    "sha": "fa5658ed077bfb02b6281d642dc649abdb99b6ee",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTU2NThlZDA3N2JmYjAyYjYyODFkNjQyZGM2NDlhYmRiOTliNmVl",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-01T18:29:21Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-07-01T18:20:52Z"
      },
      "message": "Use DeploymentEnabled to hide VB deployments\n\nThe helper was previously unused. This commit changes it to be more\nmeaningful and puts it to use.\n\nSee previous discussion at https://github.com/bitcoin/bitcoin/pull/19438/files#r650687320",
      "tree": {
        "sha": "412bed2ed13aa79089e0b95731e0e5e7ab51b301",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/412bed2ed13aa79089e0b95731e0e5e7ab51b301"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa5658ed077bfb02b6281d642dc649abdb99b6ee",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiXSwwAh83ySYUYdxQOqdkZjPvPfLHiLO7aXr8Pr4QorlxndX2kzK2KuIsQ6NXI\nRrDdn0egaBcfAqRPac9yQWKbOnLoL/a19WO5mNAAZEFXadM7Ns0El+88v/zP2ZAp\nI6EMmG5p3KsYGjPz9M1I0u6joja8zljjw35gMAn2ggZRxNT1rptL7uA/83KU33CY\nJzQS8aRlOK8+xiFw6DKWMaUXd8nQW4fNmkiXH5aPV5fBa4HOugttVhbTj2/mMCA0\n/kbmxlkFV25tWTRoHuhKZVmOEmbQ2BEuTqzvRg+qg23TE7rZGjzUQB8vRSZ0VOD0\n3bZlei0EYLvGvsaS5LJpJa4PN8LnUb3dsfD0kfBz9hrRjvcnvvXnP71BPVnXIPIg\nwRtPsUkwiYztJO8zOFdf4TBQFe0FyLxM0vLw/85HqqvPv7vk/5EArbvLMaOkOxj/\nS370Kx+2u/+Jb87HhNwcedaHi7Itf4VaWg58uGyQzwR+VuFKKFc9Atuua2czyKrh\nFZVI4DVA\n=fao3\n-----END PGP SIGNATURE-----",
        "payload": "tree 412bed2ed13aa79089e0b95731e0e5e7ab51b301\nparent fa11fecf0dac44846a08e1b325547641f2eca957\nauthor MarcoFalke <falke.marco@gmail.com> 1625164161 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1625163652 +0200\n\nUse DeploymentEnabled to hide VB deployments\n\nThe helper was previously unused. This commit changes it to be more\nmeaningful and puts it to use.\n\nSee previous discussion at https://github.com/bitcoin/bitcoin/pull/19438/files#r650687320\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5658ed077bfb02b6281d642dc649abdb99b6ee",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa5658ed077bfb02b6281d642dc649abdb99b6ee",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5658ed077bfb02b6281d642dc649abdb99b6ee/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa11fecf0dac44846a08e1b325547641f2eca957",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa11fecf0dac44846a08e1b325547641f2eca957",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa11fecf0dac44846a08e1b325547641f2eca957"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 4,
      "deletions": 5
    },
    "files": [
      {
        "sha": "f95c5996f5e4c3071b0fbfda0d049cd9edcdb721",
        "filename": "src/deploymentstatus.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa5658ed077bfb02b6281d642dc649abdb99b6ee/src/deploymentstatus.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa5658ed077bfb02b6281d642dc649abdb99b6ee/src/deploymentstatus.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/deploymentstatus.h?ref=fa5658ed077bfb02b6281d642dc649abdb99b6ee",
        "patch": "@@ -49,7 +49,7 @@ inline bool DeploymentEnabled(const Consensus::Params& params, Consensus::Buried\n inline bool DeploymentEnabled(const Consensus::Params& params, Consensus::DeploymentPos dep)\n {\n     assert(Consensus::ValidDeployment(dep));\n-    return params.vDeployments[dep].nTimeout != 0;\n+    return params.vDeployments[dep].nStartTime != Consensus::BIP9Deployment::NEVER_ACTIVE;\n }\n \n #endif // BITCOIN_DEPLOYMENTSTATUS_H"
      },
      {
        "sha": "c4a89c9772abfa94b85e7bc2d17dc933cc315e29",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa5658ed077bfb02b6281d642dc649abdb99b6ee/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa5658ed077bfb02b6281d642dc649abdb99b6ee/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=fa5658ed077bfb02b6281d642dc649abdb99b6ee",
        "patch": "@@ -1350,8 +1350,7 @@ static RPCHelpMan verifychain()\n static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue& softforks, const Consensus::Params& params, Consensus::BuriedDeployment dep)\n {\n     // For buried deployments.\n-    // Buried deployments with activation height value of\n-    // std::numeric_limits<int>::max() are disabled and thus hidden.\n+\n     if (!DeploymentEnabled(params, dep)) return;\n \n     UniValue rv(UniValue::VOBJ);\n@@ -1366,8 +1365,8 @@ static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue&\n static void SoftForkDescPushBack(const CBlockIndex* active_chain_tip, UniValue& softforks, const Consensus::Params& consensusParams, Consensus::DeploymentPos id)\n {\n     // For BIP9 deployments.\n-    // Deployments that are never active are hidden.\n-    if (consensusParams.vDeployments[id].nStartTime == Consensus::BIP9Deployment::NEVER_ACTIVE) return;\n+\n+    if (!DeploymentEnabled(consensusParams, id)) return;\n \n     UniValue bip9(UniValue::VOBJ);\n     const ThresholdState thresholdState = g_versionbitscache.State(active_chain_tip, consensusParams, id);"
      }
    ]
  }
]