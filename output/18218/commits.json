[
  {
    "sha": "1964561a3a5eacbb27139e9125859854c0e77437",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxOTY0NTYxYTNhNWVhY2JiMjcxMzllOTEyNTg1OTg1NGMwZTc3NDM3",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-01-26T04:16:44Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-02-28T04:04:51Z"
      },
      "message": "build: don't embed a build-id when building libdmg-hfsplus\n\nGithub-Pull: #18004\nRebased-From: cb9e88e73a042ff4e1c83289a6f8fa1db03fb093",
      "tree": {
        "sha": "6f74756a2f8be62aa6d7c8eb5fa119635f6300e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f74756a2f8be62aa6d7c8eb5fa119635f6300e6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1964561a3a5eacbb27139e9125859854c0e77437",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl5YkZEACgkQLuufXMCV\nJsG6qBAAiy3W0TeJMsJtXz0NCTJ23TSlCsgWwPADB5H02nj7xAL5ZYQQKrjLXqH/\n9jTu2dg3gnXdoN4soyiqnasrWgqGGkA2vtn+2RnrQ3AeKc+wtHzpWvZVrjRmWb/D\nyDlzHnY1Bnm+nUcUUlrVKVbtLBzeKn9tr6T5UAhz7z8fa5XH2eFppjnP+VpKviSq\n0M9+aXSBZ8+gYyA1S2nMGKkwt4OHDawwUWTuoThR4sl871/oMzVhkzfdQvAzNrMo\n4ieGEpsyzYQkgqE/f05HUQQIUD+QB0nZ63iBt2XTNSPxxl8xErleM0B7VD0mSldX\n5u2ExmqTFyy1rHeuoggVhjwzMIMqtegtwRK55v5wPyLu1UQHp+wqkYpUOrYYQt4n\n3V/pcjn9Sqz2ATa3yva4srRLDmd8OmUHbrt+PszjHIT8eXrpGf0S31Eu413JdI/u\n2HRvNFnvRVkYRH4Ud9pdH9lZI/YX2P3azfDsllHGy8KfwmiUT9MnvhwopIHkThn+\n5Q8d3XzmQql3uOBG6l3V5nhuM8ua9q6TfovHCrHoihEvUN0BTVgLUWyWgo0XyuRG\nFQRy1eUTjhPIwE0JtSUskJpLeulXhupyqBlSQLL2D7J0dUiEY8gZFoa+lSljIxNu\nT78yHNAMpJFPWernJ7MuoUgGr6t7k6cxA30smcvNMqZEajrolWg=\n=Y6jE\n-----END PGP SIGNATURE-----",
        "payload": "tree 6f74756a2f8be62aa6d7c8eb5fa119635f6300e6\nparent a28ea316ed47d4e3e30de3fbd77d010f7f9c24ea\nauthor fanquake <fanquake@gmail.com> 1580012204 +0800\ncommitter fanquake <fanquake@gmail.com> 1582862691 +0800\n\nbuild: don't embed a build-id when building libdmg-hfsplus\n\nGithub-Pull: #18004\nRebased-From: cb9e88e73a042ff4e1c83289a6f8fa1db03fb093\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1964561a3a5eacbb27139e9125859854c0e77437",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1964561a3a5eacbb27139e9125859854c0e77437",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1964561a3a5eacbb27139e9125859854c0e77437/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a28ea316ed47d4e3e30de3fbd77d010f7f9c24ea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a28ea316ed47d4e3e30de3fbd77d010f7f9c24ea",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a28ea316ed47d4e3e30de3fbd77d010f7f9c24ea"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "3a784cccddf1e2bd60b959eea6b2a1d673a1b266",
        "filename": "depends/packages/native_libdmg-hfsplus.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1964561a3a5eacbb27139e9125859854c0e77437/depends/packages/native_libdmg-hfsplus.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1964561a3a5eacbb27139e9125859854c0e77437/depends/packages/native_libdmg-hfsplus.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_libdmg-hfsplus.mk?ref=1964561a3a5eacbb27139e9125859854c0e77437",
        "patch": "@@ -10,7 +10,7 @@ define $(package)_preprocess_cmds\n endef\n \n define $(package)_config_cmds\n-  cmake -DCMAKE_INSTALL_PREFIX:PATH=$(build_prefix)/bin ..\n+  cmake -DCMAKE_INSTALL_PREFIX:PATH=$(build_prefix)/bin -DCMAKE_C_FLAGS=\"-Wl,--build-id=none\" ..\n endef\n \n define $(package)_build_cmds"
      }
    ]
  },
  {
    "sha": "48fef5ebae58b0730619182007218941bd339768",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OGZlZjVlYmFlNThiMDczMDYxOTE4MjAwNzIxODk0MWJkMzM5NzY4",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2020-02-11T21:53:53Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2020-02-28T04:07:39Z"
      },
      "message": "gui: Fix race in WalletModel::pollBalanceChanged\n\nPoll function was wrongly setting cached height to the current chain height\ninstead of the chain height at the time of polling.\n\nThis bug could cause balances to appear out of date, and was first introduced\nhttps://github.com/bitcoin/bitcoin/pull/10244/commits/a0704a8996bb950ae3c4d5b5a30e9dfe34cde1d3#r378452145\nBefore that commit, there wasn't a problem because cs_main was held during the\npoll update.\n\nCurrently, the problem should be rare. But if\n8937d99ce81a27ae5e1012a28323c0e26d89c50b from #17954 were merged, the problem\nwould get worse, because the wrong cachedNumBlocks value would be set if the\nwallet was polled in the interval between a block being connected and it\nprocessing the BlockConnected notification.\n\nMarcoFalke <falke.marco@gmail.com> also points out that a0704a8996b could lead\nto GUI hangs as well, because previously the pollBalanceChanged method, which\nruns on the GUI thread, would only make a nonblocking TRY_LOCK(cs_main) call,\nbut after could make blocking LOCK(cs_main) calls, potentially locking up the\nGUI.\n\nThanks to John Newbery <john@johnnewbery.com> for finding this bug this while\nreviewing https://github.com/bitcoin/bitcoin/pull/17954.\n\nGithub-Pull: #18123\nRebased-From: bf36a3ccc212ad4d7c5cb8f26d7a22e279fe3cec",
      "tree": {
        "sha": "769aaae12b7df5ebba46b5c05ffd687f05d6b3a5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/769aaae12b7df5ebba46b5c05ffd687f05d6b3a5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48fef5ebae58b0730619182007218941bd339768",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAl5YkhEACgkQLuufXMCV\nJsHQ0w/9HIEBXtGEQeCKds+y6NQn6Z2xo78RmcuO8Zx0LR0VNpYPJ1XklT4HfPWF\nuMF2Sb8T1HrSXkpzL4ICydWuNS09IZDGSgn4RUWYca7oogQ0EnI8fPqkHMW7uSQU\nKBRbpM+00efD7dva2gjURSKhDtoUaU9mRVIIQ6WsxtPdnWqhFXBo5aJtoDkOyAha\nImVDoGFTz6vpjAFANemikgHWxYTxY7akkMxMn/C5iHXv7eLMvylViidvKnK+YP3n\nF0lIkxcT9bsHcqqWnmcTE7VpoBKgaLIvOUJTlIesCX+qxxBtcTvO00Da2etWpYvX\nWUZ6NFJhvS9xX9i8FX+q3PC439nWt4wpC8mSUi6+leOuvL+nmRUR2M/EOLcIySVK\n+o6ZfEXrZrnFRhqbokcrJ5/xy+FSJ2I8IbPAX1ZSfX+QS5TE+N4HbiMsvM6GhqJg\ngqwbxP1BHwJpKVxfsSALgFvUYxL8Z7380Y91iVClSs1qPY7+HvA7gQei2WrQ+6Qx\nti2OBP8cvAjNGZrDFz5f3thfeXCSo59E6fI6Vj1L8RYIVLtcWLf2snzDqQlPNsBK\n8hfq0UocTxqklYfUd+/VktOCJWCks54GAtnbpCTy+njZLSjfeuV2XMHCSr5xeUtP\nXyFUlna+GLBHmyknGC1MEp06rQHusAUrcOWq/j8UZ/jj9tSyoYI=\n=lrmH\n-----END PGP SIGNATURE-----",
        "payload": "tree 769aaae12b7df5ebba46b5c05ffd687f05d6b3a5\nparent 1964561a3a5eacbb27139e9125859854c0e77437\nauthor Russell Yanofsky <russ@yanofsky.org> 1581458033 -0500\ncommitter fanquake <fanquake@gmail.com> 1582862859 +0800\n\ngui: Fix race in WalletModel::pollBalanceChanged\n\nPoll function was wrongly setting cached height to the current chain height\ninstead of the chain height at the time of polling.\n\nThis bug could cause balances to appear out of date, and was first introduced\nhttps://github.com/bitcoin/bitcoin/pull/10244/commits/a0704a8996bb950ae3c4d5b5a30e9dfe34cde1d3#r378452145\nBefore that commit, there wasn't a problem because cs_main was held during the\npoll update.\n\nCurrently, the problem should be rare. But if\n8937d99ce81a27ae5e1012a28323c0e26d89c50b from #17954 were merged, the problem\nwould get worse, because the wrong cachedNumBlocks value would be set if the\nwallet was polled in the interval between a block being connected and it\nprocessing the BlockConnected notification.\n\nMarcoFalke <falke.marco@gmail.com> also points out that a0704a8996b could lead\nto GUI hangs as well, because previously the pollBalanceChanged method, which\nruns on the GUI thread, would only make a nonblocking TRY_LOCK(cs_main) call,\nbut after could make blocking LOCK(cs_main) calls, potentially locking up the\nGUI.\n\nThanks to John Newbery <john@johnnewbery.com> for finding this bug this while\nreviewing https://github.com/bitcoin/bitcoin/pull/17954.\n\nGithub-Pull: #18123\nRebased-From: bf36a3ccc212ad4d7c5cb8f26d7a22e279fe3cec\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48fef5ebae58b0730619182007218941bd339768",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48fef5ebae58b0730619182007218941bd339768",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48fef5ebae58b0730619182007218941bd339768/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1964561a3a5eacbb27139e9125859854c0e77437",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1964561a3a5eacbb27139e9125859854c0e77437",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1964561a3a5eacbb27139e9125859854c0e77437"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "cb8dd3cc10e840a42584ce720fe4c1de91d5b7ae",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48fef5ebae58b0730619182007218941bd339768/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48fef5ebae58b0730619182007218941bd339768/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=48fef5ebae58b0730619182007218941bd339768",
        "patch": "@@ -81,12 +81,12 @@ void WalletModel::pollBalanceChanged()\n         return;\n     }\n \n-    if(fForceCheckBalanceChanged || m_node.getNumBlocks() != cachedNumBlocks)\n+    if(fForceCheckBalanceChanged || numBlocks != cachedNumBlocks)\n     {\n         fForceCheckBalanceChanged = false;\n \n         // Balance and number of transactions might have changed\n-        cachedNumBlocks = m_node.getNumBlocks();\n+        cachedNumBlocks = numBlocks;\n \n         checkBalanceChanged(new_balances);\n         if(transactionTableModel)"
      }
    ]
  }
]