[
  {
    "sha": "5ddf56045ad65162c7cd5c757c81d9446299a5aa",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZGRmNTYwNDVhZDY1MTYyYzdjZDVjNzU3YzgxZDk0NDYyOTlhNWFh",
    "commit": {
      "author": {
        "name": "Jim Posen",
        "email": "jimpo@coinbase.com",
        "date": "2017-09-28T02:49:18Z"
      },
      "committer": {
        "name": "Jim Posen",
        "email": "jimpo@coinbase.com",
        "date": "2017-09-28T02:49:18Z"
      },
      "message": "script: Change SignatureHash input index check to an assert.\n\nIn the SignatureHash function, the input index must refer to a valid\nindex. This is not enforced equally in the segwit/non-segwit branches\nand should be an assertion rather than returning a error hash.",
      "tree": {
        "sha": "858a75ffe10592458f7f15608c1a3289da97faf6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/858a75ffe10592458f7f15608c1a3289da97faf6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ddf56045ad65162c7cd5c757c81d9446299a5aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ddf56045ad65162c7cd5c757c81d9446299a5aa",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5ddf56045ad65162c7cd5c757c81d9446299a5aa",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ddf56045ad65162c7cd5c757c81d9446299a5aa/comments",
    "author": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jimpo",
      "id": 881253,
      "node_id": "MDQ6VXNlcjg4MTI1Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/881253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimpo",
      "html_url": "https://github.com/jimpo",
      "followers_url": "https://api.github.com/users/jimpo/followers",
      "following_url": "https://api.github.com/users/jimpo/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimpo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimpo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimpo/subscriptions",
      "organizations_url": "https://api.github.com/users/jimpo/orgs",
      "repos_url": "https://api.github.com/users/jimpo/repos",
      "events_url": "https://api.github.com/users/jimpo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimpo/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ef8340d25f7c5dd5682bdecea97ce84cfce1493c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ef8340d25f7c5dd5682bdecea97ce84cfce1493c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ef8340d25f7c5dd5682bdecea97ce84cfce1493c"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 2,
      "deletions": 4
    },
    "files": [
      {
        "sha": "77314e8cb22cbf59bf89020b77a6053b4774abbd",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 4,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5ddf56045ad65162c7cd5c757c81d9446299a5aa/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5ddf56045ad65162c7cd5c757c81d9446299a5aa/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=5ddf56045ad65162c7cd5c757c81d9446299a5aa",
        "patch": "@@ -1175,6 +1175,8 @@ PrecomputedTransactionData::PrecomputedTransactionData(const CTransaction& txTo)\n \n uint256 SignatureHash(const CScript& scriptCode, const CTransaction& txTo, unsigned int nIn, int nHashType, const CAmount& amount, SigVersion sigversion, const PrecomputedTransactionData* cache)\n {\n+    assert(nIn < txTo.vin.size());\n+\n     if (sigversion == SIGVERSION_WITNESS_V0) {\n         uint256 hashPrevouts;\n         uint256 hashSequence;\n@@ -1221,10 +1223,6 @@ uint256 SignatureHash(const CScript& scriptCode, const CTransaction& txTo, unsig\n     }\n \n     static const uint256 one(uint256S(\"0000000000000000000000000000000000000000000000000000000000000001\"));\n-    if (nIn >= txTo.vin.size()) {\n-        //  nIn out of range\n-        return one;\n-    }\n \n     // Check for invalid use of SIGHASH_SINGLE\n     if ((nHashType & 0x1f) == SIGHASH_SINGLE) {"
      }
    ]
  }
]