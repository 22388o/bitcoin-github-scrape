[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345428838",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#issuecomment-345428838",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11714",
    "id": 345428838,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQyODgzOA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-18T08:59:03Z",
    "updated_at": "2017-11-18T08:59:03Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345428838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345509023",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#issuecomment-345509023",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11714",
    "id": 345509023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTUwOTAyMw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-19T11:18:09Z",
    "updated_at": "2017-11-19T11:18:09Z",
    "author_association": "MEMBER",
    "body": "utACK, thanks for adding test coverage",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345509023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345816610",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#issuecomment-345816610",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11714",
    "id": 345816610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTgxNjYxMA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T20:11:31Z",
    "updated_at": "2017-11-20T20:11:31Z",
    "author_association": "MEMBER",
    "body": "utACK 65e91f5edf555691d0e5809d441cff7fa63ba722",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/345816610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863505",
    "pull_request_review_id": 77641986,
    "id": 151863505,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg2MzUwNQ==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;\n+\n+    coinbaseTx.nVersion = 1;\n+    coinbaseTx.vin.resize(1);\n+    coinbaseTx.vout.resize(1);\n+    coinbaseTx.vin[0].scriptSig = CScript() << OP_11 << OP_EQUAL;\n+    coinbaseTx.vout[0].nValue = 1 * CENT;\n+    coinbaseTx.vout[0].scriptPubKey = scriptPubKey;\n+\n+    assert(CTransaction(coinbaseTx).IsCoinBase());\n+\n+    CValidationState state;\n+\n+    LOCK(cs_main);\n+\n+    unsigned int initialPoolSize = mempool.size();\n+\n+    BOOST_CHECK_EQUAL(\n+            false,\n+            AcceptToMemoryPool(mempool, state, MakeTransactionRef(coinbaseTx),\n+                nullptr /* pfMissingInputs */,\n+                nullptr /* plTxnReplaced */,\n+                true /* bypass_limits */,\n+                0 /* nAbsurdFee */));\n+\n+    // Check that the transaction hasn't been added to mempool.\n+    BOOST_CHECK_EQUAL(mempool.size(), initialPoolSize);\n+\n+    // Check that the validation state reflects the unsuccesful attempt.\n+    BOOST_CHECK(state.IsInvalid());\n+    BOOST_CHECK_EQUAL(state.GetRejectReason(), \"coinbase\");\n+\n+    int nDoS;\n+    BOOST_CHECK_EQUAL(state.IsInvalid(nDoS), true);",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 57,
    "original_position": 57,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Call this above:\r\n```cpp\r\nint nDoS;\r\nBOOST_CHECK(state.IsInvalid(nDoS), true);\r\nBOOST_CHECK_EQUAL(nDoS, 100);\r\nBOOST_CHECK_EQUAL(state.GetRejectReason(), \"coinbase\");\r\n```",
    "created_at": "2017-11-19T12:48:49Z",
    "updated_at": "2017-11-19T22:19:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863505",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863505"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863505"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 57,
    "original_line": 57,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863526",
    "pull_request_review_id": 77641986,
    "id": 151863526,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg2MzUyNg==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 23,
    "original_position": 23,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit, inline below?",
    "created_at": "2017-11-19T12:49:30Z",
    "updated_at": "2017-11-19T12:51:39Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863526",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863526"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863526"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 23,
    "original_line": 23,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863544",
    "pull_request_review_id": 77641986,
    "id": 151863544,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MTg2MzU0NA==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit, just `tx`.",
    "created_at": "2017-11-19T12:50:16Z",
    "updated_at": "2017-11-19T12:51:39Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863544",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863544"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r151863544"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/151863544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 24,
    "original_line": 24,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152102352",
    "pull_request_review_id": 77912766,
    "id": 152102352,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjEwMjM1Mg==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;\n+\n+    coinbaseTx.nVersion = 1;\n+    coinbaseTx.vin.resize(1);\n+    coinbaseTx.vout.resize(1);\n+    coinbaseTx.vin[0].scriptSig = CScript() << OP_11 << OP_EQUAL;\n+    coinbaseTx.vout[0].nValue = 1 * CENT;\n+    coinbaseTx.vout[0].scriptPubKey = scriptPubKey;\n+\n+    assert(CTransaction(coinbaseTx).IsCoinBase());\n+\n+    CValidationState state;\n+\n+    LOCK(cs_main);\n+\n+    unsigned int initialPoolSize = mempool.size();\n+\n+    BOOST_CHECK_EQUAL(\n+            false,\n+            AcceptToMemoryPool(mempool, state, MakeTransactionRef(coinbaseTx),\n+                nullptr /* pfMissingInputs */,\n+                nullptr /* plTxnReplaced */,\n+                true /* bypass_limits */,\n+                0 /* nAbsurdFee */));\n+\n+    // Check that the transaction hasn't been added to mempool.\n+    BOOST_CHECK_EQUAL(mempool.size(), initialPoolSize);\n+\n+    // Check that the validation state reflects the unsuccesful attempt.\n+    BOOST_CHECK(state.IsInvalid());\n+    BOOST_CHECK_EQUAL(state.GetRejectReason(), \"coinbase\");\n+\n+    int nDoS;\n+    BOOST_CHECK_EQUAL(state.IsInvalid(nDoS), true);",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 57,
    "original_position": 57,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@MarcoFalke any reason to not consider the suggestion?",
    "created_at": "2017-11-20T20:29:10Z",
    "updated_at": "2017-11-20T20:29:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152102352",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152102352"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152102352"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152102352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 57,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 151863505
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152115643",
    "pull_request_review_id": 77928067,
    "id": 152115643,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjExNTY0Mw==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;\n+\n+    coinbaseTx.nVersion = 1;\n+    coinbaseTx.vin.resize(1);\n+    coinbaseTx.vout.resize(1);\n+    coinbaseTx.vin[0].scriptSig = CScript() << OP_11 << OP_EQUAL;\n+    coinbaseTx.vout[0].nValue = 1 * CENT;\n+    coinbaseTx.vout[0].scriptPubKey = scriptPubKey;\n+\n+    assert(CTransaction(coinbaseTx).IsCoinBase());\n+\n+    CValidationState state;\n+\n+    LOCK(cs_main);\n+\n+    unsigned int initialPoolSize = mempool.size();\n+\n+    BOOST_CHECK_EQUAL(\n+            false,\n+            AcceptToMemoryPool(mempool, state, MakeTransactionRef(coinbaseTx),\n+                nullptr /* pfMissingInputs */,\n+                nullptr /* plTxnReplaced */,\n+                true /* bypass_limits */,\n+                0 /* nAbsurdFee */));\n+\n+    // Check that the transaction hasn't been added to mempool.\n+    BOOST_CHECK_EQUAL(mempool.size(), initialPoolSize);\n+\n+    // Check that the validation state reflects the unsuccesful attempt.\n+    BOOST_CHECK(state.IsInvalid());\n+    BOOST_CHECK_EQUAL(state.GetRejectReason(), \"coinbase\");\n+\n+    int nDoS;\n+    BOOST_CHECK_EQUAL(state.IsInvalid(nDoS), true);",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 57,
    "original_position": 57,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "jamesob",
      "id": 73197,
      "node_id": "MDQ6VXNlcjczMTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73197?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesob",
      "html_url": "https://github.com/jamesob",
      "followers_url": "https://api.github.com/users/jamesob/followers",
      "following_url": "https://api.github.com/users/jamesob/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesob/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesob/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesob/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesob/orgs",
      "repos_url": "https://api.github.com/users/jamesob/repos",
      "events_url": "https://api.github.com/users/jamesob/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesob/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@promag was happy to make the change but didn't have time yet, though it's worth noting that I'm uncertain on what the real difference would be aside from cosmetics. Note that `state.IsInvalid` with and without an argument call to separate methods, so why not get coverage on both?",
    "created_at": "2017-11-20T21:26:54Z",
    "updated_at": "2017-11-20T21:26:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152115643",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152115643"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152115643"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152115643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 57,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 151863505
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152223604",
    "pull_request_review_id": 78050868,
    "id": 152223604,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjIyMzYwNA==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;\n+\n+    coinbaseTx.nVersion = 1;\n+    coinbaseTx.vin.resize(1);\n+    coinbaseTx.vout.resize(1);\n+    coinbaseTx.vin[0].scriptSig = CScript() << OP_11 << OP_EQUAL;\n+    coinbaseTx.vout[0].nValue = 1 * CENT;\n+    coinbaseTx.vout[0].scriptPubKey = scriptPubKey;\n+\n+    assert(CTransaction(coinbaseTx).IsCoinBase());\n+\n+    CValidationState state;\n+\n+    LOCK(cs_main);\n+\n+    unsigned int initialPoolSize = mempool.size();\n+\n+    BOOST_CHECK_EQUAL(\n+            false,\n+            AcceptToMemoryPool(mempool, state, MakeTransactionRef(coinbaseTx),\n+                nullptr /* pfMissingInputs */,\n+                nullptr /* plTxnReplaced */,\n+                true /* bypass_limits */,\n+                0 /* nAbsurdFee */));\n+\n+    // Check that the transaction hasn't been added to mempool.\n+    BOOST_CHECK_EQUAL(mempool.size(), initialPoolSize);\n+\n+    // Check that the validation state reflects the unsuccesful attempt.\n+    BOOST_CHECK(state.IsInvalid());\n+    BOOST_CHECK_EQUAL(state.GetRejectReason(), \"coinbase\");\n+\n+    int nDoS;\n+    BOOST_CHECK_EQUAL(state.IsInvalid(nDoS), true);",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 57,
    "original_position": 57,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "To me this seems mostly a cosmetic nit, subject to personal preference of style. For test related pulls I don't see a reason to block them solely based on style nits.",
    "created_at": "2017-11-21T09:51:33Z",
    "updated_at": "2017-11-21T09:51:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152223604",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152223604"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152223604"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152223604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 57,
    "original_line": 57,
    "side": "RIGHT",
    "in_reply_to_id": 151863505
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152266711",
    "pull_request_review_id": 78100808,
    "id": 152266711,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjI2NjcxMQ==",
    "diff_hunk": "@@ -0,0 +1,61 @@\n+// Copyright (c) 2017 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <validation.h>\n+#include <txmempool.h>\n+#include <amount.h>\n+#include <consensus/validation.h>\n+#include <primitives/transaction.h>\n+#include <script/script.h>\n+#include <test/test_bitcoin.h>\n+\n+#include <boost/test/unit_test.hpp>\n+\n+\n+BOOST_AUTO_TEST_SUITE(txvalidation_tests)\n+\n+/**\n+ * Ensure that the mempool won't accept coinbase transactions.\n+ */\n+BOOST_FIXTURE_TEST_CASE(tx_mempool_reject_coinbase, TestChain100Setup)\n+{\n+    CScript scriptPubKey = CScript() << ToByteVector(coinbaseKey.GetPubKey()) << OP_CHECKSIG;\n+    CMutableTransaction coinbaseTx;\n+\n+    coinbaseTx.nVersion = 1;\n+    coinbaseTx.vin.resize(1);\n+    coinbaseTx.vout.resize(1);\n+    coinbaseTx.vin[0].scriptSig = CScript() << OP_11 << OP_EQUAL;\n+    coinbaseTx.vout[0].nValue = 1 * CENT;\n+    coinbaseTx.vout[0].scriptPubKey = scriptPubKey;\n+\n+    assert(CTransaction(coinbaseTx).IsCoinBase());",
    "path": "src/test/txvalidation_tests.cpp",
    "position": 33,
    "original_position": 33,
    "commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "original_commit_id": "65e91f5edf555691d0e5809d441cff7fa63ba722",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: In the future use `BOOST_REQUIRE`?",
    "created_at": "2017-11-21T12:56:09Z",
    "updated_at": "2017-11-21T12:56:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152266711",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152266711"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11714#discussion_r152266711"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11714"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152266711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 33,
    "original_line": 33,
    "side": "RIGHT"
  }
]