[
  {
    "sha": "fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTY1ODNjMzBiZjdkODJjZjdmZmRhZTk5NWY4ZjE2NTI0YWQyYzBk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-08-15T07:36:13Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-08-15T07:24:46Z"
      },
      "message": "ci: Set increased --timeout-factor by default",
      "tree": {
        "sha": "d53647bd24012f91aa8a82cd53d6e0e8c7dfc18b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d53647bd24012f91aa8a82cd53d6e0e8c7dfc18b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUi9Dgv+NfW8wYjGhOzp3uAygYWQ92GhO+jf3vkmOCZio8wsfFRbuA4ZX89AqJUc\nQK03Y1Q9x8DYlF/rwyC9LjQLL5MYZLG4pvxY0b9E2bjGcnqEzdiKNsmGMtf2INhN\nBIk8P1CVl+r0e/75lEjR0ojtKF4d+I+hNweEodFyQ71eXNRXrccCZW2QCXD7CV4+\nw/+F88k7WvHjEKyc/eous+II3EphdnUhUCY2NXKII1b85LnApZiynD2mxeBwAcBP\nLEaZMVGPwiG6n5/1ndnKWiQs+OgmDIQpdjsNlc5DoOHeuQsEux/fy7OpJyiRZgkd\nelxcEdZ8Y0/W+nf+teTawhhnRIAooiuyCN99g2ujOg9j2DwQQ6vU4u9IZFT8pMg2\n40wJ9+wKPJv4rLdNLZ7mnlMeoNm1gc5H5y94WSwLYEX2QqKc5hsAY8Pgj7dQGFEZ\nPPLuFQ1fW/P19PqQWZinI1TAzvvAm51Wnb0pN0rff4ONwSp54Do5QHcyRShMxCi6\nUd85RXyr\n=tkdU\n-----END PGP SIGNATURE-----",
        "payload": "tree d53647bd24012f91aa8a82cd53d6e0e8c7dfc18b\nparent 30dd562fd2c58536fa026fff9853b8d825216b01\nauthor MarcoFalke <falke.marco@gmail.com> 1597476973 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1597476286 +0200\n\nci: Set increased --timeout-factor by default\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "30dd562fd2c58536fa026fff9853b8d825216b01",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/30dd562fd2c58536fa026fff9853b8d825216b01",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/30dd562fd2c58536fa026fff9853b8d825216b01"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 7,
      "deletions": 4
    },
    "files": [
      {
        "sha": "702e88186252621e5b8787ef8d89788556173c26",
        "filename": "ci/test/00_setup_env.sh",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env.sh?ref=fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "patch": "@@ -35,6 +35,10 @@ export USE_BUSY_BOX=${USE_BUSY_BOX:-false}\n export RUN_UNIT_TESTS=${RUN_UNIT_TESTS:-true}\n export RUN_FUNCTIONAL_TESTS=${RUN_FUNCTIONAL_TESTS:-true}\n export RUN_SECURITY_TESTS=${RUN_SECURITY_TESTS:-false}\n+# By how much to scale the test_runner timeouts (option --timeout-factor).\n+# This is needed because some ci machines have slow CPU or disk, so sanitizers\n+# might be slow or a reindex might be waiting on disk IO.\n+export TEST_RUNNER_TIMEOUT_FACTOR=${TEST_RUNNER_TIMEOUT_FACTOR:-4}\n export TEST_RUNNER_ENV=${TEST_RUNNER_ENV:-}\n export RUN_FUZZ_TESTS=${RUN_FUZZ_TESTS:-false}\n export EXPECTED_TESTS_DURATION_IN_SECONDS=${EXPECTED_TESTS_DURATION_IN_SECONDS:-1000}"
      },
      {
        "sha": "251ece79842ade2a7f290b18fcb90f0eeaace372",
        "filename": "ci/test/00_setup_env_native_asan.sh",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_asan.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_asan.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_asan.sh?ref=fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "patch": "@@ -10,6 +10,5 @@ export CONTAINER_NAME=ci_native_asan\n export PACKAGES=\"clang llvm python3-zmq qtbase5-dev qttools5-dev-tools libevent-dev bsdmainutils libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev libdb5.3++-dev libminiupnpc-dev libzmq3-dev libqrencode-dev\"\n export DOCKER_NAME_TAG=ubuntu:20.04\n export NO_DEPENDS=1\n-export TEST_RUNNER_EXTRA=\"--timeout-factor=4\"  # Increase timeout because sanitizers slow down\n export GOAL=\"install\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --with-gui=qt5 CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' --with-sanitizers=address,integer,undefined CC=clang CXX=clang++ --with-boost-process\""
      },
      {
        "sha": "b14a46562c58c2bbf5c4eaf7abd65338ca1c008d",
        "filename": "ci/test/00_setup_env_native_tsan.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_tsan.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_tsan.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_tsan.sh?ref=fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "patch": "@@ -10,6 +10,6 @@ export CONTAINER_NAME=ci_native_tsan\n export DOCKER_NAME_TAG=ubuntu:20.04\n export PACKAGES=\"clang llvm libc++abi-dev libc++-dev python3-zmq\"\n export DEP_OPTS=\"CC=clang CXX='clang++ -stdlib=libc++'\"\n-export TEST_RUNNER_EXTRA=\"--exclude feature_block --timeout-factor=4\"  # Increase timeout because sanitizers slow down. Low memory on Travis machines, exclude feature_block.\n+export TEST_RUNNER_EXTRA=\"--exclude feature_block\"  # Low memory on Travis machines, exclude feature_block.\n export GOAL=\"install\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-gui=no CPPFLAGS='-DARENA_DEBUG -DDEBUG_LOCKORDER' CXXFLAGS='-g' --with-sanitizers=thread CC=clang CXX='clang++ -stdlib=libc++' --with-boost-process\""
      },
      {
        "sha": "710d9e1011e5d9019fefcc88c9d369e709597357",
        "filename": "ci/test/00_setup_env_native_valgrind.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_valgrind.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/00_setup_env_native_valgrind.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_valgrind.sh?ref=fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "patch": "@@ -10,6 +10,6 @@ export CONTAINER_NAME=ci_native_valgrind\n export PACKAGES=\"valgrind clang llvm python3-zmq libevent-dev bsdmainutils libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev libdb5.3++-dev libminiupnpc-dev libzmq3-dev\"\n export USE_VALGRIND=1\n export NO_DEPENDS=1\n-export TEST_RUNNER_EXTRA=\"--exclude rpc_bind --timeout-factor=4\"  # Excluded for now, see https://github.com/bitcoin/bitcoin/issues/17765#issuecomment-602068547\n+export TEST_RUNNER_EXTRA=\"--exclude rpc_bind\"  # Excluded for now, see https://github.com/bitcoin/bitcoin/issues/17765#issuecomment-602068547\n export GOAL=\"install\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --with-gui=no CC=clang CXX=clang++\"  # TODO enable GUI"
      },
      {
        "sha": "6c14a3dfbeda5360ba604dbce850abcdcda883b1",
        "filename": "ci/test/06_script_b.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/06_script_b.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d/ci/test/06_script_b.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/06_script_b.sh?ref=fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "patch": "@@ -35,7 +35,7 @@ fi\n \n if [ \"$RUN_FUNCTIONAL_TESTS\" = \"true\" ]; then\n   BEGIN_FOLD functional-tests\n-  DOCKER_EXEC LD_LIBRARY_PATH=$DEPENDS_DIR/$HOST/lib ${TEST_RUNNER_ENV} test/functional/test_runner.py --ci $MAKEJOBS --tmpdirprefix \"${BASE_SCRATCH_DIR}/test_runner/\" --ansi --combinedlogslen=4000 ${TEST_RUNNER_EXTRA} --quiet --failfast\n+  DOCKER_EXEC LD_LIBRARY_PATH=$DEPENDS_DIR/$HOST/lib ${TEST_RUNNER_ENV} test/functional/test_runner.py --ci $MAKEJOBS --tmpdirprefix \"${BASE_SCRATCH_DIR}/test_runner/\" --ansi --combinedlogslen=4000 --timeout-factor=${TEST_RUNNER_TIMEOUT_FACTOR} ${TEST_RUNNER_EXTRA} --quiet --failfast\n   END_FOLD\n fi\n "
      }
    ]
  },
  {
    "sha": "fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTMzMGVjMmZlNWY1YmE2OGE4ZDQzZmZmMGIxOTU4NGMwYjFmZjM5",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-08-15T12:04:52Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-08-15T12:01:54Z"
      },
      "message": "test: Remove confusing and broken use of wait_until global",
      "tree": {
        "sha": "bc47c5c90cb494f3d6467bee74da4ca407c53dde",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bc47c5c90cb494f3d6467bee74da4ca407c53dde"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjsKgwAtryVFIlVlMDwkcDYMtOcqaBs1cAPIf7rwYwGFlJqDSFDv6kZkWzrpYv8\nJIyTNDkw9sgufXAlrn49H+nGuU060c330O8q7LdF/HD4kNpLcwgKtksoTh9ehY2j\n5WrsgE3oziXdCG4lefgGTD9Lbwb1bPRBFSLCaTPMTFXrUm2wKaa+dIQWS6VlIlvF\nYsjvTMo89v80ax1b1fN6lQZp7vPz7BklUUIRK/YV+G8tiCStkjwaGFXyBwntDBJ+\nhUDgS9uLYXPJ0uAu5GZqQoO3LYiAe2W8rAfa04vUZ2HDQosZ6mWMXqTzotSfy+3s\nes8qnjJENiHeJqEodg+NQL34je09oSPLPIzrJzd0qpluH4Bf6njmqvpNh6JQ5SuE\ns/GCRAU5hrTWjdK+km9finZSuSFkbjMzU++n4otrPh1Io+cKU1q0BgP1SXNwRq2Q\nh4Uyptz2BX9IfOQPrX78w7lrXjq4SObBCVzbPGGcTC6pvSL7T/OBC1bF7ZLtEHoj\nTuf6pzil\n=LazH\n-----END PGP SIGNATURE-----",
        "payload": "tree bc47c5c90cb494f3d6467bee74da4ca407c53dde\nparent fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d\nauthor MarcoFalke <falke.marco@gmail.com> 1597493092 +0200\ncommitter MarcoFalke <falke.marco@gmail.com> 1597492914 +0200\n\ntest: Remove confusing and broken use of wait_until global\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa6583c30bf7d82cf7ffdae995f8f16524ad2c0d"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 2,
      "deletions": 3
    },
    "files": [
      {
        "sha": "71a1a3f4f62ac327381a4fbc0dc07d47c7cd6744",
        "filename": "test/functional/wallet_basic.py",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39/test/functional/wallet_basic.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39/test/functional/wallet_basic.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_basic.py?ref=fa330ec2fe5f5ba68a8d43fff0b19584c0b1ff39",
        "patch": "@@ -12,7 +12,6 @@\n     assert_fee_amount,\n     assert_raises_rpc_error,\n     connect_nodes,\n-    wait_until,\n )\n from test_framework.wallet_util import test_address\n \n@@ -540,7 +539,7 @@ def run_test(self):\n             self.start_node(2, [m, \"-limitancestorcount=\" + str(chainlimit)])\n             if m == '-reindex':\n                 # reindex will leave rpc warm up \"early\"; Wait for it to finish\n-                wait_until(lambda: [block_count] * 3 == [self.nodes[i].getblockcount() for i in range(3)])\n+                self.wait_until(lambda: [block_count] * 3 == [self.nodes[i].getblockcount() for i in range(3)])\n             assert_equal(balance_nodes, [self.nodes[i].getbalance() for i in range(3)])\n \n         # Exercise listsinceblock with the last two blocks\n@@ -589,7 +588,7 @@ def run_test(self):\n         self.start_node(0, extra_args=extra_args)\n \n         # wait until the wallet has submitted all transactions to the mempool\n-        wait_until(lambda: len(self.nodes[0].getrawmempool()) == chainlimit * 2)\n+        self.wait_until(lambda: len(self.nodes[0].getrawmempool()) == chainlimit * 2)\n \n         node0_balance = self.nodes[0].getbalance()\n         # With walletrejectlongchains we will not create the tx and store it in our wallet."
      }
    ]
  }
]