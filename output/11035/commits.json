[
  {
    "sha": "84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NGUyNDYyY2NmMGFmN2U0OGM4YWM3Y2JlYTZhMzdhMDc3YWYwZTEx",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2017-08-12T15:15:49Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2017-08-16T19:39:31Z"
      },
      "message": "contrib: Add Valgrind suppressions file\n\nIncludes known Valgrind warnings in our dependencies that cannot be fixed in-tree.\n\nExample use:\n\n```\n$ valgrind --suppressions=contrib/valgrind.supp src/test/test_bitcoin\n$ valgrind --suppressions=contrib/valgrind.supp --leak-check=full \\\n      --show-leak-kinds=all src/test/test_bitcoin --log_level=test_suite\n```",
      "tree": {
        "sha": "96a517c25473ab106e2934e90164b5fc15c182a8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/96a517c25473ab106e2934e90164b5fc15c182a8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e526ca6284b9e13be1b912b80dd73a34e739b539",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e526ca6284b9e13be1b912b80dd73a34e739b539",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e526ca6284b9e13be1b912b80dd73a34e739b539"
      }
    ],
    "stats": {
      "total": 43,
      "additions": 43,
      "deletions": 0
    },
    "files": [
      {
        "sha": "0f6d993fd2b4ad45ec10b9324d40edfb96afa9d8",
        "filename": "contrib/valgrind.supp",
        "status": "added",
        "additions": 43,
        "deletions": 0,
        "changes": 43,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11/contrib/valgrind.supp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11/contrib/valgrind.supp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/valgrind.supp?ref=84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
        "patch": "@@ -0,0 +1,43 @@\n+# Valgrind suppressions file for Bitcoin.\n+#\n+# Includes known Valgrind warnings in our dependencies that cannot be fixed\n+# in-tree.\n+#\n+# Example use:\n+# $ valgrind --suppressions=contrib/valgrind.supp src/test/test_bitcoin\n+# $ valgrind --suppressions=contrib/valgrind.supp --leak-check=full \\\n+#       --show-leak-kinds=all src/test/test_bitcoin --log_level=test_suite\n+{\n+   Suppress libstdc++ warning - https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65434\n+   Memcheck:Leak\n+   match-leak-kinds: reachable\n+   fun:malloc\n+   obj:*/libstdc++.*\n+   fun:call_init.part.0\n+   fun:call_init\n+   fun:_dl_init\n+   obj:*/ld-*.so\n+}\n+{\n+   Suppress libdb warning - https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=662917\n+   Memcheck:Cond\n+   obj:*/libdb_cxx-*.so\n+   fun:__log_put\n+   obj:*/libdb_cxx-*.so\n+   fun:__log_put_record\n+}\n+{\n+   Suppress leveldb warning (leveldb::InitModule()) - https://github.com/google/leveldb/issues/113\n+   Memcheck:Leak\n+   match-leak-kinds: reachable\n+   fun:_Znwm\n+   fun:_ZN7leveldbL10InitModuleEv\n+}\n+{\n+   Suppress leveldb warning (leveldb::Env::Default()) - https://github.com/google/leveldb/issues/113\n+   Memcheck:Leak\n+   match-leak-kinds: reachable\n+   fun:_Znwm\n+   ...\n+   fun:_ZN7leveldbL14InitDefaultEnvEv\n+}"
      }
    ]
  },
  {
    "sha": "4a426d89002034ed1c127624cae95b4a7f540dd1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0YTQyNmQ4OTAwMjAzNGVkMWMxMjc2MjRjYWU5NWI0YTdmNTQwZGQx",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2017-11-12T16:07:35Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2017-11-12T16:11:47Z"
      },
      "message": "Add note about Valgrind suppressions file in developer-notes.md",
      "tree": {
        "sha": "049e310c82e9ca462c8a44c6d17a15f58e20c723",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/049e310c82e9ca462c8a44c6d17a15f58e20c723"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4a426d89002034ed1c127624cae95b4a7f540dd1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4a426d89002034ed1c127624cae95b4a7f540dd1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4a426d89002034ed1c127624cae95b4a7f540dd1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4a426d89002034ed1c127624cae95b4a7f540dd1/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/84e2462ccf0af7e48c8ac7cbea6a37a077af0e11"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 15,
      "deletions": 0
    },
    "files": [
      {
        "sha": "de0026a0a50750b0f5959167858d9b1c87554187",
        "filename": "doc/developer-notes.md",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4a426d89002034ed1c127624cae95b4a7f540dd1/doc/developer-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4a426d89002034ed1c127624cae95b4a7f540dd1/doc/developer-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/developer-notes.md?ref=4a426d89002034ed1c127624cae95b4a7f540dd1",
        "patch": "@@ -165,6 +165,21 @@ can be very difficult to track down. Compiling with -DDEBUG_LOCKORDER (configure\n CXXFLAGS=\"-DDEBUG_LOCKORDER -g\") inserts run-time checks to keep track of which locks\n are held, and adds warnings to the debug.log file if inconsistencies are detected.\n \n+**Valgrind suppressions file**\n+\n+Valgrind is a programming tool for memory debugging, memory leak detection, and\n+profiling. The repo contains a Valgrind suppressions file\n+([`valgrind.supp`](https://github.com/bitcoin/bitcoin/blob/master/contrib/valgrind.supp))\n+which includes known Valgrind warnings in our dependencies that cannot be fixed\n+in-tree. Example use:\n+\n+```shell\n+$ valgrind --suppressions=contrib/valgrind.supp src/test/test_bitcoin\n+$ valgrind --suppressions=contrib/valgrind.supp --leak-check=full \\\n+      --show-leak-kinds=all src/test/test_bitcoin --log_level=test_suite\n+$ valgrind -v --leak-check=full src/bitcoind -printtoconsole\n+```\n+\n Locking/mutex usage notes\n -------------------------\n "
      }
    ]
  }
]