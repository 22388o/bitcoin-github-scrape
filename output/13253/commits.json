[
  {
    "sha": "b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiOGFhY2Q2NjBlYjk0NjBiNmE4NmQ0NDAyZDg4NmYwYmIzMmFmMmI0",
    "commit": {
      "author": {
        "name": "Suhas Daftuar",
        "email": "sdaftuar@gmail.com",
        "date": "2018-05-09T17:14:21Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2018-05-17T02:50:28Z"
      },
      "message": "[qa] Handle disconnect_node race\n\nSeveral tests call disconnect_nodes() on each node-pair in rapid\nsuccession, resulting in a race condition if a node disconnects a peer\nin-between the calculation of the nodeid's to disconnect and the\ninvocation of the disconnectnode rpc call.  Handle this.\n\nGitHub-Pull: #13201\nRebased-From: 09c6699",
      "tree": {
        "sha": "b0b428da3cf66f625c88f806d44dad3fc36778c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b0b428da3cf66f625c88f806d44dad3fc36778c2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlr87fQTHGZhbnF1YWtl\nQGdtYWlsLmNvbQAKCRAu659cwJUmwXPWD/4vtgHH62RR8Bf1iphbMcIHPyqjUrst\nWt8oPQwk5/bHX5LI+6NkqvfW9kBRVYRD7esRN/Njn7AtKl3jB5kVjmGettCtHwJD\nynKUIwfGzmvuMwBt38QFsrM1WcnpXRxecATIH/WqDjBs66cJ1WSwQrGxL9QaZtzX\nz3JZ1Ir6iQ8mE9aful3pgd2opNNVsuxV+rZsB8ES2qmchoTXzyjw9Y9ESzSAxjCU\nC6oBnSu7R06FTldIh75Zgb+7q02tVLXQUUSActFCXZGoTkYflOqBy3NR8UalWmzN\nspSol1qZ8QgW1QUA/Qv9Xjw2EHYiJ21EpF+jQFwe81GSG356ObYT8/YB9txFNWam\nCn+1r1N9qpXDQoe7LdNlzI7jU+cSP4xCF0vN3Db7LNGBwrN1K6Y/exSX4sNoZ+db\nnNUSxnANbc+5IRnRWyIDMOdKm28+/4AYHoXCSzznJt8xuzoLbwsaejmy/mq/ul0z\nxGopf1OYTkmmfe/zoZvKDeGD4hVvqGSwdupFkGUQ1o1nnASwXtxxh6V1DTtXKozN\nkwjjsIfmIM4xz5TybpewJGw5rM8cQBVn/ki9Eh1fvxehPKApt8kxApaSFPvTPDea\nquLYJb8Co/eqWcdlZ0xgrzJZw+nUI0vIWZH8vfGe+0BtFcw/eBteBr1IbqNCstvP\nZtCL87Lc2mxUNw==\n=mQbZ\n-----END PGP SIGNATURE-----",
        "payload": "tree b0b428da3cf66f625c88f806d44dad3fc36778c2\nparent feba12fe85e89a1cdd6a022872d73fd6e7b307a9\nauthor Suhas Daftuar <sdaftuar@gmail.com> 1525886061 -0400\ncommitter fanquake <fanquake@gmail.com> 1526525428 +0800\n\n[qa] Handle disconnect_node race\n\nSeveral tests call disconnect_nodes() on each node-pair in rapid\nsuccession, resulting in a race condition if a node disconnects a peer\nin-between the calculation of the nodeid's to disconnect and the\ninvocation of the disconnectnode rpc call.  Handle this.\n\nGitHub-Pull: #13201\nRebased-From: 09c6699\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b8aacd660eb9460b6a86d4402d886f0bb32af2b4/comments",
    "author": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "feba12fe85e89a1cdd6a022872d73fd6e7b307a9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/feba12fe85e89a1cdd6a022872d73fd6e7b307a9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/feba12fe85e89a1cdd6a022872d73fd6e7b307a9"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 8,
      "deletions": 1
    },
    "files": [
      {
        "sha": "8251da5f2f83dc7bdfe652ed6c330355b69b6b68",
        "filename": "test/functional/test_framework/util.py",
        "status": "modified",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b8aacd660eb9460b6a86d4402d886f0bb32af2b4/test/functional/test_framework/util.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b8aacd660eb9460b6a86d4402d886f0bb32af2b4/test/functional/test_framework/util.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/util.py?ref=b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
        "patch": "@@ -335,7 +335,14 @@ def set_node_times(nodes, t):\n \n def disconnect_nodes(from_connection, node_num):\n     for peer_id in [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']]:\n-        from_connection.disconnectnode(nodeid=peer_id)\n+        try:\n+            from_connection.disconnectnode(nodeid=peer_id)\n+        except JSONRPCException as e:\n+            # If this node is disconnected between calculating the peer id\n+            # and issuing the disconnect, don't worry about it.\n+            # This avoids a race condition if we're mass-disconnecting peers.\n+            if e.error['code'] != -29: # RPC_CLIENT_NODE_NOT_CONNECTED\n+                raise\n \n     # wait to disconnect\n     wait_until(lambda: [peer['id'] for peer in from_connection.getpeerinfo() if \"testnode%d\" % node_num in peer['subver']] == [], timeout=5)"
      }
    ]
  },
  {
    "sha": "4087dd08e7df5beedc335f4518b64eeab6a382c1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MDg3ZGQwOGU3ZGY1YmVlZGMzMzVmNDUxOGI2NGVlYWI2YTM4MmMx",
    "commit": {
      "author": {
        "name": "David A. Harding",
        "email": "dave@dtrt.org",
        "date": "2018-05-07T13:59:17Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2018-05-17T02:50:28Z"
      },
      "message": "RPC Docs: gettxout*: clarify bestblock and unspent counts\n\nGitHub-Pull: #13184\nRebased-From: f30e9be",
      "tree": {
        "sha": "624ca7d0b9704e9a637116632526c32d18937952",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/624ca7d0b9704e9a637116632526c32d18937952"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4087dd08e7df5beedc335f4518b64eeab6a382c1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlr87fUTHGZhbnF1YWtl\nQGdtYWlsLmNvbQAKCRAu659cwJUmwaBmEACwNSRMQBdKm8EQXfj/CisD34MYItXK\nHH/4gGCONF3duWgq8Z90/o1TnKq5ltzRdODrqH7Lu2gWBikAXCXrXhBOHRWcCkwR\nzBPmI/P0c9EbnjRE09fOO8tB335XvMWHm622ttlR7idoGdFtbK+NF+jgIBkNbPKP\nHdewmJIw2kWnxbsD4RctQGQub+OxndxapZmIvwiAGb2OKBDMzytpWKBTn9vYYP3w\nW+XQvrZVohsr9WLjfLJXhLMMs2q7WgOyehtgL7Jd6LJe/glWXUVbxo015781lrd+\np86EAroVI0uyVjKMH+rK3aBlPC/gzCJFgHiu6qXFf5+YoDyUFIbJ7egCsOx0Mc0p\n0gGqO3taGOcoWuonLhKZp1Gnt8RxwauuUWNt/yZAmehcTkHQXy2E0TH2KyL/biN1\niIlICtVwdjZU+Nv82GyijUl7pqJg9jYKw8AeHk36K3J0pCkoPd0fX0ouRiAddcla\nq326cKnxn3sbLdIh8LHNIyLUoM4NfLvU3qrz+eOMVyLnTVFoJNWkdCsk8MU3/9an\nOrCKPCNIfMv4YHm/vaaF0oa7scvllQq4sBScczflqsAsDmkZRex9zXtvM68yhZVI\n6huDV0RFtvrnxwm/PxnNvOydUEwxDL7JsGuY5stJlZtAE9bgjPmzFWTJ2+Ejz+Ax\naETAnGjjD7lx9Q==\n=26eE\n-----END PGP SIGNATURE-----",
        "payload": "tree 624ca7d0b9704e9a637116632526c32d18937952\nparent b8aacd660eb9460b6a86d4402d886f0bb32af2b4\nauthor David A. Harding <dave@dtrt.org> 1525701557 -0400\ncommitter fanquake <fanquake@gmail.com> 1526525428 +0800\n\nRPC Docs: gettxout*: clarify bestblock and unspent counts\n\nGitHub-Pull: #13184\nRebased-From: f30e9be\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4087dd08e7df5beedc335f4518b64eeab6a382c1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4087dd08e7df5beedc335f4518b64eeab6a382c1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4087dd08e7df5beedc335f4518b64eeab6a382c1/comments",
    "author": {
      "login": "harding",
      "id": 61096,
      "node_id": "MDQ6VXNlcjYxMDk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/61096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/harding",
      "html_url": "https://github.com/harding",
      "followers_url": "https://api.github.com/users/harding/followers",
      "following_url": "https://api.github.com/users/harding/following{/other_user}",
      "gists_url": "https://api.github.com/users/harding/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/harding/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/harding/subscriptions",
      "organizations_url": "https://api.github.com/users/harding/orgs",
      "repos_url": "https://api.github.com/users/harding/repos",
      "events_url": "https://api.github.com/users/harding/events{/privacy}",
      "received_events_url": "https://api.github.com/users/harding/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b8aacd660eb9460b6a86d4402d886f0bb32af2b4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b8aacd660eb9460b6a86d4402d886f0bb32af2b4"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "14d0541cd70a37933eb7a3179f4752e9c8e529f8",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4087dd08e7df5beedc335f4518b64eeab6a382c1/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4087dd08e7df5beedc335f4518b64eeab6a382c1/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=4087dd08e7df5beedc335f4518b64eeab6a382c1",
        "patch": "@@ -934,9 +934,9 @@ UniValue gettxoutsetinfo(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"height\\\":n,     (numeric) The current block height (index)\\n\"\n-            \"  \\\"bestblock\\\": \\\"hex\\\",   (string) the best block hash hex\\n\"\n-            \"  \\\"transactions\\\": n,      (numeric) The number of transactions\\n\"\n-            \"  \\\"txouts\\\": n,            (numeric) The number of output transactions\\n\"\n+            \"  \\\"bestblock\\\": \\\"hex\\\",   (string) The hash of the block at the tip of the chain\\n\"\n+            \"  \\\"transactions\\\": n,      (numeric) The number of transactions with unspent outputs\\n\"\n+            \"  \\\"txouts\\\": n,            (numeric) The number of unspent transaction outputs\\n\"\n             \"  \\\"bogosize\\\": n,          (numeric) A meaningless metric for UTXO set size\\n\"\n             \"  \\\"hash_serialized_2\\\": \\\"hash\\\", (string) The serialized hash\\n\"\n             \"  \\\"disk_size\\\": n,         (numeric) The estimated size of the chainstate on disk\\n\"\n@@ -979,7 +979,7 @@ UniValue gettxout(const JSONRPCRequest& request)\n             \"     Note that an unspent output that is spent in the mempool won't appear.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"bestblock\\\" : \\\"hash\\\",    (string) the block hash\\n\"\n+            \"  \\\"bestblock\\\":  \\\"hash\\\",    (string) The hash of the block at the tip of the chain\\n\"\n             \"  \\\"confirmations\\\" : n,       (numeric) The number of confirmations\\n\"\n             \"  \\\"value\\\" : x.xxx,           (numeric) The transaction value in \" + CURRENCY_UNIT + \"\\n\"\n             \"  \\\"scriptPubKey\\\" : {         (json object)\\n\""
      }
    ]
  },
  {
    "sha": "4c14e7b67cd411b501e4a77385389da0afc9dd16",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0YzE0ZTdiNjdjZDQxMWI1MDFlNGE3NzM4NTM4OWRhMGFmYzlkZDE2",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2018-04-19T15:07:54Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2018-05-17T02:50:28Z"
      },
      "message": "[wallet] Fix zapwallettxes/multiwallet interaction.\n\n-zapwallettxes should be disallowed when starting bitcoin in multiwallet\nmode.\n\nGitHub-Pull: #13030\nRebased-From: 3476e3c",
      "tree": {
        "sha": "4d5508aa98739e425bab0cc6f9270fa01ec7c317",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4d5508aa98739e425bab0cc6f9270fa01ec7c317"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4c14e7b67cd411b501e4a77385389da0afc9dd16",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlr87fUTHGZhbnF1YWtl\nQGdtYWlsLmNvbQAKCRAu659cwJUmwS1/D/0aM0j7ZV1s7ZKFMFmQFB/DfKJKo4/3\npZAPWc1WM6n/iZ1itkDLFuBSiBGJJPNifmRUT5OA4HwVDjcH3s6vjOISIjr/797j\nhoKpy/v1ukvIbSq8sGysQp1ixk8qAHKPZECoQoHimZRoJLPEht/exZiphTBXYhuK\nQhLkbVxZDKWCODlfMECKxconJ3NIkFZ4Bq/FNXiR3rXak/D6J9JJFe0WswDT/tV9\nmEBCMIYL2DCsrj2Je8kk29qeGupYnNnsZZOf2YXu6lpx/z5AB+2MT2l+MvSsSZYe\nUvY3pxzVAJXvqOE59aVAGkDLKFLPVcCCRK+CImR/YGJJNS6HaQQHFSjXD5sI5Y/S\nPJw3yWWYKeWvqR4dGDBplEkWY2YUJpYH4D0zArPNNKkwNhNxEwVgQhg+CwvFaES6\nnjfIy5iiS066n+dIDfNB9v06WSJmPlVTMjKMnylU5aj7h648cKbhO8Z7EiHW9oEQ\nbx0bAOU1SOUY9kO5P8BtUcSPDsgmvlsattriiULHGOr3rnqH+9bKJRpDEx3WkkUR\nvfOVHtX5QSIRfUVemr6x2OPKbXxBye/hi/QfjfU9GOIHor7QrpKluu7MEOKgMjMy\nZ8c6AUIs+6DLMkqo/EeKZBqRx/vIXAGcfpfwbYN5y2YDpSQvdk/Mc2dmqgDf6y41\njFEck1xUSusgyA==\n=tJg2\n-----END PGP SIGNATURE-----",
        "payload": "tree 4d5508aa98739e425bab0cc6f9270fa01ec7c317\nparent 4087dd08e7df5beedc335f4518b64eeab6a382c1\nauthor John Newbery <john@johnnewbery.com> 1524150474 -0400\ncommitter fanquake <fanquake@gmail.com> 1526525428 +0800\n\n[wallet] Fix zapwallettxes/multiwallet interaction.\n\n-zapwallettxes should be disallowed when starting bitcoin in multiwallet\nmode.\n\nGitHub-Pull: #13030\nRebased-From: 3476e3c\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c14e7b67cd411b501e4a77385389da0afc9dd16",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4c14e7b67cd411b501e4a77385389da0afc9dd16",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c14e7b67cd411b501e4a77385389da0afc9dd16/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4087dd08e7df5beedc335f4518b64eeab6a382c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4087dd08e7df5beedc335f4518b64eeab6a382c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4087dd08e7df5beedc335f4518b64eeab6a382c1"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 5,
      "deletions": 5
    },
    "files": [
      {
        "sha": "6e0b11cd9a8b798c6309bec3f0f1ebf30ccd5de0",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4c14e7b67cd411b501e4a77385389da0afc9dd16/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4c14e7b67cd411b501e4a77385389da0afc9dd16/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=4c14e7b67cd411b501e4a77385389da0afc9dd16",
        "patch": "@@ -82,19 +82,19 @@ bool WalletParameterInteraction()\n         }\n     }\n \n-    int zapwallettxes = gArgs.GetArg(\"-zapwallettxes\", 0);\n+    bool zapwallettxes = gArgs.GetBoolArg(\"-zapwallettxes\", false);\n     // -zapwallettxes implies dropping the mempool on startup\n-    if (zapwallettxes != 0 && gArgs.SoftSetBoolArg(\"-persistmempool\", false)) {\n-        LogPrintf(\"%s: parameter interaction: -zapwallettxes=%s -> setting -persistmempool=0\\n\", __func__, zapwallettxes);\n+    if (zapwallettxes && gArgs.SoftSetBoolArg(\"-persistmempool\", false)) {\n+        LogPrintf(\"%s: parameter interaction: -zapwallettxes enabled -> setting -persistmempool=0\\n\", __func__);\n     }\n \n     // -zapwallettxes implies a rescan\n-    if (zapwallettxes != 0) {\n+    if (zapwallettxes) {\n         if (is_multiwallet) {\n             return InitError(strprintf(\"%s is only allowed with a single wallet file\", \"-zapwallettxes\"));\n         }\n         if (gArgs.SoftSetBoolArg(\"-rescan\", true)) {\n-            LogPrintf(\"%s: parameter interaction: -zapwallettxes=%s -> setting -rescan=1\\n\", __func__, zapwallettxes);\n+            LogPrintf(\"%s: parameter interaction: -zapwallettxes enabled -> setting -rescan=1\\n\", __func__);\n         }\n     }\n "
      }
    ]
  },
  {
    "sha": "5ff571e90c9fa71e189863e9cb21d15d5991f7da",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZmY1NzFlOTBjOWZhNzFlMTg5ODYzZTljYjIxZDE1ZDU5OTFmN2Rh",
    "commit": {
      "author": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2018-04-19T15:13:47Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2018-05-18T06:09:34Z"
      },
      "message": "[wallet] [tests] Test disallowed multiwallet params\n\nAdd a test to check that bitcoind fails to start when specifying\n-zapwallettxes, -salvagewallet and -upgradewallet when running in\nmultiwallet mode.\n\nGitHub-Pull: #13030\nRebased-From: 1f83839",
      "tree": {
        "sha": "81c70402be65d74892d5c490b2bf1789fff9bb3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/81c70402be65d74892d5c490b2bf1789fff9bb3d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ff571e90c9fa71e189863e9cb21d15d5991f7da",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlr+biITHGZhbnF1YWtl\nQGdtYWlsLmNvbQAKCRAu659cwJUmwf7FEACpX7XFLZfvilg8wyxw0ZHY6RhmSpt2\n4SDz2CcAsQNuMSUgpdlYU6vKDtWFhIbJ9B0g59nBpDgVMNWuOq3S94LeUbIy7N5D\nlHg0t2GV2jRvxwfU7nXOmTu7LcwAhLZ4ZHOivxbQdORDLySyR+Aw9TkAV4zjbmwz\n78RAhaPhw5rMcuifAmJiYmmL7cfo1bJmCDuKHmEP2gHa1imVqQSoT9WUgrDTFFrt\nNzgzELkQgjV0mOun0mzEzZ75emSBFkj6g+ki97ByEG19QEWLFIPfGx4zbxTyYKlf\nzQvUlV+S0AX4Blf/qzDorc4K6awvcxqBhFmJQ7iImRp3Zi+9tmadFvWe6iX7rMlP\nVYPDyh+rJbY2oAo8UnA2RQBWaC+LOM/j01gvD6XfhNpnJlaNc90McVsDJI5scg4T\n5aji5YpPkIGLRKsA0KixGKRV/ckAMEaunYxrZNuQ81u7gFsGF1tagHZVPEcqGLrw\n99KTu4YXCABEHSy6MmS118andvyo6UGwgbl2sE3L2svlt1ykQy5pjSzQSpW8y/7T\nkZUpwX3U5XZ62/d/OnW6fv+ur4wpma1z7pOtyv5YIYVaAdWyl3LVqKnxZtos9H8S\ndiWBYkjqitlMAIrsxSis8ZbqfY+czC5Y+pzu1P28Ndzc/TGv8Se1zmz/jKDIxwAI\n97TfCNCH+8LkOw==\n=kXaC\n-----END PGP SIGNATURE-----",
        "payload": "tree 81c70402be65d74892d5c490b2bf1789fff9bb3d\nparent 4c14e7b67cd411b501e4a77385389da0afc9dd16\nauthor John Newbery <john@johnnewbery.com> 1524150827 -0400\ncommitter fanquake <fanquake@gmail.com> 1526623774 +0800\n\n[wallet] [tests] Test disallowed multiwallet params\n\nAdd a test to check that bitcoind fails to start when specifying\n-zapwallettxes, -salvagewallet and -upgradewallet when running in\nmultiwallet mode.\n\nGitHub-Pull: #13030\nRebased-From: 1f83839\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ff571e90c9fa71e189863e9cb21d15d5991f7da",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5ff571e90c9fa71e189863e9cb21d15d5991f7da",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ff571e90c9fa71e189863e9cb21d15d5991f7da/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4c14e7b67cd411b501e4a77385389da0afc9dd16",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c14e7b67cd411b501e4a77385389da0afc9dd16",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4c14e7b67cd411b501e4a77385389da0afc9dd16"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 13,
      "deletions": 0
    },
    "files": [
      {
        "sha": "3a34c43b7eef72dd6f65f6e068bea3ee5197698f",
        "filename": "test/functional/wallet_multiwallet.py",
        "status": "modified",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5ff571e90c9fa71e189863e9cb21d15d5991f7da/test/functional/wallet_multiwallet.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5ff571e90c9fa71e189863e9cb21d15d5991f7da/test/functional/wallet_multiwallet.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_multiwallet.py?ref=5ff571e90c9fa71e189863e9cb21d15d5991f7da",
        "patch": "@@ -56,6 +56,19 @@ def run_test(self):\n         open(not_a_dir, 'a').close()\n         self.assert_start_raises_init_error(0, ['-walletdir=' + not_a_dir], 'Error: Specified -walletdir \"' + not_a_dir + '\" is not a directory')\n \n+        self.log.info(\"Do not allow -zapwallettxes with multiwallet\")\n+        self.assert_start_raises_init_error(0, ['-zapwallettxes', '-wallet=w1', '-wallet=w2'], \"Error: -zapwallettxes is only allowed with a single wallet file\")\n+        self.assert_start_raises_init_error(0, ['-zapwallettxes=1', '-wallet=w1', '-wallet=w2'], \"Error: -zapwallettxes is only allowed with a single wallet file\")\n+        self.assert_start_raises_init_error(0, ['-zapwallettxes=2', '-wallet=w1', '-wallet=w2'], \"Error: -zapwallettxes is only allowed with a single wallet file\")\n+\n+        self.log.info(\"Do not allow -salvagewallet with multiwallet\")\n+        self.assert_start_raises_init_error(0, ['-salvagewallet', '-wallet=w1', '-wallet=w2'], \"Error: -salvagewallet is only allowed with a single wallet file\")\n+        self.assert_start_raises_init_error(0, ['-salvagewallet=1', '-wallet=w1', '-wallet=w2'], \"Error: -salvagewallet is only allowed with a single wallet file\")\n+\n+        self.log.info(\"Do not allow -upgradewallet with multiwallet\")\n+        self.assert_start_raises_init_error(0, ['-upgradewallet', '-wallet=w1', '-wallet=w2'], \"Error: -upgradewallet is only allowed with a single wallet file\")\n+        self.assert_start_raises_init_error(0, ['-upgradewallet=1', '-wallet=w1', '-wallet=w2'], \"Error: -upgradewallet is only allowed with a single wallet file\")\n+\n         # if wallets/ doesn't exist, datadir should be the default wallet dir\n         wallet_dir2 = data_dir('walletdir')\n         os.rename(wallet_dir(), wallet_dir2)"
      }
    ]
  },
  {
    "sha": "acdf4338221e35d5ec7b299bb18ccd953e28c985",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphY2RmNDMzODIyMWUzNWQ1ZWM3YjI5OWJiMThjY2Q5NTNlMjhjOTg1",
    "commit": {
      "author": {
        "name": "Jesse Cohen",
        "email": "jc@jc.lol",
        "date": "2018-04-15T15:22:28Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2018-05-18T06:10:39Z"
      },
      "message": "Hold cs_main while calling UpdatedBlockTip() and ui.NotifyBlockTip\n\nEnsures that callbacks are invoked in the order in which the chain is updated\nResolves #12978\n\nGitHub-Pull: #12988\nRebased-From: d86edd3",
      "tree": {
        "sha": "e873d3583a965dd667ca49a553e5ad61d996c5a7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e873d3583a965dd667ca49a553e5ad61d996c5a7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/acdf4338221e35d5ec7b299bb18ccd953e28c985",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAlr+bl8THGZhbnF1YWtl\nQGdtYWlsLmNvbQAKCRAu659cwJUmwRbtD/4jPoJblgzxqqYhdvxXzDsH5J2JLmBl\nwgIRwEgNIftDwI7PAXFQS8iRU3L7KcruAQWovaWyHn76NQEnWpR2WM1hTJ/LdZbB\ncCT6ZaF+BAU3s981ZP8aIVYeDfsJQ0Q8mV+E5BUG/r+lJ7DUR6kU5Q6I8JeMv1uf\nrAX6CulkAUef4Y/csnBBAevdzjRLXPTiAiT9I2XTJur9RDyBPG7b5KrEIhM+IPk7\nK7VxmyruhplwdiBrxsUbtxUBFjGCaM63mJd6ixMdKHqrXB94C+TxNbyG8j2bHaWx\n7Sf61IIXSQwKsfkBuxIPXn44A+PL1rX0GwEdkPbyIbO9SFB8OFMCnxphA2AxEgN6\nxy32ftFRl/g9t7+m++EqDlbbGpFSk9Ub/RC2yml7oKW2DB/hVnObPV7xC0XN9EJ3\nw6TuHG0USiZPeiLV7Q0b3+Oi0N12dE58/4/yIG2rnaA+03rYRiCD9UKCEZZszlmI\nBipDlydUbHCe8GRIFENOtK5MGdKp/MBCV2JpgBYrxYmglfSq8Sj+6mTV23MxAnFd\nnIrlf0G2t54OcQDY0rKzH0DRyJBWaX5XzB/h8WkqaTTExPwM0nMnrA77JVYG9G/l\n4Nje5KJp29pH64NMDQSM/o1J9UOrMOpqmP/uAML7cP1bs95dlUOO4eXrOJm965jH\ntja0GhIKrh4vYA==\n=i2VG\n-----END PGP SIGNATURE-----",
        "payload": "tree e873d3583a965dd667ca49a553e5ad61d996c5a7\nparent 5ff571e90c9fa71e189863e9cb21d15d5991f7da\nauthor Jesse Cohen <jc@jc.lol> 1523805748 -0400\ncommitter fanquake <fanquake@gmail.com> 1526623839 +0800\n\nHold cs_main while calling UpdatedBlockTip() and ui.NotifyBlockTip\n\nEnsures that callbacks are invoked in the order in which the chain is updated\nResolves #12978\n\nGitHub-Pull: #12988\nRebased-From: d86edd3\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/acdf4338221e35d5ec7b299bb18ccd953e28c985",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/acdf4338221e35d5ec7b299bb18ccd953e28c985",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/acdf4338221e35d5ec7b299bb18ccd953e28c985/comments",
    "author": {
      "login": "skeees",
      "id": 195769,
      "node_id": "MDQ6VXNlcjE5NTc2OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/195769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skeees",
      "html_url": "https://github.com/skeees",
      "followers_url": "https://api.github.com/users/skeees/followers",
      "following_url": "https://api.github.com/users/skeees/following{/other_user}",
      "gists_url": "https://api.github.com/users/skeees/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skeees/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skeees/subscriptions",
      "organizations_url": "https://api.github.com/users/skeees/orgs",
      "repos_url": "https://api.github.com/users/skeees/repos",
      "events_url": "https://api.github.com/users/skeees/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skeees/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5ff571e90c9fa71e189863e9cb21d15d5991f7da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ff571e90c9fa71e189863e9cb21d15d5991f7da",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5ff571e90c9fa71e189863e9cb21d15d5991f7da"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 13,
      "deletions": 10
    },
    "files": [
      {
        "sha": "f981d2659a73c0135470672e6fcca74fe4f03383",
        "filename": "src/validation.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 10,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/acdf4338221e35d5ec7b299bb18ccd953e28c985/src/validation.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/acdf4338221e35d5ec7b299bb18ccd953e28c985/src/validation.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validation.cpp?ref=acdf4338221e35d5ec7b299bb18ccd953e28c985",
        "patch": "@@ -351,7 +351,7 @@ bool CheckSequenceLocks(const CTransaction &tx, int flags, LockPoints* lp, bool\n \n     CBlockIndex* tip = chainActive.Tip();\n     assert(tip != nullptr);\n-    \n+\n     CBlockIndex index;\n     index.pprev = tip;\n     // CheckSequenceLocks() uses chainActive.Height()+1 to evaluate\n@@ -2607,18 +2607,17 @@ bool CChainState::ActivateBestChain(CValidationState &state, const CChainParams&\n                 assert(trace.pblock && trace.pindex);\n                 GetMainSignals().BlockConnected(trace.pblock, trace.pindex, trace.conflictedTxs);\n             }\n-        }\n-        // When we reach this point, we switched to a new tip (stored in pindexNewTip).\n \n-        // Notifications/callbacks that can run without cs_main\n+            // Notify external listeners about the new tip.\n+            // Enqueue while holding cs_main to ensure that UpdatedBlockTip is called in the order in which blocks are connected\n+            GetMainSignals().UpdatedBlockTip(pindexNewTip, pindexFork, fInitialDownload);\n \n-        // Notify external listeners about the new tip.\n-        GetMainSignals().UpdatedBlockTip(pindexNewTip, pindexFork, fInitialDownload);\n-\n-        // Always notify the UI if a new block tip was connected\n-        if (pindexFork != pindexNewTip) {\n-            uiInterface.NotifyBlockTip(fInitialDownload, pindexNewTip);\n+            // Always notify the UI if a new block tip was connected\n+            if (pindexFork != pindexNewTip) {\n+                uiInterface.NotifyBlockTip(fInitialDownload, pindexNewTip);\n+            }\n         }\n+        // When we reach this point, we switched to a new tip (stored in pindexNewTip).\n \n         if (nStopAtHeight && pindexNewTip && pindexNewTip->nHeight >= nStopAtHeight) StartShutdown();\n "
      },
      {
        "sha": "746263f11393241e5cfdcaa20a104b01cee4c131",
        "filename": "src/validationinterface.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/acdf4338221e35d5ec7b299bb18ccd953e28c985/src/validationinterface.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/acdf4338221e35d5ec7b299bb18ccd953e28c985/src/validationinterface.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validationinterface.cpp?ref=acdf4338221e35d5ec7b299bb18ccd953e28c985",
        "patch": "@@ -139,6 +139,10 @@ void CMainSignals::MempoolEntryRemoved(CTransactionRef ptx, MemPoolRemovalReason\n }\n \n void CMainSignals::UpdatedBlockTip(const CBlockIndex *pindexNew, const CBlockIndex *pindexFork, bool fInitialDownload) {\n+    // Dependencies exist that require UpdatedBlockTip events to be delivered in the order in which\n+    // the chain actually updates. One way to ensure this is for the caller to invoke this signal\n+    // in the same critical section where the chain is updated\n+\n     m_internals->m_schedulerClient.AddToProcessQueue([pindexNew, pindexFork, fInitialDownload, this] {\n         m_internals->UpdatedBlockTip(pindexNew, pindexFork, fInitialDownload);\n     });"
      }
    ]
  }
]