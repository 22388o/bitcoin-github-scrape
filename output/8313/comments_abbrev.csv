sipa,2016-07-07T16:01:29Z,Concept ACK\n,https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231125200,231125200,
theuni,2016-07-07T17:44:21Z,"Moving from a de-referenced shared_ptr is kinda wonky. How about passing a pointer to a list of shared_ptr instead, which you would grab using GetSharedTx rather than GetTx. Then as a bonus, you can use splice() rather than moving.\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231153762,231153762,
rodentrabies,2016-07-07T18:28:47Z,"@theuni, you mean replace `list<CTransaction>` with `list<shared_ptr<CTransaction>>` at the very top in removeForReorg(), or just in RemoveStaged()\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231166178,231166178,
theuni,2016-07-07T19:19:43Z,"@yurizhykin I mean everywhere this PR adds a `std::list<CTransaction>* removed` param, use `std::list<std::shared_ptr<CTransaction> >* removed` instead.\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231179985,231179985,
rodentrabies,2016-07-07T19:21:54Z,"OK, will fix it. Thanks for guidelines.\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231180541,231180541,
sipa,2016-07-07T19:22:59Z,Concept ACK on passing shared_ptr instead.\n,https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231180816,231180816,
rodentrabies,2016-07-08T23:28:06Z,"Okay, I'm not 100% sure I did exactly as I was told to, but as list for storing deleted transactions is passed down the stack from some top level point (in `main.cpp` and some tests), I had to replace `list<CTransaction>` declarations with `list<shared_ptr<const CTransaction>>` ones everywhere at those points. Also removed redundant `list<CTransaction> result` local variable declaration in `CTxMem",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-231495955,231495955,
sipa,2016-08-25T12:48:39Z,"I completely forgot about this PR when writing #8515. That one goes further though, and is based on top of #7946 (which this would need rebasing on).\n\nDo you still plan on working on this?\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-242373778,242373778,
rodentrabies,2016-08-28T19:00:56Z,"Well, as long as it is done way better in #8515, I should probably just close this one.\n",https://github.com/bitcoin/bitcoin/pull/8313#issuecomment-242992601,242992601,
