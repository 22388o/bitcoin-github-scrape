jnewbery,2020-07-28 13:32:01,Rebased to pick up the shellcheck fix,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-665042206,665042206,
instagibbs,2020-07-28 15:04:57,"Looks like wallet_resendwallettransactions.py is having the sads sometimes in travis:\n```\n  File ""/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/test/functional/wallet_resendwallettransactions.py"", line 47, in run_test\n    wtxid = int(node.getrawtransaction(hex(txid)[2:], 1)['hash'], 16)\n  File ""/home/travis/build/bitcoin/bitcoin/build/bitcoin-x86_64-pc-linux-gnu/test",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-665095155,665095155,
laanwj,2020-07-29 14:58:31,Concept ACK,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-665715935,665715935,
jonatack,2020-07-31 15:40:32,Concept ACK on backporting for a future 0.20.2 or later concomitant with 0.21.,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-667187711,667187711,
laanwj,2020-09-02 14:09:45,"Backport looks ok to me ACK 4daad798f3b5ea258cb183932956101e8df24e94\n",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-685762352,685762352,
jnewbery,2020-09-04 14:35:49,"Rebased\n\nSpecifically, there were conflicts around the conditionals for adding wtxid/txids to recent rejects in commits _Add wtxids to recentRejects_ and _Make TX_WITNESS_STRIPPED its own rejection reason_.\n\nIf it's too difficult to review those changes, we could revert #19680 so these are merged into V0.20 in the same order as master.",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-687184825,687184825,
fjahr,2020-09-04 23:29:43,"Code review ACK f5d90eadc182a2a3d1cffa4cc01b4fb68f9dc567\n\nConfirmed relevant commits to review: `git range-diff 0615a589dd70afd7280921b7e32f96c1e018cb99~1..4daad798f3b5ea258cb183932956101e8df24e94 220a18c3ca31ac542b08a6db402c79d20625feca~1..f5d90eadc182a2a3d1cffa4cc01b4fb68f9dc567` then checked these individually and also compared result to current master. ",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-687466275,687466275,
jnewbery,2020-09-23 12:44:27,"The appveyor build was reliably failing, so I've added two commits that might fix it (3ec8f4c080eab61563f11659c5f1370a34b77dc5 and a104caeb4008a6e0726ba604ece6f53549110354). If that unbreaks the build I'll remove those commits and open a separate PR to backport them.",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-697339790,697339790,
jnewbery,2020-09-24 12:24:43,Rebased to pick up appveyor fixes,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-698310309,698310309,
fjahr,2020-09-24 14:16:02,"re-ACK d4a1ee8f1d4c46ab726be83965bd86bace2ec1ec\n\nConfirmed no changes since my last review: `git range-diff 220a18c3ca31ac542b08a6db402c79d20625feca~1..f5d90eadc182a2a3d1cffa4cc01b4fb68f9dc567 80aa83aa406447d9b0932301b37966a30d0e1b6e..d4a1ee8f1d4c46ab726be83965bd86bace2ec1ec`",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-698373523,698373523,
jnewbery,2020-10-08 09:18:59,@instagibbs @laanwj - do you mind rereviewing?,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-705443767,705443767,
instagibbs,2020-10-08 11:18:42,"reACK https://github.com/bitcoin/bitcoin/pull/19606/commits/d4a1ee8f1d4c46ab726be83965bd86bace2ec1ec\n\n",https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-705503153,705503153,
jnewbery,2020-10-26 12:09:19,@laanwj: should be ok for merge if you reACK,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-716505898,716505898,
laanwj,2020-11-05 14:08:12,re-ACK d4a1ee8f1d4c46ab726be83965bd86bace2ec1ec,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-722400480,722400480,
jnewbery,2020-11-05 15:40:00,The follow-up PR #19569 is backported in #20317,https://github.com/bitcoin/bitcoin/pull/19606#issuecomment-722456983,722456983,
instagibbs,2020-07-28 14:45:43,"Note: two below here does not get changed to checking for\n```\n+            if (i.type == MSG_TX) or (i.type == MSG_WTX):\n```\nas in master PR. Tests seem to still work when I make the change.",https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461639743,461639743,test/functional/test_framework/mininode.py
instagibbs,2020-07-28 15:13:52,"This is dropping the padding left zeroes I think with `hex(txid)[2:]` converting a smaller int to hex.\n\nJust save txid above as a string, then convert to int after this line and use it directly, or:\n```\n""{0:0{1}x}"".format(txid, 64)\n```\n(I think former is easier :P )",https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461661784,461661784,test/functional/wallet_resendwallettransactions.py
jnewbery,2020-07-28 15:42:03,How interesting. Must be a python version thing. I needed to do this locally to strip off the leading `0x`. Will fix.,https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461681961,461681961,test/functional/wallet_resendwallettransactions.py
instagibbs,2020-07-28 15:43:47,"Sorry I mean for example the txid is like ""5"". It's going to just be `0x05` or something rather than `0x00000000....05`",https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461683147,461683147,test/functional/wallet_resendwallettransactions.py
instagibbs,2020-07-28 15:44:10,This will happen if the txid is a sufficiently small `int`,https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461683390,461683390,test/functional/wallet_resendwallettransactions.py
jnewbery,2020-07-28 16:09:58,got it. So if the leading byte is 0x00 this fails (1/256 times),https://github.com/bitcoin/bitcoin/pull/19606#discussion_r461701587,461701587,test/functional/wallet_resendwallettransactions.py
jnewbery,2020-07-29 09:02:49,Fixed,https://github.com/bitcoin/bitcoin/pull/19606#discussion_r462149870,462149870,test/functional/wallet_resendwallettransactions.py
fjahr,2020-09-02 09:52:59,"In 59f38ad8be2fdbbe2c6cc23bd8e6f226ac493d76 \n\nHm, here I deleted that test by accident which @instagibbs added back, see https://github.com/bitcoin/bitcoin/pull/19649. Might want to not remove it here as well.",https://github.com/bitcoin/bitcoin/pull/19606#discussion_r481946749,481946749,test/functional/p2p_segwit.py
