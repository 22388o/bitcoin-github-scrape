laanwj,2021-02-15 07:41:20,"The gains are quite impressive!\n\nThat said, this does make the code longer and quite a bit more complicated.\n\nWhat motivated you to optimize this specifically? Are you experiencing any behavior where decoding / encoding Base58 is in the critical path?",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-779019128,779019128,
martinus,2021-02-15 07:55:08,"In my tool [BitcoinUtxoVisualizer](https://github.com/martinus/BitcoinUtxoVisualizer) I am basically limited by the speed of how fast bitcoind can send me JSON block data. While profiling I saw `EncodeBase58` quite a few times so I had a look at it. It's about 2% faster or so with that change.\n\nSo for my use case honestly this change is probably not worth it. There are other much more importan",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-779027171,779027171,
laanwj,2021-02-15 08:13:32,"> In my tool BitcoinUtxoVisualizer I am basically limited by the speed of how fast bitcoind can send me JSON block data\n\nThanks, that makes sense.\n\n> might be worthwhile for others? If not, feel free to decline the PR, I'm perfectly fine with that!\n\nI'll leave that to others. If this can get enough review I'm fully okay with it! I'm not really declining this, my point was only that ""re",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-779038255,779038255,
practicalswift,2021-02-15 11:01:00,"Personally I find the existing version in `master` easier to reason about.\n\nI tend to prefer ""dumb and easy to reason about"" over ""cleverly optimised but harder to reason about"" in code that is not performance critical (as seen from a macro level).\n\nI don't mean to be boring: this is a clever optimization. I'm just afraid it might remove the ""trivially correct"" property of the code it opti",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-779143444,779143444,
martinus,2021-02-15 12:03:13,"I agree the existing version is easier to read. I did not look at IBD at all, are there still improvements to be done there? It seemed to me that it's already well optimized.\n\nI mostly profiled fetching JSON block data. The biggest optimization opportunity for this is reducing the global lock, and making univalue faster.",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-779177583,779177583,
martinus,2021-02-17 10:02:23,"Closing, as it's not performance relevant but critical code so more complexity is bad. Thanks for having a look!",https://github.com/bitcoin/bitcoin/pull/21176#issuecomment-780443888,780443888,
