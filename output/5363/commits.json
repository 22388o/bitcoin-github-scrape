[
  {
    "sha": "52bb7a7e1b69e7cc863621fb04958e0a39066138",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MmJiN2E3ZTFiNjllN2NjODYzNjIxZmIwNDk1OGUwYTM5MDY2MTM4",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-25T23:36:55Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-25T23:49:02Z"
      },
      "message": "gitian: update descriptors to use a sane uniform output",
      "tree": {
        "sha": "f61fa25038f1fb353eecd7c7e76e02df34e7a347",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f61fa25038f1fb353eecd7c7e76e02df34e7a347"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/52bb7a7e1b69e7cc863621fb04958e0a39066138",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/52bb7a7e1b69e7cc863621fb04958e0a39066138",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/52bb7a7e1b69e7cc863621fb04958e0a39066138",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/52bb7a7e1b69e7cc863621fb04958e0a39066138/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ac0b2393a447bb20f8b0489a67237c98a1cfff4a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ac0b2393a447bb20f8b0489a67237c98a1cfff4a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ac0b2393a447bb20f8b0489a67237c98a1cfff4a"
      }
    ],
    "stats": {
      "total": 91,
      "additions": 55,
      "deletions": 36
    },
    "files": [
      {
        "sha": "bba2104edb7ae3fe876a32b84772a36fd990245e",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 17,
        "deletions": 12,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=52bb7a7e1b69e7cc863621fb04958e0a39066138",
        "patch": "@@ -73,13 +73,13 @@ script: |\n   ./autogen.sh\n   ./configure --prefix=${BASEPREFIX}/`echo \"${HOSTS}\" | awk '{print $1;}'`\n   make dist\n-  DISTNAME=`echo bitcoin-*.tar.gz`\n-\n+  SOURCEDIST=`echo bitcoin-*.tar.gz`\n+  DISTNAME=`echo ${SOURCEDIST} | sed 's/.tar.*//'`\n   # Correct tar file order\n   mkdir -p temp\n   pushd temp\n-  tar xf ../$DISTNAME\n-  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$DISTNAME\n+  tar xf ../$SOURCEDIST\n+  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$SOURCEDIST\n   popd\n \n   ORIGPATH=\"$PATH\"\n@@ -88,17 +88,22 @@ script: |\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n-    tar --strip-components=1 -xf ../$DISTNAME\n+    INSTALLPATH=`pwd`/installed/${DISTNAME}\n+    mkdir -p ${INSTALLPATH}\n+    tar --strip-components=1 -xf ../$SOURCEDIST\n \n-    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${OUTDIR}/${i}/bin --includedir=${OUTDIR}/${i}/include --libdir=${OUTDIR}/${i}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n+    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${INSTALLPATH}/bin --includedir=${INSTALLPATH}/include --libdir=${INSTALLPATH}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make install-strip\n-    cd ..\n+    cd installed\n+    find . -name \"lib*.la\" -delete\n+    find . -name \"lib*.a\" -delete\n+    rm -rf ${DISTNAME}/lib/pkgconfig\n+    find . | sort | tar --no-recursion -c -T - | gzip -9n > ${OUTDIR}/${DISTNAME}-${i}.tar.gz\n+    cd ../../\n   done\n   mkdir -p $OUTDIR/src\n-  mv $DISTNAME $OUTDIR/src\n-  mv ${OUTDIR}/x86_64-* ${OUTDIR}/64\n-  mv ${OUTDIR}/i686-* ${OUTDIR}/32\n+  mv $SOURCEDIST $OUTDIR/src\n+  mv ${OUTDIR}/${DISTNAME}-x86_64-*.tar.gz ${OUTDIR}/${DISTNAME}-linux64.tar.gz\n+  mv ${OUTDIR}/${DISTNAME}-i686-*.tar.gz ${OUTDIR}/${DISTNAME}-linux32.tar.gz\n \n-  # Delete unwanted stuff\n-  find ${OUTDIR} -name \"lib*.la\" -delete"
      },
      {
        "sha": "cbe28e4f3422e2d19efb07929703d8532442c0e9",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 18,
        "deletions": 11,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=52bb7a7e1b69e7cc863621fb04958e0a39066138",
        "patch": "@@ -83,13 +83,14 @@ script: |\n   ./autogen.sh\n   ./configure --prefix=${BASEPREFIX}/`echo \"${HOSTS}\" | awk '{print $1;}'`\n   make dist\n-  DISTNAME=`echo bitcoin-*.tar.gz`\n+  SOURCEDIST=`echo bitcoin-*.tar.gz`\n+  DISTNAME=`echo ${SOURCEDIST} | sed 's/.tar.*//'`\n \n   # Correct tar file order\n   mkdir -p temp\n   pushd temp\n-  tar xf ../$DISTNAME\n-  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$DISTNAME\n+  tar xf ../$SOURCEDIST\n+  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$SOURCEDIST\n   popd\n \n   ORIGPATH=\"$PATH\"\n@@ -98,17 +99,23 @@ script: |\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n-    tar --strip-components=1 -xf ../$DISTNAME\n+    INSTALLPATH=`pwd`/installed/${DISTNAME}\n+    mkdir -p ${INSTALLPATH}\n+    tar --strip-components=1 -xf ../$SOURCEDIST\n \n-    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${OUTDIR}/${i}/bin --includedir=${OUTDIR}/${i}/include --libdir=${OUTDIR}/${i}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n+    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${INSTALLPATH}/bin --includedir=${INSTALLPATH}/include --libdir=${INSTALLPATH}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make install-strip\n     make deploy\n-    ${WRAP_DIR}/dmg dmg Bitcoin-Qt.dmg ${OUTDIR}/Bitcoin-Qt.dmg\n-    cd ..\n+    ${WRAP_DIR}/dmg dmg Bitcoin-Qt.dmg ${OUTDIR}/${DISTNAME}-osx.dmg\n+\n+    cd installed\n+    find . -name \"lib*.la\" -delete\n+    find . -name \"lib*.a\" -delete\n+    rm -rf ${DISTNAME}/lib/pkgconfig\n+    find . | sort | tar --no-recursion -c -T - | gzip -9n > ${OUTDIR}/${DISTNAME}-${i}.tar.gz\n+    cd ../../\n   done\n   mkdir -p $OUTDIR/src\n-  mv $DISTNAME $OUTDIR/src\n-\n-  # Delete unwanted stuff\n-  find ${OUTDIR} -name \"lib*.la\" -delete\n+  mv $SOURCEDIST $OUTDIR/src\n+  mv ${OUTDIR}/${DISTNAME}-x86_64-*.tar.gz ${OUTDIR}/${DISTNAME}-osx64.tar.gz"
      },
      {
        "sha": "97c823cde694321191ee517736b9e7c3beedccdd",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 20,
        "deletions": 13,
        "changes": 33,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/52bb7a7e1b69e7cc863621fb04958e0a39066138/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=52bb7a7e1b69e7cc863621fb04958e0a39066138",
        "patch": "@@ -17,6 +17,7 @@ packages:\n - \"mingw-w64\"\n - \"g++-mingw-w64\"\n - \"nsis\"\n+- \"zip\"\n reference_datetime: \"2013-06-01 00:00:00\"\n remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n@@ -27,7 +28,7 @@ script: |\n   HOSTS=\"x86_64-w64-mingw32 i686-w64-mingw32\"\n   CONFIGFLAGS=\"--enable-upnp-default\"\n   FAKETIME_HOST_PROGS=\"g++ ar ranlib nm windres strip\"\n-  FAKETIME_PROGS=\"date makensis\"\n+  FAKETIME_PROGS=\"date makensis zip\"\n \n   export QT_RCC_TEST=1\n   export GZIP=\"-9n\"\n@@ -75,13 +76,14 @@ script: |\n   ./autogen.sh\n   ./configure --prefix=${BASEPREFIX}/`echo \"${HOSTS}\" | awk '{print $1;}'`\n   make dist\n-  DISTNAME=`echo bitcoin-*.tar.gz`\n+  SOURCEDIST=`echo bitcoin-*.tar.gz`\n+  DISTNAME=`echo ${SOURCEDIST} | sed 's/.tar.*//'`\n \n   # Correct tar file order\n   mkdir -p temp\n   pushd temp\n-  tar xf ../$DISTNAME\n-  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$DISTNAME\n+  tar xf ../$SOURCEDIST\n+  find bitcoin-* | sort | tar --no-recursion -c -T - | gzip -9n > ../$SOURCEDIST\n   popd\n \n   ORIGPATH=\"$PATH\"\n@@ -90,19 +92,24 @@ script: |\n     export PATH=${BASEPREFIX}/${i}/native/bin:${ORIGPATH}\n     mkdir -p distsrc-${i}\n     cd distsrc-${i}\n-    tar --strip-components=1 -xf ../$DISTNAME\n+    INSTALLPATH=`pwd`/installed/${DISTNAME}\n+    mkdir -p ${INSTALLPATH}\n+    tar --strip-components=1 -xf ../$SOURCEDIST\n \n-    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${OUTDIR}/${i}/bin --includedir=${OUTDIR}/${i}/include --libdir=${OUTDIR}/${i}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n+    ./configure --prefix=${BASEPREFIX}/${i} --bindir=${INSTALLPATH}/bin --includedir=${INSTALLPATH}/include --libdir=${INSTALLPATH}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make deploy\n     make install-strip\n     cp -f bitcoin-*setup*.exe $OUTDIR/\n-    cd ..\n+    cd installed\n+    mv ${DISTNAME}/bin/*.dll ${DISTNAME}/lib/\n+    find . -name \"lib*.la\" -delete\n+    find . -name \"lib*.a\" -delete\n+    rm -rf ${DISTNAME}/lib/pkgconfig\n+    find . -type f | sort | zip -X@ ${OUTDIR}/${DISTNAME}-${i}.zip\n+    cd ../..\n   done\n   mkdir -p $OUTDIR/src\n-  mv $DISTNAME $OUTDIR/src\n-  mv ${OUTDIR}/x86_64-* ${OUTDIR}/64\n-  mv ${OUTDIR}/i686-* ${OUTDIR}/32\n-\n-  # Delete unwanted stuff\n-  find ${OUTDIR} -name \"lib*.la\" -delete\n+  mv $SOURCEDIST $OUTDIR/src\n+  mv ${OUTDIR}/${DISTNAME}-x86_64-*.zip ${OUTDIR}/${DISTNAME}-win64.zip\n+  mv ${OUTDIR}/${DISTNAME}-i686-*.zip ${OUTDIR}/${DISTNAME}-win32.zip"
      }
    ]
  },
  {
    "sha": "dfef929bf7770176908164baf79a30285ad3ed74",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZmVmOTI5YmY3NzcwMTc2OTA4MTY0YmFmNzlhMzAyODVhZDNlZDc0",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-25T23:37:34Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T00:26:40Z"
      },
      "message": "release: update docs to reflect new layout\n\n- Split linux32/linux64 releases\n- Split win32/win64 zips\n- Post-processing should no longer be required. The deterministic outputs are\n  ready for consumption.",
      "tree": {
        "sha": "2a6dfb19f65dcf9a51a767b0ed0b3327b13e5dea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2a6dfb19f65dcf9a51a767b0ed0b3327b13e5dea"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dfef929bf7770176908164baf79a30285ad3ed74",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dfef929bf7770176908164baf79a30285ad3ed74",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dfef929bf7770176908164baf79a30285ad3ed74",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dfef929bf7770176908164baf79a30285ad3ed74/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "52bb7a7e1b69e7cc863621fb04958e0a39066138",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/52bb7a7e1b69e7cc863621fb04958e0a39066138",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/52bb7a7e1b69e7cc863621fb04958e0a39066138"
      }
    ],
    "stats": {
      "total": 46,
      "additions": 10,
      "deletions": 36
    },
    "files": [
      {
        "sha": "df27c5829c124b5580615ec9fdff027fbff2de20",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 10,
        "deletions": 36,
        "changes": 46,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dfef929bf7770176908164baf79a30285ad3ed74/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dfef929bf7770176908164baf79a30285ad3ed74/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=dfef929bf7770176908164baf79a30285ad3ed74",
        "patch": "@@ -54,48 +54,22 @@ Release Process\n   \n \t./bin/gbuild --commit bitcoin=v${VERSION} ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n \t./bin/gsign --signer $SIGNER --release ${VERSION}-linux --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-linux.yml\n-\tpushd build/out\n-\tzip -r bitcoin-${VERSION}-linux-gitian.zip *\n-\tmv bitcoin-${VERSION}-linux-gitian.zip ../../../\n-\tpopd\n+\tmv build/out/bitcoin-*.tar.gz build/out/src/bitcoin-*.tar.gz ../\n \t./bin/gbuild --commit bitcoin=v${VERSION} ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n \t./bin/gsign --signer $SIGNER --release ${VERSION}-win --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n-\tpushd build/out\n-\tzip -r bitcoin-${VERSION}-win-gitian.zip *\n-\tmv bitcoin-${VERSION}-win-gitian.zip ../../../\n-\tpopd\n-        ./bin/gbuild --commit bitcoin=v${VERSION} ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n-        ./bin/gsign --signer $SIGNER --release ${VERSION}-osx --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n-\tpushd build/out\n-\tmv Bitcoin-Qt.dmg ../../../\n-\tpopd\n+\tmv build/out/bitcoin-*.zip build/out/bitcoin-*.exe ../\n+\t./bin/gbuild --commit bitcoin=v${VERSION} ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t./bin/gsign --signer $SIGNER --release ${VERSION}-osx --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\tmv build/out/bitcoin-*.tar.gz build/out/bitcoin-*.dmg ../\n \tpopd\n \n   Build output expected:\n \n-  1. linux 32-bit and 64-bit binaries + source (bitcoin-${VERSION}-linux-gitian.zip)\n-  2. windows 32-bit and 64-bit binaries + installer + source (bitcoin-${VERSION}-win-gitian.zip)\n-  3. OSX installer (Bitcoin-Qt.dmg)\n-  4. Gitian signatures (in gitian.sigs/${VERSION}-<linux|win|osx>/(your gitian key)/\n-\n-repackage gitian builds for release as stand-alone zip/tar/installer exe\n-\n-**Linux .tar.gz:**\n-\n-\tunzip bitcoin-${VERSION}-linux-gitian.zip -d bitcoin-${VERSION}-linux\n-\ttar czvf bitcoin-${VERSION}-linux.tar.gz bitcoin-${VERSION}-linux\n-\trm -rf bitcoin-${VERSION}-linux\n-\n-**Windows .zip and setup.exe:**\n-\n-\tunzip bitcoin-${VERSION}-win-gitian.zip -d bitcoin-${VERSION}-win\n-\tmv bitcoin-${VERSION}-win/bitcoin-*-setup.exe .\n-\tzip -r bitcoin-${VERSION}-win.zip bitcoin-${VERSION}-win\n-\trm -rf bitcoin-${VERSION}-win\n-\n-**Mac OS X .dmg:**\n-\n-\tmv Bitcoin-Qt.dmg bitcoin-${VERSION}-osx.dmg\n+  1. source tarball (bitcoin-${VERSION}.tar.gz)\n+  2. linux 32-bit and 64-bit binaries dist tarballs (bitcoin-${VERSION}-linux[32|64].tar.gz)\n+  3. windows 32-bit and 64-bit installers and dist zips (bitcoin-${VERSION}-win[32|64]-setup.exe, bitcoin-${VERSION}-win[32|64].zip)\n+  4. OSX installer (bitcoin-${VERSION}-osx.dmg)\n+  5. Gitian signatures (in gitian.sigs/${VERSION}-<linux|win|osx>/(your gitian key)/\n \n ###Next steps:\n "
      }
    ]
  },
  {
    "sha": "2f327a3c870fd9657bfa45d2c7a74250498ee737",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZjMyN2EzYzg3MGZkOTY1N2JmYTQ1ZDJjN2E3NDI1MDQ5OGVlNzM3",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-05-30T23:17:55Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T00:26:40Z"
      },
      "message": "build: add the deploydir target for gitian\n\nThis is a helper target that stops just before the creation of the dmg.",
      "tree": {
        "sha": "ad7917d9de04bd37fe602dffc985974b22466d23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ad7917d9de04bd37fe602dffc985974b22466d23"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2f327a3c870fd9657bfa45d2c7a74250498ee737",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f327a3c870fd9657bfa45d2c7a74250498ee737",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2f327a3c870fd9657bfa45d2c7a74250498ee737",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f327a3c870fd9657bfa45d2c7a74250498ee737/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dfef929bf7770176908164baf79a30285ad3ed74",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dfef929bf7770176908164baf79a30285ad3ed74",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/dfef929bf7770176908164baf79a30285ad3ed74"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 23,
      "deletions": 7
    },
    "files": [
      {
        "sha": "e144fb11e1ebe3edced3fc4fb82ded3af5fcd939",
        "filename": "Makefile.am",
        "status": "modified",
        "additions": 23,
        "deletions": 7,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f327a3c870fd9657bfa45d2c7a74250498ee737/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f327a3c870fd9657bfa45d2c7a74250498ee737/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/Makefile.am?ref=2f327a3c870fd9657bfa45d2c7a74250498ee737",
        "patch": "@@ -85,14 +85,30 @@ if BUILD_DARWIN\n $(OSX_DMG): $(OSX_APP_BUILT) $(OSX_PACKAGING)\n \t$(OSX_DEPLOY_SCRIPT) $(OSX_APP) -add-qt-tr $(OSX_QT_TRANSLATIONS) -translations-dir=$(QT_TRANSLATION_DIR) -dmg -fancy $(OSX_FANCY_PLIST) -verbose 2\n \n+deploydir: $(OSX_DMG)\n else\n-$(OSX_DMG): $(OSX_APP_BUILT) $(OSX_PACKAGING)\n-\tINSTALLNAMETOOL=$(INSTALLNAMETOOL)  OTOOL=$(OTOOL) STRIP=$(STRIP) $(OSX_DEPLOY_SCRIPT) $(OSX_APP) -add-qt-tr $(OSX_QT_TRANSLATIONS) -translations-dir=$(QT_TRANSLATION_DIR) -verbose 2\n-\t$(MKDIR_P) dist/.background\n-\t$(INSTALL) contrib/macdeploy/background.png dist/.background\n-\t$(INSTALL) contrib/macdeploy/DS_Store dist/.DS_Store\n-\tcd dist; $(LN_S) /Applications Applications\n-\t$(GENISOIMAGE) -no-cache-inodes -l -probe -V \"Bitcoin-Qt\" -no-pad -r -apple -o $@ dist\n+APP_DIST_DIR=$(top_builddir)/dist\n+APP_DIST_EXTRAS=$(APP_DIST_DIR)/.background/background.png $(APP_DIST_DIR)/.DS_Store $(APP_DIST_DIR)/Applications\n+\n+$(APP_DIST_DIR)/Applications:\n+\t@rm -f $@\n+\t@cd $(@D); $(LN_S) /Applications $(@F)\n+\n+$(APP_DIST_EXTRAS): $(APP_DIST_DIR)/$(OSX_APP)/Contents/MacOS/Bitcoin-Qt\n+\n+$(OSX_DMG): $(APP_DIST_EXTRAS)\n+\t$(GENISOIMAGE) -no-cache-inodes -D -l -probe -V \"Bitcoin-Qt\" -no-pad -r -apple -o $@ dist\n+\n+$(APP_DIST_DIR)/.background/background.png:\n+\t$(MKDIR_P) $(@D)\n+\t$(INSTALL) $(top_srcdir)/contrib/macdeploy/background.png $@\n+$(APP_DIST_DIR)/.DS_Store:\n+\t$(INSTALL) $(top_srcdir)/contrib/macdeploy/DS_Store $@\n+\n+$(APP_DIST_DIR)/$(OSX_APP)/Contents/MacOS/Bitcoin-Qt: $(OSX_APP_BUILT) $(OSX_PACKAGING)\n+\tINSTALLNAMETOOL=$(INSTALLNAMETOOL)  OTOOL=$(OTOOL) STRIP=$(STRIP) $(OSX_DEPLOY_SCRIPT) $(OSX_APP) -translations-dir=$(QT_TRANSLATION_DIR) -add-qt-tr $(OSX_QT_TRANSLATIONS) -verbose 2\n+\n+deploydir: $(APP_DIST_EXTRAS)\n endif\n \n if TARGET_DARWIN"
      }
    ]
  },
  {
    "sha": "d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNjllZDJiMjkxNjc1NGJkZWM3ZTQ3ODY0ZjBlYTE0MDdjOWVhYmI5",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-05-30T23:22:16Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T00:26:40Z"
      },
      "message": "build: Clean up the dmg layout",
      "tree": {
        "sha": "048d4e9721a0e3bb0222f98edb9dd8879838b781",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/048d4e9721a0e3bb0222f98edb9dd8879838b781"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d69ed2b2916754bdec7e47864f0ea1407c9eabb9/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2f327a3c870fd9657bfa45d2c7a74250498ee737",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f327a3c870fd9657bfa45d2c7a74250498ee737",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2f327a3c870fd9657bfa45d2c7a74250498ee737"
      }
    ],
    "stats": {
      "total": 0,
      "additions": 0,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7527dc671fbe8730abc2497c2717778a19a024c6",
        "filename": "contrib/macdeploy/DS_Store",
        "status": "modified",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d69ed2b2916754bdec7e47864f0ea1407c9eabb9/contrib/macdeploy/DS_Store",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d69ed2b2916754bdec7e47864f0ea1407c9eabb9/contrib/macdeploy/DS_Store",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/macdeploy/DS_Store?ref=d69ed2b2916754bdec7e47864f0ea1407c9eabb9"
      }
    ]
  },
  {
    "sha": "914868a05dfcae0f766283e0065aa36762cc5abe",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MTQ4NjhhMDVkZmNhZTBmNzY2MjgzZTAwNjVhYTM2NzYyY2M1YWJl",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-22T00:26:45Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T05:57:16Z"
      },
      "message": "build: add a deterministic dmg signer",
      "tree": {
        "sha": "23cead5a039391e4f018d885af87962d505d9bae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/23cead5a039391e4f018d885af87962d505d9bae"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/914868a05dfcae0f766283e0065aa36762cc5abe",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/914868a05dfcae0f766283e0065aa36762cc5abe",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/914868a05dfcae0f766283e0065aa36762cc5abe",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/914868a05dfcae0f766283e0065aa36762cc5abe/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d69ed2b2916754bdec7e47864f0ea1407c9eabb9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d69ed2b2916754bdec7e47864f0ea1407c9eabb9"
      }
    ],
    "stats": {
      "total": 155,
      "additions": 153,
      "deletions": 2
    },
    "files": [
      {
        "sha": "b51f477b7856d501e462f2c5d68409425bf53650",
        "filename": "Makefile.am",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914868a05dfcae0f766283e0065aa36762cc5abe/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914868a05dfcae0f766283e0065aa36762cc5abe/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/Makefile.am?ref=914868a05dfcae0f766283e0065aa36762cc5abe",
        "patch": "@@ -26,7 +26,9 @@ WINDOWS_PACKAGING = $(top_srcdir)/share/pixmaps/bitcoin.ico \\\n \n OSX_PACKAGING = $(OSX_DEPLOY_SCRIPT) $(OSX_FANCY_PLIST) $(OSX_INSTALLER_ICONS) \\\n   $(top_srcdir)/contrib/macdeploy/background.png \\\n-  $(top_srcdir)/contrib/macdeploy/DS_Store\n+  $(top_srcdir)/contrib/macdeploy/DS_Store \\\n+  $(top_srcdir)/contrib/macdeploy/detached-sig-apply.sh \\\n+  $(top_srcdir)/contrib/macdeploy/detached-sig-create.sh\n \n COVERAGE_INFO = baseline_filtered_combined.info baseline.info block_test.info \\\n   leveldb_baseline.info test_bitcoin_filtered.info total_coverage.info \\"
      },
      {
        "sha": "db9b4af93d0ef928d4add42db3bcffd6091116a7",
        "filename": "contrib/gitian-descriptors/gitian-osx-signer.yml",
        "status": "added",
        "additions": 37,
        "deletions": 0,
        "changes": 37,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/gitian-descriptors/gitian-osx-signer.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/gitian-descriptors/gitian-osx-signer.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx-signer.yml?ref=914868a05dfcae0f766283e0065aa36762cc5abe",
        "patch": "@@ -0,0 +1,37 @@\n+---\n+name: \"bitcoin-dmg-signer\"\n+suites:\n+- \"precise\"\n+architectures:\n+- \"amd64\"\n+packages:\n+- \"libc6:i386\"\n+- \"faketime\"\n+reference_datetime: \"2013-06-01 00:00:00\"\n+remotes: []\n+files:\n+- \"bitcoin-0.9.99-osx-unsigned.tar.gz\"\n+- \"signature.tar.gz\"\n+script: |\n+  WRAP_DIR=$HOME/wrapped\n+  mkdir -p ${WRAP_DIR}\n+  export PATH=`pwd`:$PATH\n+  FAKETIME_PROGS=\"dmg genisoimage\"\n+\n+  # Create global faketime wrappers\n+  for prog in ${FAKETIME_PROGS}; do\n+    echo '#!/bin/bash' > ${WRAP_DIR}/${prog}\n+    echo \"REAL=\\`which -a ${prog} | grep -v ${WRAP_DIR}/${prog} | head -1\\`\" >> ${WRAP_DIR}/${prog}\n+    echo 'export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1' >> ${WRAP_DIR}/${prog}\n+    echo \"export FAKETIME=\\\"${REFERENCE_DATETIME}\\\"\" >> ${WRAP_DIR}/${prog}\n+    echo \"\\$REAL \\$@\" >> $WRAP_DIR/${prog}\n+    chmod +x ${WRAP_DIR}/${prog}\n+  done\n+\n+  UNSIGNED=`echo bitcoin-*.tar.gz`\n+  SIGNED=`echo ${UNSIGNED} | sed 's/.tar.*//' | sed 's/-unsigned//'`.dmg\n+\n+  tar -xf ${UNSIGNED}\n+  ./detached-sig-apply.sh ${UNSIGNED} signature.tar.gz\n+  ${WRAP_DIR}/genisoimage -no-cache-inodes -D -l -probe -V \"Bitcoin-Qt\" -no-pad -r -apple -o uncompressed.dmg signed-app\n+  ${WRAP_DIR}/dmg dmg uncompressed.dmg ${OUTDIR}/${SIGNED}"
      },
      {
        "sha": "eb6df2096eb1fd199f44e9047ddf01890eeac3b0",
        "filename": "contrib/gitian-descriptors/gitian-osx.yml",
        "status": "modified",
        "additions": 14,
        "deletions": 1,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/gitian-descriptors/gitian-osx.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/gitian-descriptors/gitian-osx.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-osx.yml?ref=914868a05dfcae0f766283e0065aa36762cc5abe",
        "patch": "@@ -106,8 +106,21 @@ script: |\n     ./configure --prefix=${BASEPREFIX}/${i} --bindir=${INSTALLPATH}/bin --includedir=${INSTALLPATH}/include --libdir=${INSTALLPATH}/lib --disable-ccache --disable-maintainer-mode --disable-dependency-tracking ${CONFIGFLAGS}\n     make ${MAKEOPTS}\n     make install-strip\n+\n+    make deploydir\n+    mkdir -p unsigned-app-${i}\n+    cp contrib/macdeploy/detached-sig-apply.sh unsigned-app-${i}\n+    cp contrib/macdeploy/detached-sig-create.sh unsigned-app-${i}\n+    cp ${BASEPREFIX}/${i}/native/bin/dmg ${BASEPREFIX}/${i}/native/bin/genisoimage unsigned-app-${i}\n+    cp ${BASEPREFIX}/${i}/native/bin/${i}-codesign_allocate unsigned-app-${i}/codesign_allocate\n+    cp ${BASEPREFIX}/${i}/native/bin/${i}-pagestuff unsigned-app-${i}/pagestuff\n+    mv dist unsigned-app-${i}\n+    pushd unsigned-app-${i}\n+    find . | sort | tar --no-recursion -czf ${OUTDIR}/${DISTNAME}-osx-unsigned.tar.gz -T -\n+    popd\n+\n     make deploy\n-    ${WRAP_DIR}/dmg dmg Bitcoin-Qt.dmg ${OUTDIR}/${DISTNAME}-osx.dmg\n+    ${WRAP_DIR}/dmg dmg Bitcoin-Qt.dmg ${OUTDIR}/${DISTNAME}-osx-unsigned.dmg\n \n     cd installed\n     find . -name \"lib*.la\" -delete"
      },
      {
        "sha": "7b3eb1b19741a26238e38418899c39bbdaa4e9e7",
        "filename": "contrib/macdeploy/detached-sig-apply.sh",
        "status": "added",
        "additions": 53,
        "deletions": 0,
        "changes": 53,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/macdeploy/detached-sig-apply.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/macdeploy/detached-sig-apply.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/macdeploy/detached-sig-apply.sh?ref=914868a05dfcae0f766283e0065aa36762cc5abe",
        "patch": "@@ -0,0 +1,53 @@\n+#!/bin/sh\n+set -e\n+\n+UNSIGNED=$1\n+SIGNATURE=$2\n+ARCH=x86_64\n+ROOTDIR=dist\n+BUNDLE=${ROOTDIR}/Bitcoin-Qt.app\n+TEMPDIR=signed.temp\n+OUTDIR=signed-app\n+\n+if [ -z \"$UNSIGNED\" ]; then\n+  echo \"usage: $0 <unsigned app> <signature>\"\n+  exit 1\n+fi\n+\n+if [ -z \"$SIGNATURE\" ]; then\n+  echo \"usage: $0 <unsigned app> <signature>\"\n+  exit 1\n+fi\n+\n+rm -rf ${TEMPDIR} && mkdir -p ${TEMPDIR}\n+tar -C ${TEMPDIR} -xf ${UNSIGNED}\n+tar -C ${TEMPDIR} -xf ${SIGNATURE}\n+\n+if [ -z \"${PAGESTUFF}\" ]; then\n+  PAGESTUFF=${TEMPDIR}/pagestuff\n+fi\n+\n+if [ -z \"${CODESIGN_ALLOCATE}\" ]; then\n+  CODESIGN_ALLOCATE=${TEMPDIR}/codesign_allocate\n+fi\n+\n+for i in `find ${TEMPDIR} -name \"*.sign\"`; do\n+  SIZE=`stat -c %s ${i}`\n+  TARGET_FILE=`echo ${i} | sed 's/\\.sign$//'`\n+\n+  echo \"Allocating space for the signature of size ${SIZE} in ${TARGET_FILE}\"\n+  ${CODESIGN_ALLOCATE} -i ${TARGET_FILE} -a ${ARCH} ${SIZE} -o ${i}.tmp\n+\n+  OFFSET=`${PAGESTUFF} ${i}.tmp -p | tail -2 | grep offset | sed 's/[^0-9]*//g'`\n+  if [ -z ${QUIET} ]; then\n+    echo \"Attaching signature at offset ${OFFSET}\"\n+  fi\n+\n+  dd if=$i of=${i}.tmp bs=1 seek=${OFFSET} count=${SIZE} 2>/dev/null\n+  mv ${i}.tmp ${TARGET_FILE}\n+  rm ${i}\n+  echo \"Success.\"\n+done\n+mv ${TEMPDIR}/${ROOTDIR} ${OUTDIR}\n+rm -rf ${TEMPDIR}\n+echo \"Signed: ${OUTDIR}\""
      },
      {
        "sha": "aff4f08da8bec2e518ea4255fc8e2b802269b265",
        "filename": "contrib/macdeploy/detached-sig-create.sh",
        "status": "added",
        "additions": 46,
        "deletions": 0,
        "changes": 46,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/macdeploy/detached-sig-create.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914868a05dfcae0f766283e0065aa36762cc5abe/contrib/macdeploy/detached-sig-create.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/macdeploy/detached-sig-create.sh?ref=914868a05dfcae0f766283e0065aa36762cc5abe",
        "patch": "@@ -0,0 +1,46 @@\n+#!/bin/sh\n+set -e\n+\n+ROOTDIR=dist\n+BUNDLE=${ROOTDIR}/Bitcoin-Qt.app\n+CODESIGN=codesign\n+TEMPDIR=sign.temp\n+TEMPLIST=${TEMPDIR}/signatures.txt\n+OUT=signature.tar.gz\n+\n+if [ ! -n \"$1\" ]; then\n+  echo \"usage: $0 <codesign args>\"\n+  echo \"example: $0 -s MyIdentity\"\n+  exit 1\n+fi\n+\n+rm -rf ${TEMPDIR} ${TEMPLIST}\n+mkdir -p ${TEMPDIR}\n+\n+${CODESIGN} -f --file-list ${TEMPLIST} \"$@\" \"${BUNDLE}\"\n+\n+for i in `grep -v CodeResources ${TEMPLIST}`; do\n+  TARGETFILE=\"${BUNDLE}/`echo ${i} | sed \"s|.*${BUNDLE}/||\"`\"\n+  SIZE=`pagestuff $i -p | tail -2 | grep size | sed 's/[^0-9]*//g'`\n+  OFFSET=`pagestuff $i -p | tail -2 | grep offset | sed 's/[^0-9]*//g'`\n+  SIGNFILE=\"${TEMPDIR}/${TARGETFILE}.sign\"\n+  DIRNAME=\"`dirname ${SIGNFILE}`\"\n+  mkdir -p \"${DIRNAME}\"\n+  echo \"Adding detached signature for: ${TARGETFILE}. Size: ${SIZE}. Offset: ${OFFSET}\"\n+  dd if=$i of=${SIGNFILE} bs=1 skip=${OFFSET} count=${SIZE} 2>/dev/null\n+done\n+\n+for i in `grep CodeResources ${TEMPLIST}`; do\n+  TARGETFILE=\"${BUNDLE}/`echo ${i} | sed \"s|.*${BUNDLE}/||\"`\"\n+  RESOURCE=\"${TEMPDIR}/${TARGETFILE}\"\n+  DIRNAME=\"`dirname \"${RESOURCE}\"`\"\n+  mkdir -p \"${DIRNAME}\"\n+  echo \"Adding resource for: \"${TARGETFILE}\"\"\n+  cp \"${i}\" \"${RESOURCE}\"\n+done\n+\n+rm ${TEMPLIST}\n+\n+tar -C ${TEMPDIR} -czf ${OUT} .\n+rm -rf ${TEMPDIR}\n+echo \"Created ${OUT}\""
      }
    ]
  },
  {
    "sha": "7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YTljZjgwYjE5ZjNmYWNhYmU1M2JmNWE2MGZkODEzZDdkNjNhNmZm",
    "commit": {
      "author": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T00:23:18Z"
      },
      "committer": {
        "name": "Cory Fields",
        "email": "cory-nospam-@coryfields.com",
        "date": "2014-11-26T06:00:42Z"
      },
      "message": "docs: add/update docs for osx dmg signing",
      "tree": {
        "sha": "f730b66802378411a80a0af6261634ba78d077b6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f730b66802378411a80a0af6261634ba78d077b6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff/comments",
    "author": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "914868a05dfcae0f766283e0065aa36762cc5abe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/914868a05dfcae0f766283e0065aa36762cc5abe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/914868a05dfcae0f766283e0065aa36762cc5abe"
      }
    ],
    "stats": {
      "total": 49,
      "additions": 42,
      "deletions": 7
    },
    "files": [
      {
        "sha": "d56234f7d9408ab448f1169ebad06bf094a47fcc",
        "filename": "doc/README_osx.txt",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff/doc/README_osx.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff/doc/README_osx.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/README_osx.txt?ref=7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
        "patch": "@@ -65,3 +65,18 @@ Background images and other features can be added to DMG files by inserting a\n .DS_Store before creation. The easiest way to create this file is to build a\n DMG without one, move it to a device running OSX, customize the layout, then\n grab the .DS_Store file for later use. That is the approach taken here.\n+\n+As of OSX Mavericks (10.9), using an Apple-blessed key to sign binaries is a\n+requirement in order to satisfy the new Gatekeeper requirements. Because this\n+private key cannot be shared, we'll have to be a bit creative in order for the\n+build process to remain somewhat deterministic. Here's how it works:\n+\n+- Builders use gitian to create an unsigned release. This outputs an unsigned\n+  dmg which users may choose to bless and run. It also outputs an unsigned app\n+  structure in the form of a tarball, which also contains all of the tools\n+  that have been previously (deterministically) built in order to create a\n+  final dmg.\n+- The Apple keyholder uses this unsigned app to create a detached signature,\n+  using the script that is also included there.\n+- Builders feed the unsigned app + detached signature back into gitian. It\n+  uses the pre-built tools to recombine the pieces into a deterministic dmg."
      },
      {
        "sha": "a16d4ace4a61f5612de60a76b455728eb26d4985",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 27,
        "deletions": 7,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=7a9cf80b19f3facabe53bf5a60fd813d7d63a6ff",
        "patch": "@@ -59,17 +59,18 @@ Release Process\n \t./bin/gsign --signer $SIGNER --release ${VERSION}-win --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-win.yml\n \tmv build/out/bitcoin-*.zip build/out/bitcoin-*.exe ../\n \t./bin/gbuild --commit bitcoin=v${VERSION} ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n-\t./bin/gsign --signer $SIGNER --release ${VERSION}-osx --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\t./bin/gsign --signer $SIGNER --release ${VERSION}-osx-unsigned --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx.yml\n+\tmv build/out/bitcoin-*-unsigned.tar.gz inputs\n \tmv build/out/bitcoin-*.tar.gz build/out/bitcoin-*.dmg ../\n \tpopd\n-\n+bitcoin-0.9.99-osx-unsigned.tar.gz\n   Build output expected:\n \n   1. source tarball (bitcoin-${VERSION}.tar.gz)\n   2. linux 32-bit and 64-bit binaries dist tarballs (bitcoin-${VERSION}-linux[32|64].tar.gz)\n   3. windows 32-bit and 64-bit installers and dist zips (bitcoin-${VERSION}-win[32|64]-setup.exe, bitcoin-${VERSION}-win[32|64].zip)\n-  4. OSX installer (bitcoin-${VERSION}-osx.dmg)\n-  5. Gitian signatures (in gitian.sigs/${VERSION}-<linux|win|osx>/(your gitian key)/\n+  4. OSX unsigned installer (bitcoin-${VERSION}-osx-unsigned.dmg)\n+  5. Gitian signatures (in gitian.sigs/${VERSION}-<linux|win|osx-unsigned>/(your gitian key)/\n \n ###Next steps:\n \n@@ -78,7 +79,28 @@ Commit your signature to gitian.sigs:\n \tpushd gitian.sigs\n \tgit add ${VERSION}-linux/${SIGNER}\n \tgit add ${VERSION}-win/${SIGNER}\n-\tgit add ${VERSION}-osx/${SIGNER}\n+\tgit add ${VERSION}-osx-unsigned/${SIGNER}\n+\tgit commit -a\n+\tgit push  # Assuming you can push to the gitian.sigs tree\n+\tpopd\n+\n+Wait for OSX detached signature:\n+\tOnce the OSX build has 3 matching signatures, Gavin will sign it with the apple App-Store key.\n+\tHe will then upload a detached signature to be combined with the unsigned app to create a signed binary.\n+\n+Create the signed OSX binary:\n+\tpushd ./gitian-builder\n+\t# Fetch the signature as instructed by Gavin\n+\tcp signature.tar.gz inputs/\n+\t./bin/gbuild -i ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\t./bin/gsign --signer $SIGNER --release ${VERSION}-osx-signed --destination ../gitian.sigs/ ../bitcoin/contrib/gitian-descriptors/gitian-osx-signer.yml\n+\tmv build/out/bitcoin-${VERSION}-osx.dmg ../\n+\tpopd\n+\n+Commit your signature for the signed OSX binary:\n+\n+\tpushd gitian.sigs\n+\tgit add ${VERSION}-osx-signed/${SIGNER}\n \tgit commit -a\n \tgit push  # Assuming you can push to the gitian.sigs tree\n \tpopd\n@@ -91,8 +113,6 @@ Commit your signature to gitian.sigs:\n \n     - Code-sign Windows -setup.exe (in a Windows virtual machine using signtool)\n \n-    - Code-sign MacOSX .dmg\n-\n   Note: only Gavin has the code-signing keys currently.\n \n - Create `SHA256SUMS.asc` for the builds, and GPG-sign it:"
      }
    ]
  }
]