[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861263177",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861263177",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861263177,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTI2MzE3Nw==",
    "user": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T07:39:48Z",
    "updated_at": "2021-06-15T07:39:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can add different code paths for Win and Unix if desirable",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861263177/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861361725",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861361725",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861361725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTM2MTcyNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T09:56:34Z",
    "updated_at": "2021-06-15T09:56:34Z",
    "author_association": "MEMBER",
    "body": "review ACK 451b96f7d2796d00eabaec56d831f9e9b1a569cc\r\n\r\nmind pushing a temporary commit with a logic error in one of the tests, so that we can observe the CI fails properly?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861361725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861365899",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861365899",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861365899,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTM2NTg5OQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T10:02:21Z",
    "updated_at": "2021-06-15T10:02:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK on addressing the annoying dangling `bitcoind` issue :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861365899/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861431309",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861431309",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861431309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTQzMTMwOQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T11:49:42Z",
    "updated_at": "2021-06-15T11:49:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19281 (test: fix dangling bitcoind in functional tests by S3RK)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861431309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861766355",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861766355",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861766355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTc2NjM1NQ==",
    "user": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T19:17:02Z",
    "updated_at": "2021-06-15T19:17:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "> It's not clear to me what is wrong with the kill+wait approach, why does it result in dangling processes.\r\n\r\nSo, we have three layers of processes, something like\r\n```uml\r\ntest_runner.py[100] -> test_1.py[101] -> bitcoind[102]\r\n                    -> test_2.py[103] -> bitcoind[104] \r\n```\r\n\r\nCurrently `test_runner.py[100]` sends SIGKILL to all `test_x.py` which leads to its immediate termination and orphaned bitcoind processes being linked to `init`. E.g. `test_1.py[101]` got killed and `bitcoind[102]` is dangling. Actually, I'm not sure why do we use `wait` there, I don't think it changes anything.\r\n\r\nTo avoid that we can do SIGTERM and wait, but that could lead to CI timeouts. I've tried that first in #19281 \r\n\r\nAnother alternative is to setup signal handler in child process (bitcoind) to listen when parent process exits, but that's feels backward.\r\n\r\n> mind pushing a temporary commit with a logic error in one of the tests, so that we can observe the CI fails properly?\r\n\r\nSure, will do",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861766355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861897461",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-861897461",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 861897461,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MTg5NzQ2MQ==",
    "user": {
      "login": "aitorjs",
      "id": 1209012,
      "node_id": "MDQ6VXNlcjEyMDkwMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1209012?u=08a32aa61f07e1827486ccd040ec1974f74c8ae8&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aitorjs",
      "html_url": "https://github.com/aitorjs",
      "followers_url": "https://api.github.com/users/aitorjs/followers",
      "following_url": "https://api.github.com/users/aitorjs/following{/other_user}",
      "gists_url": "https://api.github.com/users/aitorjs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aitorjs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aitorjs/subscriptions",
      "organizations_url": "https://api.github.com/users/aitorjs/orgs",
      "repos_url": "https://api.github.com/users/aitorjs/repos",
      "events_url": "https://api.github.com/users/aitorjs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aitorjs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-15T23:24:09Z",
    "updated_at": "2021-06-15T23:24:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 451b96f7d2796d00eabaec56d831f9e9b1a569cc. Manual testing with and without **--failfast**.\r\n\r\nFailing an assert with --failfast, passes through [reviewed code](https://github.com/bitcoin/bitcoin/pull/22249/files#diff-437d7f6e9f2229879b60aae574a8217f14c643bbf3cfa9225d8011d6d52df00cR556). When fails, exits gracefully stopping of processes.\r\n\r\n<details>\r\n<summary>Log</summary>\r\n<br>\r\n<p>\r\n$ test/functional/test_runner.py --failfast\r\n rpc_decodescript.py rpc_deprecated.py rpc_deriveaddresses.py rpc_dumptxoutset.py\r\n<br><br>\r\nTemporary test directory at /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_004909\r\nRunning Unit Tests for Test Framework Modules\r\n..........\r\n----------------------------------------------------------------------\r\nRan 10 tests in 0.715s\r\n\r\nOK\r\nRemaining jobs: [rpc_decodescript.py, rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n1/4 - rpc_decodescript.py failed, Duration: 1 s\r\n\r\nstdout:\r\n2021-06-15T22:49:12.613000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_004909/rpc_decodescript_3\r\n2021-06-15T22:49:13.132000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/test_framework.py\", line 128, in main\r\n    self.run_test()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 230, in run_test\r\n    self.decodescript_script_pub_key()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 67, in decodescript_script_pub_key\r\n    assert_equal('1 ' + public_key_hash, rpc_result['segwit']['asm'])\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/util.py\", line 51, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(1 5dd1d3a048119c27b28293056724d9522f26d945 == 0 5dd1d3a048119c27b28293056724d9522f26d945)\r\n2021-06-15T22:49:13.183000Z TestFramework (INFO): Stopping nodes\r\n2021-06-15T22:49:13.285000Z TestFramework (WARNING): Not cleaning up dir /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_004909/rpc_decodescript_3\r\n2021-06-15T22:49:13.285000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_004909/rpc_decodescript_3/test_framework.log\r\n2021-06-15T22:49:13.285000Z TestFramework (ERROR): \r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): Hint: Call /home/bitcoin/blockchain/bitcoinPR/22249/test/functional/combine_logs.py '/tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_004909/rpc_decodescript_3' to consolidate all logs\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): \r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2021-06-15T22:49:13.286000Z TestFramework (ERROR): \r\n\r\n\r\nstderr:\r\n\r\n\r\nEarly exiting after test failure\r\n\r\nTEST                   | STATUS    | DURATION\r\n\r\nrpc_decodescript.py    | \u2716 Failed  | 1 s\r\n\r\nALL                    | \u2716 Failed  | 1 s (accumulated) \r\nRuntime: 1 s\r\n\r\ndangling processes <!-- Print I write to know if it goes through the added part in test_runner.py --->\r\nTerminado (killed)\r\n</p>\r\n</details>\r\n\r\nFailing an assert without --failfast, dont  passes through [reviewed code](https://github.com/bitcoin/bitcoin/pull/22249/files#diff-437d7f6e9f2229879b60aae574a8217f14c643bbf3cfa9225d8011d6d52df00cR556) and all tests are run.\r\n\r\n\r\n\r\n\r\n <details>\r\n<summary>Log</summary>\r\n<br>\r\n$ test/functional/test_runner.py\r\n rpc_decodescript.py rpc_deprecated.py rpc_deriveaddresses.py rpc_dumptxoutset.py\r\n<br><br>\r\n<p>\r\nTemporary test directory at /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_005950\r\nRunning Unit Tests for Test Framework Modules\r\n..........\r\n----------------------------------------------------------------------\r\nRan 10 tests in 0.680s\r\n\r\nOK\r\nRemaining jobs: [rpc_decodescript.py, rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n1/4 - rpc_decodescript.py failed, Duration: 1 s\r\n\r\nstdout:\r\n2021-06-15T22:59:53.470000Z TestFramework (INFO): Initializing test directory /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_005950/rpc_decodescript_3\r\n2021-06-15T22:59:53.735000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/test_framework.py\", line 128, in main\r\n    self.run_test()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 230, in run_test\r\n    self.decodescript_script_pub_key()\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/rpc_decodescript.py\", line 67, in decodescript_script_pub_key\r\n    assert_equal('1 ' + public_key_hash, rpc_result['segwit']['asm'])\r\n  File \"/home/bitcoin/blockchain/bitcoinPR/22249/test/functional/test_framework/util.py\", line 51, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(1 5dd1d3a048119c27b28293056724d9522f26d945 == 0 5dd1d3a048119c27b28293056724d9522f26d945)\r\n2021-06-15T22:59:53.786000Z TestFramework (INFO): Stopping nodes\r\n2021-06-15T22:59:53.888000Z TestFramework (WARNING): Not cleaning up dir /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_005950/rpc_decodescript_3\r\n2021-06-15T22:59:53.888000Z TestFramework (ERROR): Test failed. Test logging available at /tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_005950/rpc_decodescript_3/test_framework.log\r\n2021-06-15T22:59:53.888000Z TestFramework (ERROR): \r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): Hint: Call /home/bitcoin/blockchain/bitcoinPR/22249/test/functional/combine_logs.py '/tmp/test_runner_\u20bf_\ud83c\udfc3_20210616_005950/rpc_decodescript_3' to consolidate all logs\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): \r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): If this failure happened unexpectedly or intermittently, please file a bug and provide a link or upload of the combined log.\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): https://github.com/bitcoin/bitcoin/issues\r\n2021-06-15T22:59:53.889000Z TestFramework (ERROR): \r\n\r\n\r\nstderr:\r\n\r\n\r\nRemaining jobs: [rpc_deprecated.py, rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n2/4 - rpc_deprecated.py passed, Duration: 1 s\r\nRemaining jobs: [rpc_deriveaddresses.py, rpc_dumptxoutset.py]\r\n3/4 - rpc_deriveaddresses.py passed, Duration: 2 s\r\nRemaining jobs: [rpc_dumptxoutset.py]\r\n4/4 - rpc_dumptxoutset.py passed, Duration: 2 s\r\n\r\nTEST                   | STATUS    | DURATION\r\n\r\nrpc_deprecated.py      | \u2713 Passed  | 1 s\r\nrpc_deriveaddresses.py | \u2713 Passed  | 2 s\r\nrpc_dumptxoutset.py    | \u2713 Passed  | 2 s\r\nrpc_decodescript.py    | \u2716 Failed  | 1 s\r\n\r\nALL                    | \u2716 Failed  | 6 s (accumulated) \r\nRuntime: 2 s\r\n</p>\r\n</details>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/861897461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862985303",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-862985303",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 862985303,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Mjk4NTMwMw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T07:02:36Z",
    "updated_at": "2021-06-17T07:02:36Z",
    "author_association": "MEMBER",
    "body": "Example failure is here and looks good: https://cirrus-ci.com/build/5678106947092480\r\n\r\nCommit can be removed again.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/862985303/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863516088",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#issuecomment-863516088",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22249",
    "id": 863516088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzUxNjA4OA==",
    "user": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T19:45:36Z",
    "updated_at": "2021-06-17T19:45:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Done",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/863516088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651514278",
    "pull_request_review_id": 683640698,
    "id": 651514278,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MTUxNDI3OA==",
    "diff_hunk": "@@ -548,9 +549,11 @@ def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=\n \n     all_passed = all(map(lambda test_result: test_result.was_successful, test_results)) and coverage_passed\n \n-    # This will be a no-op unless failfast is True in which case there may be dangling\n-    # processes which need to be killed.\n-    job_queue.kill_and_join()\n+    # Clean up dangling processes if any. This may only happen with --failfast option.\n+    # Killing the process group will also terminate the current process but that is\n+    # not an issue\n+    if len(job_queue.jobs):\n+        os.killpg(os.getpid(), signal.SIGKILL)",
    "path": "test/functional/test_runner.py",
    "position": null,
    "original_position": 19,
    "commit_id": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
    "original_commit_id": "5012bf02a0dace65ae5bfa14aaab216e33bd9ce5",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "shouldn't this use https://docs.python.org/3.6/library/os.html#os.getpgid ?",
    "created_at": "2021-06-15T07:18:13Z",
    "updated_at": "2021-06-15T07:20:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651514278",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651514278"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651514278"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651514278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 556,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651528988",
    "pull_request_review_id": 683660375,
    "id": 651528988,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1MTUyODk4OA==",
    "diff_hunk": "@@ -548,9 +549,11 @@ def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=\n \n     all_passed = all(map(lambda test_result: test_result.was_successful, test_results)) and coverage_passed\n \n-    # This will be a no-op unless failfast is True in which case there may be dangling\n-    # processes which need to be killed.\n-    job_queue.kill_and_join()\n+    # Clean up dangling processes if any. This may only happen with --failfast option.\n+    # Killing the process group will also terminate the current process but that is\n+    # not an issue\n+    if len(job_queue.jobs):\n+        os.killpg(os.getpid(), signal.SIGKILL)",
    "path": "test/functional/test_runner.py",
    "position": null,
    "original_position": 19,
    "commit_id": "451b96f7d2796d00eabaec56d831f9e9b1a569cc",
    "original_commit_id": "5012bf02a0dace65ae5bfa14aaab216e33bd9ce5",
    "user": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, thanks",
    "created_at": "2021-06-15T07:39:06Z",
    "updated_at": "2021-06-15T07:39:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651528988",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651528988"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22249#discussion_r651528988"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22249"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/651528988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 556,
    "side": "RIGHT",
    "in_reply_to_id": 651514278
  }
]