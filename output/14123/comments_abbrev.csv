promag,2018-08-31T22:41:17Z,@jonasschnelli @Sjors @ken2812221 review/test much appreciated.,https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417806913,417806913,
DrahtBot,2018-08-31T22:45:36Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14594](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14594.html) (qt:Fix minimized window bug on Linux by heb",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417807525,417807525,
laanwj,2018-09-01T09:41:18Z,"I think it would make sense, for ease of review, to split off the fix to #13829 from pure refactoring.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417846777,417846777,
promag,2018-09-01T10:02:42Z,"Which refactor?\n\nNote that the issue is observed in more places than the one reported in #13829.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417847858,417847858,
fanquake,2018-09-02T08:14:56Z,"Testing current master on macOS 10.13.6 https://github.com/bitcoin/bitcoin/commit/2070a545e2c4e8c2dff4c0fb40b8fd2f68fc2ca.\nIf `Command + H` or the menu item is used to hide the window:\n- Clicking the task bar icon shows the window.\n- Clicking `show/hide` does not work.\n- Clicking `show` (bottom of the menu ) does work.\n- If `Send` or `Receive` is clicked, the window changes to the correc",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417913092,417913092,
promag,2018-09-02T09:41:41Z,"Thanks for the reviews! I'll fix it.\n\nBTW, in macOS ""show/hide"" action could be removed since it's already there natively.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-417917455,417917455,
promag,2018-09-04T14:02:07Z,Rebased (so that testing takes #14133) and added a fixup that `s/show/showNormal` after @ken2812221 https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214781272.,https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-418378426,418378426,
hebasto,2018-09-15T05:50:26Z,"IMO `show()`/`showNormal()` should not be aggregated with `activateWindow()`->`raise()` sequence in a single function. Rationale: `show()` is reverse to `hide()`, but `showNormal()` restores the widget after it has been maximized or minimized.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-421533529,421533529,
jonasschnelli,2018-10-17T18:54:56Z,@promag: can you comment or address @hebasto's comments; rebase or close?,https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-430747283,430747283,
promag,2018-10-26T13:18:57Z,Rebased and addressed review comments.,https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-433404467,433404467,
hebasto,2018-10-26T19:12:20Z,"tACK 56c61a3 \n\nmacOS 10.13.6 (17G65) + Qt 5.11.2 - works as expected, i.e. #13829 fixed",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-433514269,433514269,
ken2812221,2018-10-27T14:12:33Z,Tested ACK 56c61a33dd7f1bca4e5005654dd776ffe69c4c3b,https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-433623885,433623885,
hebasto,2018-11-02T20:11:50Z,"@promag \n> Rebased with #14597.\n\nThe e0d1883d0e98c265db09b6a48b9c124f45edf898 commit you picked has a bug: https://github.com/bitcoin/bitcoin/pull/14597#issuecomment-434257329\nSee: https://github.com/bitcoin/bitcoin/pull/14597#issuecomment-434836662",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-435495070,435495070,
promag,2018-11-03T15:22:29Z,"@hebasto thanks, rebased.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-435595944,435595944,
hebasto,2018-11-03T21:46:38Z,"Tested d3becb175270d715daaffb75a037433a126a95f4:\n- on Windows 10: bug #14222 fixed\n- on macOS 10.13.6: bug #13829 fixed\nThere is a new bug on macOS: obscure main window with another app window, click Dock icon; main windows appears and hides. ~Investigating...~ Fixed: https://github.com/bitcoin/bitcoin/pull/14597#issuecomment-435632846 Would you mind rebasing one more time?\n- on Linux Mint",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-435623376,435623376,
promag,2018-11-05T11:25:22Z,"Rebased to account for the new fix and applied suggestion https://github.com/bitcoin/bitcoin/pull/14123#discussion_r230507680.\n\n> @promag is it worth to combine a Linux-specific bugfix #14591 into this PR?\n\nI think it is worth a new PR.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-435841561,435841561,
Sjors,2018-11-10T09:11:45Z,"re-tACK 0a656f8 on macOS 10.14.1 QT 5.11.2 (I didn't check the commits inherited from #14597)\n\nAlso +1 on doing Linux in another PR, it's already quite difficult to get any macOS changes through review.",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-437569980,437569980,
hebasto,2018-11-10T20:57:53Z,"re-tACK\n\nSystems:\n- Linux Mint 19 + Qt 5.9.5\n- macOS 10.13.6 + Qt 5.11.2\n\nCommits: 5796671e1dd8a2d0b1e750c2dce19a10af624095, 6fc21aca6d5e16c3ece104fec8e5b3df116893b4, 0a656f85a9c694f25b06c6464d6e986816eecd58",https://github.com/bitcoin/bitcoin/pull/14123#issuecomment-437620732,437620732,
ken2812221,2018-09-01T06:24:15Z,Any reason to keep this one?,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214506001,214506001,src/qt/bitcoingui.cpp
promag,2018-09-01T07:53:56Z,Thanks.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214507510,214507510,src/qt/bitcoingui.cpp
Sjors,2018-09-02T07:38:14Z,"Apple [documentation](https://developer.apple.com/documentation/appkit/nsapplication/1428468-activateignoringotherapps?language=objc) suggests that this normally shouldn't be needed, which suggests there's a deeper problem somewhere.",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214531611,214531611,src/qt/guiutil.cpp
fanquake,2018-09-02T08:15:51Z,"I'd also like to know a bit more about this, and the new `<objc/objc-runtime.h>` #include.",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214532540,214532540,src/qt/guiutil.cpp
ken2812221,2018-09-04T03:48:58Z,"I think this is better \n```\nconnect(signMessageAction, &QAction::triggered, [this]{ showNormalIfMinimized(); gotoSignMessageTab(); });\nconnect(verifyMessageAction, &QAction::triggered, [this]{ showNormalIfMinimized(); gotoSignMessageTab(); });",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214780651,214780651,src/qt/bitcoingui.cpp
ken2812221,2018-09-04T03:56:40Z,"If the window was minimized, it might need to call `showNormal`. ",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r214781272,214781272,src/qt/bitcoingui.cpp
promag,2018-09-05T00:09:46Z,This should be fixed.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r215102807,215102807,src/qt/bitcoingui.cpp
promag,2018-09-05T00:11:09Z,Keeping multiple connections for now for consistency with other actions.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r215102998,215102998,src/qt/bitcoingui.cpp
fanquake,2018-09-05T01:23:16Z,"Can you move this comment back done to line 710, given it's in reference to `findStartupItemInList`.",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r215112491,215112491,src/qt/guiutil.cpp
promag,2018-09-10T12:52:02Z,"Sure, done.",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r216308589,216308589,src/qt/guiutil.cpp
hebasto,2018-09-15T05:28:23Z,"According to [Qt docs](https://doc.qt.io/qt-5/qwidget.html#activateWindow)\n\n> Note that the window must be visible, otherwise activateWindow() has no effect.\n\nTherefore, the safer sequence may be:\n```\nw->showNormal();  // or w->show();\nw->activateWindow();\nw->raise();",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r217876395,217876395,src/qt/guiutil.cpp
hebasto,2018-09-15T05:37:33Z,Always `showNormal()` will break cases when then main window is maximized.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r217876583,217876583,src/qt/guiutil.cpp
fanquake,2018-10-28T10:24:02Z,"@promag Can you comment here on why we need to manually do this? For reference Apples docs state:\n> You rarely need to invoke this method. Under most circumstances, AppKit takes care of proper activation. However, you might find this method useful if you implement your own methods for inter-app communication.\n\nso I'd have thought this would be something handled by Qt. There are a couple ment",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r228742679,228742679,src/qt/guiutil.cpp
promag,2018-10-29T11:05:05Z,Sure.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r228881675,228881675,src/qt/guiutil.cpp
promag,2018-10-29T12:14:31Z,Added comment.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r228900647,228900647,src/qt/guiutil.cpp
gwillen,2018-11-02T18:57:35Z,"I assume the other actions are only done that way for historical reasons -- prior to Qt5/C++11 this was not possible, and we only switched to using lambdas instead of the older syntax in 0.17 I believe.",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r230476134,230476134,src/qt/bitcoingui.cpp
hebasto,2018-11-02T21:02:46Z,"According to the `sel_getUid` [documentation](https://developer.apple.com/documentation/objectivec/1418625-sel_getuid?language=objc):\n> The implementation of this method is identical to the implementation of `sel_registerName`.\n\nOn master(750415701):\n- `sel_registerName` used 4 times\n- `sel_getUid` not used at all\n\nCould `sel_getUid` replace with `sel_registerName`?",https://github.com/bitcoin/bitcoin/pull/14123#discussion_r230507680,230507680,src/qt/guiutil.cpp
hebasto,2018-11-02T21:12:16Z,This header is redundant.,https://github.com/bitcoin/bitcoin/pull/14123#discussion_r230509856,230509856,src/qt/guiutil.cpp
