[
  {
    "sha": "25047eb3e93582b68aad6be7251cf7c4ec962fc8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNTA0N2ViM2U5MzU4MmI2OGFhZDZiZTcyNTFjZjdjNGVjOTYyZmM4",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-05-17T10:10:15Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-05-21T16:52:15Z"
      },
      "message": "Filter out whitespace and zero-width non-breaking spaces in validator\n\n- Fixes issues with copy/pasting from web or html emails (#1325)",
      "tree": {
        "sha": "46d0ac559f53a44ed14753426ba3df1fc6e4997e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/46d0ac559f53a44ed14753426ba3df1fc6e4997e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/25047eb3e93582b68aad6be7251cf7c4ec962fc8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25047eb3e93582b68aad6be7251cf7c4ec962fc8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/25047eb3e93582b68aad6be7251cf7c4ec962fc8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25047eb3e93582b68aad6be7251cf7c4ec962fc8/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "46784d0826df00d218d25a1e3df419bef36d70ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46784d0826df00d218d25a1e3df419bef36d70ce",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/46784d0826df00d218d25a1e3df419bef36d70ce"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 18,
      "deletions": 2
    },
    "files": [
      {
        "sha": "c804ad0d57613f8fa349caa0eeb1e55da30ec4ee",
        "filename": "src/qt/bitcoinaddressvalidator.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 2,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/25047eb3e93582b68aad6be7251cf7c4ec962fc8/src/qt/bitcoinaddressvalidator.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/25047eb3e93582b68aad6be7251cf7c4ec962fc8/src/qt/bitcoinaddressvalidator.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoinaddressvalidator.cpp?ref=25047eb3e93582b68aad6be7251cf7c4ec962fc8",
        "patch": "@@ -21,9 +21,12 @@ BitcoinAddressValidator::BitcoinAddressValidator(QObject *parent) :\n QValidator::State BitcoinAddressValidator::validate(QString &input, int &pos) const\n {\n     // Correction\n-    for(int idx=0; idx<input.size(); ++idx)\n+    for(int idx=0; idx<input.size();)\n     {\n-        switch(input.at(idx).unicode())\n+        bool removeChar = false;\n+        QChar ch = input.at(idx);\n+        // Transform characters that are visually close\n+        switch(ch.unicode())\n         {\n         case 'l':\n         case 'I':\n@@ -33,9 +36,22 @@ QValidator::State BitcoinAddressValidator::validate(QString &input, int &pos) co\n         case 'O':\n             input[idx] = QChar('o');\n             break;\n+        // Qt categorizes these as \"Other_Format\" not \"Separator_Space\"\n+        case 0x200B: // ZERO WIDTH SPACE\n+        case 0xFEFF: // ZERO WIDTH NO-BREAK SPACE\n+            removeChar = true;\n+            break;\n         default:\n             break;\n         }\n+        // Remove whitespace\n+        if(ch.isSpace())\n+            removeChar = true;\n+        // To next character\n+        if(removeChar)\n+            input.remove(idx, 1);\n+        else\n+            ++idx;\n     }\n \n     // Validation"
      }
    ]
  },
  {
    "sha": "ce7896070cc0adbf973e1714fba6a729c1df1411",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZTc4OTYwNzBjYzBhZGJmOTczZTE3MTRmYmE2YTcyOWMxZGYxNDEx",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-05-18T06:53:26Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-05-21T16:52:56Z"
      },
      "message": "Remove autocorrection of 0/i in addresses in UI",
      "tree": {
        "sha": "9f39be0bd5d75ac9c510944c03203db96c822f49",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9f39be0bd5d75ac9c510944c03203db96c822f49"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce7896070cc0adbf973e1714fba6a729c1df1411",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce7896070cc0adbf973e1714fba6a729c1df1411",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ce7896070cc0adbf973e1714fba6a729c1df1411",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce7896070cc0adbf973e1714fba6a729c1df1411/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "25047eb3e93582b68aad6be7251cf7c4ec962fc8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25047eb3e93582b68aad6be7251cf7c4ec962fc8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/25047eb3e93582b68aad6be7251cf7c4ec962fc8"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 3,
      "deletions": 9
    },
    "files": [
      {
        "sha": "d2b93e70f5b715eae98e4f41b671f8218bd17e76",
        "filename": "src/qt/bitcoinaddressvalidator.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 9,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ce7896070cc0adbf973e1714fba6a729c1df1411/src/qt/bitcoinaddressvalidator.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ce7896070cc0adbf973e1714fba6a729c1df1411/src/qt/bitcoinaddressvalidator.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoinaddressvalidator.cpp?ref=ce7896070cc0adbf973e1714fba6a729c1df1411",
        "patch": "@@ -25,17 +25,11 @@ QValidator::State BitcoinAddressValidator::validate(QString &input, int &pos) co\n     {\n         bool removeChar = false;\n         QChar ch = input.at(idx);\n-        // Transform characters that are visually close\n+        // Corrections made are very conservative on purpose, to avoid\n+        // users unexpectedly getting away with typos that would normally\n+        // be detected, and thus sending to the wrong address.\n         switch(ch.unicode())\n         {\n-        case 'l':\n-        case 'I':\n-            input[idx] = QChar('1');\n-            break;\n-        case '0':\n-        case 'O':\n-            input[idx] = QChar('o');\n-            break;\n         // Qt categorizes these as \"Other_Format\" not \"Separator_Space\"\n         case 0x200B: // ZERO WIDTH SPACE\n         case 0xFEFF: // ZERO WIDTH NO-BREAK SPACE"
      }
    ]
  }
]