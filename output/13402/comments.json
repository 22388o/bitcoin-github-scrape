[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395460615",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13402#issuecomment-395460615",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13402",
    "id": 395460615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTQ2MDYxNQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T15:22:06Z",
    "updated_at": "2018-06-14T20:36:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13413 ([net,mempool] Call AcceptToMemoryPool() asynchronously in p2p by skeees)\n* #13399 (rpc: Add submitblockheader by MarcoFalke)\n* #13168 (Thread names in logs and deadlock debug tools (take 2) by jamesob)\n* #13144 (RPC: Improve error messages on RPC endpoints that use GetTransaction by jimpo)\n* #13083 (Add compile time checking for cs_main runtime locking assertions by practicalswift)\n* #12934 ([net] [validation] Call ProcessNewBlock() asynchronously by skeees)\n* #12407 (Ensure nStatus is set properly for all invalid blocks by jamesob)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/395460615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397629831",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13402#issuecomment-397629831",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13402",
    "id": 397629831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzYyOTgzMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-15T13:58:58Z",
    "updated_at": "2018-06-15T13:58:58Z",
    "author_association": "MEMBER",
    "body": "utACK 25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397629831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193420713",
    "pull_request_review_id": 126388424,
    "id": 193420713,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5MzQyMDcxMw==",
    "diff_hunk": "@@ -2704,6 +2704,9 @@ bool CChainState::ActivateBestChain(CValidationState &state, const CChainParams&\n             // Block until the validation queue drains. This should largely\n             // never happen in normal operation, however may happen during\n             // reindex, causing memory blowup if we run too far ahead.\n+            // Note that if a validationinterface callback ends up calling\n+            // ActivateBestChain this may lead to a deadlock! We should",
    "path": "src/validation.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "original_commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe add that this could lead to a deadlock \"because ActiveBestChain won't be able to acquire m_cs_chainstate\", if this is correct, to avoid making a puzzle of where the deadlock is.",
    "created_at": "2018-06-06T14:01:23Z",
    "updated_at": "2018-06-06T14:05:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r193420713",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193420713"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r193420713"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/193420713/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2708,
    "original_line": 2708,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608392",
    "pull_request_review_id": 129013016,
    "id": 195608392,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTYwODM5Mg==",
    "diff_hunk": "@@ -245,7 +246,8 @@ bool ProcessNewBlock(const CChainParams& chainparams, const std::shared_ptr<cons\n /**\n  * Process incoming block headers.\n  *\n- * Call without cs_main held.\n+ * May not be called with cs_main held. May not be called in a",
    "path": "src/validation.h",
    "position": 15,
    "original_position": 15,
    "commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "original_commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can you add an `AssertLockNotHeld(cs_main)` to `ProcessNewBlockHeaders` then?",
    "created_at": "2018-06-15T00:27:17Z",
    "updated_at": "2018-06-15T00:28:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r195608392",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608392"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r195608392"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 249,
    "original_line": 249,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608466",
    "pull_request_review_id": 129013016,
    "id": 195608466,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTYwODQ2Ng==",
    "diff_hunk": "@@ -445,7 +452,11 @@ inline CBlockIndex* LookupBlockIndex(const uint256& hash)\n /** Find the last common block between the parameter chain and a locator. */\n CBlockIndex* FindForkInGlobalIndex(const CChain& chain, const CBlockLocator& locator);\n \n-/** Mark a block as precious and reorganize. */\n+/** Mark a block as precious and reorganize.\n+ *\n+ * May not be called with cs_main held. May not be called in a",
    "path": "src/validation.h",
    "position": 41,
    "original_position": 41,
    "commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "original_commit_id": "25bc9615b7480e4ba2c482a6f0e7e3b33f50e6e0",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here for `PreciousBlock`.",
    "created_at": "2018-06-15T00:27:55Z",
    "updated_at": "2018-06-15T00:28:12Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r195608466",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608466"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13402#discussion_r195608466"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13402"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195608466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 457,
    "original_line": 457,
    "side": "RIGHT"
  }
]