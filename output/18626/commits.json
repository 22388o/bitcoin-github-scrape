[
  {
    "sha": "fadb3d401928572f31d7c2600cb34d58ea2b9b72",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWRiM2Q0MDE5Mjg1NzJmMzFkN2MyNjAwY2IzNGQ1OGVhMmI5Yjcy",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-01T23:51:27Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-13T23:47:50Z"
      },
      "message": "test: Add \"WinError 10048\" to the retry exceptions",
      "tree": {
        "sha": "04ea25f967aa3088785d28c8a0bad96fa3c34cb6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/04ea25f967aa3088785d28c8a0bad96fa3c34cb6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fadb3d401928572f31d7c2600cb34d58ea2b9b72",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUjqHwwAibQgqqCrkc4FhpW1HwN8kcO+4/uGhJBzUENyDiG2/C4egzabqbGz6S9l\nCVTUCaCJsUf+LtPYN9dCAf1Vb1yxuat8SOhscbhAmq/NFi2aXLO5831EkQlGcosa\nxVpbCJ+fIBa0Q9yybEdB3AHoXx2WnLZnIBrgqNTQj6hzIldj0OO7Yw8mTZ16fx0g\n/dBGmqOk9/Q1zqYCnlrYCEGgR/WBAEU8NPi1KZb/ctKDBUrZVeMDWuKIxeIgOtQv\nEj2xI3Zc+Glvic4ujZSBY3qymvWvguK5mFLK7aoTtYErDrHcPEnZ6lTxsb5pmG59\nIeDuKrwx0XEqWcLXQPHNguCc/hUa+/R4e8MsUzKaMSAmmz6VpQRB4lKYZJiqmPDo\naYG7T1VJWb9L58JW/59seQmMigA5tds2FKKyakeX7uJuL4XAmTtWe8iL/XQsUKef\n88R76WB1ZEH8M0Ez/cQUkgh6TLLS1kSXsp/Fr3atldo/m17Kjm6OPlN+H8FL6CjW\nsZ9BR32U\n=zAAi\n-----END PGP SIGNATURE-----",
        "payload": "tree 04ea25f967aa3088785d28c8a0bad96fa3c34cb6\nparent 130b64415f54173d5a82dd7736adda624400b848\nauthor MarcoFalke <falke.marco@gmail.com> 1585785087 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1586821670 -0400\n\ntest: Add \"WinError 10048\" to the retry exceptions\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fadb3d401928572f31d7c2600cb34d58ea2b9b72",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fadb3d401928572f31d7c2600cb34d58ea2b9b72",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fadb3d401928572f31d7c2600cb34d58ea2b9b72/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "130b64415f54173d5a82dd7736adda624400b848",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/130b64415f54173d5a82dd7736adda624400b848",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/130b64415f54173d5a82dd7736adda624400b848"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 22,
      "deletions": 5
    },
    "files": [
      {
        "sha": "4dadfd6934b03cdbe1026a2604c3e7efcd2f1561",
        "filename": "test/functional/interface_rest.py",
        "status": "modified",
        "additions": 20,
        "deletions": 5,
        "changes": 25,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fadb3d401928572f31d7c2600cb34d58ea2b9b72/test/functional/interface_rest.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fadb3d401928572f31d7c2600cb34d58ea2b9b72/test/functional/interface_rest.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_rest.py?ref=fadb3d401928572f31d7c2600cb34d58ea2b9b72",
        "patch": "@@ -60,11 +60,26 @@ def test_rest_request(self, uri, http_method='GET', req_type=ReqType.JSON, body=\n \n         conn = http.client.HTTPConnection(self.url.hostname, self.url.port)\n         self.log.debug('%s %s %s', http_method, rest_uri, body)\n-        if http_method == 'GET':\n-            conn.request('GET', rest_uri)\n-        elif http_method == 'POST':\n-            conn.request('POST', rest_uri, body)\n-        resp = conn.getresponse()\n+\n+        def request():\n+            if http_method == 'GET':\n+                conn.request('GET', rest_uri)\n+            elif http_method == 'POST':\n+                conn.request('POST', rest_uri, body)\n+            return conn.getresponse()\n+\n+        try:\n+            resp = request()\n+        except OSError as e:\n+            retry = (\n+                '[WinError 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted'\n+                in str(e) or\n+                '[WinError 10053] An established connection was aborted by the software in your host machine' in str(e))\n+            if retry:\n+                conn.close()\n+                resp = request()\n+            else:\n+                raise\n \n         assert_equal(resp.status, status)\n "
      },
      {
        "sha": "d7826e9855d600787730022f884b37ca33809f92",
        "filename": "test/functional/test_framework/authproxy.py",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fadb3d401928572f31d7c2600cb34d58ea2b9b72/test/functional/test_framework/authproxy.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fadb3d401928572f31d7c2600cb34d58ea2b9b72/test/functional/test_framework/authproxy.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/authproxy.py?ref=fadb3d401928572f31d7c2600cb34d58ea2b9b72",
        "patch": "@@ -114,6 +114,8 @@ def _request(self, method, path, postdata):\n             return self._get_response()\n         except OSError as e:\n             retry = (\n+                '[WinError 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted'\n+                in str(e) or\n                 '[WinError 10053] An established connection was aborted by the software in your host machine' in str(e))\n             if retry:\n                 self.__conn.close()"
      }
    ]
  }
]