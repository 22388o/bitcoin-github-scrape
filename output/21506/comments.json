[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804449681",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-804449681",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 804449681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNDQ0OTY4MQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-22T22:57:22Z",
    "updated_at": "2021-05-19T05:40:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21992 (Feefilter cleanups by amadeuszpawlik)\n* #21879 (Wrap accept() and extend usage of Sock by vasild)\n* #21878 (Make all networking code mockable by vasild)\n* #21843 (p2p, rpc: enable GetAddr, GetAddresses, and getnodeaddresses by network by jonatack)\n* #20234 (net: don't extra bind for Tor if binds are restricted by vasild)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/804449681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/805026604",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-805026604",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 805026604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNTAyNjYwNA==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-23T16:03:44Z",
    "updated_at": "2021-03-23T16:03:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Strong Concept ACK\r\n\r\n[`enum class` is strictly better :)](https://github.com/bitcoin/bitcoin/pull/19771#issuecomment-678733782)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/805026604/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/806185541",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-806185541",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 806185541,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNjE4NTU0MQ==",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-24T21:05:00Z",
    "updated_at": "2021-03-24T21:05:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK, nice change",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/806185541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/806941459",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-806941459",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 806941459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNjk0MTQ1OQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-25T15:22:44Z",
    "updated_at": "2021-03-25T15:22:44Z",
    "author_association": "MEMBER",
    "body": "> Could you please explain what was the motivation to add HasAnyFlag?\r\n\r\nThanks for the review @kiminuo! I extracted the `NetPermissions::HasAnyFlag()` addition to a separate commit with a detailed explanation in the commit message and updated with your other feedback.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/806941459/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/809265876",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-809265876",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 809265876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwOTI2NTg3Ng==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-29T10:24:45Z",
    "updated_at": "2021-03-29T10:24:45Z",
    "author_association": "MEMBER",
    "body": "rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/809265876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810485558",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-810485558",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 810485558,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDQ4NTU1OA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-30T18:33:50Z",
    "updated_at": "2021-03-30T18:33:50Z",
    "author_association": "MEMBER",
    "body": "rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/810485558/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812542044",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-812542044",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 812542044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjU0MjA0NA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-02T13:57:33Z",
    "updated_at": "2021-04-02T13:57:33Z",
    "author_association": "MEMBER",
    "body": "> The first commit \"p2p, refactor: add NetPermissionFlags scopes where not already present\" could be a scripted-diff:\r\n> \r\n> ```shell\r\n> s() { git grep -l \"$1\" -- 'src' ':!src/net_permissions.h' | xargs sed -i -E \"s/([^:])$1/\\1NetPermissionFlags::$1/\"; }\r\n\r\nThanks! That's a co-credit :) Done in 043a4c5163909d0.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/812542044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817122255",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-817122255",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 817122255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzEyMjI1NQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-10T11:35:46Z",
    "updated_at": "2021-04-13T18:23:39Z",
    "author_association": "MEMBER",
    "body": "Simplified, dropped the `HasAnyFlag()` and test commits that are replaced by the bugfix in #21644 on which this patch is now based, and updated the PR description. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/817122255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/819344916",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-819344916",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 819344916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTM0NDkxNg==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-14T08:42:17Z",
    "updated_at": "2021-04-14T08:42:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is still the following \"strange\" behavior:\r\n\r\n```cpp\r\n// expected to have \"noban\" and \"download\" in flags, true\r\nflags = TryParse(\"noban,download\");\r\n\r\n// expected to have just \"noban\" in flags, given that \"download\" has been removed, not true :(\r\nClearFlag(flags, PF_DOWNLOAD);\r\n\r\n// what happens actually is that now flags is in a \"bricked\" state\r\n// where it does not equal any of the PF_* flags or a bitwise-OR of them.\r\n```\r\n\r\nCould it be avoided to have the download flag included in the noban flag (i.e. to have each PF_* flag have exactly one bit set) and https://github.com/bitcoin/bitcoin/pull/19191 resolved in some other way?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/819344916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/819352958",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-819352958",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 819352958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxOTM1Mjk1OA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-14T08:54:24Z",
    "updated_at": "2021-04-18T15:05:07Z",
    "author_association": "MEMBER",
    "body": "I don't disagree, though it might be out of scope for this change (which has indeed exposed some issues!)\r\n\r\n`ClearFlag` is currently only used in `src/net.cpp::CConnman::CreateNodeFromAcceptedSocket()` to clear the NetPermissionFlags implicit flag.\r\n\r\nEdit: addressed for now in #21644.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/819352958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831142194",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-831142194",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 831142194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMTE0MjE5NA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-03T09:33:02Z",
    "updated_at": "2021-05-03T09:33:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--4a62be1de6b64f3ed646cdc7932c8cf5-->\n\ud83d\udd75\ufe0f @sipa has been requested to review this pull request as specified in the REVIEWERS file.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/831142194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838218040",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-838218040",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 838218040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzODIxODA0MA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-11T10:18:10Z",
    "updated_at": "2021-05-12T09:13:50Z",
    "author_association": "MEMBER",
    "body": "Thanks everyone for the ACKs but this isn't being merged and I am tying up loose ends before being less present here for some seminars.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/838218040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839259402",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-839259402",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 839259402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTI1OTQwMg==",
    "user": {
      "login": "Rspigler",
      "id": 24482484,
      "node_id": "MDQ6VXNlcjI0NDgyNDg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/24482484?u=7354800fee53a3db4ba3c6aa40de4ea8c3bf58f0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Rspigler",
      "html_url": "https://github.com/Rspigler",
      "followers_url": "https://api.github.com/users/Rspigler/followers",
      "following_url": "https://api.github.com/users/Rspigler/following{/other_user}",
      "gists_url": "https://api.github.com/users/Rspigler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Rspigler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Rspigler/subscriptions",
      "organizations_url": "https://api.github.com/users/Rspigler/orgs",
      "repos_url": "https://api.github.com/users/Rspigler/repos",
      "events_url": "https://api.github.com/users/Rspigler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Rspigler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-11T22:57:57Z",
    "updated_at": "2021-05-11T22:57:57Z",
    "author_association": "NONE",
    "body": "Mark up for grabs?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839259402/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839607575",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-839607575",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 839607575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTYwNzU3NQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T09:12:11Z",
    "updated_at": "2021-05-12T09:12:11Z",
    "author_association": "MEMBER",
    "body": "Re-opening and rebased now that #21644, that this is based on, was merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839607575/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839762436",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-839762436",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 839762436,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTc2MjQzNg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T13:13:37Z",
    "updated_at": "2021-05-12T13:13:37Z",
    "author_association": "MEMBER",
    "body": "cr ACK d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839762436/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839809407",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-839809407",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 839809407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTgwOTQwNw==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T14:16:45Z",
    "updated_at": "2021-05-12T14:16:45Z",
    "author_association": "MEMBER",
    "body": "Dropped unneeded parentheses, only change is `git diff d53c70e 7075f60`\r\n```diff\r\ndiff --git a/src/net_permissions.h b/src/net_permissions.h\r\nindex 9cb59bd85f..7a158aa6c5 100644\r\n--- a/src/net_permissions.h\r\n+++ b/src/net_permissions.h\r\n@@ -56,7 +56,7 @@ public:\r\n     }\r\n     static inline void AddFlag(NetPermissionFlags& flags, NetPermissionFlags f)\r\n     {\r\n-        flags = (flags | f);\r\n+        flags = flags | f;\r\n     }\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/839809407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/843940327",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#issuecomment-843940327",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21506",
    "id": 843940327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0Mzk0MDMyNw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-19T09:51:10Z",
    "updated_at": "2021-05-19T09:51:10Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/843940327/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/599761948",
    "pull_request_review_id": 618848359,
    "id": 599761948,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5OTc2MTk0OA==",
    "diff_hunk": "@@ -968,7 +968,7 @@ bool CConnman::AttemptToEvictConnection()\n \n         LOCK(cs_vNodes);\n         for (const CNode* node : vNodes) {\n-            if (node->HasPermission(NetPermissionFlags::PF_NOBAN))\n+            if (node->HasPermission(NetPermissionFlags::NoBan))",
    "path": "src/net.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "98daee8f32de92f9521ebc29ce563987547d6e55",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "meta: Could the rename be a scripted-diff?",
    "created_at": "2021-03-23T17:01:19Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r599761948",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/599761948"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r599761948"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/599761948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1008,
    "original_line": 1008,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600447225",
    "pull_request_review_id": 619677894,
    "id": 600447225,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMDQ0NzIyNQ==",
    "diff_hunk": "@@ -968,7 +968,7 @@ bool CConnman::AttemptToEvictConnection()\n \n         LOCK(cs_vNodes);\n         for (const CNode* node : vNodes) {\n-            if (node->HasPermission(NetPermissionFlags::PF_NOBAN))\n+            if (node->HasPermission(NetPermissionFlags::NoBan))",
    "path": "src/net.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "98daee8f32de92f9521ebc29ce563987547d6e55",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-03-24T12:51:13Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600447225",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600447225"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600447225"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600447225/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1008,
    "original_line": 1008,
    "side": "RIGHT",
    "in_reply_to_id": 599761948
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600865647",
    "pull_request_review_id": 620220805,
    "id": 600865647,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMDg2NTY0Nw==",
    "diff_hunk": "@@ -381,41 +381,47 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n     // If no permission flags, assume backward compatibility\n     BOOST_CHECK(NetWhitebindPermissions::TryParse(\"1.2.3.4:32\", whitebindPermissions, error));\n     BOOST_CHECK(error.empty());\n-    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n-    NetPermissions::ClearFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(!NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n-    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, PF_NONE);\n-    NetPermissions::AddFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n+    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, NetPermissionFlags::Implicit);\n+    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+    BOOST_CHECK(NetPermissions::HasAnyFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+\n+    NetPermissions::ClearFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit);\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+    BOOST_CHECK(!NetPermissions::HasAnyFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));;",
    "path": "src/test/netbase_tests.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "02270a1ea4892ab66abe19e77946f6a55f5ae3b5",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n    BOOST_CHECK(!NetPermissions::HasAnyFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\r\n```\r\n?",
    "created_at": "2021-03-24T20:52:16Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600865647",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600865647"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600865647"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600865647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 390,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600891562",
    "pull_request_review_id": 620253351,
    "id": 600891562,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMDg5MTU2Mg==",
    "diff_hunk": "@@ -427,14 +433,23 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n \n     // Happy path for whitelist parsing\n     BOOST_CHECK(NetWhitelistPermissions::TryParse(\"noban@1.2.3.4\", whitelistPermissions, error));\n-    BOOST_CHECK_EQUAL(whitelistPermissions.m_flags, PF_NOBAN);\n+    BOOST_CHECK_EQUAL(whitelistPermissions.m_flags, NetPermissionFlags::NoBan);\n+    BOOST_CHECK(NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));\n+    BOOST_CHECK(NetPermissions::HasAnyFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));\n+\n+    NetPermissions::ClearFlag(whitelistPermissions.m_flags, NetPermissionFlags::Download);\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::Download));\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));",
    "path": "src/test/netbase_tests.cpp",
    "position": null,
    "original_position": 75,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "02270a1ea4892ab66abe19e77946f6a55f5ae3b5",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe move this line one line below? So that it is clear how `HasFlag` and `HasAnyFlag` differ. ",
    "created_at": "2021-03-24T21:38:21Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600891562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600891562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r600891562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/600891562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 442,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556107",
    "pull_request_review_id": 621206486,
    "id": 601556107,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTU1NjEwNw==",
    "diff_hunk": "@@ -381,41 +381,47 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n     // If no permission flags, assume backward compatibility\n     BOOST_CHECK(NetWhitebindPermissions::TryParse(\"1.2.3.4:32\", whitebindPermissions, error));\n     BOOST_CHECK(error.empty());\n-    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n-    NetPermissions::ClearFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(!NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n-    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, PF_NONE);\n-    NetPermissions::AddFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT);\n-    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, PF_ISIMPLICIT));\n+    BOOST_CHECK_EQUAL(whitebindPermissions.m_flags, NetPermissionFlags::Implicit);\n+    BOOST_CHECK(NetPermissions::HasFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+    BOOST_CHECK(NetPermissions::HasAnyFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+\n+    NetPermissions::ClearFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit);\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));\n+    BOOST_CHECK(!NetPermissions::HasAnyFlag(whitebindPermissions.m_flags, NetPermissionFlags::Implicit));;",
    "path": "src/test/netbase_tests.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "02270a1ea4892ab66abe19e77946f6a55f5ae3b5",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "good eye, thanks! the compiler didn't mind but we do. fixed.",
    "created_at": "2021-03-25T14:47:18Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r601556107",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556107"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r601556107"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 390,
    "side": "RIGHT",
    "in_reply_to_id": 600865647
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556341",
    "pull_request_review_id": 621206791,
    "id": 601556341,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwMTU1NjM0MQ==",
    "diff_hunk": "@@ -427,14 +433,23 @@ BOOST_AUTO_TEST_CASE(netpermissions_test)\n \n     // Happy path for whitelist parsing\n     BOOST_CHECK(NetWhitelistPermissions::TryParse(\"noban@1.2.3.4\", whitelistPermissions, error));\n-    BOOST_CHECK_EQUAL(whitelistPermissions.m_flags, PF_NOBAN);\n+    BOOST_CHECK_EQUAL(whitelistPermissions.m_flags, NetPermissionFlags::NoBan);\n+    BOOST_CHECK(NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));\n+    BOOST_CHECK(NetPermissions::HasAnyFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));\n+\n+    NetPermissions::ClearFlag(whitelistPermissions.m_flags, NetPermissionFlags::Download);\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::Download));\n+    BOOST_CHECK(!NetPermissions::HasFlag(whitelistPermissions.m_flags, NetPermissionFlags::NoBan));",
    "path": "src/test/netbase_tests.cpp",
    "position": null,
    "original_position": 75,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "02270a1ea4892ab66abe19e77946f6a55f5ae3b5",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "sure, done",
    "created_at": "2021-03-25T14:47:33Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r601556341",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556341"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r601556341"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/601556341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 442,
    "side": "RIGHT",
    "in_reply_to_id": 600891562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/605945239",
    "pull_request_review_id": 626647245,
    "id": 605945239,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNTk0NTIzOQ==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not `NetPermissions::HasFlag` ?",
    "created_at": "2021-04-01T21:03:52Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r605945239",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/605945239"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r605945239"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/605945239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606248080",
    "pull_request_review_id": 626996639,
    "id": 606248080,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNjI0ODA4MA==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hm, the tests pass with `HasFlag()` but ISTM that would represent a potential change in behavior in a refactoring pull, as `HasFlag()` returns `(flags & f) == f` instead of `flags & f` and `NetPermissionFlags::NoBan` is a multi-flag (`NoBan = (1U << 4) | Download`). LMK if I'm confused here though.\r\n\r\nAside, this line was last changed in commit bb145c90502:\r\n```diff\r\n-    if (addr.IsRoutable() && fDiscover && (permissions & PF_NOBAN) == 0) {\r\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\r\n```\r\n",
    "created_at": "2021-04-02T13:55:31Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r606248080",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606248080"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r606248080"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606248080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606878743",
    "pull_request_review_id": 627589470,
    "id": 606878743,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwNjg3ODc0Mw==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You are right. Your change is equivalent to the current code. But this raises additional questions:\r\n\r\n1. current tests are not reliable if they\r\n> pass with `HasFlag()`\r\n\r\n2. `HasAnyFlag(permissions, flag_a | flag_b)` is much easier to read and reason about than `HasAnyFlag(permissions, fancy_multiflag)`\r\n\r\n3. in general, with named multiflags, negation of `HasFlag` could have ambiguous meaning. Does this code do what it is supposed to do in all cases: https://github.com/bitcoin/bitcoin/blob/590e49ccf2af27c6c1f1e0eb8be3a4bf4d92ce8b/src/net.cpp#L1110-L1117 ?",
    "created_at": "2021-04-05T01:17:41Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r606878743",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606878743"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r606878743"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/606878743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609708573",
    "pull_request_review_id": 631403381,
    "id": 609708573,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTcwODU3Mw==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "After looking at #16248 and #19191, the current code seems correct.\r\n\r\nThis line was changed in e5b26deaaa6, which pre-dates the download permission being extracted from noban in #19191: \r\n```diff \r\n-    if (addrBind.IsRoutable() && fDiscover && !fWhitelisted)\r\n+    if (addrBind.IsRoutable() && fDiscover && (permissions & PF_NOBAN) == 0)\r\n```\r\nThe intent of adding the Download flag in #19191 was: *\"It should be possible to grant nodes in a local network (e.g. home, university, enterprise, ...) permission to download blocks even after the maxuploadtarget is hit. Currently this is only possible by setting the noban permission, which has some adverse effects, especially if the peers can't be fully trusted. Fix this by extracting a download permission from noban.\"*\r\n\r\nSo, in reply to your questions:\r\n\r\n1. (If I understand correctly) the existing lone bitwise AND here, e.g. `HasAnyFlag(Noban)` is correct (but the precise behavior is not covered by tests)\r\n\r\n2. I guess we could replace `HasAnyFlag(Noban)` with the more verbose `HasFlag(Noban) || HasFlag(Download)` if that seems clearer\r\n\r\n3. Elsewhere, `HasFlag()` appears to be what we want in the cases where it is used, AFAICT\r\n",
    "created_at": "2021-04-08T13:36:13Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609708573",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609708573"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609708573"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609708573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609755453",
    "pull_request_review_id": 631458623,
    "id": 609755453,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTc1NTQ1Mw==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ugh, looks like this is a bug that I introduced in #19191\r\n\r\n(The `download` permission set shouldn't affect places where `noban` is checked for)",
    "created_at": "2021-04-08T14:21:54Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609755453",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609755453"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609755453"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609755453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609766590",
    "pull_request_review_id": 631471302,
    "id": 609766590,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTc2NjU5MA==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I first thought that too, but here in Bind() I'm not sure. Confirm that HasFlag(NoBan) is fine here?",
    "created_at": "2021-04-08T14:32:11Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609766590",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609766590"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609766590"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609766590/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609780989",
    "pull_request_review_id": 631488306,
    "id": 609780989,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTc4MDk4OQ==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Well, fixing a bug should indeed be done in a separate pull from one that is tagged with [refactoring]",
    "created_at": "2021-04-08T14:45:55Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609780989",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609780989"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609780989"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609780989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609899271",
    "pull_request_review_id": 631624636,
    "id": 609899271,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTg5OTI3MQ==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok will open a separate patch for that.",
    "created_at": "2021-04-08T16:49:40Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609899271",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609899271"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r609899271"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/609899271/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/610871119",
    "pull_request_review_id": 632741170,
    "id": 610871119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMDg3MTExOQ==",
    "diff_hunk": "@@ -2410,7 +2414,7 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         return false;\n     }\n \n-    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !(permissions & PF_NOBAN)) {\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && !NetPermissions::HasAnyFlag(permissions, NetPermissionFlags::NoBan)) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 82,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "fa73a18ad874cc076a9201678ff25686766c24d0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done in #21644. Resolving here and will simplify this PR, dropping the `HasAnyFlags()` and unit test commits.",
    "created_at": "2021-04-09T19:50:58Z",
    "updated_at": "2021-04-10T11:33:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r610871119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/610871119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r610871119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/610871119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2413,
    "side": "RIGHT",
    "in_reply_to_id": 605945239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160043",
    "pull_request_review_id": 635502679,
    "id": 613160043,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMzE2MDA0Mw==",
    "diff_hunk": "@@ -14,46 +15,51 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b) {",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 46,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "24b294ac7519d6989d9746edd9e6643a4adbe88a",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: the opening `{` should be on a new line",
    "created_at": "2021-04-14T11:21:19Z",
    "updated_at": "2021-04-14T11:30:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r613160043",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160043"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r613160043"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160043/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 41,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160393",
    "pull_request_review_id": 635502679,
    "id": 613160393,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxMzE2MDM5Mw==",
    "diff_hunk": "@@ -14,46 +15,51 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b) {\n+    using t = typename std::underlying_type<NetPermissionFlags>::type;\n+    return static_cast<NetPermissionFlags>(static_cast<t>(a) | static_cast<t>(b));\n+}\n \n class NetPermissions\n {\n public:\n     NetPermissionFlags m_flags;\n     static std::vector<std::string> ToStrings(NetPermissionFlags flags);\n-    static inline bool HasFlag(const NetPermissionFlags& flags, NetPermissionFlags f)\n-    {\n-        return (flags & f) == f;\n+    static inline bool HasFlag(NetPermissionFlags flags, NetPermissionFlags f) {",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 59,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "24b294ac7519d6989d9746edd9e6643a4adbe88a",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: the opening `{` should be on a new line",
    "created_at": "2021-04-14T11:22:02Z",
    "updated_at": "2021-04-14T11:30:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r613160393",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160393"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r613160393"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/613160393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 51,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866146",
    "pull_request_review_id": 657648752,
    "id": 630866146,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDg2NjE0Ng==",
    "diff_hunk": "@@ -14,46 +15,51 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b) {",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 46,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "24b294ac7519d6989d9746edd9e6643a4adbe88a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done",
    "created_at": "2021-05-12T09:10:16Z",
    "updated_at": "2021-05-12T09:10:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r630866146",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866146"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r630866146"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 41,
    "side": "RIGHT",
    "in_reply_to_id": 613160043
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866290",
    "pull_request_review_id": 657648984,
    "id": 630866290,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDg2NjI5MA==",
    "diff_hunk": "@@ -14,46 +15,51 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b) {\n+    using t = typename std::underlying_type<NetPermissionFlags>::type;\n+    return static_cast<NetPermissionFlags>(static_cast<t>(a) | static_cast<t>(b));\n+}\n \n class NetPermissions\n {\n public:\n     NetPermissionFlags m_flags;\n     static std::vector<std::string> ToStrings(NetPermissionFlags flags);\n-    static inline bool HasFlag(const NetPermissionFlags& flags, NetPermissionFlags f)\n-    {\n-        return (flags & f) == f;\n+    static inline bool HasFlag(NetPermissionFlags flags, NetPermissionFlags f) {",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 59,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "24b294ac7519d6989d9746edd9e6643a4adbe88a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "done, thanks!",
    "created_at": "2021-05-12T09:10:30Z",
    "updated_at": "2021-05-12T09:10:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r630866290",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866290"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r630866290"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630866290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 51,
    "side": "RIGHT",
    "in_reply_to_id": 613160393
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022134",
    "pull_request_review_id": 657859146,
    "id": 631022134,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTAyMjEzNA==",
    "diff_hunk": "@@ -14,52 +15,59 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b)",
    "path": "src/net_permissions.h",
    "position": 46,
    "original_position": 46,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice! Why not do this for `&` as well?\r\n(More generally, I wonder if there is a nice way in C++ to define a reusable metatype that is 'enum with bitfield properties'\u2014it seems that this is more generally useful. Not necessarily in this PR though.)",
    "created_at": "2021-05-12T13:05:35Z",
    "updated_at": "2021-05-12T13:08:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631022134",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022134"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631022134"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022134/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 41,
    "original_line": 41,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022611",
    "pull_request_review_id": 657859825,
    "id": 631022611,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTAyMjYxMQ==",
    "diff_hunk": "@@ -14,52 +15,59 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b)\n+{\n+    using t = typename std::underlying_type<NetPermissionFlags>::type;\n+    return static_cast<NetPermissionFlags>(static_cast<t>(a) | static_cast<t>(b));\n+}\n \n class NetPermissions\n {\n public:\n     NetPermissionFlags m_flags;\n     static std::vector<std::string> ToStrings(NetPermissionFlags flags);\n-    static inline bool HasFlag(const NetPermissionFlags& flags, NetPermissionFlags f)\n+    static inline bool HasFlag(NetPermissionFlags flags, NetPermissionFlags f)\n     {\n-        return (flags & f) == f;\n+        using t = typename std::underlying_type<NetPermissionFlags>::type;\n+        return (static_cast<t>(flags) & static_cast<t>(f)) == static_cast<t>(f);\n     }\n     static inline void AddFlag(NetPermissionFlags& flags, NetPermissionFlags f)\n     {\n-        flags = static_cast<NetPermissionFlags>(flags | f);\n+        flags = (flags | f);",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 67,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: unnecessary parenthesis",
    "created_at": "2021-05-12T13:06:14Z",
    "updated_at": "2021-05-12T13:06:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631022611",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022611"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631022611"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631022611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631025917",
    "pull_request_review_id": 657864431,
    "id": 631025917,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTAyNTkxNw==",
    "diff_hunk": "@@ -14,52 +15,59 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b)",
    "path": "src/net_permissions.h",
    "position": 46,
    "original_position": 46,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think the goal of this pull is to forbid the `&` operator, because it won't do what you think it does. (See the preceding bugfix)",
    "created_at": "2021-05-12T13:10:22Z",
    "updated_at": "2021-05-12T13:10:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631025917",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631025917"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631025917"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631025917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 41,
    "original_line": 41,
    "side": "RIGHT",
    "in_reply_to_id": 631022134
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631026830",
    "pull_request_review_id": 657865692,
    "id": 631026830,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTAyNjgzMA==",
    "diff_hunk": "@@ -14,52 +15,59 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b)",
    "path": "src/net_permissions.h",
    "position": 46,
    "original_position": 46,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That is, callers should use `HasFlag` instead of `&`.",
    "created_at": "2021-05-12T13:11:30Z",
    "updated_at": "2021-05-12T13:11:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631026830",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631026830"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631026830"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631026830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 41,
    "original_line": 41,
    "side": "RIGHT",
    "in_reply_to_id": 631022134
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631081923",
    "pull_request_review_id": 657941920,
    "id": 631081923,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTA4MTkyMw==",
    "diff_hunk": "@@ -14,52 +15,59 @@ struct bilingual_str;\n \n extern const std::vector<std::string> NET_PERMISSIONS_DOC;\n \n-enum NetPermissionFlags {\n-    PF_NONE = 0,\n+enum class NetPermissionFlags : uint32_t {\n+    None = 0,\n     // Can query bloomfilter even if -peerbloomfilters is false\n-    PF_BLOOMFILTER = (1U << 1),\n+    BloomFilter = (1U << 1),\n     // Relay and accept transactions from this peer, even if -blocksonly is true\n     // This peer is also not subject to limits on how many transaction INVs are tracked\n-    PF_RELAY = (1U << 3),\n+    Relay = (1U << 3),\n     // Always relay transactions from this peer, even if already in mempool\n     // Keep parameter interaction: forcerelay implies relay\n-    PF_FORCERELAY = (1U << 2) | PF_RELAY,\n+    ForceRelay = (1U << 2) | Relay,\n     // Allow getheaders during IBD and block-download after maxuploadtarget limit\n-    PF_DOWNLOAD = (1U << 6),\n+    Download = (1U << 6),\n     // Can't be banned/disconnected/discouraged for misbehavior\n-    PF_NOBAN = (1U << 4) | PF_DOWNLOAD,\n+    NoBan = (1U << 4) | Download,\n     // Can query the mempool\n-    PF_MEMPOOL = (1U << 5),\n+    Mempool = (1U << 5),\n     // Can request addrs without hitting a privacy-preserving cache\n-    PF_ADDR = (1U << 7),\n+    Addr = (1U << 7),\n \n     // True if the user did not specifically set fine grained permissions\n-    PF_ISIMPLICIT = (1U << 31),\n-    PF_ALL = PF_BLOOMFILTER | PF_FORCERELAY | PF_RELAY | PF_NOBAN | PF_MEMPOOL | PF_DOWNLOAD | PF_ADDR,\n+    Implicit = (1U << 31),\n+    All = BloomFilter | ForceRelay | Relay | NoBan | Mempool | Download | Addr,\n };\n+static inline constexpr NetPermissionFlags operator|(NetPermissionFlags a, NetPermissionFlags b)\n+{\n+    using t = typename std::underlying_type<NetPermissionFlags>::type;\n+    return static_cast<NetPermissionFlags>(static_cast<t>(a) | static_cast<t>(b));\n+}\n \n class NetPermissions\n {\n public:\n     NetPermissionFlags m_flags;\n     static std::vector<std::string> ToStrings(NetPermissionFlags flags);\n-    static inline bool HasFlag(const NetPermissionFlags& flags, NetPermissionFlags f)\n+    static inline bool HasFlag(NetPermissionFlags flags, NetPermissionFlags f)\n     {\n-        return (flags & f) == f;\n+        using t = typename std::underlying_type<NetPermissionFlags>::type;\n+        return (static_cast<t>(flags) & static_cast<t>(f)) == static_cast<t>(f);\n     }\n     static inline void AddFlag(NetPermissionFlags& flags, NetPermissionFlags f)\n     {\n-        flags = static_cast<NetPermissionFlags>(flags | f);\n+        flags = (flags | f);",
    "path": "src/net_permissions.h",
    "position": null,
    "original_position": 67,
    "commit_id": "7075f604e8d0b21b2255fa57e20cd365dc10a288",
    "original_commit_id": "d53c70e775e56c4e4c30728262121c9f7e4bcc23",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "fixed",
    "created_at": "2021-05-12T14:14:57Z",
    "updated_at": "2021-05-12T14:14:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631081923",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631081923"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21506#discussion_r631081923"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21506"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/631081923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT",
    "in_reply_to_id": 631022611
  }
]