Diapolo,2012-04-02T09:23:22Z,"I can't really comment on your code changes, but I'm interested in some of the changes. You removed / changed how the global var addrLocalHost worked. There is now a list / an array which holds all local addresses, which can be used for bitcoin network connections. That one can be queried via GetLocal(), right? I understand this is needed for IPv6, but could that be used if a client had more than ",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4874937,4874937,
sipa,2012-04-02T09:31:56Z,"@Diapolo: yes you can use it with multiple NICs; it's even in a separate commit named ""Support for multiple local addresses"".\n\nIPv6 external address detection works the same way as IPv4, though IRC and whatismyip.com will obviously only tell you about IPv4 addresses.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4875044,4875044,
Diapolo,2012-04-02T10:09:34Z,"Thanks for the infos @sipa. How would I query or list all interfaces that are used for connections, is this possible with a single GetLocal() call somehow?\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4875624,4875624,
sipa,2012-04-02T10:27:56Z,"GetLocal() queries the mapLocalAddress database; this contains the routable addresses detected on local interfaces, but also addresses discovered through UPnP, IRC, website lookups, or manually specified. There's not really a way to link them back to interfaces anymore (though you can find those in debug.log, lines of the form ""ipv4 eth0: 192.168.1.1"").\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4875823,4875823,
Diapolo,2012-04-02T11:16:06Z,"I'm asking, because I have a small commit in the pipe, which displays the external IP as a tooltip when you hover the connection symbol in the Qt client. This would get broken by your commit and I wanted to know if I could make it work again (if it ever get's accepted - but it would be an added value to the GUI).\n\nTo query all used IPs via a foreach or sth. like that would be nice.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4876452,4876452,
sipa,2012-04-02T12:19:18Z,"You can query which potentially local addresses bitcoin knows about (just check the mapLocalAddress), but that is not the same as the addresses it's reachable on (no way to know that for sure) or the address of local interfaces.\n\nEdit: you could just use GetLocal(addrBest, NULL), which will return the most likely publicly reachable address.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-4877233,4877233,
luke-jr,2012-04-10T13:48:48Z,Needs rebasing. Sipa broke everything using locks. >_<\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5046199,5046199,
sipa,2012-04-10T14:02:51Z,"Yeah, I'm a lock breaker. Rebased.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5046510,5046510,
Diapolo,2012-04-10T17:50:40Z,"I'm sure IPv6 support is one of the biggest infrastructure things in the ""Internet"" ... would it perhaps be a good idea to offer an IPv6 enabled beta instead of merging directly into master? That's no NACK btw!\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5051835,5051835,
luke-jr,2012-04-10T17:54:06Z,"IPv6 is basically deployed by now. Even in the rare cases of ISPs behind the times or ancient routers, Windows will still setup a Teredo tunnel and Linux users can trivially configure 6to4.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5051922,5051922,
sipa,2012-04-10T18:32:46Z,"Ok, updated. \n- Foreign addresses (ipv6 when you are ipv4-only, for example) are now not stored in addrman, and only relayed to one node instead of 2.\n- USE_IPV6 is enabled by default by all makefiles\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5052923,5052923,
sipa,2012-04-10T18:38:13Z,"as soon as support for tor/i2p hidden services is added, you'll probably need -externalip=something.onion to make your node advertize that address as well. It seems a bit strange to limit the function to IPv4 when the semantics are exactly the same for every network.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5053064,5053064,
jgarzik,2012-04-10T18:38:43Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5053073,5053073,
sipa,2012-04-10T18:50:13Z,Socks version is now selectable using -socks=<n>.\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5053324,5053324,
jgarzik,2012-04-23T18:28:36Z,"I would like to merge this sooner rather than later...   we can always merge this with !USE_IPV6 for 0.6.1, for example, and then turn on USE_IPV6 on 0.7.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5288015,5288015,
sipa,2012-04-23T18:31:26Z,I just split off the SOCKS-related changes to another pullreq.\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5288083,5288083,
rebroad,2012-04-28T14:22:32Z,is the -externalip=blahblah.onion working yet?\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5397076,5397076,
sipa,2012-04-28T14:25:44Z,"No, that requires onioncat-style IPv6 addresses support.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5397097,5397097,
sipa,2012-05-11T13:34:22Z,Added -bind=[addr].\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5650601,5650601,
luke-jr,2012-05-11T13:47:18Z,"FWIW, I don't seem to be getting any IPv6 connections with this\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5650916,5650916,
sipa,2012-05-11T13:53:07Z,@luke-jr how do you mean?\n,https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5651038,5651038,
luke-jr,2012-05-11T15:35:03Z,"I mean, I expect running with this should get me at least a few IPv6 connections..?\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5653559,5653559,
jgarzik,2012-05-11T16:06:57Z,"You're probably the only one besides sipa running an IPv6 node, so connection success seems doubtful\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5654372,5654372,
rebroad,2012-05-11T16:47:28Z,"I'm running this also, and I think I have IPv6 enabled.\n",https://github.com/bitcoin/bitcoin/pull/1021#issuecomment-5655410,5655410,
luke-jr,2012-04-10T15:57:16Z,Why should IPv6 be disabled by default for Bitcoin-Qt? :/\n,https://github.com/bitcoin/bitcoin/pull/1021#discussion_r666059,666059,bitcoin-qt.pro
luke-jr,2012-04-10T15:59:25Z,"Also, note that USE_\* flags currently represent optional dependencies. I'm not sure IPv6 is a dependency, just a feature?\n",https://github.com/bitcoin/bitcoin/pull/1021#discussion_r666076,666076,bitcoin-qt.pro
luke-jr,2012-04-10T16:03:18Z,This needs to be inside an #ifdef USE_IPV6\n,https://github.com/bitcoin/bitcoin/pull/1021#discussion_r666110,666110,src/net.cpp
sipa,2012-04-10T16:20:52Z,"I intended it to be disabled by default everywhere, but at least it should be consistent.\n",https://github.com/bitcoin/bitcoin/pull/1021#discussion_r666218,666218,bitcoin-qt.pro
sipa,2012-04-10T16:21:00Z,done\n,https://github.com/bitcoin/bitcoin/pull/1021#discussion_r666219,666219,src/net.cpp
