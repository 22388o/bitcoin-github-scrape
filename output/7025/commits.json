[
  {
    "sha": "d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMTZkMWI3MmQxYjViZDdlNzFjMGYwMzM1OGYxMzcxMWJjY2YzZGMx",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-16T09:43:36Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-16T10:05:26Z"
      },
      "message": "[Qt] refactor and optimize proxy settings behavior",
      "tree": {
        "sha": "a16284c3f350d4ff6676c507d5b9b7423301708c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a16284c3f350d4ff6676c507d5b9b7423301708c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWSapnAAoJECnUvLZBb1PsvEcP/RnQstbtv9DLGYWCxOnVNMyA\nH8CO8gkW7UckHPEOnGZGv/i8khPPI0Qv0wh4eX7kDWePvJkf6cbr8NmcRTM4GBLM\nymmAEV+LIGkzalGA50/kTGGwOhE/7RPnF6GB7RSuSDswR8GEVjcohLIuV+fP/b3j\nmhaKlwGAZ93v+6SHs8jtwyw2OBa8/PoRxhVtAHDolB7NnpUd79aEnV2T4BM9nbrS\ncdy2tSyctH0JaM4lX9sjKGwFX36GNA0bSk3s9aX/zF/x0tfjGA5SVm1Q6ksn3lw6\nr1YZesnRvXVk2lJX+QwXLfb/iCMlYluMlXuQQEPN3aPW3RbolmdmO6b6hgYyi1h1\nFe7kR1Atl+JKwWJku6rbmbrICw0HMQy6+qr+22qKnkrVXaxpZ3zPVo7iC34Ic+Hs\nyuaaOZhrTf3uTliVK5ZYWZ/lsUXceb9gcqr8uEcncwUE9jVlSzeduC5D7Gl7Kp5i\niO5d1zlS+Nm026mHgjF3BrCLM+Mscja889XT6sxhQ6LgSQBoz3ic14iaKvKDGxDo\nZpoK7LI+hMwyf1rQsULZj0xRGL7dNgirANgc5CuqJF81o/rzcYcmPmO88OYgnWta\nmzpa1dy4XN62y8X2WWpPEvNmgg+ZWq6CwgPOC7HDpeW3lRJRgbpd1cB+4rWlj1Co\ncJlp3Fahu+wdOy6WNYSc\n=Wa54\n-----END PGP SIGNATURE-----",
        "payload": "tree a16284c3f350d4ff6676c507d5b9b7423301708c\nparent 6876a78b863e2d4f4c7ad94627bb35363f6fa720\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447667016 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1447668326 +0100\n\n[Qt] refactor and optimize proxy settings behavior\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6876a78b863e2d4f4c7ad94627bb35363f6fa720",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6876a78b863e2d4f4c7ad94627bb35363f6fa720",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6876a78b863e2d4f4c7ad94627bb35363f6fa720"
      }
    ],
    "stats": {
      "total": 113,
      "additions": 60,
      "deletions": 53
    },
    "files": [
      {
        "sha": "b94358451fe4a378ff6c00a3645559e98ace5a0d",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 26,
        "deletions": 44,
        "changes": 70,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "patch": "@@ -34,8 +34,7 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     QDialog(parent),\n     ui(new Ui::OptionsDialog),\n     model(0),\n-    mapper(0),\n-    fProxyIpsValid(true)\n+    mapper(0)\n {\n     ui->setupUi(this);\n \n@@ -64,9 +63,6 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     connect(ui->connectSocksTor, SIGNAL(toggled(bool)), ui->proxyIpTor, SLOT(setEnabled(bool)));\n     connect(ui->connectSocksTor, SIGNAL(toggled(bool)), ui->proxyPortTor, SLOT(setEnabled(bool)));\n \n-    ui->proxyIp->installEventFilter(this);\n-    ui->proxyIpTor->installEventFilter(this);\n-\n     /* Window elements init */\n #ifdef Q_OS_MAC\n     /* remove Window tab on Mac */\n@@ -119,7 +115,10 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     mapper->setOrientation(Qt::Vertical);\n \n     /* setup/change UI elements when proxy IPs are invalid/valid */\n-    connect(this, SIGNAL(proxyIpChecks(QValidatedLineEdit *, int)), this, SLOT(doProxyIpChecks(QValidatedLineEdit *, int)));\n+    ui->proxyIp->setCheckValidator(new ProxyAddressValidator(parent));\n+    ui->proxyIpTor->setCheckValidator(new ProxyAddressValidator(parent));\n+    connect(ui->proxyIp, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState(QValidatedLineEdit *)));\n+    connect(ui->proxyIpTor, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState(QValidatedLineEdit *)));\n }\n \n OptionsDialog::~OptionsDialog()\n@@ -200,18 +199,6 @@ void OptionsDialog::setMapper()\n     mapper->addMapping(ui->thirdPartyTxUrls, OptionsModel::ThirdPartyTxUrls);\n }\n \n-void OptionsDialog::enableOkButton()\n-{\n-    /* prevent enabling of the OK button when data modified, if there is an invalid proxy address present */\n-    if(fProxyIpsValid)\n-        setOkButtonState(true);\n-}\n-\n-void OptionsDialog::disableOkButton()\n-{\n-    setOkButtonState(false);\n-}\n-\n void OptionsDialog::setOkButtonState(bool fState)\n {\n     ui->okButton->setEnabled(fState);\n@@ -269,24 +256,19 @@ void OptionsDialog::clearStatusLabel()\n     ui->statusLabel->clear();\n }\n \n-void OptionsDialog::doProxyIpChecks(QValidatedLineEdit *pUiProxyIp, int nProxyPort)\n+void OptionsDialog::updateProxyValidationState(QValidatedLineEdit *pUiProxyIp)\n {\n-    Q_UNUSED(nProxyPort);\n-\n-    CService addrProxy;\n-\n-    /* Check for a valid IPv4 / IPv6 address */\n-    if (!(fProxyIpsValid = LookupNumeric(pUiProxyIp->text().toStdString().c_str(), addrProxy)))\n+    QValidatedLineEdit *otherProxyWidget = (pUiProxyIp == ui->proxyIpTor) ? ui->proxyIp : ui->proxyIpTor;\n+    if (pUiProxyIp->isValid())\n     {\n-        disableOkButton();\n-        pUiProxyIp->setValid(false);\n-        ui->statusLabel->setStyleSheet(\"QLabel { color: red; }\");\n-        ui->statusLabel->setText(tr(\"The supplied proxy address is invalid.\"));\n+        setOkButtonState(otherProxyWidget->isValid()); //only enable ok button if both proxys are valid\n+        ui->statusLabel->clear();\n     }\n     else\n     {\n-        enableOkButton();\n-        ui->statusLabel->clear();\n+        setOkButtonState(false);\n+        ui->statusLabel->setStyleSheet(\"QLabel { color: red; }\");\n+        ui->statusLabel->setText(tr(\"The supplied proxy address is invalid.\"));\n     }\n }\n \n@@ -312,18 +294,18 @@ void OptionsDialog::updateDefaultProxyNets()\n     (strProxy == strDefaultProxyGUI.toStdString()) ? ui->proxyReachTor->setChecked(true) : ui->proxyReachTor->setChecked(false);\n }\n \n-bool OptionsDialog::eventFilter(QObject *object, QEvent *event)\n+ProxyAddressValidator::ProxyAddressValidator(QObject *parent) :\n+QValidator(parent)\n {\n-    if(event->type() == QEvent::FocusOut)\n-    {\n-        if(object == ui->proxyIp)\n-        {\n-            Q_EMIT proxyIpChecks(ui->proxyIp, ui->proxyPort->text().toInt());\n-        }\n-        else if(object == ui->proxyIpTor)\n-        {\n-            Q_EMIT proxyIpChecks(ui->proxyIpTor, ui->proxyPortTor->text().toInt());\n-        }\n-    }\n-    return QDialog::eventFilter(object, event);\n+}\n+\n+QValidator::State ProxyAddressValidator::validate(QString &input, int &pos) const\n+{\n+    Q_UNUSED(pos);\n+    // Validate the proxy\n+    proxyType addrProxy = proxyType(CService(input.toStdString(), 9050), true);\n+    if (addrProxy.IsValid())\n+        return QValidator::Acceptable;\n+\n+    return QValidator::Invalid;\n }"
      },
      {
        "sha": "7d6ca60c805812b8d0b2c6825ba713fb0c061239",
        "filename": "src/qt/optionsdialog.h",
        "status": "modified",
        "additions": 14,
        "deletions": 9,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/optionsdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/optionsdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.h?ref=d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "patch": "@@ -6,6 +6,7 @@\n #define BITCOIN_QT_OPTIONSDIALOG_H\n \n #include <QDialog>\n+#include <QValidator>\n \n class OptionsModel;\n class QValidatedLineEdit;\n@@ -18,6 +19,18 @@ namespace Ui {\n class OptionsDialog;\n }\n \n+/** Proxy address widget validator, checks for a valid proxy address.\n+ */\n+class ProxyAddressValidator : public QValidator\n+{\n+    Q_OBJECT\n+\n+public:\n+    explicit ProxyAddressValidator(QObject *parent);\n+\n+    State validate(QString &input, int &pos) const;\n+};\n+\n /** Preferences dialog. */\n class OptionsDialog : public QDialog\n {\n@@ -30,14 +43,7 @@ class OptionsDialog : public QDialog\n     void setModel(OptionsModel *model);\n     void setMapper();\n \n-protected:\n-    bool eventFilter(QObject *object, QEvent *event);\n-\n private Q_SLOTS:\n-    /* enable OK button */\n-    void enableOkButton();\n-    /* disable OK button */\n-    void disableOkButton();\n     /* set OK button state (enabled / disabled) */\n     void setOkButtonState(bool fState);\n     void on_resetButton_clicked();\n@@ -46,7 +52,7 @@ private Q_SLOTS:\n \n     void showRestartWarning(bool fPersistent = false);\n     void clearStatusLabel();\n-    void doProxyIpChecks(QValidatedLineEdit *pUiProxyIp, int nProxyPort);\n+    void updateProxyValidationState(QValidatedLineEdit *pUiProxyIp);\n     /* query the networks, for which the default proxy is used */\n     void updateDefaultProxyNets();\n \n@@ -57,7 +63,6 @@ private Q_SLOTS:\n     Ui::OptionsDialog *ui;\n     OptionsModel *model;\n     QDataWidgetMapper *mapper;\n-    bool fProxyIpsValid;\n };\n \n #endif // BITCOIN_QT_OPTIONSDIALOG_H"
      },
      {
        "sha": "5658a0bdcf6a12c53131462aa50ec3440fc0fea4",
        "filename": "src/qt/qvalidatedlineedit.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 0,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/qvalidatedlineedit.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/qvalidatedlineedit.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qvalidatedlineedit.cpp?ref=d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "patch": "@@ -99,9 +99,25 @@ void QValidatedLineEdit::checkValidity()\n     }\n     else\n         setValid(false);\n+\n+    Q_EMIT validationDidChange(this);\n }\n \n void QValidatedLineEdit::setCheckValidator(const QValidator *v)\n {\n     checkValidator = v;\n }\n+\n+bool QValidatedLineEdit::isValid()\n+{\n+    // use checkValidator in case the QValidatedLineEdit is disabled\n+    if (checkValidator)\n+    {\n+        QString address = text();\n+        int pos = 0;\n+        if (checkValidator->validate(address, pos) == QValidator::Acceptable)\n+            return true;\n+    }\n+\n+    return valid;\n+}"
      },
      {
        "sha": "8cb6a425fad51d24b12723f585280ea6b8301725",
        "filename": "src/qt/qvalidatedlineedit.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/qvalidatedlineedit.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1/src/qt/qvalidatedlineedit.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qvalidatedlineedit.h?ref=d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "patch": "@@ -18,6 +18,7 @@ class QValidatedLineEdit : public QLineEdit\n     explicit QValidatedLineEdit(QWidget *parent);\n     void clear();\n     void setCheckValidator(const QValidator *v);\n+    bool isValid();\n \n protected:\n     void focusInEvent(QFocusEvent *evt);\n@@ -31,6 +32,9 @@ public Q_SLOTS:\n     void setValid(bool valid);\n     void setEnabled(bool enabled);\n \n+Q_SIGNALS:\n+    void validationDidChange(QValidatedLineEdit *validatedLineEdit);\n+    \n private Q_SLOTS:\n     void markValid();\n     void checkValidity();"
      }
    ]
  },
  {
    "sha": "2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyYThlOGMyZTM3MjFjOGNmNTYwZjA4ODczYjkwMjY1ZjhhYjFhODNi",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-18T13:02:14Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-18T13:02:14Z"
      },
      "message": "[Qt] don't allow to store invalid proxy ports",
      "tree": {
        "sha": "1153ab88905ec200e07cd551a0e5b1cc667ebcec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1153ab88905ec200e07cd551a0e5b1cc667ebcec"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWTHbcAAoJECnUvLZBb1Ps8XwQAKGXFeWY4OlTYeEo3lUUoEV6\nzOwTYzYWVlO4af2f5XqaxUICoOx7depgZ4CPgLafjC44OBAKa4348hZk6FH/tpVO\nekv8kUZw7BX2oHVDfOP9UUUa5TnTU9qihpWmyHpoAMQAODMauDTh7z6FKlbnZ2bf\nXZS/SHXol/plFm1COmP/GyHJrO5ejCWv4tTVasam0ya4KrDQ0NBBj2SXd+37nalr\nJN8I7jVyVBET+UG2x3Ay7Bdp6vCKuF6YF8IbyT2fFiygZBZk8upFidyUg+zPR4AC\nHOBE89jrjQo23NpUa048GpdIc6jTdAY1a17opYInlKcojiIlQhbyp6WDPHt0uSNV\n5jNRyferlY9zzir0X94/5cxyx+DElSnyv9xE42Wv9zEAJDtzyUdyr7SGAppjOkkO\nraVyIC2h+/IHwcHdfVoVzt1SNYAAUg40uyKcZldeMHFuadnuv7e2fyrXWPUZHbK5\nfghPXHE7Zqb6DufXxHFo2m70r4vwDl2pUT2ssJBpK/bjeymv8cYa0aRkzARkHsRk\nOkBWiXeVDYMa5D9GnnztnEWlbtrqqMp1z5B1rbtcHx7UEKi1Qhg32tle2InHzaLB\nuHm+IVKfq0GoqUuc38DbFbNOxBiomH28BBEU0TFmirpA0ikqpS43iEcwWHjroov9\n0ZgrFInsMbYE3pjM1/Cb\n=n8Gl\n-----END PGP SIGNATURE-----",
        "payload": "tree 1153ab88905ec200e07cd551a0e5b1cc667ebcec\nparent d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447851734 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1447851734 +0100\n\n[Qt] don't allow to store invalid proxy ports\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d16d1b72d1b5bd7e71c0f03358f13711bccf3dc1"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 10,
      "deletions": 5
    },
    "files": [
      {
        "sha": "647c860bdc7ec3b0e18d7772444d0328bbaa1e59",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 4,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
        "patch": "@@ -59,9 +59,11 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n \n     connect(ui->connectSocks, SIGNAL(toggled(bool)), ui->proxyIp, SLOT(setEnabled(bool)));\n     connect(ui->connectSocks, SIGNAL(toggled(bool)), ui->proxyPort, SLOT(setEnabled(bool)));\n+    connect(ui->connectSocks, SIGNAL(toggled(bool)), this, SLOT(updateProxyValidationState()));\n \n     connect(ui->connectSocksTor, SIGNAL(toggled(bool)), ui->proxyIpTor, SLOT(setEnabled(bool)));\n     connect(ui->connectSocksTor, SIGNAL(toggled(bool)), ui->proxyPortTor, SLOT(setEnabled(bool)));\n+    connect(ui->connectSocksTor, SIGNAL(toggled(bool)), this, SLOT(updateProxyValidationState()));\n \n     /* Window elements init */\n #ifdef Q_OS_MAC\n@@ -117,8 +119,10 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     /* setup/change UI elements when proxy IPs are invalid/valid */\n     ui->proxyIp->setCheckValidator(new ProxyAddressValidator(parent));\n     ui->proxyIpTor->setCheckValidator(new ProxyAddressValidator(parent));\n-    connect(ui->proxyIp, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState(QValidatedLineEdit *)));\n-    connect(ui->proxyIpTor, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState(QValidatedLineEdit *)));\n+    connect(ui->proxyIp, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState()));\n+    connect(ui->proxyIpTor, SIGNAL(validationDidChange(QValidatedLineEdit *)), this, SLOT(updateProxyValidationState()));\n+    connect(ui->proxyPort, SIGNAL(textChanged(const QString&)), this, SLOT(updateProxyValidationState()));\n+    connect(ui->proxyPortTor, SIGNAL(textChanged(const QString&)), this, SLOT(updateProxyValidationState()));\n }\n \n OptionsDialog::~OptionsDialog()\n@@ -256,10 +260,11 @@ void OptionsDialog::clearStatusLabel()\n     ui->statusLabel->clear();\n }\n \n-void OptionsDialog::updateProxyValidationState(QValidatedLineEdit *pUiProxyIp)\n+void OptionsDialog::updateProxyValidationState()\n {\n+    QValidatedLineEdit *pUiProxyIp = ui->proxyIp;\n     QValidatedLineEdit *otherProxyWidget = (pUiProxyIp == ui->proxyIpTor) ? ui->proxyIp : ui->proxyIpTor;\n-    if (pUiProxyIp->isValid())\n+    if (pUiProxyIp->isValid() && (!ui->proxyPort->isEnabled() || ui->proxyPort->text().toInt() > 0) && (!ui->proxyPortTor->isEnabled() || ui->proxyPortTor->text().toInt() > 0))\n     {\n         setOkButtonState(otherProxyWidget->isValid()); //only enable ok button if both proxys are valid\n         ui->statusLabel->clear();"
      },
      {
        "sha": "489e35da49248bd546bdc03022488e1afe4f4bba",
        "filename": "src/qt/optionsdialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b/src/qt/optionsdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2a8e8c2e3721c8cf560f08873b90265f8ab1a83b/src/qt/optionsdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.h?ref=2a8e8c2e3721c8cf560f08873b90265f8ab1a83b",
        "patch": "@@ -52,7 +52,7 @@ private Q_SLOTS:\n \n     void showRestartWarning(bool fPersistent = false);\n     void clearStatusLabel();\n-    void updateProxyValidationState(QValidatedLineEdit *pUiProxyIp);\n+    void updateProxyValidationState();\n     /* query the networks, for which the default proxy is used */\n     void updateDefaultProxyNets();\n "
      }
    ]
  }
]