JeremyRubin,2017-03-31T15:07:07Z,"Is every 500 too frequent in 735d9b5 (given that it is now, as you point out, the most frequently scheduled task)? Should we also make that a second (independent of this fix)?",https://github.com/bitcoin/bitcoin/pull/10129#issuecomment-290738111,290738111,
theuni,2017-03-31T17:42:53Z,"Updated with @laanwj's suggestion, and added a comment.\n\n@JeremyRubin the 500msec matches the previous behavior, I'm unsure where that value came from. Any particular reason to suggest bumping it to a second, or just to reduce the overhead?",https://github.com/bitcoin/bitcoin/pull/10129#issuecomment-290779848,290779848,
laanwj,2017-04-01T10:24:11Z,utACK https://github.com/bitcoin/bitcoin/pull/10129/commits/e025246fe27f2d4bcdb6f4e9b5af9084dcc2e0a8,https://github.com/bitcoin/bitcoin/pull/10129#issuecomment-290911373,290911373,
laanwj,2017-03-31T10:26:17Z,"This adds the current time, modulo milliseconds, to the converted time point passed in?\nPlease add an explanatory comment, it's far from obvious to me why this works.\n",https://github.com/bitcoin/bitcoin/pull/10129#discussion_r109131655,109131655,src/scheduler.cpp
laanwj,2017-03-31T10:55:18Z,"Ah not the current time, but also `t`. Makes somewhat more sense now.\nWhat is the reason that this won't work directly?\n```\nreturn boost::posix_time::milliseconds(boost::chrono::duration_cast<boost::chrono::milliseconds>(t.time_since_epoch()).count());\n```",https://github.com/bitcoin/bitcoin/pull/10129#discussion_r109135959,109135959,src/scheduler.cpp
theuni,2017-03-31T15:07:35Z,"```from_time_t()``` (which seems to be the only reasonable way we have to create the posix_time without involving clocks, strings, or locales) is seconds since the epoch, so we lose the milliseconds there. The change here grabs them off of the input time, and adds them back after creating the posix_time.\n\n> What is the reason that this won't work directly?\n> ```\n> return boost::posix_time:",https://github.com/bitcoin/bitcoin/pull/10129#discussion_r109181436,109181436,src/scheduler.cpp
