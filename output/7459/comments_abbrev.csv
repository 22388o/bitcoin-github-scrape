sipa,2016-02-02T15:47:14Z,utACK; I don't think those error() calls should be there in the first place.\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178648124,178648124,
paveljanik,2016-02-02T16:26:26Z,utACK\n\nMinor nit: can we move the retarget debug output somewhere else instead of deleting it?\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178671402,178671402,
jtimon,2016-02-02T17:07:22Z,"@paveljanik I guess they could be maintained in a less efficient way while moving them out of the consensus code with a non trivial amount of work and disruption. Are those debug strings really that useful? I'll think more about it, maybe printing some things to the log on connectBlock when it's needed by duplicating some of the code in https://github.com/bitcoin/bitcoin/pull/7459/files#diff-ba915",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178692373,178692373,
paveljanik,2016-02-02T17:15:55Z,"Do not get me wrong, the nit is really minor. The info can be useful sometimes though.\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178695522,178695522,
sipa,2016-02-02T17:21:19Z,They're already reported through the normal means of block validation checks failing; main.cpp's CheckBlockHeader will put the reason for failure in the CValidationState.\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178697895,178697895,
paveljanik,2016-02-02T17:27:31Z,"@sipa We re talking about this in `CalculateNextWorkRequired`:\n\n``` c\n    /// debug print\n    LogPrintf(""GetNextWorkRequired RETARGET\n"");\n    LogPrintf(""params.nPowTargetTimespan = %d    nActualTimespan = %d\n"", params.nPowTargetTimespan, nActualTimespan);\n    LogPrintf(""Before: %08x  %s\n"", pindexLast->nBits, bnOld.ToString());\n    LogPrintf(""After:  %08x  %s\n"", bnNew.GetCompact(), bnNew",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178701019,178701019,
jtimon,2016-02-02T17:44:21Z,"@paveljanik and it's not that I don't want to solve the nit, is that I don't see a trivial solution. Which times can the information be useful? Maybe that would help us determine where these messages should be printed and what parts of the information are more important (say, only the new difficulty, but the old is not so interesting).\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178709302,178709302,
paveljanik,2016-02-02T17:51:48Z,"Yes, when we print the new difficulty, we can grep for the previous one...\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178715716,178715716,
jtimon,2016-02-02T18:16:21Z,"Ok, that should simplify things.\n\nCalculateNextWorkRequired() is only called in tests (I assume you don't care about this) and GetNextWorkRequired() which itself is called only from miner.cpp (I assume you don't care about this) and ContextualCheckBlockHeader(), which is only called from TestBlockValidity() and AcceptBlockHeader()...would you miss the logs in both functions or just one?\nTestBlo",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178731387,178731387,
paveljanik,2016-02-02T18:20:51Z,"Thanks for your investigation. I think it is only needed after receiving new block, that should be enough.\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178734480,178734480,
jtimon,2016-02-02T20:43:02Z,Thinking more about it...it would be much simpler in code to just log the current difficulty with every block received than only when a block is received and the difficulty has changed.\nWould that be a reasonable solution?\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178810675,178810675,
sipa,2016-02-02T20:49:14Z,I like that idea. Just print the difficulty on the same line that also logs\nto total chainwork and timestamp etc.\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178812577,178812577,
dcousens,2016-02-02T21:32:01Z,"concept ACK,  waiting on changes for final ACK,  utACK bf462dd\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-178833016,178833016,
laanwj,2016-02-03T08:57:43Z,Concept ACK\n\n> it would be much simpler in code to just log the current difficulty with every block received than only when a block is received and the difficulty has changed.\n> Would that be a reasonable solution?\n\nYes\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179102679,179102679,
jtimon,2016-02-03T13:06:10Z,Added two commits to potentially squash (the first or both depending on feedback).\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179219406,179219406,
paveljanik,2016-02-04T08:16:21Z,I like the simplified version.\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179704328,179704328,
jtimon,2016-02-04T13:10:18Z,"Great, I will squash soon unless anyone likes the other version more.\n",https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179824105,179824105,
laanwj,2016-02-04T14:19:40Z,utACK new version after squash\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179863409,179863409,
sipa,2016-02-04T16:39:14Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179935555,179935555,
jtimon,2016-02-04T18:24:25Z,Squashed.\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-179980640,179980640,
paveljanik,2016-02-05T10:07:38Z,@laanwj I also do not care that much.\nACK\nIt is now even better than before refactoring. Thanks @jtimon \n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-180282139,180282139,
dcousens,2016-02-05T10:17:25Z,re-ACK f3757a0\n,https://github.com/bitcoin/bitcoin/pull/7459#issuecomment-180284330,180284330,
paveljanik,2016-02-04T22:08:00Z,The rest is using two spaces here. Is this intentional?\n,https://github.com/bitcoin/bitcoin/pull/7459#discussion_r51945829,51945829,src/main.cpp
jtimon,2016-02-05T00:57:29Z,"I don't  know, I just didn't notice. I can use two spaces as well, but doesn't  seem important.\n",https://github.com/bitcoin/bitcoin/pull/7459#discussion_r51963094,51963094,src/main.cpp
paveljanik,2016-02-05T06:29:42Z,"Two spaces look strange, yes. But its already there... Can you please add them?\n",https://github.com/bitcoin/bitcoin/pull/7459#discussion_r51981930,51981930,src/main.cpp
laanwj,2016-02-05T10:03:02Z,"It looks like the spacing now creates a kind of hierarchical grouping, two spaces between a group one between related infos (height/bits/log2_work and date/progress). Fine with me really.\n",https://github.com/bitcoin/bitcoin/pull/7459#discussion_r51996632,51996632,src/main.cpp
rebroad,2016-03-08T16:54:55Z,This line is getting crazily long now....\n,https://github.com/bitcoin/bitcoin/pull/7459#discussion_r55388819,55388819,src/main.cpp
