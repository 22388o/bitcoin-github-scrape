jnewbery,2017-08-17T16:37:39Z,"Happened again on Travis. This seems to have become more common:\n\n```\np2p-leaktests.py failed, Duration: 18 s\nstdout:\n2017-08-17 15:31:23.470000 TestFramework (INFO): Initializing test directory /tmp/bitcoin_test_runner_20170817_152637/p2p-leaktests_139\n2017-08-17 15:31:24.008000 TestFramework.mininode (INFO): Connecting to Bitcoin Node: 127.0.0.1:12112\n2017-08-17 15:31:24.009000 Tes",https://github.com/bitcoin/bitcoin/pull/11078#issuecomment-323127276,323127276,
jnewbery,2017-08-18T15:50:42Z,"> Making things more robust by adding sleeps w/out checks is kind of meh (as things can be terribly laggy). Can it check this precondition somehow and sleep longer if necessary?\n\nyes, you're right - it's meh, and in this case it was a red herring. I've managed to work out what was going wrong. When the `NodeConn`s are disconnected here:\n\n```python\n[conn.disconnect_node() for conn in conn",https://github.com/bitcoin/bitcoin/pull/11078#issuecomment-323390644,323390644,
jnewbery,2017-09-13T14:43:53Z,This is still causing occasional failures on Travis. @MarcoFalke - any chance of review/merge?,https://github.com/bitcoin/bitcoin/pull/11078#issuecomment-329190500,329190500,
MarcoFalke,2017-09-13T16:52:41Z,@jnewbery Thanks for the ping. I ignored the pull because I assumed it still had the ugly `sleep` in it.,https://github.com/bitcoin/bitcoin/pull/11078#issuecomment-329229767,329229767,
MarcoFalke,2017-09-13T16:55:21Z,utACK 0063d2c3d,https://github.com/bitcoin/bitcoin/pull/11078#issuecomment-329230509,329230509,
laanwj,2017-08-17T20:49:08Z,Making things more robust by adding sleeps w/out checks is kind of meh (as things can be terribly laggy). Can it check this precondition somehow and sleep longer if necessary?,https://github.com/bitcoin/bitcoin/pull/11078#discussion_r133825070,133825070,test/functional/p2p-leaktests.py
TheBlueMatt,2017-08-21T00:01:04Z,"I've seen this test fail locally with high -j on a system with slow I/O at this assert, I assume this patch will help, though I was unable to reproduce reliably to test :(.",https://github.com/bitcoin/bitcoin/pull/11078#discussion_r134130322,134130322,test/functional/p2p-leaktests.py
