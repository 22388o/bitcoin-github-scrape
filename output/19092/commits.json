[
  {
    "sha": "bbf0afade89d948f7ce377b662b0f9b4050db0bc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYmYwYWZhZGU4OWQ5NDhmN2NlMzc3YjY2MmIwZjliNDA1MGRiMGJj",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-05-28T15:48:34Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:33:07Z"
      },
      "message": "cli: add AmountFromValue() and ValueFromAmount()",
      "tree": {
        "sha": "27c2dddeecb3bce396a524bfe6afaf569a7ec120",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/27c2dddeecb3bce396a524bfe6afaf569a7ec120"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bbf0afade89d948f7ce377b662b0f9b4050db0bc",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vi8kACgkQT1chs9Dj\nkh1+8Q/9Fos3yC0NbQpN2P7tsbdmbi7z1+PehQCSfGNZvUrscnlci+hiAi6Hosq/\njaA+V/fk7EzZTHKR6ig/6W5bO4KZtfFqRjHyq8Yn6wcsz8oPRJrbfthWaRKd854n\nkTZEBbhWdMJwmxSr8cbM8Xv8hP+Vy9T5cuKcmWQXjBpTX5h9B4233Ij5oMOPNaOl\nWB/SaDWHf1dzMMuCgJxSDcN1huMfzyb5RGDIyrQLiUZlCFulC7UBa7x75tN2dcmp\nuTD8UIFskfjGqfWjkekOboYVwRgxRcVxYMB+CoXGvAkRTOPfRu4lfeiVEPXrqUdt\nzizhWAuM/7kheec/1tNZm6KUHU/u5YOOGfljKj84swRpmTH5SIgmHqYmUyCdTiQS\nJPGwaGoQbOxDM9DYPCSHjuZyyg+WB8m/g5iTTqBQxBFLjKjHzu3Snt7mns0ep7el\nplv2ACUPmDgSJzAaobFHSxiLs5jnDwf4zESfLuP2xWB01ExPhlK/4tuL+kiNxmOp\nAZsSvv5/TJXoY2UV/TMpqGEysuHe39ossxVRQyc+5QQ+jT49/ME5bKq8PvHHfo+S\nML/UuLronPYym3FNTj2He3cCGOckJLr4wE43Uh1yKtZDdv653G21QggHlBtsOJAs\nI6ZQvm4LkvfT109B0Vf3wWdGHNFr9ivQcx6g1eltRxWsvo2sMLc=\n=iex8\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIP7anP7nT7tO2ij12GoKB1x4n/4tyXtmooEGJuS7+aw2CP/wEETsTjVrKKUP\n6Yj1ZKhcQEEI8QRe74vM8Ag+8NIPGQ3fOACD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEGtVzB6VSnGVd5mwDa9bzZEI8QRe74vL\n8AgevA+8khsaSQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQkx3l1vWhJracnDvxJNsAPAjxBF7vi83wCHvg\n0sQ86TDzAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BCu1Gu/IET6X989VhDWMUGhCPEEXu+Ly/AI5eDdU9x9AF4Ag9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 27c2dddeecb3bce396a524bfe6afaf569a7ec120\nparent 4b5c9191e3edf6d3c2ac52f95c91e30e357906c6\nauthor Jon Atack <jon@atack.com> 1590680914 +0200\ncommitter Jon Atack <jon@atack.com> 1592757187 +0200\n\ncli: add AmountFromValue() and ValueFromAmount()\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbf0afade89d948f7ce377b662b0f9b4050db0bc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bbf0afade89d948f7ce377b662b0f9b4050db0bc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbf0afade89d948f7ce377b662b0f9b4050db0bc/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4b5c9191e3edf6d3c2ac52f95c91e30e357906c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4b5c9191e3edf6d3c2ac52f95c91e30e357906c6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4b5c9191e3edf6d3c2ac52f95c91e30e357906c6"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 20,
      "deletions": 0
    },
    "files": [
      {
        "sha": "78632d89f9da794726e0f4ce4af5b21b7428889c",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 20,
        "deletions": 0,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bbf0afade89d948f7ce377b662b0f9b4050db0bc/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bbf0afade89d948f7ce377b662b0f9b4050db0bc/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=bbf0afade89d948f7ce377b662b0f9b4050db0bc",
        "patch": "@@ -7,6 +7,7 @@\n #include <config/bitcoin-config.h>\n #endif\n \n+#include <amount.h>\n #include <chainparamsbase.h>\n #include <clientversion.h>\n #include <optional.h>\n@@ -508,6 +509,25 @@ static void ParseError(const UniValue& error, std::string& strPrint, int& nRet)\n     nRet = abs(error[\"code\"].get_int());\n }\n \n+static CAmount AmountFromValue(const UniValue& value)\n+{\n+    CAmount amount{0};\n+    if (!ParseFixedPoint(value.getValStr(), 8, &amount))\n+        throw std::runtime_error(\"Invalid amount\");\n+    if (!MoneyRange(amount))\n+        throw std::runtime_error(\"Amount out of range\");\n+    return amount;\n+}\n+\n+static UniValue ValueFromAmount(const CAmount& amount)\n+{\n+    bool sign{amount < 0};\n+    int64_t n_abs{sign ? -amount : amount};\n+    int64_t quotient{n_abs / COIN};\n+    int64_t remainder{n_abs % COIN};\n+    return UniValue(UniValue::VNUM, strprintf(\"%s%d.%08d\", sign ? \"-\" : \"\", quotient, remainder));\n+}\n+\n /**\n  * GetWalletBalances calls listwallets; if more than one wallet is loaded, it then\n  * fetches mine.trusted balances for each loaded wallet and pushes them to `result`."
      }
    ]
  },
  {
    "sha": "8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZTZjOGQ2OWY5ZjllZTFiOGYxMThhZTMyNWM1YzE1NzU1NzViYTE3",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-05-28T15:52:01Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:41:07Z"
      },
      "message": "cli: add -getinfo multiwallet total balance",
      "tree": {
        "sha": "ef87df0f2dd4f22aec9c384ba3d4cfd739f937d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ef87df0f2dd4f22aec9c384ba3d4cfd739f937d8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vjakACgkQT1chs9Dj\nkh0lbw//STeJIgNPuLYlVtah8bO8do35mMbTZOWTPSEdo9pAtn6CfX/81yh32xjr\nHF4I90DRlmfjjuqcQRe0FZV/jmVpayLe0Zvme6LmtBW16lvoVDYQCSnDRiARtzf2\n+sOd92nsNxatMIWZ5eg1+Cy2747wAc1BOSP523hL047fZdw1k6xHtrPTBQjOvZKQ\n1SKX1TFVWKqA34+z6lq+Q3rZOLRKvheG7nrBXQFdnMQ9zBemnRLWmXSe6MFiueU9\npDDyUzIWfCRUh9I8DWw9fuzdZ1SipgS3WBoU8dgRYh2pU/blqwCFyU8gBrIrQoYO\nhVyeHIeoWqQUXSR7QN+Apa7rg7CDU/ynrOBeJcMt1CLePAo1GGIIRzt1bSW4/dLR\nWQONG8YKPJ08nIkgNFPIcXuerAgmdc7BieTcKqgKZMdm8nYz9hcJJQ/z3hQTceON\nACS1oGyew9eEi1kLBaDVW1D6MKZ2vKgO0+Jr/sRlD8LUVdEMNqWp3T9NyrguezXF\nm5VqQENlW+nhTGY1drfauYWjQbnXAH8JGsprh8gCrvP0iKL+vDsozJLlbEe7dXPc\nIcUbMQP3tMPVJSSsfyRCHyMWBKMFxWLCgp5++8qBvMBDXqJBivM56Kgtf7SSiSpk\nIlLZSe07Y0IC/GMobZb7xIVOsW6fXv/0Q/R1eMXY8MAIwkvG1vs=\n=JGAJ\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIE0ciBvI6k0Q+I17hJEPZM3v/SV/ONgVvUNazrdL4lTgCP/wEEIIGRceVv6h\nMRSHKjjaBtMI8QRe742r8AjnHApLbP8nugCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEEYBE7v5pcoFv09SBYLKL2cI\n8QRe742r8AhSR47WY8WJ5QCD3+MNLvkMjiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIu\nY2F0YWxsYXh5LmNvbf/wEFoL7+qFARV+MsN1OFsnkXgI8QRe742q8AgrPv/N1qyj\nCgCD3+MNLvkMjiwraHR0cHM6Ly9ib2IuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3Rh\nbXBzLm9yZ/AQ746kWRPGEahaDhn1ve7pcAjxBF7vjavwCBkeDmxYoJ6GAIPf4w0u\n+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree ef87df0f2dd4f22aec9c384ba3d4cfd739f937d8\nparent bbf0afade89d948f7ce377b662b0f9b4050db0bc\nauthor Jon Atack <jon@atack.com> 1590681121 +0200\ncommitter Jon Atack <jon@atack.com> 1592757667 +0200\n\ncli: add -getinfo multiwallet total balance\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bbf0afade89d948f7ce377b662b0f9b4050db0bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bbf0afade89d948f7ce377b662b0f9b4050db0bc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bbf0afade89d948f7ce377b662b0f9b4050db0bc"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 7,
      "deletions": 2
    },
    "files": [
      {
        "sha": "f9b8e0d5badc5997ad3152a292b5cb7a65529fff",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
        "patch": "@@ -529,8 +529,9 @@ static UniValue ValueFromAmount(const CAmount& amount)\n }\n \n /**\n- * GetWalletBalances calls listwallets; if more than one wallet is loaded, it then\n- * fetches mine.trusted balances for each loaded wallet and pushes them to `result`.\n+ * GetWalletBalances calls listwallets; if more than one wallet is loaded, it\n+ * then fetches mine.trusted balances for each loaded wallet and pushes all the\n+ * balances, followed by the total balance, to `result`.\n  *\n  * @param result  Reference to UniValue object the wallet names and balances are pushed to.\n  */\n@@ -543,13 +544,17 @@ static void GetWalletBalances(UniValue& result)\n     if (wallets.size() <= 1) return;\n \n     UniValue balances(UniValue::VOBJ);\n+    CAmount total_balance{0};\n     for (const UniValue& wallet : wallets.getValues()) {\n         const std::string wallet_name = wallet.get_str();\n         const UniValue getbalances = ConnectAndCallRPC(rh.get(), \"getbalances\", /* args=*/{}, wallet_name);\n+        if (!find_value(getbalances, \"error\").isNull()) continue;\n         const UniValue& balance = find_value(getbalances, \"result\")[\"mine\"][\"trusted\"];\n+        total_balance += AmountFromValue(balance);\n         balances.pushKV(wallet_name, balance);\n     }\n     result.pushKV(\"balances\", balances);\n+    result.pushKV(\"total_balance\", ValueFromAmount(total_balance));\n }\n \n /**"
      }
    ]
  },
  {
    "sha": "fbccd3919f05331cc7618987103235e843e3a386",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYmNjZDM5MTlmMDUzMzFjYzc2MTg5ODcxMDMyMzVlODQzZTNhMzg2",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-06T15:42:49Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:43:16Z"
      },
      "message": "test: add `assert_scale` assertion to test framework",
      "tree": {
        "sha": "19bc1f24c75c5ec1ed3c83bc1587d8d2123c6505",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/19bc1f24c75c5ec1ed3c83bc1587d8d2123c6505"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fbccd3919f05331cc7618987103235e843e3a386",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vjigACgkQT1chs9Dj\nkh3CMRAAs4tXtgw09btpGjO75cnYlBzi3XPf5xCnGNlObTgD3/7rwFJLNij9PtYb\nQziaGi5OdD2t1Vu0FOcQMKN4rQqgqNvL5GP63ka5KnC3wJzv0F3xZukchfUMfVc2\nM9EH6iEERfjkyK+O/V1nwQjHJfcumco/vc6GN26pXbd/CgILflRohn6tyhtxMj6F\nwxZGKY9GY9GYcNg+LyvjbpEe+76HIbqfgN51Q1UwPgbaJRNDlMEnwfN6B4DKdxps\nAX83sZUWyMCWXYSEyYGRf1LzYGGHASsSKryYhAgR45EtipLrFjBvyis0/zy5YeVx\nN3QyYAY+pD9+4EgP9wcriRg2W7I/DyeP9shYskQaO3UmpBOmE9bTW0y41aDMS+JD\nea8tYFvMNmh7adZLtYxhuXwAmXVf+yTNBEzpKWe0STrVFW6UB6YwIN1X2TkpXBAV\nIGzO7x0dtI2f5We+BZlo8tCrQdJ9YyZMYO3jADzZ3UneSdFz2qkzdY0H6usOcfOR\nl9Aq9dn0Z6fUHsL8mdXS+M+YAV1k4LdF4AqpUIYMjghFE3DqOR3iGRCzNUq/39EA\n0DUgMObWimep/yRL4az3zU8HD4oFttdTs38OrQRiceoOdpOURt8TRTXAkrs5eJpr\nmG1/DL2Gd6/mEPiz5txNVZkiRIXmoObIQXYdnxxNOXqETQJijgg=\n=qVYD\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIBd/qdQIl7kuCLgiIp4Mw6GYVjukkvZW+cfkReHfoB6oCP/wEAiAA24yDNha\nxLDYwQ6YUYwI8QRe744q8Agi0YpZ9YkWNQCD3+MNLvkMjiwraHR0cHM6Ly9ib2Iu\nYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZ//wEGPHiI1raZmiWz02oajY\nLeMI8QRe744r8Ag26aHXv2yCAwCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2Fs\nZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEHPVe8ENHM820kPkAHXfkS8I8QRe744q\n8AhCUL62ZWuR5QCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn8BDjeWVxNLky1vn9Ewauy46dCPEEXu+OK/AIkaFi\npGuRfa0Ag9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 19bc1f24c75c5ec1ed3c83bc1587d8d2123c6505\nparent 8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17\nauthor Jon Atack <jon@atack.com> 1591458169 +0200\ncommitter Jon Atack <jon@atack.com> 1592757796 +0200\n\ntest: add `assert_scale` assertion to test framework\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbccd3919f05331cc7618987103235e843e3a386",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fbccd3919f05331cc7618987103235e843e3a386",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbccd3919f05331cc7618987103235e843e3a386/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8e6c8d69f9f9ee1b8f118ae325c5c1575575ba17"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "01c6ace64fc13f5cc9e1d96b1d0734f98ce4ef14",
        "filename": "test/functional/test_framework/util.py",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fbccd3919f05331cc7618987103235e843e3a386/test/functional/test_framework/util.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fbccd3919f05331cc7618987103235e843e3a386/test/functional/test_framework/util.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/util.py?ref=fbccd3919f05331cc7618987103235e843e3a386",
        "patch": "@@ -190,6 +190,18 @@ def assert_array_result(object_array, to_match, expected, should_not_find=False)\n     if num_matched > 0 and should_not_find:\n         raise AssertionError(\"Objects were found %s\" % (str(to_match)))\n \n+def assert_scale(number, expected_scale=8):\n+    \"\"\"Assert number has expected scale, e.g. fractional digits; number of\n+    digits after the decimal. The default of 8 corresponds to a Bitcoin amount.\"\"\"\n+    number = str(number)\n+    mantissa = number.split('.')[-1].upper()\n+    if mantissa[:3] == '0E-':\n+        assert_equal(mantissa, '0E-{}'.format(expected_scale))  # zeros in exponent notation\n+    elif mantissa == number:\n+        assert_equal(0, expected_scale)  # no mantissa, ergo, expected scale must be 0\n+    else:\n+        assert_equal(len(mantissa), expected_scale)\n+\n \n # Utility functions\n ###################"
      }
    ]
  },
  {
    "sha": "414804e877f630a630c3d6226cb6714c0a6320e8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MTQ4MDRlODc3ZjYzMGE2MzBjM2Q2MjI2Y2I2NzE0YzBhNjMyMGU4",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-05-28T15:53:16Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:43:23Z"
      },
      "message": "test: add coverage for -getinfo total_balance",
      "tree": {
        "sha": "f82c76baa67a0fd167e855510b4676554d88dacc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f82c76baa67a0fd167e855510b4676554d88dacc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/414804e877f630a630c3d6226cb6714c0a6320e8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vjiwACgkQT1chs9Dj\nkh0SBQ/8CEyApi5980SBUyX+d72lIx/Aszd2Le78TDBT4rH8a/fNaEmdD2Fekrld\n8xtoNIv0vdqRS6DcQCQ909L+yWDPU3Cl2vBc899mknadj7TWATtjAJfBFhXUrHfA\nZiVe4exzItThh549hNyWn3ujLKxoa9E4946VH7xlaAGkk3J9P/gc6agjB4QAqm/R\n3/LvFf9OSJ6o7siOxDZy0qpFdgbCoW+2tfggMENxFWvoexE5Zx37R09V+uD/S/Hu\nUsSnYl1Mq0RiJwFtccOd/s4FBH+dJz9MImrcuakml6VwFF0/PvVT7UQ1jDbZB+6q\npvs/nbEf/sg7tIWkylCuPGG0cPOtRjJgQoRUpzfLqSylBNhX0tTmy3aVu9Cpxcb3\nsrkhVTQ61iWBosJlsZykjicmUExJlEqU90Ky4M7XBn5aRQwOlDM4Uh7K0pdGFRIC\nHBXm9WqhmDYDQz0qrQq2rOvKIOf2LKC4uPUnGQK+rKrg/JVADKOUanmST4ulVEms\newzybktImnsylrwNOXA7bIBgAWO4RqWwRKhIMGcL9Ww0Q1BfPUA8Xrz4ZJ4bfB98\nuKOChdL6oIyCTpydafcdl338JvLjXvmrxfL9nUiZzyKiKlUY/a8C9zxSawRdtE1T\nc9mExujiFllhkBPkRw4Pfr3f3eSerGnIl8U+tXp7eHo+OgWtEyA=\n=KiUd\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIP6xRszjuYJk4c2evk629tJRS/ucvaQWtdKKI4dcqTmLCP/wECNLrKJ51rNU\nWOO8zNXUhekI8CCd/jOptRQp44/ZSPmvIcl5uAubQHcY1xQNLX9wCMx2NAjxBF7v\nji7wCLDauuHwyAUWAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn8BCiut56nvtZFQzgxYxdKtYcCPEEXu+OLvAIPNvE\nFI62OkAAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree f82c76baa67a0fd167e855510b4676554d88dacc\nparent fbccd3919f05331cc7618987103235e843e3a386\nauthor Jon Atack <jon@atack.com> 1590681196 +0200\ncommitter Jon Atack <jon@atack.com> 1592757803 +0200\n\ntest: add coverage for -getinfo total_balance\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/414804e877f630a630c3d6226cb6714c0a6320e8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/414804e877f630a630c3d6226cb6714c0a6320e8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/414804e877f630a630c3d6226cb6714c0a6320e8/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fbccd3919f05331cc7618987103235e843e3a386",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fbccd3919f05331cc7618987103235e843e3a386",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fbccd3919f05331cc7618987103235e843e3a386"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 11,
      "deletions": 0
    },
    "files": [
      {
        "sha": "03956f122a090db616e9b26faf8429d479a7b945",
        "filename": "test/functional/interface_bitcoin_cli.py",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/414804e877f630a630c3d6226cb6714c0a6320e8/test/functional/interface_bitcoin_cli.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/414804e877f630a630c3d6226cb6714c0a6320e8/test/functional/interface_bitcoin_cli.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_bitcoin_cli.py?ref=414804e877f630a630c3d6226cb6714c0a6320e8",
        "patch": "@@ -10,6 +10,7 @@\n     assert_equal,\n     assert_raises_process_error,\n     assert_raises_rpc_error,\n+    assert_scale,\n     get_auth_cookie,\n )\n \n@@ -80,6 +81,7 @@ def run_test(self):\n             self.log.info(\"Test -getinfo and bitcoin-cli getwalletinfo return expected wallet info\")\n             assert_equal(cli_get_info['balance'], BALANCE)\n             assert 'balances' not in cli_get_info.keys()\n+            assert 'total_balance' not in cli_get_info.keys()\n             wallet_info = self.nodes[0].getwalletinfo()\n             assert_equal(cli_get_info['keypoolsize'], wallet_info['keypoolsize'])\n             assert_equal(cli_get_info['unlocked_until'], wallet_info['unlocked_until'])\n@@ -109,42 +111,51 @@ def run_test(self):\n             for i in range(len(wallets)):\n                 cli_get_info = self.nodes[0].cli('-getinfo', '-rpcwallet={}'.format(wallets[i])).send_cli()\n                 assert 'balances' not in cli_get_info.keys()\n+                assert 'total_balance' not in cli_get_info.keys()\n                 assert_equal(cli_get_info['balance'], amounts[i])\n \n             self.log.info(\"Test -getinfo with multiple wallets and -rpcwallet=non-existing-wallet returns no balances\")\n             cli_get_info_keys = self.nodes[0].cli('-getinfo', '-rpcwallet=does-not-exist').send_cli().keys()\n             assert 'balance' not in cli_get_info_keys\n             assert 'balances' not in cli_get_info_keys\n+            assert 'total_balance' not in cli_get_info.keys()\n \n             self.log.info(\"Test -getinfo with multiple wallets returns all loaded wallet names and balances\")\n             assert_equal(set(self.nodes[0].listwallets()), set(wallets))\n             cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n             assert 'balance' not in cli_get_info.keys()\n             assert_equal(cli_get_info['balances'], {k: v for k, v in zip(wallets, amounts)})\n+            assert_equal(cli_get_info['total_balance'], sum(amounts))\n+            assert_scale(cli_get_info['total_balance'])\n \n             # Unload the default wallet and re-verify.\n             self.nodes[0].unloadwallet(wallets[0])\n             assert wallets[0] not in self.nodes[0].listwallets()\n             cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n             assert 'balance' not in cli_get_info.keys()\n             assert_equal(cli_get_info['balances'], {k: v for k, v in zip(wallets[1:], amounts[1:])})\n+            assert_equal(cli_get_info['total_balance'], sum(amounts[1:]))\n+            assert_scale(cli_get_info['total_balance'])\n \n             self.log.info(\"Test -getinfo after unloading all wallets except a non-default one returns its balance\")\n             self.nodes[0].unloadwallet(wallets[2])\n             assert_equal(self.nodes[0].listwallets(), [wallets[1]])\n             cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n             assert 'balances' not in cli_get_info.keys()\n+            assert 'total_balance' not in cli_get_info.keys()\n             assert_equal(cli_get_info['balance'], amounts[1])\n \n             self.log.info(\"Test -getinfo with -rpcwallet=remaining-non-default-wallet returns only its balance\")\n             cli_get_info = self.nodes[0].cli('-getinfo', rpcwallet2).send_cli()\n             assert 'balances' not in cli_get_info.keys()\n+            assert 'total_balance' not in cli_get_info.keys()\n             assert_equal(cli_get_info['balance'], amounts[1])\n \n             self.log.info(\"Test -getinfo with -rpcwallet=unloaded wallet returns no balances\")\n             cli_get_info = self.nodes[0].cli('-getinfo', rpcwallet3).send_cli()\n             assert 'balance' not in cli_get_info_keys\n             assert 'balances' not in cli_get_info_keys\n+            assert 'total_balance' not in cli_get_info.keys()\n \n             # Test bitcoin-cli -generate.\n             n1 = 3"
      }
    ]
  },
  {
    "sha": "3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYjJhYjlkOTM5NGFlYmFhMDM4ZjFkOWZiYjkwOWUxZDcyYjZhYzJj",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-05-28T19:03:32Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:43:36Z"
      },
      "message": "doc: release note for -getinfo total_balance",
      "tree": {
        "sha": "95e76e3a2af3942d3e784c72c868246cc8137008",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/95e76e3a2af3942d3e784c72c868246cc8137008"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vjjkACgkQT1chs9Dj\nkh1Nbg//c3AuRQ1DCUahG/jJYV1xifzL+G4QmLupDQuwhR2Q8DYaRSXFbiZ1pfAp\nhH4CS+Hxvc5Yw002Es/aLNTxwNzozPLKuatioAp44iSh4aflMUqBVkJFvQsyBZI9\nHUI/5GfFZbdHNBazpfLscipG+qhk7krHAtzuY48/7mxAlPXc6Zt/z1nvplPw+RTe\n9FFQLaaYQLwe7vnEPntNkjeO4aE9zYOIgBUYyF+Fi3KkdU9/JLw8MYATNCBgzYkv\n6EYo8of+/qCoZUFIBVu+aCmXZL2uAfpzLkdux5E/WwL/r6YiXVERyfu7sbZVxePj\nh8gLqSbO/5IluzwaWy1rBhMu0LcDr4uDG16nHPEiQGSx0K5Ig88ORUieP1cBGy9f\n6elAU/uW5CrKPkZ6aBrPPuIbjtntYtXfPEHjlMu52flWmrtIgsl04Hz9Y3xaEFEQ\nQewazdM66LD+sWeY2I9ZOZFYSs2qzsUuEuOijXfHux/++59Lj89l41xI2YEphDaH\nXbx+KKwADQAkt7mt/WfXbu+WM7iHE5xQLqBWzVqNM4sSNQeL/rdylC011MY8OS4l\nRPA72r7mfoix8s/iony5mHL4kD1qgjvpXdaHCHj2t+lmGpzXfZ+kGqCLChUHtRjb\nTWzTsqCoOaF6OKpLWWWgsDtXEA21CqF8poAwKxcfMEbt48KwWe8=\n=4RL9\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIBlVL/MY5HNcTRKP6iNGpmufJJlk0mBlZqonLAVWT0unCP/wEAcc///5FZH6\nBW+9cr9EJ0sI8QRe74468AgRzUIWgWOpkwCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQJdn/F23qfj1XB7TE\nUes5pAjxBF7vjjvwCMRxCpLLkKaSAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxl\nbmRhci5jYXRhbGxheHkuY29t//AQaohpCeq+l8ObbbhLFvHDagjxBF7vjjvwCBPH\nnKEyoSDmAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BCRhpcrKZx4zuLDizq/2OlfCPEEXu+OO/AIpAdNQUp7mAwAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 95e76e3a2af3942d3e784c72c868246cc8137008\nparent 414804e877f630a630c3d6226cb6714c0a6320e8\nauthor Jon Atack <jon@atack.com> 1590692612 +0200\ncommitter Jon Atack <jon@atack.com> 1592757816 +0200\n\ndoc: release note for -getinfo total_balance\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "414804e877f630a630c3d6226cb6714c0a6320e8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/414804e877f630a630c3d6226cb6714c0a6320e8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/414804e877f630a630c3d6226cb6714c0a6320e8"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 4,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6f967841047c56f53ef1729e1bd58d876572a6f4",
        "filename": "doc/release-notes-19092.md",
        "status": "added",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c/doc/release-notes-19092.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c/doc/release-notes-19092.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-19092.md?ref=3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
        "patch": "@@ -0,0 +1,4 @@\n+## CLI\n+\n+When in multiwallet mode, `bitcoin-cli -getinfo` also provides the total balance of all\n+loaded wallets in the new `total_balance` field. (#19092)"
      }
    ]
  },
  {
    "sha": "08ac1abc5836baf6024eaff71e05a1474c2f1f58",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowOGFjMWFiYzU4MzZiYWY2MDI0ZWFmZjcxZTA1YTE0NzRjMmYxZjU4",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-05-30T10:56:41Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-06-21T16:44:15Z"
      },
      "message": "cli, doc: update bitcoin-cli -getinfo help",
      "tree": {
        "sha": "5f87dd6d2e8abdcb3e1e34c51f15d84884b3c307",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5f87dd6d2e8abdcb3e1e34c51f15d84884b3c307"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/08ac1abc5836baf6024eaff71e05a1474c2f1f58",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl7vjmUACgkQT1chs9Dj\nkh0b4xAAtZGT/1rKFvq9LV7FX7ecO78HvHQA3w3taAZAgWvq/d1vAMzFvMb1412j\noD7yMlnVYMvIVlu82suj1l4Jz4tOtg44OqaLxxyrbJwshUXksZLj+LAesFwfUAY2\nFNtUcy5bX0feil4EJLsL22O6amX6kSX1NZDb7NxqdXJfQxN5ibATfmy4T6nX/HpT\ndHljlqZbn6oXtG8NwhwoVkh0YBuEEruVHiqMM5TKeIw6UoBPznCGhgGriMTJ2F/F\nxW8hk7X/z4p+89g8H2MAx+OH0YLD7xzR7g7+wXKKVcuYepdDcKxVJXl4XTUm43+v\nn+DTyoL1cLpkxz6Qlm2bbCNXcJNLXNVt8I9mNjFoA0KjTdrVGcXYDUhAHz4EPKw8\nTWDChqY8pCodRv2rL6jsVP4OlvZ5Npwq1qruRTSBpF8xioMdF9Y78dM8SuzXOUqJ\n/IE2q3OylsiY4BiaTF9EdAOnD2EBtq/XB3MOYu8fsi9e/o8SF0phFxcqaaLHj4SI\n9WkDWNYv8SqXbGGLHAZBf8YTNJRDRTZ0kKfCAcx8tERYVXrprScdxfJNLWsEmWdb\n3LW36xWw09prinqNJqrSp1QO2hK6n+i5FxK6g83D0RCeEOj1d9lkCF6yEw1b1hqg\nwZXiCn5qXeU8VwYrBfdUv6hvFqZkbakbpulL9FIQAfAfWm/RMws=\n=bRZM\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIN8WcOqFTP/I8dB8H55XG4dN9mgteAJP38x94MK08qFmCP/wEDp1UVrCT5ex\n2gUBteBr3hUI8QRe745m8Ah8M+jcoYdMlQCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQg7kBXWtceY9z6E0M\nDlQShgjxBF7vjmfwCMn+bJcCOG1fAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxl\nbmRhci5jYXRhbGxheHkuY29t//AQ6gylZMjDDZ4wBSgT1kkPTgjxBF7vjmfwCIk8\ngpqL1HlzAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BDw5ZKs339u+7At1A1pKe9QCPEEXu+OZ/AIDPgPlTVIIaAAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 5f87dd6d2e8abdcb3e1e34c51f15d84884b3c307\nparent 3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c\nauthor Jon Atack <jon@atack.com> 1590836201 +0200\ncommitter Jon Atack <jon@atack.com> 1592757855 +0200\n\ncli, doc: update bitcoin-cli -getinfo help\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/08ac1abc5836baf6024eaff71e05a1474c2f1f58",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/08ac1abc5836baf6024eaff71e05a1474c2f1f58",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/08ac1abc5836baf6024eaff71e05a1474c2f1f58/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3b2ab9d9394aebaa038f1d9fbb909e1d72b6ac2c"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "df459c65bf64676a7faac03a385275caa821e798",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/08ac1abc5836baf6024eaff71e05a1474c2f1f58/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/08ac1abc5836baf6024eaff71e05a1474c2f1f58/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=08ac1abc5836baf6024eaff71e05a1474c2f1f58",
        "patch": "@@ -56,7 +56,7 @@ static void SetupCliArgs()\n     gArgs.AddArg(\"-conf=<file>\", strprintf(\"Specify configuration file. Relative paths will be prefixed by datadir location. (default: %s)\", BITCOIN_CONF_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-datadir=<dir>\", \"Specify data directory\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-generate\", strprintf(\"Generate blocks immediately, equivalent to RPC generatenewaddress followed by RPC generatetoaddress. Optional positional integer arguments are number of blocks to generate (default: %s) and maximum iterations to try (default: %s), equivalent to RPC generatetoaddress nblocks and maxtries arguments. Example: bitcoin-cli -generate 4 1000\", DEFAULT_NBLOCKS, DEFAULT_MAX_TRIES), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n-    gArgs.AddArg(\"-getinfo\", \"Get general information from the remote server. Note that unlike server-side RPC calls, the results of -getinfo is the result of multiple non-atomic requests. Some entries in the result may represent results from different states (e.g. wallet balance may be as of a different block from the chain state reported)\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    gArgs.AddArg(\"-getinfo\", \"Get general information from the remote server, including the total balance and the balances of each loaded wallet when in multiwallet mode. Note that -getinfo is the combined result of multiple RPCs (getnetworkinfo, getblockchaininfo, getwalletinfo, getbalances, and in multiwallet mode, listwallets), each with potentially different state.\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     SetupChainParamsBaseOptions();\n     gArgs.AddArg(\"-named\", strprintf(\"Pass named instead of positional arguments (default: %s)\", DEFAULT_NAMED), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     gArgs.AddArg(\"-rpcclienttimeout=<n>\", strprintf(\"Timeout in seconds during HTTP requests, or 0 for no timeout. (default: %d)\", DEFAULT_HTTP_CLIENT_TIMEOUT), ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);"
      }
    ]
  }
]