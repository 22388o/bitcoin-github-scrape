[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66112787",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66112787",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66112787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTEyNzg3",
    "user": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?u=0b02049ec38b6bb7d55c5c66d9bbeb0d4b822129&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-08T13:01:33Z",
    "updated_at": "2014-12-08T13:01:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code looks good to me.\n\nHowever, it's still a lot of HTTP overhead, even with keep-alive, to request one header per HTTP request.  /rest/headers/ seems more appropriate, a la 'getutxos'.\n\nSuggestion:  GET /rest/headers/$hash.ext gets 2000 headers, unless a \"?limit=N\" qualifier is added.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66112787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66113255",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66113255",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66113255,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTEzMjU1",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-08T13:06:21Z",
    "updated_at": "2014-12-08T13:06:21Z",
    "author_association": "MEMBER",
    "body": "@jgarzik Good idea. This was just some random thought that could be useful; I'll change it.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66113255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66117350",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66117350",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66117350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTE3MzUw",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-08T13:46:45Z",
    "updated_at": "2014-12-08T13:46:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "1)\nThe 2000 headers per request/response seems to be a good idea.\nI'm not sure about the limit parameter per query string. It might end up in different parameter injection. getutxos uses raw post data.\n/rest/headers/notxdetails/ uses flag/parameter in the URL?\n\nWould /rest/headers/limit/2000/<hash>.ext be a overkill?\n\nBut maybe the query string parameter is more clear.\n\n2)\nIs there a reason for no JSON support? If it's just your time/priority I will add it afterwards.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66117350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66251851",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66251851",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66251851,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjUxODUx",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-09T08:57:23Z",
    "updated_at": "2014-12-09T08:57:23Z",
    "author_association": "MEMBER",
    "body": "- Concept looks good to me\n- I agree we don't really need a JSON format. If the purpose for this is to be a low-overhead API, we should stay away from JSON\n- As for parameters (such as start, limit), for a REST interface I'd prefer them to be all to be part of the query path instead of introducing `?=` parameters. `?=` parameters are non-canonical in that they can be provided in any order, which introduces a kind of aliasing that messes with caching\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66251851/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66275012",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66275012",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66275012,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mjc1MDEy",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-09T12:25:21Z",
    "updated_at": "2014-12-09T12:25:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Regarding JSON:\nIs there a reason to not support JSON? I think there are many potential REST users using script programming languages like Python or PHP. The unpacking of the byte array is somehow annoying in these languages and people might tend to have a overhead in the information transmission protocol (TCP/HTTP/JSON in this case) and save some development effort.\nWe could even say HTTP is a overhead (because its plaintext and line based). Then we would end up in a raw TCP socket and might be very close to the P2P protocol. IMO we should distinct both \"APIs\".\n\nI would find it a bad idea to have a potential JSON output format which does not support all possible methods.\n\nA feasible step would to drop JSON support completely for the REST API. But we might have to come out of our byte-optimized-land and see what others expect from a API.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66275012/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66277756",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66277756",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66277756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mjc3NzU2",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-09T12:50:17Z",
    "updated_at": "2014-12-09T12:50:17Z",
    "author_association": "MEMBER",
    "body": "Packing/unpacking byte arrays is well-supported in Python, I do that all the time, that's a bit of a strawman. See also https://github.com/petertodd/python-bitcoinlib .\n\nAnyhow: headers have a well-defined format, and for hashing and such you really need the canonical, raw data. A \"cooked\" version would be much less useful. It could be added later but I doubt there is actual demand for it.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66277756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66304251",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66304251",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66304251,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzA0MjUx",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-09T15:52:40Z",
    "updated_at": "2014-12-09T15:52:40Z",
    "author_association": "MEMBER",
    "body": "Updated.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66304251/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66754210",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66754210",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66754210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzU0MjEw",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-12T10:10:22Z",
    "updated_at": "2014-12-12T10:10:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "needs rebase\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66754210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66757998",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#issuecomment-66757998",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/5444",
    "id": 66757998,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzU3OTk4",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2014-12-12T10:49:08Z",
    "updated_at": "2014-12-12T10:49:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "tested (rebase is trivial).\n\nACK\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/66757998/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475952",
    "pull_request_review_id": null,
    "id": 21475952,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDc1OTUy",
    "diff_hunk": "@@ -89,6 +89,52 @@ static bool ParseHashStr(const string& strReq, uint256& v)\n     return true;\n }\n \n+static bool rest_header(AcceptedConnection* conn,\n+                        string& strReq,\n+                        map<string, string>& mapHeaders,\n+                        bool fRun)\n+{\n+    vector<string> params;\n+    enum RetFormat rf = ParseDataFormat(params, strReq);\n+\n+    string hashStr = params[0];\n+    uint256 hash;\n+    if (!ParseHashStr(hashStr, hash))\n+        throw RESTERR(HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    CBlockHeader header;\n+    {\n+        LOCK(cs_main);\n+        if (mapBlockIndex.count(hash) == 0)\n+            throw RESTERR(HTTP_NOT_FOUND, hashStr + \" not found\");\n+        header = mapBlockIndex[hash]->GetBlockHeader();\n+    }\n+\n+    CDataStream ssHeader(SER_NETWORK, PROTOCOL_VERSION);\n+    ssBlock << header;",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "f676c80f437e15ab0ee190e93baea733a88db0f2",
    "original_commit_id": "176371c7ee1b9219d43ebb918d954398fb971ec2",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "shouldn't `ssBlock` be `ssHeader`?\n",
    "created_at": "2014-12-08T19:09:30Z",
    "updated_at": "2014-12-12T15:37:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#discussion_r21475952",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5444",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475952"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5444#discussion_r21475952"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5444"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 114,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475961",
    "pull_request_review_id": null,
    "id": 21475961,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDc1OTYx",
    "diff_hunk": "@@ -89,6 +89,52 @@ static bool ParseHashStr(const string& strReq, uint256& v)\n     return true;\n }\n \n+static bool rest_header(AcceptedConnection* conn,\n+                        string& strReq,\n+                        map<string, string>& mapHeaders,\n+                        bool fRun)\n+{\n+    vector<string> params;\n+    enum RetFormat rf = ParseDataFormat(params, strReq);\n+\n+    string hashStr = params[0];\n+    uint256 hash;\n+    if (!ParseHashStr(hashStr, hash))\n+        throw RESTERR(HTTP_BAD_REQUEST, \"Invalid hash: \" + hashStr);\n+\n+    CBlockHeader header;\n+    {\n+        LOCK(cs_main);\n+        if (mapBlockIndex.count(hash) == 0)\n+            throw RESTERR(HTTP_NOT_FOUND, hashStr + \" not found\");\n+        header = mapBlockIndex[hash]->GetBlockHeader();\n+    }\n+\n+    CDataStream ssHeader(SER_NETWORK, PROTOCOL_VERSION);\n+    ssBlock << header;\n+\n+    switch (rf) {\n+    case RF_BINARY: {\n+        string binaryHeader = ssHeader.str();\n+        conn->stream() << HTTPReplyHeader(HTTP_OK, fRun, binaryBlock.size(), \"application/octet-stream\") << binaryBlock << std::flush;",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "f676c80f437e15ab0ee190e93baea733a88db0f2",
    "original_commit_id": "176371c7ee1b9219d43ebb918d954398fb971ec2",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "shouldn't `binaryBlock` be `ssBlock`?\n",
    "created_at": "2014-12-08T19:09:34Z",
    "updated_at": "2014-12-12T15:37:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/5444#discussion_r21475961",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5444",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475961"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/5444#discussion_r21475961"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/5444"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/21475961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 119,
    "side": "RIGHT"
  }
]