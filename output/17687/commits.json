[
  {
    "sha": "034561f9cd4180ea1c165cb02df6c84444a8d692",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMzQ1NjFmOWNkNDE4MGVhMWMxNjVjYjAyZGY2Yzg0NDQ0YThkNjky",
    "commit": {
      "author": {
        "name": "Harris",
        "email": "brakmic@gmail.com",
        "date": "2019-12-06T20:47:55Z"
      },
      "committer": {
        "name": "Harris",
        "email": "brakmic@gmail.com",
        "date": "2019-12-06T20:47:55Z"
      },
      "message": "cli: fix Fatal LevelDB error when specifying -blockfilterindex=basic twice",
      "tree": {
        "sha": "1c0f2961ac02458cbf6c894d6603b94bdcb064f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c0f2961ac02458cbf6c894d6603b94bdcb064f8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/034561f9cd4180ea1c165cb02df6c84444a8d692",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEED2bWxOeRx//n2QOeJiaFvHjtEfsFAl3qvnsACgkQJiaFvHjt\nEftEKQf/e4I7WyYnyjKbXQ+nmw+WMAeKoCXLuaOqNx3w/MvzspJcJdC10xKV1zcT\nBsqoXm3Np6CzxNdDdYiGDeLsiqt9qJXU8wW+XXHKBQKeRkVfxEVJBiKLiFykqjxR\nJaz/mYYyeuwXB6k8IGoO++gSAII/bLbJ5kDmGkQRZxqLXmm2dQM3h6ca9zP2QRjr\nQ6wk+qowYFqM99Co/AH409yHbr9cgg05Otjnyr1tERyyti0zgt1LO1giDqHhxpll\nsV3GBlKSl9J/z3TpeJfArmtk0k+E282k9jP5spGPp1bHs7lR6fI19pXe4PCAU1Z6\nawgySpVjDTo9r4CWYRNrqCTZZpn9jQ==\n=lOQC\n-----END PGP SIGNATURE-----",
        "payload": "tree 1c0f2961ac02458cbf6c894d6603b94bdcb064f8\nparent cb11324a63ef10475bfc4d8e45148d5ae6f3e71e\nauthor Harris <brakmic@gmail.com> 1575665275 +0100\ncommitter Harris <brakmic@gmail.com> 1575665275 +0100\n\ncli: fix Fatal LevelDB error when specifying -blockfilterindex=basic twice\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/034561f9cd4180ea1c165cb02df6c84444a8d692",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/034561f9cd4180ea1c165cb02df6c84444a8d692",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/034561f9cd4180ea1c165cb02df6c84444a8d692/comments",
    "author": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cb11324a63ef10475bfc4d8e45148d5ae6f3e71e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cb11324a63ef10475bfc4d8e45148d5ae6f3e71e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/cb11324a63ef10475bfc4d8e45148d5ae6f3e71e"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 9,
      "deletions": 8
    },
    "files": [
      {
        "sha": "5ad22d46eb925aaa46609fd151854ea2318a66bc",
        "filename": "src/blockfilter.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/034561f9cd4180ea1c165cb02df6c84444a8d692/src/blockfilter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/034561f9cd4180ea1c165cb02df6c84444a8d692/src/blockfilter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/blockfilter.cpp?ref=034561f9cd4180ea1c165cb02df6c84444a8d692",
        "patch": "@@ -4,6 +4,7 @@\n \n #include <mutex>\n #include <sstream>\n+#include <set>\n \n #include <blockfilter.h>\n #include <crypto/siphash.h>\n@@ -221,15 +222,14 @@ bool BlockFilterTypeByName(const std::string& name, BlockFilterType& filter_type\n     return false;\n }\n \n-const std::vector<BlockFilterType>& AllBlockFilterTypes()\n+const std::set<BlockFilterType>& AllBlockFilterTypes()\n {\n-    static std::vector<BlockFilterType> types;\n+    static std::set<BlockFilterType> types;\n \n     static std::once_flag flag;\n     std::call_once(flag, []() {\n-            types.reserve(g_filter_types.size());\n             for (auto entry : g_filter_types) {\n-                types.push_back(entry.first);\n+                types.insert(entry.first);\n             }\n         });\n "
      },
      {
        "sha": "828204b87543a7ecb8949aa9f86dd7836553c81a",
        "filename": "src/blockfilter.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/034561f9cd4180ea1c165cb02df6c84444a8d692/src/blockfilter.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/034561f9cd4180ea1c165cb02df6c84444a8d692/src/blockfilter.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/blockfilter.h?ref=034561f9cd4180ea1c165cb02df6c84444a8d692",
        "patch": "@@ -7,6 +7,7 @@\n \n #include <stdint.h>\n #include <string>\n+#include <set>\n #include <unordered_set>\n #include <vector>\n \n@@ -97,7 +98,7 @@ const std::string& BlockFilterTypeName(BlockFilterType filter_type);\n bool BlockFilterTypeByName(const std::string& name, BlockFilterType& filter_type);\n \n /** Get a list of known filter types. */\n-const std::vector<BlockFilterType>& AllBlockFilterTypes();\n+const std::set<BlockFilterType>& AllBlockFilterTypes();\n \n /** Get a comma-separated list of known filter type names. */\n const std::string& ListBlockFilterTypes();"
      },
      {
        "sha": "9c91c93e6595e1af0d0d5a2a2a2f4c2337649093",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/034561f9cd4180ea1c165cb02df6c84444a8d692/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/034561f9cd4180ea1c165cb02df6c84444a8d692/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=034561f9cd4180ea1c165cb02df6c84444a8d692",
        "patch": "@@ -58,6 +58,7 @@\n \n #include <stdint.h>\n #include <stdio.h>\n+#include <set>\n \n #ifndef WIN32\n #include <attributes.h>\n@@ -846,7 +847,7 @@ int nUserMaxConnections;\n int nFD;\n ServiceFlags nLocalServices = ServiceFlags(NODE_NETWORK | NODE_NETWORK_LIMITED);\n int64_t peer_connect_timeout;\n-std::vector<BlockFilterType> g_enabled_filter_types;\n+std::set<BlockFilterType> g_enabled_filter_types;\n \n } // namespace\n \n@@ -934,13 +935,12 @@ bool AppInitParameterInteraction()\n         g_enabled_filter_types = AllBlockFilterTypes();\n     } else if (blockfilterindex_value != \"0\") {\n         const std::vector<std::string> names = gArgs.GetArgs(\"-blockfilterindex\");\n-        g_enabled_filter_types.reserve(names.size());\n         for (const auto& name : names) {\n             BlockFilterType filter_type;\n             if (!BlockFilterTypeByName(name, filter_type)) {\n                 return InitError(strprintf(_(\"Unknown -blockfilterindex value %s.\").translated, name));\n             }\n-            g_enabled_filter_types.push_back(filter_type);\n+            g_enabled_filter_types.insert(filter_type);\n         }\n     }\n "
      }
    ]
  }
]