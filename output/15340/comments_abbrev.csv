laanwj,2019-02-04T15:41:22Z,This effectively removes all the translations as there is no `_()` to pick up anymore by gettext.,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460295592,460295592,
DrahtBot,2019-02-04T15:46:37Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16194](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16194.html) (refactor: share blockmetadata with BlockMan",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460297606,460297606,
luke-jr,2019-02-04T15:51:15Z,This would be much easier to review if `InitErrorFormat` was named `InitError`...,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460299426,460299426,
hebasto,2019-02-04T16:52:22Z,"@MarcoFalke \n> I believe `make translate` wouldn't pick those up any more.\n\n@laanwj \n> This effectively removes all the translations as there is no `_()` to pick up anymore by gettext.\n\nFixed.\n\nThe main goal of this PR is to avoid printing localized messages to the debug log file and `stderr`.\nBilingual GUI messages come for free.",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460323316,460323316,
hebasto,2019-02-04T16:55:14Z,"@luke-jr \n> This would be much easier to review if `InitErrorFormat` was named `InitError`...\n\nRationale: `InitErrorFormat` can accept a format string as the first argument.",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460324389,460324389,
jonasschnelli,2019-02-04T19:19:10Z,I haven't looked at the code but printing error message always (additionally) in english seems to be a clever idea (especially with the faced complexity and immaturity of the UX).,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460375680,460375680,
hebasto,2019-02-04T23:12:42Z,"@MarcoFalke @laanwj it works with gettext now.\n\n@luke-jr your comment has been addressed.",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460451255,460451255,
hebasto,2019-02-04T23:20:48Z,Rebased.,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460453342,460453342,
hebasto,2019-02-05T19:13:44Z,"@MarcoFalke @laanwj \nThank you for your reviews. All your comments have been addressed.\nWould you mind re-reviewing?",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-460765849,460765849,
flack,2019-02-08T20:48:32Z,"If the point is to make it easier to google error messages, wouldn't it be more efficient to add some kind of error code to the output? E.g. the example from the screenshot could look like this in the English version:\n\n```\nERR38278: Prune cannot be configured with a negative value\n```\n\nand like this in the German version:\n\n```\nERR38278: Kürzungsmodus kann nicht mit einem negative",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-461941837,461941837,
gmaxwell,2019-02-11T20:35:56Z,"I like the idea (so Concept ACK), no thoughts on the implementation.\n\n@flack  Trying to assign numerical error codes in the face of parallel development seems tricky... but not impossible.\n\nThe dual languages also helps in the common case that the user also reads English... since the translation may not be good or may not be clear (esp. even a native speaker of another language may have on",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462484323,462484323,
flack,2019-02-11T20:55:41Z,"@gmaxwell yes, it would require some coordination. But I suppose a linter can take care of most of the problems, esp. since the numbers don't have to be consecutive or follow any kind of logic really.\n\nIt's true what you say about wonky translations. ""Kürzungsmodus"" from the screenshot is actually a case in point. It literally means ""shortening mode"". No way I would have guessed that this refe",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462490682,462490682,
laanwj,2019-02-12T10:30:38Z,"> since the translation may not be good or may not be clear\n\nI think we need to be careful here also to respect the translators. They are not developers and will not understand internal technical details in error messages. \n\nIf an error message has more technical terms in it than the standard bitcoin and GUI ones such as window, wallet, block, transaction …. then it shouldn't be translated",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462705476,462705476,
flack,2019-02-12T10:44:14Z,"> If an error message has more technical terms in it than the standard bitcoin and GUI ones such as window, wallet, block, transaction …. then it shouldn't be translated.\n\nStill, you have to enable the user to make the connection between the error message and what they might have selected in the GUI settings. So e.g. if you don't translate ""prune"" in the error message, then you also shouldn't ",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462710105,462710105,
laanwj,2019-02-12T11:08:53Z,"*prune* is a grey area I guess. It doesn't go with the obvious bitcoin or computer words but it also isn't something like ""glibc sanity check failed"" which makes *no* sense to users nor translators whatsoever.\n\nSo to be clear Im not against showing error messages in both languages, but this shouldn't a reason to translate things that would otherwise not be because the English message can be us",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462718090,462718090,
hebasto,2019-02-12T22:28:51Z,Rebased.,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462962894,462962894,
DrahtBot,2019-03-02T22:37:53Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-468967261,468967261,
hebasto,2019-06-16T22:20:51Z,"Rebased after #15288 merged.\n\n@flack your [comment](https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-462490682) has been addressed.\n\nOP and screenshot updated.",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-502490600,502490600,
flack,2019-06-16T22:25:03Z,@hebasto awesome!,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-502490851,502490851,
hebasto,2019-06-16T22:33:52Z,"After the e2c8ba9f6e782e2545b71e9e34b967c69e18c7f0 commit merged there is no straight way to pass function template `InitError(const bilingual_str& fmt, const Args&... args)` through the `Chain` interface.\n\nI ask for advice @ryanofsky, @MarcoFalke, @jonasschnelli, @promag.",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-502491441,502491441,
hebasto,2019-06-17T13:04:50Z,"> After the [e2c8ba9](https://github.com/bitcoin/bitcoin/commit/e2c8ba9f6e782e2545b71e9e34b967c69e18c7f0) commit merged there is no straight way to pass function template `InitError(const bilingual_str& fmt, const Args&... args)` through the `Chain` interface.\n\nThe solution is #16224.\n\nShould this PR be closed?",https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-502674004,502674004,
hebasto,2019-06-17T15:58:50Z,Closing in favor of #16224 which provides a different approach and works with the `Chain` interface as expected.,https://github.com/bitcoin/bitcoin/pull/15340#issuecomment-502744646,502744646,
MarcoFalke,2019-02-04T15:38:47Z,I believe `make translate` wouldn't pick those up any more.,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253518938,253518938,src/ui_interface.h
MarcoFalke,2019-02-05T16:04:03Z,"I don't understand why this should be translated. This should never fail and if it fails, I bet you are better off with the english error message?",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253929376,253929376,src/init.cpp
laanwj,2019-02-05T16:06:31Z,"Agree, I feel we had this discussion already. Please don't translate extremely rare or technical errors.",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253930515,253930515,src/init.cpp
laanwj,2019-02-05T16:09:31Z,Same for this one,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253931969,253931969,src/init.cpp
laanwj,2019-02-05T16:11:18Z,Please use a better name than `ThreadSafeMessageBox2`. What makes this function different?,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253932770,253932770,src/ui_interface.cpp
hebasto,2019-02-05T19:20:19Z,"Fixed.\n\nbtw, this PR aims that a translated message:\n- is written to debug log in _English_\n- is printed to `stderr` in _English_\n- is shown in GUI in both languages\n\nTherefore, english error message is always available even for translated messages.",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r254009298,254009298,src/init.cpp
hebasto,2019-02-05T19:20:41Z,Fixed.,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r254009464,254009464,src/init.cpp
hebasto,2019-02-05T19:24:21Z,"Fixed.\n\nbtw, `2` in `ThreadSafeMessageBox2` meant ""bi-"" in **bi**lingual rather ""second"" :)",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r254010994,254010994,src/ui_interface.cpp
MarcoFalke,2019-02-05T19:53:02Z,same here. This should never fail,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r254021746,254021746,src/init.cpp
hebasto,2019-02-05T20:01:27Z,Fixed.,https://github.com/bitcoin/bitcoin/pull/15340#discussion_r254024700,254024700,src/init.cpp
MarcoFalke,2019-06-17T01:11:37Z,"What is the point of the `bool` argument, when it is always set to true at the call site? Should be called `bool ignored` or something like this?\n\n```cpp\nenum class Tr{BI;};\ninline bilingueal_str_(const char* psz, Tr ignored);",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r294111089,294111089,src/util/system.h
MarcoFalke,2019-06-17T10:22:16Z,"I'd prefer if you removed the plain `InitError`, since it doesn't seem to be required.\n\nAlso, would be nice to add `InitError` to the linter `./test/lint/lint-format-strings.sh`",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r294230722,294230722,src/ui_interface.h
hebasto,2019-06-17T11:28:04Z,"> I'd prefer if you removed the plain InitError, since it doesn't seem to be required.\n\nIf I understand you correctly then what about https://github.com/bitcoin/bitcoin/pull/15340#discussion_r253929376?\nAlso see: fea324f90e58f74ad76045bd68db1f96f4b00200",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r294252504,294252504,src/ui_interface.h
MarcoFalke,2019-06-17T11:41:30Z,"I mean that `InitError` could take as first argument a string or bilingual string, so that the formatting always happens inside of `InitError`. Then add `InitError` to the linter.",https://github.com/bitcoin/bitcoin/pull/15340#discussion_r294256652,294256652,src/ui_interface.h
