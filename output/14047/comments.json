[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415741455",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-415741455",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 415741455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTc0MTQ1NQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T12:15:23Z",
    "updated_at": "2019-03-27T18:31:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15649](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15649.html) (Add ChaCha20Poly1305@Bitcoin AEAD by jonasschnelli)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/415741455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/469707371",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-469707371",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 469707371,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2OTcwNzM3MQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-05T14:48:30Z",
    "updated_at": "2019-03-05T14:48:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/469707371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476883263",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-476883263",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 476883263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Njg4MzI2Mw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-26T22:50:08Z",
    "updated_at": "2019-03-26T22:50:08Z",
    "author_association": "MEMBER",
    "body": "utACK acf3debc6a2f8b80a5de1e71bc658086c6de77b4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/476883263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477245058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-477245058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 477245058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzI0NTA1OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-27T16:40:29Z",
    "updated_at": "2019-03-27T16:40:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477245058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491486827",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-491486827",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 491486827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTQ4NjgyNw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-11T07:14:54Z",
    "updated_at": "2019-05-11T07:14:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the review. Fixed the C++ cast nit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491486827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491929368",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-491929368",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 491929368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTkyOTM2OA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-13T18:13:32Z",
    "updated_at": "2019-05-13T18:13:32Z",
    "author_association": "MEMBER",
    "body": "Restarted failed job.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/491929368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493158632",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#issuecomment-493158632",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/14047",
    "id": 493158632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzE1ODYzMg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-16T17:24:45Z",
    "updated_at": "2019-05-16T17:24:45Z",
    "author_association": "MEMBER",
    "body": "utACK 8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f\r\nDon't want to hold this up on a few last-minute style nits and empty lines.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/493158632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212834280",
    "pull_request_review_id": 149546222,
    "id": 212834280,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjgzNDI4MA==",
    "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <crypto/hkdf_sha256_32.h>\n+\n+#include <assert.h>\n+#include <string.h>\n+\n+CHKDF_HMAC_SHA256_L32::CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt)\n+{\n+    CHMAC_SHA256(reinterpret_cast<const unsigned char*>(salt.c_str()), salt.size()).Write(ikm, ikmlen).Finalize(m_prk);\n+}\n+\n+void CHKDF_HMAC_SHA256_L32::Expand32(const std::string& info, unsigned char* out)\n+{\n+    // expand a 32byte key (single round)\n+    assert(info.size() <= 128);\n+    unsigned char data[129];\n+    memcpy(&data[0], &info[0], info.size());\n+    data[info.size()] = 0x01;\n+    CHMAC_SHA256(m_prk, 32).Write(&data[0], info.size() + 1).Finalize(out);",
    "path": "src/crypto/hkdf_sha256_32.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "83e435f002a04a11b5283f89cc74626071dbb35b",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You can avoid the copy to `data` if you use `static const char one[1] = {1}; CHMAC_SHA256(m_prk, 32).Write(info.data(), info.size()).Write(one, 1).Finalize(out);` instead.",
    "created_at": "2018-08-26T18:09:15Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r212834280",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212834280"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r212834280"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212834280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212946915",
    "pull_request_review_id": 149677088,
    "id": 212946915,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxMjk0NjkxNQ==",
    "diff_hunk": "@@ -0,0 +1,23 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <crypto/hkdf_sha256_32.h>\n+\n+#include <assert.h>\n+#include <string.h>\n+\n+CHKDF_HMAC_SHA256_L32::CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt)\n+{\n+    CHMAC_SHA256(reinterpret_cast<const unsigned char*>(salt.c_str()), salt.size()).Write(ikm, ikmlen).Finalize(m_prk);\n+}\n+\n+void CHKDF_HMAC_SHA256_L32::Expand32(const std::string& info, unsigned char* out)\n+{\n+    // expand a 32byte key (single round)\n+    assert(info.size() <= 128);\n+    unsigned char data[129];\n+    memcpy(&data[0], &info[0], info.size());\n+    data[info.size()] = 0x01;\n+    CHMAC_SHA256(m_prk, 32).Write(&data[0], info.size() + 1).Finalize(out);",
    "path": "src/crypto/hkdf_sha256_32.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "83e435f002a04a11b5283f89cc74626071dbb35b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh yes. That's more efficient. Fixed.",
    "created_at": "2018-08-27T11:42:43Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r212946915",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212946915"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r212946915"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/212946915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 212834280
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214535573",
    "pull_request_review_id": 151615961,
    "id": 214535573,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUzNTU3Mw==",
    "diff_hunk": "@@ -524,6 +525,16 @@ BOOST_AUTO_TEST_CASE(chacha20_testvector)\n                  \"fab78c9\");\n }\n \n+BOOST_AUTO_TEST_CASE(hkdf_hmac_sha256_l32_tests)\n+{\n+    // rfc5869 has no test vectors for HMAC_SHA256 length 32, the one below was created with python HKDF and compared against openssl\n+    std::vector<unsigned char> key = ParseHex(\"7768617420646f2079612077616e7420666f72206e6f7468696e673fab76cfa9\");\n+    CHKDF_HMAC_SHA256_L32 hkdf32(key.data(), key.size(), \"bitcoinecdh\");",
    "path": "src/test/crypto_tests.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "dc02f90bd4f4374f5fa55520753ef6d7620f8458",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not use `BitcoinSharedSecret`as the salt, like in the BIP?",
    "created_at": "2018-09-02T10:21:15Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r214535573",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214535573"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r214535573"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214535573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 532,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216405562",
    "pull_request_review_id": 153878438,
    "id": 216405562,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjQwNTU2Mg==",
    "diff_hunk": "@@ -0,0 +1,25 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CRYPTO_HKDF_SHA256_32_H\n+#define BITCOIN_CRYPTO_HKDF_SHA256_32_H\n+\n+#include <crypto/hmac_sha256.h>\n+\n+#include <stdint.h>\n+#include <stdlib.h>\n+\n+/** A rfc5869 HKDF implementation with HMAC_SHA256 and fixed key output length of 32 bytes (L=32) */\n+class CHKDF_HMAC_SHA256_L32\n+{\n+private:\n+    unsigned char m_prk[32];\n+    static const size_t OUTPUT_SIZE = 32;\n+\n+public:\n+    CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt);\n+    void Expand32(const std::string& info, unsigned char hash[OUTPUT_SIZE]);",
    "path": "src/crypto/hkdf_sha256_32.h",
    "position": 22,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "dc02f90bd4f4374f5fa55520753ef6d7620f8458",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```\r\nsrc/./crypto/hkdf_sha256_32.h:22:10: warning: function 'CHKDF_HMAC_SHA256_L32::Expand32' has a definition with different parameter names [readability-inconsistent-declaration-parameter-name]\r\n```",
    "created_at": "2018-09-10T17:23:01Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r216405562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216405562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r216405562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216405562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 22,
    "original_line": 22,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216794543",
    "pull_request_review_id": 154362036,
    "id": 216794543,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNjc5NDU0Mw==",
    "diff_hunk": "@@ -0,0 +1,25 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_CRYPTO_HKDF_SHA256_32_H\n+#define BITCOIN_CRYPTO_HKDF_SHA256_32_H\n+\n+#include <crypto/hmac_sha256.h>\n+\n+#include <stdint.h>\n+#include <stdlib.h>\n+\n+/** A rfc5869 HKDF implementation with HMAC_SHA256 and fixed key output length of 32 bytes (L=32) */\n+class CHKDF_HMAC_SHA256_L32\n+{\n+private:\n+    unsigned char m_prk[32];\n+    static const size_t OUTPUT_SIZE = 32;\n+\n+public:\n+    CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt);\n+    void Expand32(const std::string& info, unsigned char hash[OUTPUT_SIZE]);",
    "path": "src/crypto/hkdf_sha256_32.h",
    "position": 22,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "dc02f90bd4f4374f5fa55520753ef6d7620f8458",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. Fixed.",
    "created_at": "2018-09-11T19:34:48Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r216794543",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216794543"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r216794543"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/216794543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 22,
    "original_line": 22,
    "side": "RIGHT",
    "in_reply_to_id": 216405562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268893196",
    "pull_request_review_id": 218632097,
    "id": 268893196,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODg5MzE5Ng==",
    "diff_hunk": "@@ -188,4 +188,14 @@ BOOST_AUTO_TEST_CASE(key_signature_tests)\n     BOOST_CHECK(found_small);\n }\n \n+BOOST_AUTO_TEST_CASE(key_key_negation)\n+{\n+    CKey key = DecodeSecret(strSecret1C);",
    "path": "src/test/key_tests.cpp",
    "position": 14,
    "original_position": 6,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "dd6c1b61be9d490a3f34a5c6801edfaabc30d9a9",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The test here could be a bit more extensive (for example, signing/verifying a fixed message with the corresponding private key, and checking that the private key roundtrips after 2 negations).",
    "created_at": "2019-03-25T23:25:43Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r268893196",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268893196"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r268893196"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268893196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 201,
    "original_line": 201,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268894881",
    "pull_request_review_id": 218632097,
    "id": 268894881,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2ODg5NDg4MQ==",
    "diff_hunk": "@@ -524,6 +525,16 @@ BOOST_AUTO_TEST_CASE(chacha20_testvector)\n                  \"fab78c9\");\n }\n \n+BOOST_AUTO_TEST_CASE(hkdf_hmac_sha256_l32_tests)\n+{\n+    // rfc5869 has no test vectors for HMAC_SHA256 length 32, the one below was created with python HKDF and compared against openssl",
    "path": "src/test/crypto_tests.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "32633ff159b230578ac8e2c60c2061d1dc1a80b1",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think shorter-length HMAC_HKDF can be obtained by truncating the output of a longer-length one. So you could take all of the RFC's test vectors and truncate them to 32 bytes?",
    "created_at": "2019-03-25T23:33:58Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r268894881",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268894881"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r268894881"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/268894881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 530,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218336",
    "pull_request_review_id": 219038660,
    "id": 269218336,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTIxODMzNg==",
    "diff_hunk": "@@ -524,6 +525,16 @@ BOOST_AUTO_TEST_CASE(chacha20_testvector)\n                  \"fab78c9\");\n }\n \n+BOOST_AUTO_TEST_CASE(hkdf_hmac_sha256_l32_tests)\n+{\n+    // rfc5869 has no test vectors for HMAC_SHA256 length 32, the one below was created with python HKDF and compared against openssl",
    "path": "src/test/crypto_tests.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "32633ff159b230578ac8e2c60c2061d1dc1a80b1",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good idea. Followed @sipa's advice and changed to the 3 rfc5869 SHA256 test vectors (truncated OKM to 32 bytes).",
    "created_at": "2019-03-26T17:09:36Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r269218336",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218336"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r269218336"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 530,
    "side": "RIGHT",
    "in_reply_to_id": 268894881
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218675",
    "pull_request_review_id": 219039070,
    "id": 269218675,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI2OTIxODY3NQ==",
    "diff_hunk": "@@ -188,4 +188,14 @@ BOOST_AUTO_TEST_CASE(key_signature_tests)\n     BOOST_CHECK(found_small);\n }\n \n+BOOST_AUTO_TEST_CASE(key_key_negation)\n+{\n+    CKey key = DecodeSecret(strSecret1C);",
    "path": "src/test/key_tests.cpp",
    "position": 14,
    "original_position": 6,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "dd6c1b61be9d490a3f34a5c6801edfaabc30d9a9",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point. Extended the test to cover the double negation signature comparison.",
    "created_at": "2019-03-26T17:10:15Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r269218675",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218675"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r269218675"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/269218675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 201,
    "original_line": 201,
    "side": "RIGHT",
    "in_reply_to_id": 268893196
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053636",
    "pull_request_review_id": 236327115,
    "id": 283053636,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzA1MzYzNg==",
    "diff_hunk": "@@ -0,0 +1,21 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <crypto/hkdf_sha256_32.h>\n+\n+#include <assert.h>\n+#include <string.h>\n+\n+CHKDF_HMAC_SHA256_L32::CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt)\n+{\n+    CHMAC_SHA256(reinterpret_cast<const unsigned char*>(salt.c_str()), salt.size()).Write(ikm, ikmlen).Finalize(m_prk);",
    "path": "src/crypto/hkdf_sha256_32.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "2f75b3dcd2cd2c1061c65914bc84046c060de6ce",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Style nit: we don't usually use the C++ cast operators for primitive types (just `(const unsigned char*)salt.c_str()` works).",
    "created_at": "2019-05-10T21:53:29Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283053636",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053636"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283053636"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 12,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053921",
    "pull_request_review_id": 236327115,
    "id": 283053921,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzA1MzkyMQ==",
    "diff_hunk": "@@ -0,0 +1,21 @@\n+// Copyright (c) 2018 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <crypto/hkdf_sha256_32.h>\n+\n+#include <assert.h>\n+#include <string.h>\n+\n+CHKDF_HMAC_SHA256_L32::CHKDF_HMAC_SHA256_L32(const unsigned char* ikm, size_t ikmlen, const std::string& salt)\n+{\n+    CHMAC_SHA256(reinterpret_cast<const unsigned char*>(salt.c_str()), salt.size()).Write(ikm, ikmlen).Finalize(m_prk);\n+}\n+\n+void CHKDF_HMAC_SHA256_L32::Expand32(const std::string& info, unsigned char hash[OUTPUT_SIZE])\n+{\n+    // expand a 32byte key (single round)\n+    assert(info.size() <= 128);\n+    static const unsigned char one[1] = {1};\n+    CHMAC_SHA256(m_prk, 32).Write(reinterpret_cast<const unsigned char*>(info.data()), info.size()).Write(one, 1).Finalize(hash);",
    "path": "src/crypto/hkdf_sha256_32.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "2f75b3dcd2cd2c1061c65914bc84046c060de6ce",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here.",
    "created_at": "2019-05-10T21:54:54Z",
    "updated_at": "2019-05-11T07:14:50Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283053921",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053921"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283053921"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283053921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 20,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472183",
    "pull_request_review_id": 236838199,
    "id": 283472183,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ3MjE4Mw==",
    "diff_hunk": "@@ -0,0 +1,21 @@\n+// Copyright (c) 2018 The Bitcoin Core developers",
    "path": "src/crypto/hkdf_sha256_32.cpp",
    "position": 1,
    "original_position": 1,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, 2019?",
    "created_at": "2019-05-13T18:15:53Z",
    "updated_at": "2019-05-13T18:19:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472183",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472183"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472183"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1,
    "original_line": 1,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472572",
    "pull_request_review_id": 236838199,
    "id": 283472572,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ3MjU3Mg==",
    "diff_hunk": "@@ -212,6 +213,22 @@ static void TestPoly1305(const std::string &hexmessage, const std::string &hexke\n     BOOST_CHECK(tag == tagres);\n }\n \n+static void TestHKDF_SHA256_32(const std::string &ikm_hex, const std::string &salt_hex, const std::string &info_hex, const std::string &okm_check_hex) {\n+    std::vector<unsigned char> initial_key_material = ParseHex(ikm_hex);\n+    std::vector<unsigned char> salt = ParseHex(salt_hex);\n+    std::vector<unsigned char> info = ParseHex(info_hex);\n+\n+",
    "path": "src/test/crypto_tests.cpp",
    "position": 25,
    "original_position": 25,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, remove 2nd empty line.",
    "created_at": "2019-05-13T18:16:49Z",
    "updated_at": "2019-05-13T18:19:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472572",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472572"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472572"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 221,
    "original_line": 221,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472685",
    "pull_request_review_id": 236838199,
    "id": 283472685,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI4MzQ3MjY4NQ==",
    "diff_hunk": "@@ -212,6 +213,22 @@ static void TestPoly1305(const std::string &hexmessage, const std::string &hexke\n     BOOST_CHECK(tag == tagres);\n }\n \n+static void TestHKDF_SHA256_32(const std::string &ikm_hex, const std::string &salt_hex, const std::string &info_hex, const std::string &okm_check_hex) {",
    "path": "src/test/crypto_tests.cpp",
    "position": 20,
    "original_position": 20,
    "commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "original_commit_id": "8794a4b3ae4d34a4cd21a7dee9f694eef7726a4f",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, space after `&`, not before.",
    "created_at": "2019-05-13T18:17:06Z",
    "updated_at": "2019-05-13T18:19:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472685",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472685"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/14047#discussion_r283472685"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/14047"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/283472685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 216,
    "original_line": 216,
    "side": "RIGHT"
  }
]