hebasto,2019-11-29 21:41:10,"@laanwj's https://github.com/bitcoin/bitcoin/issues/17628#issuecomment-559448201:\n> Maybe it'd make sense to replace Ubuntu Trusty with Centos 7 as the ""check ancient backward compatibililty"" Travis run. It's supported until 2024, apparently.",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-559884352,559884352,
DrahtBot,2019-11-30 00:08:15,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17490](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17490.html) (ci: Add valgrind run by MarcoFalke)\n* [#12",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-559897887,559897887,
practicalswift,2019-11-30 06:54:50,Concept ACK: diversity in testing is good,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-559918466,559918466,
fanquake,2019-12-02 02:41:58,Concept ACK,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-560203512,560203512,
hebasto,2019-12-02 16:37:24,Rebased after #17634 has been merged.,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-560475379,560475379,
laanwj,2019-12-03 09:28:08,"I think you should do a depends build here.\n\nWhile the binary (and the tests) must run on CentOS 7 (this was a constraint on the libc version in #17538), it doesn't need to build with the ancient library versions provided there: CentOS 7 does not put a restriction on our minimum dependency versions.\n",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561077678,561077678,
laanwj,2019-12-03 09:33:59,"This also implicitly restricts the minimum supported g++ version to 4.8.5, complicating #16684 in the future. But I think we can worry about that then (maybe there's a way to install a newer compiler, no need to hold this up now).",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561079885,561079885,
hebasto,2019-12-03 12:44:18,"> I think you should do a depends build here.\n\nI have encountered a `libevent` build error on Travis (the local build is ok). Going to debug...",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561151074,561151074,
MarcoFalke,2019-12-03 14:06:46,"But then, what is the point of using CentOs 7 to get all the old packages (of boost, etc) when a depends build is done anyway? ",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561182650,561182650,
laanwj,2019-12-03 14:16:41,"I don't know. Some of the package versions make sense, for Qt even recent (5.9.7 is from last year), but In the case of libevent the version is absurdly old.",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561186668,561186668,
MarcoFalke,2019-12-03 14:20:01,"We mostly had issues with compiling against older versions of boost (and qt). If the trusty run is eventually removed, we should have something else to run against an old version of boost.",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561188117,561188117,
laanwj,2019-12-03 14:25:08,"yes, the boost version is OK; and I don't think we can do a depends build without boost at this point\n\naj on IRC commented something about ""software collections"", could this be used to install a newer version of libevent only?",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561190274,561190274,
hebasto,2019-12-03 14:32:11,"> aj on IRC commented something about ""software collections"", could this be used to install a newer version of libevent only?\n\nhttps://www.softwarecollections.org/en/scls/?search=libevent\n\n... nothing.",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561193360,561193360,
MarcoFalke,2019-12-03 14:54:24,ACK d88782e3fc897cf1fe63eaa2255ac93fb222f711,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561203279,561203279,
MarcoFalke,2019-12-03 15:07:25,A nice follow up (either a new commit or pr) would be to adjust the readme and the list of packages to only the needed ones: `boost-thread boost-test boost-filesystem boost-chrono` instead of the entirety of boost.,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561208941,561208941,
hebasto,2019-12-03 15:15:50,"> A nice follow up (either a new commit or pr) would be to adjust the readme and the list of packages to only the needed ones: `boost-thread boost-test boost-filesystem boost-chrono` instead of the entirety of boost.\n\nCentOS / Fedora has only one `boost-devel` package.\nThere is no `boost-{thread|test|filesystem|chrono}-devel` packages, unfortunately.",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-561212934,561212934,
promag,2019-12-06 07:58:12,ACK d88782e3fc897cf1fe63eaa2255ac93fb222f711.,https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-562472353,562472353,
MarcoFalke,2019-12-07 04:32:06,"ACK 711e0449cf4a0f15cabe0d64094e3add24ad44b0 ðŸš \n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nACK 711e0449cf4a0f15cabe0d64094e3add24ad44b0 ðŸš \n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgl0gv/fWA9rxwx5f/Yr178u4iXUkmIRtbazRKORuGeAEPzOoWCG1hpOW",https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-562813221,562813221,
elichai,2019-12-08 12:42:50,ACK After merge. I actually think this can *help* us more confidently bump the C++ version in the future (probably will require bumping to CentOS 8),https://github.com/bitcoin/bitcoin/pull/17635#issuecomment-562944147,562944147,
paymog,2019-11-30 08:45:38,are these changes required for the centos build to pass?,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352273994,352273994,src/qt/recentrequeststablemodel.cpp
paymog,2019-11-30 08:46:00,why the switch from `algorithm` to `utility`?,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352274019,352274019,src/qt/peertablemodel.cpp
hebasto,2019-11-30 08:53:26,Please look #17634.,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352274293,352274293,src/qt/recentrequeststablemodel.cpp
hebasto,2019-11-30 08:53:35,Please look #17634.,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352274296,352274296,src/qt/peertablemodel.cpp
paymog,2019-11-30 08:58:58,Ah got it. I'm still new to how bitcoin is developed but I think it would be useful if this PR didn't try to merge to master but instead tried to merge into #17634 so that the changes from the PR don't appear here (but that's just a stylistic nit).,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352274489,352274489,src/qt/recentrequeststablemodel.cpp
hebasto,2019-11-30 09:16:30,"From OP:\n> Please note that this PR is based on the bugfix #17634.\n\nWhen/if #17634 is merged this PR will be rebased and commits from #17634 will not appear here.",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352275161,352275161,src/qt/recentrequeststablemodel.cpp
MarcoFalke,2019-12-03 01:34:25,"nit: This should run on any architecture \n\n```suggestion\n        FILE_ENV=""./ci/test/00_setup_env_native_centos.sh""\n```",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352946501,352946501,.travis.yml
hebasto,2019-12-03 05:46:30,Done.,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r352993784,352993784,.travis.yml
MarcoFalke,2019-12-06 12:34:33,Our travis is currently running at its limit and this doesn't seem like it is adding a lot new coverage compared to the other builds. What about only running it in cirrus instead of travis?,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354811792,354811792,.travis.yml
hebasto,2019-12-06 13:25:11,Could CentOS build be a replacement for Trusty build on Travis?,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354830205,354830205,.travis.yml
MarcoFalke,2019-12-06 13:30:52,Sounds good,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354832579,354832579,.travis.yml
MarcoFalke,2019-12-06 13:31:18,"Please install python3-zmq, if available. See https://travis-ci.org/bitcoin/bitcoin/jobs/619963005#L3914",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354832731,354832731,ci/test/00_setup_env_native_centos.sh
hebasto,2019-12-06 13:32:36,Should Trusty build be removed from Travis in this PR?,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354833276,354833276,.travis.yml
MarcoFalke,2019-12-06 13:34:44,"Yeah, I think this has been the plan: https://github.com/bitcoin/bitcoin/issues/17628#issuecomment-559448201",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r354834087,354834087,.travis.yml
hebasto,2019-12-06 19:57:57,Done.,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355006163,355006163,ci/test/00_setup_env_native_centos.sh
MarcoFalke,2019-12-06 19:59:01,And https://apps.fedoraproject.org/packages/python3-zmq,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355006585,355006585,ci/test/00_setup_env_native_centos.sh
hebasto,2019-12-06 19:59:44,@emilengler's 5423bd3474581a479b244cb9b599cbefafc64618 has been cherry-picked.,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355006836,355006836,.travis.yml
hebasto,2019-12-06 20:08:38,https://centos.pkgs.org/7/epel-x86_64/python36-zmq-14.7.0-8.el7.x86_64.rpm.html,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355010098,355010098,ci/test/00_setup_env_native_centos.sh
MarcoFalke,2019-12-06 20:25:38,"Ah, please add it then.",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355016029,355016029,ci/test/00_setup_env_native_centos.sh
hebasto,2019-12-06 20:27:36,"Already:\n\nhttps://github.com/bitcoin/bitcoin/blob/7f3ae224685efaeb6fe714de90e8871d12e55f34/ci/test/00_setup_env_native_centos.sh#L10\n",https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355016703,355016703,ci/test/00_setup_env_native_centos.sh
hebasto,2019-12-06 20:29:39,https://travis-ci.org/bitcoin/bitcoin/jobs/621765674,https://github.com/bitcoin/bitcoin/pull/17635#discussion_r355017356,355017356,ci/test/00_setup_env_native_centos.sh
