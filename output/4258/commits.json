[
  {
    "sha": "7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YjQ1ZDk0M2IyOWE0NDNmMWFjODA4YzllZTRlZWVkNmRmMGRiOWNj",
    "commit": {
      "author": {
        "name": "shshshsh",
        "email": "shshshsh@sdsdsdfsd.invalid",
        "date": "2014-05-30T12:35:23Z"
      },
      "committer": {
        "name": "shshshsh",
        "email": "shshshsh@sdsdsdfsd.invalid",
        "date": "2014-06-04T11:58:18Z"
      },
      "message": "Make max number of orphan blocks kept in memory a startup parameter (fixes #4253)",
      "tree": {
        "sha": "6cb3f2990c441968386becdf4d9eab73ff876862",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6cb3f2990c441968386becdf4d9eab73ff876862"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "97ab93f50b6f35bc362990e9dd665b90ca4132df",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/97ab93f50b6f35bc362990e9dd665b90ca4132df",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/97ab93f50b6f35bc362990e9dd665b90ca4132df"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 4,
      "deletions": 3
    },
    "files": [
      {
        "sha": "995f2700cf142d59de51d141f1affdd99b7ca507",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
        "patch": "@@ -206,6 +206,7 @@ std::string HelpMessage(HelpMessageMode hmm)\n     strUsage += \"  -dbcache=<n>           \" + strprintf(_(\"Set database cache size in megabytes (%d to %d, default: %d)\"), nMinDbCache, nMaxDbCache, nDefaultDbCache) + \"\\n\";\n     strUsage += \"  -keypool=<n>           \" + _(\"Set key pool size to <n> (default: 100)\") + \"\\n\";\n     strUsage += \"  -loadblock=<file>      \" + _(\"Imports blocks from external blk000??.dat file\") + \" \" + _(\"on startup\") + \"\\n\";\n+    strUsage += \"  -maxorphanblocks=<n>   \" + strprintf(_(\"Keep at most <n> unconnectable blocks in memory (default: %u)\"), DEFAULT_MAX_ORPHAN_BLOCKS) + \"\\n\";\n     strUsage += \"  -par=<n>               \" + strprintf(_(\"Set the number of script verification threads (%u to %d, 0 = auto, <0 = leave that many cores free, default: %d)\"), -(int)boost::thread::hardware_concurrency(), MAX_SCRIPTCHECK_THREADS, DEFAULT_SCRIPTCHECK_THREADS) + \"\\n\";\n     strUsage += \"  -pid=<file>            \" + _(\"Specify pid file (default: bitcoind.pid)\") + \"\\n\";\n     strUsage += \"  -reindex               \" + _(\"Rebuild block chain index from current blk000??.dat files\") + \" \" + _(\"on startup\") + \"\\n\";"
      },
      {
        "sha": "5cb6e706bb03bdd28ff79de980c04f595d468725",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
        "patch": "@@ -1160,7 +1160,7 @@ uint256 static GetOrphanRoot(const uint256& hash)\n // Remove a random orphan block (which does not have any dependent orphans).\n void static PruneOrphanBlocks()\n {\n-    if (mapOrphanBlocksByPrev.size() <= MAX_ORPHAN_BLOCKS)\n+    if (mapOrphanBlocksByPrev.size() <= (size_t)std::max((int64_t)0, GetArg(\"-maxorphanblocks\", DEFAULT_MAX_ORPHAN_BLOCKS)))\n         return;\n \n     // Pick a random orphan block."
      },
      {
        "sha": "26f66630aec0eb1cf088b4494a71a6e4e25f785b",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7b45d943b29a443f1ac808c9ee4eeed6df0db9cc/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=7b45d943b29a443f1ac808c9ee4eeed6df0db9cc",
        "patch": "@@ -45,8 +45,8 @@ static const unsigned int MAX_STANDARD_TX_SIZE = 100000;\n static const unsigned int MAX_BLOCK_SIGOPS = MAX_BLOCK_SIZE/50;\n /** The maximum number of orphan transactions kept in memory */\n static const unsigned int MAX_ORPHAN_TRANSACTIONS = MAX_BLOCK_SIZE/100;\n-/** The maximum number of orphan blocks kept in memory */\n-static const unsigned int MAX_ORPHAN_BLOCKS = 750;\n+/** Default for -maxorphanblocks, maximum number of orphan blocks kept in memory */\n+static const unsigned int DEFAULT_MAX_ORPHAN_BLOCKS = 750;\n /** The maximum size of a blk?????.dat file (since 0.8) */\n static const unsigned int MAX_BLOCKFILE_SIZE = 0x8000000; // 128 MiB\n /** The pre-allocation chunk size for blk?????.dat files (since 0.8) */"
      }
    ]
  }
]