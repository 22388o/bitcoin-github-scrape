[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298480442",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298480442",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298480442,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODQ4MDQ0Mg==",
    "user": {
      "login": "jimmysong",
      "id": 524761,
      "node_id": "MDQ6VXNlcjUyNDc2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/524761?u=3ee7561b631dfa6e8e465ad9a556bec78cfc84e8&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmysong",
      "html_url": "https://github.com/jimmysong",
      "followers_url": "https://api.github.com/users/jimmysong/followers",
      "following_url": "https://api.github.com/users/jimmysong/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmysong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmysong/orgs",
      "repos_url": "https://api.github.com/users/jimmysong/repos",
      "events_url": "https://api.github.com/users/jimmysong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmysong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T02:12:07Z",
    "updated_at": "2017-05-02T02:12:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@EthanHeilman @jnewbery, I've tested a few combinations, and leaving out octet3 works for the current code I have. It's almost exactly the same as before. Let me know what you guys think.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298480442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298645748",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298645748",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298645748,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY0NTc0OA==",
    "user": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:06:16Z",
    "updated_at": "2017-05-02T14:06:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Removing octet3 seems reasonable and the code looks better especially when with the slick BOOST_CHECK_EQUAL.\r\n\r\nI've been regretting numbering these tests, e.g. \"Test 1: , Test: 2 ...\", for a while since adding new tests requires renumbering them or using decimals as done here:\r\n```cpp\r\n// Test 6.5: AddrMan::Add multiple addresses works as expected\r\n```\r\nCould you do a commit which just removes the numbers so \"Test 1:\" becomes \"Test: \"?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298645748/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298646490",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298646490",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298646490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY0NjQ5MA==",
    "user": {
      "login": "jimmysong",
      "id": 524761,
      "node_id": "MDQ6VXNlcjUyNDc2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/524761?u=3ee7561b631dfa6e8e465ad9a556bec78cfc84e8&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmysong",
      "html_url": "https://github.com/jimmysong",
      "followers_url": "https://api.github.com/users/jimmysong/followers",
      "following_url": "https://api.github.com/users/jimmysong/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmysong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmysong/orgs",
      "repos_url": "https://api.github.com/users/jimmysong/repos",
      "events_url": "https://api.github.com/users/jimmysong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmysong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T14:09:06Z",
    "updated_at": "2017-05-02T14:09:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@EthanHeilman sure, will work on changing to BOOST_CHECK_EQUALS and taking out test numbers as soon as this one gets merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298646490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298672947",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298672947",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298672947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODY3Mjk0Nw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T15:38:48Z",
    "updated_at": "2017-05-02T15:38:48Z",
    "author_association": "MEMBER",
    "body": "> Could you do a commit which just removes the numbers so \"Test 1:\" becomes \"Test: \"?\r\n\r\nAlternatively, you could replace the comments with checkpoints:\r\nhttp://www.boost.org/doc/libs/1_64_0/libs/test/doc/html/boost_test/test_output/test_tools_support_for_logging/checkpoints.html . I'm not sure what other people would think about this. There aren't `BOOST_TEST_CHECKPOINT`s in the unit tests.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298672947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298713279",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298713279",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298713279,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODcxMzI3OQ==",
    "user": {
      "login": "jimmysong",
      "id": 524761,
      "node_id": "MDQ6VXNlcjUyNDc2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/524761?u=3ee7561b631dfa6e8e465ad9a556bec78cfc84e8&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmysong",
      "html_url": "https://github.com/jimmysong",
      "followers_url": "https://api.github.com/users/jimmysong/followers",
      "following_url": "https://api.github.com/users/jimmysong/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmysong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmysong/orgs",
      "repos_url": "https://api.github.com/users/jimmysong/repos",
      "events_url": "https://api.github.com/users/jimmysong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmysong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T18:02:06Z",
    "updated_at": "2017-05-02T18:02:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "nits addressed, squashed and rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298713279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298733913",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-298733913",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 298733913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODczMzkxMw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T19:18:52Z",
    "updated_at": "2017-05-02T19:18:52Z",
    "author_association": "MEMBER",
    "body": "tested ACK ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298733913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300131286",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#issuecomment-300131286",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/10287",
    "id": 300131286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDEzMTI4Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-09T11:04:33Z",
    "updated_at": "2017-05-09T11:04:33Z",
    "author_association": "MEMBER",
    "body": "utACK ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/300131286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114133051",
    "pull_request_review_id": 35575219,
    "id": 114133051,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDEzMzA1MQ==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This code isn't at all doing what I expected. On first looking, I assumed it was slicing off 8 bits at a time in order to format a 32 bit int as an ipv4 address, ie I was expecting this:\r\n\r\n```\r\nint octet1 = i % 256;\r\nint octet2 = i >> 8 % 256;\r\nint octet3 = i >> 16 % 256;\r\n```\r\n\r\nbut in fact it's effectively doing this:\r\n\r\n```\r\nint octet1 = i % 256;\r\nint octet2 = i >> 8 % 256;\r\nint octet3 = i >> 9 % 256;\r\n```\r\nie the bits used for octet 2 and 3 are overlapping. Did you work out whether there was a reason for this?\r\n\r\nI'd prefer to keep these using the modulos to indicate that each octet should be in the range 0-255. The only reason your suggested change would work is because i never exceeds 2^16. Perhaps replace with the following if there's no good reason to keep the strange octet3 behaviour:\r\n\r\n```\r\nint octet1 = i % 256;\r\nint octet2 = i >> 8 % 256;\r\nstd::string strAddr = boost::to_string(octet1) + \".\" + boost::to_string(octet2) + \".0.23\";\r\n```\r\nie eliminate octet3 entirely.",
    "created_at": "2017-05-01T14:41:43Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114133051",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114133051"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114133051"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114133051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114134016",
    "pull_request_review_id": 35576276,
    "id": 114134016,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDEzNDAxNg==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "jimmysong",
      "id": 524761,
      "node_id": "MDQ6VXNlcjUyNDc2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/524761?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmysong",
      "html_url": "https://github.com/jimmysong",
      "followers_url": "https://api.github.com/users/jimmysong/followers",
      "following_url": "https://api.github.com/users/jimmysong/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmysong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmysong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmysong/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmysong/orgs",
      "repos_url": "https://api.github.com/users/jimmysong/repos",
      "events_url": "https://api.github.com/users/jimmysong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmysong/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was expecting the same until I tried to refactor it. I can't speak to the original intent, but @EthanHeilman can maybe give us a clue as to what it was?\r\nAnyway it turns out that the addresses are going into a hash table and any adjustment of octet3 in any way changes the numbers in lines 415-417 (vAddr size and addrman size). Thankfully, the hash table is deterministic, but I wanted minimal disruption at least for this PR. I was thinking that this test could be refactored slightly so we can predict the number of collisions in another PR.\r\n",
    "created_at": "2017-05-01T14:48:22Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114134016",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114134016"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114134016"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114134016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114171284",
    "pull_request_review_id": 35616232,
    "id": 114171284,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE3MTI4NA==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@jimmysong It just makes it less likely we will have a collision when adding addresses.\r\n\r\nChanging\r\n```cpp\r\nint octet3 = (i / (256 * 2)) % 256;\r\n```\r\nto \r\n```cpp\r\nint octet3 = (i / (256 * 256)) % 256;\r\n```\r\nwould cause all of these generated addresses to map to the same source group in the new table as they would all have the same \\16. \r\n\r\nCurrent behavior is intended to lower the chance that addresses are evicted when adding them by spreading them across more than one source group. A byproduct of this is also a more realistic test since the addresses returned by GetAddr() are now being drawn from several source groups.",
    "created_at": "2017-05-01T18:26:02Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114171284",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114171284"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114171284"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114171284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114181182",
    "pull_request_review_id": 35626739,
    "id": 114181182,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE4MTE4Mg==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can this be achieved by fixing octet2 to zero and then setting octet3 to `i >> 8 % 256`?",
    "created_at": "2017-05-01T19:17:11Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114181182",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114181182"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114181182"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114181182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114195067",
    "pull_request_review_id": 35641963,
    "id": 114195067,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE5NTA2Nw==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, that would be a better way of doing it.",
    "created_at": "2017-05-01T20:30:11Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114195067",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114195067"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114195067"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114195067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114197070",
    "pull_request_review_id": 35644192,
    "id": 114197070,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDE5NzA3MA==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure if it's *better*, but I think it would be less confusing :)",
    "created_at": "2017-05-01T20:40:57Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114197070",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114197070"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114197070"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114197070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114203929",
    "pull_request_review_id": 35651503,
    "id": 114203929,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDIwMzkyOQ==",
    "diff_hunk": "@@ -398,8 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": 43,
    "original_position": 43,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "9320e02ef4a419588c850249f24eb26471d38c00",
    "user": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Less confusing _is_ better. =)",
    "created_at": "2017-05-01T21:16:32Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114203929",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114203929"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114203929"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114203929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 407,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 114133051
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114377907",
    "pull_request_review_id": 35838839,
    "id": 114377907,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDM3NzkwNw==",
    "diff_hunk": "@@ -398,9 +405,8 @@ BOOST_AUTO_TEST_CASE(addrman_getaddr)\n     // Test 25: Ensure GetAddr still returns 23% when addrman has many addrs.\n     for (unsigned int i = 1; i < (8 * 256); i++) {\n         int octet1 = i % 256;\n-        int octet2 = (i / 256) % 256;\n-        int octet3 = (i / (256 * 2)) % 256;\n-        std::string strAddr = boost::to_string(octet1) + \".\" + boost::to_string(octet2) + \".\" + boost::to_string(octet3) + \".23\";\n+        int octet2 = i / 256;",
    "path": "src/test/addrman_tests.cpp",
    "position": null,
    "original_position": 47,
    "commit_id": "ed36de59e484ecdc22f464948d08a94a8b7fadbb",
    "original_commit_id": "46934c38f31f28e0aaad851675dd2cd83100c6d6",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I still think this is clearer if you bitshift and modulo 256.",
    "created_at": "2017-05-02T17:35:55Z",
    "updated_at": "2017-05-02T18:01:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114377907",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114377907"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/10287#discussion_r114377907"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/10287"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114377907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 408,
    "side": "RIGHT"
  }
]