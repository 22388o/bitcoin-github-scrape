[
  {
    "sha": "d29505db22892548a5eca5567bf8acf4e950efea",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMjk1MDVkYjIyODkyNTQ4YTVlY2E1NTY3YmY4YWNmNGU5NTBlZmVh",
    "commit": {
      "author": {
        "name": "jonnynewbs",
        "email": "jonnynewbs@gmail.com",
        "date": "2016-09-15T14:46:01Z"
      },
      "committer": {
        "name": "John Newbery",
        "email": "john@johnnewbery.com",
        "date": "2016-12-08T17:03:57Z"
      },
      "message": "Fix transaction size comments. Size now refers to virtual size as defined in BIP141.",
      "tree": {
        "sha": "7d9a3c11b423497c74e52af6ebc3d88667aab77b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7d9a3c11b423497c74e52af6ebc3d88667aab77b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d29505db22892548a5eca5567bf8acf4e950efea",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d29505db22892548a5eca5567bf8acf4e950efea",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d29505db22892548a5eca5567bf8acf4e950efea",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d29505db22892548a5eca5567bf8acf4e950efea/comments",
    "author": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7490ae8b699d2955b665cf849d86ff5bb5245c28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7490ae8b699d2955b665cf849d86ff5bb5245c28",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7490ae8b699d2955b665cf849d86ff5bb5245c28"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 10,
      "deletions": 8
    },
    "files": [
      {
        "sha": "a6f92ea202d87c3c73e0ad0ab6eea1ac9bae5bd2",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d29505db22892548a5eca5567bf8acf4e950efea/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d29505db22892548a5eca5567bf8acf4e950efea/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=d29505db22892548a5eca5567bf8acf4e950efea",
        "patch": "@@ -331,18 +331,18 @@ UniValue getdifficulty(const JSONRPCRequest& request)\n \n std::string EntryDescriptionString()\n {\n-    return \"    \\\"size\\\" : n,             (numeric) transaction size in bytes\\n\"\n+    return \"    \\\"size\\\" : n,             (numeric) virtual transaction size as defined in BIP 141. This is different from actual serialized size for witness transactions as witness data is discounted.\\n\"\n            \"    \\\"fee\\\" : n,              (numeric) transaction fee in \" + CURRENCY_UNIT + \"\\n\"\n            \"    \\\"modifiedfee\\\" : n,      (numeric) transaction fee with fee deltas used for mining priority\\n\"\n            \"    \\\"time\\\" : n,             (numeric) local time transaction entered pool in seconds since 1 Jan 1970 GMT\\n\"\n            \"    \\\"height\\\" : n,           (numeric) block height when transaction entered pool\\n\"\n            \"    \\\"startingpriority\\\" : n, (numeric) priority when transaction entered pool\\n\"\n            \"    \\\"currentpriority\\\" : n,  (numeric) transaction priority now\\n\"\n            \"    \\\"descendantcount\\\" : n,  (numeric) number of in-mempool descendant transactions (including this one)\\n\"\n-           \"    \\\"descendantsize\\\" : n,   (numeric) size of in-mempool descendants (including this one)\\n\"\n+           \"    \\\"descendantsize\\\" : n,   (numeric) virtual transaction size of in-mempool descendants (including this one)\\n\"\n            \"    \\\"descendantfees\\\" : n,   (numeric) modified fees (see above) of in-mempool descendants (including this one)\\n\"\n            \"    \\\"ancestorcount\\\" : n,    (numeric) number of in-mempool ancestor transactions (including this one)\\n\"\n-           \"    \\\"ancestorsize\\\" : n,     (numeric) size of in-mempool ancestors (including this one)\\n\"\n+           \"    \\\"ancestorsize\\\" : n,     (numeric) virtual transaction size of in-mempool ancestors (including this one)\\n\"\n            \"    \\\"ancestorfees\\\" : n,     (numeric) modified fees (see above) of in-mempool ancestors (including this one)\\n\"\n            \"    \\\"depends\\\" : [           (array) unconfirmed transactions used as inputs for this transaction\\n\"\n            \"        \\\"transactionid\\\",    (string) parent transaction id\\n\"\n@@ -703,7 +703,7 @@ UniValue getblock(const JSONRPCRequest& request)\n             \"  \\\"confirmations\\\" : n,   (numeric) The number of confirmations, or -1 if the block is not on the main chain\\n\"\n             \"  \\\"size\\\" : n,            (numeric) The block size\\n\"\n             \"  \\\"strippedsize\\\" : n,    (numeric) The block size excluding witness data\\n\"\n-            \"  \\\"weight\\\" : n           (numeric) The block weight (BIP 141)\\n\"\n+            \"  \\\"weight\\\" : n           (numeric) The block weight as defined in BIP 141\\n\"\n             \"  \\\"height\\\" : n,          (numeric) The block height or index\\n\"\n             \"  \\\"version\\\" : n,         (numeric) The block version\\n\"\n             \"  \\\"versionHex\\\" : \\\"00000000\\\", (string) The block version formatted in hexadecimal\\n\"\n@@ -1240,7 +1240,7 @@ UniValue getmempoolinfo(const JSONRPCRequest& request)\n             \"\\nResult:\\n\"\n             \"{\\n\"\n             \"  \\\"size\\\": xxxxx,               (numeric) Current tx count\\n\"\n-            \"  \\\"bytes\\\": xxxxx,              (numeric) Sum of all tx sizes\\n\"\n+            \"  \\\"bytes\\\": xxxxx,              (numeric) Sum of all virtual transaction sizes as defined in BIP 141. Differs from actual serialized size because witness data is discounted\\n\"\n             \"  \\\"usage\\\": xxxxx,              (numeric) Total memory usage for the mempool\\n\"\n             \"  \\\"maxmempool\\\": xxxxx,         (numeric) Maximum memory usage for the mempool\\n\"\n             \"  \\\"mempoolminfee\\\": xxxxx       (numeric) Minimum fee for tx to be accepted\\n\""
      },
      {
        "sha": "724594c8d889c136a4beeed2eb47135188ce61e9",
        "filename": "src/rpc/mining.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d29505db22892548a5eca5567bf8acf4e950efea/src/rpc/mining.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d29505db22892548a5eca5567bf8acf4e950efea/src/rpc/mining.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/mining.cpp?ref=d29505db22892548a5eca5567bf8acf4e950efea",
        "patch": "@@ -775,7 +775,8 @@ UniValue estimatefee(const JSONRPCRequest& request)\n         throw runtime_error(\n             \"estimatefee nblocks\\n\"\n             \"\\nEstimates the approximate fee per kilobyte needed for a transaction to begin\\n\"\n-            \"confirmation within nblocks blocks.\\n\"\n+            \"confirmation within nblocks blocks. Uses virtual transaction size of transaction\\n\"\n+            \"as defined in BIP 141 (witness data is discounted).\\n\"\n             \"\\nArguments:\\n\"\n             \"1. nblocks     (numeric)\\n\"\n             \"\\nResult:\\n\"\n@@ -835,7 +836,8 @@ UniValue estimatesmartfee(const JSONRPCRequest& request)\n             \"\\nWARNING: This interface is unstable and may disappear or change!\\n\"\n             \"\\nEstimates the approximate fee per kilobyte needed for a transaction to begin\\n\"\n             \"confirmation within nblocks blocks if possible and return the number of blocks\\n\"\n-            \"for which the estimate is valid.\\n\"\n+            \"for which the estimate is valid. Uses virtual transaction size as defined\\n\"\n+            \"in BIP 141 (witness data is discounted).\\n\"\n             \"\\nArguments:\\n\"\n             \"1. nblocks     (numeric)\\n\"\n             \"\\nResult:\\n\""
      },
      {
        "sha": "ced74aa4703879493021b5bf1d199bfd0229a83d",
        "filename": "src/txmempool.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d29505db22892548a5eca5567bf8acf4e950efea/src/txmempool.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d29505db22892548a5eca5567bf8acf4e950efea/src/txmempool.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/txmempool.h?ref=d29505db22892548a5eca5567bf8acf4e950efea",
        "patch": "@@ -421,7 +421,7 @@ class CTxMemPool\n     unsigned int nTransactionsUpdated;\n     CBlockPolicyEstimator* minerPolicyEstimator;\n \n-    uint64_t totalTxSize;      //!< sum of all mempool tx' byte sizes\n+    uint64_t totalTxSize;      //!< sum of all mempool tx's virtual sizes. Differs from serialized tx size since witness data is discounted. Defined in BIP 141.\n     uint64_t cachedInnerUsage; //!< sum of dynamic memory usage of all the map elements (NOT the maps themselves)\n \n     CFeeRate minReasonableRelayFee;"
      }
    ]
  }
]