[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559869749",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-559869749",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 559869749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1OTg2OTc0OQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-29T19:36:03Z",
    "updated_at": "2019-12-07T16:19:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#12134](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/12134.html) (Build previous releases and run functional tests by Sjors)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/559869749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/560413071",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-560413071",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 560413071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MDQxMzA3MQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-02T14:13:23Z",
    "updated_at": "2019-12-02T14:13:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@paymog \r\n\r\nThere are a few failing tests: most of them due to timing assumptions that fail in the presence of the `bitcoind` slowdown caused by Valgrind. I plan to fix these failing tests by increasing timeouts where required.\r\n\r\nNote that doing that has the added nice benefit of turning a few flaky tests into stable ones since said timing assumptions are intermittently violated under normal test execution due to high load, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/560413071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561230537",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561230537",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561230537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTIzMDUzNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T15:53:36Z",
    "updated_at": "2019-12-03T15:53:36Z",
    "author_association": "MEMBER",
    "body": "ACK 5db506ba5943868cc2c845f717508739b7f05714",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561230537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561338553",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561338553",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561338553,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTMzODU1Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T20:16:37Z",
    "updated_at": "2019-12-03T20:16:37Z",
    "author_association": "MEMBER",
    "body": "@jonatack What does `combine_logs.py` tell you, and are the directories `stdout` and `stderr` in the test dir empty?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561338553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561343292",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561343292",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561343292,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTM0MzI5Mg==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T20:29:21Z",
    "updated_at": "2019-12-10T16:50:38Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke thanks! I don't see `stdout` or `stderr` directories in /test and /test/functional. [Here is the combine_logs.py output](https://gist.github.com/jonatack/915df3494f9f7274a07e29ae092a2a47) for p2p_segwit.py (which passes without the `--valgrind` option).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561343292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561351704",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561351704",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561351704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTM1MTcwNA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T20:52:18Z",
    "updated_at": "2019-12-03T20:52:18Z",
    "author_association": "MEMBER",
    "body": "Try `tail /tmp/bitcoin_func_test_u513zycz/node*/std*` or similar (Reminds me that this should ideally be done by `combine_logs.py`)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561351704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561352582",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561352582",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561352582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTM1MjU4Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T20:54:46Z",
    "updated_at": "2019-12-03T20:54:46Z",
    "author_association": "MEMBER",
    "body": "Also, could you try with the suppressions file from https://github.com/bitcoin/bitcoin/pull/17490/files#diff-8982317ece972c9b26bd8545350812f2R31 ? Maybe remove the line I linked to if it still doesn't work.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561352582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561405084",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-561405084",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 561405084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTQwNTA4NA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T23:31:51Z",
    "updated_at": "2019-12-04T15:47:50Z",
    "author_association": "MEMBER",
    "body": "ACK 5db506ba5943868cc2c845f717508739b7f05714\r\n\r\nReviewed code, reproduced the PR description steps after modifying `contrib/valgrind.supp` ([diff](https://gist.github.com/jonatack/d042208cff84f9cda11fdb64dc730fd2))... perhaps I have a depends issue in my build.\r\n\r\nThank you @MarcoFalke for your suggestions.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561405084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564113499",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-564113499",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 564113499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDExMzQ5OQ==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T16:24:52Z",
    "updated_at": "2019-12-10T16:24:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Try `tail /tmp/bitcoin_func_test_u513zycz/node*/std*` or similar (Reminds me that this should ideally be done by `combine_logs.py`)\r\n\r\nI'm probably missing something, but isn't that what `print_node_warnings` in `combine_logs.py` does? :)\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/1189b6acab115a7fe7bd67f8b4c6e3f55e53274e/test/functional/combine_logs.py#L98-L111\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564113499/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564117054",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#issuecomment-564117054",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17633",
    "id": 564117054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NDExNzA1NA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-10T16:32:23Z",
    "updated_at": "2019-12-10T16:32:23Z",
    "author_association": "MEMBER",
    "body": "Ah right. Forgot that I already wrote that. And it indeed was also included in https://gist.github.com/jonatack/915df3494f9f7274a07e29ae092a2a47#file-pr17633-combine_log_output-txt-L263",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/564117054/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275058",
    "pull_request_review_id": 324884027,
    "id": 352275058,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MjI3NTA1OA==",
    "diff_hunk": "@@ -157,6 +157,8 @@ def parse_args(self):\n                             help=\"use bitcoin-cli instead of RPC for all commands\")\n         parser.add_argument(\"--perf\", dest=\"perf\", default=False, action=\"store_true\",\n                             help=\"profile running nodes with perf for the duration of the test\")\n+        parser.add_argument(\"--valgrind\", dest=\"valgrind\", default=False, action=\"store_true\",\n+                            help=\"run nodes under the valgrind memory error detector: expect at least a ~10x slowdown, valgrind 3.14 or later required\")",
    "path": "test/functional/test_framework/test_framework.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "original_commit_id": "61a48c1b9515b717ac54914a4f60dd473fe29b73",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "what do you think about updating the [developer docs](https://github.com/bitcoin/bitcoin/blob/33c103e2fe67e32e9f4e783fa243dd2bba6b1682/doc/developer-notes.md) or some other documentation (I'm new to bitcoin so I don't know where the right place is) with instructions on valgrind? \r\n\r\nIs there a CI step that runs the functional tests? Should we use this option there?",
    "created_at": "2019-11-30T09:13:56Z",
    "updated_at": "2019-12-01T19:54:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275058",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275058"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275058"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 161,
    "original_line": 161,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275126",
    "pull_request_review_id": 324884027,
    "id": 352275126,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MjI3NTEyNg==",
    "diff_hunk": "@@ -157,6 +157,8 @@ def parse_args(self):\n                             help=\"use bitcoin-cli instead of RPC for all commands\")\n         parser.add_argument(\"--perf\", dest=\"perf\", default=False, action=\"store_true\",\n                             help=\"profile running nodes with perf for the duration of the test\")\n+        parser.add_argument(\"--valgrind\", dest=\"valgrind\", default=False, action=\"store_true\",\n+                            help=\"run nodes under the valgrind memory error detector: expect at least a ~10x slowdown, valgrind 3.14 or later required\")",
    "path": "test/functional/test_framework/test_framework.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "original_commit_id": "61a48c1b9515b717ac54914a4f60dd473fe29b73",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Searching for valgrind doesn't show much documentation: https://github.com/bitcoin/bitcoin/search?q=valgrind&unscoped_q=valgrind",
    "created_at": "2019-11-30T09:15:21Z",
    "updated_at": "2019-12-01T19:54:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275126",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275126"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275126"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 161,
    "original_line": 161,
    "side": "RIGHT",
    "in_reply_to_id": 352275058
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275132",
    "pull_request_review_id": 324884027,
    "id": 352275132,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MjI3NTEzMg==",
    "diff_hunk": "@@ -96,6 +96,15 @@ def __init__(self, i, datadir, *, chain, rpchost, timewait, bitcoind, bitcoin_cl\n             \"-debugexclude=leveldb\",\n             \"-uacomment=testnode%d\" % i,\n         ]\n+        if use_valgrind:\n+            default_suppressions_file = os.path.join(\n+                os.path.dirname(os.path.realpath(__file__)),\n+                \"..\", \"..\", \"..\", \"contrib\", \"valgrind.supp\")\n+            suppressions_file = os.getenv(\"VALGRIND_SUPPRESSIONS_FILE\",\n+                                          default_suppressions_file)\n+            self.args = [\"valgrind\", \"--suppressions={}\".format(suppressions_file),\n+                         \"--gen-suppressions=all\", \"--exit-on-first-error=yes\",",
    "path": "test/functional/test_framework/test_node.py",
    "position": 20,
    "original_position": 20,
    "commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "original_commit_id": "61a48c1b9515b717ac54914a4f60dd473fe29b73",
    "user": {
      "login": "paymog",
      "id": 1986950,
      "node_id": "MDQ6VXNlcjE5ODY5NTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1986950?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paymog",
      "html_url": "https://github.com/paymog",
      "followers_url": "https://api.github.com/users/paymog/followers",
      "following_url": "https://api.github.com/users/paymog/following{/other_user}",
      "gists_url": "https://api.github.com/users/paymog/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paymog/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paymog/subscriptions",
      "organizations_url": "https://api.github.com/users/paymog/orgs",
      "repos_url": "https://api.github.com/users/paymog/repos",
      "events_url": "https://api.github.com/users/paymog/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paymog/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`--exist-on-first-error` might slow down the development cycle if there are multiple valgrind problems in a single change.",
    "created_at": "2019-11-30T09:15:36Z",
    "updated_at": "2019-12-01T19:54:28Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275132",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275132"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352275132"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352275132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 106,
    "original_line": 106,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352522216",
    "pull_request_review_id": 325144046,
    "id": 352522216,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MjUyMjIxNg==",
    "diff_hunk": "@@ -96,6 +96,15 @@ def __init__(self, i, datadir, *, chain, rpchost, timewait, bitcoind, bitcoin_cl\n             \"-debugexclude=leveldb\",\n             \"-uacomment=testnode%d\" % i,\n         ]\n+        if use_valgrind:\n+            default_suppressions_file = os.path.join(\n+                os.path.dirname(os.path.realpath(__file__)),\n+                \"..\", \"..\", \"..\", \"contrib\", \"valgrind.supp\")\n+            suppressions_file = os.getenv(\"VALGRIND_SUPPRESSIONS_FILE\",\n+                                          default_suppressions_file)\n+            self.args = [\"valgrind\", \"--suppressions={}\".format(suppressions_file),\n+                         \"--gen-suppressions=all\", \"--exit-on-first-error=yes\",",
    "path": "test/functional/test_framework/test_node.py",
    "position": 20,
    "original_position": 20,
    "commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "original_commit_id": "61a48c1b9515b717ac54914a4f60dd473fe29b73",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There is no easy way to achieve what we are trying to do here without using `--exit-on-first-error`, and hopefully it won't be very common with more than one memory problem per `bitcoind` execution. Additionally, continuing execution after a memory error is not meaningful: the diagnostics emitted after the first error are likely spurious anyways :)\r\n\r\nSo in summary -- we'll have to live with `--exit-on-first-error=yes` :)",
    "created_at": "2019-12-02T10:30:26Z",
    "updated_at": "2019-12-02T10:30:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352522216",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352522216"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r352522216"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/352522216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 106,
    "original_line": 106,
    "side": "RIGHT",
    "in_reply_to_id": 352275132
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/353385158",
    "pull_request_review_id": 326402329,
    "id": 353385158,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MzM4NTE1OA==",
    "diff_hunk": "@@ -96,6 +96,15 @@ def __init__(self, i, datadir, *, chain, rpchost, timewait, bitcoind, bitcoin_cl\n             \"-debugexclude=leveldb\",\n             \"-uacomment=testnode%d\" % i,\n         ]\n+        if use_valgrind:\n+            default_suppressions_file = os.path.join(\n+                os.path.dirname(os.path.realpath(__file__)),\n+                \"..\", \"..\", \"..\", \"contrib\", \"valgrind.supp\")\n+            suppressions_file = os.getenv(\"VALGRIND_SUPPRESSIONS_FILE\",\n+                                          default_suppressions_file)\n+            self.args = [\"valgrind\", \"--suppressions={}\".format(suppressions_file),",
    "path": "test/functional/test_framework/test_node.py",
    "position": 19,
    "original_position": 19,
    "commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "original_commit_id": "5db506ba5943868cc2c845f717508739b7f05714",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "suggestion if you have to retouch this:\r\n```diff\r\n-            self.args = [\"valgrind\", \"--suppressions={}\".format(suppressions_file),\r\n-                         \"--gen-suppressions=all\", \"--exit-on-first-error=yes\",\r\n-                         \"--error-exitcode=1\", \"--quiet\"] + self.args\r\n+            self.args = [\r\n+                \"valgrind\",\r\n+                \"--suppressions={}\".format(suppressions_file),\r\n+                \"--gen-suppressions=all\",\r\n+                \"--exit-on-first-error=yes\",\r\n+                \"--error-exitcode=1\",\r\n+                \"--quiet\",\r\n+            ] + self.args\r\n```\r\n(like lines 89-97 before it)",
    "created_at": "2019-12-03T19:44:31Z",
    "updated_at": "2019-12-03T20:13:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r353385158",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/353385158"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17633#discussion_r353385158"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17633"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/353385158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 105,
    "original_line": 105,
    "side": "RIGHT"
  }
]