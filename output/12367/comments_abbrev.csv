TheBlueMatt,2018-02-06T19:30:39Z,"Added comments at @ryanofsky's request. Also finished testing successive exit-after-N-ShutdownRequested()-calls tests with empty-datadir-start, genesis-block-only-datadir-start, start-with-some-blocks, reindex and reindex-chainstate and turned up no additional issues.",https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363537816,363537816,
laanwj,2018-02-06T19:49:04Z,@TheBlueMatt You haven't addressed my comment it seems.,https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363543389,363543389,
TheBlueMatt,2018-02-06T20:14:23Z,"@laanwj ah, thanks, github seems to have eaten your comment (I can only see it in the email feed)...fixed anyway.",https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363550734,363550734,
jonasschnelli,2018-02-07T05:46:23Z,utACK dd2de47c6288654abb2c3eef29edcd1cc5f39fc9,https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363664008,363664008,
laanwj,2018-02-07T09:29:21Z,utACK dd2de47,https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363708931,363708931,
meshcollider,2018-02-07T22:04:03Z,utACK https://github.com/bitcoin/bitcoin/pull/12367/commits/dd2de47c6288654abb2c3eef29edcd1cc5f39fc9,https://github.com/bitcoin/bitcoin/pull/12367#issuecomment-363926313,363926313,
ryanofsky,2018-02-06T18:49:44Z,"In commit ""Fix fast-shutdown hang on ThreadImport+GenesisWait""\n\nCan you add comment explaining why timeout is needed here and wait() is not sufficient?\n\n",https://github.com/bitcoin/bitcoin/pull/12367#discussion_r166404352,166404352,src/init.cpp
ryanofsky,2018-02-06T19:00:07Z,"In commit ""Fix fast-shutdown crash if genesis block was not loaded""\n\nWould add short comment here like ""Only allow shutting down *after* calling ActivateBestChainStep to avoid problems with shutdown code assuming there is a known best block.""\n\nIt'd seem cleaner to just fix the broken flush code (and also probably easier to write a unit test for), but I realise you are trying to implement a",https://github.com/bitcoin/bitcoin/pull/12367#discussion_r166407459,166407459,src/validation.cpp
laanwj,2018-02-06T19:28:20Z,"So this means that if ShutdownRequested() is set it will fall out of this loop, without a genesis block. Don't we also have to make sure that AppInitMain() immediately exits (with false) in that case? Looks like an error waiting to happen if it proceeds the initialization without genesis block.",https://github.com/bitcoin/bitcoin/pull/12367#discussion_r166416145,166416145,src/init.cpp
