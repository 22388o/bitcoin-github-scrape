luke-jr,2013-11-22T11:43:38Z,I think it makes sense to leave it alone until we have floating fees. (I don't feel strongly about this)\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29066824,29066824,
laanwj,2013-11-22T12:04:18Z,"@luke-jr I think that depends on whether floating fees make it into 0.9. If not, then this could be a stopgap until the 0.10 release...\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29067820,29067820,
mikehearn,2013-11-22T12:12:49Z,"Yeah. My gut sense is that smartfees might not really be widely deployed until EOQ1 next year (March/April time, perhaps). The existing code isn't even merged yet, then we need to find a solution for SPV clients, and then it will take a couple of months or more for most nodes and wallets to upgrade to the new protocol. Also smartfees would currently result in the fees going UP rather than down, wh",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29068226,29068226,
petertodd,2013-11-25T10:10:02Z,"@mikehearn Have you confirmed support from major pools? As eleuthria of BTC Guild pointed out earlier if transactions aren't being removed from the mempool that itself impacts block propagation and increases orphan rates: https://bitcointalk.org/index.php?topic=338452.msg3670185#msg3670185\n\n""Fees used to be much lower than they are now"" <- The orphan-cost is denominated in BTC not fiat; fees hav",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29189698,29189698,
mikehearn,2013-11-26T10:57:33Z,"@gavinandresen - right, fixed.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29283313,29283313,
wtogami,2013-11-26T11:16:10Z,"Is the ""Merge branch 'master' of https://github.com/bitcoin/bitcoin"" commit intended for this PR?\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29284380,29284380,
mikehearn,2013-11-26T11:57:28Z,"No, grr, git can be confusing sometimes. Fixed now. For some reason I have a little ghost next to my commits too - bizarre.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29286577,29286577,
BitcoinPullTester,2013-11-26T12:17:53Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/6a4c196dd64da2fd33dc7ae77a8cdd3e4cf0eff1 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29287704,29287704,
wtogami,2013-11-26T12:46:56Z,Early in Litecoin 0.8.x dev we tested dropping minrelaytxfee in one release with the intent to allow that lower fee to be relayed safely before the next release that would reduce the mintxfee.  To our surprise we found that insufficient fee tx were being included in the mempool and being mined despite an insufficient fee.  Are you sure this won't happen here for 0.8.6?\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29289338,29289338,
mikehearn,2013-11-26T13:17:45Z,Insufficient fee in what sense? The relay fee controls what makes it across the network and the mining code will simply order by whatever fees are attached. So that behaviour is what I'd expect to see. The other value controls what the client will produce.\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29291127,29291127,
wtogami,2013-11-26T19:28:08Z,@mikehearn Oh!  I just misunderstood how it is supposed to work.\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29323656,29323656,
gavinandresen,2013-11-27T02:45:40Z,"I'm having second thoughts on this.\n\nThe block-creation code uses CTransaction::nMinTxFee, aka -mintxfee, to decide when to stop adding transactions to the block.\n\nSo the likely result of this change will be nodes running with defaults will have memory pools that fill up with transactions paying between 1,000 and 10,000 satoshis/kilobyte.\n\nThe mining code should probably change to use CTrans",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29356119,29356119,
mikehearn,2013-11-27T10:32:18Z,"Right, txns with a fee less than nMinTxFee are treated the same as ""free"".\n\nIs there a downside to simply removing that check entirely? Transactons < nMinRelayTxFee wouldn't enter the mempool in order to be considered for block inclusion at all, right?\n\nAnyway - such a change is a different patch / pull req. @gavinandresen ACK for this change?\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29374257,29374257,
petertodd,2013-11-27T10:35:06Z,@mikehearn Removing what check exatly?\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29374412,29374412,
mikehearn,2013-11-27T10:42:22Z,"Oh, never mind. Dumb idea, forget it. I keep forgetting that free transactions are special cased everywhere. The ""min relay fee"" is not really what it claims to be. More stuff that could be simplified.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29374852,29374852,
wtogami,2013-11-27T10:50:22Z,"The underlying concern here is the chicken and egg problem of deploying a major fee reduction where the early adopters risk stuck transactions.  Due to the random 8 outgoing connections, it really only works if a sufficiently large portion of the network allows relaying of the new lower fee.\n\nWould this work to avoid this issue?\n\nif (all 8 random outgoing connection peers are < 0.8.6) {\n  dis",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29375365,29375365,
gmaxwell,2013-11-27T11:10:02Z,"@wtogami  Ah. No. Dropping peers based on version numbers creates potential network partitioning risks that are hard to analyze.  When originally faced with the ""wallet / relay / mining"" behavior we split fee logic to have separate knobs to control wallet vs relay, so we could lower relay first. Doing that is completely smooth but not fast.\n\nIt's arguable if mining should follow the relay behavi",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29376519,29376519,
wtogami,2013-11-27T11:20:07Z,"@gmaxwell \nThe disconnect logic would be a special case.  Yes, it can be sybiled, but given this logic only disconnects one peer until it finds an apparent 0.8.6+, is this any worse than the current situation where nodes have no chance of finding a capable peer if they had bad luck on their initial random selection?\n\nThis logic is an improvement to the fallback default.  Power users need not re",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29377069,29377069,
mikehearn,2013-11-27T14:33:07Z,"We've done fee drops like this before, so I don't think it needs to be complicated. Gavin is right that we should simplify the rules, but it's a separate commit/review thread.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29388201,29388201,
gavinandresen,2013-11-27T22:46:53Z,I spent a good chunk of time of yesterday thinking really hard about fees moving forward:\n  https://gist.github.com/gavinandresen/7670433\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29426630,29426630,
mikehearn,2013-11-28T10:25:54Z,"I didn't see drop fees under 0.8.6 changes - is that intentional? I really think we need an interim solution here. We're seeing more and more people choose deliberately to send transactions with no fee attached at all, and then get upset because their tx takes forever to confirm. Also I think we're going to need a solution for SPV nodes in 0.9, even if it's not a particularly amazing one (like jus",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29453965,29453965,
gavinandresen,2013-11-28T10:28:53Z,"Yes, not dropping default fees in 0.8.6 is intentional; it won't help if there is no room for lower-fee-transactions in blocks (and  from what I see, there isn't, we've already got competition for the free/fee-paying space).\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29454109,29454109,
gmaxwell,2013-11-28T10:33:32Z,> We're seeing more and more people choose deliberately to send transactions with no fee attached at all\n\nI'm confused by this statement. A low fee is never worse than no feeâ€” its just sometimes no better.\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29454397,29454397,
mikehearn,2013-11-28T10:44:26Z,"But 0.8.6 is also going to make the default block size bigger (though not by any useful amount). So if the blocks got bigger then that should impose a downward pressure on fees. It won't do that if the network still has a hard-coded rule that's far too high.\n\nDropping relay fees is the right thing to do - wallets are free to still set higher fees if needed to get into blocks, and if miners wish ",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29455052,29455052,
gavinandresen,2013-11-28T11:29:33Z,"""hard-coded rule that is far too high"" -- according to all the calculations I've seen, and according to my watch-which-transactions-are-mined-fee-estimation-code, the hard-coded rule is too LOW right now.\n\nLowering the relay fee has two risks that I see:  filling up memory with a bloated mempool of transactions that we'll never mine.  And, because the 'dust' rule is computed based on the relay f",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29457404,29457404,
mikehearn,2013-11-28T11:41:14Z,"I think we all agree floating fees are great and can't come soon enough .... the question is just one of what we do in the interim period.\n\nThese discussions are complicated because of the differing frames of reference. When I said the fees are far too high, my frame of reference is ""what is a reasonable cost in dollars given what Bitcoin transactions used to cost"". Given that the cost of bandwi",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29458060,29458060,
mikehearn,2013-11-28T12:06:53Z,"Oh yeah, one other thing about 0.9/floating fees  - if upgrading to a wallet that supports floating fees means suddenly transactions start costing a lot more, then a lot of users just won't upgrade if their existing transactions are ""working"". Because ""working"" means whatever merchants accept, and most merchants want to accept payment as fast as possible, this means in practice if a lot of users d",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-29459340,29459340,
jgarzik,2014-02-24T17:24:08Z,ACK - I think we need this short term for 0.9\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35911062,35911062,
laanwj,2014-02-24T17:47:13Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35913649,35913649,
gavinandresen,2014-02-24T17:57:23Z,ACK.\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35914793,35914793,
sipa,2014-02-24T21:17:23Z,"Is there any reason to assume this will help? My information is limited, but it was my impression that most fee-paying transactions already need to compete for block space?\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35939324,35939324,
jgarzik,2014-02-24T21:36:53Z,"Competing for space is fine...    The transactions must first be relayed in order to compete for space.  [vendor hat: on] BitPay definitely saw several examples of transactions which the network never relayed to our boundary nodes, yet we were able to get confirmed within 24 hours by directly pushing to some miner nodes (after manually getting the user to send support a hexdump).\n\nThe min-relay ",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35942073,35942073,
super3,2014-02-25T00:18:21Z,"Although it would may unnecessary code complexity, part of me would like to see linearly reducing fees over a time period. If what @gavinandresen said about the mempool and TXOUT attacks happens, we could see that over time and fix it before any real problems occurred. If the drop is gradual may also address some the concerns that @wtogami posed.\n\n@mikehearn Agree that higher floating fees might",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35960175,35960175,
sipa,2014-02-25T00:30:01Z,I doubt this change will affect many transactions at all. \n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35961014,35961014,
petertodd,2014-02-25T02:49:07Z,"@sipa Well, it'll affect all transactions given the obvious low-risk DoS attack it opens up.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-35969482,35969482,
mikehearn,2014-03-04T11:56:04Z,"After reading the 0.9rc2 release notes, I noticed that nobody ever adjusted the mining code to use nMinRelayFee for considering free transactions as Gavin suggested. This means miners will still consider transactions with the fee drop applied to be ""free"" which in turn would make them useless and mean it's not really possible to actually pay less fee, negating the point.\n\nI suspect a communicati",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-36617068,36617068,
luke-jr,2014-03-04T16:50:21Z,@mikehearn Miners should not be running mainline code with defaults in any case. They are expected to set their own transaction acceptance policies.\n,https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-36646188,36646188,
gavinandresen,2014-03-05T00:37:45Z,"I think the mining code should use min(txfee, relaytxfee) as the ""less than\nthis: treat it as free"" amount.\n\nAnd I agree, we should do a 0.9.0rc3 (when I'm back at a computer that can\ncodesign and gitian-build releases).\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-36697481,36697481,
pgrigor,2014-05-20T20:35:22Z,"At the risk of cross-spamming this idea:\n\nI've been thinking about the future direction for fees a lot and had the following idea: What if the amount of fees somehow affected, on a block-by-block basis, the difficulty for that block? This idea would require a hard fork but the more I think about it the more it appeals to me. I call it ""weighted per-block difficulty.""\n\nThe basic gist of it is:\",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-43679295,43679295,
super3,2014-05-21T21:13:27Z,"Certainly an interesting idea, but I personally don't feel like its worth the code complexity and effort. While it does provide an incentive the behavior we want, you loose me at ""hard fork."" I don't think its worth the disruption to the core Bitcoin network. \n\nI would like, however, like to see an implementation of this in some coin.\n",https://github.com/bitcoin/bitcoin/pull/3305#issuecomment-43814873,43814873,
gavinandresen,2013-11-25T22:38:41Z,"We can't just drop nMinTxFee, or early adopters will end up with stuck transactions before enough miners/relay nodes have upgraded.\n\nDropping nMinRelayTxFee for the 0.8.6 release is a good idea.\n",https://github.com/bitcoin/bitcoin/pull/3305#discussion_r7908228,7908228,src/main.cpp
wtogami,2013-11-25T22:53:19Z,Litecoin's ugly hack for dropping mintxfee was to temporarily suggest users addnode a decentralized group of interconnected supernodes.  Within days of that deployment people were reasonably OK without it as long as they checked getpeerinfo for sufficient peer versions.  With p2pool nodes hastening rollout it really wasn't too bad.\n,https://github.com/bitcoin/bitcoin/pull/3305#discussion_r7908739,7908739,src/main.cpp
