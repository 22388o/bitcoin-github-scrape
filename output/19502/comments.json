[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657373763",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-657373763",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 657373763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzM3Mzc2Mw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T05:52:52Z",
    "updated_at": "2020-11-06T10:24:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20275 (wallet: List SQLite wallets in non-SQLite builds by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657373763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657953915",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-657953915",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 657953915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Nzk1MzkxNQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-14T04:05:54Z",
    "updated_at": "2020-07-14T04:05:54Z",
    "author_association": "MEMBER",
    "body": "ACK 4f0cbc4",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657953915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707202800",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707202800",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 707202800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzIwMjgwMA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-12T15:53:29Z",
    "updated_at": "2020-10-12T15:53:29Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707202800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707573444",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707573444",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 707573444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzU3MzQ0NA==",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?u=599ab1f4da03ca95d97224c2c2431a52e938d24e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-13T08:14:21Z",
    "updated_at": "2020-10-13T08:14:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "nit: Before merge please note; this  ( #19502 and  ( #20080  or #19933 ) should merged together, since they vice versa would create new issues, like shorted wallet names.\r\n\r\nIf we have boost cononical best first #20080 and then this.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707573444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707696358",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707696358",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 707696358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzY5NjM1OA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-13T12:11:27Z",
    "updated_at": "2020-10-13T12:11:27Z",
    "author_association": "MEMBER",
    "body": "I don't see what new issues (aside from rebasing) would be created by merging them separately?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707696358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707916707",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-707916707",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 707916707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzkxNjcwNw==",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?u=599ab1f4da03ca95d97224c2c2431a52e938d24e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-13T18:07:28Z",
    "updated_at": "2020-10-14T17:17:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I don't see what new issues (aside from rebasing) would be created by merging them separately?\r\n\r\niirc this a fix for the boost link problem and  ( evil wallet ) and makes #18095 obsolete.  \r\n\r\n\u0336B\u0336u\u0336t\u0336 \u0336i\u0336f\u0336 \u0336t\u0336h\u0336i\u0336s\u0336 \u0336g\u0336e\u0336t\u0336 \u0336m\u0336e\u0336r\u0336g\u0336e\u0336d\u0336 \u0336f\u0336i\u0336r\u0336s\u0336t\u0336,\u0336 \u0336t\u0336h\u0336e\u0336n\u0336 \u0336r\u0336e\u0336a\u0336l\u0336 \u0336s\u0336h\u0336o\u0336r\u0336t\u0336 \u0336f\u0336i\u0336l\u0336e\u0336n\u0336a\u0336m\u0336e\u0336s\u0336 \u0336w\u0336a\u0336l\u0336l\u0336e\u0336t\u0336s\u0336 \u0336f\u0336r\u0336o\u0336m\u0336 \u0336t\u0336h\u0336e\u0336 \u0336l\u0336a\u0336t\u0336e\u0336r\u0336 \u0336f\u0336o\u0336u\u0336n\u0336d\u0336 \u0336b\u0336u\u0336g\u0336 \u0336c\u0336o\u0336u\u0336l\u0336d\u0336 \u0336b\u0336e\u0336 \u0336c\u0336r\u0336e\u0336a\u0336t\u0336e\u0336d\u0336 \u0336f\u0336r\u0336o\u0336m\u0336 \u0336a\u0336 \u0336b\u0336o\u0336g\u0336u\u0336s\u0336 \u0336d\u0336i\u0336r\u0336n\u0336a\u0336m\u0336e\u0336 \u0336o\u0336n\u0336 \u0336d\u0336i\u0336s\u0336k\u0336 \u0336f\u0336o\u0336r\u0336 \u0336r\u0336e\u0336a\u0336l\u0336.\u0336",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707916707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708387197",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-708387197",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 708387197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODM4NzE5Nw==",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?u=599ab1f4da03ca95d97224c2c2431a52e938d24e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-14T13:02:53Z",
    "updated_at": "2020-10-14T13:02:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "> But if this get merged first, then real short filenames wallets from the later found bug could be created from a bogus dirname on disk for real.\r\n\r\n@luke-jr \r\nRechecked complies from the sources:  To open non exitsting files,  is no longer the case with current master and knots so no merge sequence preferences here any longer. Was only a problem short after those errors where found and exits only if direct on top of last releases before/= 0.20 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708387197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709545767",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-709545767",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 709545767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTU0NTc2Nw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T19:33:22Z",
    "updated_at": "2020-10-15T19:33:22Z",
    "author_association": "MEMBER",
    "body": "Rebased again",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709545767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/713165606",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-713165606",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 713165606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxMzE2NTYwNg==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-20T22:01:52Z",
    "updated_at": "2020-10-20T22:01:52Z",
    "author_association": "MEMBER",
    "body": "I revoke my ACK as this change makes possible an infinity loop.\r\nTo reproduce the bug, one could create a directory without access permissions, e.g.:\r\n```\r\n$ ls -l /home/hebasto/bitcoin-data-dir/wallets\r\ntotal 1456\r\ndrwx------ 3 hebasto hebasto    4096 Oct  3 11:16 20191109-main\r\ndrwx------ 2 root    root       4096 Oct 20 23:58 crash\r\n-rw-r--r-- 1 hebasto hebasto       0 Mar  5  2020 db.log\r\ndrwx------ 3 hebasto hebasto    4096 Oct 20 23:56 w20201015.bdb\r\ndrwx------ 3 hebasto hebasto    4096 Oct 20 23:56 w20201015.desc\r\n-rw-r----- 1 hebasto hebasto 1474560 Sep 12 16:08 wallet.dat\r\n```\r\n\r\nI suggest to combine into this PR the approach from #18095: https://github.com/bitcoin/bitcoin/blob/6904a309194c7ddf5a071d43e6c2bf892e8fe396/src/wallet/walletutil.cpp#L42-L53\r\nwith credits to @uhliksk",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/713165606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718959641",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-718959641",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 718959641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODk1OTY0MQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T19:04:28Z",
    "updated_at": "2020-10-29T19:04:28Z",
    "author_association": "MEMBER",
    "body": "@hebasto Couldn't reproduce, but it did cause listwallets to miss other wallets. Added a fix and test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/718959641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/719004065",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#issuecomment-719004065",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19502",
    "id": 719004065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTAwNDA2NQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T20:31:20Z",
    "updated_at": "2020-10-29T20:31:20Z",
    "author_association": "MEMBER",
    "body": "Tested 49cc6919c4f9ef5a33ad5948a1b43496b454fab0, still able to reproduce an infinite loop:\r\n```\r\ncd <path-to-wallet-dir>\r\nsudo mkdir crash\r\nsudo chown 0700 crash\r\n```\r\n\r\nthen start a node, and initiate a `ListWalletDir` call in any way.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/719004065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453447710",
    "pull_request_review_id": 446995919,
    "id": 453447710,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ0NzcxMA==",
    "diff_hunk": "@@ -50,6 +50,11 @@ def wallet_file(name):\n         os.mkdir(wallet_dir('w7'))\n         os.symlink('w7', wallet_dir('w7_symlink'))\n \n+        os.symlink('..', wallet_dir('recursive_dir_symlink'))\n+\n+        os.mkdir(wallet_dir('self_walletdat_symlink'))\n+        os.symlink('wallet.dat', wallet_dir('self_walletdat_symlink/wallet.dat'))",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 15,
    "original_position": 7,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "bca838d38c54f3df3c85da54e23857f06f07c6bb",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Verified that this does cause the test to fail at line 79 without the changes in this PR.\r\n\r\nCould also assert that the new logging is taking place with this at line 79 or just after:\r\n```python3\r\nwith self.nodes[0].assert_debug_log(expected_msgs=['Too many levels of symbolic links', 'Error scanning']):\r\n    self.nodes[0].listwalletdir()['wallets']\r\n```",
    "created_at": "2020-07-13T05:49:34Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453447710",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453447710"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453447710"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453447710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 85,
    "original_line": 85,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453449135",
    "pull_request_review_id": 446997501,
    "id": 453449135,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ0OTEzNQ==",
    "diff_hunk": "@@ -50,6 +50,11 @@ def wallet_file(name):\n         os.mkdir(wallet_dir('w7'))\n         os.symlink('w7', wallet_dir('w7_symlink'))\n \n+        os.symlink('..', wallet_dir('recursive_dir_symlink'))\n+\n+        os.mkdir(wallet_dir('self_walletdat_symlink'))\n+        os.symlink('wallet.dat', wallet_dir('self_walletdat_symlink/wallet.dat'))",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 15,
    "original_position": 7,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "bca838d38c54f3df3c85da54e23857f06f07c6bb",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(or combined with the existing line 79 to share the same listwalletdir call)\r\n```diff\r\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), ['', os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\r\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Too many levels of symbolic links', 'Error scanning']):\r\n+            list = self.nodes[0].listwalletdir()['wallets']\r\n+        assert_equal(sorted(map(lambda w: w['name'], list)), ['', os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\r\n```",
    "created_at": "2020-07-13T05:54:38Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453449135",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453449135"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r453449135"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/453449135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 85,
    "original_line": 85,
    "side": "RIGHT",
    "in_reply_to_id": 453447710
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514562067",
    "pull_request_review_id": 520076036,
    "id": 514562067,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU2MjA2Nw==",
    "diff_hunk": "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 27,
    "original_position": 27,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "44c0bc31f4fadc932877d9764402644c84f3be4c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "44c0bc31f4fadc932877d9764402644c84f3be4c\r\n\r\nIf this line is commented out, the test still passing.",
    "created_at": "2020-10-29T20:57:33Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514562067",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514562067"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514562067"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514562067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 128,
    "original_line": 128,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514574906",
    "pull_request_review_id": 520096776,
    "id": 514574906,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3NDkwNg==",
    "diff_hunk": "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 27,
    "original_position": 27,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "44c0bc31f4fadc932877d9764402644c84f3be4c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "???",
    "created_at": "2020-10-29T21:21:04Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514574906",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514574906"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514574906"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514574906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 128,
    "original_line": 128,
    "side": "RIGHT",
    "in_reply_to_id": 514562067
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514579270",
    "pull_request_review_id": 520102597,
    "id": 514579270,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDU3OTI3MA==",
    "diff_hunk": "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 27,
    "original_position": 27,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "44c0bc31f4fadc932877d9764402644c84f3be4c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If initial state is changed, i.e., the `no_access` directory actually has access, the test should fail, right?",
    "created_at": "2020-10-29T21:29:25Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514579270",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514579270"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514579270"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514579270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 128,
    "original_line": 128,
    "side": "RIGHT",
    "in_reply_to_id": 514562067
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514662450",
    "pull_request_review_id": 520308293,
    "id": 514662450,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDY2MjQ1MA==",
    "diff_hunk": "@@ -109,7 +115,16 @@ def wallet_file(name):\n             self.nodes[0].createwallet(wallet_name, descriptors=False)\n         for wallet_name in wallet_names[-2:]:\n             self.nodes[0].loadwallet(wallet_name)\n-        assert_equal(sorted(map(lambda w: w['name'], self.nodes[0].listwalletdir()['wallets'])), [self.default_wallet_name, os.path.join('sub', 'w5'), 'w', 'w1', 'w2', 'w3', 'w7', 'w7_symlink', 'w8'])\n+\n+        os.mkdir(wallet_dir('no_access'))\n+        os.chmod(wallet_dir('no_access'), 0)",
    "path": "test/functional/wallet_multiwallet.py",
    "position": 27,
    "original_position": 27,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "44c0bc31f4fadc932877d9764402644c84f3be4c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No, it's just there to make sure it doesn't break things. We're testing bitcoind, not the OS...\r\n\r\n(And in fact, chmod won't work to deny read access on Windows)",
    "created_at": "2020-10-30T01:21:39Z",
    "updated_at": "2020-11-06T04:36:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514662450",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514662450"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r514662450"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/514662450/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 128,
    "original_line": 128,
    "side": "RIGHT",
    "in_reply_to_id": 514562067
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/519171061",
    "pull_request_review_id": 525648847,
    "id": 519171061,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE3MTA2MQ==",
    "diff_hunk": "@@ -49,26 +49,31 @@ std::vector<fs::path> ListWalletDir()\n             continue;\n         }\n \n-        // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n-        // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n-        const fs::path path = it->path().string().substr(offset);\n+        try {\n+            // Get wallet path relative to walletdir by removing walletdir from the wallet path.\n+            // This can be replaced by boost::filesystem::lexically_relative once boost is bumped to 1.60.\n+            const fs::path path = it->path().string().substr(offset);\n \n-        if (it->status().type() == fs::directory_file &&\n-            (ExistsBerkeleyDatabase(it->path()) || ExistsSQLiteDatabase(it->path()))) {\n-            // Found a directory which contains wallet.dat btree file, add it as a wallet.\n-            paths.emplace_back(path);\n-        } else if (it.level() == 0 && it->symlink_status().type() == fs::regular_file && ExistsBerkeleyDatabase(it->path())) {\n-            if (it->path().filename() == \"wallet.dat\") {\n-                // Found top-level wallet.dat btree file, add top level directory \"\"\n-                // as a wallet.\n-                paths.emplace_back();\n-            } else {\n-                // Found top-level btree file not called wallet.dat. Current bitcoin\n-                // software will never create these files but will allow them to be\n-                // opened in a shared database environment for backwards compatibility.\n-                // Add it to the list of available wallets.\n+            if (it->status().type() == fs::directory_file &&\n+                (ExistsBerkeleyDatabase(it->path()) || ExistsSQLiteDatabase(it->path()))) {\n+                // Found a directory which contains wallet.dat btree file, add it as a wallet.\n                 paths.emplace_back(path);\n+            } else if (it.level() == 0 && it->symlink_status().type() == fs::regular_file && ExistsBerkeleyDatabase(it->path())) {\n+                if (it->path().filename() == \"wallet.dat\") {\n+                    // Found top-level wallet.dat btree file, add top level directory \"\"\n+                    // as a wallet.\n+                    paths.emplace_back();\n+                } else {\n+                    // Found top-level btree file not called wallet.dat. Current bitcoin\n+                    // software will never create these files but will allow them to be\n+                    // opened in a shared database environment for backwards compatibility.\n+                    // Add it to the list of available wallets.\n+                    paths.emplace_back(path);\n+                }\n             }\n+        } catch (const std::exception& e) {\n+            LogPrintf(\"%s: Error scanning %s: %s\\n\", __func__, it->path().string(), e.what());\n+            it.no_push();",
    "path": "src/wallet/walletutil.cpp",
    "position": 45,
    "original_position": 45,
    "commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "original_commit_id": "24d2d3341d07509ad3f37bb6f130446ad20ac807",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nice, TIL",
    "created_at": "2020-11-07T12:09:13Z",
    "updated_at": "2020-11-07T12:18:25Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r519171061",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/519171061"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19502#discussion_r519171061"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19502"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/519171061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 76,
    "original_line": 76,
    "side": "RIGHT"
  }
]