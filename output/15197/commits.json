[
  {
    "sha": "183c54f9deeb00f520076859d9c9ad0f4a11d523",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxODNjNTRmOWRlZWIwMGY1MjAwNzY4NTlkOWM5YWQwZjRhMTFkNTIz",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2019-01-18T05:36:26Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-07T07:21:41Z"
      },
      "message": "Remove redundant message network magic check",
      "tree": {
        "sha": "39cb5b45b153522b4a5dc20d409292f5d21728e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/39cb5b45b153522b4a5dc20d409292f5d21728e6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/183c54f9deeb00f520076859d9c9ad0f4a11d523",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/183c54f9deeb00f520076859d9c9ad0f4a11d523",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/183c54f9deeb00f520076859d9c9ad0f4a11d523",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/183c54f9deeb00f520076859d9c9ad0f4a11d523/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7bcc42b4035b878719d13201286e322989b415c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bcc42b4035b878719d13201286e322989b415c5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7bcc42b4035b878719d13201286e322989b415c5"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 4,
      "deletions": 8
    },
    "files": [
      {
        "sha": "81f243586c10c3819935c4fc86ab8d8f59acc15c",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/183c54f9deeb00f520076859d9c9ad0f4a11d523/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/183c54f9deeb00f520076859d9c9ad0f4a11d523/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=183c54f9deeb00f520076859d9c9ad0f4a11d523",
        "patch": "@@ -3378,12 +3378,6 @@ bool PeerLogicValidation::ProcessMessages(CNode* pfrom, std::atomic<bool>& inter\n     CNetMessage& msg(msgs.front());\n \n     msg.SetVersion(pfrom->GetRecvVersion());\n-    // Check network magic\n-    if (!msg.m_valid_netmagic) {\n-        LogPrint(BCLog::NET, \"PROCESSMESSAGE: INVALID MESSAGESTART %s peer=%d\\n\", SanitizeString(msg.m_command), pfrom->GetId());\n-        pfrom->fDisconnect = true;\n-        return false;\n-    }\n \n     // Check header\n     if (!msg.m_valid_header)"
      },
      {
        "sha": "e5d5b7a85d50320956d74b852d93414cc37aa5a0",
        "filename": "src/protocol.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/183c54f9deeb00f520076859d9c9ad0f4a11d523/src/protocol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/183c54f9deeb00f520076859d9c9ad0f4a11d523/src/protocol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.cpp?ref=183c54f9deeb00f520076859d9c9ad0f4a11d523",
        "patch": "@@ -104,8 +104,10 @@ std::string CMessageHeader::GetCommand() const\n bool CMessageHeader::IsValid(const MessageStartChars& pchMessageStartIn) const\n {\n     // Check start string\n-    if (memcmp(pchMessageStart, pchMessageStartIn, MESSAGE_START_SIZE) != 0)\n+    if (memcmp(pchMessageStart, pchMessageStartIn, MESSAGE_START_SIZE) != 0) {\n+        LogPrint(BCLog::NET, \"INVALID MESSAGESTART %s\\n\", SanitizeString(GetCommand()));\n         return false;\n+    }\n \n     // Check the command string for errors\n     for (const char* p1 = pchCommand; p1 < pchCommand + COMMAND_SIZE; p1++)"
      },
      {
        "sha": "b273863c1a39ac28716f9a8475cdc077083b2bae",
        "filename": "test/functional/p2p_invalid_messages.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/183c54f9deeb00f520076859d9c9ad0f4a11d523/test/functional/p2p_invalid_messages.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/183c54f9deeb00f520076859d9c9ad0f4a11d523/test/functional/p2p_invalid_messages.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_invalid_messages.py?ref=183c54f9deeb00f520076859d9c9ad0f4a11d523",
        "patch": "@@ -157,7 +157,7 @@ async def swap_magic_bytes():\n         # we might run into races later on\n         asyncio.run_coroutine_threadsafe(swap_magic_bytes(), NetworkThread.network_event_loop).result()\n \n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: INVALID MESSAGESTART ping']):\n+        with self.nodes[0].assert_debug_log(['INVALID MESSAGESTART ping']):\n             conn.send_message(messages.msg_ping(nonce=0xff))\n             conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()"
      }
    ]
  },
  {
    "sha": "3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYTY1NzliNTRiYmVhNTY4ZDhjNzZlM2QxZmRkY2FkYjNiM2ExMThj",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2019-01-18T05:31:24Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-07T07:22:34Z"
      },
      "message": "Reject invalid headers (disconnect) during deserialization\n\n# Conflicts:\n#\tsrc/net_processing.cpp",
      "tree": {
        "sha": "5dcc3ec604886b615794c818ae628695a78867d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5dcc3ec604886b615794c818ae628695a78867d8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "183c54f9deeb00f520076859d9c9ad0f4a11d523",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/183c54f9deeb00f520076859d9c9ad0f4a11d523",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/183c54f9deeb00f520076859d9c9ad0f4a11d523"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 7,
      "deletions": 12
    },
    "files": [
      {
        "sha": "24c19ef1dfca3030b8876488fcf1220600987bf0",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "patch": "@@ -649,8 +649,9 @@ int V1TransportDeserializer::readHeader(const char *pch, unsigned int nBytes)\n         return -1;\n     }\n \n-    // reject messages larger than MAX_SIZE or MAX_PROTOCOL_MESSAGE_LENGTH\n-    if (hdr.nMessageSize > MAX_SIZE || hdr.nMessageSize > MAX_PROTOCOL_MESSAGE_LENGTH) {\n+    // reject if message has an invalid header\n+    if (!hdr.IsValid(Params().MessageStart())) {\n+        LogPrint(BCLog::NET, \"INVALID HEADER DETECTED\\n\");\n         return -1;\n     }\n "
      },
      {
        "sha": "23659bc98cbabcdaf5b48a15d52945caf9805db2",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 6,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "patch": "@@ -3379,12 +3379,6 @@ bool PeerLogicValidation::ProcessMessages(CNode* pfrom, std::atomic<bool>& inter\n \n     msg.SetVersion(pfrom->GetRecvVersion());\n \n-    // Check header\n-    if (!msg.m_valid_header)\n-    {\n-        LogPrint(BCLog::NET, \"PROCESSMESSAGE: ERRORS IN HEADER %s peer=%d\\n\", SanitizeString(msg.m_command), pfrom->GetId());\n-        return fMoreWork;\n-    }\n     const std::string& msg_type = msg.m_command;\n \n     // Message size"
      },
      {
        "sha": "6d9c7bbcd79bf68f1cc62c17728827dfc61a8367",
        "filename": "src/protocol.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/protocol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/src/protocol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.cpp?ref=3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "patch": "@@ -123,8 +123,8 @@ bool CMessageHeader::IsValid(const MessageStartChars& pchMessageStartIn) const\n             return false;\n     }\n \n-    // Message size\n-    if (nMessageSize > MAX_SIZE)\n+    // reject messages larger than MAX_SIZE or MAX_PROTOCOL_MESSAGE_LENGTH\n+    if (nMessageSize > MAX_SIZE || nMessageSize > MAX_PROTOCOL_MESSAGE_LENGTH)\n     {\n         LogPrintf(\"CMessageHeader::IsValid(): (%s, %u bytes) nMessageSize > MAX_SIZE\\n\", GetCommand(), nMessageSize);\n         return false;"
      },
      {
        "sha": "830906d52ec9afbc65378599074aa671f90cded3",
        "filename": "test/functional/p2p_invalid_messages.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/test/functional/p2p_invalid_messages.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c/test/functional/p2p_invalid_messages.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_invalid_messages.py?ref=3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "patch": "@@ -193,14 +193,14 @@ def test_size(self):\n \n     def test_msgtype(self):\n         conn = self.nodes[0].add_p2p_connection(P2PDataStore())\n-        with self.nodes[0].assert_debug_log(['PROCESSMESSAGE: ERRORS IN HEADER']):\n+        with self.nodes[0].assert_debug_log(['INVALID HEADER DETECTED']):\n             msg = msg_unrecognized(str_data=\"d\")\n             msg.msgtype = b'\\xff' * 12\n             msg = conn.build_message(msg)\n             # Modify msgtype\n             msg = msg[:7] + b'\\x00' + msg[7 + 1:]\n             self.nodes[0].p2p.send_raw_message(msg)\n-            conn.sync_with_ping(timeout=1)\n+            conn.wait_for_disconnect(timeout=1)\n             self.nodes[0].disconnect_p2ps()\n \n     def test_large_inv(self):"
      }
    ]
  },
  {
    "sha": "2fccdaf26c21af216b7323b8321d3971766ffd23",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZmNjZGFmMjZjMjFhZjIxNmI3MzIzYjgzMjFkMzk3MTc2NmZmZDIz",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-01-22T19:32:27Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-05-07T07:22:40Z"
      },
      "message": "net: Move MAX_PROTOCOL_MESSAGE_LENGTH to protocol.h",
      "tree": {
        "sha": "2eb04400bf0f8c62f74ac5d5f65ecfdac54dc5be",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2eb04400bf0f8c62f74ac5d5f65ecfdac54dc5be"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2fccdaf26c21af216b7323b8321d3971766ffd23",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2fccdaf26c21af216b7323b8321d3971766ffd23",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2fccdaf26c21af216b7323b8321d3971766ffd23",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2fccdaf26c21af216b7323b8321d3971766ffd23/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3a6579b54bbea568d8c76e3d1fddcadb3b3a118c"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "949df6160bfc76def261375c7691018cdcc6a03f",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2fccdaf26c21af216b7323b8321d3971766ffd23/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2fccdaf26c21af216b7323b8321d3971766ffd23/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=2fccdaf26c21af216b7323b8321d3971766ffd23",
        "patch": "@@ -51,8 +51,6 @@ static const int TIMEOUT_INTERVAL = 20 * 60;\n static const int FEELER_INTERVAL = 120;\n /** The maximum number of new addresses to accumulate before announcing. */\n static const unsigned int MAX_ADDR_TO_SEND = 1000;\n-/** Maximum length of incoming protocol messages (no message over 4 MB is currently acceptable). */\n-static const unsigned int MAX_PROTOCOL_MESSAGE_LENGTH = 4 * 1000 * 1000;\n /** Maximum length of the user agent string in `version` message */\n static const unsigned int MAX_SUBVERSION_LENGTH = 256;\n /** Maximum number of automatic outgoing nodes over which we'll relay everything (blocks, tx, addrs, etc) */"
      },
      {
        "sha": "521b457b8b819d0d6bbea64a3b7099aab3da076f",
        "filename": "src/protocol.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2fccdaf26c21af216b7323b8321d3971766ffd23/src/protocol.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2fccdaf26c21af216b7323b8321d3971766ffd23/src/protocol.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/protocol.h?ref=2fccdaf26c21af216b7323b8321d3971766ffd23",
        "patch": "@@ -18,6 +18,9 @@\n #include <stdint.h>\n #include <string>\n \n+/** Maximum length of incoming protocol messages (no message over 4 MB is currently acceptable). */\n+static const unsigned int MAX_PROTOCOL_MESSAGE_LENGTH = 4 * 1000 * 1000;\n+\n /** Message header.\n  * (4) message start.\n  * (12) command."
      }
    ]
  }
]