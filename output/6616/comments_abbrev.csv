MarcoFalke,2015-09-01T21:47:01Z,Don't forget to adjust https://github.com/ptschip/bitcoin/blob/all_python/qa/rpc-tests/README.md#notes and https://github.com/ptschip/bitcoin/blob/all_python/README.md as well\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-136872809,136872809,
ptschip,2015-09-01T22:11:50Z,"I'll do that\n\nI was wondering if we should move that README.md up to the /qa  folder\n...I think it would be more visible there.  I didn't even know it\nexisted until you just mentioned it.\n\nOn 01/09/2015 2:47 PM, MarcoFalke wrote:\n\n> Don't forget to adjust\n> https://github.com/ptschip/bitcoin/blob/all_python/qa/rpc-tests/README.md#notes\n> and https://github.com/ptschip/bitcoin/blob/all_py",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-136878599,136878599,
theuni,2015-09-02T02:46:04Z,"The hard-coded values are a major step backwards. File existence is a very bad metric considering that many of us often cross-compile. Also, anything that requires a certain PWD is inflexible.\n\nPlease re-add a pre-processed config file and import it from rpc-tests.py.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-136918015,136918015,
theuni,2015-09-02T17:08:31Z,"@ptschip like this:\n\n``` patch\ndiff --git a/configure.ac b/configure.ac\nindex a524bde..c0a4e54 100644\n--- a/configure.ac\n+++ b/configure.ac\n@@ -878,7 +878,7 @@ AC_SUBST(MINIUPNPC_CPPFLAGS)\n AC_SUBST(MINIUPNPC_LIBS)\n AC_CONFIG_FILES([Makefile src/Makefile share/setup.nsi share/qt/Info.plist src/test/buildenv.py])\n AC_CONFIG_FILES([qa/pull-tester/run-bitcoind-for-test.sh],[chmod +x qa/pull",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137173788,137173788,
ptschip,2015-09-02T17:19:20Z,"duh, oh yeah, that's good, i was wondering how to get rid of\ntests.config.sh..\n\nOn 02/09/2015 10:09 AM, Cory Fields wrote:\n\n> @ptschip https://github.com/ptschip like this:\n> \n> diff --git a/configure.ac b/configure.ac\n> index a524bde..c0a4e54 100644\n> --- a/configure.ac\n> +++ b/configure.ac\n> @@ -878,7 +878,7 @@ AC_SUBST(MINIUPNPC_CPPFLAGS)\n>  AC_SUBST(MINIUPNPC_LIBS)\n>  AC_CONFIG_FI",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137177008,137177008,
ptschip,2015-09-03T02:00:30Z,@theuni   switched over to tests_config.py and imported the vars directly and the tests run fine on Travis.  However the BUILDDIR is not compatible with native windows  (ie /c/bitcoin) and is not handled well by python so I had to keep the scripting that finds the builddir.  Therefore there are a few options moving forward:  1)  Keep the scripting that finds the builddir...I made changes so that i,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137300788,137300788,
ptschip,2015-09-03T17:41:34Z,"@theuni  The path for the builddir is now correct for each system.  I put a few lines in rpc-tests.py to create the correct path if running in a mingw shell. \n\n I looked into putting it further upstream, in configure.ac when tests_config.py.in gets called, but I don't see we can override the @abs_top_builddir@ with our own function and I'm not sure what we would gain.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137523693,137523693,
theuni,2015-09-04T07:49:55Z,"@ptschip I'll be away for a few days, will review when I'm back. There are a few PRs going on parallel to this though (libevent httpd, zmq, etc) that may make sense before merging this anyway, since those things will conflict.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137670552,137670552,
ptschip,2015-09-04T21:36:02Z,@theuni Have a few good days off.  I did manage to fix the issue with the path further upstream by adding a script at the end of configure.ac in order to make the correct path edits when running in _mingw_ .\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-137858527,137858527,
MarcoFalke,2015-09-22T10:30:56Z,Looks like the last conflict is #6686. I'd say it's safe to wait until #6686 is merged before you rebase.\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-142241514,142241514,
jgarzik,2015-09-22T11:27:01Z,concept ACK\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-142259074,142259074,
laanwj,2015-09-27T18:32:31Z,tested ACK\n(but needs rebase)\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-143582943,143582943,
ptschip,2015-10-01T17:46:38Z,"@laanwj @MarcoFalke  I added the zmq tests, rebased and Travis is happy.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144798440,144798440,
ptschip,2015-10-01T17:57:11Z,@laanwj @MarcoFalke just got rid of a little whitespace...should be good after this build finishes.\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144801032,144801032,
laanwj,2015-10-01T18:12:31Z,"No need to fix all the nits in this pull, we can do those later, if you don't get around to them - probably more important to get this merged before any other changes to the test runner.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144804540,144804540,
jonasschnelli,2015-10-01T19:00:25Z,"Concept ACK.\nKeeping the **bold** output would be nice:\n\nThis works for me (and should also work on bash mingw?):\n\n``` diff\nold mode 100644\nnew mode 100755\nindex f55c5b6..8c7a6b6\n--- a/qa/pull-tester/rpc-tests.py\n+++ b/qa/pull-tester/rpc-tests.py\n@@ -101,7 +101,7 @@ if(ENABLE_WALLET == 1 and ENABLE_UTILS == 1 and ENABLE_BITCOIND == 1):\n     for i in range(len(testScripts)):\n        if",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144817165,144817165,
laanwj,2015-10-01T19:18:22Z,"@jonasschnelli That's what I proposed too, it works on Linux and OpenBSD but it doesn't on Win apparently. (outputing junk)  So it would have to be conditional.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144821538,144821538,
jonasschnelli,2015-10-01T19:31:31Z,"``` diff\n+#Set colors\n+cOn = cOff = """"\n+if (not ""-win"" in opts):\n+    cOn = ""\033[1m""\n+    cOff = ""\033[0m""\n```\n\nThen use something like: `print  ""Running testscript "" + cOn + testScripts[i] + cOff + ""...""`\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144824193,144824193,
ptschip,2015-10-01T20:45:52Z,"@laanwj  I fixed the nit regarding the ""2nd level"" and left the other for another time.  Pushed and all is well...\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144843081,144843081,
ptschip,2015-10-01T21:08:08Z,"i like the idea, but -win tests will not always be disabled (i hope)...\n\nso it would have to be something operating specific like\n\n+#Set colors\n+cOn = cOff = """"\n+if (os.name == 'posix'):\n-    cOn = '\033[1m'\n-    cOff = '\033[0m'\n\n(oddly python needs the double \ for a ) \n\nIf this is ok, i'll add it and push.\n\nOn 01/10/2015 12:32 PM, Jonas Schnelli wrote:\n\n> +#Set colors\n> +cOn = ",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144850578,144850578,
btcdrak,2015-10-01T21:12:51Z,"@ptschip This PR is now merged, any new changes would have to be in a new branch + PR\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-144852054,144852054,
mruddy,2015-10-03T11:51:17Z,might want to update https://github.com/bitcoin/bitcoin/blob/master/README.md#automated-testing\n,https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-145242415,145242415,
ptschip,2015-10-03T15:07:57Z,"thanks, that one got missed....updated and new PR created.\n\nOn 03/10/2015 4:51 AM, mruddy wrote:\n\n> might want to update\n> https://github.com/bitcoin/bitcoin/blob/master/README.md#automated-testing\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-145242415.\n",https://github.com/bitcoin/bitcoin/pull/6616#issuecomment-145255591,145255591,
MarcoFalke,2015-09-03T18:07:41Z,"Make sure to get the backticks ` right. (L44 as well)\n\nAlso, https://github.com/ptschip/bitcoin/blob/all_python/README.md#automated-testing needs update?\n",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r38677104,38677104,qa/rpc-tests/README.md
ptschip,2015-09-03T18:20:01Z,"thanks, done both\n\nOn 03/09/2015 11:08 AM, MarcoFalke wrote:\n\n> In qa/rpc-tests/README.md\n> https://github.com/bitcoin/bitcoin/pull/6616#discussion_r38677104:\n> \n> > @@ -37,9 +37,13 @@ Helper functions for creating blocks and transactions.\n> >  Notes\n> >  =====\n> > \n> > -You can run a single test by calling `qa/pull-tester/rpc-tests.sh <testname>`.\n> > +You can run any single test by c",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r38678682,38678682,qa/rpc-tests/README.md
laanwj,2015-10-01T18:09:09Z,"Nit: I think having the testscript name in bold was nice:\n\n```\nprint  ""Running testscript \033[1m"" + testScripts[i] + ""\033[0m..."" \n```\n",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40946395,40946395,qa/pull-tester/rpc-tests.py
laanwj,2015-10-01T18:10:08Z,"Nit: do we still want to call this ""2nd level testscript""?\n\n```\necho -e ""Running \033[1m2nd level\033[0m testscript \033[1m${testScriptsExt[$i]}...\033[0m""\n```\n",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40946519,40946519,qa/pull-tester/rpc-tests.py
ptschip,2015-10-01T18:27:25Z,"I've tried, tried double and triple and quadruple escaping that python\nusually needs, and also tried the termcolor module.  It doesn't work\nfrom python and in a ""mingw"" shell.  It will probably work on a native\nunix shell but I can't test that out as I'm on Windows.  Any suggestions\nwelcome...\n\nOn 01/10/2015 11:09 AM, Wladimir J. van der Laan wrote:\n\n> In qa/pull-tester/rpc-tests.py\n> htt",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40948591,40948591,qa/pull-tester/rpc-tests.py
ptschip,2015-10-01T18:27:37Z,"i'll fix that and push.\n\nOn 01/10/2015 11:10 AM, Wladimir J. van der Laan wrote:\n\n> In qa/pull-tester/rpc-tests.py\n> https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40946519:\n> \n> > -    #Run Tests\n> > -    for i in range(len(testScripts)):\n> > -       if (len(opts) == 0 or (len(opts) == 1 and ""-win"" in opts ) or '-extended' in opts \n> > -           or testScripts[i] in opts or ",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40948620,40948620,qa/pull-tester/rpc-tests.py
laanwj,2015-10-01T18:39:12Z,"> I've tried, tried double and triple and quadruple escaping that python\n> usually needs, and also tried the termcolor module.  It doesn't work\n> from python and in a ""mingw"" shell.  It will probably work on a native\n> unix shell but I can't test that out as I'm on Windows.  Any suggestions\n> welcome...\n\nOk, no problem, then leave it like this. Escape-code based formatting probably doesn't w",https://github.com/bitcoin/bitcoin/pull/6616#discussion_r40950102,40950102,qa/pull-tester/rpc-tests.py
