[
  {
    "sha": "29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyOWM5YmRjYzE0MWFmYjE0ZmM5ZTEyMTNmNDlkZTRmY2RlZDZjZTBj",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2018-05-02T10:12:55Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2018-05-02T10:12:55Z"
      },
      "message": "Handle unsuccessful fseek(...):s",
      "tree": {
        "sha": "cc332a0390a37bbbc01fbaf098bde75eab166de6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cc332a0390a37bbbc01fbaf098bde75eab166de6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "57c57df86f14874cfc4b280e04a7f44b19839c26",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/57c57df86f14874cfc4b280e04a7f44b19839c26",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/57c57df86f14874cfc4b280e04a7f44b19839c26"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 10,
      "deletions": 3
    },
    "files": [
      {
        "sha": "ad1682c9cfa37a4b1dc074ff717bb449e5859fa7",
        "filename": "src/index/txindex.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/index/txindex.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/index/txindex.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/index/txindex.cpp?ref=29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
        "patch": "@@ -268,7 +268,9 @@ bool TxIndex::FindTx(const uint256& tx_hash, uint256& block_hash, CTransactionRe\n     CBlockHeader header;\n     try {\n         file >> header;\n-        fseek(file.Get(), postx.nTxOffset, SEEK_CUR);\n+        if (fseek(file.Get(), postx.nTxOffset, SEEK_CUR)) {\n+            return error(\"%s: fseek(...) failed\", __func__);\n+        }\n         file >> tx;\n     } catch (const std::exception& e) {\n         return error(\"%s: Deserialize or I/O error - %s\", __func__, e.what());"
      },
      {
        "sha": "2a55d3665bb4795c7ba44ffa90fd2b91d6f36e0c",
        "filename": "src/logging.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/logging.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/logging.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/logging.cpp?ref=29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
        "patch": "@@ -254,7 +254,10 @@ void BCLog::Logger::ShrinkDebugFile()\n     {\n         // Restart the file with some of the end\n         std::vector<char> vch(RECENT_DEBUG_HISTORY_SIZE, 0);\n-        fseek(file, -((long)vch.size()), SEEK_END);\n+        if (fseek(file, -((long)vch.size()), SEEK_END)) {\n+            fclose(file);\n+            return;\n+        }\n         int nBytes = fread(vch.data(), 1, vch.size(), file);\n         fclose(file);\n "
      },
      {
        "sha": "b4d0a61ab2734c96d1bf8757b5cb563427061d15",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
        "patch": "@@ -887,7 +887,9 @@ void AllocateFileRange(FILE *file, unsigned int offset, unsigned int length) {\n     // Fallback version\n     // TODO: just write one byte per block\n     static const char buf[65536] = {};\n-    fseek(file, offset, SEEK_SET);\n+    if (fseek(file, offset, SEEK_SET)) {\n+        return;\n+    }\n     while (length > 0) {\n         unsigned int now = 65536;\n         if (length < now)"
      }
    ]
  },
  {
    "sha": "20ce5af4c647d9ebd97b40683bd0747383c9dc20",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMGNlNWFmNGM2NDdkOWViZDk3YjQwNjgzYmQwNzQ3MzgzYzlkYzIw",
    "commit": {
      "author": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2018-05-03T13:44:04Z"
      },
      "committer": {
        "name": "practicalswift",
        "email": "practicalswift@users.noreply.github.com",
        "date": "2018-05-03T13:44:04Z"
      },
      "message": "Print a log message if we fail to shrink the debug log file",
      "tree": {
        "sha": "3ab83eb664539307ecff60ae6c7e0aae148eaca9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3ab83eb664539307ecff60ae6c7e0aae148eaca9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/20ce5af4c647d9ebd97b40683bd0747383c9dc20",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/20ce5af4c647d9ebd97b40683bd0747383c9dc20",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/20ce5af4c647d9ebd97b40683bd0747383c9dc20",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/20ce5af4c647d9ebd97b40683bd0747383c9dc20/comments",
    "author": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/29c9bdcc141afb14fc9e1213f49de4fcded6ce0c"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "87756fb4cc32f38fb6b1ab03d49d11b133089dda",
        "filename": "src/logging.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/20ce5af4c647d9ebd97b40683bd0747383c9dc20/src/logging.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/20ce5af4c647d9ebd97b40683bd0747383c9dc20/src/logging.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/logging.cpp?ref=20ce5af4c647d9ebd97b40683bd0747383c9dc20",
        "patch": "@@ -255,6 +255,7 @@ void BCLog::Logger::ShrinkDebugFile()\n         // Restart the file with some of the end\n         std::vector<char> vch(RECENT_DEBUG_HISTORY_SIZE, 0);\n         if (fseek(file, -((long)vch.size()), SEEK_END)) {\n+            LogPrintf(\"Failed to shrink debug log file: fseek(...) failed\\n\");\n             fclose(file);\n             return;\n         }"
      }
    ]
  }
]