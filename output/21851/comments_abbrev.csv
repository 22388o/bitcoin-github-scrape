DrahtBot,2021-05-05 00:17:25,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23585](https://github.com/bitcoin/bitcoin/pull/23585) (scripted-diff: Drop Darwin version for better maintainability by ",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-832336855,832336855,
promag,2021-05-13 08:14:23,"Tried your binaries but they are faulty\n```sh\nbash-3.2$ ./bitcoind --help\nKilled: 9\n```\nand\n```sh\nbash-3.2$ otool -L ./bitcoind\n./bitcoind:\n	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1292.0.0)\n	/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 904.4.0)\n```\nBut I don't have these libraries. Searching around gives https://dev",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-840399328,840399328,
promag,2021-05-13 11:55:16,"Did the same `otool -L src/bitcoind` on a binary built on m1 and have the same output\n```\n        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1292.60.1)\n        /usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 904.4.0)\n```\nSo I guess it's a different issue. Any hint?",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-840507986,840507986,
fanquake,2021-07-13 07:18:50,"@promag sorry for such a slow follow up. I've only recently gotten an M1 box, and am now getting back to this. As far as I'm aware, the issue you're seeing is related [to code-signing requirements](https://github.com/bitcoin/bitcoin/issues/22403#issuecomment-876873551). As suggested in #22403 if you run:\n```bash\ncodesign --sign - --deep --force bitcoind\n```\n\non my binaries they should th",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-878842297,878842297,
fanquake,2021-07-14 03:08:35,"This is now based on #22436. I've added a commit to add the `arm64-apple-darwin20` host for Guix, fixed up the libevent change to account for #21991, fixed the failing macOS symbol check (needed to account for the new SDK) and rebased on master.\n\nRunning Guix builds I've found that we'll need to update our security-checks tests, because `ld64` ignores `-no_pie` for arm64:\n```bash\nld: warni",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-879550151,879550151,
hebasto,2021-11-25 15:29:41,"Restarted `macOS 10.15 [gui, no tests] [focal]` CI task as new SDK should be available now in https://bitcoincore.org/depends-sources/sdks/Xcode-12.2-12B45b-extracted-SDK-with-libcxx-headers.tar.gz",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-979304242,979304242,
hebasto,2021-11-25 19:34:40,"Tested 9ea2ec035dab9dff948b27e71703305d6adc5188: the [issue](https://github.com/bitcoin/bitcoin/pull/21851#discussion_r755348943) with Guix builds still persists.\n\n",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-979438938,979438938,
hebasto,2021-11-25 20:48:21,"Our current CI scripts are needed to be updated (see #23597) to handle macOS SDK version bump properly.\n\nHere are:\n- this branch based on the main commit of #23597 \n- CI [log](https://cirrus-ci.com/task/6184831487836160) -- ""macOS 10.15 [gui, no tests] [focal]"" is GREEN :tiger2: ",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-979462953,979462953,
fanquake,2021-11-26 00:50:49,"> Tested 9ea2ec0: the issue with Guix builds still persists.\n\nThe changes are still the same, so I wouldn't expect any different. This PR is marked as a draft; there are a number of things left to address. The Guix build wouldn't work regardless, because of the issues outlined in the PR description.",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-979559147,979559147,
hebasto,2021-11-30 08:07:55,"> Our current CI scripts are needed to be updated (see #23597) to handle macOS SDK version bump properly.\n\nNice to see all of the CI tasks green :)",https://github.com/bitcoin/bitcoin/pull/21851#issuecomment-982380901,982380901,
hebasto,2021-07-18 09:46:30,Why `arm64-apple-darwin20` if `depends/config.sub arm64-apple-darwin20` returns `aarch64-apple-darwin20`?,https://github.com/bitcoin/bitcoin/pull/21851#discussion_r671815060,671815060,depends/README.md
hebasto,2021-07-18 21:05:36,"On second thought, I think `arm64-apple-darwin20` is the correct triplet. It corresponds with the `uname -m` output.",https://github.com/bitcoin/bitcoin/pull/21851#discussion_r671897471,671897471,depends/README.md
hebasto,2021-11-23 15:27:53,"```suggestion\n    if binary.build_version.sdk == [11, 0, 0]:\n```",https://github.com/bitcoin/bitcoin/pull/21851#discussion_r755242756,755242756,contrib/devtools/symbol-check.py
hebasto,2021-11-23 17:15:10,"During Guix build:\n```\ncp: cannot create regular file 'build-aux/config.guess': Permission denied\n```\n\ncc @dongcarl ",https://github.com/bitcoin/bitcoin/pull/21851#discussion_r755348943,755348943,autogen.sh
