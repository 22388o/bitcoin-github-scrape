[
  {
    "sha": "fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTM2YWE3OTY1NWY3ZWM3NjA0Mzk3NmYzYzFjMjA3YWZhOWJmZDZm",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-05-30T19:47:20Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-05-30T19:46:06Z"
      },
      "message": "wallet: Prevent segfault when sending to unspendable witness",
      "tree": {
        "sha": "3338ddf2c9a37d04f8cdd2adc2a20ebd51492978",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3338ddf2c9a37d04f8cdd2adc2a20ebd51492978"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJbDv9+AAoJEM4rdWl+aaVIfnUL/jzWnwzpD6toN3u9DH2RAjzt\n+2xrz2l0CCnPH97pjB37W83xuA5TTsQepQrxjhrPvPZej32ZYa/C2YLhFnD5T3uG\nUIbAwt5Hme1M+7jXohRkenoJYYr2zPeS9BSBh+PEnsMv04ClJeCaDhFupiadKYwb\nTWjZFYTt/CpTqQ/peDIP4zUF3tW2EKqtljiq+gnNJzN15WHO7k9bK6sOarbja/l/\nk91rPEGbd42BbDYVZJAdH/nkh63ELHMh/D5qgiPn4jC4ap5JdcEM3zmYfqDwybHS\nzurN9zWsL3ISrKZgH5g1qyZDucowMh1B++nEKQG0AaUJ3g0ubAZHNHwBEBQu6mQi\n6ra6qUQ/XEorXTbX01Ck8HTDryMgRpFEMryI9rEf/A5vI+G8cqdLMVcn6iU5Re2C\nffY51OcH4TdBac2fQibVzuErBeQCcVzJsheZXFTwqPmOgV+G5/s/sorPjacOKi8u\neDhynb/9nb8dF+4lwQ89zEAowSnjauPbc/6JWIvM4w==\n=aQvz\n-----END PGP SIGNATURE-----",
        "payload": "tree 3338ddf2c9a37d04f8cdd2adc2a20ebd51492978\nparent 61fcef0f89c4eb313b94a93880d7638b90aa0764\nauthor MarcoFalke <falke.marco@gmail.com> 1527709640 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1527709566 -0400\n\nwallet: Prevent segfault when sending to unspendable witness\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa36aa79655f7ec76043976f3c1c207afa9bfd6f/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "61fcef0f89c4eb313b94a93880d7638b90aa0764",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61fcef0f89c4eb313b94a93880d7638b90aa0764",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/61fcef0f89c4eb313b94a93880d7638b90aa0764"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 27,
      "deletions": 0
    },
    "files": [
      {
        "sha": "d9269d6147ad1b798126cccd5363b29bdd31e2e4",
        "filename": "src/script/standard.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa36aa79655f7ec76043976f3c1c207afa9bfd6f/src/script/standard.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa36aa79655f7ec76043976f3c1c207afa9bfd6f/src/script/standard.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/standard.cpp?ref=fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
        "patch": "@@ -114,6 +114,7 @@ bool Solver(const CScript& scriptPubKey, txnouttype& typeRet, std::vector<std::v\n             vSolutionsRet.push_back(std::move(witnessprogram));\n             return true;\n         }\n+        typeRet = TX_NONSTANDARD;\n         return false;\n     }\n "
      },
      {
        "sha": "7ab09782289b13b0f7d810b41db02779bee3fd79",
        "filename": "src/test/script_standard_tests.cpp",
        "status": "modified",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa36aa79655f7ec76043976f3c1c207afa9bfd6f/src/test/script_standard_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa36aa79655f7ec76043976f3c1c207afa9bfd6f/src/test/script_standard_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/script_standard_tests.cpp?ref=fa36aa79655f7ec76043976f3c1c207afa9bfd6f",
        "patch": "@@ -726,6 +726,32 @@ BOOST_AUTO_TEST_CASE(script_standard_IsMine)\n         BOOST_CHECK(!isInvalid);\n     }\n \n+    // witness unspendable\n+    {\n+        CBasicKeyStore keystore;\n+        keystore.AddKey(keys[0]);\n+\n+        scriptPubKey.clear();\n+        scriptPubKey << OP_0 << ToByteVector(ParseHex(\"aabb\"));\n+\n+        result = IsMine(keystore, scriptPubKey, isInvalid);\n+        BOOST_CHECK_EQUAL(result, ISMINE_NO);\n+        BOOST_CHECK(!isInvalid);\n+    }\n+\n+    // witness unknown\n+    {\n+        CBasicKeyStore keystore;\n+        keystore.AddKey(keys[0]);\n+\n+        scriptPubKey.clear();\n+        scriptPubKey << OP_16 << ToByteVector(ParseHex(\"aabb\"));\n+\n+        result = IsMine(keystore, scriptPubKey, isInvalid);\n+        BOOST_CHECK_EQUAL(result, ISMINE_NO);\n+        BOOST_CHECK(!isInvalid);\n+    }\n+\n     // Nonstandard\n     {\n         CBasicKeyStore keystore;"
      }
    ]
  }
]