[
  {
    "sha": "fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWQ0ZmE3ZTJmYjk1YjdjZWQ5MDA3MDYwZWJmZDBlOGYxODFmNWQ4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-08T23:47:56Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-15T19:05:18Z"
      },
      "message": "node: Add args alias for gArgs global",
      "tree": {
        "sha": "b8cc4ebb5ce96fef30123357661c22bfad6d070f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b8cc4ebb5ce96fef30123357661c22bfad6d070f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhKEgv+OjZU1qupe7Z4IyGQVeDZ+v7ZDEea6ICQ6f73AhXJaBskM25d5NUal5Sq\n4smztCSjjOo0hqdYnI62dTt6LFiWx1hUzVAV6uclDME9NFUE0zv3GA2InG0le+Z7\npno98xlwYu560nvqJpOz8WGGyW0JuVff6yZ50MWpFeYTX1fpv+MFmylWG8D+R2xk\nMOMrpmMCJ0cOYaI6sd8hFm5zQCkzJdCxSrgctZYGhulog49pARKTfvu0yJqbgw4i\nn/N7bmE2Jo856yKwWFw3PtLXC7AcXh4XBfMTerm5Ztq3ySZsI5bxAKuIv/zuMZgB\nfWaKD8PzgmEHcMJ2PJW38SM396OfUXa6SbYW7DYi9aszvlcKFZz3XxhFFjmTUTll\nUnWw4ssWbn9S2iHrcFwy8uWoNAGfAjXhtR3VvKQOnjPZssdJCyA4KMpekx2J7GZ6\nOTAShbBP0MW+SyT+DFXgzTCUC6w98XPvFNfsLRH/CnX3Wo2vQF8B5QZADn9TdFZw\njBl+yyVs\n=jAAZ\n-----END PGP SIGNATURE-----",
        "payload": "tree b8cc4ebb5ce96fef30123357661c22bfad6d070f\nparent 4bd6bc5cb4f3c4b017cc0ac21c00c2218acb97d0\nauthor MarcoFalke <falke.marco@gmail.com> 1586389676 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1586977518 -0400\n\nnode: Add args alias for gArgs global\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4bd6bc5cb4f3c4b017cc0ac21c00c2218acb97d0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4bd6bc5cb4f3c4b017cc0ac21c00c2218acb97d0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4bd6bc5cb4f3c4b017cc0ac21c00c2218acb97d0"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 14,
      "deletions": 6
    },
    "files": [
      {
        "sha": "bf444dd0bc29a79bac982ed28623e6363e3a13b7",
        "filename": "src/bitcoind.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/bitcoind.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/bitcoind.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoind.cpp?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -53,7 +53,7 @@ static bool AppInit(int argc, char* argv[])\n     // Parameters\n     //\n     // If Qt is used, parameters/bitcoin.conf are parsed in qt/bitcoin.cpp's main()\n-    SetupServerArgs();\n+    SetupServerArgs(node);\n     std::string error;\n     if (!gArgs.ParseParameters(argc, argv, error)) {\n         return InitError(strprintf(\"Error parsing command line arguments: %s\\n\", error));"
      },
      {
        "sha": "de32c0ad714e8a39ba424921b39d0677f88dce45",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -297,6 +297,7 @@ void Shutdown(NodeContext& node)\n     GetMainSignals().UnregisterBackgroundSignalScheduler();\n     globalVerifyHandle.reset();\n     ECC_Stop();\n+    node.args = nullptr;\n     if (node.mempool) node.mempool = nullptr;\n     node.scheduler.reset();\n \n@@ -360,8 +361,11 @@ static void OnRPCStopped()\n     LogPrint(BCLog::RPC, \"RPC stopped.\\n\");\n }\n \n-void SetupServerArgs()\n+void SetupServerArgs(NodeContext& node)\n {\n+    assert(!node.args);\n+    node.args = &gArgs;\n+\n     SetupHelpOptions(gArgs);\n     gArgs.AddArg(\"-help-debug\", \"Print help message with debugging options and exit\", ArgsManager::ALLOW_ANY, OptionsCategory::DEBUG_TEST); // server-only for now\n "
      },
      {
        "sha": "0c44035b0088a9563716740efa83040f643a4e9e",
        "filename": "src/init.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/init.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/init.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.h?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -54,9 +54,9 @@ bool AppInitLockDataDirectory();\n bool AppInitMain(NodeContext& node);\n \n /**\n- * Setup the arguments for gArgs\n+ * Register all arguments with the ArgsManager\n  */\n-void SetupServerArgs();\n+void SetupServerArgs(NodeContext& node);\n \n /** Returns licensing information (for -version) */\n std::string LicenseInfo();"
      },
      {
        "sha": "5ebbd61584454df9f49713045b75f8f563c36bb0",
        "filename": "src/interfaces/node.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/interfaces/node.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/interfaces/node.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.cpp?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -97,7 +97,7 @@ class NodeImpl : public Node\n             StopMapPort();\n         }\n     }\n-    void setupServerArgs() override { return SetupServerArgs(); }\n+    void setupServerArgs() override { return SetupServerArgs(m_context); }\n     bool getProxy(Network net, proxyType& proxy_info) override { return GetProxy(net, proxy_info); }\n     size_t getNodeCount(CConnman::NumConnections flags) override\n     {"
      },
      {
        "sha": "7b6dd37361fbf73f0a281fedaa8c9c1527bd4154",
        "filename": "src/node/context.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/node/context.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/node/context.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/context.h?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -8,6 +8,7 @@\n #include <memory>\n #include <vector>\n \n+class ArgsManager;\n class BanMan;\n class CConnman;\n class CScheduler;\n@@ -33,6 +34,7 @@ struct NodeContext {\n     CTxMemPool* mempool{nullptr}; // Currently a raw pointer because the memory is not managed by this struct\n     std::unique_ptr<PeerLogicValidation> peer_logic;\n     std::unique_ptr<BanMan> banman;\n+    ArgsManager* args{nullptr}; // Currently a raw pointer because the memory is not managed by this struct\n     std::unique_ptr<interfaces::Chain> chain;\n     std::vector<std::unique_ptr<interfaces::ChainClient>> chain_clients;\n     std::unique_ptr<CScheduler> scheduler;"
      },
      {
        "sha": "b49e2a56d083b52adf63260a4fe89024a8721209",
        "filename": "src/test/util/setup_common.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/test/util/setup_common.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/test/util/setup_common.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util/setup_common.cpp?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -159,6 +159,7 @@ TestingSetup::~TestingSetup()\n     g_rpc_node = nullptr;\n     m_node.connman.reset();\n     m_node.banman.reset();\n+    m_node.args = nullptr;\n     m_node.mempool = nullptr;\n     m_node.scheduler.reset();\n     UnloadBlockIndex();"
      },
      {
        "sha": "41547c8b3a17de658c4ebb71eff2b70ee416a748",
        "filename": "src/test/util/setup_common.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/test/util/setup_common.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8/src/test/util/setup_common.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util/setup_common.h?ref=fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "patch": "@@ -73,9 +73,11 @@ static constexpr CAmount CENT{1000000};\n  */\n struct BasicTestingSetup {\n     ECCVerifyHandle globalVerifyHandle;\n+    NodeContext m_node;\n \n     explicit BasicTestingSetup(const std::string& chainName = CBaseChainParams::MAIN);\n     ~BasicTestingSetup();\n+\n private:\n     const fs::path m_path_root;\n };\n@@ -84,7 +86,6 @@ struct BasicTestingSetup {\n  * Included are coins database, script check threads setup.\n  */\n struct TestingSetup : public BasicTestingSetup {\n-    NodeContext m_node;\n     boost::thread_group threadGroup;\n \n     explicit TestingSetup(const std::string& chainName = CBaseChainParams::MAIN);"
      }
    ]
  },
  {
    "sha": "fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTBjYmQ0OGM0MThlYzE0ZTFkOTFiZmZlYTIwNmJjZTIwYmQxZTU2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-09T00:02:20Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-15T19:13:04Z"
      },
      "message": "test: Add optional extra_args to testing setup",
      "tree": {
        "sha": "6548d94091886ab42a1a9a3c1a2c7e500394a99d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6548d94091886ab42a1a9a3c1a2c7e500394a99d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgyawwAk9p51jnvyxKe+uSPCIjWviaTGcZ41m8aqRPStbuZMEhevM1uRBD6sd1a\nz2J7SPzoblRPOVDtHLb9D16L1btogHxNj4bUHRnksDJjeJipVEPDDodOxXU0qAo0\nr2U1xdlX/SmETEaxAzG+VkhwR/4inTiB+I0lJcqxsprTArUZwakifkYGTIEIqM2B\nmaay3pifGyOPyRNPXssbawabEj+vbUugX3N6+S/SQgI64f6qzVOYbLknizGki+Me\ntgiXWqEHfBIGYPnSn/am2JVcWDfymto8DLYQjKP3nBX6dKAiPD0GrDDnnJ/wKsGe\nfIl8nassPotKf6UulvNdCjbqCOs7cDfR2bEP6i1URej3KHZ1AYG236ICc5qQoKM1\nEFP/Ug72rwhDO44eHjQkTxDnaUp5DluEToj8EK1NvhOIBwaD8zkOfSX6Gcp4vBX6\n0ghME3Pv7+OOJefNg5I0pqT6mw4A7R+oU95OOImJXX2tbGK8WRtdfN8tiyT0PpWc\nDKPY3aRi\n=Ubve\n-----END PGP SIGNATURE-----",
        "payload": "tree 6548d94091886ab42a1a9a3c1a2c7e500394a99d\nparent fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8\nauthor MarcoFalke <falke.marco@gmail.com> 1586390540 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1586977984 -0400\n\ntest: Add optional extra_args to testing setup\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fad4fa7e2fb95b7ced9007060ebfd0e8f181f5d8"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 27,
      "deletions": 5
    },
    "files": [
      {
        "sha": "2d44264e53d8c94b9c32602f36d83ba62f3486b8",
        "filename": "src/bench/bench_bitcoin.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/bench/bench_bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/bench/bench_bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bench/bench_bitcoin.cpp?ref=fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
        "patch": "@@ -73,6 +73,8 @@ int main(int argc, char** argv)\n             gArgs.GetArg(\"-plot-height\", DEFAULT_PLOT_HEIGHT)));\n     }\n \n+    gArgs.ClearArgs(); // gArgs no longer needed. Clear it here to avoid interactions with the testing setup in the benches\n+\n     benchmark::BenchRunner::RunAll(*printer, evaluations, scaling_factor, regex_filter, is_list_only);\n \n     return EXIT_SUCCESS;"
      },
      {
        "sha": "0d455d48b3c1cce96b768e570b6fd0a811d97b32",
        "filename": "src/test/util/setup_common.cpp",
        "status": "modified",
        "additions": 23,
        "deletions": 3,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/test/util/setup_common.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/test/util/setup_common.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util/setup_common.cpp?ref=fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
        "patch": "@@ -28,6 +28,7 @@\n #include <util/time.h>\n #include <util/translation.h>\n #include <util/url.h>\n+#include <util/vector.h>\n #include <validation.h>\n #include <validationinterface.h>\n \n@@ -65,17 +66,34 @@ std::ostream& operator<<(std::ostream& os, const uint256& num)\n     return os;\n }\n \n-BasicTestingSetup::BasicTestingSetup(const std::string& chainName)\n+BasicTestingSetup::BasicTestingSetup(const std::string& chainName, const std::vector<const char*>& extra_args)\n     : m_path_root{fs::temp_directory_path() / \"test_common_\" PACKAGE_NAME / g_insecure_rand_ctx_temp_path.rand256().ToString()}\n {\n+    const std::vector<const char*> arguments = Cat(\n+        {\n+            \"dummy\",\n+            \"-printtoconsole=0\",\n+            \"-logtimemicros\",\n+            \"-debug\",\n+            \"-debugexclude=libevent\",\n+            \"-debugexclude=leveldb\",\n+        },\n+        extra_args);\n     fs::create_directories(m_path_root);\n     gArgs.ForceSetArg(\"-datadir\", m_path_root.string());\n     ClearDatadirCache();\n+    {\n+        SetupServerArgs(m_node);\n+        std::string error;\n+        const bool success{m_node.args->ParseParameters(arguments.size(), arguments.data(), error)};\n+        assert(success);\n+        assert(error.empty());\n+    }\n     SelectParams(chainName);\n     SeedInsecureRand();\n-    gArgs.ForceSetArg(\"-printtoconsole\", \"0\");\n     if (G_TEST_LOG_FUN) LogInstance().PushBackCallback(G_TEST_LOG_FUN);\n     InitLogging();\n+    AppInitParameterInteraction();\n     LogInstance().StartLogging();\n     SHA256AutoDetect();\n     ECC_Start();\n@@ -95,10 +113,12 @@ BasicTestingSetup::~BasicTestingSetup()\n {\n     LogInstance().DisconnectTestLogger();\n     fs::remove_all(m_path_root);\n+    gArgs.ClearArgs();\n     ECC_Stop();\n }\n \n-TestingSetup::TestingSetup(const std::string& chainName) : BasicTestingSetup(chainName)\n+TestingSetup::TestingSetup(const std::string& chainName, const std::vector<const char*>& extra_args)\n+    : BasicTestingSetup(chainName, extra_args)\n {\n     const CChainParams& chainparams = Params();\n     // Ideally we'd move all the RPC tests to the functional testing framework"
      },
      {
        "sha": "47fcf92ea0e646674f79d2989d1f7b57b6e5ed92",
        "filename": "src/test/util/setup_common.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/test/util/setup_common.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa0cbd48c418ec14e1d91bffea206bce20bd1e56/src/test/util/setup_common.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/util/setup_common.h?ref=fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
        "patch": "@@ -75,7 +75,7 @@ struct BasicTestingSetup {\n     ECCVerifyHandle globalVerifyHandle;\n     NodeContext m_node;\n \n-    explicit BasicTestingSetup(const std::string& chainName = CBaseChainParams::MAIN);\n+    explicit BasicTestingSetup(const std::string& chainName = CBaseChainParams::MAIN, const std::vector<const char*>& extra_args = {});\n     ~BasicTestingSetup();\n \n private:\n@@ -88,7 +88,7 @@ struct BasicTestingSetup {\n struct TestingSetup : public BasicTestingSetup {\n     boost::thread_group threadGroup;\n \n-    explicit TestingSetup(const std::string& chainName = CBaseChainParams::MAIN);\n+    explicit TestingSetup(const std::string& chainName = CBaseChainParams::MAIN, const std::vector<const char*>& extra_args = {});\n     ~TestingSetup();\n };\n "
      }
    ]
  },
  {
    "sha": "fa69f88486e900aacf3fc768671f947927173226",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTY5Zjg4NDg2ZTkwMGFhY2YzZmM3Njg2NzFmOTQ3OTI3MTczMjI2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-08T23:48:38Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-04-15T19:13:11Z"
      },
      "message": "fuzz: Disable debug log file",
      "tree": {
        "sha": "9865d11fd1f798d3584b7167fb1b180736dcf324",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9865d11fd1f798d3584b7167fb1b180736dcf324"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa69f88486e900aacf3fc768671f947927173226",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUh+IAv+Or0+vzty6Dz1rhLb1QGYeTjm1ngSjo7WMHKWiZXdfMEXIueU8Ofz0QvX\ngIf+U63WDZhtFXyl2PvbEhks6zGzt3PX9x0PN0uV+Zdn2q1d7AqWtpV74QM9nKm8\nVhav2XTtJw/4f+zofSinVuJQCNltuKunFSAHTOTGTv0t7rX5QDGXwc5rdpYx30ew\nSXNZUsGfvjiQBMVXbgip9Etn+M5vEGXYs0Y60P2GWwGYBKZNzlX4UuOzEt/Wpw9H\nNg6U/8ToWG+ZaKofMRdaBj4EljbCnbdxlnRH93H+iEyQYdN/Od8QNBeqQmUPXR10\nvrUAohkxB+EqecQb3ggTa78EDMhRqol92h8noXEFkTZgHIn9wMs78m/fgqIhQuiD\nGtst7X7s+YuG0Xpol3XaLBk+wJBhf54i1JUc+9q2KjNMbMbl0OfINJNYYhiYVpkO\n4D7P+avqj1h5560K9RnhSNa7JBnjYixk7rnnLtv3R8KP4XxPFjcpKfcYBKCWPFs2\njliVprAT\n=20tb\n-----END PGP SIGNATURE-----",
        "payload": "tree 9865d11fd1f798d3584b7167fb1b180736dcf324\nparent fa0cbd48c418ec14e1d91bffea206bce20bd1e56\nauthor MarcoFalke <falke.marco@gmail.com> 1586389718 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1586977991 -0400\n\nfuzz: Disable debug log file\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa69f88486e900aacf3fc768671f947927173226",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa69f88486e900aacf3fc768671f947927173226",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa69f88486e900aacf3fc768671f947927173226/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa0cbd48c418ec14e1d91bffea206bce20bd1e56",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa0cbd48c418ec14e1d91bffea206bce20bd1e56"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 14,
      "deletions": 4
    },
    "files": [
      {
        "sha": "0ed3721636d0123150b98e886a913d71cd5771d8",
        "filename": "src/test/fuzz/process_message.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa69f88486e900aacf3fc768671f947927173226/src/test/fuzz/process_message.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa69f88486e900aacf3fc768671f947927173226/src/test/fuzz/process_message.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_message.cpp?ref=fa69f88486e900aacf3fc768671f947927173226",
        "patch": "@@ -57,12 +57,17 @@ const std::map<std::string, std::set<std::string>> EXPECTED_DESERIALIZATION_EXCE\n     {\"Unknown transaction optional data: iostream error\", {\"block\", \"blocktxn\", \"cmpctblock\", \"tx\"}},\n };\n \n-const RegTestingSetup* g_setup;\n+const TestingSetup* g_setup;\n } // namespace\n \n void initialize()\n {\n-    static RegTestingSetup setup{};\n+    static TestingSetup setup{\n+        CBaseChainParams::REGTEST,\n+        {\n+            \"-nodebuglogfile\",\n+        },\n+    };\n     g_setup = &setup;\n \n     for (int i = 0; i < 2 * COINBASE_MATURITY; i++) {"
      },
      {
        "sha": "bcbf65bdca3126c9174bea0129c7f27393a2320b",
        "filename": "src/test/fuzz/process_messages.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa69f88486e900aacf3fc768671f947927173226/src/test/fuzz/process_messages.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa69f88486e900aacf3fc768671f947927173226/src/test/fuzz/process_messages.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_messages.cpp?ref=fa69f88486e900aacf3fc768671f947927173226",
        "patch": "@@ -16,11 +16,16 @@\n #include <validation.h>\n #include <validationinterface.h>\n \n-const RegTestingSetup* g_setup;\n+const TestingSetup* g_setup;\n \n void initialize()\n {\n-    static RegTestingSetup setup{};\n+    static TestingSetup setup{\n+        CBaseChainParams::REGTEST,\n+        {\n+            \"-nodebuglogfile\",\n+        },\n+    };\n     g_setup = &setup;\n \n     for (int i = 0; i < 2 * COINBASE_MATURITY; i++) {"
      }
    ]
  }
]