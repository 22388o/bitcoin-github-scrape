morcos,2015-10-30T22:25:34Z,"Concept ACK\n\nSent from my iPhone\n\n> On Oct 30, 2015, at 6:20 PM, Pieter Wuille notifications@github.com wrote:\n> \n> Changes the -maxsigcachesize argument from entries to megabytes\n> Change the default to 40 MiB (as opposed to ~10 MiB before), corresponding to over 500000 entries on 64-bit systems.\n> Store salted SHA256 hashes in the cache, rather than full entries.\n> Switch implementation",https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152664401,152664401,
pstratem,2015-10-30T22:30:57Z,concept ACK\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152665537,152665537,
dcousens,2015-10-30T23:42:00Z,"concept ACK, utACK :+1: \n",https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152674483,152674483,
sipa,2015-10-31T00:16:37Z,"Added a commit that removes cache entries after they've been seen in a block, so the cache remains fresh.\n",https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152677533,152677533,
dcousens,2015-10-31T00:18:37Z,re-ACK\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152677679,152677679,
sipa,2015-11-02T01:02:25Z,Added a commit to not wipe the cache from TBV.\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152884702,152884702,
sipa,2015-11-02T07:14:59Z,Currently gathering statistics about the cache size - hitrate relation.\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-152939539,152939539,
instagibbs,2015-11-02T22:37:11Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-153180012,153180012,
sdaftuar,2015-11-06T13:31:25Z,"Concept ACK.  However in my first attempt at benchmarking I'm not seeing any speedup with this code change (in fact block verification times seem to have gotten very, very slightly slower for some reason).  Will continue to debug and try to see if my benchmarking is broken, or if there's some effect here we're missing.\n",https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-154410373,154410373,
sipa,2015-11-11T08:33:12Z,@sdaftuar The results #6976 indicate that this improves things. Does that contradict your earlier findings?\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-155703128,155703128,
sdaftuar,2015-11-11T10:08:50Z,Sorry forgot to update with my results. I ran longer studies comparing the old and new behavior more carefully and yes I agree this does improve things.  I saw roughly a 5% speed up in processing all the October historical data using the new default cache size compared with the old implementation (running with a sig cache of approximately the same size).\n\nACK\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-155721822,155721822,
gmaxwell,2015-11-11T23:19:31Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/6918#issuecomment-155940692,155940692,
dcousens,2015-10-30T23:40:54Z,"OOI, what is the time complexity of `memusage::DynamicUsage`?\n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563101,43563101,src/script/sigcache.cpp
dcousens,2015-10-30T23:41:50Z,"nit: technically, this would mean it could briefly be greater than the allowed memory limits.\n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563145,43563145,src/script/sigcache.cpp
dcousens,2015-10-30T23:42:50Z,"`Get` is such a weird name, its really more like `Contains`?\n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563182,43563182,src/script/sigcache.cpp
dcousens,2015-10-30T23:43:40Z,`std::static_cast<bool>(count)` or `count > 0`?\n,https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563220,43563220,src/script/sigcache.cpp
sipa,2015-10-30T23:43:52Z,"correct, but we're talking about ~80 bytes...\n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563232,43563232,src/script/sigcache.cpp
sipa,2015-10-30T23:44:40Z,O(1).\n,https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43563293,43563293,src/script/sigcache.cpp
Diapolo,2015-10-31T09:20:59Z,"Just a qustion to understand the motivation, why is here the opening bracket in the same line and below (line 48) it's on a new line?\n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43569898,43569898,src/script/sigcache.cpp
instagibbs,2015-11-02T22:12:21Z,"I think it's going for a getter/setter paradigm(see: Set function below), but I think the names could indeed be improved. It's confusing to have ""Set"" be both the type of data structure and the primary way of updating it, imo. \n",https://github.com/bitcoin/bitcoin/pull/6918#discussion_r43690703,43690703,src/script/sigcache.cpp
