MarcoFalke,2016-05-21T11:07:11Z,Looks like comparison tool triggers a `POTENTIAL DEADLOCK DETECTED`\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-220771966,220771966,
gmaxwell,2016-05-21T13:27:22Z,"@MarcoFalke Yep. It was an actual inversion with the vSend lock, it's fixed.\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-220777734,220777734,
laanwj,2016-05-22T11:14:11Z,Concept ACK\n\nNit: After this mapRelay is no longer used in net at all. It could become local to main.\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-220826849,220826849,
gmaxwell,2016-05-22T22:35:04Z,"@laanwj  good catch with the nit, I've removed it from net.cpp/net.h.\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-220860790,220860790,
sipa,2016-05-24T16:22:11Z,utACK d9d1f2ec345b3d7ac37ce194032940b513b5e3f0\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221325726,221325726,
theuni,2016-05-24T19:41:00Z,ut ACK d9d1f2ec345b3d7ac37ce194032940b513b5e3f0\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221380062,221380062,
paveljanik,2016-05-24T20:33:47Z,"@gmaxwell Can you please be more explicit in the commit message? In ""This reduces the rate of not founds"", ""This"" means ""this PR"" or you mean the 15-> 16 minutes change (why not separate commit, BTW)?\n\nWhat is the logic behind 15 -> 16 anyway?\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221392891,221392891,
gmaxwell,2016-05-24T21:27:34Z,"@paveljanik ""better matching far end expectations""-- the far end retries on a two minute interval; 15 minutes is dead between counts-- starting the counter before the transaction has been offered to anyone also makes it more likely to time out first.\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221406761,221406761,
arowser,2016-05-25T08:43:19Z,Can one of the admins verify this patch?\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221510332,221510332,
sipa,2016-05-25T17:24:42Z,@gmaxwell I guess that can use some comment in the code?\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-221646341,221646341,
gmaxwell,2016-05-28T11:25:20Z,"I changed it back to 15 minutes, -- I think the time there should be adjusted but it can be done in another pull that reworks the mapaskfor handling a bit.\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-222303702,222303702,
gmaxwell,2016-05-31T15:46:44Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-222730924,222730924,
sipa,2016-05-31T17:34:48Z,"Lightly tested ACK. Setup: two mainnet full nodes with this patch (A publicly reachable, B -connect'ed to A) and a lightweight node C (connected to the public network). Tested block synchronization/relay of B from A, relay of transactions to from A to B, relay of newly created transactions by B and C through A. Nothing unusual.\n",https://github.com/bitcoin/bitcoin/pull/8082#issuecomment-222761972,222761972,
sipa,2016-05-21T09:52:41Z,"More efficient:\n\n```\nauto ret = mapRelay.insert(std::make_pair(inv.hash, tx));\nif (ret.second) {\n    vRelayExpiration.push_back(std::make_pair(GetTime() + 16 * 60, inv.hash));\n}\n```\n",https://github.com/bitcoin/bitcoin/pull/8082#discussion_r64132056,64132056,src/main.cpp
gmaxwell,2016-05-21T10:04:08Z,Done.\n,https://github.com/bitcoin/bitcoin/pull/8082#discussion_r64132171,64132171,src/main.cpp
