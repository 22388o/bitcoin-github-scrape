kallewoof,2016-12-22T01:28:25Z,"I ran into the `background.tiff` issue mentioned in https://github.com/bitcoin/bitcoin/issues/8120 when  I tried to check this.\nhttps://github.com/theuni/bitcoin/commit/c622254170d4bd8c5ca75077214105cef666f4c4 addresses the encode/decode stuff in this PR as well but uses `output.decode` instead of `str(output, ""utf-8"")`.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268694563,268694563,
fanquake,2016-12-22T02:04:32Z,"Indeed, I wondered if this was going to sort out the background image issues. Lets try and fix those up here as well.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268699282,268699282,
djp3,2016-12-22T04:43:15Z,What is the background image issue?  I can probably fix that,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268717248,268717248,
kallewoof,2016-12-22T04:45:58Z,"```Bash\n$ make deploy\n/Library/Developer/CommandLineTools/usr/bin/make -C src qt/bitcoin-qt\nmake[2]: `libsecp256k1.la' is up to date.\nbuild-aux/install-sh -c -d Bitcoin-Qt.app/Contents/MacOS\nSTRIPPROG=""/usr/bin/strip"" /bin/sh /Users/me/workspace/bitcoin-kw/build-aux/install-sh -c -s  src/qt/bitcoin-qt Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt\n/usr/local/bin/python3.5 ./contrib/macdeploy",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268717481,268717481,
djp3,2016-12-22T04:46:59Z,"`output.decode(""utf-8"")` and `str(output,""utf-8"")` are equivalent according to the documentation:\n\n""_If at least one of encoding or errors is given, object should be a bytes-like object (e.g. bytes or bytearray). In this case, if object is a bytes (or bytearray) object, then str(bytes, encoding, errors) is equivalent to bytes.decode(encoding, errors). Otherwise, the bytes object underlying the",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268717591,268717591,
djp3,2016-12-22T04:47:36Z,"Okay, I'll take a look at background.tiff issue in the morning.\n",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268717658,268717658,
jonasschnelli,2016-12-22T07:27:09Z,"AFAIK, `make deploy` on native macOS machines is currently broken (introduced in #7192). Before 7192, there was just a tiff that was used as DMG background.\nSince #7192, the tiff gets created by adding the package-name (`Bitcoin-Core`) on top of the `background.svg` file.\n\nI think most devs compile releases over Gitian, so its not among the top priorities to fix. But we should.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268736471,268736471,
djp3,2016-12-22T17:01:31Z,Ok.  I changed the dmg build process to just use a static jpg image as the background.  I don't know why a dynamic background image was being built from an svg.  That seems kind of crazy.  In the process I found a bug in the macqtdeployplus script which I also fixed.,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268843280,268843280,
djp3,2016-12-22T18:04:11Z,Checking on why it didn't pass tests,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268856081,268856081,
djp3,2016-12-22T21:56:30Z,"Okay, so if someone else can check this out on their machine.  There are some fixes to the python in the build process and I fixed the dmg background image.  It works fine on my machine and in the automated builds.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268899450,268899450,
jonasschnelli,2016-12-23T10:02:12Z,I think this solution is a step backward. In #7192 we got rid of the static image and introduced a SVG with a flexible product name.,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268966560,268966560,
MarcoFalke,2016-12-23T11:42:34Z,"> use a static jpg image as the background\n\nPlease don't use jpg for compression of such data. I think #9412 is the solution to go.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268978352,268978352,
fanquake,2016-12-23T11:54:42Z,"Agree with @jonasschnelli's comments.\n\nThanks for the initial bugfix and further contributions @djp3, however I'm going to close this in favour of #9412. It'd be great if you could test that PR and check it fixes your original issue.",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-268979629,268979629,
djp3,2016-12-23T16:47:46Z,@fanquake #9412 worked for me.   There was one bug in this PR that wasn't in 9412 though. I'll tag you in the body of the code.  Should I generate a PR just for that?,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-269016467,269016467,
fanquake,2016-12-23T23:29:54Z,"@djp3 Thanks for pointing that out, a new PR won't be necessary, we can cherry pick the bug fix into #9412. ",https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-269056595,269056595,
djp3,2016-12-24T00:20:04Z,@fanquake Ok thanks!,https://github.com/bitcoin/bitcoin/pull/9405#issuecomment-269059570,269059570,
djp3,2016-12-23T16:46:46Z,@fanquake This wasn't in #9412,https://github.com/bitcoin/bitcoin/pull/9405#discussion_r93783834,93783834,contrib/macdeploy/macdeployqtplus
