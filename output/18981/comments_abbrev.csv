laanwj,2020-05-15 09:04:50,Thank you. ACK f3370cdcd6a76a2b52b2fc7d2e355e10ce2fb2e4.,https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629122808,629122808,
kallewoof,2020-05-15 10:48:53,"Updated text to include a rationale and to word things in a less strict fashion, as sometimes TODO entries may be preferred (see https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425693596).",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629167956,629167956,
MarcoFalke,2020-05-15 10:59:43,"ACK f513b50b7d73565999a4c43e6286ed8ade598c8f seems like a reasonable policy with rationale, while still allowing exceptions",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629172056,629172056,
ryanofsky,2020-05-15 11:57:33,"This is grim. We need more todo-style comments, not less. One of the worst thing about our code is that that is is filled with thousands of nonsensical and nonideal things that everybody agrees are nonsensical and nonideal but nobody explains out of laziness or fear of expressing a ""[developer's opinion](https://github.com/bitcoin/bitcoin/pull/18965#issuecomment-629078426)"". We need comments that ",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629194218,629194218,
ryanofsky,2020-05-15 12:07:36,"I don't think we need a developer guideline about todos, but if we do we do something like google's https://google.github.io/styleguide/cppguide.html#TODO_Comments would be pretty good, imo",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629198343,629198343,
kallewoof,2020-05-16 04:22:49,"@ryanofsky I don't think adding TODO entries will do anything about the problems you're listing (nonideal stuff); I think the preference to not do refactors without a cause is what keeps these around indefinitely.\n\nIf you look at the Google guidelines you pointed at, the core issue I think is in the last line:\n\n> If your TODO is of the form ""At a future date do something"" make sure that yo",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629586041,629586041,
kallewoof,2020-05-16 04:26:05,"Actually, I updated the dev recommendations to the following:\n\n> Note: when adding a todo entry, consider whether it would rather be better suited as an issue on github\n> instead. TODO entries often become stale or outdated, where issues provide a higher degree of interactivity.\n",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629586285,629586285,
kallewoof,2020-05-16 05:36:54,"Actually, I'm no longer convinced this will do anything productive. Closing.",https://github.com/bitcoin/bitcoin/pull/18981#issuecomment-629592172,629592172,
jonatack,2020-05-15 09:36:50,s/Issue/issue,https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425684625,425684625,doc/developer-notes.md
MarcoFalke,2020-05-15 09:47:05,I think a rule without rationale is hard to understand. Maybe give some context and motivation?,https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425689978,425689978,doc/developer-notes.md
MarcoFalke,2020-05-15 09:54:13,"Also, it seems too strict and not allow for exceptions. For example if something is out-of-scope for a pull request, but still should be done in the long term, a TODO seems appropriate. Especially when the TODO is clearly motivated and clearly explains how to fix it.\n\nFor example:\n\n* `boost::thread a; // TODO switch to C++11 std::thread, when possible`\n* `GetCounter(); // TODO add lock a",https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425693596,425693596,doc/developer-notes.md
jonatack,2020-05-15 10:31:22,"@MarcoFalke heh, you used my review as an example of a good TODO. I guess I should review less and start tackling TODOs :)",https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425712737,425712737,doc/developer-notes.md
laanwj,2020-05-15 10:47:07,"Even ""switch to std::thread"" and ""add lock annotations"" can very much be issues (an umbrella issue could list the places).\n\nMy point is that these kind of long-term goals can change. Maybe lock annotations turn out to be more trouble than they're worth. Maybe std::thread would have turned out to have some problematic behavior on some platform. Code comments in general are prone to becoming sta",https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425720132,425720132,doc/developer-notes.md
kallewoof,2020-05-15 10:47:55,"@MarcoFalke Both of those examples serve their purpose better if they are issues, instead of code comments, IMO, but I guess in certain cases (e.g. for things that must wait for something else to happen first) it's OK. Amended.",https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425720495,425720495,doc/developer-notes.md
MarcoFalke,2020-05-15 11:00:24,"> But sure, it's possible to think of exceptions, but I think the general rule should be to not add TODOs in the source code.\n\nAgree. Concept ACK to have a policy so that TODOs are generally avoided.",https://github.com/bitcoin/bitcoin/pull/18981#discussion_r425726224,425726224,doc/developer-notes.md
