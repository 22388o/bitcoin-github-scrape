[
  {
    "sha": "b6d5e32e0e5b038c6ff7e2ab5221b10727722341",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNmQ1ZTMyZTBlNWIwMzhjNmZmN2UyYWI1MjIxYjEwNzI3NzIyMzQx",
    "commit": {
      "author": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-10-16T20:54:03Z"
      },
      "committer": {
        "name": "Alex Morcos",
        "email": "morcos@chaincode.com",
        "date": "2015-10-17T19:52:40Z"
      },
      "message": "Make fee aware of min relay in pruning.py RPC test",
      "tree": {
        "sha": "ff99390949cb6bc92ad71fc1eb2ac00dd444faf3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff99390949cb6bc92ad71fc1eb2ac00dd444faf3"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b6d5e32e0e5b038c6ff7e2ab5221b10727722341",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b6d5e32e0e5b038c6ff7e2ab5221b10727722341",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b6d5e32e0e5b038c6ff7e2ab5221b10727722341",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b6d5e32e0e5b038c6ff7e2ab5221b10727722341/comments",
    "author": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "morcos",
      "id": 4360349,
      "node_id": "MDQ6VXNlcjQzNjAzNDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4360349?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morcos",
      "html_url": "https://github.com/morcos",
      "followers_url": "https://api.github.com/users/morcos/followers",
      "following_url": "https://api.github.com/users/morcos/following{/other_user}",
      "gists_url": "https://api.github.com/users/morcos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morcos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morcos/subscriptions",
      "organizations_url": "https://api.github.com/users/morcos/orgs",
      "repos_url": "https://api.github.com/users/morcos/repos",
      "events_url": "https://api.github.com/users/morcos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morcos/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d78a880900c15c7a28ae81e6632090f25fea7fce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d78a880900c15c7a28ae81e6632090f25fea7fce",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d78a880900c15c7a28ae81e6632090f25fea7fce"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 4,
      "deletions": 1
    },
    "files": [
      {
        "sha": "21f8d69382d02055141f1a57829b8e6aaf217d9f",
        "filename": "qa/rpc-tests/pruning.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b6d5e32e0e5b038c6ff7e2ab5221b10727722341/qa/rpc-tests/pruning.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b6d5e32e0e5b038c6ff7e2ab5221b10727722341/qa/rpc-tests/pruning.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/pruning.py?ref=b6d5e32e0e5b038c6ff7e2ab5221b10727722341",
        "patch": "@@ -61,6 +61,9 @@ def setup_network(self):\n         self.address[0] = self.nodes[0].getnewaddress()\n         self.address[1] = self.nodes[1].getnewaddress()\n \n+        # Determine default relay fee\n+        self.relayfee = self.nodes[0].getnetworkinfo()[\"relayfee\"]\n+\n         connect_nodes(self.nodes[0], 1)\n         connect_nodes(self.nodes[1], 2)\n         connect_nodes(self.nodes[2], 0)\n@@ -239,7 +242,7 @@ def mine_full_block(self, node, address):\n             outputs = {}\n             t = self.utxo.pop()\n             inputs.append({ \"txid\" : t[\"txid\"], \"vout\" : t[\"vout\"]})\n-            remchange = t[\"amount\"] - Decimal(\"0.001000\")\n+            remchange = t[\"amount\"] - 100*self.relayfee # Fee must be above min relay rate for 66kb tx\n             outputs[address]=remchange\n             # Create a basic transaction that will send change back to ourself after account for a fee\n             # And then insert the 128 generated transaction outs in the middle rawtx[92] is where the #"
      }
    ]
  }
]