laanwj,2019-06-13 15:15:28,"I'm not against this butâ€¦ why would you visit the RPC server in a browser, that doesn't seem to be a use-case supports by any means?\n\nAs for your screenshots, apart from the font I don't see any difference, the error is well readable with the default of `text/html`?",https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501747421,501747421,
emilengler,2019-06-13 15:20:47,"Happened to me as an accident.\nOf course it is readable in the current format but is is invalid html and could cause errors in some browsers or could be interpreted wrong.",https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501749607,501749607,
laanwj,2019-06-13 15:22:59,"> Of course it is readable in the current format but is is invalid html and could cause errors in some browsers or could be interpreted wrong.\n\nI don't think it's even invalid HTML, just HTML without any tags. Any browser handles this.\n\nYou do have a point that if the message contained user-supplied input that might contain rogue tags, this would be a protection against CSS attacks.",https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501750571,501750571,
promag,2019-06-13 15:56:20,"```\ncurl -v localhost:18443\n\n> GET / HTTP/1.1\n> Host: localhost:18443\n> User-Agent: curl/7.54.0\n> Accept: */*\n>\n< HTTP/1.1 405 Method Not Allowed\n< Date: Thu, 13 Jun 2019 15:49:15 GMT\n< Content-Length: 41\n< Content-Type: text/html; charset=ISO-8859-1\n```\n\nLooks like `libevent` does this by default if content type isn't set. I wouldn't mind also returning JSON, like `{ """,https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501764371,501764371,
kristapsk,2019-06-13 15:59:53,"> I don't think it's even invalid HTML, just HTML without any tags. Any browser handles this.\n\nBrowsers handle, but AFAIK, at least `<!DOCTYPE>` and `<title>` tags are required for it to be a valid HTML.\n\nI also don't consider this a big deal, but returning `text/plain` here seems correct thing to do. If return data is converted to JSON, then it should be `application/json` as in other res",https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501765923,501765923,
emilengler,2019-06-13 18:05:16,@kristapsk The header is being changed to `application/json` when return is JSON.,https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-501817328,501817328,
emilengler,2019-06-15 13:21:15,So finally it needs to be said that this PR makes the error message output to a valid output,https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-502366422,502366422,
laanwj,2019-06-17 14:03:22,"I think this is getting too controversial for a one-line change of not entirely clear merit. Closing, sorry.",https://github.com/bitcoin/bitcoin/pull/16204#issuecomment-502695718,502695718,
