theuni,2015-06-19T00:20:54Z,ping @jonasschnelli. Looks like the new setban/listbanned stuff introduced a race somewhere.\n,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113325761,113325761,
theuni,2015-06-19T00:41:44Z,"@jonasschnelli CNode::ClearBanned() doesn't lock, that looks like a good candidate for the issue here.\n",https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113329757,113329757,
jonasschnelli,2015-06-19T04:56:39Z,@theuni: oh. Thanks for the finding! Will have a look at it.\n,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113370435,113370435,
jonasschnelli,2015-06-19T11:53:50Z,@theuni: Fix done. Please check https://github.com/bitcoin/bitcoin/pull/6307. Thanks.\n,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113488165,113488165,
laanwj,2015-06-19T15:26:02Z,"Nice, utACK, will respin travis after #6307 merged\n",https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113547907,113547907,
theuni,2015-06-19T15:51:37Z,"I probably should've mentioned, this one's much easier to actually test/use than OSX, because it doesn't require crazy toolchain tricks to build.\n\nYou can easily play with it by building from the attach-signature branch of https://github.com/theuni/osslsigncode/. It's just a typical ./configure && make. Then you can take a release .exe and strip off its sig:\n\n```\n./osslsigncode extract-signat",https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113554686,113554686,
laanwj,2015-06-19T16:18:27Z,Works for me:\n\n```\n$ sha256sum bitcoin-0.11.0rc2-win64-setup.exe re-signed.exe \nd2f076a051f3e17f0463e388a4a0a261ba977d66b2efcdd639765f98d03476a3  bitcoin-0.11.0rc2-win64-setup.exe\nd2f076a051f3e17f0463e388a4a0a261ba977d66b2efcdd639765f98d03476a3  re-signed.exe\n```\n,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113562504,113562504,
fanquake,2015-06-21T04:44:28Z,Also works for me:\n\n```\nxxx:osslsigncode $ ./osslsigncode extract-signature -pem -in bitcoin-0.11.0rc2-win32-setup.exe -out sig32.pem\nSucceeded\nxxx:osslsigncode $ ./osslsigncode attach-signature -sigin sig32.pem -in bitcoin-0.11.0-win32-setup.exe -out re-signed.exe\nCurrent PE checksum   : 00BA7F5F\nCalculated PE checksum: 00BA7F5F\n\nMessage digest algorithm  : SHA1\nCurrent message digest  ,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-113863387,113863387,
laanwj,2015-06-22T14:20:24Z,Cherry-picked to 0.11 as b7115995d711ae64fc4a4e5954db7f6130ffee2f\n,https://github.com/bitcoin/bitcoin/pull/6303#issuecomment-114126258,114126258,
Michagogo,2015-06-25T16:19:47Z,"Unless I'm misreading, you end up with the version not part of the setup filenames, don't you?\n",https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33273821,33273821,doc/release-process.md
Michagogo,2015-06-25T16:20:17Z,Shouldn't this be changed to `--release ${VERSION}-win-unsigned` to match OS X?\n,https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33273896,33273896,doc/release-process.md
theuni,2015-06-25T17:07:54Z,"erm, kinda. It spits out files with version in the name, but you move it back into inputs without the version (same as osx). It's done that way so that we don't have to constantly update the gitian descriptor.\n",https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33279010,33279010,doc/release-process.md
Michagogo,2015-06-25T17:09:58Z,"Well, yeah, I got that, but the expected output after following this process is that the file is present in inputs, without the version. Now that I look at it, the same discrepancy is present for OS X.\n",https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33279202,33279202,doc/release-process.md
theuni,2015-06-25T17:10:17Z,"It could be, but that would require that everyone change their current build procedures. As it is, it's only an additional (optional) build step to attach a sig.\n\nChanging it to match would be fine by me though if that's what's preferred.\n",https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33279240,33279240,doc/release-process.md
Michagogo,2015-06-25T17:12:45Z,"I would think that we would want to do it, just like we changed OS X when we introduced detached signing there. Just seems weird to have parallel processes with different filename formats.\n",https://github.com/bitcoin/bitcoin/pull/6303#discussion_r33279506,33279506,doc/release-process.md
