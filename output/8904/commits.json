[
  {
    "sha": "4cdece40419bcc97345357f9268e03b0aff400b5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0Y2RlY2U0MDQxOWJjYzk3MzQ1MzU3ZjkyNjhlMDNiMGFmZjQwMGI1",
    "commit": {
      "author": {
        "name": "Dagur Valberg Johannsson",
        "email": "dagurval@pvv.ntnu.no",
        "date": "2016-10-09T19:47:55Z"
      },
      "committer": {
        "name": "Dagur Valberg Johannsson",
        "email": "dagurval@pvv.ntnu.no",
        "date": "2016-10-10T17:37:16Z"
      },
      "message": "[qa] Fix compact block shortids for a test case",
      "tree": {
        "sha": "a98dbfe9bc3004a618233ce1f575404d2b9fe2dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a98dbfe9bc3004a618233ce1f575404d2b9fe2dc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4cdece40419bcc97345357f9268e03b0aff400b5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4cdece40419bcc97345357f9268e03b0aff400b5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4cdece40419bcc97345357f9268e03b0aff400b5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4cdece40419bcc97345357f9268e03b0aff400b5/comments",
    "author": {
      "login": "dagurval",
      "id": 92707,
      "node_id": "MDQ6VXNlcjkyNzA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/92707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dagurval",
      "html_url": "https://github.com/dagurval",
      "followers_url": "https://api.github.com/users/dagurval/followers",
      "following_url": "https://api.github.com/users/dagurval/following{/other_user}",
      "gists_url": "https://api.github.com/users/dagurval/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dagurval/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dagurval/subscriptions",
      "organizations_url": "https://api.github.com/users/dagurval/orgs",
      "repos_url": "https://api.github.com/users/dagurval/repos",
      "events_url": "https://api.github.com/users/dagurval/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dagurval/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dagurval",
      "id": 92707,
      "node_id": "MDQ6VXNlcjkyNzA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/92707?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dagurval",
      "html_url": "https://github.com/dagurval",
      "followers_url": "https://api.github.com/users/dagurval/followers",
      "following_url": "https://api.github.com/users/dagurval/following{/other_user}",
      "gists_url": "https://api.github.com/users/dagurval/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dagurval/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dagurval/subscriptions",
      "organizations_url": "https://api.github.com/users/dagurval/orgs",
      "repos_url": "https://api.github.com/users/dagurval/repos",
      "events_url": "https://api.github.com/users/dagurval/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dagurval/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bf8e68aba68d7c6a4c17a5c05fa3fa61a8da2bdd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf8e68aba68d7c6a4c17a5c05fa3fa61a8da2bdd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bf8e68aba68d7c6a4c17a5c05fa3fa61a8da2bdd"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 3,
      "deletions": 1
    },
    "files": [
      {
        "sha": "97e7190d16f1354b1b77620bda1ed7568a0bee71",
        "filename": "qa/rpc-tests/p2p-compactblocks.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4cdece40419bcc97345357f9268e03b0aff400b5/qa/rpc-tests/p2p-compactblocks.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4cdece40419bcc97345357f9268e03b0aff400b5/qa/rpc-tests/p2p-compactblocks.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/p2p-compactblocks.py?ref=4cdece40419bcc97345357f9268e03b0aff400b5",
        "patch": "@@ -382,7 +382,9 @@ def test_compactblock_requests(self, node, test_node):\n             comp_block = HeaderAndShortIDs()\n             comp_block.header = CBlockHeader(block)\n             comp_block.nonce = 0\n-            comp_block.shortids = [1]  # this is useless, and wrong\n+            [k0, k1] = comp_block.get_siphash_keys()\n+            comp_block.shortids = [\n+                    calculate_shortid(k0, k1, block.vtx[0].sha256) ]\n             test_node.send_and_ping(msg_cmpctblock(comp_block.to_p2p()))\n             assert_equal(int(node.getbestblockhash(), 16), block.hashPrevBlock)\n             # Expect a getblocktxn message."
      }
    ]
  }
]