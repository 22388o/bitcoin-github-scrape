[
  {
    "sha": "6c7e3bde1e82014510127c9ae053dbca77fbf61d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2YzdlM2JkZTFlODIwMTQ1MTAxMjdjOWFlMDUzZGJjYTc3ZmJmNjFk",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-03-14T17:13:19Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-03-14T18:21:34Z"
      },
      "message": "test: add -daemon config arg tests",
      "tree": {
        "sha": "0139bb0126e7c408f24125aec032090c889cfd6c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0139bb0126e7c408f24125aec032090c889cfd6c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6c7e3bde1e82014510127c9ae053dbca77fbf61d",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAmBOVDQACgkQT1chs9Dj\nkh0VzQ//eAF1gtS8G1feP6NXycN+zwOELdRsILV46iTBQ/FAZzofbEvvhE/J+frZ\nJboAXygwX52Uwh0Xcb8qm3M9MWB43Cserq7V9K5JaBYoZLch8NQ1KobMk3U7Njel\nCdBDbAlDKM4EVjxs9FXhKYXSEwyN5grKuw2KhLFqhiO9IQKR2PBm+lRWIS+uisEY\ncF0PI/eWeG7zIEl3Alxhnu9Zy0yCAgSMVjuYdesfjvV0FtT6/YyUuExnF+CtXMnQ\nZlLivsfaKeRB4qUzpKUM+lZyv/pkOy1eMW42vo3C4YaRzRqQ6X+h4txMBUsHvfzx\nbYMrCKa0mTzB7MUyLCg/lFjEzpuJDnltojCDAfPObT/a4Sqzp/XHmUyiB51YJ2dp\nTk1viN65r0LMvVuhUeya2C2YGvVseRVFcA2TpDd6D55CLCD3Xrnh/gnWRl2aV5Rd\nuZoENRTdZc8+6ZRK/a36tJOMc+rZbK8BBO0YUKx7iF0lMO3CR/gNa7bgzbmiefhG\nu9iAfMcoLh4/JiLqId+W9ymyqfYvgNeuIU9Ossk996TGJvzncQJdU8MwjXl4wcyD\nLzz3aMMX4KV3BrGSjQHT9TjZKqvM1S6X0vYGt5b94GJNY0tvhvi1gzXu+NXC00+a\nLyYvzrAEF8AJdnmxwfLFv585xtT8BeOmoIxjQojR+22R54oEOdQ=\n=aajZ\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIL2F1JSqcxS1KC7fko54PDUEEZ+VAFysasXvBquf+k3KCP/wEIbWKCGWwtUD\nH8q1S7n/seUI8QRgTlQ18Ag066tcKSNB3ACD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEI41NEFRay4KiD8tc1UkZXYI8QRgTlQ0\n8AikfPEwcQaKhgCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQnrQ2Z6soudHhsBkQxjejxAjxBGBORmDwCEtZ\n2JW+21sBAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BDeXSdgMpV/6bUcgRP2Wo7yCPEEYE5UNfAIPVEUQbSZkvgAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 0139bb0126e7c408f24125aec032090c889cfd6c\nparent 3c631917f3e0da84ee48295b7d2e93bc202bae0c\nauthor Jon Atack <jon@atack.com> 1615741999 +0100\ncommitter Jon Atack <jon@atack.com> 1615746094 +0100\n\ntest: add -daemon config arg tests\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6c7e3bde1e82014510127c9ae053dbca77fbf61d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6c7e3bde1e82014510127c9ae053dbca77fbf61d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6c7e3bde1e82014510127c9ae053dbca77fbf61d/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3c631917f3e0da84ee48295b7d2e93bc202bae0c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c631917f3e0da84ee48295b7d2e93bc202bae0c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3c631917f3e0da84ee48295b7d2e93bc202bae0c"
      }
    ],
    "stats": {
      "total": 51,
      "additions": 51,
      "deletions": 0
    },
    "files": [
      {
        "sha": "4aa9082f980b9cd46f791c1ecd1ad1ea2b3e62d2",
        "filename": "test/functional/feature_daemon_config_args.py",
        "status": "added",
        "additions": 50,
        "deletions": 0,
        "changes": 50,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6c7e3bde1e82014510127c9ae053dbca77fbf61d/test/functional/feature_daemon_config_args.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6c7e3bde1e82014510127c9ae053dbca77fbf61d/test/functional/feature_daemon_config_args.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_daemon_config_args.py?ref=6c7e3bde1e82014510127c9ae053dbca77fbf61d",
        "patch": "@@ -0,0 +1,50 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2021 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test -daemon config arg options.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+\n+class DaemonConfigArgsTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.usecli = True\n+        self.num_nodes = 3\n+\n+    def test_daemon(self):\n+        self.log.info('Test -daemon config arg options')\n+        self.stop_nodes()\n+\n+        self.log.debug('Test -daemon=0')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemon=\"0\"\\n']):\n+            self.start_node(0, extra_args=['-daemon=0'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -nodaemon')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemon=false\\n']):\n+            self.start_node(0, extra_args=['-nodaemon'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -nodaemon=1')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemon=false\\n']):\n+            self.start_node(0, extra_args=['-nodaemon=1'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -daemon')\n+        with self.nodes[1].assert_debug_log(expected_msgs=['Command-line arg: daemon=\"\"\\n']):\n+            self.nodes[1].start(extra_args=[\"-daemon\"])\n+        self.nodes[1].wait_until_stopped(timeout=200)\n+\n+        self.log.debug('Test -daemon=\"1\"')\n+        with self.nodes[2].assert_debug_log(expected_msgs=['Command-line arg: daemon=\"1\"\\n']):\n+            self.nodes[2].start(extra_args=[\"-daemon=1\"])\n+        self.nodes[2].wait_until_stopped(timeout=200)\n+\n+    def run_test(self):\n+        self.test_daemon()\n+\n+\n+if __name__ == '__main__':\n+    DaemonConfigArgsTest().main()"
      },
      {
        "sha": "c3d9239daaa138fc3bda0336e6fc52a06420a0d5",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6c7e3bde1e82014510127c9ae053dbca77fbf61d/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6c7e3bde1e82014510127c9ae053dbca77fbf61d/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=6c7e3bde1e82014510127c9ae053dbca77fbf61d",
        "patch": "@@ -283,6 +283,7 @@\n     'p2p_permissions.py',\n     'feature_blocksdir.py',\n     'wallet_startup.py',\n+    'feature_daemon_config_args.py',\n     'feature_config_args.py',\n     'feature_settings.py',\n     'rpc_getdescriptorinfo.py',"
      }
    ]
  },
  {
    "sha": "841eabc325f1d3949e8d1135c4dc063d92e6a182",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NDFlYWJjMzI1ZjFkMzk0OWU4ZDExMzVjNGRjMDYzZDkyZTZhMTgy",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-03-14T17:58:32Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2021-03-14T18:21:42Z"
      },
      "message": "test: add -daemonwait config arg tests",
      "tree": {
        "sha": "de9df2516bbe6982d255baec5cdb04a1f2c6aeee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de9df2516bbe6982d255baec5cdb04a1f2c6aeee"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/841eabc325f1d3949e8d1135c4dc063d92e6a182",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAmBOVDYACgkQT1chs9Dj\nkh1gpw/9GVB6ZmFXwWSSSh1mxpYEe+Ck+Id9gTwg1t17eP5ywIffvm8jk3ey5VXz\nCGDsbYoGUnxAVR+EoJpGfcQUGWnfI/rwhhudCOnQa1skWPtVx8y5uMky63M9ClfA\nI8N2H5UY5UGOfeSbKaxVYJZ2xfFUvTI0JoYeRl77UexXgFbG/zRj4Ox4IjzcwgMo\nsu7qemePEnhX+izLphKRnQYoHrthwfXMeJlsrEPcKhWmE799RHfOSX9DyUeffdRS\nExWkSlZrFPL/0buvc7GdzMo07ZnykcJuYnowia7mYaB/tgQZmOzLmOswywSU9obp\nHkObe/CdgBKwR1f9v57gQaXInKU03kwXxdQXF4ElO8cfd5ov0sh3HX0tMYRe5TqJ\nNjVTScK+yLJUv+JcPyaapgdt0rapD6WvKb0rZCO9rhaOViD7oD+zVIW28K1ENm1m\nBvhjOl7t7J7iHxLgWpFb7EBSAtFW/C6BGanHFYg//ksP3kHOr5qPgDDGKwzFP3py\nG4K4CJ7NNPFftRWDHQ3VE3LTkTLB6FSS4xLSKPVmmOtRy8Ny+aRwIJ13/M9npI14\nMXNaIFA7fCOw+GRnlSzqAKco3Wax2l9BfQ6EWgY7qJn6Mtuw/o6k1RtD1ibDemUi\nqHEFYCsvwq8/f3Zzlm9Zj1B8YlANxUE4JVPd8C4keAYCVv8N1wk=\n=+pWp\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIJlFTTASeOouaM7LD3OlChti6sc0Zy52qAbujVlBXJuTCP/wEIAc0wsrpU4u\norQ2bTWCygQI8CDdW+a4PjPDm/XD6op80vWCKeQ4afz/YN/CzZqIREbqLgjwIANM\naiqSaXjvVQMIizHXGXyvhVVY9NorlPjd/dKGJM4YCPEEYE5UN/AIAKyhAOuBPQkA\ng9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1w\ncy5vcmf/8BCgx3K1sMbdkcmlwTdkd5ojCPEEYE5UNvAI2RhNHKu6mPYAg9/jDS75\nDI4uLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9y\nZ//wENJtdIiKBoJ6mpoUtBKnkYkI8QRgTkZi8AjHKs20BCftrACD3+MNLvkMjiko\naHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbfAQ2BfmJdqw\nxUBJ7qsUsoRsoAjxBGBOVDfwCHTqq1ap92WYAIPf4w0u+QyOIyJodHRwczovL2J0\nYy5jYWxlbmRhci5jYXRhbGxheHkuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree de9df2516bbe6982d255baec5cdb04a1f2c6aeee\nparent 6c7e3bde1e82014510127c9ae053dbca77fbf61d\nauthor Jon Atack <jon@atack.com> 1615744712 +0100\ncommitter Jon Atack <jon@atack.com> 1615746102 +0100\n\ntest: add -daemonwait config arg tests\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/841eabc325f1d3949e8d1135c4dc063d92e6a182",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/841eabc325f1d3949e8d1135c4dc063d92e6a182",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/841eabc325f1d3949e8d1135c4dc063d92e6a182/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6c7e3bde1e82014510127c9ae053dbca77fbf61d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6c7e3bde1e82014510127c9ae053dbca77fbf61d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6c7e3bde1e82014510127c9ae053dbca77fbf61d"
      }
    ],
    "stats": {
      "total": 34,
      "additions": 32,
      "deletions": 2
    },
    "files": [
      {
        "sha": "e7b5467e05c20046c9d2a02863cace2a510dc9ae",
        "filename": "test/functional/feature_daemon_config_args.py",
        "status": "modified",
        "additions": 32,
        "deletions": 2,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/841eabc325f1d3949e8d1135c4dc063d92e6a182/test/functional/feature_daemon_config_args.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/841eabc325f1d3949e8d1135c4dc063d92e6a182/test/functional/feature_daemon_config_args.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_daemon_config_args.py?ref=841eabc325f1d3949e8d1135c4dc063d92e6a182",
        "patch": "@@ -2,7 +2,7 @@\n # Copyright (c) 2021 The Bitcoin Core developers\n # Distributed under the MIT software license, see the accompanying\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n-\"\"\"Test -daemon config arg options.\"\"\"\n+\"\"\"Test -daemon and -daemonwait config arg options.\"\"\"\n \n from test_framework.test_framework import BitcoinTestFramework\n \n@@ -11,7 +11,7 @@ class DaemonConfigArgsTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.usecli = True\n-        self.num_nodes = 3\n+        self.num_nodes = 5\n \n     def test_daemon(self):\n         self.log.info('Test -daemon config arg options')\n@@ -42,8 +42,38 @@ def test_daemon(self):\n             self.nodes[2].start(extra_args=[\"-daemon=1\"])\n         self.nodes[2].wait_until_stopped(timeout=200)\n \n+    def test_daemonwait(self):\n+        self.log.info('Test -daemonwait config arg options')\n+        self.stop_nodes()\n+\n+        self.log.debug('Test -daemonwait=0')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemonwait=\"0\"\\n']):\n+            self.start_node(0, extra_args=['-daemonwait=0'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -nodaemonwait')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemonwait=false\\n']):\n+            self.start_node(0, extra_args=['-nodaemonwait'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -nodaemonwait=1')\n+        with self.nodes[0].assert_debug_log(expected_msgs=['Command-line arg: daemonwait=false\\n']):\n+            self.start_node(0, extra_args=['-nodaemonwait=1'])\n+        self.stop_node(0)\n+\n+        self.log.debug('Test -daemonwait')\n+        with self.nodes[3].assert_debug_log(expected_msgs=['Command-line arg: daemonwait=\"\"\\n']):\n+            self.nodes[3].start(extra_args=[\"-daemonwait\"])\n+        self.nodes[3].wait_until_stopped(timeout=200)\n+\n+        self.log.debug('Test -daemonwait=\"1\"')\n+        with self.nodes[4].assert_debug_log(expected_msgs=['Command-line arg: daemonwait=\"1\"\\n']):\n+            self.nodes[4].start(extra_args=[\"-daemonwait=1\"])\n+        self.nodes[4].wait_until_stopped(timeout=200)\n+\n     def run_test(self):\n         self.test_daemon()\n+        self.test_daemonwait()\n \n \n if __name__ == '__main__':"
      }
    ]
  }
]