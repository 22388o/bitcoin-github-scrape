[
  {
    "sha": "c547b48c015d33374917b20a837979bd3965418c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNTQ3YjQ4YzAxNWQzMzM3NDkxN2IyMGE4Mzc5NzliZDM5NjU0MThj",
    "commit": {
      "author": {
        "name": "21E14",
        "email": "21xe14@gmail.com",
        "date": "2015-05-27T22:22:35Z"
      },
      "committer": {
        "name": "21E14",
        "email": "21xe14@gmail.com",
        "date": "2015-06-02T02:33:19Z"
      },
      "message": "Rename MAX_MONEY to AMOUNT_OVERFLOW_PROTECTION_THRESHOLD for improved semantics",
      "tree": {
        "sha": "883f05243f6c0955cf01bebd455a98fe7208ec8e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/883f05243f6c0955cf01bebd455a98fe7208ec8e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c547b48c015d33374917b20a837979bd3965418c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c547b48c015d33374917b20a837979bd3965418c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c547b48c015d33374917b20a837979bd3965418c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c547b48c015d33374917b20a837979bd3965418c/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "87550eefc1131132e940efcaf296bb399eeb02df",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/87550eefc1131132e940efcaf296bb399eeb02df",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/87550eefc1131132e940efcaf296bb399eeb02df"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 16,
      "deletions": 15
    },
    "files": [
      {
        "sha": "5c36e16a1cf4f633fc4c7d48fdf7fd2a1b03f3a3",
        "filename": "src/amount.h",
        "status": "modified",
        "additions": 6,
        "deletions": 5,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/amount.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/amount.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/amount.h?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -21,12 +21,13 @@ static const CAmount CENT = 1000000;\n  * Note that this constant is *not* the total money supply, which in Bitcoin\n  * currently happens to be less than 21,000,000 BTC for various reasons, but\n  * rather a sanity check. As this sanity check is used by consensus-critical\n- * validation code, the exact value of the MAX_MONEY constant is consensus\n- * critical; in unusual circumstances like a(nother) overflow bug that allowed\n- * for the creation of coins out of thin air modification could lead to a fork.\n+ * validation code, the exact value of the AMOUNT_OVERFLOW_PROTECTION_THRESHOLD\n+ * constant is consensus critical; in unusual circumstances like an(other)\n+ * overflow bug that allowed for the creation of coins out of thin air\n+ * modification could lead to a fork.\n  * */\n-static const CAmount MAX_MONEY = 21000000 * COIN;\n-inline bool MoneyRange(const CAmount& nValue) { return (nValue >= 0 && nValue <= MAX_MONEY); }\n+static const CAmount AMOUNT_OVERFLOW_PROTECTION_THRESHOLD = 21000000 * COIN;\n+inline bool MoneyRange(const CAmount& nValue) { return (nValue >= 0 && nValue <= AMOUNT_OVERFLOW_PROTECTION_THRESHOLD); }\n \n /** Type-safe wrapper class to for fee rates\n  * (how much to pay based on transaction size)"
      },
      {
        "sha": "80155403cef82d02961b11f53876ff8310b37478",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -812,7 +812,7 @@ bool CheckTransaction(const CTransaction& tx, CValidationState &state)\n         if (txout.nValue < 0)\n             return state.DoS(100, error(\"CheckTransaction(): txout.nValue negative\"),\n                              REJECT_INVALID, \"bad-txns-vout-negative\");\n-        if (txout.nValue > MAX_MONEY)\n+        if (txout.nValue > AMOUNT_OVERFLOW_PROTECTION_THRESHOLD)\n             return state.DoS(100, error(\"CheckTransaction(): txout.nValue too high\"),\n                              REJECT_INVALID, \"bad-txns-vout-toolarge\");\n         nValueOut += txout.nValue;\n@@ -873,7 +873,7 @@ CAmount GetMinRelayFee(const CTransaction& tx, unsigned int nBytes, bool fAllowF\n     }\n \n     if (!MoneyRange(nMinFee))\n-        nMinFee = MAX_MONEY;\n+        nMinFee = AMOUNT_OVERFLOW_PROTECTION_THRESHOLD;\n     return nMinFee;\n }\n "
      },
      {
        "sha": "c479a566aa22cffbb33cd3ac19683734589b014a",
        "filename": "src/policy/fees.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/policy/fees.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/policy/fees.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.h?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -195,10 +195,10 @@ static const double SUFFICIENT_PRITXS = .2;\n // Minimum and Maximum values for tracking fees and priorities\n static const double MIN_FEERATE = 10;\n static const double MAX_FEERATE = 1e7;\n-static const double INF_FEERATE = MAX_MONEY;\n+static const double INF_FEERATE = AMOUNT_OVERFLOW_PROTECTION_THRESHOLD;\n static const double MIN_PRIORITY = 10;\n static const double MAX_PRIORITY = 1e16;\n-static const double INF_PRIORITY = 1e9 * MAX_MONEY;\n+static const double INF_PRIORITY = 1e9 * AMOUNT_OVERFLOW_PROTECTION_THRESHOLD;\n \n // We have to lump transactions into buckets based on fee or priority, but we want to be able\n // to give accurate estimates over a large range of potential fees and priorities"
      },
      {
        "sha": "0c429cbee8262429ffcdde262ce4d46071c6b183",
        "filename": "src/qt/bitcoinunits.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/qt/bitcoinunits.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/qt/bitcoinunits.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoinunits.cpp?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -216,5 +216,5 @@ QVariant BitcoinUnits::data(const QModelIndex &index, int role) const\n \n CAmount BitcoinUnits::maxMoney()\n {\n-    return MAX_MONEY;\n+    return AMOUNT_OVERFLOW_PROTECTION_THRESHOLD;\n }"
      },
      {
        "sha": "5f2c47db0551b59e18fa67633846d88512163bf8",
        "filename": "src/qt/paymentserver.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/qt/paymentserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/qt/paymentserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/paymentserver.cpp?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -799,7 +799,7 @@ bool PaymentServer::verifyAmount(const CAmount& requestAmount)\n         qWarning() << QString(\"PaymentServer::%1: Payment request amount out of allowed range (%2, allowed 0 - %3).\")\n             .arg(__func__)\n             .arg(requestAmount)\n-            .arg(MAX_MONEY);\n+            .arg(AMOUNT_OVERFLOW_PROTECTION_THRESHOLD);\n     }\n     return fVerified;\n }"
      },
      {
        "sha": "49d8702852d0dbd716a797163044ef953ce37944",
        "filename": "src/test/data/tx_invalid.json",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/test/data/tx_invalid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/test/data/tx_invalid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_invalid.json?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -42,11 +42,11 @@\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0xae609aca8061d77c5e111f6bb62501a6bbe2bfdb EQUAL\"]],\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006d4830450220063222cbb128731fc09de0d7323746539166544d6c1df84d867ccea84bcc8903022100bf568e8552844de664cd41648a031554327aa8844af34b4f27397c65b92c04de0123210243ec37dee0e2e053a9c976f43147e79bc7d9dc606ea51010af1ac80db6b069e1acffffffff01ffffffffffffffff015100000000\", \"P2SH\"],\n \n-[\"MAX_MONEY + 1 output\"],\n+[\"AMOUNT_OVERFLOW_PROTECTION_THRESHOLD + 1 output\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0x32afac281462b822adbec5094b8d4d337dd5bd6a EQUAL\"]],\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006e493046022100e1eadba00d9296c743cb6ecc703fd9ddc9b3cd12906176a226ae4c18d6b00796022100a71aef7d2874deff681ba6080f1b278bac7bb99c61b08a85f4311970ffe7f63f012321030c0588dc44d92bdcbf8e72093466766fdc265ead8db64517b0c542275b70fffbacffffffff010140075af0750700015100000000\", \"P2SH\"],\n \n-[\"MAX_MONEY output + 1 output\"],\n+[\"AMOUNT_OVERFLOW_PROTECTION_THRESHOLD output + 1 output\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0xb558cbf4930954aa6a344363a15668d7477ae716 EQUAL\"]],\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006d483045022027deccc14aa6668e78a8c9da3484fbcd4f9dcc9bb7d1b85146314b21b9ae4d86022100d0b43dece8cfb07348de0ca8bc5b86276fa88f7f2138381128b7c36ab2e42264012321029bb13463ddd5d2cc05da6e84e37536cb9525703cfd8f43afdb414988987a92f6acffffffff020040075af075070001510001000000000000015100000000\", \"P2SH\"],\n "
      },
      {
        "sha": "2a39a697907e2e35841971194d3fae3c201c3783",
        "filename": "src/test/data/tx_valid.json",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c547b48c015d33374917b20a837979bd3965418c/src/test/data/tx_valid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c547b48c015d33374917b20a837979bd3965418c/src/test/data/tx_valid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_valid.json?ref=c547b48c015d33374917b20a837979bd3965418c",
        "patch": "@@ -65,11 +65,11 @@\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006e493046022100c66c9cdf4c43609586d15424c54707156e316d88b0a1534c9e6b0d4f311406310221009c0fe51dbc9c4ab7cc25d3fdbeccf6679fe6827f08edf2b4a9f16ee3eb0e438a0123210338e8034509af564c62644c07691942e0c056752008a173c89f60ab2a88ac2ebfacffffffff010000000000000000015100000000\", \"P2SH\"],\n \n [\"Tests for CheckTransaction()\"],\n-[\"MAX_MONEY output\"],\n+[\"AMOUNT_OVERFLOW_PROTECTION_THRESHOLD output\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0x32afac281462b822adbec5094b8d4d337dd5bd6a EQUAL\"]],\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006e493046022100e1eadba00d9296c743cb6ecc703fd9ddc9b3cd12906176a226ae4c18d6b00796022100a71aef7d2874deff681ba6080f1b278bac7bb99c61b08a85f4311970ffe7f63f012321030c0588dc44d92bdcbf8e72093466766fdc265ead8db64517b0c542275b70fffbacffffffff010040075af0750700015100000000\", \"P2SH\"],\n \n-[\"MAX_MONEY output + 0 output\"],\n+[\"AMOUNT_OVERFLOW_PROTECTION_THRESHOLD output + 0 output\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0xb558cbf4930954aa6a344363a15668d7477ae716 EQUAL\"]],\n \"01000000010001000000000000000000000000000000000000000000000000000000000000000000006d483045022027deccc14aa6668e78a8c9da3484fbcd4f9dcc9bb7d1b85146314b21b9ae4d86022100d0b43dece8cfb07348de0ca8bc5b86276fa88f7f2138381128b7c36ab2e42264012321029bb13463ddd5d2cc05da6e84e37536cb9525703cfd8f43afdb414988987a92f6acffffffff020040075af075070001510000000000000000015100000000\", \"P2SH\"],\n "
      }
    ]
  }
]