BitcoinPullTester,2013-05-16T22:05:40Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/3457681627384baf41c7b1d809d87a52a2c94e07 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18032219,18032219,
Diapolo,2013-05-17T05:59:41Z,"I think it would be nice to not just use our default cryptic message, but provide some details (not only for this new condition).\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18045139,18045139,
mikehearn,2013-05-17T22:22:48Z,"Overall looks good to me. Agree with Diapolo that the log message could be more helpful, like by including the fork block hash and stating why transactions may be incorrect.\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18089071,18089071,
TheBlueMatt,2013-05-18T01:20:42Z,"OK, rewrote the alert messages, now you get:\n'Warning: Large-work fork detected, forking after block $HASH' for %s in -alertnotify\n""CheckForkWarningConditions: Warning: Large valid fork found\n  forking the chain at height %d (%s)\n  lasting to height %d (%s).\n"" in debug.log for large valid-work fork\n""CheckForkWarningConditions: Warning: Found invalid chain at least ~6 blocks longer than our b",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18093162,18093162,
BitcoinPullTester,2013-05-18T01:47:19Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/7c4ad5d8dffb116cbb8c2e429f19452cbb056d38 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18093475,18093475,
mikehearn,2013-06-05T10:00:18Z,Looks good to me.\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-18966187,18966187,
sipa,2013-06-22T19:47:28Z,"I think this code belongs in main rather than alert (rationale: it needs access to the current chainstate, which is maintained by main - alert shouldn't need a dependency on that).\n\nCode in general looks good, but needs a rebase.\n\nAlso, I expect the most common case for a message like this to be a locally corrupted database. Maybe that is worth mentioning is the text?\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-19863626,19863626,
wtogami,2013-07-04T10:18:59Z,"Interesting ... ""CheckForkWarningConditions: Warning: Large valid fork found\n forking the chain at height"" can happen with a daemon that does not fail if your database is corrupted in just the right way.  Sorry I don't have a copy of the corrupted database to demonstrate this.  I can imagine this will be a false alarm for someone in the future, and it would be ideal if the daemon had a way to dif",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-20469689,20469689,
wtogami,2013-07-06T09:05:19Z,Also note that this puts lots of needlessly scary-looking warnings in debug.log during a reindex.  Perhaps it should be silent during a reindex if prior to the last checkpoint?\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-20551510,20551510,
luke-jr,2013-07-17T04:14:55Z,@TheBlueMatt Rebase needed.\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21091143,21091143,
TheBlueMatt,2013-07-22T09:45:58Z,"@wtogami Hmm...I dont see any fork messages during -reindex, are you talking about a -reindex on a corrupted chainstate?\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21334120,21334120,
TheBlueMatt,2013-07-22T10:14:10Z,"Rebased, moved code to main.cpp, because its not like that file isnt already too full.\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21335281,21335281,
BitcoinPullTester,2013-07-23T00:59:53Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/f65e7092a200ee6e9453058c3dafbab62d9b4dcc for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21386907,21386907,
mikehearn,2013-07-23T18:26:12Z,LGTM. Can we merge this now?\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21435281,21435281,
wtogami,2013-07-24T05:59:31Z,Is the patch intended to warn about forks during the -reindex process where it is unnecessarily scary? Can it be somehow silent about forks until after the last checkpoint?\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21465367,21465367,
gmaxwell,2013-07-24T06:21:06Z,"Please do not further overload checkpoints.  ... but yea, warning during reindex is obviously not good. :)\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21465993,21465993,
luke-jr,2013-07-24T06:30:02Z,"Probably a condition of this should be ""at least one block in the fork must have been rejected by us""?\n",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21466257,21466257,
gavinandresen,2013-07-25T06:18:23Z,"RE: warning during reindex: suppressing the alert if best-other-tip-time is more than a day (a week? or maybe if max(other-tip-time, best-tip-time) is...) in the past is probably the right thing to do: reasoning would be we don't care about old fork events that have long-since been resolved.\n\nBut before implementing that, can we get a block index that demonstrates false positives during a reinde",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21535251,21535251,
wtogami,2013-07-25T07:20:23Z,"I removed these three patches from litecoin-0.8.x not because it was broken, but from concern that it would unnecessarily scare people with false positives that appeared to me during a normal reindex.  Although I am not entirely certain it was the type of false positive you are asking for.  I didn't investigate too hard as it seemed best to simply remove the patches for the upcoming release meant ",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-21537259,21537259,
wtogami,2013-08-09T09:52:51Z,"https://github.com/litecoin-project/litecoin/tree/exp-forkalert\nFYI: I tested it yesterday after re-applying the three patches above (an older version of this PR that applied cleanly to bitcoin-0.8.3, prior to the recent rebase).  A fresh Litecoin blockchain sync and a subsequent -reindex both were uneventful.\n\nA month ago I saw loud and scary warnings during -reindex twice in a row.  I don't k",https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-22385254,22385254,
gavinandresen,2013-08-13T06:33:37Z,ACK.  I re-indexed an old chain that has lots of forks and got no scary warnings.\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-22545695,22545695,
mikehearn,2013-08-13T09:01:43Z,I updated BIP50 with the fact that this is done. Great work Matt!\n,https://github.com/bitcoin/bitcoin/pull/2658#issuecomment-22551666,22551666,
mikehearn,2013-07-23T18:25:58Z,whose\n,https://github.com/bitcoin/bitcoin/pull/2658#discussion_r5352647,5352647,src/main.cpp
