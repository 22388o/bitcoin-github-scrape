[
  {
    "sha": "adb143e30f92ee75471576f18b695f9829f97a41",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphZGIxNDNlMzBmOTJlZTc1NDcxNTc2ZjE4YjY5NWY5ODI5Zjk3YTQx",
    "commit": {
      "author": {
        "name": "Ben Woosley",
        "email": "ben.woosley@gmail.com",
        "date": "2018-04-09T08:07:06Z"
      },
      "committer": {
        "name": "Ben Woosley",
        "email": "ben.woosley@gmail.com",
        "date": "2018-04-09T08:07:35Z"
      },
      "message": "Make use of cpuid.h bit definitions\n\nThese are defined in cpuid.h and are self-documenting for more expressive code.\nhttps://clang.llvm.org/doxygen/cpuid_8h_source.html",
      "tree": {
        "sha": "4a022c4270bdd45b2c131ce246a42503f3b41432",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4a022c4270bdd45b2c131ce246a42503f3b41432"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/adb143e30f92ee75471576f18b695f9829f97a41",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+XLHXoy4Dim7e8hvTYykuhgECQYFAlrLH24ACgkQTYykuhgE\nCQZPuw//b+l94pFXR+wbwwwhHieIsMB1jd+JtoiU70zwTMu3NJFGBmUbf396Kk8c\nLQIdBbUucGoZGVSi+yQ3rTy9St3EFdWqrt/HaKX++9qLza/fswmm5+BxWbfwQzNi\nyHbnYxhb6F22/sf9pTackkEbTy0SNdBGN8McArv2PG05Q+oWlu6QlsqR8tK8fRCy\nRnuHfbyRc1BRdT4tlginpxV8MBLx/XnMf4VGJPdzW9B/VisxaVMH+2w0PzpPYIqq\ny6V5VnlDgxEz1hfuA0cXzlObKkJfjTia5vOu40RkzLhgHDHmNzmbs2IiDTQtuJP2\nUs1rwbZudmz7c4YPHOMvb4P8+tb91ojAb0fEvGvxWiIa7hTKh/NOzvifdXMlPl4y\nW0kUyytNZ8WHXHZIUNXdvsZq73hdGo1DZU/0ut4zTY9dV/q2u2PjY3awP7uHDsqs\n6SEzA2HOnwe33EmtzryX48DfOQAbRJgVzPhoMWkz0c3PqIsrFWhKPgvFhOvDYyGS\n0CiQ97hgYxx2v7bqMNnD/Pbx7zwiHYdGf2G8nNPym9vBDPu/rA6MEmlp8LfDkYbV\ntfmelvJxe97H/8pWcXwAvP1FSnZ1yWzt0XhO+E+b7yHSYM2nsOCYgBav+tVgXzR+\n3hN0+2Ou539h4Sml04KpLOM1KfleIrawz/8LwbVYLrbtZSbrs9E=\n=VsfF\n-----END PGP SIGNATURE-----",
        "payload": "tree 4a022c4270bdd45b2c131ce246a42503f3b41432\nparent 4781813b56177f8cfc1bf3d4160f75f3ec15e7e2\nauthor Ben Woosley <ben.woosley@gmail.com> 1523261226 -0700\ncommitter Ben Woosley <ben.woosley@gmail.com> 1523261255 -0700\n\nMake use of cpuid.h bit definitions\n\nThese are defined in cpuid.h and are self-documenting for more expressive code.\nhttps://clang.llvm.org/doxygen/cpuid_8h_source.html\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/adb143e30f92ee75471576f18b695f9829f97a41",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/adb143e30f92ee75471576f18b695f9829f97a41",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/adb143e30f92ee75471576f18b695f9829f97a41/comments",
    "author": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4781813b56177f8cfc1bf3d4160f75f3ec15e7e2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4781813b56177f8cfc1bf3d4160f75f3ec15e7e2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4781813b56177f8cfc1bf3d4160f75f3ec15e7e2"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 2,
      "deletions": 3
    },
    "files": [
      {
        "sha": "8a7ef3365138b882343a349977d7fe737ac9a555",
        "filename": "src/crypto/sha256.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/adb143e30f92ee75471576f18b695f9829f97a41/src/crypto/sha256.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/adb143e30f92ee75471576f18b695f9829f97a41/src/crypto/sha256.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/crypto/sha256.cpp?ref=adb143e30f92ee75471576f18b695f9829f97a41",
        "patch": "@@ -180,7 +180,7 @@ std::string SHA256AutoDetect()\n {\n #if defined(USE_ASM) && (defined(__x86_64__) || defined(__amd64__))\n     uint32_t eax, ebx, ecx, edx;\n-    if (__get_cpuid(1, &eax, &ebx, &ecx, &edx) && (ecx >> 19) & 1) {\n+    if (__get_cpuid(1, &eax, &ebx, &ecx, &edx) && (ecx & bit_SSE4_1)) {\n         Transform = sha256_sse4::Transform;\n         assert(SelfTest(Transform));\n         return \"sse4\";"
      },
      {
        "sha": "fcdf465974adc7ad62461c381425952884031338",
        "filename": "src/random.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/adb143e30f92ee75471576f18b695f9829f97a41/src/random.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/adb143e30f92ee75471576f18b695f9829f97a41/src/random.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/random.cpp?ref=adb143e30f92ee75471576f18b695f9829f97a41",
        "patch": "@@ -76,11 +76,10 @@ static inline int64_t GetPerformanceCounter()\n #if defined(__x86_64__) || defined(__amd64__) || defined(__i386__)\n static std::atomic<bool> hwrand_initialized{false};\n static bool rdrand_supported = false;\n-static constexpr uint32_t CPUID_F1_ECX_RDRAND = 0x40000000;\n static void RDRandInit()\n {\n     uint32_t eax, ebx, ecx, edx;\n-    if (__get_cpuid(1, &eax, &ebx, &ecx, &edx) && (ecx & CPUID_F1_ECX_RDRAND)) {\n+    if (__get_cpuid(1, &eax, &ebx, &ecx, &edx) && (ecx & bit_RDRND)) {\n         LogPrintf(\"Using RdRand as an additional entropy source\\n\");\n         rdrand_supported = true;\n     }"
      }
    ]
  }
]