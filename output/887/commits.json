[
  {
    "sha": "3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZDBhMGE5YjllODRkYTMyNDU0ZDI0YTc4MjhjMzg1YjZkMTFmY2Fl",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-02-23T03:09:06Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-02-23T03:09:06Z"
      },
      "message": "Make deps build deterministic and upgrade to libpng 1.5.9.",
      "tree": {
        "sha": "44098a6518de592c6c65698e9ab068490e04e88f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/44098a6518de592c6c65698e9ab068490e04e88f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "5c032825219a78756599fe638d8740961ff8f66e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c032825219a78756599fe638d8740961ff8f66e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5c032825219a78756599fe638d8740961ff8f66e"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 20,
      "deletions": 10
    },
    "files": [
      {
        "sha": "776a8da00ada46adecea0ee1296df97da829532f",
        "filename": "contrib/gitian-descriptors/deps-win32.yml",
        "status": "modified",
        "additions": 17,
        "deletions": 7,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/contrib/gitian-descriptors/deps-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/contrib/gitian-descriptors/deps-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/deps-win32.yml?ref=3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
        "patch": "@@ -7,7 +7,7 @@ architectures:\n packages: \n - \"mingw32\"\n - \"git-core\"\n-- \"unzip\"\n+- \"zip\"\n - \"faketime\"\n - \"wine\"\n reference_datetime: \"2011-01-30 00:00:00\"\n@@ -17,9 +17,13 @@ files:\n - \"db-4.8.30.NC.tar.gz\"\n - \"miniupnpc-1.6.tar.gz\"\n - \"zlib-1.2.6.tar.gz\"\n-- \"libpng-1.5.8.tar.gz\"\n+- \"libpng-1.5.9.tar.gz\"\n - \"qrencode-3.2.0.tar.bz2\"\n script: |\n+  #\n+  export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n+  export FAKETIME=$REFERENCE_DATETIME\n+  export TZ=UTC\n   #\n   tar xzf openssl-1.0.0e.tar.gz\n   cd openssl-1.0.0e\n@@ -46,16 +50,22 @@ script: |\n   make -f win32/Makefile.gcc PREFIX=i586-mingw32msvc- $MAKEOPTS\n   cd ..\n   #\n-  tar xzf libpng-1.5.8.tar.gz\n-  cd libpng-1.5.8\n-  ./configure CC=i586-mingw32msvc-cc AR=i586-mingw32msvc-ar STRIP=i586-mingw32msvc-strip RANLIB=i586-mingw32msvc-ranlib OBJDUMP=i586-mingw32msvc-objdump LD=i586-mingw32msvc-ld LDFLAGS=\"-L../zlib-1.2.6/\" CFLAGS=\"-I../zlib-1.2.6/\"\n+  tar xzf libpng-1.5.9.tar.gz\n+  cd libpng-1.5.9\n+  ./configure -disable-shared CC=i586-mingw32msvc-cc AR=i586-mingw32msvc-ar STRIP=i586-mingw32msvc-strip RANLIB=i586-mingw32msvc-ranlib OBJDUMP=i586-mingw32msvc-objdump LD=i586-mingw32msvc-ld LDFLAGS=\"-L../zlib-1.2.6/\" CFLAGS=\"-I../zlib-1.2.6/\"\n   make $MAKEOPTS\n   cd ..\n   #\n   tar xjf qrencode-3.2.0.tar.bz2\n   cd qrencode-3.2.0\n-  ./configure CC=i586-mingw32msvc-cc AR=i586-mingw32msvc-ar STRIP=i586-mingw32msvc-strip RANLIB=i586-mingw32msvc-ranlib OBJDUMP=i586-mingw32msvc-objdump LD=i586-mingw32msvc-ld png_LIBS=\"../libpng-1.5.8/.libs/libpng15.a ../zlib-1.2.6/libz.a\" png_CFLAGS=\"-I../libpng-1.5.8\"\n+  ./configure CC=i586-mingw32msvc-cc AR=i586-mingw32msvc-ar STRIP=i586-mingw32msvc-strip RANLIB=i586-mingw32msvc-ranlib OBJDUMP=i586-mingw32msvc-objdump LD=i586-mingw32msvc-ld png_LIBS=\"../libpng-1.5.9/.libs/libpng15.a ../zlib-1.2.6/libz.a\" png_CFLAGS=\"-I../libpng-1.5.9\"\n   make $MAKEOPTS\n   cd ..\n   #\n-  tar cjvpf \"$OUTDIR/bitcoin-deps-0.0.1.tbz2\" \"$HOME/build\"\n+  zip -r $OUTDIR/bitcoin-deps-0.0.3.zip \\\n+    $(ls qrencode-*/{qrencode.h,.libs/libqrencode.{,l}a} | sort) \\\n+    $(ls db-*/build_unix/{libdb_cxx.a,db.h,db_cxx.h,libdb.a,.libs/libdb_cxx-?.?.a} | sort) \\\n+    $(find openssl-* -name '*.a' -o -name '*.h' | sort) \\\n+    $(find miniupnpc -name '*.h' -o -name 'libminiupnpc.a' | sort)\n+  # Kill wine processes as gitian won't figure out we are done otherwise\n+  killall wineserver services.exe explorer.exe winedevice.exe"
      },
      {
        "sha": "9e372c716b876ce3d479cfe5703e3ef72c821b8e",
        "filename": "contrib/gitian-descriptors/gitian-win32.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/contrib/gitian-descriptors/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/contrib/gitian-descriptors/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win32.yml?ref=3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
        "patch": "@@ -17,7 +17,7 @@ remotes:\n files:\n - \"qt-win32-4.7.4-gitian.zip\"\n - \"boost-win32-1.47.0-gitian.zip\"\n-- \"bitcoin-deps-0.0.1.tbz2\"\n+- \"bitcoin-deps-0.0.3.zip\"\n script: |\n   #\n   mkdir $HOME/qt\n@@ -39,7 +39,7 @@ script: |\n   mv include/boost .\n   cd ..\n   #\n-  tar -C / -xjvpf bitcoin-deps-0.0.1.tbz2\n+  unzip bitcoin-deps-0.0.3.zip\n   #\n   find -type f | xargs touch --date=\"$REFERENCE_DATETIME\"\n   #"
      },
      {
        "sha": "841edbda6d220468d06bbdbafbc5f0f4fd40cbf5",
        "filename": "doc/release-process.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/doc/release-process.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d0a0a9b9e84da32454d24a7828c385b6d11fcae/doc/release-process.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.txt?ref=3d0a0a9b9e84da32454d24a7828c385b6d11fcae",
        "patch": "@@ -27,7 +27,7 @@\n    wget 'http://www.openssl.org/source/openssl-1.0.0e.tar.gz'\n    wget 'http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz'\n    wget 'http://zlib.net/zlib-1.2.6.tar.gz'\n-   wget 'ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng-1.5.8.tar.gz'\n+   wget 'ftp://ftp.simplesystems.org/pub/libpng/png/src/libpng-1.5.9.tar.gz'\n    wget 'http://fukuchi.org/works/qrencode/qrencode-3.2.0.tar.bz2'\n    wget 'http://downloads.sourceforge.net/project/boost/boost/1.47.0/boost_1_47_0.tar.bz2'\n    wget 'http://download.qt.nokia.com/qt/source/qt-everywhere-opensource-src-4.7.4.tar.gz'"
      }
    ]
  }
]