[
  {
    "sha": "26702e6930519c7d063796f2572a5b4ef5f29b06",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNjcwMmU2OTMwNTE5YzdkMDYzNzk2ZjI1NzJhNWI0ZWY1ZjI5YjA2",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-10-18T16:05:26Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-10-18T16:06:19Z"
      },
      "message": "qt: merge walletstack and walletframe\n\nThere were too many levels of indirection here, and the functionality of\nwalletframe and walletstack can easily be merged. This commit\nmerges the two which cuts a lot of lines of boilerplate code.",
      "tree": {
        "sha": "68f0f4bed9553ba7e926b9e954147c9299ab16b9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/68f0f4bed9553ba7e926b9e954147c9299ab16b9"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/26702e6930519c7d063796f2572a5b4ef5f29b06",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26702e6930519c7d063796f2572a5b4ef5f29b06",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/26702e6930519c7d063796f2572a5b4ef5f29b06",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26702e6930519c7d063796f2572a5b4ef5f29b06/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "81cab378cc351eb0e176dd7733a29df931d4f877",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/81cab378cc351eb0e176dd7733a29df931d4f877",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/81cab378cc351eb0e176dd7733a29df931d4f877"
      }
    ],
    "stats": {
      "total": 430,
      "additions": 106,
      "deletions": 324
    },
    "files": [
      {
        "sha": "5892f6aca039dba7eba35d6dfb66bd3d1974486b",
        "filename": "src/qt/Makefile.am",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/Makefile.am?ref=26702e6930519c7d063796f2572a5b4ef5f29b06",
        "patch": "@@ -51,7 +51,7 @@ QT_MOC_CPP = moc_aboutdialog.cpp moc_addressbookpage.cpp \\\n   moc_signverifymessagedialog.cpp moc_splashscreen.cpp moc_trafficgraphwidget.cpp moc_transactiondesc.cpp \\\n   moc_transactiondescdialog.cpp moc_transactionfilterproxy.cpp \\\n   moc_transactiontablemodel.cpp moc_transactionview.cpp moc_walletframe.cpp \\\n-  moc_walletmodel.cpp moc_walletstack.cpp moc_walletview.cpp\n+  moc_walletmodel.cpp moc_walletview.cpp\n \n BITCOIN_MM = macdockiconhandler.mm macnotificationhandler.mm\n QR_CPP = qrcodedialog.cpp\n@@ -75,7 +75,7 @@ BITCOIN_QT_H  = aboutdialog.h addressbookpage.h addresstablemodel.h \\\n   sendcoinsdialog.h sendcoinsentry.h signverifymessagedialog.h splashscreen.h \\\n   trafficgraphwidget.h transactiondescdialog.h transactiondesc.h transactionfilterproxy.h \\\n   transactionrecord.h transactiontablemodel.h transactionview.h walletframe.h \\\n-  walletmodel.h walletmodeltransaction.h walletstack.h walletview.h\n+  walletmodel.h walletmodeltransaction.h walletview.h\n \n RES_ICONS = res/icons/bitcoin.png res/icons/address-book.png \\\n   res/icons/quit.png res/icons/send.png res/icons/toolbar.png \\\n@@ -105,7 +105,7 @@ BITCOIN_QT_CPP = aboutdialog.cpp addressbookpage.cpp \\\n   signverifymessagedialog.cpp splashscreen.cpp trafficgraphwidget.cpp transactiondesc.cpp \\\n   transactiondescdialog.cpp transactionfilterproxy.cpp transactionrecord.cpp \\\n   transactiontablemodel.cpp transactionview.cpp walletframe.cpp \\\n-  walletmodel.cpp walletmodeltransaction.cpp walletstack.cpp walletview.cpp\n+  walletmodel.cpp walletmodeltransaction.cpp walletview.cpp\n \n RES_IMAGES = res/images/about.png res/images/splash.png \\\n   res/images/splash_testnet.png"
      },
      {
        "sha": "56b081170a24a5f6a0069542f626e9a9c943a86f",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 79,
        "deletions": 27,
        "changes": 106,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=26702e6930519c7d063796f2572a5b4ef5f29b06",
        "patch": "@@ -5,20 +5,21 @@\n  * The Bitcoin Developers 2011-2013\n  */\n #include \"walletframe.h\"\n+#include \"walletview.h\"\n #include \"bitcoingui.h\"\n-#include \"walletstack.h\"\n \n #include <QHBoxLayout>\n #include <QMessageBox>\n+#include <QStackedWidget>\n \n WalletFrame::WalletFrame(BitcoinGUI *_gui) :\n-    QFrame(_gui)\n+    QFrame(_gui),\n+    gui(_gui)\n {\n     // Leave HBox hook for adding a list view later\n     QHBoxLayout *walletFrameLayout = new QHBoxLayout(this);\n     setContentsMargins(0,0,0,0);\n-    walletStack = new WalletStack(this);\n-    walletStack->setBitcoinGUI(_gui);\n+    walletStack = new QStackedWidget(this);\n     walletFrameLayout->setContentsMargins(0,0,0,0);\n     walletFrameLayout->addWidget(walletStack);\n }\n@@ -29,95 +30,146 @@ WalletFrame::~WalletFrame()\n \n void WalletFrame::setClientModel(ClientModel *clientModel)\n {\n-    if (clientModel)\n-        walletStack->setClientModel(clientModel);\n+    this->clientModel = clientModel;\n }\n \n bool WalletFrame::addWallet(const QString& name, WalletModel *walletModel)\n {\n-    return walletStack->addWallet(name, walletModel);\n+    if (!gui || !clientModel || !walletModel || mapWalletViews.count(name) > 0)\n+        return false;\n+\n+    WalletView *walletView = new WalletView(this);\n+    walletView->setBitcoinGUI(gui);\n+    walletView->setClientModel(clientModel);\n+    walletView->setWalletModel(walletModel);\n+    walletView->showOutOfSyncWarning(bOutOfSync);\n+\n+    walletView->gotoOverviewPage(); /* XXX we should go to the currently selected page */\n+    walletStack->addWidget(walletView);\n+    mapWalletViews[name] = walletView;\n+\n+    // Ensure a walletView is able to show the main window\n+    connect(walletView, SIGNAL(showNormalIfMinimized()), gui, SLOT(showNormalIfMinimized()));\n+\n+    return true;\n }\n \n bool WalletFrame::setCurrentWallet(const QString& name)\n {\n-    // TODO: Check if valid name\n-    return walletStack->setCurrentWallet(name);\n+    if (mapWalletViews.count(name) == 0)\n+        return false;\n+\n+    WalletView *walletView = mapWalletViews.value(name);\n+    walletStack->setCurrentWidget(walletView);\n+    walletView->setEncryptionStatus();\n+    return true;\n }\n \n void WalletFrame::removeAllWallets()\n {\n-    walletStack->removeAllWallets();\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        walletStack->removeWidget(i.value());\n+    mapWalletViews.clear();\n }\n \n bool WalletFrame::handlePaymentRequest(const SendCoinsRecipient &recipient)\n {\n-    return walletStack->handlePaymentRequest(recipient);\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (!walletView)\n+        return false;\n+\n+    return walletView->handlePaymentRequest(recipient);\n }\n \n void WalletFrame::showOutOfSyncWarning(bool fShow)\n {\n-    if (!walletStack)\n-        return;\n-\n-    walletStack->showOutOfSyncWarning(fShow);\n+    bOutOfSync = fShow;\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->showOutOfSyncWarning(fShow);\n }\n \n void WalletFrame::gotoOverviewPage()\n {\n-    walletStack->gotoOverviewPage();\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->gotoOverviewPage();\n }\n \n void WalletFrame::gotoHistoryPage()\n {\n-    walletStack->gotoHistoryPage();\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->gotoHistoryPage();\n }\n \n void WalletFrame::gotoAddressBookPage()\n {\n-    walletStack->gotoAddressBookPage();\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->gotoAddressBookPage();\n }\n \n void WalletFrame::gotoReceiveCoinsPage()\n {\n-    walletStack->gotoReceiveCoinsPage();\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->gotoReceiveCoinsPage();\n }\n \n void WalletFrame::gotoSendCoinsPage(QString addr)\n {\n-    walletStack->gotoSendCoinsPage(addr);\n+    QMap<QString, WalletView*>::const_iterator i;\n+    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n+        i.value()->gotoSendCoinsPage(addr);\n }\n \n void WalletFrame::gotoSignMessageTab(QString addr)\n {\n-    walletStack->gotoSignMessageTab(addr);\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->gotoSignMessageTab(addr);\n }\n \n void WalletFrame::gotoVerifyMessageTab(QString addr)\n {\n-    walletStack->gotoSignMessageTab(addr);\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->gotoVerifyMessageTab(addr);\n }\n \n void WalletFrame::encryptWallet(bool status)\n {\n-    walletStack->encryptWallet(status);\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->encryptWallet(status);\n }\n \n void WalletFrame::backupWallet()\n {\n-    walletStack->backupWallet();\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->backupWallet();\n }\n \n void WalletFrame::changePassphrase()\n {\n-    walletStack->changePassphrase();\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->changePassphrase();\n }\n \n void WalletFrame::unlockWallet()\n {\n-    walletStack->unlockWallet();\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->unlockWallet();\n }\n \n void WalletFrame::setEncryptionStatus()\n {\n-    walletStack->setEncryptionStatus();\n+    WalletView *walletView = (WalletView*)walletStack->currentWidget();\n+    if (walletView)\n+        walletView->setEncryptionStatus();\n }"
      },
      {
        "sha": "4cc6d14e4143ab70165a0ccd1ee4b449de1cbcc7",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 12,
        "deletions": 2,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=26702e6930519c7d063796f2572a5b4ef5f29b06",
        "patch": "@@ -8,12 +8,17 @@\n #define WALLETFRAME_H\n \n #include <QFrame>\n+#include <QMap>\n \n class BitcoinGUI;\n class ClientModel;\n class SendCoinsRecipient;\n class WalletModel;\n-class WalletStack;\n+class WalletView;\n+\n+QT_BEGIN_NAMESPACE\n+class QStackedWidget;\n+QT_END_NAMESPACE\n \n class WalletFrame : public QFrame\n {\n@@ -35,7 +40,12 @@ class WalletFrame : public QFrame\n     void showOutOfSyncWarning(bool fShow);\n \n private:\n-    WalletStack *walletStack;\n+    QStackedWidget *walletStack;\n+    BitcoinGUI *gui;\n+    ClientModel *clientModel;\n+    QMap<QString, WalletView*> mapWalletViews;\n+\n+    bool bOutOfSync;\n \n public slots:\n     /** Switch to overview (home) page */"
      },
      {
        "sha": "4ef87aed52645574a1e12d5a48c1043b5d4a0a87",
        "filename": "src/qt/walletstack.cpp",
        "status": "removed",
        "additions": 0,
        "deletions": 174,
        "changes": 174,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/81cab378cc351eb0e176dd7733a29df931d4f877/src/qt/walletstack.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/81cab378cc351eb0e176dd7733a29df931d4f877/src/qt/walletstack.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletstack.cpp?ref=81cab378cc351eb0e176dd7733a29df931d4f877",
        "patch": "@@ -1,174 +0,0 @@\n-/*\n- * Qt4 bitcoin GUI.\n- *\n- * W.J. van der Laan 2011-2012\n- * The Bitcoin Developers 2011-2013\n- */\n-#include \"walletstack.h\"\n-#include \"walletview.h\"\n-#include \"bitcoingui.h\"\n-\n-#include <QMap>\n-#include <QMessageBox>\n-\n-WalletStack::WalletStack(QWidget *parent) :\n-    QStackedWidget(parent),\n-    gui(0),\n-    clientModel(0),\n-    bOutOfSync(true)\n-{\n-    setContentsMargins(0,0,0,0);\n-}\n-\n-WalletStack::~WalletStack()\n-{\n-}\n-\n-bool WalletStack::addWallet(const QString& name, WalletModel *walletModel)\n-{\n-    if (!gui || !clientModel || !walletModel || mapWalletViews.count(name) > 0)\n-        return false;\n-\n-    WalletView *walletView = new WalletView(this, gui);\n-    walletView->setBitcoinGUI(gui);\n-    walletView->setClientModel(clientModel);\n-    walletView->setWalletModel(walletModel);\n-    walletView->showOutOfSyncWarning(bOutOfSync);\n-    addWidget(walletView);\n-    mapWalletViews[name] = walletView;\n-\n-    // Ensure a walletView is able to show the main window\n-\tconnect(walletView, SIGNAL(showNormalIfMinimized()), gui, SLOT(showNormalIfMinimized()));\n-\n-    return true;\n-}\n-\n-bool WalletStack::removeWallet(const QString& name)\n-{\n-    if (mapWalletViews.count(name) == 0)\n-        return false;\n-\n-    WalletView *walletView = mapWalletViews.take(name);\n-    removeWidget(walletView);\n-    return true;\n-}\n-\n-void WalletStack::removeAllWallets()\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        removeWidget(i.value());\n-    mapWalletViews.clear();\n-}\n-\n-bool WalletStack::handlePaymentRequest(const SendCoinsRecipient &recipient)\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (!walletView)\n-        return false;\n-\n-    return walletView->handlePaymentRequest(recipient);\n-}\n-\n-void WalletStack::showOutOfSyncWarning(bool fShow)\n-{\n-    bOutOfSync = fShow;\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->showOutOfSyncWarning(fShow);\n-}\n-\n-void WalletStack::gotoOverviewPage()\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoOverviewPage();\n-}\n-\n-void WalletStack::gotoHistoryPage()\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoHistoryPage();\n-}\n-\n-void WalletStack::gotoAddressBookPage()\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoAddressBookPage();\n-}\n-\n-void WalletStack::gotoReceiveCoinsPage()\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoReceiveCoinsPage();\n-}\n-\n-void WalletStack::gotoSendCoinsPage(QString addr)\n-{\n-    QMap<QString, WalletView*>::const_iterator i;\n-    for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        i.value()->gotoSendCoinsPage(addr);\n-}\n-\n-void WalletStack::gotoSignMessageTab(QString addr)\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->gotoSignMessageTab(addr);\n-}\n-\n-void WalletStack::gotoVerifyMessageTab(QString addr)\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->gotoVerifyMessageTab(addr);\n-}\n-\n-void WalletStack::encryptWallet(bool status)\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->encryptWallet(status);\n-}\n-\n-void WalletStack::backupWallet()\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->backupWallet();\n-}\n-\n-void WalletStack::changePassphrase()\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->changePassphrase();\n-}\n-\n-void WalletStack::unlockWallet()\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->unlockWallet();\n-}\n-\n-void WalletStack::setEncryptionStatus()\n-{\n-    WalletView *walletView = (WalletView*)currentWidget();\n-    if (walletView)\n-        walletView->setEncryptionStatus();\n-}\n-\n-bool WalletStack::setCurrentWallet(const QString& name)\n-{\n-    if (mapWalletViews.count(name) == 0)\n-        return false;\n-\n-    WalletView *walletView = mapWalletViews.value(name);\n-    setCurrentWidget(walletView);\n-    walletView->setEncryptionStatus();\n-    return true;\n-}"
      },
      {
        "sha": "74b9f0908172dc1b7a225003770b616abf2605da",
        "filename": "src/qt/walletstack.h",
        "status": "removed",
        "additions": 0,
        "deletions": 104,
        "changes": 104,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/81cab378cc351eb0e176dd7733a29df931d4f877/src/qt/walletstack.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/81cab378cc351eb0e176dd7733a29df931d4f877/src/qt/walletstack.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletstack.h?ref=81cab378cc351eb0e176dd7733a29df931d4f877",
        "patch": "@@ -1,104 +0,0 @@\n-/*\n- * Qt4 bitcoin GUI.\n- *\n- * W.J. van der Laan 2011-2012\n- * The Bitcoin Developers 2011-2013\n- */\n-#ifndef WALLETSTACK_H\n-#define WALLETSTACK_H\n-\n-#include <QStackedWidget>\n-#include <QMap>\n-#include <boost/shared_ptr.hpp>\n-\n-class BitcoinGUI;\n-class TransactionTableModel;\n-class ClientModel;\n-class WalletModel;\n-class WalletView;\n-class TransactionView;\n-class OverviewPage;\n-class AddressBookPage;\n-class SendCoinsDialog;\n-class SendCoinsRecipient;\n-class SignVerifyMessageDialog;\n-class Notificator;\n-class RPCConsole;\n-\n-class CWalletManager;\n-\n-QT_BEGIN_NAMESPACE\n-class QLabel;\n-class QModelIndex;\n-QT_END_NAMESPACE\n-\n-/*\n-  WalletStack class. This class is a container for WalletView instances. It takes the place of centralWidget.\n-  It was added to support multiple wallet functionality. It communicates with both the client and the\n-  wallet models to give the user an up-to-date view of the current core state. It manages all the wallet views\n-  it contains and updates them accordingly.\n- */\n-class WalletStack : public QStackedWidget\n-{\n-    Q_OBJECT\n-\n-public:\n-    explicit WalletStack(QWidget *parent = 0);\n-    ~WalletStack();\n-\n-    void setBitcoinGUI(BitcoinGUI *gui) { this->gui = gui; }\n-\n-    void setClientModel(ClientModel *clientModel) { this->clientModel = clientModel; }\n-\n-    bool addWallet(const QString& name, WalletModel *walletModel);\n-    bool removeWallet(const QString& name);\n-\n-    void removeAllWallets();\n-\n-    bool handlePaymentRequest(const SendCoinsRecipient &recipient);\n-\n-    void showOutOfSyncWarning(bool fShow);\n-\n-private:\n-    BitcoinGUI *gui;\n-    ClientModel *clientModel;\n-    QMap<QString, WalletView*> mapWalletViews;\n-\n-    bool bOutOfSync;\n-\n-public slots:\n-    bool setCurrentWallet(const QString& name);\n-\n-    /** Switch to overview (home) page */\n-    void gotoOverviewPage();\n-    /** Switch to history (transactions) page */\n-    void gotoHistoryPage();\n-    /** Switch to address book page */\n-    void gotoAddressBookPage();\n-    /** Switch to receive coins page */\n-    void gotoReceiveCoinsPage();\n-    /** Switch to send coins page */\n-    void gotoSendCoinsPage(QString addr = \"\");\n-\n-    /** Show Sign/Verify Message dialog and switch to sign message tab */\n-    void gotoSignMessageTab(QString addr = \"\");\n-    /** Show Sign/Verify Message dialog and switch to verify message tab */\n-    void gotoVerifyMessageTab(QString addr = \"\");\n-\n-    /** Encrypt the wallet */\n-    void encryptWallet(bool status);\n-    /** Backup the wallet */\n-    void backupWallet();\n-    /** Change encrypted wallet passphrase */\n-    void changePassphrase();\n-    /** Ask for passphrase to unlock wallet temporarily */\n-    void unlockWallet();\n-\n-    /** Set the encryption status as shown in the UI.\n-     @param[in] status            current encryption status\n-     @see WalletModel::EncryptionStatus\n-     */\n-    void setEncryptionStatus();\n-};\n-\n-#endif // WALLETSTACK_H"
      },
      {
        "sha": "39678690ce884f1641c54f26b0698fb3212955eb",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 12,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=26702e6930519c7d063796f2572a5b4ef5f29b06",
        "patch": "@@ -29,9 +29,9 @@\n #include <QFileDialog>\n #include <QPushButton>\n \n-WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n+WalletView::WalletView(QWidget *parent):\n     QStackedWidget(parent),\n-    gui(_gui),\n+    gui(0),\n     clientModel(0),\n     walletModel(0)\n {\n@@ -54,12 +54,8 @@ WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n     transactionsPage->setLayout(vbox);\n \n     addressBookPage = new AddressBookPage(AddressBookPage::ForEditing, AddressBookPage::SendingTab);\n-\n     receiveCoinsPage = new AddressBookPage(AddressBookPage::ForEditing, AddressBookPage::ReceivingTab);\n-\n-    sendCoinsPage = new SendCoinsDialog(gui);\n-\n-    signVerifyMessageDialog = new SignVerifyMessageDialog(gui);\n+    sendCoinsPage = new SendCoinsDialog();\n \n     addWidget(overviewPage);\n     addWidget(transactionsPage);\n@@ -82,8 +78,6 @@ WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n     connect(receiveCoinsPage, SIGNAL(signMessage(QString)), this, SLOT(gotoSignMessageTab(QString)));\n     // Clicking on \"Export\" allows to export the transaction list\n     connect(exportButton, SIGNAL(clicked()), transactionView, SLOT(exportClicked()));\n-\n-    gotoOverviewPage();\n }\n \n WalletView::~WalletView()\n@@ -120,7 +114,6 @@ void WalletView::setWalletModel(WalletModel *walletModel)\n         addressBookPage->setModel(walletModel->getAddressTableModel());\n         receiveCoinsPage->setModel(walletModel->getAddressTableModel());\n         sendCoinsPage->setModel(walletModel);\n-        signVerifyMessageDialog->setModel(walletModel);\n \n         setEncryptionStatus();\n         connect(walletModel, SIGNAL(encryptionStatusChanged(int)), gui, SLOT(setEncryptionStatus(int)));\n@@ -185,7 +178,10 @@ void WalletView::gotoSendCoinsPage(QString addr)\n \n void WalletView::gotoSignMessageTab(QString addr)\n {\n-    // call show() in showTab_SM()\n+    // calls show() in showTab_SM()\n+    SignVerifyMessageDialog *signVerifyMessageDialog = new SignVerifyMessageDialog(this);\n+    signVerifyMessageDialog->setAttribute(Qt::WA_DeleteOnClose);\n+    signVerifyMessageDialog->setModel(walletModel);\n     signVerifyMessageDialog->showTab_SM(true);\n \n     if (!addr.isEmpty())\n@@ -194,7 +190,10 @@ void WalletView::gotoSignMessageTab(QString addr)\n \n void WalletView::gotoVerifyMessageTab(QString addr)\n {\n-    // call show() in showTab_VM()\n+    // calls show() in showTab_VM()\n+    SignVerifyMessageDialog *signVerifyMessageDialog = new SignVerifyMessageDialog(this);\n+    signVerifyMessageDialog->setAttribute(Qt::WA_DeleteOnClose);\n+    signVerifyMessageDialog->setModel(walletModel);\n     signVerifyMessageDialog->showTab_VM(true);\n \n     if (!addr.isEmpty())"
      },
      {
        "sha": "e3ff253d3c5a2a544386063250a0a39f006802cb",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/26702e6930519c7d063796f2572a5b4ef5f29b06/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=26702e6930519c7d063796f2572a5b4ef5f29b06",
        "patch": "@@ -36,7 +36,7 @@ class WalletView : public QStackedWidget\n     Q_OBJECT\n \n public:\n-    explicit WalletView(QWidget *parent, BitcoinGUI *_gui);\n+    explicit WalletView(QWidget *parent);\n     ~WalletView();\n \n     void setBitcoinGUI(BitcoinGUI *gui);\n@@ -64,7 +64,6 @@ class WalletView : public QStackedWidget\n     AddressBookPage *addressBookPage;\n     AddressBookPage *receiveCoinsPage;\n     SendCoinsDialog *sendCoinsPage;\n-    SignVerifyMessageDialog *signVerifyMessageDialog;\n \n     TransactionView *transactionView;\n "
      }
    ]
  },
  {
    "sha": "163145938ca2ff52e633136ca49e89f880f8e89b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxNjMxNDU5MzhjYTJmZjUyZTYzMzEzNmNhNDllODlmODgwZjhlODli",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-10-18T16:43:07Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-10-19T15:51:26Z"
      },
      "message": "qt: remove awkward way of setting GUI pages\n\nSelecting the button for a pages was going through bitcoingui->walletframe->walletview->bitcoingui.\nBecause of this, the actions for the pages had to be exposed on the BitcoinGUI object.",
      "tree": {
        "sha": "7216657535e1d2666ef26cd701c7999daec73e55",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7216657535e1d2666ef26cd701c7999daec73e55"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/163145938ca2ff52e633136ca49e89f880f8e89b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/163145938ca2ff52e633136ca49e89f880f8e89b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/163145938ca2ff52e633136ca49e89f880f8e89b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/163145938ca2ff52e633136ca49e89f880f8e89b/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "26702e6930519c7d063796f2572a5b4ef5f29b06",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/26702e6930519c7d063796f2572a5b4ef5f29b06",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/26702e6930519c7d063796f2572a5b4ef5f29b06"
      }
    ],
    "stats": {
      "total": 54,
      "additions": 28,
      "deletions": 26
    },
    "files": [
      {
        "sha": "3caab818076b88f54e1da3d9cd25a809b9352ca9",
        "filename": "doc/multiwallet-qt.md",
        "status": "modified",
        "additions": 5,
        "deletions": 9,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/doc/multiwallet-qt.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/doc/multiwallet-qt.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/multiwallet-qt.md?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -4,15 +4,15 @@ Multiwallet Qt Development and Integration Strategy\n In order to support loading of multiple wallets in bitcoin-qt, a few changes in the UI architecture will be needed.\n Fortunately, only four of the files in the existing project are affected by this change.\n \n-Three new classes have been implemented in three new .h/.cpp file pairs, with much of the functionality that was previously\n+Two new classes have been implemented in two new .h/.cpp file pairs, with much of the functionality that was previously\n implemented in the BitcoinGUI class moved over to these new classes.\n \n The two existing files most affected, by far, are bitcoingui.h and bitcoingui.cpp, as the BitcoinGUI class will require\n some major retrofitting.\n \n Only requiring some minor changes is bitcoin.cpp.\n \n-Finally, three new headers and source files will have to be added to bitcoin-qt.pro.\n+Finally, two new headers and source files will have to be added to bitcoin-qt.pro.\n \n Changes to class BitcoinGUI\n ---------------------------\n@@ -23,13 +23,9 @@ A new class called *WalletView* inheriting from QStackedWidget has been written\n these page views. In addition to owning these five page views, a WalletView also has a pointer to a WalletModel instance.\n This allows the construction of multiple WalletView objects, each rendering a distinct wallet.\n \n-A second class called *WalletStack*, also inheriting from QStackedWidget, has been written to handle switching focus between\n-different loaded wallets. In its current implementation, as a QStackedWidget, only one wallet can be viewed at a time -\n-but this can be changed later.\n-\n-A third class called *WalletFrame* inheriting from QFrame has been written as a container for embedding all wallet-related\n-controls into BitcoinGUI. At present it just contains a WalletStack instance and does little more than passing on messages\n-from BitcoinGUI to the WalletStack, which in turn passes them to the individual WalletViews. It is a WalletFrame instance\n+A second class called *WalletFrame* inheriting from QFrame has been written as a container for embedding all wallet-related\n+controls into BitcoinGUI. At present it contains the WalletView instances for the wallets and does little more than passing on messages\n+from BitcoinGUI to the currently selected WalletView. It is a WalletFrame instance\n that takes the place of what used to be centralWidget in BitcoinGUI. The purpose of this class is to allow future\n refinements of the wallet controls with minimal need for further modifications to BitcoinGUI, thus greatly simplifying\n merges while reducing the risk of breaking top-level stuff."
      },
      {
        "sha": "3336a8afd33e3c7d0b82f25cda86987d159e456e",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -447,26 +447,31 @@ void BitcoinGUI::aboutClicked()\n \n void BitcoinGUI::gotoOverviewPage()\n {\n+    overviewAction->setChecked(true);\n     if (walletFrame) walletFrame->gotoOverviewPage();\n }\n \n void BitcoinGUI::gotoHistoryPage()\n {\n+    historyAction->setChecked(true);\n     if (walletFrame) walletFrame->gotoHistoryPage();\n }\n \n void BitcoinGUI::gotoAddressBookPage()\n {\n+    addressBookAction->setChecked(true);\n     if (walletFrame) walletFrame->gotoAddressBookPage();\n }\n \n void BitcoinGUI::gotoReceiveCoinsPage()\n {\n+    receiveCoinsAction->setChecked(true);\n     if (walletFrame) walletFrame->gotoReceiveCoinsPage();\n }\n \n void BitcoinGUI::gotoSendCoinsPage(QString addr)\n {\n+    sendCoinsAction->setChecked(true);\n     if (walletFrame) walletFrame->gotoSendCoinsPage(addr);\n }\n "
      },
      {
        "sha": "e5a92fed932938bf870f7c4463967310dbc479d0",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 0,
        "deletions": 8,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -61,14 +61,6 @@ class BitcoinGUI : public QMainWindow\n \n     void removeAllWallets();\n \n-    /** Used by WalletView to allow access to needed QActions */\n-    // Todo: Use Qt signals for these\n-    QAction * getOverviewAction() { return overviewAction; }\n-    QAction * getHistoryAction() { return historyAction; }\n-    QAction * getAddressBookAction() { return addressBookAction; }\n-    QAction * getReceiveCoinsAction() { return receiveCoinsAction; }\n-    QAction * getSendCoinsAction() { return sendCoinsAction; }\n-\n protected:\n     void changeEvent(QEvent *e);\n     void closeEvent(QCloseEvent *event);"
      },
      {
        "sha": "f754bd5e71dc912629c6ca02c6ef55d6eed40ad1",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 1,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -44,7 +44,8 @@ bool WalletFrame::addWallet(const QString& name, WalletModel *walletModel)\n     walletView->setWalletModel(walletModel);\n     walletView->showOutOfSyncWarning(bOutOfSync);\n \n-    walletView->gotoOverviewPage(); /* XXX we should go to the currently selected page */\n+     /* TODO we should goto the currently selected page once dynamically adding wallets is supported */\n+    walletView->gotoOverviewPage();\n     walletStack->addWidget(walletView);\n     mapWalletViews[name] = walletView;\n \n@@ -65,6 +66,16 @@ bool WalletFrame::setCurrentWallet(const QString& name)\n     return true;\n }\n \n+bool WalletFrame::removeWallet(const QString &name)\n+{\n+    if (mapWalletViews.count(name) == 0)\n+        return false;\n+\n+    WalletView *walletView = mapWalletViews.take(name);\n+    walletStack->removeWidget(walletView);\n+    return true;\n+}\n+\n void WalletFrame::removeAllWallets()\n {\n     QMap<QString, WalletView*>::const_iterator i;"
      },
      {
        "sha": "50119879638b890ee80093f98989086bced5a5dd",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -32,7 +32,7 @@ class WalletFrame : public QFrame\n \n     bool addWallet(const QString& name, WalletModel *walletModel);\n     bool setCurrentWallet(const QString& name);\n-\n+    bool removeWallet(const QString &name);\n     void removeAllWallets();\n \n     bool handlePaymentRequest(const SendCoinsRecipient& recipient);"
      },
      {
        "sha": "d7cef971eda742d4e3bea21e81aab9bb0965afaa",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 7,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/163145938ca2ff52e633136ca49e89f880f8e89b/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=163145938ca2ff52e633136ca49e89f880f8e89b",
        "patch": "@@ -64,7 +64,6 @@ WalletView::WalletView(QWidget *parent):\n     addWidget(sendCoinsPage);\n \n     // Clicking on a transaction on the overview page simply sends you to transaction history page\n-    connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), this, SLOT(gotoHistoryPage()));\n     connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), transactionView, SLOT(focusTransaction(QModelIndex)));\n \n     // Double-clicking on a transaction on the transaction history page shows details\n@@ -87,6 +86,10 @@ WalletView::~WalletView()\n void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n {\n     this->gui = gui;\n+    if(gui)\n+    {\n+        connect(overviewPage, SIGNAL(transactionClicked(QModelIndex)), gui, SLOT(gotoHistoryPage()));\n+    }\n }\n \n void WalletView::setClientModel(ClientModel *clientModel)\n@@ -103,7 +106,7 @@ void WalletView::setClientModel(ClientModel *clientModel)\n void WalletView::setWalletModel(WalletModel *walletModel)\n {\n     this->walletModel = walletModel;\n-    if (walletModel)\n+    if (walletModel && gui)\n     {\n         // Receive and report messages from wallet thread\n         connect(walletModel, SIGNAL(message(QString,QString,unsigned int)), gui, SLOT(message(QString,QString,unsigned int)));\n@@ -145,31 +148,26 @@ void WalletView::incomingTransaction(const QModelIndex& parent, int start, int /\n \n void WalletView::gotoOverviewPage()\n {\n-    gui->getOverviewAction()->setChecked(true);\n     setCurrentWidget(overviewPage);\n }\n \n void WalletView::gotoHistoryPage()\n {\n-    gui->getHistoryAction()->setChecked(true);\n     setCurrentWidget(transactionsPage);\n }\n \n void WalletView::gotoAddressBookPage()\n {\n-    gui->getAddressBookAction()->setChecked(true);\n     setCurrentWidget(addressBookPage);\n }\n \n void WalletView::gotoReceiveCoinsPage()\n {\n-    gui->getReceiveCoinsAction()->setChecked(true);\n     setCurrentWidget(receiveCoinsPage);\n }\n \n void WalletView::gotoSendCoinsPage(QString addr)\n {\n-    gui->getSendCoinsAction()->setChecked(true);\n     setCurrentWidget(sendCoinsPage);\n \n     if (!addr.isEmpty())"
      }
    ]
  }
]