[
  {
    "sha": "8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YjIzYjJjMWI4YjMyMWVjOWJhMjc3NjdiN2VhOWJkYjVkYWQ5NTU5",
    "commit": {
      "author": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2015-11-26T22:32:59Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:16:00Z"
      },
      "message": "Qt/Options: Adding network port to GUI settings, fixes #7039\n\nAdds Network port input box to the Network tab in the Options dialog.\n-port takes priority over the GUI setting.\nIf left blank, it will default to the default port",
      "tree": {
        "sha": "c3567c7e61bf4fdd8770644a18bacaa89f08792d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c3567c7e61bf4fdd8770644a18bacaa89f08792d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/comments",
    "author": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cbe9ae8c69b947c8cdff2e0fbf5b57c9aa09b770",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cbe9ae8c69b947c8cdff2e0fbf5b57c9aa09b770",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/cbe9ae8c69b947c8cdff2e0fbf5b57c9aa09b770"
      }
    ],
    "stats": {
      "total": 86,
      "additions": 80,
      "deletions": 6
    },
    "files": [
      {
        "sha": "04be7e8c2273df7082e7899843c20769b0061179",
        "filename": "src/qt/forms/optionsdialog.ui",
        "status": "modified",
        "additions": 54,
        "deletions": 5,
        "changes": 59,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/forms/optionsdialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/forms/optionsdialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/optionsdialog.ui?ref=8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "patch": "@@ -186,6 +186,55 @@\n        <string>&amp;Network</string>\n       </attribute>\n       <layout class=\"QVBoxLayout\" name=\"verticalLayout_Network\">\n+       <item>\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_1_Network\">\n+         <item>\n+          <widget class=\"QLabel\" name=\"networkPortLabel\">\n+           <property name=\"text\">\n+            <string>Network &amp;port</string>\n+           </property>\n+           <property name=\"textFormat\">\n+            <enum>Qt::PlainText</enum>\n+           </property>\n+           <property name=\"buddy\">\n+            <cstring>networkPort</cstring>\n+           </property>\n+          </widget>\n+         </item>\n+         <item>\n+          <widget class=\"QLineEdit\" name=\"networkPort\">\n+           <property name=\"minimumSize\">\n+            <size>\n+             <width>55</width>\n+             <height>0</height>\n+            </size>\n+           </property>\n+           <property name=\"maximumSize\">\n+            <size>\n+             <width>55</width>\n+             <height>16777215</height>\n+            </size>\n+           </property>\n+           <property name=\"toolTip\">\n+            <string>Network port (e.g. 8333)</string>\n+           </property>\n+          </widget>\n+         </item>\n+         <item>\n+          <spacer name=\"horizontalSpacer_1_Network\">\n+           <property name=\"orientation\">\n+            <enum>Qt::Horizontal</enum>\n+           </property>\n+           <property name=\"sizeHint\" stdset=\"0\">\n+            <size>\n+             <width>40</width>\n+             <height>20</height>\n+            </size>\n+           </property>\n+          </spacer>\n+         </item>\n+        </layout>\n+       </item>\n        <item>\n         <widget class=\"QCheckBox\" name=\"mapPortUpnp\">\n          <property name=\"toolTip\">\n@@ -217,7 +266,7 @@\n         </widget>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_1_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyIpLabel\">\n            <property name=\"text\">\n@@ -283,7 +332,7 @@\n           </widget>\n          </item>\n          <item>\n-          <spacer name=\"horizontalSpacer_1_Network\">\n+          <spacer name=\"horizontalSpacer_2_Network\">\n            <property name=\"orientation\">\n             <enum>Qt::Horizontal</enum>\n            </property>\n@@ -298,7 +347,7 @@\n         </layout>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_3_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyActiveNets\">\n            <property name=\"text\">\n@@ -379,7 +428,7 @@\n           </widget>\n          </item>\n          <item>\n-          <spacer name=\"horizontalSpacer_2_Network\">\n+          <spacer name=\"horizontalSpacer_3_Network\">\n            <property name=\"orientation\">\n             <enum>Qt::Horizontal</enum>\n            </property>\n@@ -404,7 +453,7 @@\n         </widget>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_3_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_4_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyIpTorLabel\">\n            <property name=\"text\">"
      },
      {
        "sha": "1aa77e418493cd792d64f9c09b2ddd630498a78a",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "patch": "@@ -44,6 +44,8 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     ui->threadsScriptVerif->setMinimum(-GetNumCores());\n     ui->threadsScriptVerif->setMaximum(MAX_SCRIPTCHECK_THREADS);\n \n+    ui->networkPort->setValidator(new QIntValidator(1, 65535, this));\n+\n     /* Network elements init */\n #ifndef USE_UPNP\n     ui->mapPortUpnp->setEnabled(false);\n@@ -165,6 +167,7 @@ void OptionsDialog::setModel(OptionsModel *model)\n     /* Wallet */\n     connect(ui->spendZeroConfChange, SIGNAL(clicked(bool)), this, SLOT(showRestartWarning()));\n     /* Network */\n+    connect(ui->networkPort, SIGNAL(textChanged(const QString &)), this, SLOT(showRestartWarning()));\n     connect(ui->allowIncoming, SIGNAL(clicked(bool)), this, SLOT(showRestartWarning()));\n     connect(ui->connectSocks, SIGNAL(clicked(bool)), this, SLOT(showRestartWarning()));\n     connect(ui->connectSocksTor, SIGNAL(clicked(bool)), this, SLOT(showRestartWarning()));\n@@ -185,6 +188,7 @@ void OptionsDialog::setMapper()\n     mapper->addMapping(ui->coinControlFeatures, OptionsModel::CoinControlFeatures);\n \n     /* Network */\n+    mapper->addMapping(ui->networkPort, OptionsModel::NetworkPort);\n     mapper->addMapping(ui->mapPortUpnp, OptionsModel::MapPortUPnP);\n     mapper->addMapping(ui->allowIncoming, OptionsModel::Listen);\n "
      },
      {
        "sha": "ccc8f64b77d19f75ce69162d7a20b168259958c5",
        "filename": "src/qt/optionsmodel.cpp",
        "status": "modified",
        "additions": 21,
        "deletions": 1,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.cpp?ref=8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "patch": "@@ -18,6 +18,7 @@\n #include \"netbase.h\"\n #include \"txdb.h\" // for -dbcache defaults\n #include \"intro.h\" \n+#include \"chainparams.h\"\n \n #ifdef ENABLE_WALLET\n #include \"wallet/wallet.h\"\n@@ -112,6 +113,11 @@ void OptionsModel::Init(bool resetSettings)\n #endif\n \n     // Network\n+    if (!settings.contains(\"nNetworkPort\"))\n+        settings.setValue(\"nNetworkPort\", (quint16)Params().GetDefaultPort());\n+    if (!SoftSetArg(\"-port\", settings.value(\"nNetworkPort\").toString().toStdString()))\n+        addOverriddenOption(\"-port\");\n+\n     if (!settings.contains(\"fUseUPnP\"))\n         settings.setValue(\"fUseUPnP\", DEFAULT_UPNP);\n     if (!SoftSetBoolArg(\"-upnp\", settings.value(\"fUseUPnP\").toBool()))\n@@ -192,6 +198,8 @@ QVariant OptionsModel::data(const QModelIndex & index, int role) const\n             return fHideTrayIcon;\n         case MinimizeToTray:\n             return fMinimizeToTray;\n+        case NetworkPort:\n+            return settings.value(\"nNetworkPort\");\n         case MapPortUPnP:\n #ifdef USE_UPNP\n             return settings.value(\"fUseUPnP\");\n@@ -275,6 +283,18 @@ bool OptionsModel::setData(const QModelIndex & index, const QVariant & value, in\n             fMinimizeToTray = value.toBool();\n             settings.setValue(\"fMinimizeToTray\", fMinimizeToTray);\n             break;\n+        case NetworkPort:\n+            if (settings.value(\"nNetworkPort\") != value) {\n+                // If the port input box is empty, set to default port\n+                if (value.toString().isEmpty()) {\n+                    settings.setValue(\"nNetworkPort\", (quint16)Params().GetDefaultPort());\n+                }\n+                else {\n+                    settings.setValue(\"nNetworkPort\", (quint16)value.toInt());\n+                }\n+                setRestartRequired(true);\n+            }\n+            break;\n         case MapPortUPnP: // core option - can be changed on-the-fly\n             settings.setValue(\"fUseUPnP\", value.toBool());\n             MapPort(value.toBool());\n@@ -464,4 +484,4 @@ void OptionsModel::checkAndMigrate()\n \n         settings.setValue(strSettingsVersionKey, CLIENT_VERSION);\n     }\n-}\n\\ No newline at end of file\n+}"
      },
      {
        "sha": "029e8a1b2464ff83ea4288d37054a53a6463c7cd",
        "filename": "src/qt/optionsmodel.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559/src/qt/optionsmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsmodel.h?ref=8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "patch": "@@ -30,6 +30,7 @@ class OptionsModel : public QAbstractListModel\n         StartAtStartup,         // bool\n         HideTrayIcon,           // bool\n         MinimizeToTray,         // bool\n+        NetworkPort,            // int\n         MapPortUPnP,            // bool\n         MinimizeOnClose,        // bool\n         ProxyUse,               // bool"
      }
    ]
  },
  {
    "sha": "fb9083d9741518b102eb4d18b31f645a20718379",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYjkwODNkOTc0MTUxOGIxMDJlYjRkMThiMzFmNjQ1YTIwNzE4Mzc5",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T18:53:00Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:16:14Z"
      },
      "message": "Qt/Options: Avoid changing names of unrelated widgets",
      "tree": {
        "sha": "0ac9a51cab9d6838937fc90c0c956cd142e96426",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ac9a51cab9d6838937fc90c0c956cd142e96426"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fb9083d9741518b102eb4d18b31f645a20718379",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fb9083d9741518b102eb4d18b31f645a20718379",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fb9083d9741518b102eb4d18b31f645a20718379",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fb9083d9741518b102eb4d18b31f645a20718379/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8b23b2c1b8b321ec9ba27767b7ea9bdb5dad9559"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 7,
      "deletions": 7
    },
    "files": [
      {
        "sha": "5fc0c8a08ff2d01deed78d5b81c44d2963ebc7f8",
        "filename": "src/qt/forms/optionsdialog.ui",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fb9083d9741518b102eb4d18b31f645a20718379/src/qt/forms/optionsdialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fb9083d9741518b102eb4d18b31f645a20718379/src/qt/forms/optionsdialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/optionsdialog.ui?ref=fb9083d9741518b102eb4d18b31f645a20718379",
        "patch": "@@ -187,7 +187,7 @@\n       </attribute>\n       <layout class=\"QVBoxLayout\" name=\"verticalLayout_Network\">\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_1_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_Network_Port\">\n          <item>\n           <widget class=\"QLabel\" name=\"networkPortLabel\">\n            <property name=\"text\">\n@@ -221,7 +221,7 @@\n           </widget>\n          </item>\n          <item>\n-          <spacer name=\"horizontalSpacer_1_Network\">\n+          <spacer name=\"horizontalSpacer_Network_Port\">\n            <property name=\"orientation\">\n             <enum>Qt::Horizontal</enum>\n            </property>\n@@ -266,7 +266,7 @@\n         </widget>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_1_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyIpLabel\">\n            <property name=\"text\">\n@@ -332,7 +332,7 @@\n           </widget>\n          </item>\n          <item>\n-          <spacer name=\"horizontalSpacer_2_Network\">\n+          <spacer name=\"horizontalSpacer_1_Network\">\n            <property name=\"orientation\">\n             <enum>Qt::Horizontal</enum>\n            </property>\n@@ -347,7 +347,7 @@\n         </layout>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_3_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_2_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyActiveNets\">\n            <property name=\"text\">\n@@ -428,7 +428,7 @@\n           </widget>\n          </item>\n          <item>\n-          <spacer name=\"horizontalSpacer_3_Network\">\n+          <spacer name=\"horizontalSpacer_2_Network\">\n            <property name=\"orientation\">\n             <enum>Qt::Horizontal</enum>\n            </property>\n@@ -453,7 +453,7 @@\n         </widget>\n        </item>\n        <item>\n-        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_4_Network\">\n+        <layout class=\"QHBoxLayout\" name=\"horizontalLayout_3_Network\">\n          <item>\n           <widget class=\"QLabel\" name=\"proxyIpTorLabel\">\n            <property name=\"text\">"
      }
    ]
  },
  {
    "sha": "4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0Y2QwZDQ2MzhmY2ZhZDdjMjc2OTUwNDZhNmYwOTE5MGRiYzNjYjFm",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T18:53:21Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:17:07Z"
      },
      "message": "Qt/Options: Don't allow setting a port below 1024",
      "tree": {
        "sha": "f7fd8d3117ca298570640d0f983e9fd0a5111eaf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f7fd8d3117ca298570640d0f983e9fd0a5111eaf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fb9083d9741518b102eb4d18b31f645a20718379",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fb9083d9741518b102eb4d18b31f645a20718379",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fb9083d9741518b102eb4d18b31f645a20718379"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "2d2992bbfa14664bd0ac04aaca134681ff923c06",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
        "patch": "@@ -44,7 +44,7 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     ui->threadsScriptVerif->setMinimum(-GetNumCores());\n     ui->threadsScriptVerif->setMaximum(MAX_SCRIPTCHECK_THREADS);\n \n-    ui->networkPort->setValidator(new QIntValidator(1, 65535, this));\n+    ui->networkPort->setValidator(new QIntValidator(1024, 65535, this));\n \n     /* Network elements init */\n #ifndef USE_UPNP"
      }
    ]
  },
  {
    "sha": "b438458c2d17f96d8d1100905f8956c1d3d56def",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNDM4NDU4YzJkMTdmOTZkOGQxMTAwOTA1Zjg5NTZjMWQzZDU2ZGVm",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T20:08:00Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:23:31Z"
      },
      "message": "Qt/Options: Actually check validator acceptability for network port",
      "tree": {
        "sha": "e4dda0f037c24295b8fa9c48d39b91d08c15440e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e4dda0f037c24295b8fa9c48d39b91d08c15440e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b438458c2d17f96d8d1100905f8956c1d3d56def",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b438458c2d17f96d8d1100905f8956c1d3d56def",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b438458c2d17f96d8d1100905f8956c1d3d56def",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b438458c2d17f96d8d1100905f8956c1d3d56def/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4cd0d4638fcfad7c27695046a6f09190dbc3cb1f"
      }
    ],
    "stats": {
      "total": 25,
      "additions": 25,
      "deletions": 0
    },
    "files": [
      {
        "sha": "121f3d3c9b0949e8a33a9bcf7d9b82ed9d91c08c",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b438458c2d17f96d8d1100905f8956c1d3d56def/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b438458c2d17f96d8d1100905f8956c1d3d56def/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=b438458c2d17f96d8d1100905f8956c1d3d56def",
        "patch": "@@ -45,6 +45,7 @@ OptionsDialog::OptionsDialog(QWidget *parent, bool enableWallet) :\n     ui->threadsScriptVerif->setMaximum(MAX_SCRIPTCHECK_THREADS);\n \n     ui->networkPort->setValidator(new QIntValidator(1024, 65535, this));\n+    connect(ui->networkPort, SIGNAL(textChanged(const QString&)), this, SLOT(checkLineEdit()));\n \n     /* Network elements init */\n #ifndef USE_UPNP\n@@ -213,6 +214,16 @@ void OptionsDialog::setMapper()\n     mapper->addMapping(ui->thirdPartyTxUrls, OptionsModel::ThirdPartyTxUrls);\n }\n \n+void OptionsDialog::checkLineEdit()\n+{\n+    QLineEdit * const lineedit = qobject_cast<QLineEdit*>(QObject::sender());\n+    if (lineedit->hasAcceptableInput()) {\n+        lineedit->setStyleSheet(\"\");\n+    } else {\n+        lineedit->setStyleSheet(\"color: red;\");\n+    }\n+}\n+\n void OptionsDialog::setOkButtonState(bool fState)\n {\n     ui->okButton->setEnabled(fState);\n@@ -238,6 +249,19 @@ void OptionsDialog::on_resetButton_clicked()\n \n void OptionsDialog::on_okButton_clicked()\n {\n+    for (int i = 0; i < ui->tabWidget->count(); ++i) {\n+        QWidget * const tab = ui->tabWidget->widget(i);\n+        Q_FOREACH(QObject* o, tab->children()) {\n+            QLineEdit * const lineedit = qobject_cast<QLineEdit*>(o);\n+            if (lineedit && !lineedit->hasAcceptableInput()) {\n+                ui->tabWidget->setCurrentWidget(tab);\n+                lineedit->setFocus(Qt::OtherFocusReason);\n+                lineedit->selectAll();\n+                QMessageBox::critical(this, tr(\"Invalid setting\"), tr(\"The value entered is invalid.\"));\n+                return;\n+            }\n+        }\n+    }\n     mapper->submit();\n     accept();\n     updateDefaultProxyNets();"
      },
      {
        "sha": "45b129b790abc392322b02e6ee26537c4dfbd54f",
        "filename": "src/qt/optionsdialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b438458c2d17f96d8d1100905f8956c1d3d56def/src/qt/optionsdialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b438458c2d17f96d8d1100905f8956c1d3d56def/src/qt/optionsdialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.h?ref=b438458c2d17f96d8d1100905f8956c1d3d56def",
        "patch": "@@ -57,6 +57,7 @@ private Q_SLOTS:\n     void updateProxyValidationState();\n     /* query the networks, for which the default proxy is used */\n     void updateDefaultProxyNets();\n+    void checkLineEdit();\n \n Q_SIGNALS:\n     void proxyIpChecks(QValidatedLineEdit *pUiProxyIp, int nProxyPort);"
      }
    ]
  },
  {
    "sha": "ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjY2RiM2I3NTA2ZTdhNzMwYjI4MjNlMmYwNGU0YTEyZjZmOWFhNzMy",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T20:36:35Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:24:36Z"
      },
      "message": "Qt/Options: Allow an \"invalid\" network port if it is the current value already",
      "tree": {
        "sha": "150a38fbd9994017ed742f4af7d04e068ffc8ab8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/150a38fbd9994017ed742f4af7d04e068ffc8ab8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b438458c2d17f96d8d1100905f8956c1d3d56def",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b438458c2d17f96d8d1100905f8956c1d3d56def",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b438458c2d17f96d8d1100905f8956c1d3d56def"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 5,
      "deletions": 0
    },
    "files": [
      {
        "sha": "8d1c3d7ee8099e7ee1ac0271e433241374570acd",
        "filename": "src/qt/optionsdialog.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732/src/qt/optionsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732/src/qt/optionsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/optionsdialog.cpp?ref=ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
        "patch": "@@ -254,6 +254,11 @@ void OptionsDialog::on_okButton_clicked()\n         Q_FOREACH(QObject* o, tab->children()) {\n             QLineEdit * const lineedit = qobject_cast<QLineEdit*>(o);\n             if (lineedit && !lineedit->hasAcceptableInput()) {\n+                int row = mapper->mappedSection(lineedit);\n+                if (model->data(model->index(row, 0), Qt::EditRole) == lineedit->text()) {\n+                    // Allow unchanged fields through\n+                    continue;\n+                }\n                 ui->tabWidget->setCurrentWidget(tab);\n                 lineedit->setFocus(Qt::OtherFocusReason);\n                 lineedit->selectAll();"
      }
    ]
  },
  {
    "sha": "4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0Mzk2YTNhYzk5MWQ2YzdiM2YxZmViZjVmZWNhOGNjNjg0MjIzZjli",
    "commit": {
      "author": {
        "name": "Luke Dashjr",
        "email": "luke-jr+git@utopios.org",
        "date": "2016-02-12T20:47:53Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-03T12:25:46Z"
      },
      "message": "Qt/NetworkStyle: Use different QSettings for regtest vs testnet",
      "tree": {
        "sha": "546d77a4b493c0790deabbde8c0af7425e8a6429",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/546d77a4b493c0790deabbde8c0af7425e8a6429"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4396a3ac991d6c7b3f1febf5feca8cc684223f9b/comments",
    "author": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ccdb3b7506e7a730b2823e2f04e4a12f6f9aa732"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 11,
      "deletions": 6
    },
    "files": [
      {
        "sha": "a87b5758921bbc2a2b60d8cd80d18f657b2cbbeb",
        "filename": "src/qt/guiconstants.h",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4396a3ac991d6c7b3f1febf5feca8cc684223f9b/src/qt/guiconstants.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4396a3ac991d6c7b3f1febf5feca8cc684223f9b/src/qt/guiconstants.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiconstants.h?ref=4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
        "patch": "@@ -51,6 +51,5 @@ static const int MAX_URI_LENGTH = 255;\n #define QAPP_ORG_NAME \"Bitcoin\"\n #define QAPP_ORG_DOMAIN \"bitcoin.org\"\n #define QAPP_APP_NAME_DEFAULT \"Bitcoin-Qt\"\n-#define QAPP_APP_NAME_TESTNET \"Bitcoin-Qt-testnet\"\n \n #endif // BITCOIN_QT_GUICONSTANTS_H"
      },
      {
        "sha": "0a19f4901dd3f144054358c1584e941646271a34",
        "filename": "src/qt/networkstyle.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 5,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4396a3ac991d6c7b3f1febf5feca8cc684223f9b/src/qt/networkstyle.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4396a3ac991d6c7b3f1febf5feca8cc684223f9b/src/qt/networkstyle.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/networkstyle.cpp?ref=4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
        "patch": "@@ -10,14 +10,14 @@\n \n static const struct {\n     const char *networkId;\n-    const char *appName;\n+    const char *appNameSuffix;\n     const int iconColorHueShift;\n     const int iconColorSaturationReduction;\n     const char *titleAddText;\n } network_styles[] = {\n-    {\"main\", QAPP_APP_NAME_DEFAULT, 0, 0, \"\"},\n-    {\"test\", QAPP_APP_NAME_TESTNET, 70, 30, QT_TRANSLATE_NOOP(\"SplashScreen\", \"[testnet]\")},\n-    {\"regtest\", QAPP_APP_NAME_TESTNET, 160, 30, \"[regtest]\"}\n+    {\"main\", \"\", 0, 0, \"\"},\n+    {\"test\", \"-testnet\", 70, 30, QT_TRANSLATE_NOOP(\"SplashScreen\", \"[testnet]\")},\n+    {\"regtest\", NULL, 160, 30, \"[regtest]\"}\n };\n static const unsigned network_styles_count = sizeof(network_styles)/sizeof(*network_styles);\n \n@@ -85,8 +85,14 @@ const NetworkStyle *NetworkStyle::instantiate(const QString &networkId)\n     {\n         if (networkId == network_styles[x].networkId)\n         {\n+            QString appName = QAPP_APP_NAME_DEFAULT;\n+            if (network_styles[x].appNameSuffix) {\n+                appName += network_styles[x].appNameSuffix;\n+            } else {\n+                appName += QString(\"-\") + networkId;\n+            }\n             return new NetworkStyle(\n-                    network_styles[x].appName,\n+                    appName,\n                     network_styles[x].iconColorHueShift,\n                     network_styles[x].iconColorSaturationReduction,\n                     network_styles[x].titleAddText);"
      }
    ]
  },
  {
    "sha": "f5267bfde5412188235b7d59cd5894e4a3f61910",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNTI2N2JmZGU1NDEyMTg4MjM1YjdkNTljZDU4OTRlNGEzZjYxOTEw",
    "commit": {
      "author": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-05T21:30:03Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-05T21:30:03Z"
      },
      "message": "Adding functions SetArg and SetBoolArg to util.cpp\n\nLets you override an argument even if it has already been set,\nin contrast to SoftSetArg/SoftSetBoolArg.",
      "tree": {
        "sha": "8f12e7dfce2fa69344cbe081eed4324f2d2ff76e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8f12e7dfce2fa69344cbe081eed4324f2d2ff76e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f5267bfde5412188235b7d59cd5894e4a3f61910",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5267bfde5412188235b7d59cd5894e4a3f61910",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f5267bfde5412188235b7d59cd5894e4a3f61910",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5267bfde5412188235b7d59cd5894e4a3f61910/comments",
    "author": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4396a3ac991d6c7b3f1febf5feca8cc684223f9b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4396a3ac991d6c7b3f1febf5feca8cc684223f9b"
      }
    ],
    "stats": {
      "total": 42,
      "additions": 42,
      "deletions": 0
    },
    "files": [
      {
        "sha": "8d62bf542d2be8fbde7db913313f3534daa8d2e2",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 18,
        "deletions": 0,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5267bfde5412188235b7d59cd5894e4a3f61910/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5267bfde5412188235b7d59cd5894e4a3f61910/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=f5267bfde5412188235b7d59cd5894e4a3f61910",
        "patch": "@@ -398,6 +398,24 @@ bool GetBoolArg(const std::string& strArg, bool fDefault)\n     return fDefault;\n }\n \n+void SetArg(const std::string& strArg, const std::string& strValue)\n+{\n+    mapArgs[strArg] = strValue;\n+}\n+\n+void SetArg(const std::string& strArg, int64_t nValue)\n+{\n+    mapArgs[strArg] = i64tostr(nValue);\n+}\n+\n+void SetBoolArg(const std::string& strArg, bool fValue)\n+{\n+    if (fValue)\n+        SetArg(strArg, std::string(\"1\"));\n+    else\n+        SetArg(strArg, std::string(\"0\"));\n+}\n+\n bool SoftSetArg(const std::string& strArg, const std::string& strValue)\n {\n     if (mapArgs.count(strArg))"
      },
      {
        "sha": "0b95f48676f1b52668f33c0b6d3870913762afa5",
        "filename": "src/util.h",
        "status": "modified",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f5267bfde5412188235b7d59cd5894e4a3f61910/src/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f5267bfde5412188235b7d59cd5894e4a3f61910/src/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.h?ref=f5267bfde5412188235b7d59cd5894e4a3f61910",
        "patch": "@@ -151,6 +151,30 @@ int64_t GetArg(const std::string& strArg, int64_t nDefault);\n  */\n bool GetBoolArg(const std::string& strArg, bool fDefault);\n \n+/**\n+ * Set a string argument (even if it does already have a value)\n+ *\n+ * @param strArg Argument to set (e.g. \"-foo\")\n+ * @param strValue Value (e.g. \"bar\")\n+*/\n+void SetArg(const std::string& strArg, const std::string& strValue);\n+\n+/**\n+ * Set an integer argument (even if it does already have a value)\n+ *\n+ * @param strArg Argument to set (e.g. \"-foo\")\n+ * @param nValue Value (e.g. 1)\n+*/\n+void SetArg(const std::string& strArg, int64_t nValue);\n+\n+/**\n+ * Set an boolean argument (even if it does already have a value)\n+ *\n+ * @param strArg Argument to set (e.g. \"-foo\")\n+ * @param fValue Value (e.g. false)\n+*/\n+void SetBoolArg(const std::string& strArg, bool fValue);\n+\n /**\n  * Set an argument if it doesn't already have a value\n  *"
      }
    ]
  },
  {
    "sha": "1f37c87d8f2fbb7113c38674d1cc65933a222ccb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZjM3Yzg3ZDhmMmZiYjcxMTNjMzg2NzRkMWNjNjU5MzNhMjIyY2Ni",
    "commit": {
      "author": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-05T21:56:50Z"
      },
      "committer": {
        "name": "Hampus Sj\u00f6berg",
        "email": "hampus.sjoberg@gmail.com",
        "date": "2016-09-05T22:11:00Z"
      },
      "message": "Qt: Ask user to use standard port on startup if specified port is in use\n\nIf the port (specified by -port or GUI setting) is already in use when\nstarting the GUI client, and it's not the standard port, ask the user if\nthey want to listen via the standard network port instead.",
      "tree": {
        "sha": "65c7289025eea8ce57197f44f2e940f77a3c4439",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/65c7289025eea8ce57197f44f2e940f77a3c4439"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1f37c87d8f2fbb7113c38674d1cc65933a222ccb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1f37c87d8f2fbb7113c38674d1cc65933a222ccb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1f37c87d8f2fbb7113c38674d1cc65933a222ccb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1f37c87d8f2fbb7113c38674d1cc65933a222ccb/comments",
    "author": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hsjoberg",
      "id": 3824379,
      "node_id": "MDQ6VXNlcjM4MjQzNzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3824379?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hsjoberg",
      "html_url": "https://github.com/hsjoberg",
      "followers_url": "https://api.github.com/users/hsjoberg/followers",
      "following_url": "https://api.github.com/users/hsjoberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/hsjoberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hsjoberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hsjoberg/subscriptions",
      "organizations_url": "https://api.github.com/users/hsjoberg/orgs",
      "repos_url": "https://api.github.com/users/hsjoberg/repos",
      "events_url": "https://api.github.com/users/hsjoberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hsjoberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f5267bfde5412188235b7d59cd5894e4a3f61910",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5267bfde5412188235b7d59cd5894e4a3f61910",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f5267bfde5412188235b7d59cd5894e4a3f61910"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 24,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7095674be6dfd2c9d0e966d0e8a2a096a2a08d3b",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 24,
        "deletions": 0,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1f37c87d8f2fbb7113c38674d1cc65933a222ccb/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1f37c87d8f2fbb7113c38674d1cc65933a222ccb/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=1f37c87d8f2fbb7113c38674d1cc65933a222ccb",
        "patch": "@@ -1206,7 +1206,31 @@ bool AppInit2(boost::thread_group& threadGroup, CScheduler& scheduler)\n             inaddr_any.s_addr = INADDR_ANY;\n             fBound |= Bind(CService(in6addr_any, GetListenPort()), BF_NONE);\n             fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE);\n+\n+            if (!fBound) {\n+                int defaultPort = Params().GetDefaultPort();\n+                // If listening failed and another port than the standard port was specified,\n+                // ask if the user wants to connect via the standard port for the network instead\n+                if (GetListenPort() != defaultPort) {\n+                    bool fRet = uiInterface.ThreadSafeQuestion(\n+                        _(\"Do you want to use the standard network port for \") + _(PACKAGE_NAME) + \" (port \" + i64tostr(defaultPort) + \") instead?\",\n+                        _(\"Listen on port \") + i64tostr(GetListenPort()) + _(\" failed.\"),\n+                        \"\", CClientUIInterface::MSG_INFORMATION | CClientUIInterface::MODAL | CClientUIInterface::BTN_OK | CClientUIInterface::BTN_ABORT);\n+\n+                    if (!fRet)\n+                        return false;\n+                    else {\n+                        SetArg(\"-port\", defaultPort);\n+                        // Attempt to use standard port\n+                        struct in_addr inaddr_any;\n+                        inaddr_any.s_addr = INADDR_ANY;\n+                        fBound |= Bind(CService(in6addr_any, defaultPort), BF_NONE);\n+                        fBound |= Bind(CService(inaddr_any, defaultPort), BF_NONE);\n+                    }\n+                }\n+            }\n         }\n+\n         if (!fBound)\n             return InitError(_(\"Failed to listen on any port. Use -listen=0 if you want this.\"));\n     }"
      }
    ]
  }
]