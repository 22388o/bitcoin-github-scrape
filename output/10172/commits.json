[
  {
    "sha": "f84cdb9095b1b0f646f8447555e5281ac018f7a6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmODRjZGI5MDk1YjFiMGY2NDZmODQ0NzU1NWU1MjgxYWMwMThmN2E2",
    "commit": {
      "author": {
        "name": "Awemany",
        "email": "awemany@protonmail.com",
        "date": "2017-04-08T16:35:05Z"
      },
      "committer": {
        "name": "Awemany",
        "email": "awemany@protonmail.com",
        "date": "2017-04-08T16:53:18Z"
      },
      "message": "Fix opt-in RBF reliance on compiler integer size\n\nOpt-in RBF was using std::numeric_limits<unsigned int>::max() for\ndetermining whether a TXN is RBF- able or not, thus relying on an\narchitecture/compiler detail, which would fail e.g. for ILP64 data types.\n\nThis commit replaces the above with the SEQUENCE_FINAL protocol constant.",
      "tree": {
        "sha": "a6b4d20a8ca9d70b8f42eab7ff51a9bc31f1e785",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a6b4d20a8ca9d70b8f42eab7ff51a9bc31f1e785"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f84cdb9095b1b0f646f8447555e5281ac018f7a6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f84cdb9095b1b0f646f8447555e5281ac018f7a6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f84cdb9095b1b0f646f8447555e5281ac018f7a6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f84cdb9095b1b0f646f8447555e5281ac018f7a6/comments",
    "author": {
      "login": "awemany",
      "id": 13838274,
      "node_id": "MDQ6VXNlcjEzODM4Mjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13838274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awemany",
      "html_url": "https://github.com/awemany",
      "followers_url": "https://api.github.com/users/awemany/followers",
      "following_url": "https://api.github.com/users/awemany/following{/other_user}",
      "gists_url": "https://api.github.com/users/awemany/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awemany/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awemany/subscriptions",
      "organizations_url": "https://api.github.com/users/awemany/orgs",
      "repos_url": "https://api.github.com/users/awemany/repos",
      "events_url": "https://api.github.com/users/awemany/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awemany/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "awemany",
      "id": 13838274,
      "node_id": "MDQ6VXNlcjEzODM4Mjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13838274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/awemany",
      "html_url": "https://github.com/awemany",
      "followers_url": "https://api.github.com/users/awemany/followers",
      "following_url": "https://api.github.com/users/awemany/following{/other_user}",
      "gists_url": "https://api.github.com/users/awemany/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/awemany/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/awemany/subscriptions",
      "organizations_url": "https://api.github.com/users/awemany/orgs",
      "repos_url": "https://api.github.com/users/awemany/repos",
      "events_url": "https://api.github.com/users/awemany/events{/privacy}",
      "received_events_url": "https://api.github.com/users/awemany/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "88799ea1b1c08f4bc1a487c9e3c2effd5e1650ae",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/88799ea1b1c08f4bc1a487c9e3c2effd5e1650ae",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/88799ea1b1c08f4bc1a487c9e3c2effd5e1650ae"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "f9ee95e28a797d64ade1b23223b98e9dbb59feab",
        "filename": "src/validation.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f84cdb9095b1b0f646f8447555e5281ac018f7a6/src/validation.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f84cdb9095b1b0f646f8447555e5281ac018f7a6/src/validation.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validation.cpp?ref=f84cdb9095b1b0f646f8447555e5281ac018f7a6",
        "patch": "@@ -621,9 +621,9 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState& state, const C\n             if (!setConflicts.count(ptxConflicting->GetHash()))\n             {\n                 // Allow opt-out of transaction replacement by setting\n-                // nSequence >= maxint-1 on all inputs.\n+                // nSequence >= SEQUENCE_FINAL-1 on all inputs.\n                 //\n-                // maxint-1 is picked to still allow use of nLockTime by\n+                // SEQUENCE_FINAL-1 is picked to still allow use of nLockTime by\n                 // non-replaceable transactions. All inputs rather than just one\n                 // is for the sake of multi-party protocols, where we don't\n                 // want a single party to be able to disable replacement.\n@@ -637,7 +637,7 @@ bool AcceptToMemoryPoolWorker(CTxMemPool& pool, CValidationState& state, const C\n                 {\n                     BOOST_FOREACH(const CTxIn &_txin, ptxConflicting->vin)\n                     {\n-                        if (_txin.nSequence < std::numeric_limits<unsigned int>::max()-1)\n+                        if (_txin.nSequence < CTxIn::SEQUENCE_FINAL-1)\n                         {\n                             fReplacementOptOut = false;\n                             break;"
      }
    ]
  }
]