[
  {
    "sha": "382b75f528fd3d2d3ac76076e8b3325d9d471f96",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozODJiNzVmNTI4ZmQzZDJkM2FjNzYwNzZlOGIzMzI1ZDlkNDcxZjk2",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-08-24T12:47:54Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2012-08-24T13:01:07Z"
      },
      "message": "Override progress bar on platforms with segmented progress bars\n\nWindows & WindowsXP style have a problem with displaying the block progress.\nAdd a custom stylesheet as workaround, but only when one of those renderers is active,\notherwise leave the theme alone (issue #1071).",
      "tree": {
        "sha": "fabcb7eceb2d7f9d9515fde52a361f44d550391c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fabcb7eceb2d7f9d9515fde52a361f44d550391c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/382b75f528fd3d2d3ac76076e8b3325d9d471f96",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/382b75f528fd3d2d3ac76076e8b3325d9d471f96",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/382b75f528fd3d2d3ac76076e8b3325d9d471f96",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/382b75f528fd3d2d3ac76076e8b3325d9d471f96/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c68c4bc7a45529735c868428632906d3c20a175a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c68c4bc7a45529735c868428632906d3c20a175a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c68c4bc7a45529735c868428632906d3c20a175a"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 10,
      "deletions": 0
    },
    "files": [
      {
        "sha": "1bdc313da823040dfe71bfae18cafcaf0e340a6a",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/382b75f528fd3d2d3ac76076e8b3325d9d471f96/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/382b75f528fd3d2d3ac76076e8b3325d9d471f96/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=382b75f528fd3d2d3ac76076e8b3325d9d471f96",
        "patch": "@@ -53,6 +53,7 @@\n #include <QTimer>\n #include <QDragEnterEvent>\n #include <QUrl>\n+#include <QStyle>\n \n #include <iostream>\n \n@@ -148,6 +149,15 @@ BitcoinGUI::BitcoinGUI(QWidget *parent):\n     progressBar->setAlignment(Qt::AlignCenter);\n     progressBar->setVisible(false);\n \n+    // Override style sheet for progress bar for styles that have a segmented progress bar,\n+    // as they make the text unreadable (workaround for issue #1071)\n+    // See https://qt-project.org/doc/qt-4.8/gallery.html\n+    QString curStyle = qApp->style()->metaObject()->className();\n+    if(curStyle == \"QWindowsStyle\" || curStyle == \"QWindowsXPStyle\")\n+    {\n+        progressBar->setStyleSheet(\"QProgressBar { background-color: #e8e8e8; border: 1px solid grey; border-radius: 7px; padding: 1px; text-align: center; } QProgressBar::chunk { background: QLinearGradient(x1: 0, y1: 0, x2: 1, y2: 0, stop: 0 #FF8000, stop: 1 orange); border-radius: 7px; margin: 0px; }\");\n+    }\n+\n     statusBar()->addWidget(progressBarLabel);\n     statusBar()->addWidget(progressBar);\n     statusBar()->addPermanentWidget(frameBlocks);"
      }
    ]
  }
]