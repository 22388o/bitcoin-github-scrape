DrahtBot,2018-11-01T19:34:50Z,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-435159631,435159631,
Gnappuraz,2018-11-02T10:33:51Z,utACK f151162,https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-435337160,435337160,
gmaxwell,2018-11-03T21:19:06Z,It's not clear to me that moving further away from canonical encoding would be a good idea.,https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-435621686,435621686,
scravy,2018-11-05T13:21:40Z,"ACK f151162\n\nI very much appreciate this change. In the end it does not change anything in bitcoin (height above 16 is serialized the same way), but it adheres to the specification in BIP34 which explicitly states:\n\n> The format of the height is ""serialized CScript"" -- first byte is number of bytes in the number (will be 0x03 on main net for the next 150 or so years with 223-1 blocks), fol",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-435871327,435871327,
laanwj,2018-11-06T15:09:15Z,"> It's not clear to me that moving further away from canonical encoding would be a good idea.\n\nThis has been in the implementation so long, and for bitcoin the implementation is the final 'spec'. Might be better to update the BIP at this point.",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-436285863,436285863,
sdaftuar,2018-11-07T16:36:47Z,"I tend to agree with @laanwj -- seems to me there is more benefit in updating the BIP (and/or adding a comment to the code, highlighting the issue) than in changing the behavior.",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-436688939,436688939,
kostyantyn,2018-11-07T17:41:33Z,"It doesn't change the behavior of the bitcoin as existing implementation also invokes `CScriptNum::serialize` for numbers larger than 16, I don't see how it can affect the network.\n\nThe good thing is that it allows testing BIP34 starting from the first block after the genesis. This can be convenient once it's decided to enable BIP34 from the height=1 in regtest. And it seems there is an intent",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-436712142,436712142,
luke-jr,2018-12-20T05:07:22Z,"@laanwj The implementation does not enforce BIP34 code for the affected blocks, so the ""code trumps the spec"" logic does not apply.\n\n* Eloipool implements this according to BIP34.\n* ckpool implements this according to BIP34.\n* libblkmaker implements this according to BIP34.\n* cgminer implements this according to BIP34.\n\nIn other words, the *only* violation of this is in a hypothetica",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-448875711,448875711,
sdaftuar,2019-01-07T13:57:31Z,"> (Or at least documenting it as a known limitation tolerated because BIP34 isn't active at such heights.)\n\nI think documentation (in the form of a code comment) is exactly what is called for if we want to improve things, rather than a code change.  There is no benefit to users of our software from changing this consensus-critical code as proposed, but there is a higher review burden -- I thin",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-451942481,451942481,
laanwj,2019-07-03T10:15:40Z,"Closing this, the change is controversial and (at best) wouldn't make any difference, at worst it'd introduce a consensus bug. Pros/cons just don't weight up.\n\n> I think documentation (in the form of a code comment) is exactly what is called for if we want to improve things\n\nYes.",https://github.com/bitcoin/bitcoin/pull/14633#issuecomment-508033297,508033297,
