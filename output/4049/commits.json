[
  {
    "sha": "3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozZDIwY2Q1ZjYxZmZmMzNmZTVmZmZkNmVmZGRmMmM5NDJjOGRkMmY5",
    "commit": {
      "author": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2014-04-13T00:06:07Z"
      },
      "committer": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2014-04-16T07:48:44Z"
      },
      "message": "VERSION obtained from source instead of the previous git tag.\n\nDrawback: The version string is no longer a valid git identifier.\n          For this reason the 'g' short hash prefix has been removed.\n\nException: When building directly from a tag this behaves exactly like the previous behavior.\n           This allows formatting release versions with precision     i.e. v0.9.2\n           This also allows arbitrary topicbranch names               i.e. v0.9.1-glibc-compat",
      "tree": {
        "sha": "6e3c302e70bc8ce063d473448ae40895aa62f7da",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e3c302e70bc8ce063d473448ae40895aa62f7da"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/comments",
    "author": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "74dd52a9fc13851a6ec847da985388a6bfb70be7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/74dd52a9fc13851a6ec847da985388a6bfb70be7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/74dd52a9fc13851a6ec847da985388a6bfb70be7"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 22,
      "deletions": 9
    },
    "files": [
      {
        "sha": "f5aeb34a3cd2478c11857a6d751b2947271f1590",
        "filename": "doc/README.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/README.md?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -1,4 +1,4 @@\n-Bitcoin 0.9.0 BETA\n+Bitcoin 0.9.99 BETA\n =====================\n \n Copyright (c) 2009-2014 Bitcoin Developers"
      },
      {
        "sha": "18fd4216f98f0416034bc1b623b271d66569a72d",
        "filename": "doc/README_windows.txt",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/README_windows.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/README_windows.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/README_windows.txt?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -1,4 +1,4 @@\n-Bitcoin 0.9.0rc1 BETA\r\n+Bitcoin 0.9.99 BETA\r\n \r\n Copyright (c) 2009-2014 Bitcoin Core Developers\r\n \r"
      },
      {
        "sha": "cd60684f425c14eb5fda1a576e5f4d9e3f247262",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -8,8 +8,6 @@ Release Process\n \n ###update (commit) version in sources\n \n-\n-\tbitcoin-qt.pro\n \tcontrib/verifysfbinaries/verify.sh\n \tdoc/README*\n \tshare/setup.nsi"
      },
      {
        "sha": "6890a6eba0b4ba686069dc77f4363e0309066a8d",
        "filename": "share/genbuild.sh",
        "status": "modified",
        "additions": 12,
        "deletions": 2,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/share/genbuild.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/share/genbuild.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/share/genbuild.sh?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -14,20 +14,30 @@ else\n fi\n \n DESC=\"\"\n+SUFFIX=\"\"\n LAST_COMMIT_DATE=\"\"\n if [ -e \"$(which git)\" -a -d \".git\" ]; then\n     # clean 'dirty' status of touched files that haven't been modified\n     git diff >/dev/null 2>/dev/null \n \n-    # get a string like \"v0.6.0-66-g59887e8-dirty\"\n-    DESC=\"$(git describe --dirty 2>/dev/null)\"\n+    # if latest commit is tagged and not dirty, then override using the tag name\n+    RAWDESC=$(git describe --abbrev=0 2>/dev/null)\n+    if [ \"$(git rev-parse HEAD)\" = \"$(git rev-list -1 $RAWDESC)\" ]; then\n+        git diff-index --quiet HEAD -- && DESC=$RAWDESC\n+    fi\n+\n+    # otherwise generate suffix from git, i.e. string like \"59887e8-dirty\"\n+    SUFFIX=$(git rev-parse --short HEAD)\n+    git diff-index --quiet HEAD -- || SUFFIX=\"$SUFFIX-dirty\"\n \n     # get a string like \"2012-04-10 16:27:19 +0200\"\n     LAST_COMMIT_DATE=\"$(git log -n 1 --format=\"%ci\")\"\n fi\n \n if [ -n \"$DESC\" ]; then\n     NEWINFO=\"#define BUILD_DESC \\\"$DESC\\\"\"\n+elif [ -n \"$SUFFIX\" ]; then\n+    NEWINFO=\"#define BUILD_SUFFIX $SUFFIX\"\n else\n     NEWINFO=\"// No build information available\"\n fi"
      },
      {
        "sha": "29b4aa37642c8279e302f83302339198b2f7e61f",
        "filename": "src/clientversion.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/src/clientversion.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/src/clientversion.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/clientversion.h?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -11,8 +11,8 @@\n // These need to be macros, as version.cpp's and bitcoin-qt.rc's voodoo requires it\n #define CLIENT_VERSION_MAJOR       0\n #define CLIENT_VERSION_MINOR       9\n-#define CLIENT_VERSION_REVISION    0\n-#define CLIENT_VERSION_BUILD       99\n+#define CLIENT_VERSION_REVISION    99\n+#define CLIENT_VERSION_BUILD       0\n \n // Set to true for release, false for prerelease or test build\n #define CLIENT_VERSION_IS_RELEASE  false"
      },
      {
        "sha": "51e34aa9c9119529c73934120b266e2f4468e322",
        "filename": "src/version.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/src/version.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9/src/version.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/version.cpp?ref=3d20cd5f61fff33fe5fffd6efddf2c942c8dd2f9",
        "patch": "@@ -40,14 +40,19 @@ const std::string CLIENT_NAME(\"Satoshi\");\n #    define GIT_COMMIT_DATE \"$Format:%cD$\"\n #endif\n \n+#define BUILD_DESC_WITH_SUFFIX(maj,min,rev,build,suffix) \\\n+    \"v\" DO_STRINGIZE(maj) \".\" DO_STRINGIZE(min) \".\" DO_STRINGIZE(rev) \".\" DO_STRINGIZE(build) \"-\" DO_STRINGIZE(suffix)\n+\n #define BUILD_DESC_FROM_COMMIT(maj,min,rev,build,commit) \\\n     \"v\" DO_STRINGIZE(maj) \".\" DO_STRINGIZE(min) \".\" DO_STRINGIZE(rev) \".\" DO_STRINGIZE(build) \"-g\" commit\n \n #define BUILD_DESC_FROM_UNKNOWN(maj,min,rev,build) \\\n     \"v\" DO_STRINGIZE(maj) \".\" DO_STRINGIZE(min) \".\" DO_STRINGIZE(rev) \".\" DO_STRINGIZE(build) \"-unk\"\n \n #ifndef BUILD_DESC\n-#    ifdef GIT_COMMIT_ID\n+#    ifdef BUILD_SUFFIX\n+#        define BUILD_DESC BUILD_DESC_WITH_SUFFIX(CLIENT_VERSION_MAJOR, CLIENT_VERSION_MINOR, CLIENT_VERSION_REVISION, CLIENT_VERSION_BUILD, BUILD_SUFFIX)\n+#    elif defined(GIT_COMMIT_ID)\n #        define BUILD_DESC BUILD_DESC_FROM_COMMIT(CLIENT_VERSION_MAJOR, CLIENT_VERSION_MINOR, CLIENT_VERSION_REVISION, CLIENT_VERSION_BUILD, GIT_COMMIT_ID)\n #    else\n #        define BUILD_DESC BUILD_DESC_FROM_UNKNOWN(CLIENT_VERSION_MAJOR, CLIENT_VERSION_MINOR, CLIENT_VERSION_REVISION, CLIENT_VERSION_BUILD)"
      }
    ]
  }
]