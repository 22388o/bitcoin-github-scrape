[
  {
    "sha": "fafcad38c89457ff8b36088428d4f1bb3a3834ce",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWZjYWQzOGM4OTQ1N2ZmOGIzNjA4ODQyOGQ0ZjFiYjNhMzgzNGNl",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-04-02T15:16:56Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-04-02T15:37:09Z"
      },
      "message": "doc: Add testmempoolaccept to release-notes",
      "tree": {
        "sha": "32037e6276721ecfd2d91a0c579d8ed0907db7ca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/32037e6276721ecfd2d91a0c579d8ed0907db7ca"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fafcad38c89457ff8b36088428d4f1bb3a3834ce",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJawk4lAAoJEM4rdWl+aaVIQIEL/0xEkAQgU0ekJhmTOD9rC22W\nzjKJmBhmWA6yWMtT1K3lH54wmxjFQJmgp4iro0hhcQTESTefB3NJ+QSjWNjQz8nP\nTDfMaDuUN5+ciWWELfC4zBNit6v8qRv4Odbc/5I8VM+6uyf7UX1ZrYdJ98F0J9La\nfqqtVF3u+70eZLSQ8kDJz5zxqljaeqD1Gmhc9uXEK1ETi8XwuNaEixeY20yVUv9T\n5JeGlcgl6ltczB9Ksrk1PwgbEOefVEuRJOgU5pbgoeriikJfTWVV+imSswNHR32a\nkOiNp+HWDBMZ67ou3rzHa1Ax3A93G9R1jLdsYH8qVqWWc0tK/zFmeL2AMX8O1XoX\nypWGYJ/f6KOvpvP1eDkBt3cKryCpnq87qWn6mw1T/v54x+x8/EcdGJtfh3lelm5T\nIlVEzdi5rqn9oXHIqawAbvfsUBGKnrZTJ66RZRJKqj7JG7p9U0xmrop1ky7iQVmC\njR0xLaF+Xk/e/FZ40uFZt8SHNdOE3/+u6eTFKspoqQ==\n=HuBe\n-----END PGP SIGNATURE-----",
        "payload": "tree 32037e6276721ecfd2d91a0c579d8ed0907db7ca\nparent 18815b4bfb20c9c1112e547217662529d81e4393\nauthor MarcoFalke <falke.marco@gmail.com> 1522682216 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1522683429 -0400\n\ndoc: Add testmempoolaccept to release-notes\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafcad38c89457ff8b36088428d4f1bb3a3834ce",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fafcad38c89457ff8b36088428d4f1bb3a3834ce",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fafcad38c89457ff8b36088428d4f1bb3a3834ce/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "18815b4bfb20c9c1112e547217662529d81e4393",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/18815b4bfb20c9c1112e547217662529d81e4393",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/18815b4bfb20c9c1112e547217662529d81e4393"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "0a72f3fe4a6098b30435e045bfbce86f34763fe6",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafcad38c89457ff8b36088428d4f1bb3a3834ce/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafcad38c89457ff8b36088428d4f1bb3a3834ce/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=fafcad38c89457ff8b36088428d4f1bb3a3834ce",
        "patch": "@@ -74,6 +74,7 @@ RPC changes\n   add `label` fields to returned JSON objects that previously only had\n   `account` fields.\n - `sendmany` now shuffles outputs to improve privacy, so any previously expected behavior with regards to output ordering can no longer be relied upon.\n+- The new RPC `testmempoolaccept` can be used to test acceptance of a transaction to the mempool without adding it.\n \n External wallet files\n ---------------------"
      },
      {
        "sha": "f0493de3bdbbabbbc034442fa8055bf034b8db3d",
        "filename": "src/rpc/rawtransaction.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafcad38c89457ff8b36088428d4f1bb3a3834ce/src/rpc/rawtransaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafcad38c89457ff8b36088428d4f1bb3a3834ce/src/rpc/rawtransaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/rawtransaction.cpp?ref=fafcad38c89457ff8b36088428d4f1bb3a3834ce",
        "patch": "@@ -1198,7 +1198,7 @@ UniValue testmempoolaccept(const JSONRPCRequest& request)\n     {\n         LOCK(cs_main);\n         test_accept_res = AcceptToMemoryPool(mempool, state, std::move(tx), &missing_inputs,\n-            nullptr /* plTxnReplaced */, false /* bypass_limits */, max_raw_tx_fee, /* test_accpet */ true);\n+            nullptr /* plTxnReplaced */, false /* bypass_limits */, max_raw_tx_fee, /* test_accept */ true);\n     }\n     result_0.pushKV(\"allowed\", test_accept_res);\n     if (!test_accept_res) {"
      },
      {
        "sha": "e881b45bd28b8f19e328bbd6aaee6d4c59cd35f7",
        "filename": "src/validation.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fafcad38c89457ff8b36088428d4f1bb3a3834ce/src/validation.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fafcad38c89457ff8b36088428d4f1bb3a3834ce/src/validation.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/validation.cpp?ref=fafcad38c89457ff8b36088428d4f1bb3a3834ce",
        "patch": "@@ -507,7 +507,7 @@ void UpdateMempoolForReorg(DisconnectedBlockTransactions &disconnectpool, bool f\n \n // Used to avoid mempool polluting consensus critical paths if CCoinsViewMempool\n // were somehow broken and returning the wrong scriptPubKeys\n-static bool CheckInputsFromMempoolAndCache(const CTransaction& tx, CValidationState &state, const CCoinsViewCache &view, CTxMemPool& pool,\n+static bool CheckInputsFromMempoolAndCache(const CTransaction& tx, CValidationState& state, const CCoinsViewCache& view, const CTxMemPool& pool,\n                  unsigned int flags, bool cacheSigStore, PrecomputedTransactionData& txdata) {\n     AssertLockHeld(cs_main);\n \n@@ -917,8 +917,7 @@ static bool AcceptToMemoryPoolWorker(const CChainParams& chainparams, CTxMemPool\n         // invalid blocks (using TestBlockValidity), however allowing such\n         // transactions into the mempool can be exploited as a DoS attack.\n         unsigned int currentBlockScriptVerifyFlags = GetBlockScriptFlags(chainActive.Tip(), Params().GetConsensus());\n-        if (!CheckInputsFromMempoolAndCache(tx, state, view, pool, currentBlockScriptVerifyFlags, true, txdata))\n-        {\n+        if (!CheckInputsFromMempoolAndCache(tx, state, view, pool, currentBlockScriptVerifyFlags, true, txdata)) {\n             // If we're using promiscuousmempoolflags, we may hit this normally\n             // Check if current block has some flags that scriptVerifyFlags\n             // does not before printing an ominous warning"
      }
    ]
  }
]