[
  {
    "sha": "9e806887a8f9ef63431b28d7dfd0470aa663dd02",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZTgwNjg4N2E4ZjllZjYzNDMxYjI4ZDdkZmQwNDcwYWE2NjNkZDAy",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2020-12-03T22:59:27Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:18Z"
      },
      "message": "Don't send 'sendaddrv2' to pre-70016 software\n\nGithub-Pull: #20564\nRebased-From: c5a89196602e43ebb1cdc9cd4f08d153419c13e1",
      "tree": {
        "sha": "2776a3f64923f086d881c4d8f6ab492d03b13423",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2776a3f64923f086d881c4d8f6ab492d03b13423"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9e806887a8f9ef63431b28d7dfd0470aa663dd02",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "aa4b8ebfecddc7795200904009fea84b2c644141",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aa4b8ebfecddc7795200904009fea84b2c644141",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/aa4b8ebfecddc7795200904009fea84b2c644141"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 7,
      "deletions": 1
    },
    "files": [
      {
        "sha": "44f6f5d6b65681e4b5b9e781cca1a7a33a968b67",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9e806887a8f9ef63431b28d7dfd0470aa663dd02/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9e806887a8f9ef63431b28d7dfd0470aa663dd02/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=9e806887a8f9ef63431b28d7dfd0470aa663dd02",
        "patch": "@@ -2367,7 +2367,13 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::VERACK));\n \n         // Signal ADDRv2 support (BIP155).\n-        m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::SENDADDRV2));\n+        if (greatest_common_version >= 70016) {\n+            // BIP155 defines addrv2 and sendaddrv2 for all protocol versions, but some\n+            // implementations reject messages they don't know. As a courtesy, don't send\n+            // it to nodes with a version before 70016, as no software is known to support\n+            // BIP155 that doesn't announce at least that protocol version number.\n+            m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::SENDADDRV2));\n+        }\n \n         pfrom.nServices = nServices;\n         pfrom.SetAddrLocal(addrMe);"
      }
    ]
  },
  {
    "sha": "bead93547067e4b62b44fba335f1d4697119c2d7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZWFkOTM1NDcwNjdlNGI2MmI0NGZiYTMzNWYxZDQ2OTcxMTljMmQ3",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2020-12-07T17:12:37Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:22Z"
      },
      "message": "Send and require SENDADDRV2 before VERACK\n\nSee the corresponding BIP change: https://github.com/bitcoin/bips/pull/1043\n\nGithub-Pull: #20564\nRebased-From: 1583498fb6781c01ca2f33c09319ed793964c574",
      "tree": {
        "sha": "4feb1322298a1bc06dee4c96ca3949cb5d1cbcc6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4feb1322298a1bc06dee4c96ca3949cb5d1cbcc6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bead93547067e4b62b44fba335f1d4697119c2d7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bead93547067e4b62b44fba335f1d4697119c2d7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bead93547067e4b62b44fba335f1d4697119c2d7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bead93547067e4b62b44fba335f1d4697119c2d7/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9e806887a8f9ef63431b28d7dfd0470aa663dd02",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9e806887a8f9ef63431b28d7dfd0470aa663dd02"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 14,
      "deletions": 8
    },
    "files": [
      {
        "sha": "98e3d90c2d1e03497ffce40f6febe059c9732b47",
        "filename": "src/net_processing.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 7,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bead93547067e4b62b44fba335f1d4697119c2d7/src/net_processing.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bead93547067e4b62b44fba335f1d4697119c2d7/src/net_processing.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net_processing.cpp?ref=bead93547067e4b62b44fba335f1d4697119c2d7",
        "patch": "@@ -2364,8 +2364,6 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::WTXIDRELAY));\n         }\n \n-        m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::VERACK));\n-\n         // Signal ADDRv2 support (BIP155).\n         if (greatest_common_version >= 70016) {\n             // BIP155 defines addrv2 and sendaddrv2 for all protocol versions, but some\n@@ -2375,6 +2373,8 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::SENDADDRV2));\n         }\n \n+        m_connman.PushMessage(&pfrom, msg_maker.Make(NetMsgType::VERACK));\n+\n         pfrom.nServices = nServices;\n         pfrom.SetAddrLocal(addrMe);\n         {\n@@ -2546,6 +2546,17 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n+    if (msg_type == NetMsgType::SENDADDRV2) {\n+        if (pfrom.fSuccessfullyConnected) {\n+            // Disconnect peers that send SENDADDRV2 message after VERACK; this\n+            // must be negotiated between VERSION and VERACK.\n+            pfrom.fDisconnect = true;\n+            return;\n+        }\n+        pfrom.m_wants_addrv2 = true;\n+        return;\n+    }\n+\n     if (!pfrom.fSuccessfullyConnected) {\n         LogPrint(BCLog::NET, \"Unsupported message \\\"%s\\\" prior to verack from peer=%d\\n\", SanitizeString(msg_type), pfrom.GetId());\n         return;\n@@ -2613,11 +2624,6 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         return;\n     }\n \n-    if (msg_type == NetMsgType::SENDADDRV2) {\n-        pfrom.m_wants_addrv2 = true;\n-        return;\n-    }\n-\n     if (msg_type == NetMsgType::SENDHEADERS) {\n         LOCK(cs_main);\n         State(pfrom.GetId())->fPreferHeaders = true;"
      },
      {
        "sha": "8b79a4dc2ff9198c2dcfbe975f27b843bd96f1fb",
        "filename": "test/functional/test_framework/p2p.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bead93547067e4b62b44fba335f1d4697119c2d7/test/functional/test_framework/p2p.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bead93547067e4b62b44fba335f1d4697119c2d7/test/functional/test_framework/p2p.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/p2p.py?ref=bead93547067e4b62b44fba335f1d4697119c2d7",
        "patch": "@@ -396,9 +396,9 @@ def on_version(self, message):\n         assert message.nVersion >= MIN_VERSION_SUPPORTED, \"Version {} received. Test framework only supports versions greater than {}\".format(message.nVersion, MIN_VERSION_SUPPORTED)\n         if message.nVersion >= 70016:\n             self.send_message(msg_wtxidrelay())\n-        self.send_message(msg_verack())\n         if self.support_addrv2:\n             self.send_message(msg_sendaddrv2())\n+        self.send_message(msg_verack())\n         self.nServices = message.nServices\n \n     # Connection helper methods"
      }
    ]
  },
  {
    "sha": "06c84232b310e6196c814894537ad935d773fe98",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNmM4NDIzMmIzMTBlNjE5NmM4MTQ4OTQ1MzdhZDkzNWQ3NzNmZTk4",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-04T10:20:39Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:36Z"
      },
      "message": "wallet, bugfix: allow send to take string fee rate values\n\nGithub-Pull: #20573\nRebased-From: ce207d6b93d35bc02fcd2dd28f1fd95869261d43",
      "tree": {
        "sha": "c19798a13a834a6dd9cd991c544c8e3f910a1e11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c19798a13a834a6dd9cd991c544c8e3f910a1e11"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/06c84232b310e6196c814894537ad935d773fe98",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/06c84232b310e6196c814894537ad935d773fe98",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/06c84232b310e6196c814894537ad935d773fe98",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/06c84232b310e6196c814894537ad935d773fe98/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bead93547067e4b62b44fba335f1d4697119c2d7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bead93547067e4b62b44fba335f1d4697119c2d7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bead93547067e4b62b44fba335f1d4697119c2d7"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 3,
      "deletions": 3
    },
    "files": [
      {
        "sha": "e8c3ae888d0da49d9f25dd5ebcd9510c8ccd9fc9",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/06c84232b310e6196c814894537ad935d773fe98/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/06c84232b310e6196c814894537ad935d773fe98/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=06c84232b310e6196c814894537ad935d773fe98",
        "patch": "@@ -4083,7 +4083,7 @@ static RPCHelpMan send()\n                 UniValueType(), // outputs (ARR or OBJ, checked later)\n                 UniValue::VNUM, // conf_target\n                 UniValue::VSTR, // estimate_mode\n-                UniValue::VNUM, // fee_rate\n+                UniValueType(), // fee_rate, will be checked by AmountFromValue() in SetFeeEstimateMode()\n                 UniValue::VOBJ, // options\n                 }, true\n             );"
      },
      {
        "sha": "9835c5a2af47d2076911292bc70027168dfa8f7f",
        "filename": "test/functional/wallet_send.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/06c84232b310e6196c814894537ad935d773fe98/test/functional/wallet_send.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/06c84232b310e6196c814894537ad935d773fe98/test/functional/wallet_send.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_send.py?ref=06c84232b310e6196c814894537ad935d773fe98",
        "patch": "@@ -256,8 +256,8 @@ def run_test(self):\n         assert res[\"complete\"]\n \n         self.log.info(\"Test setting explicit fee rate\")\n-        res1 = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, arg_fee_rate=1, add_to_wallet=False)\n-        res2 = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, fee_rate=1, add_to_wallet=False)\n+        res1 = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, arg_fee_rate=\"1\", add_to_wallet=False)\n+        res2 = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, fee_rate=\"1\", add_to_wallet=False)\n         assert_equal(self.nodes[1].decodepsbt(res1[\"psbt\"])[\"fee\"], self.nodes[1].decodepsbt(res2[\"psbt\"])[\"fee\"])\n \n         res = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, fee_rate=7, add_to_wallet=False)"
      }
    ]
  },
  {
    "sha": "0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZDNjMTQwYzRkYjA1MWZiMzNjMjkzNWFkOTUzNmYwZjRhYTJhOGM1",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-04T10:22:34Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:41Z"
      },
      "message": "test: add coverage for passing fee rate as a string\n\nGithub-Pull: #20573\nRebased-From: 6fa72ceb8021c3b5aea62f6cfe92665c29212923",
      "tree": {
        "sha": "fddf1f05e0bd78801c8b4b93f4d510c39bafef05",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fddf1f05e0bd78801c8b4b93f4d510c39bafef05"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "06c84232b310e6196c814894537ad935d773fe98",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/06c84232b310e6196c814894537ad935d773fe98",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/06c84232b310e6196c814894537ad935d773fe98"
      }
    ],
    "stats": {
      "total": 39,
      "additions": 32,
      "deletions": 7
    },
    "files": [
      {
        "sha": "569471dc873a11d7510c259e7f4066c20be1ea17",
        "filename": "test/functional/rpc_fundrawtransaction.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/rpc_fundrawtransaction.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/rpc_fundrawtransaction.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_fundrawtransaction.py?ref=0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "patch": "@@ -717,10 +717,10 @@ def test_option_feerate(self):\n \n         result = node.fundrawtransaction(rawtx)  # uses self.min_relay_tx_fee (set by settxfee)\n         btc_kvb_to_sat_vb = 100000  # (1e5)\n-        result1 = node.fundrawtransaction(rawtx, {\"fee_rate\": 2 * btc_kvb_to_sat_vb * self.min_relay_tx_fee})\n+        result1 = node.fundrawtransaction(rawtx, {\"fee_rate\": str(2 * btc_kvb_to_sat_vb * self.min_relay_tx_fee)})\n         result2 = node.fundrawtransaction(rawtx, {\"feeRate\": 2 * self.min_relay_tx_fee})\n         result3 = node.fundrawtransaction(rawtx, {\"fee_rate\": 10 * btc_kvb_to_sat_vb * self.min_relay_tx_fee})\n-        result4 = node.fundrawtransaction(rawtx, {\"feeRate\": 10 * self.min_relay_tx_fee})\n+        result4 = node.fundrawtransaction(rawtx, {\"feeRate\": str(10 * self.min_relay_tx_fee)})\n         # Test that funding non-standard \"zero-fee\" transactions is valid.\n         result5 = self.nodes[3].fundrawtransaction(rawtx, {\"fee_rate\": 0})\n         result6 = self.nodes[3].fundrawtransaction(rawtx, {\"feeRate\": 0})"
      },
      {
        "sha": "b364077a9ae706ec2f7e4662f9e4bec8de8a9edc",
        "filename": "test/functional/rpc_psbt.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/rpc_psbt.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/rpc_psbt.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_psbt.py?ref=0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "patch": "@@ -190,11 +190,11 @@ def run_test(self):\n         self.log.info(\"Test walletcreatefundedpsbt fee rate of 10000 sat/vB and 0.1 BTC/kvB produces a total fee at or slightly below -maxtxfee (~0.05290000)\")\n         res1 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"fee_rate\": 10000, \"add_inputs\": True})\n         assert_approx(res1[\"fee\"], 0.055, 0.005)\n-        res2 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"feeRate\": 0.1, \"add_inputs\": True})\n+        res2 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"feeRate\": \"0.1\", \"add_inputs\": True})\n         assert_approx(res2[\"fee\"], 0.055, 0.005)\n \n         self.log.info(\"Test min fee rate checks with walletcreatefundedpsbt are bypassed, e.g. a fee_rate under 1 sat/vB is allowed\")\n-        res3 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"fee_rate\": 0.99999999, \"add_inputs\": True})\n+        res3 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"fee_rate\": \"0.99999999\", \"add_inputs\": True})\n         assert_approx(res3[\"fee\"], 0.00000381, 0.0000001)\n         res4 = self.nodes[1].walletcreatefundedpsbt(inputs, outputs, 0, {\"feeRate\": 0.00000999, \"add_inputs\": True})\n         assert_approx(res4[\"fee\"], 0.00000381, 0.0000001)"
      },
      {
        "sha": "3cbddaf6dacd138be4563bfd4b5202d50a20f45b",
        "filename": "test/functional/wallet_basic.py",
        "status": "modified",
        "additions": 27,
        "deletions": 2,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/wallet_basic.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/wallet_basic.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_basic.py?ref=0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "patch": "@@ -235,7 +235,8 @@ def run_test(self):\n         fee_rate_btc_kvb = fee_rate_sat_vb * 1e3 / 1e8\n         explicit_fee_rate_btc_kvb = Decimal(fee_rate_btc_kvb) / 1000\n \n-        txid = self.nodes[2].sendmany(amounts={address: 10}, fee_rate=fee_rate_sat_vb)\n+        # Test passing fee_rate as a string\n+        txid = self.nodes[2].sendmany(amounts={address: 10}, fee_rate=str(fee_rate_sat_vb))\n         self.nodes[2].generate(1)\n         self.sync_all(self.nodes[0:3])\n         balance = self.nodes[2].getbalance()\n@@ -244,6 +245,17 @@ def run_test(self):\n         node_0_bal += Decimal('10')\n         assert_equal(self.nodes[0].getbalance(), node_0_bal)\n \n+        # Test passing fee_rate as an integer\n+        amount = Decimal(\"0.0001\")\n+        txid = self.nodes[2].sendmany(amounts={address: amount}, fee_rate=fee_rate_sat_vb)\n+        self.nodes[2].generate(1)\n+        self.sync_all(self.nodes[0:3])\n+        balance = self.nodes[2].getbalance()\n+        node_2_bal = self.check_fee_amount(balance, node_2_bal - amount, explicit_fee_rate_btc_kvb, self.get_vsize(self.nodes[2].gettransaction(txid)['hex']))\n+        assert_equal(balance, node_2_bal)\n+        node_0_bal += amount\n+        assert_equal(self.nodes[0].getbalance(), node_0_bal)\n+\n         for key in [\"totalFee\", \"feeRate\"]:\n             assert_raises_rpc_error(-8, \"Unknown named parameter key\", self.nodes[2].sendtoaddress, address=address, amount=1, fee_rate=1, key=1)\n \n@@ -405,7 +417,7 @@ def run_test(self):\n             amount = 3\n             fee_rate_sat_vb = 2\n             fee_rate_btc_kvb = fee_rate_sat_vb * 1e3 / 1e8\n-\n+            # Test passing fee_rate as an integer\n             txid = self.nodes[2].sendtoaddress(address=address, amount=amount, fee_rate=fee_rate_sat_vb)\n             tx_size = self.get_vsize(self.nodes[2].gettransaction(txid)['hex'])\n             self.nodes[0].generate(1)\n@@ -414,6 +426,19 @@ def run_test(self):\n             fee = prebalance - postbalance - Decimal(amount)\n             assert_fee_amount(fee, tx_size, Decimal(fee_rate_btc_kvb))\n \n+            prebalance = self.nodes[2].getbalance()\n+            amount = Decimal(\"0.001\")\n+            fee_rate_sat_vb = 1.23\n+            fee_rate_btc_kvb = fee_rate_sat_vb * 1e3 / 1e8\n+            # Test passing fee_rate as a string\n+            txid = self.nodes[2].sendtoaddress(address=address, amount=amount, fee_rate=str(fee_rate_sat_vb))\n+            tx_size = self.get_vsize(self.nodes[2].gettransaction(txid)['hex'])\n+            self.nodes[0].generate(1)\n+            self.sync_all(self.nodes[0:3])\n+            postbalance = self.nodes[2].getbalance()\n+            fee = prebalance - postbalance - amount\n+            assert_fee_amount(fee, tx_size, Decimal(fee_rate_btc_kvb))\n+\n             for key in [\"totalFee\", \"feeRate\"]:\n                 assert_raises_rpc_error(-8, \"Unknown named parameter key\", self.nodes[2].sendtoaddress, address=address, amount=1, fee_rate=1, key=1)\n "
      },
      {
        "sha": "c8c1f2e37493a2e5cf4843737f99efbc17382ad5",
        "filename": "test/functional/wallet_bumpfee.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/wallet_bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5/test/functional/wallet_bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_bumpfee.py?ref=0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "patch": "@@ -149,7 +149,7 @@ def test_simple_bumpfee_succeeds(self, mode, rbf_node, peer_node, dest_address):\n     self.sync_mempools((rbf_node, peer_node))\n     assert rbfid in rbf_node.getrawmempool() and rbfid in peer_node.getrawmempool()\n     if mode == \"fee_rate\":\n-        bumped_psbt = rbf_node.psbtbumpfee(rbfid, {\"fee_rate\": NORMAL})\n+        bumped_psbt = rbf_node.psbtbumpfee(rbfid, {\"fee_rate\": str(NORMAL)})\n         bumped_tx = rbf_node.bumpfee(rbfid, {\"fee_rate\": NORMAL})\n     else:\n         bumped_psbt = rbf_node.psbtbumpfee(rbfid)"
      }
    ]
  },
  {
    "sha": "1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxY2FhMzJlM2YyYTc0Y2Q1NzAwYTRhZmU4ZWNmNjUwZjkwMjBmYjVj",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2020-12-07T22:37:09Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:53Z"
      },
      "message": "Improve heuristic hex transaction decoding\n\nWhenever both encodings are permitted, try both, and if only one succeeds,\nreturn that one. Otherwise prefer the one for which the heuristic sanity\ncheck passes. If that is the case for neither or for both, return the\nextended-permitting deserialization.\n\nGithub-Pull: #20595\nRebased-From: 39c42c442044aef611d03ee7053d2dd6df63deb7",
      "tree": {
        "sha": "82ab5cc3755857e09a8fc259004df56cc2a079ad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82ab5cc3755857e09a8fc259004df56cc2a079ad"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0d3c140c4db051fb33c2935ad9536f0f4aa2a8c5"
      }
    ],
    "stats": {
      "total": 59,
      "additions": 50,
      "deletions": 9
    },
    "files": [
      {
        "sha": "fc02b1b6477a3810a60b97005b59c4c7f0421016",
        "filename": "src/core_read.cpp",
        "status": "modified",
        "additions": 50,
        "deletions": 9,
        "changes": 59,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c/src/core_read.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c/src/core_read.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_read.cpp?ref=1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
        "patch": "@@ -119,31 +119,72 @@ static bool CheckTxScriptsSanity(const CMutableTransaction& tx)\n \n static bool DecodeTx(CMutableTransaction& tx, const std::vector<unsigned char>& tx_data, bool try_no_witness, bool try_witness)\n {\n+    // General strategy:\n+    // - Decode both with extended serialization (which interprets the 0x0001 tag as a marker for\n+    //   the presense of witnesses) and with legacy serialization (which interprets the tag as a\n+    //   0-input 1-output incomplete transaction).\n+    //   - Restricted by try_no_witness (which disables legacy if false) and try_witness (which\n+    //     disables extended if false).\n+    //   - Ignore serializations that do not fully consume the hex string.\n+    // - If neither succeeds, fail.\n+    // - If only one succeeds, return that one.\n+    // - If both decode attempts succeed:\n+    //   - If only one passes the CheckTxScriptsSanity check, return that one.\n+    //   - If neither or both pass CheckTxScriptsSanity, return the extended one.\n+\n+    CMutableTransaction tx_extended, tx_legacy;\n+    bool ok_extended = false, ok_legacy = false;\n+\n+    // Try decoding with extended serialization support, and remember if the result successfully\n+    // consumes the entire input.\n     if (try_witness) {\n         CDataStream ssData(tx_data, SER_NETWORK, PROTOCOL_VERSION);\n         try {\n-            ssData >> tx;\n-            // If transaction looks sane, we don't try other mode even if requested\n-            if (ssData.empty() && (!try_no_witness || CheckTxScriptsSanity(tx))) {\n-                return true;\n-            }\n+            ssData >> tx_extended;\n+            if (ssData.empty()) ok_extended = true;\n         } catch (const std::exception&) {\n             // Fall through.\n         }\n     }\n \n+    // Optimization: if extended decoding succeeded and the result passes CheckTxScriptsSanity,\n+    // don't bother decoding the other way.\n+    if (ok_extended && CheckTxScriptsSanity(tx_extended)) {\n+        tx = std::move(tx_extended);\n+        return true;\n+    }\n+\n+    // Try decoding with legacy serialization, and remember if the result successfully consumes the entire input.\n     if (try_no_witness) {\n         CDataStream ssData(tx_data, SER_NETWORK, PROTOCOL_VERSION | SERIALIZE_TRANSACTION_NO_WITNESS);\n         try {\n-            ssData >> tx;\n-            if (ssData.empty()) {\n-                return true;\n-            }\n+            ssData >> tx_legacy;\n+            if (ssData.empty()) ok_legacy = true;\n         } catch (const std::exception&) {\n             // Fall through.\n         }\n     }\n \n+    // If legacy decoding succeeded and passes CheckTxScriptsSanity, that's our answer, as we know\n+    // at this point that extended decoding either failed or doesn't pass the sanity check.\n+    if (ok_legacy && CheckTxScriptsSanity(tx_legacy)) {\n+        tx = std::move(tx_legacy);\n+        return true;\n+    }\n+\n+    // If extended decoding succeeded, and neither decoding passes sanity, return the extended one.\n+    if (ok_extended) {\n+        tx = std::move(tx_extended);\n+        return true;\n+    }\n+\n+    // If legacy decoding succeeded and extended didn't, return the legacy one.\n+    if (ok_legacy) {\n+        tx = std::move(tx_legacy);\n+        return true;\n+    }\n+\n+    // If none succeeded, we failed.\n     return false;\n }\n "
      }
    ]
  },
  {
    "sha": "ce13b99020df8d46a9b594add3c49e38d4601b42",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjZTEzYjk5MDIwZGY4ZDQ2YTliNTk0YWRkM2M0OWUzOGQ0NjAxYjQy",
    "commit": {
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2020-12-08T21:13:40Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T10:37:57Z"
      },
      "message": "Add regression test for incorrect decoding\n\nGithub-Pull: #20595\nRebased-From: 0f949cde3dff15170db7930b0f7345ff995c267d",
      "tree": {
        "sha": "b49bf84888e9db76e4ff21dedaeeaef370e94c43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b49bf84888e9db76e4ff21dedaeeaef370e94c43"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ce13b99020df8d46a9b594add3c49e38d4601b42",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce13b99020df8d46a9b594add3c49e38d4601b42",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ce13b99020df8d46a9b594add3c49e38d4601b42",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce13b99020df8d46a9b594add3c49e38d4601b42/comments",
    "author": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1caa32e3f2a74cd5700a4afe8ecf650f9020fb5c"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 7,
      "deletions": 0
    },
    "files": [
      {
        "sha": "60e66a27c9d319b2c92951f6f35594a4e18c99a1",
        "filename": "test/functional/rpc_rawtransaction.py",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ce13b99020df8d46a9b594add3c49e38d4601b42/test/functional/rpc_rawtransaction.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ce13b99020df8d46a9b594add3c49e38d4601b42/test/functional/rpc_rawtransaction.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_rawtransaction.py?ref=ce13b99020df8d46a9b594add3c49e38d4601b42",
        "patch": "@@ -372,6 +372,13 @@ def run_test(self):\n         encrawtx = \"01000000010000000000000072c1a6a246ae63f74f931e8365e15a089c68d61900000000000000000000ffffffff0100e1f505000000000000000000\"\n         decrawtx = self.nodes[0].decoderawtransaction(encrawtx, False) # decode as non-witness transaction\n         assert_equal(decrawtx['vout'][0]['value'], Decimal('1.00000000'))\n+        # known ambiguous transaction in the chain (see https://github.com/bitcoin/bitcoin/issues/20579)\n+        encrawtx = \"020000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff4b03c68708046ff8415c622f4254432e434f4d2ffabe6d6de1965d02c68f928e5b244ab1965115a36f56eb997633c7f690124bbf43644e23080000000ca3d3af6d005a65ff0200fd00000000ffffffff03f4c1fb4b0000000016001497cfc76442fe717f2a3f0cc9c175f7561b6619970000000000000000266a24aa21a9ed957d1036a80343e0d1b659497e1b48a38ebe876a056d45965fac4a85cda84e1900000000000000002952534b424c4f434b3a8e092581ab01986cbadc84f4b43f4fa4bb9e7a2e2a0caf9b7cf64d939028e22c0120000000000000000000000000000000000000000000000000000000000000000000000000\"\n+        decrawtx = self.nodes[0].decoderawtransaction(encrawtx)\n+        decrawtx_wit = self.nodes[0].decoderawtransaction(encrawtx, True)\n+        assert_raises_rpc_error(-22, 'TX decode failed', self.nodes[0].decoderawtransaction, encrawtx, False) # fails to decode as non-witness transaction\n+        assert_equal(decrawtx, decrawtx_wit) # the witness interpretation should be chosen\n+        assert_equal(decrawtx['vin'][0]['coinbase'], \"03c68708046ff8415c622f4254432e434f4d2ffabe6d6de1965d02c68f928e5b244ab1965115a36f56eb997633c7f690124bbf43644e23080000000ca3d3af6d005a65ff0200fd00000000\")\n \n         # Basic signrawtransaction test\n         addr = self.nodes[1].getnewaddress()"
      }
    ]
  },
  {
    "sha": "61e316e66168be593fcc90b90217062fa9d993dc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MWUzMTZlNjYxNjhiZTU5M2ZjYzkwYjkwMjE3MDYyZmE5ZDk5M2Rj",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2020-11-24T14:08:28Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T12:54:42Z"
      },
      "message": "Don't set BDB flags when configuring without\n\nGithub-Pull: #20478\nRebased-From: 982e548a9a78b1b0abad59b54c780b6b06570452",
      "tree": {
        "sha": "f77ea594459479e2b13fb9bafeac6073c8f46ecc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f77ea594459479e2b13fb9bafeac6073c8f46ecc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61e316e66168be593fcc90b90217062fa9d993dc",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61e316e66168be593fcc90b90217062fa9d993dc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/61e316e66168be593fcc90b90217062fa9d993dc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61e316e66168be593fcc90b90217062fa9d993dc/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ce13b99020df8d46a9b594add3c49e38d4601b42",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ce13b99020df8d46a9b594add3c49e38d4601b42",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ce13b99020df8d46a9b594add3c49e38d4601b42"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "c689633dde0d11bd0869c18337b3f866bdf1c8ea",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/61e316e66168be593fcc90b90217062fa9d993dc/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/61e316e66168be593fcc90b90217062fa9d993dc/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=61e316e66168be593fcc90b90217062fa9d993dc",
        "patch": "@@ -648,7 +648,7 @@ case $host in\n \n          bdb_prefix=$($BREW --prefix berkeley-db4 2>/dev/null)\n          qt5_prefix=$($BREW --prefix qt5 2>/dev/null)\n-         if test x$bdb_prefix != x && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\"; then\n+         if test x$bdb_prefix != x && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\" && test \"$use_bdb\" != \"no\"; then\n            dnl This must precede the call to BITCOIN_FIND_BDB48 below.\n            BDB_CFLAGS=\"-I$bdb_prefix/include\"\n            BDB_LIBS=\"-L$bdb_prefix/lib -ldb_cxx-4.8\""
      }
    ]
  },
  {
    "sha": "96124a204193ed114ca9594df7d5151206990e91",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NjEyNGEyMDQxOTNlZDExNGNhOTU5NGRmN2Q1MTUxMjA2OTkwZTkx",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-12-03T21:39:14Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T12:54:46Z"
      },
      "message": "build: Check that Homebrew's berkeley-db4 package is actually installed\n\nGithub-Pull: #20563\nRebased-From: d3ef947524a07f8d7fbad5b95781ab6cacb1cb49",
      "tree": {
        "sha": "269fe2f483717ca4076136e68c4f4a39ea4dfd74",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/269fe2f483717ca4076136e68c4f4a39ea4dfd74"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/96124a204193ed114ca9594df7d5151206990e91",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96124a204193ed114ca9594df7d5151206990e91",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/96124a204193ed114ca9594df7d5151206990e91",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96124a204193ed114ca9594df7d5151206990e91/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "61e316e66168be593fcc90b90217062fa9d993dc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61e316e66168be593fcc90b90217062fa9d993dc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/61e316e66168be593fcc90b90217062fa9d993dc"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "a7ee5625c873e60caba5a5dac2ea3aab22781a71",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/96124a204193ed114ca9594df7d5151206990e91/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/96124a204193ed114ca9594df7d5151206990e91/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=96124a204193ed114ca9594df7d5151206990e91",
        "patch": "@@ -646,9 +646,9 @@ case $host in\n          dnl It's safe to add these paths even if the functionality is disabled by\n          dnl the user (--without-wallet or --without-gui for example).\n \n-         bdb_prefix=$($BREW --prefix berkeley-db4 2>/dev/null)\n          qt5_prefix=$($BREW --prefix qt5 2>/dev/null)\n-         if test x$bdb_prefix != x && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\" && test \"$use_bdb\" != \"no\"; then\n+         if $BREW list --versions berkeley-db4 >/dev/null && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\" && test \"$use_bdb\" != \"no\"; then\n+           bdb_prefix=$($BREW --prefix berkeley-db4 2>/dev/null)\n            dnl This must precede the call to BITCOIN_FIND_BDB48 below.\n            BDB_CFLAGS=\"-I$bdb_prefix/include\"\n            BDB_LIBS=\"-L$bdb_prefix/lib -ldb_cxx-4.8\""
      }
    ]
  },
  {
    "sha": "48f8929aade118469cb0014e78a15b4e71fdd17d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0OGY4OTI5YWFkZTExODQ2OWNiMDAxNGU3OGExNWI0ZTcxZmRkMTdk",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-12-04T11:02:08Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T12:54:50Z"
      },
      "message": "build, refactor: Check that Homebrew's qt5 package is actually installed\n\nThis change unifies Homebrew packages workflow, and does not change\nbehavior.\n\nGithub-Pull: #20527\nRebased-From: c96d1f65a552712f8476269ad64a415717ead50d",
      "tree": {
        "sha": "6adb6fdf4772542e983d69580202988c2a679916",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6adb6fdf4772542e983d69580202988c2a679916"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48f8929aade118469cb0014e78a15b4e71fdd17d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48f8929aade118469cb0014e78a15b4e71fdd17d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48f8929aade118469cb0014e78a15b4e71fdd17d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48f8929aade118469cb0014e78a15b4e71fdd17d/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "96124a204193ed114ca9594df7d5151206990e91",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/96124a204193ed114ca9594df7d5151206990e91",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/96124a204193ed114ca9594df7d5151206990e91"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 3,
      "deletions": 4
    },
    "files": [
      {
        "sha": "f46942d81ae59fe161161a980721e6ca7dd0a658",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48f8929aade118469cb0014e78a15b4e71fdd17d/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48f8929aade118469cb0014e78a15b4e71fdd17d/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=48f8929aade118469cb0014e78a15b4e71fdd17d",
        "patch": "@@ -646,16 +646,15 @@ case $host in\n          dnl It's safe to add these paths even if the functionality is disabled by\n          dnl the user (--without-wallet or --without-gui for example).\n \n-         qt5_prefix=$($BREW --prefix qt5 2>/dev/null)\n          if $BREW list --versions berkeley-db4 >/dev/null && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\" && test \"$use_bdb\" != \"no\"; then\n            bdb_prefix=$($BREW --prefix berkeley-db4 2>/dev/null)\n            dnl This must precede the call to BITCOIN_FIND_BDB48 below.\n            BDB_CFLAGS=\"-I$bdb_prefix/include\"\n            BDB_LIBS=\"-L$bdb_prefix/lib -ldb_cxx-4.8\"\n          fi\n-         if test x$qt5_prefix != x; then\n-           PKG_CONFIG_PATH=\"$qt5_prefix/lib/pkgconfig:$PKG_CONFIG_PATH\"\n-           export PKG_CONFIG_PATH\n+\n+         if $BREW list --versions qt5 >/dev/null; then\n+           export PKG_CONFIG_PATH=\"$($BREW --prefix qt5 2>/dev/null)/lib/pkgconfig:$PKG_CONFIG_PATH\"\n          fi\n        fi\n      else"
      }
    ]
  },
  {
    "sha": "f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNTFlMWNiMjkxN2JiZDdiMDk2NmE3YWQ2ODhlMDRmYzNjZTAyY2Nm",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-12-04T11:06:10Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T12:54:52Z"
      },
      "message": "build: Use Homebrew's sqlite package if it is available\n\nGithub-Pull: #20527\nRebased-From: ee7b84e63cbeadd5e680d69ff0548275581e9241",
      "tree": {
        "sha": "032a2f34e4b0ed82abca18fc9e95ce4e4705b9f5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/032a2f34e4b0ed82abca18fc9e95ce4e4705b9f5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "48f8929aade118469cb0014e78a15b4e71fdd17d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48f8929aade118469cb0014e78a15b4e71fdd17d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/48f8929aade118469cb0014e78a15b4e71fdd17d"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "ffe192d55800dd412d3e196275e294a2355476be",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
        "patch": "@@ -646,13 +646,17 @@ case $host in\n          dnl It's safe to add these paths even if the functionality is disabled by\n          dnl the user (--without-wallet or --without-gui for example).\n \n-         if $BREW list --versions berkeley-db4 >/dev/null && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\" && test \"$use_bdb\" != \"no\"; then\n+         if test \"x$use_bdb\" != xno && $BREW list --versions berkeley-db4 >/dev/null && test \"x$BDB_CFLAGS\" = \"x\" && test \"x$BDB_LIBS\" = \"x\"; then\n            bdb_prefix=$($BREW --prefix berkeley-db4 2>/dev/null)\n            dnl This must precede the call to BITCOIN_FIND_BDB48 below.\n            BDB_CFLAGS=\"-I$bdb_prefix/include\"\n            BDB_LIBS=\"-L$bdb_prefix/lib -ldb_cxx-4.8\"\n          fi\n \n+         if test \"x$use_sqlite\" != xno && $BREW list --versions sqlite3 >/dev/null; then\n+           export PKG_CONFIG_PATH=\"$($BREW --prefix sqlite3 2>/dev/null)/lib/pkgconfig:$PKG_CONFIG_PATH\"\n+         fi\n+\n          if $BREW list --versions qt5 >/dev/null; then\n            export PKG_CONFIG_PATH=\"$($BREW --prefix qt5 2>/dev/null)/lib/pkgconfig:$PKG_CONFIG_PATH\"\n          fi"
      }
    ]
  },
  {
    "sha": "48134a09adef3b5302cdd6e95500db404c9ac961",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ODEzNGEwOWFkZWYzYjUzMDJjZGQ2ZTk1NTAwZGI0MDRjOWFjOTYx",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-12-04T11:14:37Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-12-10T12:54:59Z"
      },
      "message": "doc: Update wallet database installation guide for macOS\n\nGithub-Pull: #20527\nRebased-From: c932e0d67e4b369e4265267da6c8bebac2b6fb53",
      "tree": {
        "sha": "633c6c772b12e5c67c9eefa6e8bad2efb462b72f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/633c6c772b12e5c67c9eefa6e8bad2efb462b72f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48134a09adef3b5302cdd6e95500db404c9ac961",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48134a09adef3b5302cdd6e95500db404c9ac961",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48134a09adef3b5302cdd6e95500db404c9ac961",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48134a09adef3b5302cdd6e95500db404c9ac961/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f51e1cb2917bbd7b0966a7ad688e04fc3ce02ccf"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 25,
      "deletions": 6
    },
    "files": [
      {
        "sha": "300a9a922a31386aae008db8d9a5f8f1cbfab94a",
        "filename": "doc/build-osx.md",
        "status": "modified",
        "additions": 25,
        "deletions": 6,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48134a09adef3b5302cdd6e95500db404c9ac961/doc/build-osx.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48134a09adef3b5302cdd6e95500db404c9ac961/doc/build-osx.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-osx.md?ref=48134a09adef3b5302cdd6e95500db404c9ac961",
        "patch": "@@ -19,7 +19,7 @@ Then install [Homebrew](https://brew.sh).\n \n ## Dependencies\n ```shell\n-brew install automake berkeley-db4 libtool boost miniupnpc pkg-config python qt libevent qrencode sqlite\n+brew install automake libtool boost miniupnpc pkg-config python qt libevent qrencode\n ```\n \n If you run into issues, check [Homebrew's troubleshooting page](https://docs.brew.sh/Troubleshooting).\n@@ -30,7 +30,22 @@ If you want to build the disk image with `make deploy` (.dmg / optional), you ne\n brew install librsvg\n ```\n \n-## Berkeley DB\n+The wallet support requires one or both of the dependencies ([*SQLite*](#sqlite) and [*Berkeley DB*](#berkeley-db)) in the sections below.\n+To build Bitcoin Core without wallet, see [*Disable-wallet mode*](#disable-wallet-mode).\n+\n+#### SQLite\n+\n+Usually, macOS installation already has a suitable SQLite installation.\n+Also, the Homebrew package could be installed:\n+\n+```shell\n+brew install sqlite\n+```\n+\n+In that case the Homebrew package will prevail.\n+\n+#### Berkeley DB\n+\n It is recommended to use Berkeley DB 4.8. If you have to build it yourself,\n you can use [this](/contrib/install_db4.sh) script to install it\n like so:\n@@ -41,7 +56,11 @@ like so:\n \n from the root of the repository.\n \n-**Note**: You only need Berkeley DB if the wallet is enabled (see [*Disable-wallet mode*](/doc/build-osx.md#disable-wallet-mode)).\n+Also, the Homebrew package could be installed:\n+\n+```shell\n+brew install berkeley-db4\n+```\n \n ## Build Bitcoin Core\n \n@@ -72,14 +91,14 @@ from the root of the repository.\n     make deploy\n     ```\n \n-## `disable-wallet` mode\n+## Disable-wallet mode\n When the intention is to run only a P2P node without a wallet, Bitcoin Core may be\n-compiled in `disable-wallet` mode with:\n+compiled in disable-wallet mode with:\n ```shell\n ./configure --disable-wallet\n ```\n \n-In this case there is no dependency on Berkeley DB 4.8 and SQLite.\n+In this case there is no dependency on [*Berkeley DB*](#berkeley-db) and [*SQLite*](#sqlite).\n \n Mining is also possible in disable-wallet mode using the `getblocktemplate` RPC call.\n "
      }
    ]
  }
]