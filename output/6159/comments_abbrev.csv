ajweiss,2015-05-22T18:22:57Z,"Ok, pushed.  I think I captured the best of both worlds, re-used the existing localized string to indicate there's a problem with locking the datadir.  (another copy already running may be misleading in some cases though)  Follow it with the english text of the exception to give a hopefully familiar and if not, a google-able clue as to what the problem might be.  I fired it up in Spanish and Russi",https://github.com/bitcoin/bitcoin/pull/6159#issuecomment-104736856,104736856,
laanwj,2015-05-24T08:56:23Z,Tested ACK\n,https://github.com/bitcoin/bitcoin/pull/6159#issuecomment-104993290,104993290,
laanwj,2015-05-22T06:25:34Z,"- How can we produce an error like this for testing?\n- Do we know that the lock will always return a boost::interprocess:interprocess_exception, or should we be more general in  catching?\n- Re: translations, please don't add a translation message _() here for an extremely rare case. Just re-use the above generic message, and log the more detailed error to the debug log.\n",https://github.com/bitcoin/bitcoin/pull/6159#discussion_r30871896,30871896,src/init.cpp
ajweiss,2015-05-22T06:37:41Z,"a) chmod 000 <datadir>\n\nb) if the boost docs are to be believed, this is the only exception it\nthrows.  i could not find a base exception beyond this.\n\nc) i was wary of adding a translation, but this is a pretty ugly error that\nshould be explained clearly.  we can't log it (beyond -printtoconsole)\nbecause we're blowing up due to an invalid datadir.  what do you think?\n",https://github.com/bitcoin/bitcoin/pull/6159#discussion_r30872230,30872230,src/init.cpp
laanwj,2015-05-22T08:49:30Z,"re a,b) thanks, clear\n\nc) OK. But the problem is that any message returned by .what() will be either in English, or completely incomprehensible. \n\nSo may as well keep the entire message in English then. Easier to Google, too. \n\nThe alternative would be to have a translated message that explains the probable source of the problem and how to resolve it in understandable language. Adding anothe",https://github.com/bitcoin/bitcoin/pull/6159#discussion_r30878664,30878664,src/init.cpp
laanwj,2015-05-23T07:59:51Z,Looks like a good solution to me.\n,https://github.com/bitcoin/bitcoin/pull/6159#discussion_r30943019,30943019,src/init.cpp
