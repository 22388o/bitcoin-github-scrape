darosior,2020-07-31 18:42:47,Added a trivial commit which de-duplicates some duplicated `for`-loops.,https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-667294602,667294602,
laanwj,2020-08-06 17:07:32,Code review ACK besides some minor nits,https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-670057638,670057638,
darosior,2020-08-06 17:15:15,Amended after review (the unnecessary variables declaration move and the pre-decrement).,https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-670062373,670062373,
laanwj,2020-08-06 17:20:16,FYI it looks the last usage of requireGreater=false went away in b2322e0fc6def0baf8581bbd2f4135e61c47d142,https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-670065158,670065158,
darosior,2020-08-07 10:57:21,"@theStack i think the for loops unification are not ""small readability improvements"", and that the readability improvements are not ""unify some duplicated for loops"". Also, fixed the string format, thanks!",https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-670459759,670459759,
darosior,2020-08-08 14:47:26,"Tests pass but the s390X Travis build is always stuck and eventually results in a failure after one day (i've tried to force-push above but it won't trigger it).\n\nedit: reopened to kick it back..",https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-670937409,670937409,
darosior,2020-09-14 14:25:14,"Thanks for the review. Cleaned up the logprint, used the `m_` prefix, and made some variables `const`.",https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-692089354,692089354,
jnewbery,2020-09-14 15:20:44,utACK a3abeec33a6ae903e514c7a7b6f587b7c17288a0,https://github.com/bitcoin/bitcoin/pull/19630#issuecomment-692128679,692128679,
laanwj,2020-08-06 16:52:42,Any idea why these numbers changed but not the associated time period?,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466549930,466549930,src/policy/fees.h
laanwj,2020-08-06 16:54:32,"I personally prefer the old formulation here, with multiple lines instead of the multiple-ary `=`",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466551042,466551042,src/policy/fees.cpp
laanwj,2020-08-06 16:57:18,Nice catch that the `requireGreater` argument is unused,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466552665,466552665,src/policy/fees.cpp
laanwj,2020-08-06 16:58:02,"Maybe use `--bucket`, pre-in/decrement iis the standard in this project.",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466553077,466553077,src/policy/fees.cpp
darosior,2020-08-06 16:58:36,"Yeah, the comment was wrong and I think morcos fixed the value but forgot about the comment. The comment change happened in this commit https://github.com/bitcoin/bitcoin/commit/b649e0395464a659f4b3485ec71d28dc95ba48bd , and the variable it refers to no longer exists. ",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466553413,466553413,src/policy/fees.h
darosior,2020-08-06 16:59:32,Ok,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466553933,466553933,src/policy/fees.cpp
darosior,2020-08-06 17:03:28,Changed,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466556072,466556072,src/policy/fees.cpp
laanwj,2020-08-06 17:06:30,"Oh I see, the bucket size was changed, thanks.",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466557764,466557764,src/policy/fees.h
theStack,2020-08-07 10:38:42,"nit: could simply put the "">"" directly into the format string instead of the ""%s"" and have one argument less",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466961420,466961420,src/policy/fees.cpp
darosior,2020-08-07 10:43:02,Yeah right,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466963277,466963277,src/policy/fees.cpp
theStack,2020-08-07 11:56:18,"Note that this adds an additional space after the "">"" that hasn't been there before. Could be problematic if e.g. some tests rely on a strict format",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466993757,466993757,src/policy/fees.cpp
darosior,2020-08-07 12:00:27,"Yeah, it's on purpose...",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r466995528,466995528,src/policy/fees.cpp
practicalswift,2020-08-14 16:05:24,"While not introduced in this PR we have an existing floating-point division by zero here that would be really nice to get rid of while you're touching these lines :)\n\nIn the case of `passBucket.totalConfirmed + passBucket.inMempool + passBucket.leftMempool == 0` that is.\n\nDepending on Clang version you may see it by running â€¦\n\n```\n$ CC=clang CXX=clang++ ./configure --with-sanitizers=",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r470716669,470716669,src/policy/fees.cpp
darosior,2020-08-14 23:23:50,"Nice catch ! Will push a new commit, thanks :)",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r470902972,470902972,src/policy/fees.cpp
darosior,2020-08-15 00:56:09,Added in 24bcbbfb7b21641b6f2d00ae18d69c59a7c1f56e,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r470917615,470917615,src/policy/fees.cpp
jnewbery,2020-09-11 15:30:03,"Remove the number entirely from the comment. No need for a comment that says ""x is x""\n```suggestion\n    /** This decay gives a half-life of 144 blocks or about 1 day */\n```\nSame for other comments here.",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487122926,487122926,src/policy/fees.h
jnewbery,2020-09-11 15:35:03,Consider making this `const`? (Same for `periodTarget` above),https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487125893,487125893,src/policy/fees.cpp
jnewbery,2020-09-11 15:37:55,"current style guide is to name prefix member variable names with m_, so this would become `m_feerate_avg`. No need to update the other member variable names - just this one because you're already touching it.",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487127683,487127683,src/policy/fees.cpp
jnewbery,2020-09-11 15:51:17,"I'm not sure if this is the correct fix. It's very difficult to parse what this log line is doing, and adding `std::numeric_limits<double>::min()` makes it harder still. How about taking these calculations out of the log line, putting them in temporary variables, and explicitly setting them to zero if `passBucket.totalConfirmed + passBucket.inMempool + passBucket.leftMempool` is equal to zero?",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487135510,487135510,src/policy/fees.cpp
darosior,2020-09-14 13:55:12,"I don't think it's a trivial ""x is x"" comment: it's not trivial to me that a decay of say `.99931` is equivalent to a half-life of 1008 blocks.\n",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487939607,487939607,src/policy/fees.h
darosior,2020-09-14 13:55:22,Done,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487939762,487939762,src/policy/fees.cpp
darosior,2020-09-14 13:55:33,Done,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487939981,487939981,src/policy/fees.cpp
jnewbery,2020-09-14 13:58:25,I agree! That's why I'm saying remove the literal value that's in the code and leave the rest.,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487943047,487943047,src/policy/fees.h
darosior,2020-09-14 14:22:50,"> I'm not sure if this is the correct fix\n\nIt's correct in the sense that it's not a division by 0 anymore :). Cleaned up by using temporary variables.",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r487971637,487971637,src/policy/fees.cpp
darosior,2020-09-14 19:39:26,"Ah, ok: will remove if i have to retouch",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r488175457,488175457,src/policy/fees.h
ariard,2020-09-25 16:32:53,If you feel it you can comment `scale` parameter usage at function declaration.,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r495103258,495103258,src/policy/fees.cpp
ariard,2020-09-25 16:36:43,Maybe you can keep comment first halve and precise what the highers values reference is about. I believe it means higher buckets of transactions.,https://github.com/bitcoin/bitcoin/pull/19630#discussion_r495105223,495105223,src/policy/fees.cpp
MarcoFalke,2020-09-28 09:38:12,"nit in commit 5b8cb35621891b681f9b49a9de5f6d8da4ccdecc:\n\nI think this line in the comment can be kept",https://github.com/bitcoin/bitcoin/pull/19630#discussion_r495812179,495812179,src/policy/fees.cpp
