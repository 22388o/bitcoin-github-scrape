[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276786662",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276786662",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 276786662,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njc4NjY2Mg==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T21:23:51Z",
    "updated_at": "2017-02-01T21:24:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "It seems somewhat strange that this is set per-run and not per-wallet. Indeed, if it were set per-wallet, an easy way to get the intended behavior here is to simply encrypt your wallet with a garbage passphrase such that it can no longer be opened (not to say we shouldn't do this, better UX around that is good, but it might be easier to review/write if it re-used that infrastructure).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276786662/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276891978",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-276891978",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 276891978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njg5MTk3OA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T08:03:06Z",
    "updated_at": "2017-02-02T08:03:06Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. I agree that this would be better as a mode on the wallet instead of yet another startup option.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/276891978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280205031",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280205031",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 280205031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDIwNTAzMQ==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-16T01:53:52Z",
    "updated_at": "2017-02-16T01:54:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would like to rebase on top of that for https://github.com/bitcoin/bitcoin/pull/9728, can you rebase?\r\nI would switch that on if hdwatchonly is used.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280205031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280596351",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-280596351",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 280596351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4MDU5NjM1MQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-17T09:11:11Z",
    "updated_at": "2017-02-17T09:11:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Added two commit.\r\n* First commit adds a facility to store and check wallet flags (64bit). Made DISABLE_PRIVATE_KEYS the first flag.\r\n* Second commit makes the disablehot function per wallet (no longer a global state)\r\n\r\nDisabling private keys on a wallet that already contains private keys is not possible (also the other way around).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/280596351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283985910",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-283985910",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 283985910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4Mzk4NTkxMA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-03T15:36:09Z",
    "updated_at": "2017-03-03T15:36:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Needed rebase (#8775).\r\nTravis will fail because of the missing `assert_start_raises_init_error` (see #9832).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/283985910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284341246",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284341246",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 284341246,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDM0MTI0Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T09:13:54Z",
    "updated_at": "2017-03-06T09:15:00Z",
    "author_association": "MEMBER",
    "body": "> ideal for a use-case where one likes to use Bitcoin-Core in conjunction with a hardware-wallet or another solutions for cold-stogare\r\n\r\nNice, so this guarantees that bitcoind process will contain no private key data at all?\r\nSeems like s a good step towards supporting hardware wallets too.\r\nConcept ACK.\r\n\r\nTravis should pass now that #9832 is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284341246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284345511",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-284345511",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 284345511,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NDM0NTUxMQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-06T09:31:54Z",
    "updated_at": "2017-03-06T09:31:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "The `disablehot.py` now makes use of the new (#9832) `assert_start_raises_init_error` call.\r\n\r\n> Nice, so this guarantees that bitcoind process will contain no private key data at all?\r\n\r\nYes. Event the default key is disabled (while still detecting the first start correctly).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/284345511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290112718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-290112718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 290112718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5MDExMjcxOA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-29T14:44:25Z",
    "updated_at": "2017-03-29T14:44:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/290112718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298636396",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-298636396",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 298636396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5ODYzNjM5Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-02T13:32:20Z",
    "updated_at": "2017-05-02T13:32:20Z",
    "author_association": "MEMBER",
    "body": "Needs rebase again (sorry)\r\nutACK otherwise.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/298636396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299180562",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299180562",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 299180562,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTE4MDU2Mg==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-04T13:11:09Z",
    "updated_at": "2017-05-04T13:11:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299180562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299400065",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299400065",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 299400065,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQwMDA2NQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T07:27:38Z",
    "updated_at": "2017-05-05T07:27:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "- Completely rewrote the commit history (as reported by @ryanofsky it was messy).\r\n- Fixed @ryanofsky points\r\n\r\nNo strong opinion if this should be called `-disableprivatekeys` (which somehow nails it but may confuse people who just want cold key storage). Other opinions?\b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299400065/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299483081",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299483081",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 299483081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQ4MzA4MQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T14:40:42Z",
    "updated_at": "2017-05-05T14:40:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee\r\n\r\nChanges from previous review: pwalletMain removal, SetWalletFlag rename, error message tweaks, assert_raises_jsonrpc usage, and history cleanup.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299483081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299625564",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-299625564",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 299625564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTYyNTU2NA==",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?u=256d78207f88d303d61b62060a309657276cf6cb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-06T08:46:42Z",
    "updated_at": "2017-05-06T08:46:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK fcea55a6ec6be57ee96458bde6fb24656269d3ee",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/299625564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303466826",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303466826",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 303466826,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ2NjgyNg==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T17:01:29Z",
    "updated_at": "2017-05-23T17:01:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "This has 3 utACKs so I'm building it now to provide a little testing. Maybe this PR should also update `doc/release-notes.md` since it's adding a new option.\r\n\r\nOn \"private keys\" vs \"hot keys\" naming, \"private keys\" still sounds more comprehensible to me, but I wouldn't weigh my opinion very heavily if \"hot key\" is a term users will know.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303466826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303490818",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303490818",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 303490818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzQ5MDgxOA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-23T18:30:05Z",
    "updated_at": "2017-05-23T18:30:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tested ACK fcea55a6ec6be57ee96458bde6fb24656269d3ee. Confirmed disablehot option prevents generating keys, persists across reload even when disablehot option not specified in later runs, and that it prevents loading pre-existing or non-disablehot wallets. I don't think I encountered any bugs, and it seems to me this PR works well and is safe to merge.\r\n\r\nI was surprised by two things, and maybe these behaviors could be changed in the future if they aren't intentional:\r\n\r\n- I was surprised that -disablehot could only be used on a new wallet and would refuse to load a preexisting wallet that did not have any private keys.\r\n- I was surprised that -disablehot did seem to allow importing private keys via importprivkey and importwallet rpcs.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303490818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303667459",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-303667459",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 303667459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMzY2NzQ1OQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-24T09:20:03Z",
    "updated_at": "2017-05-24T09:20:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Added two commits.\r\nThe first addresses the \"importprivkey\" / \"Importwallet\" issues reported by @ryanofsky (disable both commands in -disablehot mode).\r\nThe second fixes a rebase `pwallet`/`pwalletmain` issue.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/303667459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309440853",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309440853",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 309440853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTQ0MDg1Mw==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T13:34:03Z",
    "updated_at": "2017-06-19T13:34:03Z",
    "author_association": "MEMBER",
    "body": "needs rebase, will review",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309440853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309454311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-309454311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 309454311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwOTQ1NDMxMQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-06-19T14:20:14Z",
    "updated_at": "2017-06-19T14:20:14Z",
    "author_association": "MEMBER",
    "body": "General comment while I wait for rebase: This is fundamentally in conflict with the hdwatchonly mode proposed in https://github.com/bitcoin/bitcoin/pull/9728 which was surprising to me. Perhaps the descriptions of the mode should stress that no (pub)key generation of any sort is allowed, or explicitly state that only imported watchonly keys are supported?\r\n\r\nAlso, I think to make this mode less brittle if an assert in `AddKeyPubKey` is added, since this should never be reachable.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/309454311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364190676",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-364190676",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 364190676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDE5MDY3Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-08T17:41:38Z",
    "updated_at": "2018-02-08T17:41:38Z",
    "author_association": "MEMBER",
    "body": "Needs rebase.\r\n\r\nTend to agree that this should be a per wallet thing and that this should be set upon wallet creation, rather than application launch.\r\n\r\nIf I understand correctly this is purely a safety feature. But I wonder if it doesn't make too many assumptions.\r\n\r\nThe term watch-only wallet is ambiguous. It could mean that the user doesn't have access to private keys at all, or that they do, but managed by an external device. They could also be part of a multisig arrangement, in which case it does have some keys and needs to generate (multisig) change addresses, but shouldn't generate \"solo\" keys.\r\n\r\nIf I understand correctly, the scope of this PR is wallets where keys are managed externally, e.g. a hardware wallet. Would such a wallet have it's own UI that uses the RPC, or would the user interact directly with the RPC somehow? In the first case, it would seem that the hardware wallet developer should just be careful about which RPC commands to call. Or am I missing something? Not that I'm against making it safer.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/364190676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369238078",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-369238078",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 369238078,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTIzODA3OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T13:25:15Z",
    "updated_at": "2018-02-28T13:25:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased and fixed.\r\nRenamed `-disablehot` to `-disableprivatekeys`\r\n\r\nSince we have no dynamic wallet creation (something like #10740), disabling private keys is only possible during wallet creation and with the `-disableprivatekeys` option.\r\n\r\nUse case:\r\n* Splitting the private keys from the wallet (hardware wallets, cold storage, use wallet as pure index), one wants to make sure, fundrawtransaction, etc. won't accidentally use an internal private key as change address or something similar",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369238078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370121406",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-370121406",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 370121406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDEyMTQwNg==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T05:45:02Z",
    "updated_at": "2018-03-03T05:45:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased (and fixed travis issue)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/370121406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373984128",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-373984128",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 373984128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3Mzk4NDEyOA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-18T09:30:05Z",
    "updated_at": "2018-03-18T09:30:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/373984128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380355345",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380355345",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 380355345,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM1NTM0NQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T07:29:15Z",
    "updated_at": "2018-04-11T07:29:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "Had to rebase after #10244 (non trivial).\r\nGlad if utACKers can review again.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380355345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380371005",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380371005",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 380371005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM3MTAwNQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:28:18Z",
    "updated_at": "2018-04-11T08:28:18Z",
    "author_association": "MEMBER",
    "body": "Late so can be safely ignored, but we say `importprivkey` so maybe `disableprivkeys` for consistency? Will review.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380371005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380413793",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-380413793",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 380413793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDQxMzc5Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T11:05:36Z",
    "updated_at": "2018-04-11T11:06:56Z",
    "author_association": "MEMBER",
    "body": "Concept ACK on the use of flags that are stored in the wallet (I think I overlooked that the first time I reviewed). This prevents accidentally disabling the feature. I also think it's a safe choice that you can't enable this feature on a wallet that already has private keys.\r\n\r\nThere are some problems in a multi wallet environment though.\r\n\r\nIt correctly remembers which wallets have disabled private keys, disabling the payment request button in QT where appropriate. So that's good.\r\n\r\nBut if you try to load an existing normal wallet and create a new `-disableprivatekeys` wallet at the same time, you'll get an error upon launch \"You can't disable private keys if your wallet already contains private keys\".\r\n\r\nOne solution would be to explain in documentation that in order to create such a wallet you can only have one `-wallet` argument. But I think a better approach is to create a new `-createwallet` `RPC` which takes `disableprivatekeys` as an argument. Such an RPC could also be useful for dynamic loading #10740 .",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/380413793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397080622",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397080622",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 397080622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzA4MDYyMg==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T20:46:31Z",
    "updated_at": "2018-06-13T20:46:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Overhauled this PR.\r\n* Removed the global `-disableprivatkeys` argument.\r\n* Added an `options` object to `createwallet` with currently a single boolean `disableprivatekeys`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397080622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397273626",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397273626",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 397273626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzI3MzYyNg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T12:18:07Z",
    "updated_at": "2018-06-14T12:18:07Z",
    "author_association": "MEMBER",
    "body": "Much better!\r\n\r\nSome stray files made it into the PR though (Bitcoin-Core.*).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397273626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397274582",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-397274582",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 397274582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzI3NDU4Mg==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T12:21:59Z",
    "updated_at": "2018-06-14T12:21:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @Sjors. Removed the accidentally added IDE files.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/397274582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398041800",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-398041800",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 398041800,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODA0MTgwMA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T12:45:10Z",
    "updated_at": "2018-06-18T12:45:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed @jnewbery s points.\r\n* Added `privatekeys_enabled` to `getwalletinfo`\r\n* Added unit test and own rpc test",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/398041800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399117527",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-399117527",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 399117527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5OTExNzUyNw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-21T14:11:40Z",
    "updated_at": "2018-06-21T14:11:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed remaining points reported by @jnewbery and @kallewoof ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/399117527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401143462",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-401143462",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 401143462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMTE0MzQ2Mg==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-28T19:15:56Z",
    "updated_at": "2018-06-28T19:17:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed @jnewbery's nits.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/401143462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402098330",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-402098330",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 402098330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjA5ODMzMA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-03T10:28:18Z",
    "updated_at": "2018-07-03T10:28:18Z",
    "author_association": "MEMBER",
    "body": "utACK 5caf38f42f34b2aec7440dec752c10856e5d85a7",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402098330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402475579",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-402475579",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 402475579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjQ3NTU3OQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T13:13:47Z",
    "updated_at": "2018-07-04T13:13:47Z",
    "author_association": "MEMBER",
    "body": "utACK 5caf38f42f34b2aec7440dec752c10856e5d85a7",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402475579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402735925",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-402735925",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 402735925,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjczNTkyNQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-05T14:13:25Z",
    "updated_at": "2018-07-05T14:13:25Z",
    "author_association": "MEMBER",
    "body": "@jonasschnelli didn't you accidentally remove the logic so that only\nchanges to the upper 32 bits are checked?\n\nOn Wed, Jul 4, 2018 at 5:01 PM, Jonas Schnelli <notifications@github.com>\nwrote:\n\n> *@jonasschnelli* commented on this pull request.\n> ------------------------------\n>\n> In src/wallet/wallet.cpp\n> <https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200152951>:\n>\n> > +    LOCK(cs_wallet);\n> +    m_wallet_flags |= flags;\n> +    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n> +        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n> +}\n> +\n> +bool CWallet::IsWalletFlagSet(uint64_t flag)\n> +{\n> +    return (m_wallet_flags & flag);\n> +}\n> +\n> +bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n> +{\n> +    LOCK(cs_wallet);\n> +    m_wallet_flags = overwriteFlags;\n> +    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n>\n> Fixed\n>\n> \u2014\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200152951>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAHutoKKghkVC66tkbFR3O1hWX2N0O9Vks5uDNjCgaJpZM4Lz2fK>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/402735925/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403854172",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-403854172",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 403854172,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzg1NDE3Mg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-10T14:59:37Z",
    "updated_at": "2018-07-10T15:02:20Z",
    "author_association": "MEMBER",
    "body": "Lightly tested by creating a wallet via RPC, seeing it appear in the GUI, importing a watch-only address and sending some coins to it from a normal wallet. That money doesn't show up, even after confirmation, until I restart.\r\n\r\nAfter restart, importing a watch-only address and sending money to it, that transaction shows up immediately.\r\n\r\n@jnewbery said somewhere above:\r\n\r\n> Named arguments are much preferable. Using named arguments provides type- and error- checking for free, and simplify/flatten the interface\r\n> \r\n> For example, if I typo the an option disableprivtaekeys here, this implementation will silently ignore the option. That's not possible with named arguments.\r\n\r\n`disable_private_keys` is still positional, which would be painful to change later...\r\n\r\nThis GUI behavior is confusing - because it suggests the wallet isn't HD, even though it may or may not be -  but I'm fine with addressing it later:\r\n\r\n<img width=\"100\" alt=\"gui\" src=\"https://user-images.githubusercontent.com/10217/42517736-b6290380-8460-11e8-8fa0-cea1b76c2e7e.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/403854172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404453233",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-404453233",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 404453233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDQ1MzIzMw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T09:38:26Z",
    "updated_at": "2018-07-12T09:38:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased and fixed the upper-bits restriction (for the wallet flags) found by @laanwj (https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-402735925).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404453233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404479211",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-404479211",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 404479211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDQ3OTIxMQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T11:21:13Z",
    "updated_at": "2018-07-12T11:21:13Z",
    "author_association": "MEMBER",
    "body": "Unhappy Travis for the Darwin machine:\r\n<img width=\"1839\" alt=\"schermafbeelding 2018-07-12 om 13 13 49\" src=\"https://user-images.githubusercontent.com/10217/42629954-73b28e10-85d5-11e8-98e6-eed75f21bc06.png\">\r\n\r\nI these warnings too when locally on macOS:\r\n<img width=\"1096\" alt=\"schermafbeelding 2018-07-12 om 13 20 39\" src=\"https://user-images.githubusercontent.com/10217/42630263-703a1eb4-85d6-11e8-8ecd-c7af83143f0f.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404479211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404627147",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#issuecomment-404627147",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/9662",
    "id": 404627147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDYyNzE0Nw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-12T19:39:06Z",
    "updated_at": "2018-07-12T19:39:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed the rebase issue (the warning; requires `cs_KeyStore` instead of `cs_wallet` now).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/404627147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386",
    "pull_request_review_id": 22456345,
    "id": 101719386,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTcxOTM4Ng==",
    "diff_hunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
    "path": "qa/rpc-tests/disablehot.py",
    "position": null,
    "original_position": 64,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@MarcoFalke: any idea how I can make this pass? Right now, staring bitcoind in this case with this setup will cause bitcoind to write to stderr (and halt) which then result in pass=false in `rpc-tests.py`. But it's actually the correct behaviour.",
    "created_at": "2017-02-17T09:37:35Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101719386"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101719386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736",
    "pull_request_review_id": 22626838,
    "id": 101880736,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTg4MDczNg==",
    "diff_hunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        try:\n+            self.nodes[1].getrawchangeaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+\n+        # check if we can re-enable private keys\n+        assert_equal(self.nodes[1].signrawtransaction(frawtx['hex'])['complete'], False)\n+        print(\"restarting node with disablehot=0 (try to re-enable private keys which must not be possible)\")\n+        stop_nodes(self.nodes)\n+        try:\n+            self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot=0']])",
    "path": "qa/rpc-tests/disablehot.py",
    "position": null,
    "original_position": 64,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "cd93c2da629fd35eea2ac83a7d8c0eeaaa640bae",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We might create a `assert_start_raises_init_error()` method. I will take a look at this tomorrow.",
    "created_at": "2017-02-18T02:10:13Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101880736"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101880736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 64,
    "side": "RIGHT",
    "in_reply_to_id": 101719386
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618",
    "pull_request_review_id": 22689249,
    "id": 101948618,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk0ODYxOA==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Kind of confusing....\r\nI thought this would be equivalent to `CWallet::SetWalletFlags(uint64_t flags, false)`.\r\n\r\n However  while `CWallet::SetWalletFlags(uint64_t flags, bool memonly)` set the flags to the indicated value, `CWallet::SetWalletFlag(uint64_t flag)` **appends** to it.\r\n\r\nMaybe you should rename to `AddWalletFlags`.",
    "created_at": "2017-02-20T05:11:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101948618"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101948618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523",
    "pull_request_review_id": 22695062,
    "id": 101954523,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk1NDUyMw==",
    "diff_hunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
    "path": "qa/rpc-tests/disablehot.py",
    "position": null,
    "original_position": 17,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "does the `[]` arguments is on purpose? because I think it makes `-disablehot` ignored",
    "created_at": "2017-02-20T06:33:22Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101954523"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101954523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 17,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939",
    "pull_request_review_id": 22697552,
    "id": 101956939,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMTk1NjkzOQ==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "saleemrashid",
      "id": 22301423,
      "node_id": "MDQ6VXNlcjIyMzAxNDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/22301423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saleemrashid",
      "html_url": "https://github.com/saleemrashid",
      "followers_url": "https://api.github.com/users/saleemrashid/followers",
      "following_url": "https://api.github.com/users/saleemrashid/following{/other_user}",
      "gists_url": "https://api.github.com/users/saleemrashid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saleemrashid/subscriptions",
      "organizations_url": "https://api.github.com/users/saleemrashid/orgs",
      "repos_url": "https://api.github.com/users/saleemrashid/repos",
      "events_url": "https://api.github.com/users/saleemrashid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saleemrashid/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`CWallet::AddWalletFlags(uint64_t flags, book memonly)` seems most consistent.",
    "created_at": "2017-02-20T07:03:48Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r101956939"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/101956939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332",
    "pull_request_review_id": 22958806,
    "id": 102210332,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjIxMDMzMg==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO set flags seems most appropriate here. Flags are not getting *appended*. Either you set or unset IMO. For consistency, we should have a `UnsetWalletFlag()`.\r\nBut I agree its kind of confusing that we have a `SetWalletFlags` (plural) method that is capable or re-setting all 64 flags.",
    "created_at": "2017-02-21T13:51:29Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210332"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491",
    "pull_request_review_id": 22958952,
    "id": 102210491,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjIxMDQ5MQ==",
    "diff_hunk": "@@ -0,0 +1,85 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])",
    "path": "qa/rpc-tests/disablehot.py",
    "position": null,
    "original_position": 17,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We start two nodes here, the first node without startup parameters (thats why there is the `[]`). Only second node has `-disablehot`.",
    "created_at": "2017-02-21T13:52:15Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102210491"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102210491/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 17,
    "side": "RIGHT",
    "in_reply_to_id": 101954523
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457",
    "pull_request_review_id": 23013199,
    "id": 102261457,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjI2MTQ1Nw==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "saleemrashid",
      "id": 22301423,
      "node_id": "MDQ6VXNlcjIyMzAxNDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/22301423?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saleemrashid",
      "html_url": "https://github.com/saleemrashid",
      "followers_url": "https://api.github.com/users/saleemrashid/followers",
      "following_url": "https://api.github.com/users/saleemrashid/following{/other_user}",
      "gists_url": "https://api.github.com/users/saleemrashid/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saleemrashid/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saleemrashid/subscriptions",
      "organizations_url": "https://api.github.com/users/saleemrashid/orgs",
      "repos_url": "https://api.github.com/users/saleemrashid/repos",
      "events_url": "https://api.github.com/users/saleemrashid/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saleemrashid/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this method should be plural, since there is no distinction between a single flag and multiple flags in its operation and it might be useful to be able to do the latter.\r\n\r\nThen, of course, you have confusion. So, a verb change in the method name might be useful.",
    "created_at": "2017-02-21T17:04:04Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102261457"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102261457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289",
    "pull_request_review_id": 23124493,
    "id": 102371289,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjM3MTI4OQ==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@jonasschnelli the strange thing is that [SetWalletFlag](https://github.com/bitcoin/bitcoin/pull/9662#discussion-diff-101948618R1410) switch a bit, when [SetWalletFlags](https://github.com/jonasschnelli/bitcoin/blob/e581d843f06d5fe71a4662b122f94577e5dccd55/src/wallet/wallet.cpp#L1417) set the walletFlags to a specific value. I was expecting SetWalletFlags to switch several bits.",
    "created_at": "2017-02-22T02:30:57Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102371289"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102371289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291",
    "pull_request_review_id": 23156144,
    "id": 102403291,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwMjQwMzI5MQ==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe renaming `SetWalletFlags` (plural) to `OverwriteWalletFlags`?",
    "created_at": "2017-02-22T08:12:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r102403291"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/102403291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719",
    "pull_request_review_id": 26490968,
    "id": 105604719,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNDcxOQ==",
    "diff_hunk": "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9549e2c90982966213153bcbf02505f848a808e7",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think you should use `fFirstRun` here instead of `walletInstance->vchDefaultKey.IsValid()`",
    "created_at": "2017-03-13T07:59:14Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105604719"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105604719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3721,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594",
    "pull_request_review_id": 26491840,
    "id": 105605594,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNTU5NA==",
    "diff_hunk": "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9549e2c90982966213153bcbf02505f848a808e7",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "At this point `fFirstRun` is always `false`. And I think this also works in conjunction with `salvagewallet`.",
    "created_at": "2017-03-13T08:07:10Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105605594"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105605594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3721,
    "side": "RIGHT",
    "in_reply_to_id": 105604719
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706",
    "pull_request_review_id": 26493935,
    "id": 105607706,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwNzcwNg==",
    "diff_hunk": "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9549e2c90982966213153bcbf02505f848a808e7",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Indeed. Might be out of this PR matter, in the case of hdwatchonly, `walletInstance->vchDefaultKey.IsValid()` will be true. So this would mean `disabledHot` is incompatible with hdwatchonly mode ?",
    "created_at": "2017-03-13T08:22:16Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105607706"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105607706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3721,
    "side": "RIGHT",
    "in_reply_to_id": 105604719
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044",
    "pull_request_review_id": 26494259,
    "id": 105608044,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEwNTYwODA0NA==",
    "diff_hunk": "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9549e2c90982966213153bcbf02505f848a808e7",
    "user": {
      "login": "NicolasDorier",
      "id": 3020646,
      "node_id": "MDQ6VXNlcjMwMjA2NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3020646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NicolasDorier",
      "html_url": "https://github.com/NicolasDorier",
      "followers_url": "https://api.github.com/users/NicolasDorier/followers",
      "following_url": "https://api.github.com/users/NicolasDorier/following{/other_user}",
      "gists_url": "https://api.github.com/users/NicolasDorier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NicolasDorier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NicolasDorier/subscriptions",
      "organizations_url": "https://api.github.com/users/NicolasDorier/orgs",
      "repos_url": "https://api.github.com/users/NicolasDorier/repos",
      "events_url": "https://api.github.com/users/NicolasDorier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NicolasDorier/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "OK forget what I said, there is no reason to have disabledHot with hdwatchonly at same time.",
    "created_at": "2017-03-13T08:24:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r105608044"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/105608044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3721,
    "side": "RIGHT",
    "in_reply_to_id": 105604719
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212",
    "pull_request_review_id": 36312442,
    "id": 114820212,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgyMDIxMg==",
    "diff_hunk": "@@ -3915,6 +3948,7 @@ bool CWallet::ParameterInteraction()\n     nTxConfirmTarget = GetArg(\"-txconfirmtarget\", DEFAULT_TX_CONFIRM_TARGET);\n     bSpendZeroConfChange = GetBoolArg(\"-spendzeroconfchange\", DEFAULT_SPEND_ZEROCONF_CHANGE);\n     fWalletRbf = GetBoolArg(\"-walletrbf\", DEFAULT_WALLET_RBF);\n+    fDisableHotKeys = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 107,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "69d64075fc6b37972686684eb452bd99bfaf7a74",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nI don't understand why we want to call these \"hot keys\" and not \"private keys,\" but I guess I'm out of the loop on terminology not knowing precisely what a \"hot key\" is.",
    "created_at": "2017-05-04T16:00:10Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114820212"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114820212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3951,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067",
    "pull_request_review_id": 36312442,
    "id": 114827067,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgyNzA2Nw==",
    "diff_hunk": "@@ -0,0 +1,64 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        try:\n+            self.nodes[1].getnewaddress()\n+            raise AssertionError(\"Wallet can derive private keys while -disablehot is enabled\")\n+        except JSONRPCException as e:\n+            assert('Hot key' in e.error['message'])",
    "path": "qa/rpc-tests/disablehot.py",
    "position": null,
    "original_position": 45,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "69d64075fc6b37972686684eb452bd99bfaf7a74",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nConsider using assert_raises_jsonrpc. (It's less verbose)",
    "created_at": "2017-05-04T16:29:33Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114827067"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114827067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 45,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472",
    "pull_request_review_id": 36312442,
    "id": 114832472,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgzMjQ3Mg==",
    "diff_hunk": "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "69d64075fc6b37972686684eb452bd99bfaf7a74",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"Add -disablehot option to ensure pure watchonly-wallets\"\r\n\r\nDo you think it might be better to fail earlier in CreateTransaction, regardless of the nChange > 0 condition? I'm thinking it might be, just so calls would fail consistently instead of sometimes randomly succeeding. But I don't have much understanding of the real-world use-cases for this, so this is just a thought.\r\n\r\nConsidering adding a code comment here explaining more.",
    "created_at": "2017-05-04T16:54:41Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114832472"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114832472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2503,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621",
    "pull_request_review_id": 36312442,
    "id": 114834621,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDgzNDYyMQ==",
    "diff_hunk": "@@ -705,7 +705,8 @@ bool WalletModel::hdEnabled() const\n \n bool WalletModel::hotKeysDisabled() const\n {\n-    return fDisableHotKeys;\n+    return (pwalletMain->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));\n+",
    "path": "src/qt/walletmodel.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"Make -disablehot per wallet (remove global state)\"\r\n\r\nExtra newline here",
    "created_at": "2017-05-04T17:03:59Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114834621"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114834621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 742,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167",
    "pull_request_review_id": 36312442,
    "id": 114860167,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2MDE2Nw==",
    "diff_hunk": "@@ -1408,13 +1407,25 @@ bool CWallet::IsHDEnabled()\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flag)\n+{\n+    walletFlags |= flag;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "e581d843f06d5fe71a4662b122f94577e5dccd55",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Maybe renaming SetWalletFlags (plural) to OverwriteWalletFlags?\r\n\r\nSince this is doing an `|` I'd call it `AddFlags` (which conceivably could be paired with a `RemoveFlags` doing `& ~`).",
    "created_at": "2017-05-04T18:53:59Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114860167"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114860167/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1412,
    "side": "RIGHT",
    "in_reply_to_id": 101948618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421",
    "pull_request_review_id": 36312442,
    "id": 114862421,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDg2MjQyMQ==",
    "diff_hunk": "@@ -3737,7 +3754,20 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n-    else if (fDisableHotKeys) {\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4f3acb5d8c0c736a4c223274af2ca7da17fc8604",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Add `-disablehot` mode: a sane mode for watchonly-wallets\r\n\r\nMaybe the error message could suggest passing `-disablehot` to avoid the problem. I think it would make the context of the error easier to understand for someone not expecting it.",
    "created_at": "2017-05-04T19:03:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114862421"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114862421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3763,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079",
    "pull_request_review_id": 36445578,
    "id": 114942079,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDExNDk0MjA3OQ==",
    "diff_hunk": "@@ -2497,6 +2500,11 @@ bool CWallet::CreateTransaction(const std::vector<CRecipient>& vecSend, CWalletT\n                         //  post-backup change.\n \n                         // Reserve a new key pair from key pool\n+                        if (fDisableHotKeys) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "69d64075fc6b37972686684eb452bd99bfaf7a74",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Falling earlier would disallow creating watch-only transactions (over fundrawtransaction).",
    "created_at": "2017-05-05T07:19:43Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r114942079"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/114942079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2503,
    "side": "RIGHT",
    "in_reply_to_id": 114832472
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827",
    "pull_request_review_id": 44846468,
    "id": 122707827,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjcwNzgyNw==",
    "diff_hunk": "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe leave a comment here to make it clear there are two modes of detecting an initialized wallet here.",
    "created_at": "2017-06-19T13:35:08Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122707827"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122707827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2842,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992",
    "pull_request_review_id": 44846468,
    "id": 122708992,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyMjcwODk5Mg==",
    "diff_hunk": "@@ -2957,6 +2966,9 @@ bool CWallet::SetDefaultKey(const CPubKey &vchPubKey)\n  */\n bool CWallet::NewKeyPool()\n {\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 41,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Return condition for this function is never checked. Only used here: https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L639\r\n\r\nFor this mode do we even need the encrypt functionality? ",
    "created_at": "2017-06-19T13:39:55Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r122708992"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/122708992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2969,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651",
    "pull_request_review_id": 49025491,
    "id": 126531651,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMTY1MQ==",
    "diff_hunk": "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree, and combine the two conditionals to make it clearer that that's what is happening.\r\n\r\n```\r\nfFirstRunRet = !vchDefaultKey.IsValid() && !IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\r\n```",
    "created_at": "2017-07-10T20:44:28Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126531651"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126531651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2842,
    "side": "RIGHT",
    "in_reply_to_id": 122707827
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024",
    "pull_request_review_id": 49025865,
    "id": 126532024,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMjAyNA==",
    "diff_hunk": "@@ -3579,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 98,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: place alphabetically (above `-disablewallet`)",
    "created_at": "2017-07-10T20:46:00Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532024"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3620,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744",
    "pull_request_review_id": 49025865,
    "id": 126532744,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzMjc0NA==",
    "diff_hunk": "@@ -3709,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        /* make sure we don't have hot keys */\n+        if (walletInstance->GetKeyPoolSize()) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 133,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems like the wrong error message: `You can't disable hot keys...` when the user has not specified the `-disablehot` parameter. Rather, this branch indicates some kind of wallet corruption: the DISABLE_HOT_KEYS flag is set, but the wallet contains private keys.",
    "created_at": "2017-07-10T20:49:11Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126532744"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126532744/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3771,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278",
    "pull_request_review_id": 49025865,
    "id": 126535278,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTI3OA==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 16,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You can avoid having to override this method by setting:\r\n\r\n```python\r\nself.extra_args = [[], ['-disablehot']]\r\n```\r\nin the `__init__()` method",
    "created_at": "2017-07-10T20:58:53Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535278"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353",
    "pull_request_review_id": 49025865,
    "id": 126535353,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTM1Mw==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 27,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "please replace `print()` calls with `self.log.info()`",
    "created_at": "2017-07-10T20:59:09Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535353"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 27,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546",
    "pull_request_review_id": 49025865,
    "id": 126535546,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTU0Ng==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):\n+        super().__init__()\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+\n+    def setup_network(self, split=False):\n+        self.nodes = start_nodes(self.num_nodes, self.options.tmpdir, [[], ['-disablehot']])\n+\n+        connect_nodes_bi(self.nodes,0,1)\n+\n+        self.is_network_split=False\n+        self.sync_all()\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+\n+        print(\"Mining blocks...\")\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].validateaddress(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].validateaddress(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10);",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 37,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "no `;` please :slightly_smiling_face: ",
    "created_at": "2017-07-10T20:59:59Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535546"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 37,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722",
    "pull_request_review_id": 49025865,
    "id": 126535722,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNTcyMg==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Can you add a short docstring explaining what the test is testing and how it is testing?",
    "created_at": "2017-07-10T21:00:51Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126535722"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126535722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 5,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260",
    "pull_request_review_id": 49025865,
    "id": 126536260,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEyNjUzNjI2MA==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 1,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Consider running a linter like flake8 over python modules to check for common nits.",
    "created_at": "2017-07-10T21:03:20Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r126536260"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/126536260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977",
    "pull_request_review_id": 72849013,
    "id": 147714977,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNDk3Nw==",
    "diff_hunk": "@@ -537,6 +537,12 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 return false;\n             }\n         }\n+        else if (strType == \"flags\")\n+        {\n+            uint64_t flags;\n+            ssValue >> flags;\n+            pwallet->SetWalletFlags(flags, true);",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I would think we should fail somehow, if an unrecognised flag is set?\r\n",
    "created_at": "2017-10-30T14:18:26Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147714977"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147714977/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 512,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670",
    "pull_request_review_id": 72849013,
    "id": 147716670,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNjY3MA==",
    "diff_hunk": "@@ -2833,6 +2839,9 @@ DBErrors CWallet::LoadWallet(bool& fFirstRunRet)\n     if (nLoadWalletRet != DB_LOAD_OK)\n         return nLoadWalletRet;\n     fFirstRunRet = !vchDefaultKey.IsValid();\n+    if (IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 31,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why are we touching this logic at all? Seems we should just set a default key for watchonly-only wallets, until default keys are removed normally...\r\n",
    "created_at": "2017-10-30T14:24:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716670"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2842,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738",
    "pull_request_review_id": 72849013,
    "id": 147716738,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNjczOA==",
    "diff_hunk": "@@ -3598,6 +3617,7 @@ std::string CWallet::GetWalletHelpString(bool showDebug)\n {\n     std::string strUsage = HelpMessageGroup(_(\"Wallet options:\"));\n     strUsage += HelpMessageOpt(\"-disablewallet\", _(\"Do not load the wallet and disable wallet RPC calls\"));\n+    strUsage += HelpMessageOpt(\"-disablehot\", _(\"Disable the possibility of hot keys (only watchonlys are possible in this mode\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_DISABLE_HOT_WALLET));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 72,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Prefer:\r\n\r\n```C++\r\nstrprintf(_(\"Disable the possibility of hot keys (only watchonlys are possible in this mode; default: %u)\"), DEFAULT_DISABLE_HOT_WALLET)\r\n```",
    "created_at": "2017-10-30T14:24:16Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147716738"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147716738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3620,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783",
    "pull_request_review_id": 72849013,
    "id": 147717783,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxNzc4Mw==",
    "diff_hunk": "@@ -3670,6 +3715,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 122,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9549e2c90982966213153bcbf02505f848a808e7",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should at least be abstracted somehow. vchDefaultKey's existence is not exactly identical to \"does this wallet have keys?\"",
    "created_at": "2017-10-30T14:27:56Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147717783"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147717783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3721,
    "side": "RIGHT",
    "in_reply_to_id": 105604719
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072",
    "pull_request_review_id": 72849013,
    "id": 147718072,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxODA3Mg==",
    "diff_hunk": "@@ -3728,6 +3751,27 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n     }\n+    else if (IsArgSet(\"-disablehot\")) {\n+        bool disableHot = GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if (walletInstance->vchDefaultKey.IsValid() && disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable hot keys if your wallet already contains hot keys\"), walletFile));\n+            return NULL;\n+        }\n+        bool hotKeys = walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS);\n+        if (hotKeys && !disableHot) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable hot keys once you have initialized a wallet with disabled hot keys (use -disablehot instead)\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 99,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Drop the \"`(use -disablehot instead)`\", since that will also fail in a multiwallet scenario.",
    "created_at": "2017-10-30T14:28:52Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718072"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3763,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724",
    "pull_request_review_id": 72849013,
    "id": 147718724,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxODcyNA==",
    "diff_hunk": "@@ -3717,6 +3737,9 @@ CWallet* CWallet::CreateWalletFromFile(const std::string walletFile)\n             if (!walletInstance->SetHDMasterKey(masterPubKey))\n                 throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n         }\n+        if (GetBoolArg(\"-disablehot\", DEFAULT_DISABLE_HOT_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_HOT_KEYS);",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 81,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9935fbd829d4e1c3f9f054c49179e0751de45aee",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This should also probably fake an encrypted wallet, so it can be read by older versions sanely.",
    "created_at": "2017-10-30T14:30:56Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147718724"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147718724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3741,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458",
    "pull_request_review_id": 72849013,
    "id": 147719458,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxOTQ1OA==",
    "diff_hunk": "@@ -102,6 +102,10 @@ UniValue importprivkey(const JSONRPCRequest& request)\n         );\n \n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...",
    "created_at": "2017-10-30T14:33:05Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719458"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 106,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524",
    "pull_request_review_id": 72849013,
    "id": 147719524,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0NzcxOTUyNA==",
    "diff_hunk": "@@ -470,6 +474,10 @@ UniValue importwallet(const JSONRPCRequest& request)\n     if (fPruneMode)\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Importing wallets is disabled in pruned mode\");\n \n+    if (pwallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS)) {\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Error: Hot keys are disabled (-disablehot)\");",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "770db3a530ee4aa86c76a2d93d3f4098c91c953c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It doesn't make sense to mention the option here, since it's tied to the wallet and can't just be toggled...\r\n",
    "created_at": "2017-10-30T14:33:17Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r147719524"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/147719524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 478,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301",
    "pull_request_review_id": 74113773,
    "id": 148811301,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxMTMwMQ==",
    "diff_hunk": "@@ -93,6 +93,10 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n             SLOT(recentRequestsView_selectionChanged(QItemSelection, QItemSelection)));\n         // Last 2 columns are set by the columnResizingFixer, when the table geometry is ready.\n         columnResizingFixer = new GUIUtil::TableViewLastColumnResizingFixer(tableView, AMOUNT_MINIMUM_COLUMN_WIDTH, DATE_COLUMN_WIDTH, this);\n+\n+        if (_model->hotKeysDisabled()) {",
    "path": "src/qt/receivecoinsdialog.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```cpp\r\nui->receiveButton->setEnabled(!_model->hotKeysDisabled());\r\n```",
    "created_at": "2017-11-03T15:16:30Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811301"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811301/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 97,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434",
    "pull_request_review_id": 74113773,
    "id": 148811434,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxMTQzNA==",
    "diff_hunk": "@@ -703,6 +703,11 @@ bool WalletModel::hdEnabled() const\n     return wallet->IsHDEnabled();\n }\n \n+bool WalletModel::hotKeysDisabled() const\n+{\n+    return (wallet->IsWalletFlagSet(WALLET_FLAG_DISABLE_HOT_KEYS));",
    "path": "src/qt/walletmodel.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Drop outer `()`?",
    "created_at": "2017-11-03T15:16:59Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148811434"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148811434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 708,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506",
    "pull_request_review_id": 74113773,
    "id": 148814506,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDUwNg==",
    "diff_hunk": "@@ -871,6 +877,12 @@ bool CWalletDB::WriteHDChain(const CHDChain& chain)\n     return batch.Write(std::string(\"hdchain\"), chain);\n }\n \n+bool CWalletDB::WriteWalletFlags(const uint64_t flags)",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Remove const.",
    "created_at": "2017-11-03T15:26:27Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814506"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 848,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578",
    "pull_request_review_id": 74113773,
    "id": 148814578,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDU3OA==",
    "diff_hunk": "@@ -212,6 +212,7 @@ class CWalletDB\n     //! write the hdchain model (external chain child index counter)\n     bool WriteHDChain(const CHDChain& chain);\n \n+    bool WriteWalletFlags(const uint64_t flags);",
    "path": "src/wallet/walletdb.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Remove const.",
    "created_at": "2017-11-03T15:26:42Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814578"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 237,
    "original_line": 237,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805",
    "pull_request_review_id": 74113773,
    "id": 148814805,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE0ODgxNDgwNQ==",
    "diff_hunk": "@@ -0,0 +1,67 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2017 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisableHotKeysTest(BitcoinTestFramework):\n+\n+    def __init__(self):",
    "path": "test/functional/disablehot.py",
    "position": null,
    "original_position": 11,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`set_test_params` instead.",
    "created_at": "2017-11-03T15:27:26Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r148814805"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/148814805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 11,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171240983",
    "pull_request_review_id": 100057650,
    "id": 171240983,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTI0MDk4Mw==",
    "diff_hunk": "@@ -871,6 +877,12 @@ bool CWalletDB::WriteHDChain(const CHDChain& chain)\n     return batch.Write(std::string(\"hdchain\"), chain);\n }\n \n+bool CWalletDB::WriteWalletFlags(const uint64_t flags)",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 17,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why?",
    "created_at": "2018-02-28T13:18:13Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r171240983",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171240983"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r171240983"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171240983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 848,
    "side": "RIGHT",
    "in_reply_to_id": 148814506
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673561",
    "pull_request_review_id": 111131816,
    "id": 180673561,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3MzU2MQ==",
    "diff_hunk": "@@ -1149,6 +1150,15 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */\n+    void AddWalletFlag(uint64_t flags);\n+\n+    /** check if a certain wallet flag is set */\n+    bool IsWalletFlagSet(uint64_t flag);\n+\n+    /** overwrite all flags by the given unit64_t */",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 19,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "c572c52f19269ef8cec7ec1084de786d1e786edc",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Typo: `uint64_t`",
    "created_at": "2018-04-11T08:30:09Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673561",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673561"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673561"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1160,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673696",
    "pull_request_review_id": 111131816,
    "id": 180673696,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3MzY5Ng==",
    "diff_hunk": "@@ -212,6 +212,7 @@ class CWalletDB\n     //! write the hdchain model (external chain child index counter)\n     bool WriteHDChain(const CHDChain& chain);\n \n+    bool WriteWalletFlags(const uint64_t flags);",
    "path": "src/wallet/walletdb.h",
    "position": 4,
    "original_position": 4,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "9e94cc41b3180949011d2299da14c13471b6aa2b",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why?",
    "created_at": "2018-04-11T08:30:39Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673696",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673696"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180673696"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180673696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 237,
    "original_line": 237,
    "side": "RIGHT",
    "in_reply_to_id": 148814578
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674148",
    "pull_request_review_id": 111131816,
    "id": 180674148,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDE0OA==",
    "diff_hunk": "@@ -1483,6 +1483,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.masterKeyID.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)",
    "path": "src/wallet/wallet.cpp",
    "position": 28,
    "original_position": 11,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "c572c52f19269ef8cec7ec1084de786d1e786edc",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\u03bcNit: Why not just `GetWalletFlag`?",
    "created_at": "2018-04-11T08:32:17Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674148",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674148"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674148"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674148/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1539,
    "original_line": 1539,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674529",
    "pull_request_review_id": 111131816,
    "id": 180674529,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDUyOQ==",
    "diff_hunk": "@@ -1495,11 +1497,17 @@ bool CWallet::IsWalletFlagSet(uint64_t flag)\n     return (m_wallet_flags & flag);\n }\n \n-void CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n {\n     m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags\n+        return false;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I wonder if this should `throw` here instead of being a `can-fail` method.",
    "created_at": "2018-04-11T08:33:46Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674529",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674529"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674529"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1550,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674803",
    "pull_request_review_id": 111131816,
    "id": 180674803,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDgwMw==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 97,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `} else {`",
    "created_at": "2018-04-11T08:34:52Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674803",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674803"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674803"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4212,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674966",
    "pull_request_review_id": 111131816,
    "id": 180674966,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NDk2Ng==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 114,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `} else if (...) {`",
    "created_at": "2018-04-11T08:35:29Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674966",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674966"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180674966"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180674966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4058,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675089",
    "pull_request_review_id": 111131816,
    "id": 180675089,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTA4OQ==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 119,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we prefer `nullptr` over `NULL` these days.",
    "created_at": "2018-04-11T08:35:57Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675089",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675089"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675089"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4063,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675114",
    "pull_request_review_id": 111131816,
    "id": 180675114,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTExNA==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 123,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we prefer `nullptr` over `NULL` these days.",
    "created_at": "2018-04-11T08:36:02Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675114",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675114"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675114"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4067,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675128",
    "pull_request_review_id": 111131816,
    "id": 180675128,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTEyOA==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        /* make sure we don't have private keys */\n+        if (walletInstance->GetKeyPoolSize()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys present in a wallet where private keys are disabled\"), walletFile));\n+            return NULL;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 131,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think we prefer `nullptr` over `NULL` these days.",
    "created_at": "2018-04-11T08:36:06Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675128",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675128"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675128"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4234,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675199",
    "pull_request_review_id": 111131816,
    "id": 180675199,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTE5OQ==",
    "diff_hunk": "@@ -4014,18 +4036,44 @@ CWallet* CWallet::CreateWalletFromFile(const std::string& name, const fs::path&\n         }\n         walletInstance->SetMinVersion(FEATURE_NO_DEFAULT_KEY);\n \n-        // generate a new master key\n-        CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n-        if (!walletInstance->SetHDMasterKey(masterPubKey))\n-            throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+        if (gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET)) {\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new master key\n+            CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n+            if (!walletInstance->SetHDMasterKey(masterPubKey)) {\n+                throw std::runtime_error(std::string(__func__) + \": Storing master key failed\");\n+            }\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->SetBestChain(chainActive.GetLocator());\n+    }\n+    else if (gArgs.IsArgSet(\"-disableprivatekeys\")) {\n+        bool disablePrivKeys = gArgs.GetBoolArg(\"-disableprivatekeys\", DEFAULT_DISABLE_PRIVKEY_WALLET);\n+        LOCK(walletInstance->cs_wallet);\n+        if ((!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) && disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't disable private keys if your wallet already contains private keys\"), walletFile));\n+            return NULL;\n+        }\n+        if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !disablePrivKeys) {\n+            InitError(strprintf(_(\"Error loading %s: You can't enable private keys once you have initialized a wallet with disabled private keys (use -disableprivatekeys instead)\"), walletFile));\n+            return NULL;\n+        }\n+    }\n+    else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 126,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `} else if ...`",
    "created_at": "2018-04-11T08:36:20Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675199",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675199"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675199"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4070,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675477",
    "pull_request_review_id": 111131816,
    "id": 180675477,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTQ3Nw==",
    "diff_hunk": "@@ -1157,8 +1167,9 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n     /** check if a certain wallet flag is set */\n     bool IsWalletFlagSet(uint64_t flag);\n \n-    /** overwrite all flags by the given unit64_t */\n-    void SetWalletFlags(uint64_t overwriteFlags, bool memOnly);\n+    /** overwrite all flags by the given unit64_t",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 30,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Typo: `uint64_t`",
    "created_at": "2018-04-11T08:37:24Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675477",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675477"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675477"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1219,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675655",
    "pull_request_review_id": 111131816,
    "id": 180675655,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTY1NQ==",
    "diff_hunk": "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `} else`",
    "created_at": "2018-04-11T08:38:08Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675655",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675655"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675655"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 584,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675671",
    "pull_request_review_id": 111131816,
    "id": 180675671,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NTY3MQ==",
    "diff_hunk": "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {\n+                    // reading the wallet flags can only fail if unknown flags are present\n+                    result = DBErrors::TOO_NEW;\n+                }\n+                else {",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `} else`",
    "created_at": "2018-04-11T08:38:13Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675671",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675671"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180675671"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180675671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 586,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676447",
    "pull_request_review_id": 111131816,
    "id": 180676447,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3NjQ0Nw==",
    "diff_hunk": "@@ -0,0 +1,58 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test running bitcoind with -disableprivatekeys options.\n+\n+- Start a wallet with -disableprivatekeys and make sure we can't execute private key operations\n+- Test that disabeling the option later (or enabling after creation) fails.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisablePrivKeysTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-disableprivatekeys\"]]\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].getaddressinfo(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].getaddressinfo(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10)\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getrawchangeaddress)\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)",
    "path": "test/functional/wallet_disableprivkeys.py",
    "position": null,
    "original_position": 40,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "74d25a289ea040ed33e0aaed120e77f3be7e5311",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unsure why you're explicitly giving the `\"*\", 1, True` and not just doing `getbalance()` here.",
    "created_at": "2018-04-11T08:41:00Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676447",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676447"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676447"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 40,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676767",
    "pull_request_review_id": 111131816,
    "id": 180676767,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE4MDY3Njc2Nw==",
    "diff_hunk": "@@ -0,0 +1,58 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test running bitcoind with -disableprivatekeys options.\n+\n+- Start a wallet with -disableprivatekeys and make sure we can't execute private key operations\n+- Test that disabeling the option later (or enabling after creation) fails.\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import *\n+\n+class DisablePrivKeysTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = True\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-disableprivatekeys\"]]\n+\n+    def run_test(self):\n+        assert_equal(self.nodes[1].getwalletinfo()['keypoolsize'], 0)\n+        self.sync_all()\n+        self.nodes[0].generate(101)\n+        self.sync_all()\n+\n+        n0addrR = self.nodes[0].getnewaddress()\n+        n0pubkR = self.nodes[0].getaddressinfo(n0addrR)['pubkey']\n+        n0addrC = self.nodes[0].getnewaddress()\n+        n0pubkC = self.nodes[0].getaddressinfo(n0addrC)['pubkey']\n+        n0addr  = self.nodes[0].getnewaddress()\n+        self.nodes[0].sendtoaddress(n0addrR, 10)\n+        self.nodes[0].generate(6)\n+        self.sync_all()\n+\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getnewaddress)\n+        assert_raises_rpc_error(-4,\"Error: Private keys are disabled (-disableprivatekeys)\", self.nodes[1].getrawchangeaddress)\n+\n+        self.nodes[1].importpubkey(n0pubkR) #TODO switch to importmulti\n+        self.nodes[1].importpubkey(n0pubkC)\n+        assert_equal(self.nodes[1].getbalance(\"*\", 1, True), 10)\n+        rawtx = self.nodes[1].createrawtransaction([], {n0addr: 1.0})\n+        frawtx= self.nodes[1].fundrawtransaction(rawtx, {\"changeAddress\": n0addrC, \"includeWatching\": True})\n+        assert_equal(self.nodes[1].signrawtransactionwithwallet(frawtx['hex'])['complete'], False)",
    "path": "test/functional/wallet_disableprivkeys.py",
    "position": null,
    "original_position": 43,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "74d25a289ea040ed33e0aaed120e77f3be7e5311",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe add a test that ensures it can `signrawtransactionwithkeys` (disabling privkeys should still let you sign, if you provide the keys, I think?).",
    "created_at": "2018-04-11T08:42:10Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676767",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676767"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r180676767"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/180676767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195403067",
    "pull_request_review_id": 128764729,
    "id": 195403067,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQwMzA2Nw==",
    "diff_hunk": "@@ -3102,12 +3114,16 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" (\\\"options\\\"\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. options          (json, optional)\\n\"\n+            \"  {\\n\"\n+            \"     \\\"disableprivatekeys\\\": <state>,         (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 47,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was under the impression that named arguments is preferable to `options` object.",
    "created_at": "2018-06-14T12:30:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195403067",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195403067"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195403067"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195403067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3125,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195439403",
    "pull_request_review_id": 128809060,
    "id": 195439403,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQzOTQwMw==",
    "diff_hunk": "@@ -3102,12 +3114,16 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" (\\\"options\\\"\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n             \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. options          (json, optional)\\n\"\n+            \"  {\\n\"\n+            \"     \\\"disableprivatekeys\\\": <state>,         (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 47,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I agree. Named arguments are much preferable. Using named arguments provides type- and error- checking for free, and simplify/flatten the interface\r\n\r\nFor example, if I typo the an option `disableprivtaekeys` here, this implementation will silently ignore the option. That's not possible with named arguments.",
    "created_at": "2018-06-14T14:14:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195439403",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195439403"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195439403"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195439403/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3125,
    "side": "RIGHT",
    "in_reply_to_id": 195403067
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195443199",
    "pull_request_review_id": 128809060,
    "id": 195443199,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0MzE5OQ==",
    "diff_hunk": "@@ -1513,6 +1515,31 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`if ((overwriteFlags & ^g_known_wallet_flags) >> 32) {` seems slightly more readable to me.",
    "created_at": "2018-06-14T14:23:49Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195443199",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195443199"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195443199"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195443199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1535,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445038",
    "pull_request_review_id": 128809060,
    "id": 195445038,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NTAzOA==",
    "diff_hunk": "@@ -4164,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 142,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems a little dangerous. If we get into this condition for any reason, it'll be impossible for the user to load the wallet and retrieve their private keys.",
    "created_at": "2018-06-14T14:27:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445038",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445038"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445038"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4233,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445562",
    "pull_request_review_id": 128809060,
    "id": 195445562,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NTU2Mg==",
    "diff_hunk": "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
    "path": "src/qt/receivecoinsdialog.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "How does this interact with multiwallet? Loading/unloading wallets at run time?",
    "created_at": "2018-06-14T14:29:06Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445562",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445562"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195445562"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195445562/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446539",
    "pull_request_review_id": 128809060,
    "id": 195446539,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0NjUzOQ==",
    "diff_hunk": "@@ -151,7 +151,9 @@ def run_test(self):\n         assert_equal(w3.getbalance(), 0)\n         assert_equal(w4.getbalance(), 0)\n \n-        w1.sendtoaddress(w2.getnewaddress(), 1)\n+        w2addrR = w2.getnewaddress()",
    "path": "test/functional/wallet_multiwallet.py",
    "position": null,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I'm not sure what the `R` is for here. In general, prefer to use `lower_case_with_underscores` for [variable names in Python](https://www.python.org/dev/peps/pep-0008/#id45).",
    "created_at": "2018-06-14T14:31:39Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446539",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446539"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446539"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446539/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 154,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446746",
    "pull_request_review_id": 128809060,
    "id": 195446746,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ0Njc0Ng==",
    "diff_hunk": "@@ -231,8 +233,14 @@ def run_test(self):\n         assert_equal(loadwallet_name['name'], new_wallet_name)\n         w10 = node.get_wallet_rpc(new_wallet_name)\n         assert_equal(w10.getwalletinfo()['walletname'], new_wallet_name)\n-\n         assert new_wallet_name in self.nodes[0].listwallets()\n \n+        self.log.info(\"Test disableprivatekeys creation.\")",
    "path": "test/functional/wallet_multiwallet.py",
    "position": null,
    "original_position": 18,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's not obvious to me why this test is in `wallet_multiwallet.py`. What does it have to do with multiwallet?",
    "created_at": "2018-06-14T14:32:11Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446746",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446746"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195446746"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195446746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 238,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496583",
    "pull_request_review_id": 128878380,
    "id": 195496583,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ5NjU4Mw==",
    "diff_hunk": "@@ -1513,6 +1513,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "ec2fb56a3942a27172b2804cfa08225479ffa4ee",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Add facility to store wallet flags (64 bits)\"\r\n\r\nMissing `LOCK(cs_wallet);`?",
    "created_at": "2018-06-14T16:52:48Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195496583",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496583"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195496583"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195496583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1534,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195498922",
    "pull_request_review_id": 128878380,
    "id": 195498922,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTQ5ODkyMg==",
    "diff_hunk": "@@ -4183,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 106,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "bf85f0b60d21062f165a35cfe27074beddd8a23e",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Commit \"Add per option to disable private keys during internal wallet creation\"\r\n\r\nnit `} else {`.",
    "created_at": "2018-06-14T17:00:47Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195498922",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195498922"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195498922"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195498922/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4211,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195528793",
    "pull_request_review_id": 128917365,
    "id": 195528793,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTUyODc5Mw==",
    "diff_hunk": "@@ -4164,18 +4205,34 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->AddWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        }\n+        else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitError(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 142,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sounds like that should be a warning, not an error.",
    "created_at": "2018-06-14T18:35:05Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195528793",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195528793"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195528793"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195528793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4233,
    "side": "RIGHT",
    "in_reply_to_id": 195445038
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195529932",
    "pull_request_review_id": 128918717,
    "id": 195529932,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTUyOTkzMg==",
    "diff_hunk": "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
    "path": "src/qt/receivecoinsdialog.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I still think multiwallet should use one window per wallet rather than a dropdown inside a single window. Pending that, receive screen should at least be visible if any of the wallets aren't read-only. The receive button itself would have to be updated when the user switches between wallets.\r\n\r\nAnother question is: provided there's enough warnings (including about scams), why shouldn't a user be able to receive money on a watch-only address (assuming there's an unused one)?",
    "created_at": "2018-06-14T18:38:43Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195529932",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195529932"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195529932"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195529932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT",
    "in_reply_to_id": 195445562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195553112",
    "pull_request_review_id": 128947114,
    "id": 195553112,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NTU1MzExMg==",
    "diff_hunk": "@@ -231,8 +233,14 @@ def run_test(self):\n         assert_equal(loadwallet_name['name'], new_wallet_name)\n         w10 = node.get_wallet_rpc(new_wallet_name)\n         assert_equal(w10.getwalletinfo()['walletname'], new_wallet_name)\n-\n         assert new_wallet_name in self.nodes[0].listwallets()\n \n+        self.log.info(\"Test disableprivatekeys creation.\")",
    "path": "test/functional/wallet_multiwallet.py",
    "position": null,
    "original_position": 18,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I guess I placed it there because this was the only test that used `createwallet`. But right, I shall move it to a new test.",
    "created_at": "2018-06-14T20:01:39Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195553112",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195553112"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r195553112"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/195553112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 238,
    "side": "RIGHT",
    "in_reply_to_id": 195446746
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196062770",
    "pull_request_review_id": 129544178,
    "id": 196062770,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjA2Mjc3MA==",
    "diff_hunk": "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
    "path": "src/qt/receivecoinsdialog.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@Sjors comment is orthogonal.\r\n\r\n@jnewbery: this seems to work perfectly fine with mtulitwallet. Not sure about unloading... but I guess unloading does also call `setModel()`... or can you be more specific why this should be a problem?",
    "created_at": "2018-06-18T12:44:22Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196062770",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196062770"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196062770"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196062770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT",
    "in_reply_to_id": 195445562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916120",
    "pull_request_review_id": 130556896,
    "id": 196916120,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjEyMA==",
    "diff_hunk": "@@ -1198,6 +1209,16 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */",
    "path": "src/wallet/wallet.h",
    "position": 39,
    "original_position": 39,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Any reason for not naming these `SetWalletFlag`/`GetWalletFlag`/`SetWalletFlags`?",
    "created_at": "2018-06-20T19:34:38Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916120",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916120"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916120"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1205,
    "original_line": 1205,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916238",
    "pull_request_review_id": 130556896,
    "id": 196916238,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjIzOA==",
    "diff_hunk": "@@ -568,10 +571,14 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                }\n+                else if(strType == \"flags\") {",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "not addressed",
    "created_at": "2018-06-20T19:35:06Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916238",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916238"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916238"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 584,
    "side": "RIGHT",
    "in_reply_to_id": 180675655
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916606",
    "pull_request_review_id": 130556896,
    "id": 196916606,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxNjYwNg==",
    "diff_hunk": "@@ -1513,6 +1515,33 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: s/unkown/unknown",
    "created_at": "2018-06-20T19:36:28Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916606",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916606"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196916606"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196916606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1536,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196919737",
    "pull_request_review_id": 130556896,
    "id": 196919737,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkxOTczNw==",
    "diff_hunk": "@@ -3102,12 +3116,13 @@ UniValue loadwallet(const JSONRPCRequest& request)\n \n UniValue createwallet(const JSONRPCRequest& request)\n {\n-    if (request.fHelp || request.params.size() != 1) {\n+    if (request.fHelp || request.params.size() < 1 || request.params.size() > 2) {\n         throw std::runtime_error(\n-            \"createwallet \\\"wallet_name\\\"\\n\"\n+            \"createwallet \\\"wallet_name\\\" ( disableprivatekeys )\\n\"\n             \"\\nCreates and loads a new wallet.\\n\"\n             \"\\nArguments:\\n\"\n-            \"1. \\\"wallet_name\\\"    (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"1. \\\"wallet_name\\\"        (string, required) The name for the new wallet. If this is a path, the wallet will be created at the path location.\\n\"\n+            \"2. disableprivatekeys   (boolean, optional, default: false) Disable the possibility of private keys (only watchonlys are possible in this mode).\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 88,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: rpc argument names should be in lower_case_with_underscores (https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#rpc-interface-guidelines). I think this should be disable_private_keys.",
    "created_at": "2018-06-20T19:48:12Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196919737",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196919737"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196919737"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196919737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3125,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196924775",
    "pull_request_review_id": 130556896,
    "id": 196924775,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NjkyNDc3NQ==",
    "diff_hunk": "@@ -99,6 +99,9 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n         }\n+\n+        // eventually disable the main receive button if private key operations are disabled",
    "path": "src/qt/receivecoinsdialog.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "8cb2e81eaab0f749403d0522bb1284eed0c12842",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, you're right that this works fine with multiwallet.\r\n\r\nIt would be nice if there was help text saying that the 'receive' button is disabled because the wallet has private keys disabled (and so can't generate new receiving addresses). However, that could be added in a separate PR.",
    "created_at": "2018-06-20T20:05:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196924775",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196924775"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r196924775"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/196924775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 103,
    "original_line": 103,
    "side": "RIGHT",
    "in_reply_to_id": 195445562
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197142640",
    "pull_request_review_id": 130827645,
    "id": 197142640,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0MjY0MA==",
    "diff_hunk": "@@ -1513,6 +1513,25 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::AddWalletFlag(uint64_t flags)\n+{\n+    m_wallet_flags |= flags;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "ec2fb56a3942a27172b2804cfa08225479ffa4ee",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2018-06-21T13:57:36Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197142640",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197142640"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197142640"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197142640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1534,
    "side": "RIGHT",
    "in_reply_to_id": 195496583
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197144520",
    "pull_request_review_id": 130830085,
    "id": 197144520,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0NDUyMA==",
    "diff_hunk": "@@ -1495,11 +1497,17 @@ bool CWallet::IsWalletFlagSet(uint64_t flag)\n     return (m_wallet_flags & flag);\n }\n \n-void CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n {\n     m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unkown non-tolerable wallet flags\n+        return false;",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 26,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "56c0798d32cad350c08ba56d35b116051288c594",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think a specific error handling makes more sense (see error handling in walletdb)",
    "created_at": "2018-06-21T14:02:46Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197144520",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197144520"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197144520"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197144520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1550,
    "side": "RIGHT",
    "in_reply_to_id": 180674529
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197147479",
    "pull_request_review_id": 130833821,
    "id": 197147479,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzE0NzQ3OQ==",
    "diff_hunk": "@@ -1198,6 +1209,16 @@ class CWallet final : public CCryptoKeyStore, public CValidationInterface\n \n     /** Whether a given output is spendable by this wallet */\n     bool OutputEligibleForSpending(const COutput& output, const CoinEligibilityFilter& eligibility_filter) const;\n+\n+    /** set a single wallet flag */",
    "path": "src/wallet/wallet.h",
    "position": 39,
    "original_position": 39,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "4c2b3fc3bf17cf15dc8857bc68b91d36141c6df8",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree... changed from AddWalletFlag to SetWalletFlag",
    "created_at": "2018-06-21T14:10:45Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197147479",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197147479"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197147479"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197147479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1205,
    "original_line": 1205,
    "side": "RIGHT",
    "in_reply_to_id": 196916120
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459599",
    "pull_request_review_id": 131211773,
    "id": 197459599,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTU5OQ==",
    "diff_hunk": "@@ -570,10 +578,13 @@ DBErrors WalletBatch::LoadWallet(CWallet* pwallet)\n             {\n                 // losing keys is considered a catastrophic error, anything else\n                 // we assume the user can live with:\n-                if (IsKeyType(strType) || strType == \"defaultkey\")\n+                if (IsKeyType(strType) || strType == \"defaultkey\") {\n                     result = DBErrors::CORRUPT;\n-                else\n-                {\n+                } else if(strType == \"flags\") {\n+                    // reading the wallet flags can only fail if unknown flags are present\n+                    result = DBErrors::TOO_NEW;\n+                }",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `} else {`",
    "created_at": "2018-06-22T14:17:48Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459599",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459599"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459599"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 585,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459791",
    "pull_request_review_id": 131211773,
    "id": 197459791,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ1OTc5MQ==",
    "diff_hunk": "@@ -510,7 +510,15 @@ ReadKeyValue(CWallet* pwallet, CDataStream& ssKey, CDataStream& ssValue,\n                 strErr = \"Error reading wallet database: SetHDChain failed\";\n                 return false;\n             }\n-        } else if (strType != \"bestblock\" && strType != \"bestblock_nomerkle\"){\n+        } else if (strType == \"flags\") {\n+            uint64_t flags;\n+            ssValue >> flags;\n+            if (!pwallet->SetWalletFlags(flags, true)) {\n+                strErr = \"Error reading wallet database: Unknown non-tolerable wallet flags found\";\n+                return false;\n+            }\n+        }",
    "path": "src/wallet/walletdb.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `} else if (...) {`",
    "created_at": "2018-06-22T14:18:26Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459791",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459791"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197459791"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197459791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 520,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461596",
    "pull_request_review_id": 131211773,
    "id": 197461596,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MTU5Ng==",
    "diff_hunk": "@@ -3132,7 +3152,7 @@ UniValue createwallet(const JSONRPCRequest& request)\n         throw JSONRPCError(RPC_WALLET_ERROR, \"Wallet file verification failed: \" + error);\n     }\n \n-    std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()));\n+    std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()), (disable_privatekeys ? WALLET_FLAG_DISABLE_PRIVATE_KEYS : 0));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 109,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This introduces a new build warning for me:\r\n\r\n```\r\nwallet/rpcwallet.cpp: In function \u2018UniValue createwallet(const JSONRPCRequest&)\u2019:\r\nwallet/rpcwallet.cpp:3155:152: warning: enumeral and non-enumeral type in conditional expression [-Wextra]\r\n     std::shared_ptr<CWallet> const wallet = CWallet::CreateWalletFromFile(wallet_name, fs::absolute(wallet_name, GetWalletDir()), (disable_privatekeys ? WALLET_FLAG_DISABLE_PRIVATE_KEYS : 0));\r\n                                                                                                                                                        ^\r\n```",
    "created_at": "2018-06-22T14:23:54Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461596",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461596"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461596"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3155,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461728",
    "pull_request_review_id": 131211773,
    "id": 197461728,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MTcyOA==",
    "diff_hunk": "@@ -113,6 +113,16 @@ constexpr OutputType DEFAULT_ADDRESS_TYPE{OutputType::P2SH_SEGWIT};\n //! Default for -changetype\n constexpr OutputType DEFAULT_CHANGE_TYPE{OutputType::CHANGE_AUTO};\n \n+enum WalletFlags : uint64_t {\n+    // wallet flags in the upper section (> 1 << 31) will lead to not opening the wallet if flag is unknown\n+    // unkown wallet flags in the lower section <= (1 << 31) will be tolerated\n+\n+    // will enforce the rule that the wallet can't contain any private keys (only watch-only/pubkeys)\n+    WALLET_FLAG_DISABLE_PRIVATE_KEYS = (1ULL << 32),\n+};\n+\n+static const uint64_t g_known_wallet_flags = WALLET_FLAG_DISABLE_PRIVATE_KEYS;",
    "path": "src/wallet/wallet.h",
    "position": null,
    "original_position": 12,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: use constexpr",
    "created_at": "2018-06-22T14:24:17Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461728",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461728"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197461728"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197461728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 124,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197462633",
    "pull_request_review_id": 131211773,
    "id": 197462633,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MjYzMw==",
    "diff_hunk": "@@ -1513,6 +1515,33 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {\n+        // contains unknown non-tolerable wallet flags\n+        return false;\n+    }\n+    if (!memonly && !WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 42,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: if block should have braces.",
    "created_at": "2018-06-22T14:27:02Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197462633",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197462633"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197462633"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197462633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1553,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197463342",
    "pull_request_review_id": 131211773,
    "id": 197463342,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2MzM0Mg==",
    "diff_hunk": "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 125,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: if block should use braces",
    "created_at": "2018-06-22T14:29:10Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197463342",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197463342"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197463342"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197463342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4195,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464249",
    "pull_request_review_id": 131211773,
    "id": 197464249,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NDI0OQ==",
    "diff_hunk": "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 136,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: no need for double parens",
    "created_at": "2018-06-22T14:31:55Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464249",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464249"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464249"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4227,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464883",
    "pull_request_review_id": 131211773,
    "id": 197464883,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NDg4Mw==",
    "diff_hunk": "@@ -4164,18 +4207,32 @@ std::shared_ptr<CWallet> CWallet::CreateWalletFromFile(const std::string& name,\n         }\n         walletInstance->SetMinVersion(FEATURE_LATEST);\n \n-        // generate a new seed\n-        CPubKey seed = walletInstance->GenerateNewSeed();\n-        if (!walletInstance->SetHDSeed(seed))\n-            throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+            //selective allow to set flags\n+            walletInstance->SetWalletFlag(WALLET_FLAG_DISABLE_PRIVATE_KEYS);\n+        } else {\n+            // generate a new seed\n+            CPubKey seed = walletInstance->GenerateNewSeed();\n+            if (!walletInstance->SetHDSeed(seed))\n+                throw std::runtime_error(std::string(__func__) + \": Storing HD seed failed\");\n+        }\n \n         // Top up the keypool\n-        if (!walletInstance->TopUpKeyPool()) {\n+        if (!walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS) && !walletInstance->TopUpKeyPool()) {\n             InitError(_(\"Unable to generate initial keys\") += \"\\n\");\n             return nullptr;\n         }\n \n         walletInstance->ChainStateFlushed(chainActive.GetLocator());\n+    } else if ((wallet_creation_flags & WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        // Make it impossible to disable private keys after creation\n+        InitError(strprintf(_(\"Error loading %s: Private keys can only be disabled during creation\"), walletFile));\n+        return NULL;\n+    } else if (walletInstance->IsWalletFlagSet(WALLET_FLAG_DISABLE_PRIVATE_KEYS)) {\n+        LOCK(walletInstance->cs_wallet);\n+        if (!walletInstance->mapKeys.empty() || !walletInstance->mapCryptedKeys.empty()) {\n+            InitWarning(strprintf(_(\"Error loading %s: Private keys detected in wallet with disabled private keys\"), walletFile));",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 143,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: change log to:\r\n\r\n`\"Warning: Private keys detected in wallet {%s} with disabled private keys\"), walletFile));`\r\n\r\n(since this is now a warning instead of an error)",
    "created_at": "2018-06-22T14:33:42Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464883",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464883"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197464883"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197464883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 4234,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197466439",
    "pull_request_review_id": 131211773,
    "id": 197466439,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE5NzQ2NjQzOQ==",
    "diff_hunk": "@@ -2970,19 +2982,20 @@ static UniValue getwalletinfo(const JSONRPCRequest& request)\n             \"Returns an object containing various wallet state info.\\n\"\n             \"\\nResult:\\n\"\n             \"{\\n\"\n-            \"  \\\"walletname\\\": xxxxx,             (string) the wallet name\\n\"\n-            \"  \\\"walletversion\\\": xxxxx,          (numeric) the wallet version\\n\"\n-            \"  \\\"balance\\\": xxxxxxx,              (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"unconfirmed_balance\\\": xxx,      (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"immature_balance\\\": xxxxxx,      (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n-            \"  \\\"txcount\\\": xxxxxxx,              (numeric) the total number of transactions in the wallet\\n\"\n-            \"  \\\"keypoololdest\\\": xxxxxx,         (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n-            \"  \\\"keypoolsize\\\": xxxx,             (numeric) how many new keys are pre-generated (only counts external keys)\\n\"\n-            \"  \\\"keypoolsize_hd_internal\\\": xxxx, (numeric) how many new keys are pre-generated for internal use (used for change outputs, only appears if the wallet is using this feature, otherwise external keys are used)\\n\"\n-            \"  \\\"unlocked_until\\\": ttt,           (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n-            \"  \\\"paytxfee\\\": x.xxxx,              (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n-            \"  \\\"hdseedid\\\": \\\"<hash160>\\\"          (string, optional) the Hash160 of the HD seed (only present when HD is enabled)\\n\"\n-            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\"     (string, optional) alias for hdseedid retained for backwards-compatibility. Will be removed in V0.18.\\n\"\n+            \"  \\\"walletname\\\": xxxxx,               (string) the wallet name\\n\"\n+            \"  \\\"walletversion\\\": xxxxx,            (numeric) the wallet version\\n\"\n+            \"  \\\"balance\\\": xxxxxxx,                (numeric) the total confirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"unconfirmed_balance\\\": xxx,        (numeric) the total unconfirmed balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"immature_balance\\\": xxxxxx,        (numeric) the total immature balance of the wallet in \" + CURRENCY_UNIT + \"\\n\"\n+            \"  \\\"txcount\\\": xxxxxxx,                (numeric) the total number of transactions in the wallet\\n\"\n+            \"  \\\"keypoololdest\\\": xxxxxx,           (numeric) the timestamp (seconds since Unix epoch) of the oldest pre-generated key in the key pool\\n\"\n+            \"  \\\"keypoolsize\\\": xxxx,               (numeric) how many new keys are pre-generated (only counts external keys)\\n\"\n+            \"  \\\"keypoolsize_hd_internal\\\": xxxx,   (numeric) how many new keys are pre-generated for internal use (used for change outputs, only appears if the wallet is using this feature, otherwise external keys are used)\\n\"\n+            \"  \\\"unlocked_until\\\": ttt,             (numeric) the timestamp in seconds since epoch (midnight Jan 1 1970 GMT) that the wallet is unlocked for transfers, or 0 if the wallet is locked\\n\"\n+            \"  \\\"paytxfee\\\": x.xxxx,                (numeric) the transaction fee configuration, set in \" + CURRENCY_UNIT + \"/kB\\n\"\n+            \"  \\\"hdseedid\\\": \\\"<hash160>\\\"            (string, optional) the Hash160 of the HD seed (only present when HD is enabled)\\n\"\n+            \"  \\\"hdmasterkeyid\\\": \\\"<hash160>\\\"       (string, optional) alias for hdseedid retained for backwards-compatibility. Will be removed in V0.18.\\n\"\n+            \"  \\\"privatekeys_enabled\\\": true|false  (boolean) false if privatekeys are disabled for this wallet (enforced watch-only wallet)\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 63,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "81d45b501e4fd6ece30ef41852e96df9b8a5f958",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `private_keys_enabled`",
    "created_at": "2018-06-22T14:38:22Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197466439",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197466439"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r197466439"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/197466439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2998,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200124564",
    "pull_request_review_id": 134377675,
    "id": 200124564,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDEyNDU2NA==",
    "diff_hunk": "@@ -1513,6 +1515,34 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "5caf38f42f34b2aec7440dec752c10856e5d85a7",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Code style is a bit funky here.",
    "created_at": "2018-07-04T13:21:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200124564",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200124564"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200124564"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200124564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1535,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200150453",
    "pull_request_review_id": 134409455,
    "id": 200150453,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDE1MDQ1Mw==",
    "diff_hunk": "@@ -1513,6 +1515,34 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "5caf38f42f34b2aec7440dec752c10856e5d85a7",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Personally think this definitely needs parens to clarify priority, but maybe I'm just easily confused.",
    "created_at": "2018-07-04T14:52:01Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200150453",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200150453"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200150453"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200150453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1535,
    "side": "RIGHT",
    "in_reply_to_id": 200124564
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200152951",
    "pull_request_review_id": 134412685,
    "id": 200152951,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIwMDE1Mjk1MQ==",
    "diff_hunk": "@@ -1513,6 +1515,34 @@ bool CWallet::IsHDEnabled() const\n     return !hdChain.seed_id.IsNull();\n }\n \n+void CWallet::SetWalletFlag(uint64_t flags)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags |= flags;\n+    if (!WalletBatch(*database).WriteWalletFlags(m_wallet_flags))\n+        throw std::runtime_error(std::string(__func__) + \": writing wallet flags failed\");\n+}\n+\n+bool CWallet::IsWalletFlagSet(uint64_t flag)\n+{\n+    return (m_wallet_flags & flag);\n+}\n+\n+bool CWallet::SetWalletFlags(uint64_t overwriteFlags, bool memonly)\n+{\n+    LOCK(cs_wallet);\n+    m_wallet_flags = overwriteFlags;\n+    if ( (overwriteFlags >> 32 | g_known_wallet_flags >> 32) != (g_known_wallet_flags >> 32) ) {",
    "path": "src/wallet/wallet.cpp",
    "position": null,
    "original_position": 37,
    "commit_id": "a3fa4d6a6acf19d640a1d5879a00aa1f059e2380",
    "original_commit_id": "5caf38f42f34b2aec7440dec752c10856e5d85a7",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed",
    "created_at": "2018-07-04T15:01:16Z",
    "updated_at": "2018-07-12T19:33:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200152951",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200152951"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/9662#discussion_r200152951"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/9662"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/200152951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1535,
    "side": "RIGHT",
    "in_reply_to_id": 200124564
  }
]