practicalswift,2019-08-10 18:04:00,"@MarcoFalke Could you provide some additional context? With this PR merged tests would still run in both Appveyor and Travis, right? What is the plan? :-)",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520168690,520168690,
MarcoFalke,2019-08-11 01:32:21,"The plan is to be flexible, to be able to switch away from travis any time without much hassle. Also, this makes it easier to run the ci locally.",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520192582,520192582,
promag,2019-08-11 13:48:57,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520229953,520229953,
MarcoFalke,2019-08-11 15:17:11,Fixed typo in doc and added a note on how to run the ci locally,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520236211,520236211,
DrahtBot,2019-08-11 16:44:39,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16597](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16597.html) ([WIP] Travis: run full test suite on native",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520242736,520242736,
MarcoFalke,2019-08-12 12:06:31,"> Have tested running the CI locally on macOS using Docker and ./ci/test_run_all.sh. Everything seems to work as expected.\n\nThanks for testing on mac!\n\nSo this is confirmed to be working on:\n* Locally, macOS host (fanquake)\n* travis, xenial host (run as part of this pull)\n* cirrus ci, bionic host (https://cirrus-ci.com/task/5077011800784896)\n* GitHub ci, bionic host (https://github",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520397870,520397870,
instagibbs,2019-08-12 13:08:44,"> Also, this makes it easier to run the ci locally.\n\nConcept ACK!",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-520417762,520417762,
MarcoFalke,2019-08-14 17:40:54,Rebased with three-way-merge due to change in tangent line,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521346072,521346072,
fanquake,2019-08-15 12:39:55,"I'm now seeing an error running this:\n```\nconfigure.ac:40: installing 'build-aux/missing'\nsrc/Makefile.am: installing 'build-aux/depcomp'\ntravis_fold:end:autogen\n\ntravis_fold:start:configure\nconfigure: loading site script /Users/michael/github/bitcoin/depends/x86_64-unknown-linux-gnu/share/config.site\nconfigure: loading cache config.cache\nchecking build system type... x86_64-pc-l",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521626641,521626641,
MarcoFalke,2019-08-15 12:45:27,"It says `source directory already configured; run ""make distclean"" there first`. Have you tried that?",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521628042,521628042,
MarcoFalke,2019-08-15 12:48:32,"Specifically `cd /Users/michael/github/bitcoin && make distclean`.\n\nThe ci is generally assuming the the folder is a fresh git clone. If needed, that can be changed later on, but better not part of this pull.",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521628900,521628900,
fanquake,2019-08-15 12:49:03,"> It says source directory already configured; run ""make distclean"" there first. Have you tried that?\n\nShouldn't that all be handled by the script? If not, then some docs about why you can't run the tests twice in a row would be handy.",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521629026,521629026,
MarcoFalke,2019-08-15 12:59:24,Done,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521631826,521631826,
MarcoFalke,2019-08-15 13:53:25,I don't think docker on windows can run Ubuntu containers ,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521649006,521649006,
DrahtBot,2019-08-15 15:06:39,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521675247,521675247,
MarcoFalke,2019-08-15 15:15:39,Rebased without any changes due to overly sensitive merge conflict detection on GitHub. git range-diff should be empty: `git range-diff bitcoin/master fa9404d76d faeacf3269`,https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521678650,521678650,
sipsorcery,2019-08-15 19:16:22,"> I don't think docker on windows can run Ubuntu containers\n\nIt can since https://docs.docker.com/docker-for-windows/wsl-tech-preview/\n\n````\naaron@pcdodo:~$ uname -a\nLinux pcdodo 4.19.57-microsoft-standard #1 SMP Wed Jul 3 20:47:25 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\naaron@pcdodo:~$ docker run ubuntu echo ""I  love Windows""; lsb_release -a\nI  love Windows\nNo LSB modules are av",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521762493,521762493,
sipsorcery,2019-08-15 19:21:39,"> Thanks ACK [fa9404d](https://github.com/bitcoin/bitcoin/commit/fa9404d76d16c618dbd2c19973246900918f9e6c) - Maybe @sipsorcery or @NicolasDorier might also want to test here, then we'd have all OS's covered?\n\n@fanquake I looked over the PR and successfully ran my appveyor build with the PR merged. Doesn't seem to be anything Windows related in this PR? Ony travis and shell scripts. Or did you ",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521764252,521764252,
fanquake,2019-08-16 01:02:25,"Thanks @sipsorcery. I also thought it was possible to run on Windows.\n\n> Or did you testing the script changes with the WSL/Mingw builds on Windows?\n\nYea I just meant checking out this PR, and testing/running the scripts, to make sure they were working in your Windows development setups.",https://github.com/bitcoin/bitcoin/pull/16582#issuecomment-521847735,521847735,
sipa,2019-08-11 02:25:51,its,https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312720601,312720601,ci/README.md
fanquake,2019-08-12 00:53:46,"I'd rather we just have a note to look at the [official docs](https://docs.docker.com/install/linux/docker-ce/ubuntu/) for how to install `docker-ce`. \n`docker.io` is an ""old"" version and the docs recommend uninstalling it.",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312763175,312763175,ci/README.md
fanquake,2019-08-12 00:55:00,nit: extra space,https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312763237,312763237,ci/README.md
fanquake,2019-08-12 01:18:17,"```suggestion\nccache echo ""Creating ccache dir if it didn't already exist""\n```",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312764472,312764472,ci/test/04_install.sh
MarcoFalke,2019-08-12 11:50:30,"Huh? According to https://packages.ubuntu.com/xenial/docker.io it is the latest version. We don't need any fancy new features (other than `--mount`), so it should be fine as is.",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312885676,312885676,ci/README.md
fanquake,2019-08-12 11:58:10,"Interesting. From the [Docker documentation](https://docs.docker.com/install/linux/docker-ce/ubuntu/):\n> Older versions of Docker were called docker, docker.io , or docker-engine. If these are installed, uninstall them:\n> ```bash\n> sudo apt-get remove docker docker-engine docker.io containerd runc\n> ```\n\nI guess I don't mind either way, just wasn't sure after looking at those docs.",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r312888074,312888074,ci/README.md
practicalswift,2019-08-14 07:37:21,"Should be ""parameters"" :-)",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313740765,313740765,ci/retry/retry
practicalswift,2019-08-14 07:38:13,Should be exponential -- applies throughout PR :-),https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313741040,313741040,ci/retry/retry
practicalswift,2019-08-14 07:39:27,Duplication of key `task` in mapping?,https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313741449,313741449,.cirrus.yml
practicalswift,2019-08-14 07:39:47,Duplication of key `folder` in mapping?,https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313741558,313741558,.cirrus.yml
fanquake,2019-08-14 07:47:12,"This is an [upstream script](https://github.com/kadwanev/retry), so we don't need to fix it's issues here. Regardless, I've [PR'd](https://github.com/kadwanev/retry/pull/15) them upstream.",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313744202,313744202,ci/retry/retry
MarcoFalke,2019-08-14 14:09:03,"Yes, this is the correct syntax:\n\nhttps://cirrus-ci.org/guide/writing-tasks/#task-execution-dependencies",https://github.com/bitcoin/bitcoin/pull/16582#discussion_r313894624,313894624,.cirrus.yml
