[
  {
    "sha": "727b67e7b86567adff81d945044989de3b5d2d5f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MjdiNjdlN2I4NjU2N2FkZmY4MWQ5NDUwNDQ5ODlkZTNiNWQyZDVm",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T13:03:28Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T14:39:42Z"
      },
      "message": "test: add coverage for bitcoin-cli -rpcwait\n\nin interface_bitcoin_cli.py",
      "tree": {
        "sha": "a7be243e2580e0cfe68ba95d4a8d54a6a1ba35c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a7be243e2580e0cfe68ba95d4a8d54a6a1ba35c7"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/727b67e7b86567adff81d945044989de3b5d2d5f",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl6XHLgACgkQT1chs9Dj\nkh0mNRAAjytCn0FwLU0P6ep3cvL/vrwix9/55V1lkyEzoLCczeB5oaK9yVXSU/7E\nK2d5S0kmsz791tOa3ZDzFA3koIhCCTNeiYBVjAt+HA9AakP2KvzJxRBjb/8ude3M\nQnWmSJurkEMcwmu6OkIQ8encO7Gw41IalK4x0Faziu2Kk7uZBjToT4ZqfG0dRurO\njAUo4T+MSmPiUbAZTRBMIOM1aqWnjWfrEalJ4MDJklgkHTMmwfP7xZFWm9IcsfbZ\nJeooPQA9O4v7BvHohOACCoK6xcKkEdjx+q0vR8IT0xBbezjuawnUAWtOKa1BOnUF\nDxtdKvfjJXN96upqXMz4NlpkOhTCZGtWKlRiw8UBfPcLqHV1qUBRzSuz1Giy1M81\ncns7oU25CrXd+VAuW1GUJtas+sNei0iiJAgSYvDLcAY+O2JI5NwPE94QSh6m/vc8\nRnWgIvvPEozY7lF3rDgFeDpcPt+nl3pZ9OHl8+1QiYwXv8dq22i9WcFOYXixc+qW\nQb+zVwrtzSZ56OtZXJT2OCLFvVeRvBuRPRteH6oYQy7m0xpVY9nu6GFSARKKFDZw\nmniNWqHtffzIyZ36/5yrlpALcmUR9qLdyp5UIN5FHWtDUk+6GgELBtCEEVROxWEF\n0eMroA7hjwZnrS0+W2zIXgxpDi7lZ0qvqqfbuM2pNABVSvnz/8M=\n=Mg5d\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIP72mjsVkGQ9SFfOtyp5ZO9A4XqoouuEskeNWatRkIS7CP/wEAOcrt4wegEt\n+e0rTRxoQqwI8QRelxy58AhcQrnvwysYFACD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wEDS9sSVsl56l22wWhj2FCe4I\n8QRelxy68AjEYWJwycIyZQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQRgn3gzf0H4Y4pGwNe/R3FAjxBF6X\nHLrwCF6pxhscjV2NAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRh\nbGxheHkuY29t8BDx8VWUwUzMz1CWtNDk2GNACPEEXpccuvAItUM4joH+6zYAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree a7be243e2580e0cfe68ba95d4a8d54a6a1ba35c7\nparent 20c0e2e0f04f699d29419d52696601b76eca3124\nauthor Jon Atack <jon@atack.com> 1586955808 +0200\ncommitter Jon Atack <jon@atack.com> 1586961582 +0200\n\ntest: add coverage for bitcoin-cli -rpcwait\n\nin interface_bitcoin_cli.py\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/727b67e7b86567adff81d945044989de3b5d2d5f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/727b67e7b86567adff81d945044989de3b5d2d5f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/727b67e7b86567adff81d945044989de3b5d2d5f/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "20c0e2e0f04f699d29419d52696601b76eca3124",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/20c0e2e0f04f699d29419d52696601b76eca3124",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/20c0e2e0f04f699d29419d52696601b76eca3124"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "6077810a710fa068b93276b6bea5b4c0fa0aed51",
        "filename": "test/functional/interface_bitcoin_cli.py",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/727b67e7b86567adff81d945044989de3b5d2d5f/test/functional/interface_bitcoin_cli.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/727b67e7b86567adff81d945044989de3b5d2d5f/test/functional/interface_bitcoin_cli.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_bitcoin_cli.py?ref=727b67e7b86567adff81d945044989de3b5d2d5f",
        "patch": "@@ -70,6 +70,7 @@ def run_test(self):\n         assert_equal(cli_get_info['proxy'], network_info['networks'][0]['proxy'])\n         assert_equal(cli_get_info['difficulty'], blockchain_info['difficulty'])\n         assert_equal(cli_get_info['chain'], blockchain_info['chain'])\n+\n         if self.is_wallet_compiled():\n             self.log.info(\"Test that -getinfo returns the expected wallet info\")\n             assert_equal(cli_get_info['balance'], BALANCE)\n@@ -81,6 +82,17 @@ def run_test(self):\n         else:\n             self.log.info(\"*** Wallet not compiled; -getinfo wallet tests skipped\")\n \n+        self.stop_node(0)\n+\n+        self.log.info(\"Test -rpcwait option waits for RPC connection instead of failing\")\n+        # Start node without RPC connection.\n+        self.nodes[0].start()\n+        # Verify failure without -rpcwait.\n+        assert_raises_process_error(1, \"Could not connect to the server\", self.nodes[0].cli('getblockcount').echo)\n+        # Verify success using -rpcwait.\n+        assert_equal(BLOCKS, self.nodes[0].cli('-rpcwait', 'getblockcount').send_cli())\n+        self.nodes[0].wait_for_rpc_connection()\n+\n \n if __name__ == '__main__':\n     TestBitcoinCli().main()"
      }
    ]
  },
  {
    "sha": "becc8b9747c963b0fb1b927ced60d5bebed60be4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZWNjOGI5NzQ3Yzk2M2IwZmIxYjkyN2NlZDYwZDViZWJlZDYwYmU0",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T13:05:30Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T14:40:15Z"
      },
      "message": "test: verify bitcoin-cli -version with node stopped\n\nin interface_bitcoin_cli.py and improve/harmonize the test logging.",
      "tree": {
        "sha": "1938b53adf4d3bb1507325971a8f4ac9bf3a61ab",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1938b53adf4d3bb1507325971a8f4ac9bf3a61ab"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/becc8b9747c963b0fb1b927ced60d5bebed60be4",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl6XHNQACgkQT1chs9Dj\nkh2EhA//dsEvfauuz+H8gK+u9IgUNjWLC7sjD34aqifqOY/seModgaQPupmD5eAc\nc7gz+aGVhk96gHK1QUoA8aefvHh9NMHOfm79WAv0LoW3sJhsR7LfJ8lbWNaeAbBc\nKw0bmAJSVVgks93TBVV0VMyUZcevIJApa/Z4Z3mjSPgFvmynbLOX92g+kHohu+33\nc4S1rRVjb6yatD85GTTcoIt8xKq25Yzz0EseMS/qyBHbLDALHF/YGnm0oAAXUCiI\nO0YxZgsjXdU6nlVU3xFUd2d4uvOnDvaciImAm8ZkNlNwqQQAmKSEUbNJXufoH154\n359J/49zCM7tzSg2ejRypaKRFCKHmDSucZH8hgfM19CRhSo2V1aeo4SV31y7sj+e\nDKlEpysG97YebztTwiEd3vsBllQrTjrVGWwL9Holhhze/3Wqmer0OPir+IiKyPz5\njWPyuStO2eqAv1AGNX14Ha/TpBXNQ95t1XJ3ylrxUxUK9RkeozzFX9ABsCNSyLpv\nG4rKklYNHZIm99HmRG2bfwiQrm4ZBvPiXQuo4yhx4NN3ryhgTsMcgr5Z319fUmHm\njN2Yp7mPnDADWLWfLSvYj5+Ds0CvnB/8ufY3q5gqy5q+t9Jm7amSAeq8CkvP8dGP\n5ta90fQEEgLBcJrYNBklmnFZQnA7buIVh63rwlp/dzVRcTFo8lI=\n=t2a/\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIF44u5XHK1TYgrcUT+Lqs4HJr/ZQB9bP8BEldB1w6Lm1CP/wEJ/ydtyrL3JL\nEqGT9xgKg9AI8QRelxzW8AjIXVKDJhLfiQCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQpO1lWdeHkUNiVm4f\nWzKKBgjxBF6XHNXwCLqQrz+M+M2JAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5j\nYWxlbmRhci5ldGVybml0eXdhbGwuY29t//AQun0sNUJDA7UfYUrPoCvmUgjxBF6X\nHNbwCJWIT6riW9XdAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn8BDth3HaxzVOtGWXa84N4L3mCPEEXpcc1fAIlNVz\nHZpg5rUAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4eS5j\nb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 1938b53adf4d3bb1507325971a8f4ac9bf3a61ab\nparent 727b67e7b86567adff81d945044989de3b5d2d5f\nauthor Jon Atack <jon@atack.com> 1586955930 +0200\ncommitter Jon Atack <jon@atack.com> 1586961615 +0200\n\ntest: verify bitcoin-cli -version with node stopped\n\nin interface_bitcoin_cli.py and improve/harmonize the test logging.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/becc8b9747c963b0fb1b927ced60d5bebed60be4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/becc8b9747c963b0fb1b927ced60d5bebed60be4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/becc8b9747c963b0fb1b927ced60d5bebed60be4/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "727b67e7b86567adff81d945044989de3b5d2d5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/727b67e7b86567adff81d945044989de3b5d2d5f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/727b67e7b86567adff81d945044989de3b5d2d5f"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 8,
      "deletions": 7
    },
    "files": [
      {
        "sha": "3a286982d2f86529adb08a485c2a28360764d5ff",
        "filename": "test/functional/interface_bitcoin_cli.py",
        "status": "modified",
        "additions": 8,
        "deletions": 7,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/becc8b9747c963b0fb1b927ced60d5bebed60be4/test/functional/interface_bitcoin_cli.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/becc8b9747c963b0fb1b927ced60d5bebed60be4/test/functional/interface_bitcoin_cli.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_bitcoin_cli.py?ref=becc8b9747c963b0fb1b927ced60d5bebed60be4",
        "patch": "@@ -25,11 +25,8 @@ def run_test(self):\n         \"\"\"Main test logic\"\"\"\n         self.nodes[0].generate(BLOCKS)\n \n-        cli_response = self.nodes[0].cli(\"-version\").send_cli()\n-        assert \"{} RPC client version\".format(self.config['environment']['PACKAGE_NAME']) in cli_response\n-\n-        self.log.info(\"Compare responses from getwalletinfo RPC and `bitcoin-cli getwalletinfo`\")\n         if self.is_wallet_compiled():\n+            self.log.info(\"Compare responses from getwalletinfo RPC and `bitcoin-cli getwalletinfo`\")\n             cli_response = self.nodes[0].cli.getwalletinfo()\n             rpc_response = self.nodes[0].getwalletinfo()\n             assert_equal(cli_response, rpc_response)\n@@ -55,10 +52,10 @@ def run_test(self):\n         self.log.info(\"Test connecting with non-existing RPC cookie file\")\n         assert_raises_process_error(1, \"Could not locate RPC credentials\", self.nodes[0].cli('-rpccookiefile=does-not-exist', '-rpcpassword=').echo)\n \n-        self.log.info(\"Make sure that -getinfo with arguments fails\")\n+        self.log.info(\"Test -getinfo with arguments fails\")\n         assert_raises_process_error(1, \"-getinfo takes no arguments\", self.nodes[0].cli('-getinfo').help)\n \n-        self.log.info(\"Test that -getinfo returns the expected network and blockchain info\")\n+        self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n         cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n         network_info = self.nodes[0].getnetworkinfo()\n         blockchain_info = self.nodes[0].getblockchaininfo()\n@@ -72,7 +69,7 @@ def run_test(self):\n         assert_equal(cli_get_info['chain'], blockchain_info['chain'])\n \n         if self.is_wallet_compiled():\n-            self.log.info(\"Test that -getinfo returns the expected wallet info\")\n+            self.log.info(\"Test -getinfo returns expected wallet info\")\n             assert_equal(cli_get_info['balance'], BALANCE)\n             wallet_info = self.nodes[0].getwalletinfo()\n             assert_equal(cli_get_info['keypoolsize'], wallet_info['keypoolsize'])\n@@ -84,6 +81,10 @@ def run_test(self):\n \n         self.stop_node(0)\n \n+        self.log.info(\"Test -version with node stopped\")\n+        cli_response = self.nodes[0].cli(\"-version\").send_cli()\n+        assert \"{} RPC client version\".format(self.config['environment']['PACKAGE_NAME']) in cli_response\n+\n         self.log.info(\"Test -rpcwait option waits for RPC connection instead of failing\")\n         # Start node without RPC connection.\n         self.nodes[0].start()"
      }
    ]
  },
  {
    "sha": "bb13f46fb15c360c68e370d0106463afd590dc43",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYjEzZjQ2ZmIxNWMzNjBjNjhlMzcwZDAxMDY0NjNhZmQ1OTBkYzQz",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T13:13:42Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T14:40:22Z"
      },
      "message": "test: verify cli.getwalletinfo in wallet section",
      "tree": {
        "sha": "939ab76b27f47d941491c477e04e83c810d7e4a5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/939ab76b27f47d941491c477e04e83c810d7e4a5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bb13f46fb15c360c68e370d0106463afd590dc43",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl6XHNYACgkQT1chs9Dj\nkh3bNhAAqNmj0CsawwihWwYiaZfC/cgEJHCx6xslmF9hrBIoBG7qawaADXwAZak+\nDEeVzeexR1XxsMhoFrcwmoJoqyqNjRTu7Q4RwfeSTSP8cvBfMS3tqGIU716ohnUH\nce3sEo1LUzn0jQqD1SwHTaoUF1xMIMgZYroBXNo505uLNOSzkA3wpA00oCT5mNg/\nZrtlNvEQVompiAXJNKSLmdFnI22ng34DfwK830XmtVERioxZRy8uuQsi/6kEp8AS\njRU1m9AX/VSdDzR/rGJHnN4nKM7UdpS2PaXrIvc8qitZ+47OnrebPZ0jCUeu9yCr\nPNXr8yrO32+o+a/c4QFlfZN3cfgLA2dqq0gtm5+p10MCI311pEMTbM26shve6/6B\nGto9pYql7jv6Cd/yMxxWYiLAfq1/jgLwF4F3OX5Jm3fYj2Ph6HT8GoXmhAqC3DTa\nXT/YM0cxnU0ZPPWrxdzd8qnTZ8p6u1n8pHEzLWWoQ5c2UfAQxPwnbGanW4EYRgPy\nxXvfwigdm+rY3o6Hh3R7kg138geAxovapL1wb5r2avj6+WqlnltWmrK5oI873nvL\n4k1WPWEZukVcvOFQB6qQnmCglf9IsbzRkCrsrKNHLQmKd/3/2lcBnP01wcHCzmu7\nsiQ6XeizCHAR6g1WVT+BXu23FzR2F1ImG4l1t3e/xoPQVVheADc=\n=/l84\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwILBtI/lIkHVfN0J0rOdKD4PwvJVx/3M4thc60rxwrxECCP/wEC1TsWlxDjz4\n1tGcK3j8GYII8SDfTkjFEhUTlfH3WKQtZhwe589H66Crdd8l4P2f7N69fAjxBF6X\nHNjwCBnljS7IIvBOAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIu\nb3BlbnRpbWVzdGFtcHMub3Jn//AQbUHAM26cNzdmb1rl9/IuUAjxBF6XHNjwCAsY\neX8MEkjDAIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxlbmRhci5jYXRhbGxheHku\nY29t//AQpDEB7++6JJzt7QzHr4TlMAjxIBPAgMhdawq0GqUEIGlbwvFFA9aVUukz\nSmmIRam1U1YMCPAg14CrvaueKbosI181B9+Ie6SCrMkzl9S8fhmMCzVYDHsI8QRe\nlxzY8Aj9iAmNlh2PLQCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIu\nZXRlcm5pdHl3YWxsLmNvbfAQ47NYyaMI/3lYYOMjRSN0+AjxIJ3D+sPfrTmYYCcH\nkgNt2YhseuGUhUY36zogX2yCrWOFCPEEXpcc2PAI4T9hOU70nI0Ag9/jDS75DI4u\nLWh0dHBzOi8vYWxpY2UuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZw==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 939ab76b27f47d941491c477e04e83c810d7e4a5\nparent becc8b9747c963b0fb1b927ced60d5bebed60be4\nauthor Jon Atack <jon@atack.com> 1586956422 +0200\ncommitter Jon Atack <jon@atack.com> 1586961622 +0200\n\ntest: verify cli.getwalletinfo in wallet section\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb13f46fb15c360c68e370d0106463afd590dc43",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bb13f46fb15c360c68e370d0106463afd590dc43",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb13f46fb15c360c68e370d0106463afd590dc43/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "becc8b9747c963b0fb1b927ced60d5bebed60be4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/becc8b9747c963b0fb1b927ced60d5bebed60be4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/becc8b9747c963b0fb1b927ced60d5bebed60be4"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 3,
      "deletions": 9
    },
    "files": [
      {
        "sha": "e18bdd2d1bf661e9ff0fb8a49961436c8f93be52",
        "filename": "test/functional/interface_bitcoin_cli.py",
        "status": "modified",
        "additions": 3,
        "deletions": 9,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bb13f46fb15c360c68e370d0106463afd590dc43/test/functional/interface_bitcoin_cli.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bb13f46fb15c360c68e370d0106463afd590dc43/test/functional/interface_bitcoin_cli.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_bitcoin_cli.py?ref=bb13f46fb15c360c68e370d0106463afd590dc43",
        "patch": "@@ -25,12 +25,6 @@ def run_test(self):\n         \"\"\"Main test logic\"\"\"\n         self.nodes[0].generate(BLOCKS)\n \n-        if self.is_wallet_compiled():\n-            self.log.info(\"Compare responses from getwalletinfo RPC and `bitcoin-cli getwalletinfo`\")\n-            cli_response = self.nodes[0].cli.getwalletinfo()\n-            rpc_response = self.nodes[0].getwalletinfo()\n-            assert_equal(cli_response, rpc_response)\n-\n         self.log.info(\"Compare responses from getblockchaininfo RPC and `bitcoin-cli getblockchaininfo`\")\n         cli_response = self.nodes[0].cli.getblockchaininfo()\n         rpc_response = self.nodes[0].getblockchaininfo()\n@@ -59,7 +53,6 @@ def run_test(self):\n         cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n         network_info = self.nodes[0].getnetworkinfo()\n         blockchain_info = self.nodes[0].getblockchaininfo()\n-\n         assert_equal(cli_get_info['version'], network_info['version'])\n         assert_equal(cli_get_info['blocks'], blockchain_info['blocks'])\n         assert_equal(cli_get_info['timeoffset'], network_info['timeoffset'])\n@@ -69,15 +62,16 @@ def run_test(self):\n         assert_equal(cli_get_info['chain'], blockchain_info['chain'])\n \n         if self.is_wallet_compiled():\n-            self.log.info(\"Test -getinfo returns expected wallet info\")\n+            self.log.info(\"Test -getinfo and bitcoin-cli getwalletinfo return expected wallet info\")\n             assert_equal(cli_get_info['balance'], BALANCE)\n             wallet_info = self.nodes[0].getwalletinfo()\n             assert_equal(cli_get_info['keypoolsize'], wallet_info['keypoolsize'])\n             assert_equal(cli_get_info['paytxfee'], wallet_info['paytxfee'])\n             assert_equal(cli_get_info['relayfee'], network_info['relayfee'])\n             # unlocked_until is not tested because the wallet is not encrypted\n+            assert_equal(self.nodes[0].cli.getwalletinfo(), wallet_info)\n         else:\n-            self.log.info(\"*** Wallet not compiled; -getinfo wallet tests skipped\")\n+            self.log.info(\"*** Wallet not compiled; cli getwalletinfo and -getinfo wallet tests skipped\")\n \n         self.stop_node(0)\n "
      }
    ]
  },
  {
    "sha": "c28c7b882b40cc75989dd102414de3b3dad69706",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMjhjN2I4ODJiNDBjYzc1OTg5ZGQxMDI0MTRkZTNiM2RhZDY5NzA2",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T13:24:52Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-04-15T14:40:24Z"
      },
      "message": "test: add -getinfo \"unlocked_until\" and \"headers\" coverage",
      "tree": {
        "sha": "1f43ecb34141402724c761a0baaa27cd3d978b0d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f43ecb34141402724c761a0baaa27cd3d978b0d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c28c7b882b40cc75989dd102414de3b3dad69706",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl6XHNkACgkQT1chs9Dj\nkh1+SBAAv3kYJhNPRxQcrBudFVsZ0YCmPTBvt9K4RpEjnJZDEFlfxxG5gklW4RM9\nv7Cid1Vdmnlt00yY3W/ppGRD06T3DYMAmeovFioICpqMB1sh8uxghZe88J3tPh2C\nLNqQJ1yhL3O8eG+HMPlQ/HK/qv5iSYvYnAzF5/IjCe5AZTfBcCv1zhPseI1/qtR3\nOcQ6bIdKpcDAXnsTI229XknQgko9Ol9LPyjYI+5BVWjxMW5a8Zo9Cn6221n9SXec\nBMhI5uEDPPLfbmsNXrQO/3opQ1ctkC7lcfWR8HNYQHaHy9w1HPQMy8VEY/2irhO8\nA3c7H1mBgrKGNjC/pVl7F2Am//u0TRUnyRl2guIUsX9yj0wkfe45KocMRQf1ldKg\nqLAYCKc8j5nVTyXj2bHrXyss67AqC6pR5+77ITSRArL8MKkMAlDYwCP+B/UKC22Z\nIZduUNwJXQB/0DykXtchEkCvm+FGstzVUxo1WksCth0KBk3t8P7Gn5A1iruxdOos\n9zGkNPEb+YLdsE2uleYGcLQ1vMYn9oqBjdBf/sH8jC9yWI8+X93boWE2H9nPKj++\nJJJPmp7fBsfupsJag1Pdn9AdCWw+ZtUsfvzscaJRteaAJRuQonD+eJl+Kqmcr3nO\nLRIfnUUZazEkZ5Ndx27XhDly1DulbdYy5rsnwX0QS1p65fCILfk=\n=SUPX\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwILoiVvmrvLW8zMvNrbipB52Rv1j+9MZ8cDEnN7g5MLzWCP/wEBq42SUugQBx\nosUaAcKta7oI8CBgqh+WSGUHVxj5v3DDufaGkGQeodV4zr9QkM4QRFm3mwjxBF6X\nHNvwCK2pHmNzQM7mAIPf4w0u+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRh\nci5vcGVudGltZXN0YW1wcy5vcmf/8BAs8i+6FXl4/uu4jIIRupRmCPEEXpcc2vAI\nfIMs6wO1e+wAg9/jDS75DI4jImh0dHBzOi8vYnRjLmNhbGVuZGFyLmNhdGFsbGF4\neS5jb23/8BCqfTIwXHeTl9pQ6XYKW5bpCPAgNZ0m3IxBsfy5GWmRyZ1QDa6hOn7/\nM3UVcX1n6i6J76II8QRelxzb8AgCe8G0d8IZpwCD3+MNLvkMjiwraHR0cHM6Ly9i\nb2IuYnRjLmNhbGVuZGFyLm9wZW50aW1lc3RhbXBzLm9yZ/AQ96kB3Ek5cIZO8LNN\nFKGVlwjxIMDlcjMnfEpkRwmbuLJZhcMrZx0DcBOJ74MjPPxhMfy3CPEEXpcc2vAI\n6vL2MY8KpJgAg9/jDS75DI4pKGh0dHBzOi8vZmlubmV5LmNhbGVuZGFyLmV0ZXJu\naXR5d2FsbC5jb20=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 1f43ecb34141402724c761a0baaa27cd3d978b0d\nparent bb13f46fb15c360c68e370d0106463afd590dc43\nauthor Jon Atack <jon@atack.com> 1586957092 +0200\ncommitter Jon Atack <jon@atack.com> 1586961624 +0200\n\ntest: add -getinfo \"unlocked_until\" and \"headers\" coverage\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c28c7b882b40cc75989dd102414de3b3dad69706",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c28c7b882b40cc75989dd102414de3b3dad69706",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c28c7b882b40cc75989dd102414de3b3dad69706/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bb13f46fb15c360c68e370d0106463afd590dc43",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bb13f46fb15c360c68e370d0106463afd590dc43",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bb13f46fb15c360c68e370d0106463afd590dc43"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 4,
      "deletions": 1
    },
    "files": [
      {
        "sha": "07edc4e0ba3d239155c38d47f6271239cc1f0a37",
        "filename": "test/functional/interface_bitcoin_cli.py",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c28c7b882b40cc75989dd102414de3b3dad69706/test/functional/interface_bitcoin_cli.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c28c7b882b40cc75989dd102414de3b3dad69706/test/functional/interface_bitcoin_cli.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/interface_bitcoin_cli.py?ref=c28c7b882b40cc75989dd102414de3b3dad69706",
        "patch": "@@ -50,11 +50,14 @@ def run_test(self):\n         assert_raises_process_error(1, \"-getinfo takes no arguments\", self.nodes[0].cli('-getinfo').help)\n \n         self.log.info(\"Test -getinfo returns expected network and blockchain info\")\n+        if self.is_wallet_compiled():\n+            self.nodes[0].encryptwallet(password)\n         cli_get_info = self.nodes[0].cli('-getinfo').send_cli()\n         network_info = self.nodes[0].getnetworkinfo()\n         blockchain_info = self.nodes[0].getblockchaininfo()\n         assert_equal(cli_get_info['version'], network_info['version'])\n         assert_equal(cli_get_info['blocks'], blockchain_info['blocks'])\n+        assert_equal(cli_get_info['headers'], blockchain_info['headers'])\n         assert_equal(cli_get_info['timeoffset'], network_info['timeoffset'])\n         assert_equal(cli_get_info['connections'], network_info['connections'])\n         assert_equal(cli_get_info['proxy'], network_info['networks'][0]['proxy'])\n@@ -66,9 +69,9 @@ def run_test(self):\n             assert_equal(cli_get_info['balance'], BALANCE)\n             wallet_info = self.nodes[0].getwalletinfo()\n             assert_equal(cli_get_info['keypoolsize'], wallet_info['keypoolsize'])\n+            assert_equal(cli_get_info['unlocked_until'], wallet_info['unlocked_until'])\n             assert_equal(cli_get_info['paytxfee'], wallet_info['paytxfee'])\n             assert_equal(cli_get_info['relayfee'], network_info['relayfee'])\n-            # unlocked_until is not tested because the wallet is not encrypted\n             assert_equal(self.nodes[0].cli.getwalletinfo(), wallet_info)\n         else:\n             self.log.info(\"*** Wallet not compiled; cli getwalletinfo and -getinfo wallet tests skipped\")"
      }
    ]
  }
]