DrahtBot,2020-04-15 23:58:32,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18594 (cli: display multiwallet balances in -getinfo by jonatack)\n* #18453 (rpc, cli: add multiwallet balances rpc and u",https://github.com/bitcoin/bitcoin/pull/18653#issuecomment-614337718,614337718,
MarcoFalke,2020-04-15 15:11:03,Isn't this racy?,https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408919423,408919423,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-15 15:20:48,Running `(for i in {1..1000}; do test/functional/interface_bitcoin_cli.py ; done)` to see.,https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408926975,408926975,test/functional/interface_bitcoin_cli.py
MarcoFalke,2020-04-15 15:38:33,"We generally only see races in travis or valgrind\n\nLogically, I don't see how the rpc connection is guaranteed to be down when the cli is called here.\n\n",https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408940547,408940547,test/functional/interface_bitcoin_cli.py
kristapsk,2020-04-15 15:48:53,Why this test was removed?,https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408947867,408947867,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-15 15:56:39,"Not removed; moved to line 75 `assert_equal(self.nodes[0].cli.getwalletinfo(), wallet_info)`",https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408953614,408953614,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-15 15:59:41,"which avoids calling rpc getwalletinfo twice, a conditional, and a few lines of code.",https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408955781,408955781,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-15 16:06:10,"Makes sense: it ran 1000 times without fail for me in macOS and Debian, but yeah, travis and valgrind. I'll wait to see the travis result for the fun of it and then probably remove that line; we'll still have the assertion with -rpcwait",https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408960074,408960074,test/functional/interface_bitcoin_cli.py
kristapsk,2020-04-15 16:06:32,"Ok, yes, I didn't read the whole block correctly, assumed it checks `-version`, which is also checked below, just that it outputs, not what it outputs. And it's `bitcoin-cli` version anyways, can differ from version returned by `-getinfo`, nothing to compare against there.",https://github.com/bitcoin/bitcoin/pull/18653#discussion_r408960287,408960287,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-15 19:06:10,Travis all green. Maybe leave it in and remove if we see issues later?,https://github.com/bitcoin/bitcoin/pull/18653#discussion_r409069968,409069968,test/functional/interface_bitcoin_cli.py
jonatack,2020-04-16 09:56:08,@kristapsk thanks for reviewing! Can you ACK?,https://github.com/bitcoin/bitcoin/pull/18653#discussion_r409431470,409431470,test/functional/interface_bitcoin_cli.py
