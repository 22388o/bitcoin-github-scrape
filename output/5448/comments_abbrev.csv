laanwj,2014-12-09T08:08:25Z,"FYI for next time: you can (force) push to the existing branch to update a pull request, no need to create a new one.\n\nOriginal pull: #5443\n",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-66247389,66247389,
rustyrussell,2014-12-11T03:30:18Z,"OK, thanks, will do next time.\n",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-66564317,66564317,
laanwj,2014-12-12T10:34:00Z,"Looks good to me - we don't ever use a combination of the flags, so an enumeration would be more appropriate than a bit field.\nThough as this touches consensus code it needs to be reviewed carefully.\n",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-66756514,66756514,
laanwj,2014-12-12T14:41:49Z,There's still some `enum SerializeType` where just `SerializeType` can be used. https://github.com/laanwj/bitcoin/commit/d1bc5bf305b5c9c2c8af2931412d4d6707e761e7 catches these.\n,https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-66780416,66780416,
fanquake,2015-02-02T09:41:38Z,@rustyrussell Needs rebase. Also see laanwj's comment about additional changes.\n,https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-72428804,72428804,
laanwj,2015-04-15T11:35:36Z,"This needs rebase. Although maybe better to wait for agreement to do this (serialization is critical for consensus, so changes may be deemed too risky). \n\n@gmaxwell @jgarzik @gavinandresen @sipa any opinion on this change?\n",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-93339493,93339493,
maaku,2015-05-28T10:18:16Z,utACK\n,https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-106262159,106262159,
laanwj,2015-07-10T13:16:27Z,"Closing this - I think this is a good idea in itself, but given how critical the serialization is, I'm not sure anyone is willing to take the risk that this breaks something. Sorry.\n",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-120408306,120408306,
maaku,2015-07-10T15:51:23Z,"@laanwj sorry, I disagree 100%. These sort of changes are necessary precisely in order to prevent consensus forks in the future. Having the compiler check as much type information as possible is a benefit to libconsensus.\n\nI've put a comment on the one line that could be changed to make this diff have exactly the same behaviour as the prior code with no implementation-defined semantics, accordin",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-120442302,120442302,
sipa,2015-07-10T16:02:14Z,"Sorry for the lack of response here, but I do think changes like this are generally safe. The types themselves are never serialized; they only select what is being serialized. In fact, it seems that the only serialization implementation that actually inspects nType is the CAddress one - which won't hurt consensus.\n\nI wasn't actually aware of this change or I would have commented earlier. I would",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-120444956,120444956,
rustyrussell,2015-07-12T20:20:56Z,"""Wladimir J. van der Laan"" notifications@github.com writes:\n\n> Closing this - I think this is a good idea in itself, but given how critical the serialization is, I'm not sure anyone is willing to take the risk that this breaks something. Sorry.\n\nErr, OK.  This seemed to me like a trivial cleanup of currently\nconfusing code.\n\nCertainly not worth any significant developer angst.\n\nCheers,\nR",https://github.com/bitcoin/bitcoin/pull/5448#issuecomment-120759285,120759285,
maaku,2015-07-10T15:47:17Z,"replace this with ""enum SerializeType : int"" in order to make absolutely sure there is no consensus code changes.\n",https://github.com/bitcoin/bitcoin/pull/5448#discussion_r34367541,34367541,src/serialize.h
sipa,2015-07-10T15:50:44Z,That's c++11.\n,https://github.com/bitcoin/bitcoin/pull/5448#discussion_r34367855,34367855,src/serialize.h
sipa,2015-07-10T15:56:28Z,"However, an enum should always have type int, as long as the number of elements fits in an int, so I don't think that's necessary.\n",https://github.com/bitcoin/bitcoin/pull/5448#discussion_r34368410,34368410,src/serialize.h
maaku,2015-07-10T16:17:49Z,"That's not actually what the standard size. Enum is implementation defined,\nbut _no larger than_ int. It could be char.\n\nOn Fri, Jul 10, 2015 at 8:57 AM, Pieter Wuille notifications@github.com\nwrote:\n\n> In src/serialize.h\n> https://github.com/bitcoin/bitcoin/pull/5448#discussion_r34368410:\n> \n> > @@ -152,12 +152,11 @@ inline float ser_uint32_to_float(uint32_t y)\n> >  // i.e. anything tha",https://github.com/bitcoin/bitcoin/pull/5448#discussion_r34370330,34370330,src/serialize.h
