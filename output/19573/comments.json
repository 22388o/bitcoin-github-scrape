[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663332066",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-663332066",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 663332066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzMzMjA2Ng==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-24T03:31:35Z",
    "updated_at": "2021-04-13T17:41:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21401 (Refactor versionbits deployments to avoid potential uninitialized variables by achow101)\n* #21391 ([Bundle 5/n] Prune g_chainman usage in RPC modules by dongcarl)\n* #21377 (Speedy trial support for versionbits by ajtowns)\n* #20354 (test: Add feature_taproot.py --previous_release by MarcoFalke)\n* #19461 (multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky)\n* #19460 (multiprocess: Add bitcoin-wallet -ipcconnect option by ryanofsky)\n* #17783 (util: Fix -norpcwhitelist, -norpcallowip, and similar corner case behavior by ryanofsky)\n* #17581 (refactor: Remove settings merge reverse precedence code by ryanofsky)\n* #17580 (refactor: Add ALLOW_LIST flags and enforce usage in CheckArgFlags by ryanofsky)\n* #17493 (util: Forbid ambiguous multiple assignments in config file by ryanofsky)\n* #10102 ([experimental] Multiprocess bitcoin by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663332066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709512644",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-709512644",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 709512644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwOTUxMjY0NA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T18:30:28Z",
    "updated_at": "2021-02-19T17:35:19Z",
    "author_association": "MEMBER",
    "body": "Rebased and updated with some of @ajtowns 's changes to BIP 8.\r\n\r\nThis is probably still not the final form of BIP 8 (see https://github.com/bitcoin/bips/pull/950), but merging this sooner means we have fewer changes to backport together with the activation parameters later on.\r\n\r\n(It also means the RPC interfaces are updated now instead of later)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/709512644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770742005",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-770742005",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 770742005,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MDc0MjAwNQ==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-01T10:14:38Z",
    "updated_at": "2021-02-01T10:14:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK. \r\n\r\nSince revised BIP 8 is a strict improvement on BIP 9 it doesn't hurt to replace BIP 9 logic with revised BIP 8 logic. AJ has [highlighted](https://github.com/bitcoin/bitcoin/pull/19573#pullrequestreview-511393873) some bugs, improvements that haven't been addressed yet. I also don't know if you are waiting for revised BIP 8 to be finalized at this point before a rebased version of this is ready to be merged.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/770742005/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/774861919",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-774861919",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 774861919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDg2MTkxOQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-08T04:45:16Z",
    "updated_at": "2021-02-08T04:45:16Z",
    "author_association": "MEMBER",
    "body": "Rebased, merged in @ajtowns's fixes and other changes, and got CI passing.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/774861919/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782206718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-782206718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 782206718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjIwNjcxOA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-19T17:04:06Z",
    "updated_at": "2021-02-19T17:04:06Z",
    "author_association": "MEMBER",
    "body": "Addressed review comments & added @ajtowns 's new test.\r\n\r\nIntentionally left threshold at 95% for now - that is best left for a future PR to change (when defining a softfork to use BIP8)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/782206718/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783141614",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-783141614",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 783141614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzE0MTYxNA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T07:03:47Z",
    "updated_at": "2021-02-22T15:39:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm a little dubious that forced-signaling logic shouldn't come with code to handle the network forking (ie more aggressive peer-searching via protocol magic or quicker new connections when the chain has stalled). It seems like forced-signaling (which happily forks itself off the network in many of the ways people are talking about using the code today) probably isn't something that should be merged unless the code for it is complete in the sense that it handles likely outcomes gracefully.\r\n\r\nIn general, there seems to be little reason to include support for the forced-signaling variant of BIP 9 in this PR - I don't believe there is immediate desire to use it in Bitcoin Core, at least if I'm understanding the proposals correctly, and it adds a lot of complexity.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/783141614/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784491594",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-784491594",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 784491594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDQ5MTU5NA==",
    "user": {
      "login": "lucasmoten",
      "id": 14304023,
      "node_id": "MDQ6VXNlcjE0MzA0MDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14304023?u=e24b957286963536bf6b389b5d1b37c16dfc911c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lucasmoten",
      "html_url": "https://github.com/lucasmoten",
      "followers_url": "https://api.github.com/users/lucasmoten/followers",
      "following_url": "https://api.github.com/users/lucasmoten/following{/other_user}",
      "gists_url": "https://api.github.com/users/lucasmoten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lucasmoten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lucasmoten/subscriptions",
      "organizations_url": "https://api.github.com/users/lucasmoten/orgs",
      "repos_url": "https://api.github.com/users/lucasmoten/repos",
      "events_url": "https://api.github.com/users/lucasmoten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lucasmoten/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T20:32:15Z",
    "updated_at": "2021-02-23T20:32:15Z",
    "author_association": "NONE",
    "body": "utACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784491594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784502751",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-784502751",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 784502751,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDUwMjc1MQ==",
    "user": {
      "login": "prayank23",
      "id": 13405205,
      "node_id": "MDQ6VXNlcjEzNDA1MjA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405205?u=03240c7cca7b55e5b9239eeab7a5914663a42b91&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prayank23",
      "html_url": "https://github.com/prayank23",
      "followers_url": "https://api.github.com/users/prayank23/followers",
      "following_url": "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url": "https://api.github.com/users/prayank23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prayank23/subscriptions",
      "organizations_url": "https://api.github.com/users/prayank23/orgs",
      "repos_url": "https://api.github.com/users/prayank23/repos",
      "events_url": "https://api.github.com/users/prayank23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prayank23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T20:50:58Z",
    "updated_at": "2021-02-23T20:50:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK. Need to do more research and test everything soon.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784502751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784521620",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-784521620",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 784521620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDUyMTYyMA==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-23T21:22:20Z",
    "updated_at": "2021-02-23T21:22:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Based on today's code review [session](http://gnusha.org/taproot-activation/2021-02-23.log) on IRC I think I can ACK the non-test commits.\r\n\r\nI've got an assertion error on the feature_bip8.py functional test when run locally which I will look into tomorrow. \r\n\r\n`AssertionError: [node 3] Expected messages \"['bad-vbit-unset-testdummy']\" does not partially match log:`\r\n\r\n> I'm a little dubious that forced-signaling logic shouldn't come with code to handle the network forking (ie more aggressive peer-searching via protocol magic or quicker new connections when the chain has stalled).\r\n\r\nI'm not sure there is much we can do in the (worst case) scenario of a chain split due to a proportion of the network running lot=true and a proportion of the network running lot=false during the MUST_SIGNAL phase. I can see there is a desire to do **something** as it is a worry but I wonder if these suggested P2P changes would potentially do as much harm as good. For example a lot=x node would want to find out if they were on the wrong side of network consensus (lot=y) rather than just pairing with lot=x nodes.\r\n\r\nHowever, I think that even if revised BIP 8 didn't have the lot=true option there would still be demand for a UASF solution in certain scenarios and hence that is why I originally ACKed the changes to BIP 8 to include a lot=true option. Better to have it within a flexible BIP (with parameters) rather than a UASF effort just grabbing a random BIP off the shelf.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784521620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785136756",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-785136756",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 785136756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTEzNjc1Ng==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T15:01:27Z",
    "updated_at": "2021-02-24T15:04:49Z",
    "author_association": "MEMBER",
    "body": "This or a followup might be a good opportunity to test p2p behavior against older versions, see `feature_backwards_compatibility.py` for inspiration. You can also use this framework to test the interaction between `lockinontimeout` `true/false` nodes. Though I agree with @TheBlueMatt that this PR would be simpler is we only support `false` for now.\r\n\r\nSome commits like bae9a452191a7a83478f7d508a54f4a04d385505 and bd715ff894344408df2345d9bd75a08bd7c9c6f6 could be standalone pull requests. Similarly - though I'm not sure how practical - it might be better to make 1 pull request that strips everything from BIP 9 we don't need, and then focus this on adding BIP 8.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785136756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785311978",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-785311978",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 785311978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTMxMTk3OA==",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?u=eab48576b7831944b8ce7f04fcdff4154a853d50&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T19:17:21Z",
    "updated_at": "2021-02-24T19:17:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 977280c5f04c70c2610ef5fcfde57e5256171f65",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785311978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785603140",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-785603140",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 785603140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTYwMzE0MA==",
    "user": {
      "login": "AnthonyRonning",
      "id": 10763569,
      "node_id": "MDQ6VXNlcjEwNzYzNTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10763569?u=d7faaf2059dd3633288a30d118f52a1d4512efcf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AnthonyRonning",
      "html_url": "https://github.com/AnthonyRonning",
      "followers_url": "https://api.github.com/users/AnthonyRonning/followers",
      "following_url": "https://api.github.com/users/AnthonyRonning/following{/other_user}",
      "gists_url": "https://api.github.com/users/AnthonyRonning/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AnthonyRonning/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AnthonyRonning/subscriptions",
      "organizations_url": "https://api.github.com/users/AnthonyRonning/orgs",
      "repos_url": "https://api.github.com/users/AnthonyRonning/repos",
      "events_url": "https://api.github.com/users/AnthonyRonning/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AnthonyRonning/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-25T04:29:19Z",
    "updated_at": "2021-02-25T04:29:19Z",
    "author_association": "NONE",
    "body": "ACK 977280c5f04c70c2610ef5fcfde57e5256171f65 based on the discussions in yesterday's IRC chat and some additional code review & running the tests locally.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/785603140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787075472",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787075472",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787075472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzA3NTQ3Mg==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T13:48:26Z",
    "updated_at": "2021-02-27T13:48:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "In light of a [project](https://github.com/BitcoinActivation/bitcoin) set up to implement a default of lot=true I think Core should implement a default of lot=false with no user configuration option. I also think there should be signposting (comments etc) of where lot=true logic would go in the Core codebase (and referring to the lot parameter in BIP 8) but I don't think it makes sense to have any lot=true logic in the Core codebase that will remain unused for Taproot activation. \r\n\r\nThe alternative is Core doesn't release any activation code and entirely leaves it to non-Core releases. Personally I don't think this is optimal. I think some users will want to run a Core release that can activate Taproot with miner signaling without being forced to run a non-Core release to get Taproot activated. A significant proportion (unclear whether majority) of the community seems perfectly happy with lot=false as a default and have no desire to change it.\r\n\r\nIn the worst case scenario of miners failing to activate within say the first 6 months we will need to take the chain split risk at the end the year (2 weeks before timeoutheight) more seriously (and consider providing tooling and communications to Core users well in advance). I think the highly likely scenario in Taproot's case is miners activate in the first 6 months and the lot parameter ends up being entirely irrelevant.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787075472/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 2,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787088844",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787088844",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787088844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzA4ODg0NA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T15:19:31Z",
    "updated_at": "2021-02-27T15:19:47Z",
    "author_association": "MEMBER",
    "body": "No, the alternative is Core release LOT=true and stay consensus-compatible instead of intentionally harming Core's users. The latter would be highly inappropriate.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787088844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787095515",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787095515",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787095515,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzA5NTUxNQ==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T16:06:37Z",
    "updated_at": "2021-02-27T16:22:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think that it is a really bad idea to release LOT=false without the ability to trivially set LOT=true. Should LOT=true become widespread, doing things with less time creates risk of a 'forced error' on activation. It's entirely possible that miners will have proprietary mining software that they would need to rebase onto a recompiled client, and that might be a bottleneck. I suppose that LOT=false -> LOT=true patches would be small, but it seems to me much safer to release a client that *could* maintain consensus with a network that is LOT=true, rather than having to take the hit on the software upgade cycles necessitated by a re-release.\r\n\r\n\r\nMy suggestion (which perhaps belongs on the mailing list!) is that if in aggregate the sentiment of core contributors is that it is a bad idea to release with LOT=true available via configuration, we could make it such that LOT=true being set requires LOTHASH = block hash at height startheight + 6 months of blocks. This way clients provably cannot be configured with LOT=true unless they restart their node with the config parameter determined in the future. This reduces the client \"supply chain risk\" engendered by making users recompile / switch binaries. edit: while still giving plenty of optimistic time for it to activate ahead of the 6 month mark.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787095515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787100483",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787100483",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787100483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzEwMDQ4Mw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T16:44:56Z",
    "updated_at": "2021-02-27T16:44:56Z",
    "author_association": "MEMBER",
    "body": "Also, as a reminder, this PR is not about setting activation parameters, only merging BIP 8 code.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787100483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787100947",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787100947",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787100947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzEwMDk0Nw==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T16:48:15Z",
    "updated_at": "2021-02-27T16:48:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Also, as a reminder, this PR is not about setting activation parameters, only merging BIP 8 code.\r\n\r\nThat's true but we do have Matt and Sjors both commenting that this PR should perhaps only include lot=false code hence the reason for my comment. I wouldn't seek to add noise for no reason.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787100947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787103150",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787103150",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787103150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzEwMzE1MA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T17:04:24Z",
    "updated_at": "2021-02-27T17:04:24Z",
    "author_association": "MEMBER",
    "body": "There is no reason to include LOT=False code and not LOT=True code also. In any case, this PR has sufficient ACKs and is ready to merge today.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787103150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787126580",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787126580",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787126580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzEyNjU4MA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T19:54:52Z",
    "updated_at": "2021-02-27T19:55:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Let's keep this discussion to code-level - broad debates about what Core should or shouldn't include and philosophical debates probably belong on the ML. My comment was that it doesn't make sense to include highly feature-incomplete code for LOT=true (which is the case in this PR). It may make sense to just merge a LOT=false PR, or to delay this until there is code to properly handle the network splitting case implied by a LOT=true option, but absent at least a strong commitment to fix the issues (which I don't see happening otherwise), I don't think it makes sense to merge this as-is.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787126580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787197367",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787197367",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787197367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzE5NzM2Nw==",
    "user": {
      "login": "JeremyRubin",
      "id": 886523,
      "node_id": "MDQ6VXNlcjg4NjUyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886523?u=8cdd8653982252593843d7369ecfebe432b89768&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JeremyRubin",
      "html_url": "https://github.com/JeremyRubin",
      "followers_url": "https://api.github.com/users/JeremyRubin/followers",
      "following_url": "https://api.github.com/users/JeremyRubin/following{/other_user}",
      "gists_url": "https://api.github.com/users/JeremyRubin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JeremyRubin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JeremyRubin/subscriptions",
      "organizations_url": "https://api.github.com/users/JeremyRubin/orgs",
      "repos_url": "https://api.github.com/users/JeremyRubin/repos",
      "events_url": "https://api.github.com/users/JeremyRubin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JeremyRubin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T22:27:40Z",
    "updated_at": "2021-02-27T22:27:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@luke-jr / @TheBlueMatt  do you have any insight on how urgent improving peer selection is in any case? Are the usual mechanisms for dealing with nodes which mine an invalid tip (from the pov of a lot=true) or nodes which send stale headers (pov of lot=false) insufficient?\r\n\r\nIt's not immediately obvious to me that the network as-is wouldn't be tolerably resilient to this sort of issue.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787197367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787215200",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787215200",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787215200,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzIxNTIwMA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T01:17:35Z",
    "updated_at": "2021-02-28T01:17:35Z",
    "author_association": "MEMBER",
    "body": "LOT=True does not differ from any other softfork in respect to handling network divergence. Perhaps the latter can be improved, but it is out of scope to this PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787215200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787216598",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787216598",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787216598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzIxNjU5OA==",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?u=eab48576b7831944b8ce7f04fcdff4154a853d50&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T01:31:14Z",
    "updated_at": "2021-02-28T01:31:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "> LOT=True does not differ from any other softfork in respect to handling network divergence. Perhaps the latter can be improved, but it is out of scope to this PR.\r\n\r\nAgree with luke-jr here, if you are running a lot=true client then you deem the old chain invalid",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787216598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787223126",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787223126",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787223126,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzIyMzEyNg==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T02:44:03Z",
    "updated_at": "2021-02-28T02:44:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "An option for LOT=true and an expectation that nodes on the network will be running different consensus rules implies something very, very different from any previous fork, even if the code, naively, does not. Indeed, during the Segwit2x/etc debacle some emergency changes were rushed in to hopefully make the P2P network slightly more robust against such things, but they're fare from an ideal scenario, and if we're going into such a case with eyes open, there's no question they should be improved significantly.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787223126/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787224659",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787224659",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787224659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzIyNDY1OQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T03:02:37Z",
    "updated_at": "2021-02-28T03:02:37Z",
    "author_association": "MEMBER",
    "body": "This PR does not add such a (user-accessible) option, nor does it set any expectation for divergent rules.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787224659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787224725",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787224725",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787224725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzIyNDcyNQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-28T03:03:25Z",
    "updated_at": "2021-02-28T03:03:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "I wasn't leaning on the PR's current code for my expectation of divergent rules :).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787224725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787826064",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-787826064",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 787826064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzgyNjA2NA==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T10:07:40Z",
    "updated_at": "2021-03-01T10:07:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 977280c5f04c70c2610ef5fcfde57e5256171f65\r\n\r\nI'm getting a little concerned that some individuals will continuously shift the goalposts in search of a philosopher's stone for an activation mechanism that has 100 percent consensus or a philosopher's stone to magic away the (unlikely but still possible) risks of a chain split after a year of miners failing to activate. \r\n\r\nAnyone who doesn't like this PR is free to open an alternative PR.\r\n\r\n> Are the usual mechanisms for dealing with nodes which mine an invalid tip (from the pov of a lot=true) or nodes which send stale headers (pov of lot=false) insufficient? It's not immediately obvious to me that the network as-is wouldn't be tolerably resilient to this sort of issue. \r\n\r\nThis question needs to be answered with more specifics than just \"they should be improved significantly.\" And then those suggestions should ideally be implemented in an independent PR so there can be discussion on whether they are indeed P2P improvements in a chain split scenario or just additional complexity. That would certainly be more productive than creating a logjam on any activation PRs that are opened.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/787826064/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788021534",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-788021534",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 788021534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODAyMTUzNA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T15:09:17Z",
    "updated_at": "2021-03-01T15:33:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "> This question needs to be answered with more specifics than just \"they should be improved significantly.\"\r\n\r\nI did, read above :) More broadly, it seems the discussion on the mailing list and elsewhere is moving beyond BIP 8 as the only option, so probably good to put this on ice until there's more consensus around what is worth reviewing/merging so there isn't unused consensus code in Bitcoin Core.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788021534/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788065990",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-788065990",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 788065990,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODA2NTk5MA==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-01T16:04:05Z",
    "updated_at": "2021-03-01T16:04:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "> More broadly, it seems the discussion on the mailing list and elsewhere is moving beyond BIP 8\r\n\r\nI guess if you don't engage in the discussion for 6 months as the alternatives are outlined, discussed and narrowed down it might seem that way. From what I see a UASF LOT=true release effort is beginning. But you are free to start the 6 month long activation discussion from scratch in search for your philosopher's stone if you feel that is a good use of your time.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788065990/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788804392",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-788804392",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 788804392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODgwNDM5Mg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T10:31:16Z",
    "updated_at": "2021-03-02T10:31:30Z",
    "author_association": "MEMBER",
    "body": "I'm not opposed to `LOT=True` _code_, but I'm (currently) not interested in developing, reviewing or testing it. I might be, if there was a PR specifically dedicated to adding such functionality. But this PR holds back `LOT=False` support, by making it a package deal.\r\n\r\nI'm also opposed to merging this without said review. The ACKs so far are not from people with sufficient expertise to judge soft-fork activation code (I don't consider myself qualified either).\r\n\r\nI'm happy to review `LOT=False` code. I may also extract a few bits from this PR into separate PR's so the review burden decreases for everyone.\r\n\r\nJeremy Rubin wrote:\r\n> I think that it is a really bad idea to release LOT=false without the ability to trivially set LOT=true.\r\n\r\nThis is certainly not ideal, but perhaps that suggest a problem with the LOT parameter in BIP 8 introducing too much complexity.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788804392/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788813176",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-788813176",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 788813176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODgxMzE3Ng==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T10:45:27Z",
    "updated_at": "2021-03-02T10:45:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I'm also opposed to merging this without said review. The ACKs so far are not from people with sufficient expertise to judge soft-fork activation code (I don't consider myself qualified either).\r\n\r\nTotally agree. This (or an alternative PR) desperately needs long term contributors reviewing the code. I suspect the reason why they are delaying reviewing the code (or opening an alternative PR) is an unwillingness to get involved in the high level discussion (which has been done to death imo). With the effective NACKs by Core contributors I have seen (we can list them if this is helpful) on releasing a default LOT=true I can't see any route to Core releasing a default of LOT=true. It is a default of LOT=false or releasing nothing (or another 6-8 months of searching for the philosopher's stone of course).\r\n\r\n> I'm happy to review LOT=False code. I may also extract a few bits from this PR into separate PR's so the review burden decreases for everyone.\r\n\r\nThis would be great.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788813176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788916253",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-788916253",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 788916253,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODkxNjI1Mw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T13:39:58Z",
    "updated_at": "2021-03-02T13:41:19Z",
    "author_association": "MEMBER",
    "body": "Some additional notes:\r\n@TheBlueMatt [wrote](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-February/018450.html) on the mailinglist:\r\n\r\n> Bitcoin Core does not have infrastructure to handle switching consensus rules with the same datadir - after running with uasf=true for some time, valid blocks will be marked as invalid, and additional development would need to occur to enable switching back to uasf=false. This is complex, critical code to get right, and the review and testing cycles needed seem to be not worth it.\r\n\r\nThis scenario can be tested by stopping the `-vbparams=testdummy:@{start}:@{stop}:1` node in `feature_bip8.py` and then restarting it with `-vbparams=testdummy:@{start}:@{stop}:0` (and vice versa for someone opting in later. \r\n\r\nA more practical solution might be to require a user who changes their mind to resync the chain. But you'd have to store the choice somewhere. We do something similar with regards to tracking if pruning ever happened.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/788916253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789095265",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789095265",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789095265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTA5NTI2NQ==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T17:55:19Z",
    "updated_at": "2021-03-02T17:55:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I guess if you don't engage in the discussion for 6 months as the alternatives are outlined, discussed and narrowed down it might seem that way.\r\n\r\nLets keep the debates to the ML. I'm not gonna spam this PR with responses to personal attacks.\r\n\r\n> This scenario can be tested by stopping the -vbparams=testdummy:@{start}:@{stop}:1 node in feature_bip8.py and then restarting it with -vbparams=testdummy:@{start}:@{stop}:0 (and vice versa for someone opting in later.\r\n\r\nRight, I believe AJ mentioned in that thread that it may (mostly) work already (though that certainly needs careful thought!), however there's not a good way to test the P2P aspects of a network split, and that's certainly also important to handle for a BIP8-based fork with strong community views.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789095265/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789097034",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789097034",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789097034,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTA5NzAzNA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T17:58:06Z",
    "updated_at": "2021-03-02T17:58:06Z",
    "author_association": "MEMBER",
    "body": "Fixed the bugs @ajtowns and @Sjors  found",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789097034/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789231494",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789231494",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789231494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTIzMTQ5NA==",
    "user": {
      "login": "sdaftuar",
      "id": 7463573,
      "node_id": "MDQ6VXNlcjc0NjM1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7463573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sdaftuar",
      "html_url": "https://github.com/sdaftuar",
      "followers_url": "https://api.github.com/users/sdaftuar/followers",
      "following_url": "https://api.github.com/users/sdaftuar/following{/other_user}",
      "gists_url": "https://api.github.com/users/sdaftuar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sdaftuar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sdaftuar/subscriptions",
      "organizations_url": "https://api.github.com/users/sdaftuar/orgs",
      "repos_url": "https://api.github.com/users/sdaftuar/repos",
      "events_url": "https://api.github.com/users/sdaftuar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sdaftuar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T21:32:31Z",
    "updated_at": "2021-03-02T21:32:31Z",
    "author_association": "MEMBER",
    "body": "I'm a Concept NACK on BIP 8 as drafted.  I think the MUST_SIGNAL period is needlessly risky for maintaining consensus (as I wrote back in 2017 on the mailing list, responding to a similar proposal at the time); if that part of BIP 8 were dropped I'd be fine with an implementation of the rest, though I haven't reviewed the code here.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789231494/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789241719",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789241719",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789241719,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTI0MTcxOQ==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T21:44:23Z",
    "updated_at": "2021-03-02T21:44:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sdaftuar: I'm sure you already know this but just to ensure clarity. BIP 8 (LOT = false) does not have the MUST_SIGNAL period and hence an implementation of BIP 8 (LOT = false) does not have the MUST_SIGNAL period.\r\n\r\nIf you want MUST_SIGNAL or the LOT parameter stripped from the actual BIP you'll need to open a BIP PR. I don't personally see what that would achieve unless you think LOT=true and MUST_SIGNAL should not be used in **any** circumstance whatsoever by either Core or an alternative implementation.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789241719/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789698354",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789698354",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789698354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTY5ODM1NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-03T13:02:00Z",
    "updated_at": "2021-03-03T13:02:00Z",
    "author_association": "MEMBER",
    "body": "@TheBlueMatt wrote:\r\n> there's not a good way to test the P2P aspects of a network split\r\n\r\nWe can now test using binaries of earlier releases, so this might be more feasible. But I'd rather see that in a PR that's specifically focussed on LOT. (my other objections aside)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789698354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789698978",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-789698978",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 789698978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTY5ODk3OA==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-03T13:03:04Z",
    "updated_at": "2021-03-03T13:03:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "It appears this PR doesn't have much (any?) chance of being merged in its current form (ie whilst it has any LOT=true code). Hence I (and others I have discussed it with) think it is best if this PR is closed.\r\n\r\nAn approach like Sjors' recent PR https://github.com/bitcoin/bitcoin/pull/21334 stripping out particular commits seem the best way forward.\r\n\r\nI'll reiterate my view (and I know Luke is strongly opposed) that if Core ships any activation code it will be BIP 8(1 year, false). \r\n\r\nI also highly doubt (though people are welcome to try by opening a BIP PR) that the LOT parameter will be stripped out of BIP 8 given the work and the consensus has built around it over the past weeks. But a LOT=false implementation in Core does not need any LOT code.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/789698978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791773311",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-791773311",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 791773311,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTc3MzMxMQ==",
    "user": {
      "login": "ProofOfKeags",
      "id": 4033651,
      "node_id": "MDQ6VXNlcjQwMzM2NTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4033651?u=3399b69d2fca24305eedee6273103a2d3e5be279&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ProofOfKeags",
      "html_url": "https://github.com/ProofOfKeags",
      "followers_url": "https://api.github.com/users/ProofOfKeags/followers",
      "following_url": "https://api.github.com/users/ProofOfKeags/following{/other_user}",
      "gists_url": "https://api.github.com/users/ProofOfKeags/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ProofOfKeags/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ProofOfKeags/subscriptions",
      "organizations_url": "https://api.github.com/users/ProofOfKeags/orgs",
      "repos_url": "https://api.github.com/users/ProofOfKeags/repos",
      "events_url": "https://api.github.com/users/ProofOfKeags/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ProofOfKeags/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-05T22:58:45Z",
    "updated_at": "2021-03-05T22:58:45Z",
    "author_association": "NONE",
    "body": "@michaelfolkson Are you saying that the LOT=true code can't even exist, or just that it can't be enabled for any SF proposals (specifically Taproot)?\r\n\r\nSeems like a bizarre requirement considering it is actually in the BIP, but perhaps theres a reason.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791773311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791938020",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-791938020",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 791938020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTkzODAyMA==",
    "user": {
      "login": "michaelfolkson",
      "id": 16323900,
      "node_id": "MDQ6VXNlcjE2MzIzOTAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16323900?u=e2201a78ad660e42fd175003d02ad749b855e0a9&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelfolkson",
      "html_url": "https://github.com/michaelfolkson",
      "followers_url": "https://api.github.com/users/michaelfolkson/followers",
      "following_url": "https://api.github.com/users/michaelfolkson/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelfolkson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelfolkson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelfolkson/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelfolkson/orgs",
      "repos_url": "https://api.github.com/users/michaelfolkson/repos",
      "events_url": "https://api.github.com/users/michaelfolkson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelfolkson/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-06T13:21:21Z",
    "updated_at": "2021-03-06T13:21:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ProofOfKeags: I think it is just semantics. It appears some people don't want LOT=true code in the Core codebase. Obviously it would be dead code if Core implemented the equivalent of LOT=false so it really doesn't matter. The Core codebase and the BIP (BIP 8) are separate objects. I can't see LOT=true code being merged into Core but I also can't see LOT or MUST_SIGNAL getting taken out of the BIP.\r\n\r\nHaving said that I didn't think there would be an alternative [proposal](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-March/018583.html) (\"Speedy trial\") gather momentum at this late stage so please take any/all of my predictions with a large pinch of salt :)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/791938020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792057139",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-792057139",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 792057139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MjA1NzEzOQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-06T21:23:23Z",
    "updated_at": "2021-03-06T21:23:23Z",
    "author_association": "MEMBER",
    "body": "If 31eac50c721dd3b0bd2347e76196bf16913e9be9 (from #21055) is backported to 0.21, then this PR rebased on master will also backport to 0.21 cleanly.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792057139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792844778",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-792844778",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 792844778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5Mjg0NDc3OA==",
    "user": {
      "login": "jtimon",
      "id": 1008458,
      "node_id": "MDQ6VXNlcjEwMDg0NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1008458?u=636a89c913ac407f52bb8d57c4fff384b98f421f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtimon",
      "html_url": "https://github.com/jtimon",
      "followers_url": "https://api.github.com/users/jtimon/followers",
      "following_url": "https://api.github.com/users/jtimon/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtimon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtimon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtimon/subscriptions",
      "organizations_url": "https://api.github.com/users/jtimon/orgs",
      "repos_url": "https://api.github.com/users/jtimon/repos",
      "events_url": "https://api.github.com/users/jtimon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtimon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-08T15:47:48Z",
    "updated_at": "2021-03-08T15:47:48Z",
    "author_association": "MEMBER",
    "body": "If I'm understanding the code correctly at a glance, this also gets rid of the LOT=false option and instead provides an option to never activate the change regardless of signaling, which in my opinion makes more sense as it gives users a more meaningful option than \"do you want to allow miners to have veto powers over the change and potentially fork off from other users who like you also want this change to be applied?\".\r\nGiving users the option of giving miners veto power doesn't empower users at all. if you're super worried about \"perception\", then give users the option to be against the change directly.\r\n\r\nConcept ACK.\r\n\r\nBut I would actually go further and for the users who select that option, not only they should not activate the change, but also consider the block that activates the change invalid, so that they can cleanly fork off to their own chain without the change they oppose.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/792844778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/798830821",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-798830821",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 798830821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODgzMDgyMQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-14T04:26:33Z",
    "updated_at": "2021-03-14T04:26:33Z",
    "author_association": "MEMBER",
    "body": "This is being split up and merged in pieces (some modified), so closing it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/798830821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/815297332",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-815297332",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 815297332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNTI5NzMzMg==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-07T22:13:57Z",
    "updated_at": "2021-04-07T22:13:57Z",
    "author_association": "MEMBER",
    "body": "Rebased (CI failure appears unrelated)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/815297332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820070732",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-820070732",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 820070732,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDA3MDczMg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T04:00:53Z",
    "updated_at": "2021-04-15T04:00:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820070732/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820128624",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-820128624",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 820128624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDEyODYyNA==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T05:38:05Z",
    "updated_at": "2021-04-15T05:38:05Z",
    "author_association": "MEMBER",
    "body": "Note that we may still want to use this in the future. Merging #21377 now does not preclude the use of BIP 8 in a future deployment.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820128624/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820139865",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-820139865",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 820139865,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDEzOTg2NQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T06:03:47Z",
    "updated_at": "2021-04-15T06:03:47Z",
    "author_association": "MEMBER",
    "body": "Ok, let me know when to reopen, but I don't think this needs to stay in \"High-priority for review\"",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820139865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820177032",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-820177032",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 820177032,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDE3NzAzMg==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T07:12:04Z",
    "updated_at": "2021-04-15T07:12:04Z",
    "author_association": "MEMBER",
    "body": "Agreed, it's probably a good idea to keep working on BIP 8 between now and the next soft fork attempt (especially the LOT=false part). That seems better than to develop these mechanisms only just in time.\r\n\r\nBut in order to keep backporting easy, I suggest we don't merge a BIP 8 implementation until Speedy Trial expires or locks in.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820177032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820515605",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#issuecomment-820515605",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19573",
    "id": 820515605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDUxNTYwNQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T15:22:40Z",
    "updated_at": "2021-04-15T15:22:40Z",
    "author_association": "MEMBER",
    "body": "Thinking about it, it doesn't make sense to continue this PR here. This has LOT=True support and such, and what is needed right now is simply heights.\r\n\r\nWhen/if the folks impeding progress of BIP 8 change their mind, I can do that. But not sure there's any point rebasing until then.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820515605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507418503",
    "pull_request_review_id": 511393873,
    "id": 507418503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzQxODUwMw==",
    "diff_hunk": "@@ -20,24 +20,29 @@ enum DeploymentPos\n };\n \n /**\n- * Struct for each individual consensus rule change using BIP9.\n+ * Struct for each individual consensus rule change using version bits (BIP 8).\n  */\n-struct BIP9Deployment {\n+struct VBitsDeployment {",
    "path": "src/consensus/params.h",
    "position": null,
    "original_position": 8,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe `DeploymentParams` ? Might be good to do as many of the renames as possible via scripted-diff.",
    "created_at": "2020-10-19T03:44:17Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507418503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507418503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507418503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507418503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 25,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507435498",
    "pull_request_review_id": 511393873,
    "id": 507435498,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzQzNTQ5OA==",
    "diff_hunk": "@@ -20,24 +20,29 @@ enum DeploymentPos\n };\n \n /**\n- * Struct for each individual consensus rule change using BIP9.\n+ * Struct for each individual consensus rule change using version bits (BIP 8).\n  */\n-struct BIP9Deployment {\n+struct VBitsDeployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n-    int64_t nStartTime;\n-    /** Timeout/expiry MedianTime for the deployment attempt. */\n-    int64_t nTimeout;\n+    /** Start block height for version bits miner confirmation. Should be a retarget block, can be in the past. */\n+    int64_t startheight;\n+    /** Timeout/expiry block height for the deployment attempt. Should be a retarget block. */\n+    int64_t timeoutheight;\n+    /** If true, final period before timeout will transition to MUST_SIGNAL. */\n+    bool lockinontimeout{false};\n \n-    /** Constant for nTimeout very far in the future. */\n+    /** Constant for timeoutheight very far in the future. */\n     static constexpr int64_t NO_TIMEOUT = std::numeric_limits<int64_t>::max();\n \n-    /** Special value for nStartTime indicating that the deployment is always active.\n+    /** Special value for startheight indicating that the deployment is always active.\n      *  This is useful for testing, as it means tests don't need to deal with the activation\n-     *  process (which takes at least 3 BIP9 intervals). Only tests that specifically test the\n+     *  process (which takes at least 3 intervals). Only tests that specifically test the\n      *  behaviour during activation cannot use this. */\n     static constexpr int64_t ALWAYS_ACTIVE = -1;",
    "path": "src/consensus/params.h",
    "position": null,
    "original_position": 32,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe both startheight and timeoutheight should be set to ALWAYS_ACTIVE in the same way they are for NEVER_ACTIVE.",
    "created_at": "2020-10-19T04:15:43Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507435498",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507435498"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507435498"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507435498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507607219",
    "pull_request_review_id": 511393873,
    "id": 507607219,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYwNzIxOQ==",
    "diff_hunk": "@@ -249,100 +261,67 @@ BOOST_AUTO_TEST_CASE(versionbits_test)\n BOOST_AUTO_TEST_CASE(versionbits_computeblockversion)\n {\n     // Check that ComputeBlockVersion will set the appropriate bit correctly\n-    // on mainnet.\n-    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::MAIN);\n+    const auto period = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST)->GetConsensus().nMinerConfirmationWindow;\n+    gArgs.ForceSetArg(\"-vbparams\", strprintf(\"testdummy:@%s:@%s\", period, period * 2));\n+    const auto chainParams = CreateChainParams(*m_node.args, CBaseChainParams::REGTEST);\n     const Consensus::Params &mainnetParams = chainParams->GetConsensus();",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 186,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is no longer `mainnet` params...",
    "created_at": "2020-10-19T09:35:04Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507607219",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507607219"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r507607219"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/507607219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 255,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038469",
    "pull_request_review_id": 511393873,
    "id": 509038469,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTAzODQ2OQ==",
    "diff_hunk": "@@ -475,21 +480,21 @@ void CRegTestParams::UpdateActivationParametersFromArgs(const ArgsManager& args)\n         std::vector<std::string> vDeploymentParams;\n         boost::split(vDeploymentParams, strDeployment, boost::is_any_of(\":\"));\n         if (vDeploymentParams.size() != 3) {\n-            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:start:end\");\n+            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:@startheight:@timeoutheight\");\n         }\n-        int64_t nStartTime, nTimeout;\n-        if (!ParseInt64(vDeploymentParams[1], &nStartTime)) {\n-            throw std::runtime_error(strprintf(\"Invalid nStartTime (%s)\", vDeploymentParams[1]));\n+        int64_t startheight, timeoutheight;",
    "path": "src/chainparams.cpp",
    "position": null,
    "original_position": 119,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure why it's a new error, but clang insists that these need to be initialised, and is causing travis to fail.",
    "created_at": "2020-10-21T07:09:33Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509038469",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038469"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509038469"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 485,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038840",
    "pull_request_review_id": 511393873,
    "id": 509038840,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTAzODg0MA==",
    "diff_hunk": "@@ -9,11 +9,12 @@ ThresholdState AbstractThresholdConditionChecker::GetStateFor(const CBlockIndex*\n {\n     int nPeriod = Period(params);\n     int nThreshold = Threshold(params);\n-    int64_t nTimeStart = BeginTime(params);\n-    int64_t nTimeTimeout = EndTime(params);\n+    int64_t height_start = StartHeight(params);\n+    int64_t height_timeout = TimeoutHeight(params);\n+    const bool lockinontimeout = LockinOnTimeout(params);\n \n     // Check if this deployment is always active.\n-    if (nTimeStart == Consensus::BIP9Deployment::ALWAYS_ACTIVE) {\n+    if (height_start == Consensus::VBitsDeployment::ALWAYS_ACTIVE) {",
    "path": "src/versionbits.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Need to also special case `NEVER_ACTIVE` here.",
    "created_at": "2020-10-21T07:10:15Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509038840",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038840"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509038840"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509038840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 17,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509222807",
    "pull_request_review_id": 511393873,
    "id": 509222807,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTIyMjgwNw==",
    "diff_hunk": "@@ -388,11 +393,11 @@ class CRegTestParams : public CChainParams {\n         consensus.nRuleChangeActivationThreshold = 108; // 75% for testchains\n         consensus.nMinerConfirmationWindow = 144; // Faster than normal for regtest (144 instead of 2016)\n         consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].bit = 28;\n-        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nStartTime = 0;\n-        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].nTimeout = Consensus::BIP9Deployment::NO_TIMEOUT;\n+        consensus.vDeployments[Consensus::DEPLOYMENT_TESTDUMMY].startheight = 0;",
    "path": "src/chainparams.cpp",
    "position": null,
    "original_position": 85,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "22f81eaebef2a548ed2ddd7a8a8d1b23b3eb73db",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`startheight = 144` would be more accurate, it can't actually start at height 0.\r\n\r\n(This caused a weird bug in `validation_blocks_tests` when I tried implementing bitcoin/bips#1023 and it was able to go to STARTED in the first block; didn't track down exactly what the issue was though)",
    "created_at": "2020-10-21T12:07:28Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509222807",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509222807"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r509222807"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509222807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 396,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572579383",
    "pull_request_review_id": 586163827,
    "id": 572579383,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjU3OTM4Mw==",
    "diff_hunk": "@@ -1211,46 +1211,48 @@ static void BuriedForkDescPushBack(UniValue& softforks, const std::string &name,\n     softforks.pushKV(name, rv);\n }\n \n-static void BIP9SoftForkDescPushBack(UniValue& softforks, const std::string &name, const Consensus::Params& consensusParams, Consensus::DeploymentPos id) EXCLUSIVE_LOCKS_REQUIRED(cs_main)\n+static void VBitsSoftForkDescPushBack(UniValue& softforks, const std::string &name, const Consensus::Params& consensusParams, Consensus::DeploymentPos id) EXCLUSIVE_LOCKS_REQUIRED(cs_main)\n {\n-    // For BIP9 deployments.\n+    // For versionbits deployments.\n     // Deployments (e.g. testdummy) with timeout value before Jan 1, 2009 are hidden.\n     // A timeout value of 0 guarantees a softfork will never be activated.\n     // This is used when merging logic to implement a proposed softfork without a specified deployment schedule.\n-    if (consensusParams.vDeployments[id].nTimeout <= 1230768000) return;\n+    if (consensusParams.vDeployments[id].IsNeverActive()) return;\n \n-    UniValue bip9(UniValue::VOBJ);\n+    UniValue details(UniValue::VOBJ);\n     const ThresholdState thresholdState = VersionBitsTipState(consensusParams, id);\n     switch (thresholdState) {\n-    case ThresholdState::DEFINED: bip9.pushKV(\"status\", \"defined\"); break;\n-    case ThresholdState::STARTED: bip9.pushKV(\"status\", \"started\"); break;\n-    case ThresholdState::LOCKED_IN: bip9.pushKV(\"status\", \"locked_in\"); break;\n-    case ThresholdState::ACTIVE: bip9.pushKV(\"status\", \"active\"); break;\n-    case ThresholdState::FAILED: bip9.pushKV(\"status\", \"failed\"); break;\n-    }\n-    if (ThresholdState::STARTED == thresholdState)\n-    {\n-        bip9.pushKV(\"bit\", consensusParams.vDeployments[id].bit);\n-    }\n-    bip9.pushKV(\"start_time\", consensusParams.vDeployments[id].nStartTime);\n-    bip9.pushKV(\"timeout\", consensusParams.vDeployments[id].nTimeout);\n+    case ThresholdState::DEFINED: details.pushKV(\"status\", \"defined\"); break;\n+    case ThresholdState::STARTED: details.pushKV(\"status\", \"started\"); break;\n+    case ThresholdState::MUST_SIGNAL: details.pushKV(\"status\", \"must_signal\"); break;\n+    case ThresholdState::LOCKED_IN: details.pushKV(\"status\", \"locked_in\"); break;\n+    case ThresholdState::ACTIVE: details.pushKV(\"status\", \"active\"); break;\n+    case ThresholdState::FAILED: details.pushKV(\"status\", \"failed\"); break;\n+    }\n+    if (ThresholdState::STARTED == thresholdState || ThresholdState::MUST_SIGNAL == thresholdState || ThresholdState::LOCKED_IN == thresholdState) {\n+        details.pushKV(\"bit\", consensusParams.vDeployments[id].bit);\n+    }\n+    details.pushKV(\"startheight\", consensusParams.vDeployments[id].startheight);\n+    details.pushKV(\"timeoutheight\", consensusParams.vDeployments[id].timeoutheight);\n+    details.pushKV(\"lockinontimeout\", consensusParams.vDeployments[id].lockinontimeout);\n     int64_t since_height = VersionBitsTipStateSinceHeight(consensusParams, id);\n-    bip9.pushKV(\"since\", since_height);\n-    if (ThresholdState::STARTED == thresholdState)\n-    {\n+    details.pushKV(\"since\", since_height);\n+    if (ThresholdState::STARTED == thresholdState || ThresholdState::MUST_SIGNAL == thresholdState || ThresholdState::LOCKED_IN == thresholdState) {\n         UniValue statsUV(UniValue::VOBJ);\n-        BIP9Stats statsStruct = VersionBitsTipStatistics(consensusParams, id);\n+        VBitsStats statsStruct = VersionBitsTipStatistics(consensusParams, id);\n         statsUV.pushKV(\"period\", statsStruct.period);\n-        statsUV.pushKV(\"threshold\", statsStruct.threshold);\n+        if (ThresholdState::STARTED == thresholdState) {\n+            statsUV.pushKV(\"threshold\", statsStruct.threshold);",
    "path": "src/rpc/blockchain.cpp",
    "position": 42,
    "original_position": 56,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Test should be `thresholdState != ThresholdState::LOCKED_IN` -- now that https://github.com/bitcoin/bips/pull/1021/ is merged, threshold is still relevant during MUST_SIGNAL phase.",
    "created_at": "2021-02-09T04:05:52Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r572579383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572579383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r572579383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/572579383/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1256,
    "original_line": 1256,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573361013",
    "pull_request_review_id": 587153999,
    "id": 573361013,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzM2MTAxMw==",
    "diff_hunk": "@@ -1,6 +1,7 @@\n BIPs that are implemented by Bitcoin Core (up-to-date up to **v0.21.0**):\n \n-* [`BIP 9`](https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki): The changes allowing multiple soft-forks to be deployed in parallel have been implemented since **v0.12.1**  ([PR #7575](https://github.com/bitcoin/bitcoin/pull/7575))\n+* [`BIP 8`](https://github.com/bitcoin/bips/blob/master/bip-0008.mediawiki): The changes for parallel, rapid deployment based on block height miner activation with UASF failover have been implemented since **v0.21.0**  ([PR #19573](https://github.com/bitcoin/bitcoin/pull/19573))",
    "path": "doc/bips.md",
    "position": null,
    "original_position": 4,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "shouldn't this be v0.21.1?",
    "created_at": "2021-02-10T00:47:02Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573361013",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573361013"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573361013"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573361013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573367289",
    "pull_request_review_id": 587153999,
    "id": 573367289,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzM2NzI4OQ==",
    "diff_hunk": "@@ -475,22 +469,28 @@ void CRegTestParams::UpdateActivationParametersFromArgs(const ArgsManager& args)\n     for (const std::string& strDeployment : args.GetArgs(\"-vbparams\")) {\n         std::vector<std::string> vDeploymentParams;\n         boost::split(vDeploymentParams, strDeployment, boost::is_any_of(\":\"));\n-        if (vDeploymentParams.size() != 3) {\n-            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:start:end\");\n+        if (vDeploymentParams.size() != 4) {\n+            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:@startheight:@timeoutheight:lockinontimeout\");\n         }\n-        int64_t nStartTime, nTimeout;\n-        if (!ParseInt64(vDeploymentParams[1], &nStartTime)) {\n-            throw std::runtime_error(strprintf(\"Invalid nStartTime (%s)\", vDeploymentParams[1]));\n+        int64_t startheight = 0, timeoutheight = 0;\n+        bool lockinontimeout = false;\n+        if (vDeploymentParams[1].empty() || vDeploymentParams[1].front() != '@' || !ParseInt64(vDeploymentParams[1].substr(1), &startheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid startheight (%s)\", vDeploymentParams[1]));\n         }\n-        if (!ParseInt64(vDeploymentParams[2], &nTimeout)) {\n-            throw std::runtime_error(strprintf(\"Invalid nTimeout (%s)\", vDeploymentParams[2]));\n+        if (vDeploymentParams[2].empty() || vDeploymentParams[2].front() != '@' || !ParseInt64(vDeploymentParams[2].substr(1), &timeoutheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid timeoutheight (%s)\", vDeploymentParams[2]));\n+        }\n+        if (vDeploymentParams[3].size() != 1 || (vDeploymentParams[3].front() != '0' && vDeploymentParams[3].front() != '1')) {\n+            throw std::runtime_error(strprintf(\"Invalid lockinontimeout (%s)\", vDeploymentParams[3]));\n+        } else {\n+            lockinontimeout = (vDeploymentParams[3].front() == '1');\n         }\n         bool found = false;\n         for (int j=0; j < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j) {\n             if (vDeploymentParams[0] == VersionBitsDeploymentInfo[j].name) {\n-                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);\n+                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), startheight, timeoutheight, lockinontimeout);\n                 found = true;\n-                LogPrintf(\"Setting version bits activation parameters for %s to start=%ld, timeout=%ld\\n\", vDeploymentParams[0], nStartTime, nTimeout);\n+                LogPrintf(\"Setting version bits activation parameters for %s to startheight=%ld, timeoutheight=%ld\\n\", vDeploymentParams[0], startheight, timeoutheight);",
    "path": "src/chainparams.cpp",
    "position": null,
    "original_position": 143,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "this log should probably include the `timeoutheight`",
    "created_at": "2021-02-10T01:04:01Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573367289",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573367289"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573367289"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573367289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 493,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368033",
    "pull_request_review_id": 587153999,
    "id": 573368033,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzM2ODAzMw==",
    "diff_hunk": "@@ -20,24 +20,37 @@ enum DeploymentPos\n };\n \n /**\n- * Struct for each individual consensus rule change using BIP9.\n+ * Struct for each individual consensus rule change using version bits (BIP 8).\n  */\n-struct BIP9Deployment {\n+struct VBitsDeployment {\n     /** Bit position to select the particular bit in nVersion. */\n     int bit;\n-    /** Start MedianTime for version bits miner confirmation. Can be a date in the past */\n-    int64_t nStartTime;\n-    /** Timeout/expiry MedianTime for the deployment attempt. */\n-    int64_t nTimeout;\n+    /** Start block height for version bits miner confirmation. Should be a retarget block, can be in the past. */\n+    int64_t startheight;\n+    /** Timeout/expiry block height for the deployment attempt. Should be a retarget block. */\n+    int64_t timeoutheight;",
    "path": "src/consensus/params.h",
    "position": null,
    "original_position": 18,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": ">  Should be a retarget block\r\n\r\nIn BIP 8, it defines these as a *must*\r\n\r\n\r\n> startheight and timeoutheight must be an exact multiple of 2016 (ie, at a retarget boundary), and timeoutheight must be at least 4096 blocks (2 retarget intervals) after startheight.",
    "created_at": "2021-02-10T01:06:10Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573368033",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368033"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573368033"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 28,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 31,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368887",
    "pull_request_review_id": 587153999,
    "id": 573368887,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzM2ODg4Nw==",
    "diff_hunk": "@@ -823,6 +824,10 @@ static RPCHelpMan getblocktemplate()\n             case ThresholdState::FAILED:\n                 // Not exposed to GBT at all\n                 break;\n+            case ThresholdState::MUST_SIGNAL:\n+                // Bit must be set in block version\n+                vbrequired |= VersionBitsMask(consensusParams, pos);\n+                // FALL THROUGH to sed nVersion and get vbavailable set...",
    "path": "src/rpc/mining.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> sed\r\n\r\nset",
    "created_at": "2021-02-10T01:08:32Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573368887",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368887"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573368887"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573368887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 830,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573369426",
    "pull_request_review_id": 587153999,
    "id": 573369426,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzM2OTQyNg==",
    "diff_hunk": "@@ -14,28 +14,48 @@\n /* Define a virtual block time, one block per 10 minutes after Nov 14 2014, 0:55:36am */\n static int32_t TestTime(int nHeight) { return 1415926536 + 600 * nHeight; }\n \n-static const Consensus::Params paramsDummy = Consensus::Params();\n+static constexpr const char* StateName(ThresholdState state) {\n+    return (state == ThresholdState::DEFINED ?     \"DEFINED\" :\n+            state == ThresholdState::STARTED ?     \"STARTED\" :\n+            state == ThresholdState::LOCKED_IN ?   \"LOCKED_IN\" :\n+            state == ThresholdState::ACTIVE ?      \"ACTIVE\" :\n+            state == ThresholdState::FAILED ?      \"FAILED\" :\n+            \"\");",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Couldn't this use a `switch` statement?",
    "created_at": "2021-02-10T01:10:04Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573369426",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573369426"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r573369426"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/573369426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 18,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 23,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579329781",
    "pull_request_review_id": 594377723,
    "id": 579329781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMyOTc4MQ==",
    "diff_hunk": "@@ -475,22 +469,28 @@ void CRegTestParams::UpdateActivationParametersFromArgs(const ArgsManager& args)\n     for (const std::string& strDeployment : args.GetArgs(\"-vbparams\")) {\n         std::vector<std::string> vDeploymentParams;\n         boost::split(vDeploymentParams, strDeployment, boost::is_any_of(\":\"));\n-        if (vDeploymentParams.size() != 3) {\n-            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:start:end\");\n+        if (vDeploymentParams.size() != 4) {\n+            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:@startheight:@timeoutheight:lockinontimeout\");\n         }\n-        int64_t nStartTime, nTimeout;\n-        if (!ParseInt64(vDeploymentParams[1], &nStartTime)) {\n-            throw std::runtime_error(strprintf(\"Invalid nStartTime (%s)\", vDeploymentParams[1]));\n+        int64_t startheight = 0, timeoutheight = 0;\n+        bool lockinontimeout = false;\n+        if (vDeploymentParams[1].empty() || vDeploymentParams[1].front() != '@' || !ParseInt64(vDeploymentParams[1].substr(1), &startheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid startheight (%s)\", vDeploymentParams[1]));\n         }\n-        if (!ParseInt64(vDeploymentParams[2], &nTimeout)) {\n-            throw std::runtime_error(strprintf(\"Invalid nTimeout (%s)\", vDeploymentParams[2]));\n+        if (vDeploymentParams[2].empty() || vDeploymentParams[2].front() != '@' || !ParseInt64(vDeploymentParams[2].substr(1), &timeoutheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid timeoutheight (%s)\", vDeploymentParams[2]));\n+        }\n+        if (vDeploymentParams[3].size() != 1 || (vDeploymentParams[3].front() != '0' && vDeploymentParams[3].front() != '1')) {\n+            throw std::runtime_error(strprintf(\"Invalid lockinontimeout (%s)\", vDeploymentParams[3]));\n+        } else {\n+            lockinontimeout = (vDeploymentParams[3].front() == '1');\n         }\n         bool found = false;\n         for (int j=0; j < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j) {\n             if (vDeploymentParams[0] == VersionBitsDeploymentInfo[j].name) {\n-                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);\n+                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), startheight, timeoutheight, lockinontimeout);\n                 found = true;\n-                LogPrintf(\"Setting version bits activation parameters for %s to start=%ld, timeout=%ld\\n\", vDeploymentParams[0], nStartTime, nTimeout);\n+                LogPrintf(\"Setting version bits activation parameters for %s to startheight=%ld, timeoutheight=%ld\\n\", vDeploymentParams[0], startheight, timeoutheight);",
    "path": "src/chainparams.cpp",
    "position": null,
    "original_position": 143,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You mean `lockinontimeout`, I assume?",
    "created_at": "2021-02-19T16:54:26Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579329781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579329781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579329781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579329781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 493,
    "side": "RIGHT",
    "in_reply_to_id": 573367289
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579334677",
    "pull_request_review_id": 594384209,
    "id": 579334677,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTMzNDY3Nw==",
    "diff_hunk": "@@ -14,28 +14,48 @@\n /* Define a virtual block time, one block per 10 minutes after Nov 14 2014, 0:55:36am */\n static int32_t TestTime(int nHeight) { return 1415926536 + 600 * nHeight; }\n \n-static const Consensus::Params paramsDummy = Consensus::Params();\n+static constexpr const char* StateName(ThresholdState state) {\n+    return (state == ThresholdState::DEFINED ?     \"DEFINED\" :\n+            state == ThresholdState::STARTED ?     \"STARTED\" :\n+            state == ThresholdState::LOCKED_IN ?   \"LOCKED_IN\" :\n+            state == ThresholdState::ACTIVE ?      \"ACTIVE\" :\n+            state == ThresholdState::FAILED ?      \"FAILED\" :\n+            \"\");",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This PR is intended to merge cleanly to 0.21, which only requires C++11. (`switch` inside `constexpr` functions requires C++14)",
    "created_at": "2021-02-19T17:01:32Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579334677",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579334677"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579334677"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579334677/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 18,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 23,
    "side": "RIGHT",
    "in_reply_to_id": 573369426
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579349520",
    "pull_request_review_id": 594402996,
    "id": 579349520,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTM0OTUyMA==",
    "diff_hunk": "@@ -475,22 +469,28 @@ void CRegTestParams::UpdateActivationParametersFromArgs(const ArgsManager& args)\n     for (const std::string& strDeployment : args.GetArgs(\"-vbparams\")) {\n         std::vector<std::string> vDeploymentParams;\n         boost::split(vDeploymentParams, strDeployment, boost::is_any_of(\":\"));\n-        if (vDeploymentParams.size() != 3) {\n-            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:start:end\");\n+        if (vDeploymentParams.size() != 4) {\n+            throw std::runtime_error(\"Version bits parameters malformed, expecting deployment:@startheight:@timeoutheight:lockinontimeout\");\n         }\n-        int64_t nStartTime, nTimeout;\n-        if (!ParseInt64(vDeploymentParams[1], &nStartTime)) {\n-            throw std::runtime_error(strprintf(\"Invalid nStartTime (%s)\", vDeploymentParams[1]));\n+        int64_t startheight = 0, timeoutheight = 0;\n+        bool lockinontimeout = false;\n+        if (vDeploymentParams[1].empty() || vDeploymentParams[1].front() != '@' || !ParseInt64(vDeploymentParams[1].substr(1), &startheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid startheight (%s)\", vDeploymentParams[1]));\n         }\n-        if (!ParseInt64(vDeploymentParams[2], &nTimeout)) {\n-            throw std::runtime_error(strprintf(\"Invalid nTimeout (%s)\", vDeploymentParams[2]));\n+        if (vDeploymentParams[2].empty() || vDeploymentParams[2].front() != '@' || !ParseInt64(vDeploymentParams[2].substr(1), &timeoutheight)) {\n+            throw std::runtime_error(strprintf(\"Invalid timeoutheight (%s)\", vDeploymentParams[2]));\n+        }\n+        if (vDeploymentParams[3].size() != 1 || (vDeploymentParams[3].front() != '0' && vDeploymentParams[3].front() != '1')) {\n+            throw std::runtime_error(strprintf(\"Invalid lockinontimeout (%s)\", vDeploymentParams[3]));\n+        } else {\n+            lockinontimeout = (vDeploymentParams[3].front() == '1');\n         }\n         bool found = false;\n         for (int j=0; j < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j) {\n             if (vDeploymentParams[0] == VersionBitsDeploymentInfo[j].name) {\n-                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), nStartTime, nTimeout);\n+                UpdateVersionBitsParameters(Consensus::DeploymentPos(j), startheight, timeoutheight, lockinontimeout);\n                 found = true;\n-                LogPrintf(\"Setting version bits activation parameters for %s to start=%ld, timeout=%ld\\n\", vDeploymentParams[0], nStartTime, nTimeout);\n+                LogPrintf(\"Setting version bits activation parameters for %s to startheight=%ld, timeoutheight=%ld\\n\", vDeploymentParams[0], startheight, timeoutheight);",
    "path": "src/chainparams.cpp",
    "position": null,
    "original_position": 143,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "6f27bdeba74d8dca680efc32b16226d255eec19d",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, sorry",
    "created_at": "2021-02-19T17:24:26Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579349520",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579349520"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r579349520"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/579349520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 493,
    "side": "RIGHT",
    "in_reply_to_id": 573367289
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581333835",
    "pull_request_review_id": 596726957,
    "id": 581333835,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTMzMzgzNQ==",
    "diff_hunk": "@@ -1290,8 +1290,8 @@ RPCHelpMan getblockchaininfo()\n                                 {\n                                     {RPCResult::Type::STR, \"status\", \"one of \\\"defined\\\", \\\"started\\\", \\\"locked_in\\\", \\\"active\\\", \\\"failed\\\"\"},\n                                     {RPCResult::Type::NUM, \"bit\", \"the bit (0-28) in the block version field used to signal this softfork (only for \\\"started\\\" status)\"},\n-                                    {RPCResult::Type::NUM_TIME, \"start_time\", \"the minimum median time past of a block at which the bit gains its meaning\"},\n-                                    {RPCResult::Type::NUM_TIME, \"timeout\", \"the median time past of a block at which the deployment is considered failed if not yet locked in\"},\n+                                    {RPCResult::Type::NUM, \"startheight\", \"the minimum height of a block at which the bit gains its meaning\"},",
    "path": "src/rpc/blockchain.cpp",
    "position": 72,
    "original_position": 26,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "52fcdb6b00b72cfb802d035496eb71813b20cc97",
    "user": {
      "login": "prayank23",
      "id": 13405205,
      "node_id": "MDQ6VXNlcjEzNDA1MjA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405205?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prayank23",
      "html_url": "https://github.com/prayank23",
      "followers_url": "https://api.github.com/users/prayank23/followers",
      "following_url": "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url": "https://api.github.com/users/prayank23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prayank23/subscriptions",
      "organizations_url": "https://api.github.com/users/prayank23/orgs",
      "repos_url": "https://api.github.com/users/prayank23/repos",
      "events_url": "https://api.github.com/users/prayank23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prayank23/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: _\"the minimum height of a block at which the bit gains its meaning\"_ can be changed to one of the below\r\n\r\n_\"the minimum height of a block at which the 'bit' gains its meaning\"_\r\n_\"the minimum height of a block at which the 'bit' becomes relevant\"_\r\n_\"the minimum height of a block at which the 'bit' used for signaling gains its meaning\"_",
    "created_at": "2021-02-23T19:37:58Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r581333835",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581333835"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r581333835"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/581333835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1306,
    "original_line": 1306,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584741118",
    "pull_request_review_id": 600769319,
    "id": 584741118,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDc0MTExOA==",
    "diff_hunk": "@@ -3532,6 +3539,38 @@ static bool ContextualCheckBlockHeader(const CBlockHeader& block, BlockValidatio\n             return state.Invalid(BlockValidationResult::BLOCK_INVALID_HEADER, strprintf(\"bad-version(0x%08x)\", block.nVersion),\n                                  strprintf(\"rejected nVersion=0x%08x block\", block.nVersion));\n \n+    if (!ContextualCheckBlockHeaderVolatile(block, state, params, pindexPrev)) return false;\n+\n+    return true;\n+}\n+\n+/** Context-dependent validity checks, but rechecked in ConnectBlock().\n+ *  Note that -reindex-chainstate skips the validation that happens here!\n+ */\n+static bool ContextualCheckBlockHeaderVolatile(const CBlockHeader& block, BlockValidationState& state, const CChainParams& params, const CBlockIndex* pindexPrev) EXCLUSIVE_LOCKS_REQUIRED(cs_main)\n+{\n+    const Consensus::Params& consensusParams = params.GetConsensus();\n+\n+    // Enforce MUST_SIGNAL status of deployments\n+    for (int j = 0; j < (int)Consensus::MAX_VERSION_BITS_DEPLOYMENTS; ++j) {\n+        Consensus::DeploymentPos deployment_pos = Consensus::DeploymentPos(j);\n+        ThresholdState deployment_state = VersionBitsState(pindexPrev, consensusParams, deployment_pos, versionbitscache);\n+        if (deployment_state == ThresholdState::MUST_SIGNAL) {\n+            if ((block.nVersion & VersionBitsMask(consensusParams, deployment_pos)) == 0 || (block.nVersion & VERSIONBITS_TOP_MASK) != VERSIONBITS_TOP_BITS) {\n+                BIP9Stats stats = VersionBitsStatistics(pindexPrev, consensusParams, deployment_pos);\n+                if (stats.elapsed == stats.period) {\n+                    // first block in new period\n+                    stats.count = stats.elapsed = 0;\n+                }\n+                ++stats.elapsed; ++stats.count;",
    "path": "src/validation.cpp",
    "position": null,
    "original_position": 55,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "40fc1c5ff3ebef031b259a723b7064a00af053df",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think the `++stats.count` there is correct -- if the final block in the MUST_SIGNAL period does not signal, and the total number of blocks signalling in the period is `threshold-1`, this will cause lockinontimeout=true nodes to transition from MUST_SIGNAL to LOCKED_IN (and later to ACTIVE) while lockinontimeout=false nodes transition from STARTED to FAILED.\r\n\r\nSetting `N=107` instead of a random value and removing the `random.shuffle(bits)` in the test case should duplicate the failure.",
    "created_at": "2021-03-01T14:11:55Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r584741118",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584741118"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r584741118"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/584741118/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3565,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585486781",
    "pull_request_review_id": 601714635,
    "id": 585486781,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NTQ4Njc4MQ==",
    "diff_hunk": "@@ -98,60 +107,25 @@ class VersionBitsTester\n         return *this;\n     }\n \n-    VersionBitsTester& TestDefined() {\n+    VersionBitsTester& TestState(ThresholdState exp) {\n         for (int i = 0; i < CHECKERS; i++) {\n             if (InsecureRandBits(i) == 0) {\n-                BOOST_CHECK_MESSAGE(checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::DEFINED, strprintf(\"Test %i for DEFINED\", num));\n-                BOOST_CHECK_MESSAGE(checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::ACTIVE, strprintf(\"Test %i for ACTIVE (always active)\", num));\n+                ThresholdState got = checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                ThresholdState got_always = checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                int height = vpblock.empty() ? 0 : (1 + vpblock.back()->nHeight);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "bae9a452191a7a83478f7d508a54f4a04d385505",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "bae9a452191a7a83478f7d508a54f4a04d385505  and bd715ff894344408df2345d9bd75a08bd7c9c6f6 : why the `+ 1`? The log will show `0` for the genesis block, but 2 the block at height 1.",
    "created_at": "2021-03-02T11:30:07Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r585486781",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585486781"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r585486781"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/585486781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 115,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586323690",
    "pull_request_review_id": 602772775,
    "id": 586323690,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjMyMzY5MA==",
    "diff_hunk": "@@ -98,60 +107,25 @@ class VersionBitsTester\n         return *this;\n     }\n \n-    VersionBitsTester& TestDefined() {\n+    VersionBitsTester& TestState(ThresholdState exp) {\n         for (int i = 0; i < CHECKERS; i++) {\n             if (InsecureRandBits(i) == 0) {\n-                BOOST_CHECK_MESSAGE(checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::DEFINED, strprintf(\"Test %i for DEFINED\", num));\n-                BOOST_CHECK_MESSAGE(checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::ACTIVE, strprintf(\"Test %i for ACTIVE (always active)\", num));\n+                ThresholdState got = checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                ThresholdState got_always = checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                int height = vpblock.empty() ? 0 : (1 + vpblock.back()->nHeight);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "bae9a452191a7a83478f7d508a54f4a04d385505",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`height` here is the height of the next block -- if `vpblock` is empty, the next (ie first) block should be the genesis block with `nHeight == 0`. Note that when populating `vpblock` in `VersionBitsTester::Mine()` we set `nHeight=vblock.size()` so the first entry will have `nHeight == 0` and act as the genesis block; at which point `1+vpblock.back().nHeight` will evaluate to `1+0` giving the height of the next block to be added. When `vpblock` is empty, it'll evaluate to `0`, still giving the height of the next block to be added.",
    "created_at": "2021-03-03T11:05:45Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586323690",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586323690"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586323690"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586323690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 115,
    "side": "RIGHT",
    "in_reply_to_id": 585486781
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586324465",
    "pull_request_review_id": 602773818,
    "id": 586324465,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjMyNDQ2NQ==",
    "diff_hunk": "@@ -98,60 +107,25 @@ class VersionBitsTester\n         return *this;\n     }\n \n-    VersionBitsTester& TestDefined() {\n+    VersionBitsTester& TestState(ThresholdState exp) {\n         for (int i = 0; i < CHECKERS; i++) {\n             if (InsecureRandBits(i) == 0) {\n-                BOOST_CHECK_MESSAGE(checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::DEFINED, strprintf(\"Test %i for DEFINED\", num));\n-                BOOST_CHECK_MESSAGE(checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::ACTIVE, strprintf(\"Test %i for ACTIVE (always active)\", num));\n+                ThresholdState got = checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                ThresholdState got_always = checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                int height = vpblock.empty() ? 0 : (1 + vpblock.back()->nHeight);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "bae9a452191a7a83478f7d508a54f4a04d385505",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note that `GetStateFor(block)` is telling you what the state should be for the *next* block to be mined, not the last block that was mined.",
    "created_at": "2021-03-03T11:06:59Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586324465",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586324465"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586324465"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586324465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 115,
    "side": "RIGHT",
    "in_reply_to_id": 585486781
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586400702",
    "pull_request_review_id": 602871556,
    "id": 586400702,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NjQwMDcwMg==",
    "diff_hunk": "@@ -98,60 +107,25 @@ class VersionBitsTester\n         return *this;\n     }\n \n-    VersionBitsTester& TestDefined() {\n+    VersionBitsTester& TestState(ThresholdState exp) {\n         for (int i = 0; i < CHECKERS; i++) {\n             if (InsecureRandBits(i) == 0) {\n-                BOOST_CHECK_MESSAGE(checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::DEFINED, strprintf(\"Test %i for DEFINED\", num));\n-                BOOST_CHECK_MESSAGE(checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back()) == ThresholdState::ACTIVE, strprintf(\"Test %i for ACTIVE (always active)\", num));\n+                ThresholdState got = checker[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                ThresholdState got_always = checker_always[i].GetStateFor(vpblock.empty() ? nullptr : vpblock.back());\n+                int height = vpblock.empty() ? 0 : (1 + vpblock.back()->nHeight);",
    "path": "src/test/versionbits_tests.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "bae9a452191a7a83478f7d508a54f4a04d385505",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I see, I'll add a comment to that effect in my PR.",
    "created_at": "2021-03-03T13:06:46Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586400702",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586400702"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r586400702"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/586400702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 115,
    "side": "RIGHT",
    "in_reply_to_id": 585486781
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589002908",
    "pull_request_review_id": 605827333,
    "id": 589002908,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTAwMjkwOA==",
    "diff_hunk": "@@ -203,9 +203,9 @@ ThresholdState VersionBitsState(const CBlockIndex* pindexPrev, const Consensus::\n     return VersionBitsConditionChecker(pos).GetStateFor(pindexPrev, params, cache.caches[pos]);\n }\n \n-VBitsStats VersionBitsStatistics(const CBlockIndex* pindexPrev, const Consensus::Params& params, Consensus::DeploymentPos pos)\n+VBitsStats VersionBitsStatistics(const CBlockIndex* pindex, const Consensus::Params& params, Consensus::DeploymentPos pos)",
    "path": "src/versionbits.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "0a8b9745eca9ad4b50a830a128b3b69dccd03082",
    "original_commit_id": "cf53e6e65ca0762f4e4118a58799a9c1fc8121c5",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry, I think this change is wrong and it should be the other way around -- `AbstractThresholdConditionChecker::GetStateStatisticsFor` should be expecting `pindexPrev` not `pindex`. I believe that gives the right behaviour for MUST_SIGNAL. I'd suggest just dropping this commit.",
    "created_at": "2021-03-07T09:45:21Z",
    "updated_at": "2021-04-07T14:25:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r589002908",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589002908"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19573#discussion_r589002908"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19573"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/589002908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 206,
    "side": "RIGHT"
  }
]