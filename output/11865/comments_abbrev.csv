TheBlueMatt,2017-12-11T15:44:47Z,"Did you find this while testing? I'm skeptical there is any real overhead. On the other hand, I find it astoundingly strange that wallet has any concept of mempool.cs - I'd strongly prefer we simply remove that LOCK (assume there isnt much overhead, which I'd bet is true given we're holding cs_main the whole time).",https://github.com/bitcoin/bitcoin/pull/11865#issuecomment-350762732,350762732,
promag,2017-12-11T16:17:46Z,Why do you think there's no overhead?,https://github.com/bitcoin/bitcoin/pull/11865#issuecomment-350773565,350773565,
TheBlueMatt,2017-12-11T16:20:06Z,"Overhead of taking a lock that has no contention should be realtively minimal, especially compared to things like signature checking, and wallet having a concept of what mempool lock there is (especially when other calls to ATMP do not) is nonsense to me.",https://github.com/bitcoin/bitcoin/pull/11865#issuecomment-350774323,350774323,
promag,2017-12-11T16:25:28Z,Yes comparing to those things (https://stackoverflow.com/questions/41531836/mutex-lock-speed-difference-inside-and-outisde-the-foor-loop).,https://github.com/bitcoin/bitcoin/pull/11865#issuecomment-350776059,350776059,
promag,2017-12-11T16:26:54Z,Agree that this lock is at least out of place. I'll open a new PR removing the lock.,https://github.com/bitcoin/bitcoin/pull/11865#issuecomment-350776515,350776515,
