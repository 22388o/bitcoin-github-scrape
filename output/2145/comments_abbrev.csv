BitcoinPullTester,2013-01-03T15:52:36Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/24e864547189c6b9347740f50d5fed656fc48816 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11848411,11848411,
BitcoinPullTester,2013-01-03T16:21:45Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/aa38398d4bd32c6b90175d08b65ecb324701a368 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11849681,11849681,
jgarzik,2013-01-03T16:54:38Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11851050,11851050,
gmaxwell,2013-01-03T19:35:02Z,"Some  problems with making reindex automatic is that reindex is quite burdensome and intrusive so you may want to control when its run, and the other problem is that making it automatic may hide hardware or software errors that can also cause silent failures.   A failure of this test is something which _should_ never happen, even if the user is randomly powering off their machine.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11857317,11857317,
gmaxwell,2013-01-03T20:28:32Z,"So, I see that setting dbcache really large doesn't check more than 2500 blocks by default. Thats good— wouldn't want a long startup time.  But setting dbcache to 0 results in it checking very few. I'm not sure that this is a good idea.\n\nI'm also seeing some odd memory usage behavior. Starting with -dbcache=4000 -checkblocks=0  results in an RES of 2.3 GiB once the check is finished.\n\nI also f",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11859424,11859424,
sipa,2013-01-04T02:17:03Z,"@gmaxwell there is a trivial undo test possible: verify their checksums. However, how meaningful is it to check undo data without checking the coin state - there is no scenario in which you need undo data but not coin state.\n\nIn way, the system is backwards. The coin state is by far the most important thing to verify, but unfortunately it is also almost the most expensive, and it already require",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11869901,11869901,
sipa,2013-01-04T02:22:17Z,"@Diapolo such a flag would be possible, but why add it? The next startup the database will most likely still be inconsistent, so it would be detected again (and if it isn't, maybe it was something temporary...).\n\nFor GUI users, I would like to see something like ""Your database is corrupted. Do you want to rebuild it now, or exit?"". For bitcoind I think the right approach is indeed quitting immed",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11869999,11869999,
sipa,2013-01-04T02:23:16Z,@gmaxwell Suggestions for better reporting are welcome :)\n,https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11870019,11870019,
gmaxwell,2013-01-04T07:14:53Z,"The reason I suggested a basic check of undo data is simply because unless dbcache is very large we test far fewer blocks at level 2 and there is currently no way to do even basic checking of all the undo data. This means that if dbcache is set small, we may not discover corrupted undo data which could be trivially discovered, until a reorg.\n\nFor small dbcache values— we could give it a minimum ",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11874343,11874343,
sipa,2013-01-04T14:03:09Z,"@gmaxwell I've added a new level in between 1 and 2 (which verifies undo data). I've also changed the heuristic for determining how far to roll back a bit - it now aims for using +- 5-10 MB extra for validation, even with very small dbcache.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11883622,11883622,
BitcoinPullTester,2013-01-04T14:28:24Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/1f355b66cd90f1bd96a862604a7216e8ba56f853 for binaries and test log.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11884387,11884387,
gmaxwell,2013-01-04T18:50:49Z,ACK ACK ACK\n,https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11894681,11894681,
sipa,2013-01-06T00:04:27Z,Well the reported messages are still confusing. It's not actually checking 2500 blocks at level 3...\n,https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-11922004,11922004,
gmaxwell,2013-01-11T14:26:58Z,"Because this increases our sensitivity to corruption so much, I'd rather pull now and get the messages just right in another pull.\n",https://github.com/bitcoin/bitcoin/pull/2145#issuecomment-12146073,12146073,
