[
  {
    "sha": "0ae42a16c766a7ecb8711bfad6f22b8581ea0258",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYWU0MmExNmM3NjZhN2VjYjg3MTFiZmFkNmYyMmI4NTgxZWEwMjU4",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-03-11T15:20:48Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2020-03-11T20:16:31Z"
      },
      "message": "guix: Remove now-unnecessary gcc make flag\n\nPreviously, Guix would produce a gcc which did not know to use the SSP\nfunction from glibc, and required a gcc make flag for it to do so, in my\nattempt to fix it upstream I realized that this is no longer the case.\n\nThis can be verified by performing a Guix build and doing\n\n  readelf -s ... | grep __stack_chk\n\nto check that symbols are coming from glibc, and doing\n\n  readelf -d ... | grep NEEDED | grep ssp\n\nto see that libssp.so is not being depended on",
      "tree": {
        "sha": "9869e801d7cafd7b7eecf602bfffede71705ecdc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9869e801d7cafd7b7eecf602bfffede71705ecdc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0ae42a16c766a7ecb8711bfad6f22b8581ea0258",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEECc3SW1JEo3Z49u6oDMUhUxl5kaUFAl5pRyoACgkQDMUhUxl5\nkaVC+g//a61xcbGT0OZ0Er2xoiHlLFMQRSFzBVCeSv86yyPSWREcckrTI98lFlhW\nIZCZLW04q9zu+R/eWC4AkVuTi+IK3eBdrQh2UktN7di9nusQBBb+FrCRrdN6clsR\nu6y3OkghKZpK5dVHs+NFda7T+HOBLeHeiFIklu5Qq/2881HxEpb+tIeS9VjWWPcm\nJi47pjz3xU4hu7vZCNKb85E8unMyCJdKT0XEQF3r7/meXb69Umu2x5Azknm7CyyR\nLf+p1WKXwdP6g7bQ69qgvPa3QeovTADFI0YWauIeRssLV1Cye782RnZevsLv5JQo\naNeuemtSNYfGYhGkBPVEDGKjV2qFDbvTHrGVDytLB8/pE/l7tYWkgK+n0hE9pPV/\nDWYW6TO8PooBEgSsLX6Cu3c4RfzKGkzQIle1dohzS4wJyZ8hEPSQEKw3YZfwjyd4\nTQ9NM71Ry2r24CW7cr4JYmO20X6lIMTlMUtvLnYSwkuB4yc1+SKtCRwg8gRuLICe\nARcfmpiIgaqPE46NfECeO1aLWktkYVpapyk/r2F3j1cvY2fTtL4B5L8g9105sHIf\nOx7hmMskBmtXyRa8+7KtDFPUFblMnd8B2YHP6vFpVvXzplh3Xam0eYkTARqvOqLD\n8uBk0NOhkffeS3fo2dbe0zsHkbXuDdqXWF9/+IfYJnO+56Wjyec=\n=GoOj\n-----END PGP SIGNATURE-----",
        "payload": "tree 9869e801d7cafd7b7eecf602bfffede71705ecdc\nparent 5c73645ac79f1d12611051d2e9467a003383ffd9\nauthor Carl Dong <contact@carldong.me> 1583940048 -0400\ncommitter Carl Dong <contact@carldong.me> 1583957791 -0400\n\nguix: Remove now-unnecessary gcc make flag\n\nPreviously, Guix would produce a gcc which did not know to use the SSP\nfunction from glibc, and required a gcc make flag for it to do so, in my\nattempt to fix it upstream I realized that this is no longer the case.\n\nThis can be verified by performing a Guix build and doing\n\n  readelf -s ... | grep __stack_chk\n\nto check that symbols are coming from glibc, and doing\n\n  readelf -d ... | grep NEEDED | grep ssp\n\nto see that libssp.so is not being depended on\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0ae42a16c766a7ecb8711bfad6f22b8581ea0258",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0ae42a16c766a7ecb8711bfad6f22b8581ea0258",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0ae42a16c766a7ecb8711bfad6f22b8581ea0258/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5c73645ac79f1d12611051d2e9467a003383ffd9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c73645ac79f1d12611051d2e9467a003383ffd9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5c73645ac79f1d12611051d2e9467a003383ffd9"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 1,
      "deletions": 13
    },
    "files": [
      {
        "sha": "c25ac2977b19d3197b61759de0b5cf34094e734c",
        "filename": "contrib/guix/manifest.scm",
        "status": "modified",
        "additions": 1,
        "deletions": 13,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0ae42a16c766a7ecb8711bfad6f22b8581ea0258/contrib/guix/manifest.scm",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0ae42a16c766a7ecb8711bfad6f22b8581ea0258/contrib/guix/manifest.scm",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/manifest.scm?ref=0ae42a16c766a7ecb8711bfad6f22b8581ea0258",
        "patch": "@@ -21,17 +21,6 @@\n              (guix profiles)\n              (guix utils))\n \n-(define (make-ssp-fixed-gcc xgcc)\n-  \"Given a XGCC package, return a modified package that uses the SSP function\n-from glibc instead of from libssp.so. Taken from:\n-http://www.linuxfromscratch.org/hlfs/view/development/chapter05/gcc-pass1.html\"\n-  (package\n-   (inherit xgcc)\n-   (arguments\n-    (substitute-keyword-arguments (package-arguments xgcc)\n-      ((#:make-flags flags)\n-       `(cons \"gcc_cv_libc_provides_ssp=yes\" ,flags))))))\n-\n (define (make-gcc-rpath-link xgcc)\n   \"Given a XGCC package, return a modified package that replace each instance of\n -rpath in the default system spec that's inserted by Guix with -rpath-link\"\n@@ -104,8 +93,7 @@ chain for \" target \" development.\"))\n                                   (base-gcc-for-libc gcc-5)\n                                   (base-kernel-headers linux-libre-headers-4.19)\n                                   (base-libc glibc-2.27)\n-                                  (base-gcc (make-gcc-rpath-link\n-                                             (make-ssp-fixed-gcc gcc-9))))\n+                                  (base-gcc (make-gcc-rpath-link gcc-9)))\n   \"Convenience wrapper around MAKE-CROSS-TOOLCHAIN with default values\n desirable for building Bitcoin Core release binaries.\"\n   (make-cross-toolchain target"
      }
    ]
  }
]