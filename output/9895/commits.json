[
  {
    "sha": "1d1ea9f0962a331c21a3029a0302e5906a396f56",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxZDFlYTlmMDk2MmEzMzFjMjFhMzAyOWEwMzAyZTU5MDZhMzk2ZjU2",
    "commit": {
      "author": {
        "name": "Marko Bencun",
        "email": "marko.bencun@monetas.net",
        "date": "2017-02-22T09:10:00Z"
      },
      "committer": {
        "name": "Marko Bencun",
        "email": "marko.bencun@monetas.net",
        "date": "2017-06-13T22:04:13Z"
      },
      "message": "Turn TryCreateDirectory() into TryCreateDirectories()\n\nUse case: TryCreateDirectory(GetDataDir() / \"blocks\" / \"index\") would\nfail if the blocks directory was not explicitly created before.\n\nThe line that did so was in a weird location and could be removed as a\nresult.",
      "tree": {
        "sha": "0d4f9a7b2ff1d68ad35fa42cf05f05fff0ae6b51",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0d4f9a7b2ff1d68ad35fa42cf05f05fff0ae6b51"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1d1ea9f0962a331c21a3029a0302e5906a396f56",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1d1ea9f0962a331c21a3029a0302e5906a396f56",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1d1ea9f0962a331c21a3029a0302e5906a396f56",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1d1ea9f0962a331c21a3029a0302e5906a396f56/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "a4ca0b042365061020627a8c045cddacea3312ec",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a4ca0b042365061020627a8c045cddacea3312ec",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a4ca0b042365061020627a8c045cddacea3312ec"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 8,
      "deletions": 10
    },
    "files": [
      {
        "sha": "4ad8a2c1acabd381296d8d28b0b16658dfb5eedf",
        "filename": "src/dbwrapper.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/dbwrapper.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/dbwrapper.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/dbwrapper.cpp?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -108,7 +108,7 @@ CDBWrapper::CDBWrapper(const fs::path& path, size_t nCacheSize, bool fMemory, bo\n             leveldb::Status result = leveldb::DestroyDB(path.string(), options);\n             dbwrapper_private::HandleError(result);\n         }\n-        TryCreateDirectory(path);\n+        TryCreateDirectories(path);\n         LogPrintf(\"Opening LevelDB in %s\\n\", path.string());\n     }\n     leveldb::Status status = leveldb::DB::Open(options, path.string(), &pdb);"
      },
      {
        "sha": "4fcdd48d9a6dcbff0744666f622714d9f0926b14",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -1410,8 +1410,6 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     fReindex = GetBoolArg(\"-reindex\", false);\n     bool fReindexChainState = GetBoolArg(\"-reindex-chainstate\", false);\n \n-    fs::create_directories(GetDataDir() / \"blocks\");\n-\n     // cache size calculations\n     int64_t nTotalCache = (GetArg(\"-dbcache\", nDefaultDbCache) << 20);\n     nTotalCache = std::max(nTotalCache, nMinDbCache << 20); // total cache cannot be less than nMinDbCache"
      },
      {
        "sha": "1e0d472b6a95c4aea1acda96427b415ce370479c",
        "filename": "src/qt/intro.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/qt/intro.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/qt/intro.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/intro.cpp?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -214,7 +214,7 @@ bool Intro::pickDataDirectory()\n             }\n             dataDir = intro.getDataDirectory();\n             try {\n-                TryCreateDirectory(GUIUtil::qstringToBoostPath(dataDir));\n+                TryCreateDirectories(GUIUtil::qstringToBoostPath(dataDir));\n                 break;\n             } catch (const fs::filesystem_error&) {\n                 QMessageBox::critical(0, tr(PACKAGE_NAME),"
      },
      {
        "sha": "1ad4fa262cec7bda82727c764b8624445bba2943",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -653,21 +653,21 @@ bool RenameOver(fs::path src, fs::path dest)\n }\n \n /**\n- * Ignores exceptions thrown by Boost's create_directory if the requested directory exists.\n+ * Ignores exceptions thrown by Boost's create_directories if the requested directory exists.\n  * Specifically handles case where path p exists, but it wasn't possible for the user to\n  * write to the parent directory.\n  */\n-bool TryCreateDirectory(const fs::path& p)\n+bool TryCreateDirectories(const fs::path& p)\n {\n     try\n     {\n-        return fs::create_directory(p);\n+        return fs::create_directories(p);\n     } catch (const fs::filesystem_error&) {\n         if (!fs::exists(p) || !fs::is_directory(p))\n             throw;\n     }\n \n-    // create_directory didn't create the directory, it had to have existed already\n+    // create_directories didn't create the directory, it had to have existed already\n     return false;\n }\n "
      },
      {
        "sha": "18a238554b8154018010c3c0bdf2b45fb06b2dad",
        "filename": "src/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.h?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -153,7 +153,7 @@ bool TruncateFile(FILE *file, unsigned int length);\n int RaiseFileDescriptorLimit(int nMinFD);\n void AllocateFileRange(FILE *file, unsigned int offset, unsigned int length);\n bool RenameOver(fs::path src, fs::path dest);\n-bool TryCreateDirectory(const fs::path& p);\n+bool TryCreateDirectories(const fs::path& p);\n fs::path GetDefaultDataDir();\n const fs::path &GetDataDir(bool fNetSpecific = true);\n void ClearDatadirCache();"
      },
      {
        "sha": "4573be8b238e752018edd5fd043235378fea6cb9",
        "filename": "src/wallet/db.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/wallet/db.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1d1ea9f0962a331c21a3029a0302e5906a396f56/src/wallet/db.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/db.cpp?ref=1d1ea9f0962a331c21a3029a0302e5906a396f56",
        "patch": "@@ -75,7 +75,7 @@ bool CDBEnv::Open(const fs::path& pathIn)\n \n     strPath = pathIn.string();\n     fs::path pathLogDir = pathIn / \"database\";\n-    TryCreateDirectory(pathLogDir);\n+    TryCreateDirectories(pathLogDir);\n     fs::path pathErrorFile = pathIn / \"db.log\";\n     LogPrintf(\"CDBEnv::Open: LogDir=%s ErrorFile=%s\\n\", pathLogDir.string(), pathErrorFile.string());\n "
      }
    ]
  }
]