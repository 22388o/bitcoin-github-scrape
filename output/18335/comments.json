[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/598333058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-598333058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 598333058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODMzMzA1OA==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T17:49:36Z",
    "updated_at": "2020-03-12T17:49:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "\r\nTo reproduce the problem, start the client: `bitcoind -rpcworkqueue=1`. This reduces the maximum number of in-progress RPCs from 16 ([`DEFAULT_HTTP_WORKQUEUE`](https://github.com/bitcoin/bitcoin/blob/e2d36639ca87b980b147047e4e47cf160b2c9406/src/httpserver.h#L12)) to 1. Then run:\r\n```\r\nseq 10 | while read i;do src/bitcoin-cli getblockhash 0 >/dev/null&done\r\n```\r\nThis submits this trivial RPC 10 time in the background (the `&` character) and usually produces one or more of the `error: couldn't parse reply from server` errors. If it doesn't, try again, or increase the load to more than 10. You will see a reasonable error message in `debug.log`:\r\n```\r\n2020-03-12T17:32:28Z WARNING: request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\r\n```\r\nBut most users wouldn't think to look there, or wouldn't have access.\r\n\r\nWith this PR, the error is more understandable. The failed request in this case is retryable, so maybe that should be indicated in the text, but this [text (`Work queue depth exceeded`) comes from `bitcoind`](https://github.com/bitcoin/bitcoin/blob/e2d36639ca87b980b147047e4e47cf160b2c9406/src/httpserver.cpp#L271), which probably shouldn't be changed, especially since there could be other RPC clients that depend on that exact text. We could have `bitcoin-cli` include additional text like `please try again` but it doesn't really know for certain in every case that the request is retryable.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/598333058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/598468960",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-598468960",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 598468960,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODQ2ODk2MA==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T22:59:40Z",
    "updated_at": "2020-03-12T22:59:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "The second commit undoes the first, and fixes the problem in the server by having it return JSON in the body of the response:\r\n```\r\nerror code: -32603\r\nerror message:\r\nWork queue depth exceeded\r\n```\r\n([Here's](https://github.com/bitcoin/bitcoin/blob/master/src/rpc/protocol.h#L35) where that error code, `RPC_INTERNAL_ERROR` is defined.) It makes sense that this is similar to:\r\n```\r\n$ src/bitcoin-cli not-a-valid-rpc\r\nerror code: -32601\r\nerror message:\r\nMethod not found\r\n$ \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/598468960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600303495",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-600303495",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 600303495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDMwMzQ5NQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T21:11:28Z",
    "updated_at": "2020-03-17T21:11:28Z",
    "author_association": "MEMBER",
    "body": "Ok, looks like his is actually non-trivial.\r\n\r\n> HTTP_INTERNAL_SERVER_ERROR\r\n\r\n```\r\n$2 = {\r\n  status = 500, \r\n  error = -1, \r\n  body = \"Work queue depth exceeded\"\r\n}\r\n```\r\n\r\nSo in this case, possibly you could detect this error code in bitcoin-cli, and print an error message instead of trying to parse as JSON. Or are there cases in which it returns 500 but the response needs to be parsed as JSON?\r\n\r\nI must admit we're sometimes inconsistent about whether to report errors at the HTTP layer or the JSON-RPC, so it's very possible that your solution of changing the server to return a JSON error is the most consistent one!\r\n\r\n(I'm not personally very worried about clients depending on a specific exact error message text, though we might want to mention it briefly in the release notes)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600303495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605021293",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-605021293",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 605021293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTAyMTI5Mw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-27T14:10:24Z",
    "updated_at": "2020-03-27T14:10:24Z",
    "author_association": "MEMBER",
    "body": "> I must admit we're sometimes inconsistent about whether to report errors at the HTTP layer or the JSON-RPC\r\n\r\nI checked this and yes, we do return JSON errors with `HTTP_INTERNAL_SERVER_ERROR`:\r\n```c++\r\nstatic void JSONErrorReply(HTTPRequest* req, const UniValue& objError, const UniValue& id)\r\n{\r\n    // Send error reply from json-rpc error object\r\n    int nStatus = HTTP_INTERNAL_SERVER_ERROR;\r\n    int code = find_value(objError, \"code\").get_int();\r\n\r\n    if (code == RPC_INVALID_REQUEST)\r\n        nStatus = HTTP_BAD_REQUEST;\r\n    else if (code == RPC_METHOD_NOT_FOUND)\r\n        nStatus = HTTP_NOT_FOUND;\r\n\r\n    std::string strReply = JSONRPCReply(NullUniValue, objError, id);\r\n\r\n    req->WriteHeader(\"Content-Type\", \"application/json\");\r\n    req->WriteReply(nStatus, strReply);\r\n}\r\n```\r\n\r\nSo we have no way to distinguish \"parse this as JSON?\" based on just the status code.\r\n\r\nI think the current change of changing the server to always return JSON errors is OK. I think it's slightly more elegant than doing \"try to parse as JSON and print the raw text otherwise\" in the client. But I don't have a strong opinion.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/605021293/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609079188",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-609079188",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 609079188,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTA3OTE4OA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-04T19:39:54Z",
    "updated_at": "2020-04-04T19:39:54Z",
    "author_association": "MEMBER",
    "body": "@LarryRuane \r\nJust was noted about this PR by GH :)\r\n\r\nIf you find [this](https://github.com/bitcoin/bitcoin/pull/18523) approach simpler you may grab it :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609079188/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609081878",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-609081878",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 609081878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTA4MTg3OA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-04T20:02:09Z",
    "updated_at": "2020-04-05T02:09:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609081878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609082190",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-609082190",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 609082190,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTA4MjE5MA==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-04T20:04:46Z",
    "updated_at": "2020-04-04T20:04:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "@hebasto \r\n> If you find [this](https://github.com/bitcoin/bitcoin/pull/18523) approach simpler you may grab it :)\r\n\r\nYes, your solution is much better, thank you! I tested your fix, and cherry-picked your commit to this PR (and force-push-removed my 3 commits).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/609082190/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657273777",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-657273777",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 657273777,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzI3Mzc3Nw==",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?u=7965845672d27f915c0cbf6a4912ef63a012efb1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-12T20:54:58Z",
    "updated_at": "2020-07-12T20:54:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebase (refresh)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/657273777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660218280",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-660218280",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 660218280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MDIxODI4MA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-17T16:48:56Z",
    "updated_at": "2020-07-17T16:48:56Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. Could you please add functional tests for this in one of the `test/functional/interface*` files? Say, `interface_bitcoin_cli.py` (which has a lot of error response testing) or `interface_rpc.py` (which has a batch request test).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/660218280/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/662440705",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-662440705",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 662440705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjQ0MDcwNQ==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T13:04:46Z",
    "updated_at": "2020-07-22T13:04:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nCode looks good at a glance but the test fails on Travis, so I will come back for a more in-depth review when that is fixed :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/662440705/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663365981",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-663365981",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 663365981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzM2NTk4MQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-24T06:20:51Z",
    "updated_at": "2020-07-24T06:20:51Z",
    "author_association": "MEMBER",
    "body": "Thanks @LarryRuane for removing the global and the update. The tests appear to be timing out, though it's unclear.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/663365981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668744802",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-668744802",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 668744802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODc0NDgwMg==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T18:05:37Z",
    "updated_at": "2020-08-04T18:05:37Z",
    "author_association": "MEMBER",
    "body": "Travis failure seems related to #19654.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/668744802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669146009",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-669146009",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 669146009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTE0NjAwOQ==",
    "user": {
      "login": "fjahr",
      "id": 1322187,
      "node_id": "MDQ6VXNlcjEzMjIxODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1322187?u=348c27f90b6fff8fd72fa27232272651436a2ff0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjahr",
      "html_url": "https://github.com/fjahr",
      "followers_url": "https://api.github.com/users/fjahr/followers",
      "following_url": "https://api.github.com/users/fjahr/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjahr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjahr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjahr/subscriptions",
      "organizations_url": "https://api.github.com/users/fjahr/orgs",
      "repos_url": "https://api.github.com/users/fjahr/repos",
      "events_url": "https://api.github.com/users/fjahr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjahr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-05T11:44:35Z",
    "updated_at": "2020-08-05T11:44:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "tACK 8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a\r\n\r\nConfirmed that the test fails without the fix. Ran test multiple times and seemed stable.\r\n\r\nmini-nit if you have to retouch: The commit message of the test commit is too general for our usual conventions.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/669146009/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678612289",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-678612289",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 678612289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3ODYxMjI4OQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-22T08:17:33Z",
    "updated_at": "2020-08-22T08:17:33Z",
    "author_association": "MEMBER",
    "body": "@luke-jr as you've incorporated this PR into Bitcoin Knots, mind refreshing [your previous ACK](https://github.com/bitcoin/bitcoin/pull/18335#pullrequestreview-405472454) to get things done?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/678612289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707786387",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#issuecomment-707786387",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18335",
    "id": 707786387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNzc4NjM4Nw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-13T14:41:23Z",
    "updated_at": "2020-10-13T14:41:23Z",
    "author_association": "MEMBER",
    "body": "utACK 8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a (no changes since previous utACK)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/707786387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391823420",
    "pull_request_review_id": 373815557,
    "id": 391823420,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgyMzQyMA==",
    "diff_hunk": "@@ -404,7 +404,7 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n     // Parse reply\n     UniValue valReply(UniValue::VSTR);\n     if (!valReply.read(response.body))\n-        throw std::runtime_error(\"couldn't parse reply from server\");\n+        throw std::runtime_error(strprintf(\"server response: %s\", response.body));",
    "path": "src/bitcoin-cli.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "86af4967412ca79fc22d0fa0868069bb438463ed",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it's strange that it ends up here. It's trying to parse an error message as JSON! Isn't there some error code (either HTTP or JSON-RPC) that could be checked for instead? If not, that seems like a bug in the server.",
    "created_at": "2020-03-12T18:47:52Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r391823420",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391823420"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r391823420"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391823420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 407,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391928978",
    "pull_request_review_id": 373930335,
    "id": 391928978,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkyODk3OA==",
    "diff_hunk": "@@ -404,7 +404,7 @@ static UniValue CallRPC(BaseRequestHandler *rh, const std::string& strMethod, co\n     // Parse reply\n     UniValue valReply(UniValue::VSTR);\n     if (!valReply.read(response.body))\n-        throw std::runtime_error(\"couldn't parse reply from server\");\n+        throw std::runtime_error(strprintf(\"server response: %s\", response.body));",
    "path": "src/bitcoin-cli.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "86af4967412ca79fc22d0fa0868069bb438463ed",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It does seem wrong that my proposed fix retains the practice of trying to decode a non-JSON string as JSON, and depending on that to fail. Yes, perhaps this is a bug in the server -- should it be returning JSON in `body` here rather than a plain string?  But as I said at the end of the comment above, I was hesitant to change the server because I'm worried that there may be other RPC clients besides `bitcoin-cli` that depend on the current (plain string) response. What do you think? If the fix is better in the server, I can do that. \r\n\r\nJust for further information, the response returned in this work queue depth exceeded is (status 500 is [`HTTP_INTERNAL_SERVER_ERROR`](https://github.com/bitcoin/bitcoin/blob/master/src/rpc/protocol.h#L18)):\r\n```\r\n(gdb) f 0\r\nBreakpoint 1, CallRPC (rh=0x555555845e90, strMethod=\"getblockhash\", args=std::vector of length 1, capacity 2 = {...})\r\n    at bitcoin-cli.cpp:406\r\n406\t    if (!valReply.read(response.body))\r\n(gdb) p response\r\n$2 = {\r\n  status = 500, \r\n  error = -1, \r\n  body = \"Work queue depth exceeded\"\r\n}\r\n(gdb) \r\n```\r\nHere's a successful reply:\r\n```\r\n(gdb) p response\r\n$6 = {\r\n  status = 200, \r\n  error = -1, \r\n  body = \"{\\\"result\\\":\\\"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f\\\",\\\"error\\\":null,\\\"id\\\":1}\\n\"\r\n}\r\n```\r\nHere's the response when requesting a nonsense method:\r\n```\r\n(gdb) p response\r\n$2 = {\r\n  status = 404, \r\n  error = -1, \r\n  body = \"{\\\"result\\\":null,\\\"error\\\":{\\\"code\\\":-32601,\\\"message\\\":\\\"Method not found\\\"},\\\"id\\\":1}\\n\"\r\n}\r\n```\r\nAs part of this PR, I could also systematically search for and fix any other places where `body` is returned as plain string (not JSON); so far I see only one:\r\n```\r\nreq->WriteReply(HTTP_BAD_METHOD, \"JSONRPC server handles only POST requests\")\r\n```",
    "created_at": "2020-03-12T21:59:00Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r391928978",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391928978"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r391928978"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/391928978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 407,
    "side": "RIGHT",
    "in_reply_to_id": 391823420
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458206976",
    "pull_request_review_id": 452600793,
    "id": 458206976,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIwNjk3Ng==",
    "diff_hunk": "@@ -18,6 +20,20 @@ def expect_http_status(expected_http_status, expected_rpc_code,\n         assert_equal(exc.error[\"code\"], expected_rpc_code)\n         assert_equal(exc.http_status, expected_http_status)\n \n+got_exceeded_error = False\n+def test_work_queue_getblock(node):\n+    global got_exceeded_error\n+    for _ in range(400):\n+        if got_exceeded_error:\n+            break\n+        try:\n+            node.cli('getrpcinfo').send_cli()\n+        except subprocess.CalledProcessError as e:\n+            if e.output != 'error: Server response: Work queue depth exceeded\\n':\n+                raise AssertionError(\"Unexpected cli error: :{}:\".format(e.output))\n+            got_exceeded_error = True\n+            break",
    "path": "test/functional/interface_rpc.py",
    "position": null,
    "original_position": 25,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "c067589b7a69db0fd7809cf56cdf521308215050",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This 400 is, of course, arbitrary, as is the number of threads this test starts (5, see below). These numbers are the result of simple trial-and-error. We want each thread to do enough work that it's still running by the time all 5 threads are started. Still, the test only takes about 1.3 seconds to run on my system. Increasing the number of threads allows the iteration count here to be reduced, but I don't want to start too many threads, because each one probably uses a nontrivial amount of resources and I don't want to overburden the CI workers.",
    "created_at": "2020-07-21T15:55:00Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r458206976",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458206976"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r458206976"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458206976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 26,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458898567",
    "pull_request_review_id": 453455572,
    "id": 458898567,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5ODU2Nw==",
    "diff_hunk": "@@ -67,10 +80,23 @@ def test_http_status_codes(self):\n         expect_http_status(404, -32601, self.nodes[0].invalidmethod)\n         expect_http_status(500, -8, self.nodes[0].getblockhash, 42)\n \n+    def test_work_queue_exceeded(self):\n+        self.log.info(\"Test work queue exceeded\")\n+        self.restart_node(0, ['-rpcworkqueue=1'])\n+        got_exceeded_error = []",
    "path": "test/functional/interface_rpc.py",
    "position": 34,
    "original_position": 34,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "db0d4605b9e57230a02f8b620f93e5e4d191972c",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a list, rather than just a boolean, because a list is a mutable object, and this eliminates the need for the global variable, which seems cleaner. Is it worth a comment explaining that? I tend to think not.",
    "created_at": "2020-07-22T15:54:19Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r458898567",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458898567"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r458898567"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458898567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 86,
    "original_line": 86,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464900754",
    "pull_request_review_id": 460621350,
    "id": 464900754,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkwMDc1NA==",
    "diff_hunk": "@@ -67,10 +80,23 @@ def test_http_status_codes(self):\n         expect_http_status(404, -32601, self.nodes[0].invalidmethod)\n         expect_http_status(500, -8, self.nodes[0].getblockhash, 42)\n \n+    def test_work_queue_exceeded(self):\n+        self.log.info(\"Test work queue exceeded\")\n+        self.restart_node(0, ['-rpcworkqueue=1'])",
    "path": "test/functional/interface_rpc.py",
    "position": null,
    "original_position": 33,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "db0d4605b9e57230a02f8b620f93e5e4d191972c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This would make CI testing more reliable:\r\n```suggestion\r\n        self.restart_node(0, [\"-rpcworkqueue=1\", \"-rpcthreads=1\"])\r\n```",
    "created_at": "2020-08-04T08:51:50Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r464900754",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464900754"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r464900754"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464900754/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 85,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464901576",
    "pull_request_review_id": 460621350,
    "id": 464901576,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkwMTU3Ng==",
    "diff_hunk": "@@ -67,10 +80,23 @@ def test_http_status_codes(self):\n         expect_http_status(404, -32601, self.nodes[0].invalidmethod)\n         expect_http_status(500, -8, self.nodes[0].getblockhash, 42)\n \n+    def test_work_queue_exceeded(self):\n+        self.log.info(\"Test work queue exceeded\")",
    "path": "test/functional/interface_rpc.py",
    "position": null,
    "original_position": 32,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "db0d4605b9e57230a02f8b620f93e5e4d191972c",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Mind rewording to make it consistent with other log messages\r\n```suggestion\r\n        self.log.info(\"Testing work queue exceeded...\")\r\n```",
    "created_at": "2020-08-04T08:53:18Z",
    "updated_at": "2020-08-04T17:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r464901576",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464901576"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r464901576"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/464901576/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 84,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/465212726",
    "pull_request_review_id": 461022080,
    "id": 465212726,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIxMjcyNg==",
    "diff_hunk": "@@ -67,10 +80,23 @@ def test_http_status_codes(self):\n         expect_http_status(404, -32601, self.nodes[0].invalidmethod)\n         expect_http_status(500, -8, self.nodes[0].getblockhash, 42)\n \n+    def test_work_queue_exceeded(self):\n+        self.log.info(\"Test work queue exceeded\")",
    "path": "test/functional/interface_rpc.py",
    "position": null,
    "original_position": 32,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "db0d4605b9e57230a02f8b620f93e5e4d191972c",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Force-pushed to implement review suggestions.",
    "created_at": "2020-08-04T17:28:16Z",
    "updated_at": "2021-03-20T02:13:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r465212726",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/465212726"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r465212726"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/465212726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 84,
    "side": "RIGHT",
    "in_reply_to_id": 464901576
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498421",
    "pull_request_review_id": 521140599,
    "id": 515498421,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQ5ODQyMQ==",
    "diff_hunk": "@@ -18,6 +21,16 @@ def expect_http_status(expected_http_status, expected_rpc_code,\n         assert_equal(exc.error[\"code\"], expected_rpc_code)\n         assert_equal(exc.http_status, expected_http_status)\n \n+\n+def test_work_queue_getblock(node, got_exceeded_error):",
    "path": "test/functional/interface_rpc.py",
    "position": 15,
    "original_position": 15,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "user": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: this is called `queue_getblock` but queues a `getrpcinfo` ? Maybe `queue_rpc_call`",
    "created_at": "2020-10-31T13:42:02Z",
    "updated_at": "2020-10-31T13:48:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r515498421",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498421"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r515498421"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 25,
    "original_line": 25,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498782",
    "pull_request_review_id": 521140599,
    "id": 515498782,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQ5ODc4Mg==",
    "diff_hunk": "@@ -67,10 +80,23 @@ def test_http_status_codes(self):\n         expect_http_status(404, -32601, self.nodes[0].invalidmethod)\n         expect_http_status(500, -8, self.nodes[0].getblockhash, 42)\n \n+    def test_work_queue_exceeded(self):\n+        self.log.info(\"Test work queue exceeded\")\n+        self.restart_node(0, ['-rpcworkqueue=1'])\n+        got_exceeded_error = []",
    "path": "test/functional/interface_rpc.py",
    "position": 34,
    "original_position": 34,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "db0d4605b9e57230a02f8b620f93e5e4d191972c",
    "user": {
      "login": "darosior",
      "id": 22457751,
      "node_id": "MDQ6VXNlcjIyNDU3NzUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/22457751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/darosior",
      "html_url": "https://github.com/darosior",
      "followers_url": "https://api.github.com/users/darosior/followers",
      "following_url": "https://api.github.com/users/darosior/following{/other_user}",
      "gists_url": "https://api.github.com/users/darosior/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/darosior/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/darosior/subscriptions",
      "organizations_url": "https://api.github.com/users/darosior/orgs",
      "repos_url": "https://api.github.com/users/darosior/repos",
      "events_url": "https://api.github.com/users/darosior/events{/privacy}",
      "received_events_url": "https://api.github.com/users/darosior/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit:\r\n> Is it worth a comment explaining that? I tend to think not.\r\n\r\nI don't think so, but it's a bit awkward for the list to be named like a boolean, maybe `exceeded_errors` if you have to retouch ?",
    "created_at": "2020-10-31T13:45:37Z",
    "updated_at": "2020-10-31T13:48:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r515498782",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498782"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r515498782"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/515498782/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 86,
    "original_line": 86,
    "side": "RIGHT",
    "in_reply_to_id": 458898567
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597910094",
    "pull_request_review_id": 616710053,
    "id": 597910094,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzkxMDA5NA==",
    "diff_hunk": "@@ -269,7 +269,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n             item.release(); /* if true, queue took ownership */\n         else {\n             LogPrintf(\"WARNING: request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\\n\");\n-            item->req->WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Work queue depth exceeded\");\n+            item->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Does this need release notes to explain the changed http status code? Just in case a user relies on this?\r\n\r\nJust asking, you don't have to invalidate review. Release note can be added after merge.",
    "created_at": "2021-03-19T18:57:14Z",
    "updated_at": "2021-03-19T18:57:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597910094",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597910094"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597910094"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597910094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 272,
    "original_line": 272,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597919427",
    "pull_request_review_id": 616722281,
    "id": 597919427,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzkxOTQyNw==",
    "diff_hunk": "@@ -269,7 +269,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n             item.release(); /* if true, queue took ownership */\n         else {\n             LogPrintf(\"WARNING: request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\\n\");\n-            item->req->WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Work queue depth exceeded\");\n+            item->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "user": {
      "login": "LarryRuane",
      "id": 8321330,
      "node_id": "MDQ6VXNlcjgzMjEzMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8321330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LarryRuane",
      "html_url": "https://github.com/LarryRuane",
      "followers_url": "https://api.github.com/users/LarryRuane/followers",
      "following_url": "https://api.github.com/users/LarryRuane/following{/other_user}",
      "gists_url": "https://api.github.com/users/LarryRuane/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LarryRuane/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LarryRuane/subscriptions",
      "organizations_url": "https://api.github.com/users/LarryRuane/orgs",
      "repos_url": "https://api.github.com/users/LarryRuane/repos",
      "events_url": "https://api.github.com/users/LarryRuane/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LarryRuane/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, I think you're right, I'll do it separately, thanks.",
    "created_at": "2021-03-19T19:15:03Z",
    "updated_at": "2021-03-19T19:15:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597919427",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597919427"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597919427"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597919427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 272,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 597910094
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597939754",
    "pull_request_review_id": 616747907,
    "id": 597939754,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5NzkzOTc1NA==",
    "diff_hunk": "@@ -269,7 +269,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n             item.release(); /* if true, queue took ownership */\n         else {\n             LogPrintf(\"WARNING: request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\\n\");\n-            item->req->WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Work queue depth exceeded\");\n+            item->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You can add them directly to `doc/release-notes.md` on the `master` branch",
    "created_at": "2021-03-19T19:54:05Z",
    "updated_at": "2021-03-19T19:54:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597939754",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597939754"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597939754"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597939754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 272,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 597910094
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597942172",
    "pull_request_review_id": 616751092,
    "id": 597942172,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5Nzk0MjE3Mg==",
    "diff_hunk": "@@ -269,7 +269,7 @@ static void http_request_cb(struct evhttp_request* req, void* arg)\n             item.release(); /* if true, queue took ownership */\n         else {\n             LogPrintf(\"WARNING: request rejected because http work queue depth exceeded, it can be increased with the -rpcworkqueue= setting\\n\");\n-            item->req->WriteReply(HTTP_INTERNAL_SERVER_ERROR, \"Work queue depth exceeded\");\n+            item->req->WriteReply(HTTP_SERVICE_UNAVAILABLE, \"Work queue depth exceeded\");",
    "path": "src/httpserver.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "original_commit_id": "8dd5946c0b7aa8f3976b14a5de4ce84b80a9c32a",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe add a \"needs release note\" label.",
    "created_at": "2021-03-19T19:58:40Z",
    "updated_at": "2021-03-19T19:58:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597942172",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597942172"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18335#discussion_r597942172"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18335"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/597942172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 272,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 597910094
  }
]