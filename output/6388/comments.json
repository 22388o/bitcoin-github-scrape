[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119274621",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#issuecomment-119274621",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6388",
    "id": 119274621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTI3NDYyMQ==",
    "user": {
      "login": "ajweiss",
      "id": 430315,
      "node_id": "MDQ6VXNlcjQzMDMxNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/430315?u=1f49edbe9a1dee0adfa6af5328bef874c9cc4963&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajweiss",
      "html_url": "https://github.com/ajweiss",
      "followers_url": "https://api.github.com/users/ajweiss/followers",
      "following_url": "https://api.github.com/users/ajweiss/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajweiss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajweiss/subscriptions",
      "organizations_url": "https://api.github.com/users/ajweiss/orgs",
      "repos_url": "https://api.github.com/users/ajweiss/repos",
      "events_url": "https://api.github.com/users/ajweiss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajweiss/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-07T17:22:54Z",
    "updated_at": "2015-07-07T17:22:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nice!  Reviewing this...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119274621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119285103",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#issuecomment-119285103",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6388",
    "id": 119285103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTI4NTEwMw==",
    "user": {
      "login": "ajweiss",
      "id": 430315,
      "node_id": "MDQ6VXNlcjQzMDMxNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/430315?u=1f49edbe9a1dee0adfa6af5328bef874c9cc4963&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajweiss",
      "html_url": "https://github.com/ajweiss",
      "followers_url": "https://api.github.com/users/ajweiss/followers",
      "following_url": "https://api.github.com/users/ajweiss/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajweiss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajweiss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajweiss/subscriptions",
      "organizations_url": "https://api.github.com/users/ajweiss/orgs",
      "repos_url": "https://api.github.com/users/ajweiss/repos",
      "events_url": "https://api.github.com/users/ajweiss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajweiss/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-07T18:01:43Z",
    "updated_at": "2015-07-07T18:01:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "I spent some time trying to break this, and was unable to do so.  This grinds off one of bitcoind's most annoying burrs, very nice!  One thing to note is that some of the init scripts in the contrib directory have checks for a set rpcpassword, so when this goes in those should be removed.    \n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119285103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119300165",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#issuecomment-119300165",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6388",
    "id": 119300165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExOTMwMDE2NQ==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-07T18:46:47Z",
    "updated_at": "2015-07-07T18:46:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Nice work!\nTested ACK (nit: doesn't work in regtest atm).\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/119300165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120892721",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#issuecomment-120892721",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/6388",
    "id": 120892721,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDg5MjcyMQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-13T11:12:44Z",
    "updated_at": "2015-07-13T11:12:44Z",
    "author_association": "MEMBER",
    "body": "Rebased against #6398, added generic UI error message before shutting down when writing cookie fails.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/120892721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34038636",
    "pull_request_review_id": null,
    "id": 34038636,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDM4NjM2",
    "diff_hunk": "@@ -287,3 +289,68 @@ UniValue JSONRPCError(int code, const string& message)\n     error.push_back(Pair(\"message\", message));\n     return error;\n }\n+\n+/** Username used when cookie authentication is in use (arbitrary, only for",
    "path": "src/rpcprotocol.cpp",
    "position": 21,
    "original_position": 21,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not convinced that this code actually belongs in `rpcprotocol`, it is here because that file is shared between bitcoin-cli and bitcoind server, but conceptually it exists on a higher level than the protocol. Feel free to suggest a better place.\n",
    "created_at": "2015-07-07T13:29:16Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34038636",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34038636"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34038636"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34038636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 293,
    "original_line": 293,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34055509",
    "pull_request_review_id": null,
    "id": 34055509,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDU1NTA5",
    "diff_hunk": "@@ -97,11 +97,19 @@ static bool AppInitRPC(int argc, char* argv[])\n \n UniValue CallRPC(const string& strMethod, const UniValue& params)\n {\n-    if (mapArgs[\"-rpcuser\"] == \"\" && mapArgs[\"-rpcpassword\"] == \"\")\n-        throw runtime_error(strprintf(\n-            _(\"You must set rpcpassword=<password> in the configuration file:\\n%s\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\"),\n-                GetConfigFile().string().c_str()));\n+    std::string strRPCUserColonPass;\n+    if (mapArgs[\"-rpcpassword\"] == \"\") {\n+        /* Try fall back to cookie-based authentication if no password is provided */\n+        if (!GetAuthCookie(&strRPCUserColonPass)) {\n+            throw runtime_error(strprintf(",
    "path": "src/bitcoin-cli.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This error should be changed. It will be shown if bitcoin-cli is used while bitcoind is not running, so it's confusing to tell the user to just set a password (which will indeed make this message go away, but just enough to get to `connection refused` :-).\n",
    "created_at": "2015-07-07T15:49:01Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34055509",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34055509"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34055509"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34055509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 104,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34074675",
    "pull_request_review_id": null,
    "id": 34074675,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDc0Njc1",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this if needs to be rewritten because at the moment the cookie system does not work in regtest.\n",
    "created_at": "2015-07-07T18:39:55Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34074675",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34074675"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34074675"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34074675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 601,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075046",
    "pull_request_review_id": null,
    "id": 34075046,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDc1MDQ2",
    "diff_hunk": "@@ -287,3 +289,68 @@ UniValue JSONRPCError(int code, const string& message)\n     error.push_back(Pair(\"message\", message));\n     return error;\n }\n+\n+/** Username used when cookie authentication is in use (arbitrary, only for",
    "path": "src/rpcprotocol.cpp",
    "position": 21,
    "original_position": 21,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think `rpcprotocol.h/.cpp` is a good place for this extension. A new `cookieauth.h/cpp` file would be possible but i think is more compact and neatly arranged if it stays in `rpcprotocol.h/cpp`\n",
    "created_at": "2015-07-07T18:42:50Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34075046",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075046"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34075046"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 293,
    "original_line": 293,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075442",
    "pull_request_review_id": null,
    "id": 34075442,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MDc1NDQy",
    "diff_hunk": "@@ -97,11 +97,19 @@ static bool AppInitRPC(int argc, char* argv[])\n \n UniValue CallRPC(const string& strMethod, const UniValue& params)\n {\n-    if (mapArgs[\"-rpcuser\"] == \"\" && mapArgs[\"-rpcpassword\"] == \"\")\n-        throw runtime_error(strprintf(\n-            _(\"You must set rpcpassword=<password> in the configuration file:\\n%s\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\"),\n-                GetConfigFile().string().c_str()));\n+    std::string strRPCUserColonPass;\n+    if (mapArgs[\"-rpcpassword\"] == \"\") {\n+        /* Try fall back to cookie-based authentication if no password is provided */\n+        if (!GetAuthCookie(&strRPCUserColonPass)) {\n+            throw runtime_error(strprintf(",
    "path": "src/bitcoin-cli.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this if block from L100-L112 should go down to L126 (after the connection has been set up).\nIt would make more sense to first check if we can connect to bitcoind, then check if we have some credentials available.\n",
    "created_at": "2015-07-07T18:46:00Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34075442",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075442"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34075442"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34075442/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 104,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139186",
    "pull_request_review_id": null,
    "id": 34139186,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTM5MTg2",
    "diff_hunk": "@@ -97,11 +97,19 @@ static bool AppInitRPC(int argc, char* argv[])\n \n UniValue CallRPC(const string& strMethod, const UniValue& params)\n {\n-    if (mapArgs[\"-rpcuser\"] == \"\" && mapArgs[\"-rpcpassword\"] == \"\")\n-        throw runtime_error(strprintf(\n-            _(\"You must set rpcpassword=<password> in the configuration file:\\n%s\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\"),\n-                GetConfigFile().string().c_str()));\n+    std::string strRPCUserColonPass;\n+    if (mapArgs[\"-rpcpassword\"] == \"\") {\n+        /* Try fall back to cookie-based authentication if no password is provided */\n+        if (!GetAuthCookie(&strRPCUserColonPass)) {\n+            throw runtime_error(strprintf(",
    "path": "src/bitcoin-cli.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agreed. Thought this through a bit and that'd be better.\n_if_ it can connect, and there is no cookie file, this message still makes sense.\n",
    "created_at": "2015-07-08T11:51:07Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139186",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139186"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139186"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139186/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 104,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139635",
    "pull_request_review_id": null,
    "id": 34139635,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTM5NjM1",
    "diff_hunk": "@@ -287,3 +289,68 @@ UniValue JSONRPCError(int code, const string& message)\n     error.push_back(Pair(\"message\", message));\n     return error;\n }\n+\n+/** Username used when cookie authentication is in use (arbitrary, only for",
    "path": "src/rpcprotocol.cpp",
    "position": 21,
    "original_position": 21,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Making a new file pair e.g. `rpcauthcookie` sounds good to me too. But I don't feel strongly about it either. \nThe low-level code from rpcprotocol will be unnecessary with the libevent-based HTTP server (#5677), so this will at least leave something there :)\n",
    "created_at": "2015-07-08T11:58:58Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139635",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139635"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139635"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 293,
    "original_line": 293,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139935",
    "pull_request_review_id": null,
    "id": 34139935,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTM5OTM1",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'd personally love to get rid of `Params().RequireRPCPassword()`, also for consistency reasons. But I think it's unrelated to this pull - on regtest, setting an empty password is currently just allowed, so takes precedence.\n",
    "created_at": "2015-07-08T12:03:31Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139935",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139935"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34139935"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34139935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 601,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34140649",
    "pull_request_review_id": null,
    "id": 34140649,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTQwNjQ5",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm... but the following way don't work.\n\n`jonasschnelli$ ./src/bitcoind --regtest --datadir=/tmp/dummy2 --printtoconsole` (fresh datadir)\n\n```\njonasschnelli$ ./src/bitcoin-cli --regtest --datadir=/tmp/dummy2/ help\nerror: You must set rpcpassword=<password> in the configuration file:\n/tmp/dummy2/bitcoin.conf\nIf the file does not exist, create it with owner-readable-only file permissions.\n```\n",
    "created_at": "2015-07-08T12:14:08Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34140649",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34140649"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34140649"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34140649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 601,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141294",
    "pull_request_review_id": null,
    "id": 34141294,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTQxMjk0",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Right, so bitcoin-cli should mind that flag as well (for now). Thanks.\n",
    "created_at": "2015-07-08T12:24:12Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34141294",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141294"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34141294"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 601,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141534",
    "pull_request_review_id": null,
    "id": 34141534,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MTQxNTM0",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 6,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "492ee66d296067a6ed6f0bcf8809b40018400147",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Bleh, that'd mean moving the flag to BaseParams... \n",
    "created_at": "2015-07-08T12:28:13Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34141534",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141534"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34141534"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34141534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 601,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274418",
    "pull_request_review_id": null,
    "id": 34274418,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjc0NDE4",
    "diff_hunk": "@@ -116,10 +110,24 @@ UniValue CallRPC(const string& strMethod, const UniValue& params)\n     if (!fConnected)\n         throw CConnectionFailed(\"couldn't connect to server\");\n \n+    // Find credentials to use\n+    std::string strRPCUserColonPass;\n+    if (mapArgs[\"-rpcpassword\"] == \"\") {\n+        // Try fall back to cookie-based authentication if no password is provided\n+        if (!GetAuthCookie(&strRPCUserColonPass)) {\n+            throw runtime_error(strprintf(\n+                _(\"You must set rpcpassword=<password> in the configuration file:\\n%s\\n\"",
    "path": "src/bitcoin-cli.cpp",
    "position": 23,
    "original_position": 23,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Mention in this help text that the ability to write to [authfilepath] would also solve the problem? Now it may be confusing as being unable to write a file results in a help text mentioning some unrelated config option.\n",
    "created_at": "2015-07-09T16:32:45Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34274418",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274418"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34274418"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 119,
    "original_line": 119,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274508",
    "pull_request_review_id": null,
    "id": 34274508,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0Mjc0NTA4",
    "diff_hunk": "@@ -287,3 +289,68 @@ UniValue JSONRPCError(int code, const string& message)\n     error.push_back(Pair(\"message\", message));\n     return error;\n }\n+\n+/** Username used when cookie authentication is in use (arbitrary, only for\n+ * recognizability in debugging/logging purposes)\n+ */\n+static const std::string COOKIEAUTH_USER = \"__cookie__\";\n+/** Default name for auth cookie file */\n+static const std::string COOKIEAUTH_FILE = \".cookie\";\n+\n+boost::filesystem::path GetAuthCookieFile()\n+{\n+    boost::filesystem::path path(GetArg(\"-rpccookiefile\", COOKIEAUTH_FILE));\n+    if (!path.is_complete()) path = GetDataDir() / path;\n+    return path;\n+}\n+\n+bool GenerateAuthCookie(std::string *cookie_out)\n+{\n+    unsigned char rand_pwd[32];\n+    GetRandBytes(rand_pwd, 32);\n+    std::string cookie = COOKIEAUTH_USER + \":\" + EncodeBase64(&rand_pwd[0],32);\n+\n+    /** the umask determines what permissions are used to create this file -\n+     * these are set to 077 in init.cpp unless overridden with -sysperms.\n+     */\n+    std::ofstream file;\n+    boost::filesystem::path filepath = GetAuthCookieFile();\n+    file.open(filepath.string().c_str());",
    "path": "src/rpcprotocol.cpp",
    "position": 46,
    "original_position": 46,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No logic to prevent too wide permissions on that file?\n\nEDIT: nevermind, umask\n",
    "created_at": "2015-07-09T16:33:31Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34274508",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274508"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34274508"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34274508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 318,
    "original_line": 318,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34349908",
    "pull_request_review_id": null,
    "id": 34349908,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzQ5OTA4",
    "diff_hunk": "@@ -116,10 +110,24 @@ UniValue CallRPC(const string& strMethod, const UniValue& params)\n     if (!fConnected)\n         throw CConnectionFailed(\"couldn't connect to server\");\n \n+    // Find credentials to use\n+    std::string strRPCUserColonPass;\n+    if (mapArgs[\"-rpcpassword\"] == \"\") {\n+        // Try fall back to cookie-based authentication if no password is provided\n+        if (!GetAuthCookie(&strRPCUserColonPass)) {\n+            throw runtime_error(strprintf(\n+                _(\"You must set rpcpassword=<password> in the configuration file:\\n%s\\n\"",
    "path": "src/bitcoin-cli.cpp",
    "position": 23,
    "original_position": 23,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This message triggers if it is unable to _read_ from the file, e.g. if it doesn't exist, but is somehow able to connect. This is a very strange situation, but it won't be solved by ability to write anywhere.\n\n(bitcoind won't even start if no rpcpassword is set but it is unable to write the cookie file)\n",
    "created_at": "2015-07-10T12:25:12Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34349908",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34349908"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34349908"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34349908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 119,
    "original_line": 119,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34350102",
    "pull_request_review_id": null,
    "id": 34350102,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0MzUwMTAy",
    "diff_hunk": "@@ -287,3 +289,68 @@ UniValue JSONRPCError(int code, const string& message)\n     error.push_back(Pair(\"message\", message));\n     return error;\n }\n+\n+/** Username used when cookie authentication is in use (arbitrary, only for\n+ * recognizability in debugging/logging purposes)\n+ */\n+static const std::string COOKIEAUTH_USER = \"__cookie__\";\n+/** Default name for auth cookie file */\n+static const std::string COOKIEAUTH_FILE = \".cookie\";\n+\n+boost::filesystem::path GetAuthCookieFile()\n+{\n+    boost::filesystem::path path(GetArg(\"-rpccookiefile\", COOKIEAUTH_FILE));\n+    if (!path.is_complete()) path = GetDataDir() / path;\n+    return path;\n+}\n+\n+bool GenerateAuthCookie(std::string *cookie_out)\n+{\n+    unsigned char rand_pwd[32];\n+    GetRandBytes(rand_pwd, 32);\n+    std::string cookie = COOKIEAUTH_USER + \":\" + EncodeBase64(&rand_pwd[0],32);\n+\n+    /** the umask determines what permissions are used to create this file -\n+     * these are set to 077 in init.cpp unless overridden with -sysperms.\n+     */\n+    std::ofstream file;\n+    boost::filesystem::path filepath = GetAuthCookieFile();\n+    file.open(filepath.string().c_str());",
    "path": "src/rpcprotocol.cpp",
    "position": 46,
    "original_position": 46,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Right: even for the wallet permissions we rely on the umask.\n",
    "created_at": "2015-07-10T12:28:35Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34350102",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34350102"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34350102"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34350102/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 318,
    "original_line": 318,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34432914",
    "pull_request_review_id": null,
    "id": 34432914,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDMyOTE0",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())\n     {\n-        unsigned char rand_pwd[32];\n-        GetRandBytes(rand_pwd, 32);\n-        uiInterface.ThreadSafeMessageBox(strprintf(\n-            _(\"To use bitcoind, or the -server option to bitcoin-qt, you must set an rpcpassword in the configuration file:\\n\"\n-              \"%s\\n\"\n-              \"It is recommended you use the following random password:\\n\"\n-              \"rpcuser=bitcoinrpc\\n\"\n-              \"rpcpassword=%s\\n\"\n-              \"(you do not need to remember this password)\\n\"\n-              \"The username and password MUST NOT be the same.\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\\n\"\n-              \"It is also recommended to set alertnotify so you are notified of problems;\\n\"\n-              \"for example: alertnotify=echo %%s | mail -s \\\"Bitcoin Alert\\\" admin@foo.com\\n\"),\n-                GetConfigFile().string(),\n-                EncodeBase58(&rand_pwd[0],&rand_pwd[0]+32)),\n-                \"\", CClientUIInterface::MSG_ERROR | CClientUIInterface::SECURE);\n-        StartShutdown();\n-        return;\n+        LogPrintf(\"No rpcpassword set - using random cookie authentication\\n\");\n+        if (!GenerateAuthCookie(&strRPCUserColonPass)) {\n+            StartShutdown();",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": null,
    "body": "Would it make sense to move the rpcpassword warning into here, instead of removing it entirely? This would give the user warning if GenerateAuthCookie() fails to write to disk for example.\n",
    "created_at": "2015-07-13T04:35:06Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34432914",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34432914"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34432914"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34432914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 605,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34449751",
    "pull_request_review_id": null,
    "id": 34449751,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDQ5NzUx",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())\n     {\n-        unsigned char rand_pwd[32];\n-        GetRandBytes(rand_pwd, 32);\n-        uiInterface.ThreadSafeMessageBox(strprintf(\n-            _(\"To use bitcoind, or the -server option to bitcoin-qt, you must set an rpcpassword in the configuration file:\\n\"\n-              \"%s\\n\"\n-              \"It is recommended you use the following random password:\\n\"\n-              \"rpcuser=bitcoinrpc\\n\"\n-              \"rpcpassword=%s\\n\"\n-              \"(you do not need to remember this password)\\n\"\n-              \"The username and password MUST NOT be the same.\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\\n\"\n-              \"It is also recommended to set alertnotify so you are notified of problems;\\n\"\n-              \"for example: alertnotify=echo %%s | mail -s \\\"Bitcoin Alert\\\" admin@foo.com\\n\"),\n-                GetConfigFile().string(),\n-                EncodeBase58(&rand_pwd[0],&rand_pwd[0]+32)),\n-                \"\", CClientUIInterface::MSG_ERROR | CClientUIInterface::SECURE);\n-        StartShutdown();\n-        return;\n+        LogPrintf(\"No rpcpassword set - using random cookie authentication\\n\");\n+        if (!GenerateAuthCookie(&strRPCUserColonPass)) {\n+            StartShutdown();",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "GenerateAuthCookie already logs an error when it is unable to create the file. The data directory must be writable (otherwise creating the lock file will fail, earlier), so it is an extremely rare error. IMO it doesn't need an extensive translated message.\n",
    "created_at": "2015-07-13T10:22:37Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34449751",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34449751"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34449751"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34449751/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 605,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34450777",
    "pull_request_review_id": null,
    "id": 34450777,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM0NDUwNzc3",
    "diff_hunk": "@@ -597,28 +597,16 @@ void StartRPCThreads()\n         strAllowed += subnet.ToString() + \" \";\n     LogPrint(\"rpc\", \"Allowing RPC connections from: %s\\n\", strAllowed);\n \n-    strRPCUserColonPass = mapArgs[\"-rpcuser\"] + \":\" + mapArgs[\"-rpcpassword\"];\n     if (((mapArgs[\"-rpcpassword\"] == \"\") ||\n          (mapArgs[\"-rpcuser\"] == mapArgs[\"-rpcpassword\"])) && Params().RequireRPCPassword())\n     {\n-        unsigned char rand_pwd[32];\n-        GetRandBytes(rand_pwd, 32);\n-        uiInterface.ThreadSafeMessageBox(strprintf(\n-            _(\"To use bitcoind, or the -server option to bitcoin-qt, you must set an rpcpassword in the configuration file:\\n\"\n-              \"%s\\n\"\n-              \"It is recommended you use the following random password:\\n\"\n-              \"rpcuser=bitcoinrpc\\n\"\n-              \"rpcpassword=%s\\n\"\n-              \"(you do not need to remember this password)\\n\"\n-              \"The username and password MUST NOT be the same.\\n\"\n-              \"If the file does not exist, create it with owner-readable-only file permissions.\\n\"\n-              \"It is also recommended to set alertnotify so you are notified of problems;\\n\"\n-              \"for example: alertnotify=echo %%s | mail -s \\\"Bitcoin Alert\\\" admin@foo.com\\n\"),\n-                GetConfigFile().string(),\n-                EncodeBase58(&rand_pwd[0],&rand_pwd[0]+32)),\n-                \"\", CClientUIInterface::MSG_ERROR | CClientUIInterface::SECURE);\n-        StartShutdown();\n-        return;\n+        LogPrintf(\"No rpcpassword set - using random cookie authentication\\n\");\n+        if (!GenerateAuthCookie(&strRPCUserColonPass)) {\n+            StartShutdown();",
    "path": "src/rpcserver.cpp",
    "position": null,
    "original_position": 28,
    "commit_id": "093729055358ecf155b74ce1b2870d3eb9064355",
    "original_commit_id": "3f84f46a9002d3008c9ce8b51643f08515ebd698",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it is reasonable to show an error here before shutting down, but can just as well be a standard \"Initialization failed, check the error log for details\".\n",
    "created_at": "2015-07-13T10:37:20Z",
    "updated_at": "2015-07-13T11:34:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34450777",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34450777"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/6388#discussion_r34450777"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/6388"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/34450777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 605,
    "side": "RIGHT"
  }
]