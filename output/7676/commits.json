[
  {
    "sha": "0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYTQ4YjU2YmRjNjBmOWRhZmFlYTdhN2IyYTc3MGViODE5ZGJmZTU1",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-03-14T09:39:21Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-03-14T09:40:40Z"
      },
      "message": "torcontrol: rename global base, avoid overlap with field\n\nAvoid overlap with `base` field in TorController.\n\nThis fixes a new warning:\n\n    torcontrol.cpp:365:24: warning: private field 'base' is not used [-Wunused-private-field]",
      "tree": {
        "sha": "bb36f3437891c45f68b5f799830894b956a88d60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb36f3437891c45f68b5f799830894b956a88d60"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0fa88ef784dda77422fdb20b7358803f9b30a5c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0fa88ef784dda77422fdb20b7358803f9b30a5c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0fa88ef784dda77422fdb20b7358803f9b30a5c1"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 11,
      "deletions": 11
    },
    "files": [
      {
        "sha": "a8b698e114ecaaa65ffbcdae04e3244dd74d9ccd",
        "filename": "src/torcontrol.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 11,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55/src/torcontrol.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55/src/torcontrol.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/torcontrol.cpp?ref=0a48b56bdc60f9dafaea7a7b2a770eb819dbfe55",
        "patch": "@@ -659,26 +659,26 @@ void TorController::reconnect_cb(evutil_socket_t fd, short what, void *arg)\n }\n \n /****** Thread ********/\n-struct event_base *base;\n+struct event_base *g_base;\n boost::thread torControlThread;\n \n static void TorControlThread()\n {\n-    TorController ctrl(base, GetArg(\"-torcontrol\", DEFAULT_TOR_CONTROL));\n+    TorController ctrl(g_base, GetArg(\"-torcontrol\", DEFAULT_TOR_CONTROL));\n \n-    event_base_dispatch(base);\n+    event_base_dispatch(g_base);\n }\n \n void StartTorControl(boost::thread_group& threadGroup, CScheduler& scheduler)\n {\n-    assert(!base);\n+    assert(!g_base);\n #ifdef WIN32\n     evthread_use_windows_threads();\n #else\n     evthread_use_pthreads();\n #endif\n-    base = event_base_new();\n-    if (!base) {\n+    g_base = event_base_new();\n+    if (!g_base) {\n         LogPrintf(\"tor: Unable to create event_base\\n\");\n         return;\n     }\n@@ -688,18 +688,18 @@ void StartTorControl(boost::thread_group& threadGroup, CScheduler& scheduler)\n \n void InterruptTorControl()\n {\n-    if (base) {\n+    if (g_base) {\n         LogPrintf(\"tor: Thread interrupt\\n\");\n-        event_base_loopbreak(base);\n+        event_base_loopbreak(g_base);\n     }\n }\n \n void StopTorControl()\n {\n-    if (base) {\n+    if (g_base) {\n         torControlThread.join();\n-        event_base_free(base);\n-        base = 0;\n+        event_base_free(g_base);\n+        g_base = 0;\n     }\n }\n "
      }
    ]
  }
]