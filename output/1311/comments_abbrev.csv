gmaxwell,2012-05-14T23:18:43Z,"This makes non-trivial unrelated changes, for example it adds DoS() to node connecting with the old protocol version.\n",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5704735,5704735,
gmaxwell,2012-05-14T23:22:07Z,"Also, NAK on the general introduction of peer address to many messages.  I'd be okay with logging the peer address of attack behavior or truly unusual exceptions, but logging by default the address of every peer we pull transactions from is not good and would create considerable incentives to compromise the security of nodes to use their logs for tracing transactions.\n",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5704798,5704798,
jgarzik,2012-05-14T23:39:25Z,logtimestamps was disabled by default for similar reasons that we don't always log peer address...  major privacy implications.\n,https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5705079,5705079,
rebroad,2012-05-14T23:59:02Z,"@gmaxwell Doesn't it make more sense to use the misbehaving function on a peer that you will _always_ disconnect whenever it connects? Why not use it?\n\nRe peer addresses: these are changes anyone could do anyway, it is useful debug info, especially when trying to work out why blocks aren't downloading as fast as they could be, or for troubleshooting code to determine network lag in general or pe",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5705357,5705357,
gmaxwell,2012-05-15T00:14:40Z,"The problem isn't that people can do it— it's the expectation that having this creates that going and collecting drives from bitcoin nodes will net you valuable information.  Excessive logging endangers our users in several ways— beyond the lost privacy there is the risk of node operators being subject to frivolous fishing expedition investigations just to gather their logs, being hacked to use no",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5705575,5705575,
gmaxwell,2012-05-15T00:23:00Z,"On the misbehaving change—  I wasn't complaining that it was a bad change I was complaining that you're mixing changes that require different kinds of review in your pull.\n\nThe debug log entries are mostly cosmetic, assuming they aren't outright buggy and ignoring privacy issues the amount of harm changing them is at worst fairly minimal.  Whereas a DoS change even if it works perfectly, could k",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5705676,5705676,
rebroad,2012-05-15T00:47:27Z,"Understood. Ok, so DoS to be removed. Timestamps off by default. How about changing it to an option to enable peer logging, that's off by default? Would that be ok then?\n",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5705949,5705949,
fanquake,2012-05-15T11:37:30Z,Looks like this pull contains code from other pull requests you've made. Shouldn't each pull request only have the code related to the specific change?\n\nI'm fairly sure this pull also includes the code from here -> https://github.com/bitcoin/bitcoin/pull/1306\nand here -> https://github.com/bitcoin/bitcoin/pull/1305\n,https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5713772,5713772,
rebroad,2012-05-15T14:10:50Z,"@fanquake I just did a git log -p to check, but there's no mention of proxytoo in the entire log history, so I'm not quite sure what you're looking at. oh.. but on github it does show... I'll try pushing again. Ok, I've removed the ProxyToo mention now, thanks for spotting that. An inadvertent merge, not that this'll be enough to get it ACKed. I'll add a flag for the peer logging, as I agree with ",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5716715,5716715,
rebroad,2012-05-15T14:48:29Z,"Ok, this now displays peers only if -logpeers is true, and that option isn't advertised unless the code is examined. Peers are shown for blocks, and for Dos(100) transactions only unless the option is selected. Timestamps are disabled by default. DoS for obsolete version also removed. Also, HandleSIGTERM now shows the signal number received.\n\nThanks for the feedback @gmaxwell, hopefully this is ",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5717668,5717668,
rebroad,2012-05-17T17:03:14Z,"This pull now contains no functional changes, only display changes.\n",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5768606,5768606,
jgarzik,2012-05-17T17:20:39Z,"meh, this thing is still freakin' huge, touching all sorts of code.\n\nwill post a few comments inline...\n",https://github.com/bitcoin/bitcoin/pull/1311#issuecomment-5768996,5768996,
jgarzik,2012-05-17T17:22:01Z,"NAK, I like these unconditional\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839793,839793,src/addrman.h
jgarzik,2012-05-17T17:22:24Z,"this is infrequent, so who cares?\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839798,839798,src/addrman.cpp
jgarzik,2012-05-17T17:22:43Z,ack\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839801,839801,src/db.cpp
jgarzik,2012-05-17T17:23:19Z,not sure calling our printf infrastructure from a signal handler is wise\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839809,839809,src/init.cpp
jgarzik,2012-05-17T17:23:50Z,"at a minimum, these are new features that belong in separate commits, not a single commit entitled ""improve debug.log output""\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839815,839815,src/init.cpp
jgarzik,2012-05-17T17:24:13Z,huh?\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839820,839820,src/init.cpp
jgarzik,2012-05-17T17:25:04Z,"all changes like this  grammar change should have been in its own commit, separate from all other commits\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839836,839836,src/irc.cpp
jgarzik,2012-05-17T17:25:26Z,"even if it is TMI, we don't leave scattered bits of dead code all over the place\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839842,839842,src/irc.cpp
jgarzik,2012-05-17T17:26:24Z,"these checktx changes do look useful, but again... separate commit, not glommed together into a single ""improve debug.log output"" huge commit\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839853,839853,src/main.cpp
Diapolo,2012-05-17T17:30:33Z,What does TMI mean?\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839899,839899,src/irc.cpp
rebroad,2012-05-17T17:38:37Z,"ah, ok. separate commit, but same pull, do you mean?\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839976,839976,src/irc.cpp
rebroad,2012-05-17T17:40:43Z,It's very frequent in my output.. Hmmm. Would you prefer another command line flag other than -debug were used for this?\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r839994,839994,src/addrman.cpp
rebroad,2012-05-17T17:41:05Z,Can use the same command line flag for these too...\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840001,840001,src/addrman.h
rebroad,2012-05-17T17:41:59Z,Why not? I've been testing this code now for 6 weeks without any problems.\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840011,840011,src/init.cpp
rebroad,2012-05-17T17:42:20Z,"On one hand, you're right, but on the other, it's certainly a pain in the neck for me to have to rebase with these as separate commits, as they're usually needing manual intervention. Perhaps I'm not using git properly though....\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840013,840013,src/init.cpp
rebroad,2012-05-17T17:43:38Z,"Is there a particular easy way using git to break this up into smaller commits, or do I just take a backup, rewind, and add each one as a separate branch from upstream master?\n",https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840022,840022,src/main.cpp
rebroad,2012-05-17T17:44:54Z,That was commented out as 8 lines further up in the debug.log file that information is displayed there.\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840028,840028,src/init.cpp
Diapolo,2012-05-17T17:46:15Z,I would do string-changes / grammar changes in seperate pulls.\n,https://github.com/bitcoin/bitcoin/pull/1311#discussion_r840036,840036,src/irc.cpp
