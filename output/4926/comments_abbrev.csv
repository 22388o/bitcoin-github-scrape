sipa,2014-09-20T02:54:16Z,"Removed the dependency on #4925, as that seems more controversial.\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56254970,56254970,
gmaxwell,2014-09-22T19:17:16Z,The English in this patch is a bit confusing.  What this is checking for is not the generalized case of a duplicate TXID but only the second pre-image tree-grafting attack.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56425528,56425528,
sipa,2014-09-22T19:53:25Z,"@gmaxwell Agree, fixed. I added some extra comments too.\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56430679,56430679,
sipa,2014-09-22T21:35:59Z,Added a comment.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56447081,56447081,
gmaxwell,2014-09-22T21:39:28Z,"The claim that an interior collision implies a duplicate is only computationally sound. I think this is fine, and might even be protective against some kinds of crazy attacks in the face of an actual collision... though since it is a consensus rule change we should note it (though not worry, since it's only a change in cases where we're completely broken).\n\nI can't ACK yet because even though it",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56447535,56447535,
sipa,2014-09-22T22:35:35Z,"So, it seems pulltester doesn't actually test the merkle root txid duplication issue... ping @TheBlueMatt \n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56454159,56454159,
TheBlueMatt,2014-09-22T22:38:22Z,Willfix in upcoming test updates.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56454452,56454452,
sipa,2014-09-22T23:01:39Z,Seems it did trigger failure - let's run again to be sure.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56456683,56456683,
sipa,2014-09-23T00:03:11Z,"Good, it failed, and for the right reason. I'm removing the 'bug' commit again.\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56461667,56461667,
gmaxwell,2014-09-23T00:47:24Z,"ACK.  (okay, glad pulltester did catch it, poor timing on that  first pass result. :) )\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56464629,56464629,
sipa,2014-09-23T00:50:23Z,s/pulltester/comparison tool/. Travis caught it as well.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56464819,56464819,
petertodd,2014-09-23T07:20:08Z,"ACK\n\nTested with mainnet block 99960, duplicated the last tx, and submitted on testnet with unexciting results.\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56483876,56483876,
sipa,2014-09-23T17:48:03Z,I significantly expanded the comments and commit message.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56560534,56560534,
petertodd,2014-09-23T18:33:40Z,@sipa Nice!\n\n1 beer @changetip\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56567661,56567661,
changetip,2014-09-23T20:29:34Z,"Hi sipa, petertodd sent you a Bitcoin tip worth 1 beer (8.084 mBTC/$3.50), and I'm here to deliver it âž” **[collect your tip at ChangeTip.com](https://www.changetip.com/collect/43580)**.\n\n**[Is this real?](https://www.changetip.com/tip-online/github)**\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56584537,56584537,
theuni,2014-09-23T22:30:58Z,@sipa The new comments make this worlds easier to review. Thanks for that. Looks sane to me.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56600423,56600423,
sipa,2014-09-24T01:41:27Z,@petertodd Thanks!\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56614770,56614770,
laanwj,2014-09-24T08:56:56Z,"I created a silly python script to visualize the Satoshi Merkle tree, marking the nodes where a mutation check happens according to the logic in this pull in red: https://gist.github.com/laanwj/28326a4ba4f3ce1d89f1\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56642526,56642526,
BitcoinPullTester,2014-09-24T17:33:07Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4926_584a358997e52a87e8c5402269c7fb3784ed2065/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56708303,56708303,
sipa,2014-09-24T19:32:53Z,@laanwj Fixed the offsets.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56725567,56725567,
laanwj,2014-09-25T06:29:41Z,Looks good to me now. ACK.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-56778756,56778756,
sipa,2014-09-26T18:44:39Z,"@gmaxwell @jgarzik Is this acceptable, or do we wait until comparisontool does non-bottom-level merkle malleability tests?\n",https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-57003819,57003819,
sipa,2014-10-02T02:25:45Z,@gmaxwell Comparison tool now performs merkle malleability tests at non-bottom level.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-57572625,57572625,
gmaxwell,2014-10-02T03:17:08Z,re-ACK.\n,https://github.com/bitcoin/bitcoin/pull/4926#issuecomment-57576741,57576741,
laanwj,2014-09-24T07:03:31Z,Shouldn't this be `vMerkleTree[j+i] == vMerkleTree[j+i2]` as below in the hashing?\n,https://github.com/bitcoin/bitcoin/pull/4926#discussion_r17956668,17956668,src/core.cpp
sipa,2014-09-24T10:07:01Z,"Good catch, yes. Seems like it only worked for the bottom level (j=0), and\nthe only case tested by comparison tool was in that level...\n",https://github.com/bitcoin/bitcoin/pull/4926#discussion_r17963362,17963362,src/core.cpp
