laanwj,2011-10-26T16:27:54Z,"Great, an direct URL handler would certainly be useful\n\nSome comments:\n- qtipcserver: I think it would be preferable to implement this entire feature in src/qt, without touching the core\n- ThreadSafeHandleURL: Does it need to block? Otherwise, you could shorten the function by leaving out the `DirectConnection`/`BlockedQueuedConnection` and simply use `QueuedConnection` to send signals asynchr",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2532600,2532600,
TheBlueMatt,2011-10-26T16:50:18Z,"qtipcserver: Yea, I thought about doing that but I didnt feel like shuffling even more code around instead of just porting what I already had...Ill move the files to qt/ at least.\nThreadSafeHandleURL: I would prefer it did, seems like it would be less of a DDoS target if it limited the number of queued objects to at least what boost will allow (2 in this case) and then limit to what Qt will be ab",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2532911,2532911,
laanwj,2011-10-26T16:56:05Z,"I'd prefer to have a dialog box _before_ sending it to the running bitcoin process... I don't like it queuing payment boxes at all without the user's permission (Limiting the number of those would fight the symptoms, not the problem). Not all users may check the final send dialog very well before sending, so a nefarious background javascript could add a payment just before send (by somehow detecti",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2532977,2532977,
TheBlueMatt,2011-10-26T17:31:10Z,"Limiting the number of send boxes in the Bitcoin window was attempting to solve the DDoS issue by preventing a website from loading infinite send boxes.  Having a popup before sending the send command to the running bitcoin process means you can now DDoS users by launching new processes all over the place, which is much worse.\n\nThe limiting of the number of send boxes also solves (IMO) the backg",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2533432,2533432,
laanwj,2011-10-26T17:39:43Z,"That's not my point. DDoS was only one possibility but not the most\ndangerous one, I would be really careful.  I agree with limiting the number\nof send boxes, but that's not enough IMO to prevent issues with this.\n\nMaybe a dialog box is also not the best solution.  But I really don't want\nan external processes, especially not an untrusted one in the browser, to\nhave access to the list of sen",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2533533,2533533,
TheBlueMatt,2011-10-26T17:56:25Z,"DoS is a completely separate issue from trust issues here.\nDoS: yea, should be tested a bit more just to see what kind of load you can generate from a browser.\n\nTrust: I really fail to see the problem here.  If a user clicks on a link (or one is otherwise opened), they still have to see the send screen AND click ""Yes, Im sure"" before a send can happen, I really don't think adding more is going ",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2533736,2533736,
laanwj,2011-10-26T18:03:18Z,"The problem is that Javascript can easily simulate link clicks. If it was\nlimited to explicit clicks by the user then I wouldn't be having issues with\nit.\n\nImagine that someone hacks a forum and adds a little script that randomly\nadds send commands in the background. Sure, most users might notice it in\ntime and cancel it, but there will always be a few users that accept (for\nexample, those ",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2533818,2533818,
TheBlueMatt,2011-10-26T18:26:44Z,Fixed the DoS issue (now only one link/sec can be opened).\nAlso moved the files to qt/ and didn't touch init.cpp\n,https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2534116,2534116,
TheBlueMatt,2011-10-26T18:28:22Z,"If the confirm dialog window is open, this shouldn't allow new sends to be added to the window, or the send (currently it does window, can't test send atm).  Also, if a new send is added, the window should be automatically scrolled to the bottom (the new send).  With those in place I really see no problem here, if users want to be stupid, there is nothing we can do to stop them.\n",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-2534141,2534141,
TheBlueMatt,2011-12-07T05:03:41Z,"In an attempt at making this slightly more useful, I added the latest commit to automatically focus on new SendCoinEntrys and scroll to them, however because the scrolling is called before the qt thread is free to recalculate the new frame size, it scrolls to n-1 SendCoinEntrys not the last one.  I'm assuming there is a simple way to do this, but I dont feel like spending a ton of time digging thr",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3043353,3043353,
laanwj,2011-12-07T17:55:30Z,"I haven't tested it, but this German post seems to address the problem, by adding qApp->processEvents(): between adding the widget and scrolling;\n\nhttp://qtforum.de/forum/viewtopic.php?p=30842#30842\n\nIn this case it'd be\n\n```\nQCoreApplication::instance()->processEvents();\n```\n",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3050699,3050699,
TheBlueMatt,2011-12-07T21:54:33Z,"OK, I think Ive addressed every issue with this, except for the question of whether to popup before adding the recipient to the transaction or not until the send confirm dialog.  I am of the opinion that there shouldnt be an extra popup before adding as it will annoy users if you can create a desktop popup once per second (or any other time frame) from js.  I would instead just say that since the ",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3054122,3054122,
luke-jr,2011-12-23T15:19:10Z,This needs rebasing.\n,https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3261748,3261748,
TheBlueMatt,2011-12-24T04:27:30Z,rebased\n,https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3266486,3266486,
gavinandresen,2011-12-29T02:10:01Z,Has anybody tested this besides Matt?\n,https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3297412,3297412,
luke-jr,2011-12-29T02:55:59Z,"I've tested this in combination with non-BTC unit support, via CLI (ie, bitcoin-qt bitcoin:foo).\n",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3297651,3297651,
justmoon,2012-01-06T12:04:23Z,"Built this and tested a couple cases from the wiki page on the command line:\n\n``` sh\nmoon@clymene:/atlas/prj/bitcoin$ ./bitcoin-qt bitcoin:1NS17iag9jJgTHD1VXjvLCEnZuQ3rJED9L\nmoon@clymene:/atlas/prj/bitcoin$ ./bitcoin-qt ""bitcoin:1NS17iag9jJgTHD1VXjvLCEnZuQ3rJED9L?amount=20.3&label=Luke-Jr""\nmoon@clymene:/atlas/prj/bitcoin$ ./bitcoin-qt ""bitcoin:1NS17iag9jJgTHD1VXjvLCEnZuQ3rJED9L?amount=1""\nmoo",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3383768,3383768,
TheBlueMatt,2012-01-06T17:20:35Z,"Gmaxwell suggested that the send coins confirmation dialog delay several seconds before it allows the user to click OK, similar to the way firefox does plugin installation.  I agree, but judging from my cursory googling, its something that would have to be written (ie its not a simple parameter or hasnt been written before that we can copy/paste), so I feel it falls outside the scope of this patch",https://github.com/bitcoin/bitcoin/pull/593#issuecomment-3387617,3387617,
gavinandresen,2011-10-26T16:21:23Z,typo nit: boter --> bother\n,https://github.com/bitcoin/bitcoin/pull/593#discussion_r192144,192144,src/qt/bitcoin.cpp
gavinandresen,2011-10-26T16:39:02Z,This is the bitcoin-is-already-running case?  And the code at line 222 is the bitcoin-wasn't-running-so-we'll-start-it case?\n,https://github.com/bitcoin/bitcoin/pull/593#discussion_r192172,192172,src/qt/bitcoin.cpp
TheBlueMatt,2011-10-26T16:50:33Z,Correct.\n,https://github.com/bitcoin/bitcoin/pull/593#discussion_r192193,192193,src/qt/bitcoin.cpp
