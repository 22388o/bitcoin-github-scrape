instagibbs,2016-09-22T00:46:57Z,ping @theuni to make sure this is the case\n,https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248783459,248783459,
instagibbs,2016-09-22T01:47:40Z,"You are allowed to add or remove services to new peers.\n\nOn Sep 21, 2016 9:46 PM, ""R E Broadley"" notifications@github.com wrote:\n\n> ## _@rebroad_ commented on this pull request.\n> \n> In src/net.h https://github.com/bitcoin/bitcoin/pull/8785:\n> \n> > @@ -677,6 +677,7 @@ class CNode\n> \n> ```\n>  uint64_t nLocalHostNonce;\n> ```\n> -    // What local services you advertised on connection to ",https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248791248,248791248,
rebroad,2016-09-22T01:54:54Z,@instagibbs Do you mean the SENDHEADERS and SENDCMPCT messages? I don't think these are counted as services according to the variable we are discussing.\n,https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248791926,248791926,
instagibbs,2016-09-22T12:20:30Z,updated with @theuni 's shortened version\n,https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248887827,248887827,
laanwj,2016-09-22T12:29:42Z,"Thanks, yes this seems fine.\n",https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248889941,248889941,
TheBlueMatt,2016-09-22T14:19:55Z,ACK latest copy\n,https://github.com/bitcoin/bitcoin/pull/8785#issuecomment-248917379,248917379,
laanwj,2016-09-22T01:37:17Z,"I think the actors in this sentence are slightly confusing, who is 'you' and who is 'this node' here?\n",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79965855,79965855,src/net.h
instagibbs,2016-09-22T01:41:47Z,"Suggestion to clarify? ""this node"" refers to ""CNode"" here, which is:\n\n`/** Information about a peer */`\n\n`you` could be rephrased as `your local node`?\n",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79966109,79966109,src/net.h
rebroad,2016-09-22T01:42:14Z,Why do we need this variable per connection anyway? Do we advertise different services to different nodes?\n,https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79966133,79966133,src/net.h
instagibbs,2016-09-22T01:43:57Z,@rebroad afaik it is to keep track of what services you advertised to each peer. It could change over the lifetime of the connection.\n,https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79966221,79966221,src/net.h
rebroad,2016-09-22T01:46:11Z,"@instagibbs Services are advertised to a peer in the version message, which can be sent only once. (future version messages are ignored, and are counted as misbehaviour)\n",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79966338,79966338,src/net.h
laanwj,2016-09-22T02:04:00Z,"Yes, different services may be advertised to different peers, based on, say, whitelisting.\n",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79967298,79967298,src/net.h
laanwj,2016-09-22T02:14:56Z,"@instagibbs yes, I'd say ""the local node"" versus ""the peer"" is unambigious\n",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79967855,79967855,src/net.h
theuni,2016-09-22T06:42:33Z,"Yes, the intention is to be able to (in the future) offer different services to different peers. For example, incoming vs outgoing, proxy, tor, whitelist, etc. Even if we don't do that now, it's helpful to think in terms of ""what did I tell this peer I'm offering?"" rather than a global value. For now each connman instance (only 1 for now) passes along the same services to all nodes. \n\nACK on cla",https://github.com/bitcoin/bitcoin/pull/8785#discussion_r79982627,79982627,src/net.h
