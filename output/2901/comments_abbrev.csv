BitcoinPullTester,2013-08-15T18:14:14Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/116c9582760e1fc37408ce74abd0769062aa9025 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22718790,22718790,
BitcoinPullTester,2013-08-15T19:42:14Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/588e13c40f4e66b3d789f9b426ef173acc21d9ed for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22724581,22724581,
jgarzik,2013-08-15T20:09:08Z,"Completed review of all RPCs for require-wallet status, and fixed a couple bugs found in testing.  disable-wallet mode should be working in bitcoind now.  These are the RPCs that remain available:\n\n```\naddnode <node> <add|remove|onetry>\ncreatemultisig <nrequired> <'[""key"",""key""]'>\ncreaterawtransaction [{""txid"":txid,""vout"":n},...] {address:amount,...}\ndecoderawtransaction <hex string>\ngetadd",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22726418,22726418,
jgarzik,2013-08-15T20:10:25Z,"Updating CreateNewBlock() to take a script, rather than a CReserveKey, should make it possible to enable getblocktemplate RPC.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22726492,22726492,
jgarzik,2013-08-15T21:06:26Z,"disable-wallet mode now skips BDB environment setup, reducing startup RSS here by over 40MB (h/t @gmaxwell)\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22730662,22730662,
BitcoinPullTester,2013-08-15T21:10:13Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/db2b19ee838cdab513a6503ddefc16d985b59e87 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22730900,22730900,
sipa,2013-08-15T21:41:36Z,Interesting how little code changes were necessary.\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22732801,22732801,
sipa,2013-08-15T22:31:16Z,Is there a good reason why this isn't intended to be merged? :p\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22735704,22735704,
jgarzik,2013-08-15T22:37:55Z,"Cannot be merged... as-is.  I wouldn't mind merging a cleaned up version, which attention paid to indentation and such.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22736006,22736006,
gmaxwell,2013-08-15T22:39:23Z,Only argument I can make against it is that it's more configurations to test and getting the 40mbytes back from BDB on walletless nodes would be nice.\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22736068,22736068,
jgarzik,2013-08-15T22:41:06Z,"Also, my paranoid fear is that I missed a spot in review and testing, and someone will figure out a way to crash a node by triggering a wallet lookup somehow, somewhere.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22736133,22736133,
sipa,2013-08-15T22:41:54Z,All P2P-induced calls from main to wallet should go through the registration interface.\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22736172,22736172,
jgarzik,2013-08-15T23:35:15Z,"Code cleaned up, and perhaps merge-worthy.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22738594,22738594,
jgarzik,2013-08-15T23:39:46Z,"TODO list:\n- getblocktemplate should be re-enabled, in some form (requires a key for the default txout script, due to CreateNewBlock calling convention)\n- I thought of another TODO item, then promptly forgot.  Nevertheless, a bullet point list is not a list without at least two items.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22738786,22738786,
luke-jr,2013-08-16T06:14:16Z,"Thoughts on just removing getwork, since it's useless with mainnet and getblocktemplate's use of CreateNewBlock doesn't need a generation transaction at all?\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22749394,22749394,
gmaxwell,2013-08-16T06:20:17Z,"Internal miner needs a generation transaction. :-/ But yea, removing getwork sounds great to me, except for the whole not solving the needing a generation transaction bit... \n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22749559,22749559,
wtogami,2013-08-17T12:13:19Z,Why are we keeping the internal miner at all?\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22810648,22810648,
gmaxwell,2013-08-17T12:27:44Z,"Because we have not provided an adequate replacement with the package, and it's commonly used and perfectly reasonable on testnet.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22810877,22810877,
Diapolo,2013-08-17T12:40:16Z,"@gmaxwell Agreed, it's the only miner I use with Testnet as it's so damn easy to use and JUST works.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22811064,22811064,
wtogami,2013-08-18T05:51:07Z,"With getblocktemplate and submitblock working, this type of node could still be used for p2pool or pools, with the payout address arbitrarily elsewhere for security.  That is already possible today with normal nodes with a wallet, but this at least shrinks the memory requirement per p2pool node, which is great.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22825235,22825235,
jgarzik,2013-08-20T11:39:57Z,"The mining-removal discussion is outside the scope of this pull request, and is better discussed in active mailing list threads or pull req #2905 \n\ngetblocktemplate can work just fine in disablewallet mode; just needs additional work appended here.  Hence ""TODO""\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-22939051,22939051,
laanwj,2013-08-22T06:07:18Z,"Nice. Incidentally this would also be the ""no wallets loaded"" case for multi wallet support.\n\nHaven't tested yet, but from looking at the code: validateaddress does a IsMine check (dereferencing pWalletMain) when the address is valid. Will this crash?\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23070340,23070340,
jgarzik,2013-08-25T04:15:43Z,"Rebased on top of #2928 and fixed @Diapolo 's nit.\n\ngetblocktemplate now works in no-wallet mode.  OP updated accordingly.  Should be merge ready, modulo another IsMine() review.  I reviewed quickly based on @laanwj 's comment, but did not see the case.  Will look more closely with brain fully engaged before saying it is 100% merge-ready :)\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23221635,23221635,
jgarzik,2013-08-26T02:03:50Z,"Rebased, and fixed the bug found by @laanwj \n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23240506,23240506,
jgarzik,2013-08-27T02:57:33Z,no-wallet mode is now ready for reviewing and merging.\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23310148,23310148,
gavinandresen,2013-08-28T00:32:42Z,"Nit / pet peeve:  negative options, because I hate double-negatives (-disablewallet=0 means ""yes I want a wallet please"").\n\nSuggest that the option be: -wallet=  to mean ""no wallet, please.""  (default right now is -wallet=wallet.dat).\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23382090,23382090,
laanwj,2013-08-29T11:26:41Z,"What about ""-nowallet""?\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23482335,23482335,
Diapolo,2013-08-29T13:43:41Z,"@laanwj `-wallet=0` IS `-nowallet`, which I would vote for as a name for the switch.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-23489967,23489967,
wtogami,2013-09-08T10:56:04Z,"I change my mind.  I like -disablewallet the way it is now.  -disablewallet is best as a distinct parameter for a specific purpose.  It is more confusing to overload -wallet= with another possible meaning, and you don't want it to attempt load a wallet file of that name if you have a typo.\n\nBleh, before we bikeshed on the name, could folks please review the actual code?\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-24018808,24018808,
Diapolo,2013-09-08T11:19:15Z,"As I said, -foo=0 is -nofoo for every parameter we use, why special case this one?\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-24019089,24019089,
jgarzik,2013-09-08T15:36:55Z,"-nowallet is fine with me, as long as it does not break, or otherwise require contortions of, the existing wallet pathname support.\n\n""-nowallet"" seems quite natural, but a concern is that people were discussing -wallet=foo.dat -wallet=bar.dat and similar extensions for multiple wallet support.\n\nI'm happy to go with whatever most people prefer.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-24022976,24022976,
sipa,2013-09-28T20:41:38Z,"Code looks good, apart from a few nits (see inline), needs rebase though.\n\nI don't feel strongly about -disablewallet or -nowallet or -wallet=. We just need to know how it may later integrate with multiwallet (which naturally extends nowallet). \n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-25308046,25308046,
jgarzik,2013-10-02T15:20:39Z,"Rebased.  This is merge-ready, except for option-naming shed-painting.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-25547670,25547670,
BitcoinPullTester,2013-10-04T07:24:01Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/5d4f3a1f0cbdf52257b41ea09d175c0018ad9434 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-25680620,25680620,
gavinandresen,2013-10-24T01:24:45Z,"-disablewallet is a fine shade of paint for the shed; I think you should rebase, sanity test one last time, and merge.\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-26960224,26960224,
wtogami,2013-10-27T23:04:23Z,https://github.com/wtogami/bitcoin/commits/btc-0.8.5-disablewallet\nDisable Wallet for Bitcoin 0.8.5\n\nPlease `s/Wallet disabled.../Wallet disabled!/`\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-27182021,27182021,
wtogami,2013-10-29T23:39:38Z,"https://bitcointalk.org/index.php?topic=320695.0\nIf end-users want to help testing of this patch, a backport is included in this build of Bitcoin 0.8.5\n",https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-27354062,27354062,
wtogami,2013-11-01T22:44:43Z,- Rebase\n- disablewallet=1 needs a GUI error message if someone tries it with bitcoin-qt\n- `s/Wallet disabled.../Wallet disabled!/`\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-27606892,27606892,
KobuderaRoninShinobi,2013-11-02T07:52:00Z,s/Wallet disabled.../Wallet disabled!/\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-27617571,27617571,
sipa,2013-11-09T17:34:07Z,@jgarzik Can you rebase please?\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-28132274,28132274,
laanwj,2013-11-12T14:00:12Z,See #3240\n,https://github.com/bitcoin/bitcoin/pull/2901#issuecomment-28294938,28294938,
Diapolo,2013-08-24T13:36:13Z,What does that (1) mean?\n,https://github.com/bitcoin/bitcoin/pull/2901#discussion_r5965830,5965830,src/init.cpp
jgarzik,2013-08-24T14:14:10Z,"Look at the commits one-by-one.  In the code movement commit, you see a ""if (1) { ... }"" change.  This comment is a remnant of that change (that should be removed).\n",https://github.com/bitcoin/bitcoin/pull/2901#discussion_r5965921,5965921,src/init.cpp
sipa,2013-09-28T20:35:33Z,"I think ""Method requires wallet"" or something explicitly mentioning why it is disabled is more useful.\n",https://github.com/bitcoin/bitcoin/pull/2901#discussion_r6645285,6645285,src/bitcoinrpc.cpp
sipa,2013-09-28T20:37:08Z,"Pet peeve: don't use ""..."" when it's not about an ongoing operation.\n",https://github.com/bitcoin/bitcoin/pull/2901#discussion_r6645288,6645288,src/init.cpp
sipa,2013-09-28T20:37:33Z,This (1) seems incorrect?\n,https://github.com/bitcoin/bitcoin/pull/2901#discussion_r6645291,6645291,src/init.cpp
Diapolo,2013-10-03T12:30:16Z,"Agreed, even if this is a minor thing I would use `Wallet disabled!` here.\n",https://github.com/bitcoin/bitcoin/pull/2901#discussion_r6739582,6739582,src/init.cpp
wtogami,2013-10-25T07:47:33Z,+1 for `Wallet disabled!`\n,https://github.com/bitcoin/bitcoin/pull/2901#discussion_r7209918,7209918,src/init.cpp
