[
  {
    "sha": "22a51207ae1e05d2a14663c8e583dd3ab307693b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyMmE1MTIwN2FlMWUwNWQyYTE0NjYzYzhlNTgzZGQzYWIzMDc2OTNi",
    "commit": {
      "author": {
        "name": "Cozz Lovan",
        "email": "cozzlovan@yahoo.com",
        "date": "2014-01-21T22:39:29Z"
      },
      "committer": {
        "name": "Cozz Lovan",
        "email": "cozzlovan@yahoo.com",
        "date": "2014-01-21T22:54:49Z"
      },
      "message": "[Qt] Show and store message of normal bitcoin:URI",
      "tree": {
        "sha": "078e8f687d98c53fc3067cce82dbd74becdfdb2e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/078e8f687d98c53fc3067cce82dbd74becdfdb2e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/22a51207ae1e05d2a14663c8e583dd3ab307693b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22a51207ae1e05d2a14663c8e583dd3ab307693b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/22a51207ae1e05d2a14663c8e583dd3ab307693b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/22a51207ae1e05d2a14663c8e583dd3ab307693b/comments",
    "author": {
      "login": "cozz",
      "id": 2814559,
      "node_id": "MDQ6VXNlcjI4MTQ1NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2814559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cozz",
      "html_url": "https://github.com/cozz",
      "followers_url": "https://api.github.com/users/cozz/followers",
      "following_url": "https://api.github.com/users/cozz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cozz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cozz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cozz/subscriptions",
      "organizations_url": "https://api.github.com/users/cozz/orgs",
      "repos_url": "https://api.github.com/users/cozz/repos",
      "events_url": "https://api.github.com/users/cozz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cozz/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "cozz",
      "id": 2814559,
      "node_id": "MDQ6VXNlcjI4MTQ1NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2814559?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cozz",
      "html_url": "https://github.com/cozz",
      "followers_url": "https://api.github.com/users/cozz/followers",
      "following_url": "https://api.github.com/users/cozz/following{/other_user}",
      "gists_url": "https://api.github.com/users/cozz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cozz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cozz/subscriptions",
      "organizations_url": "https://api.github.com/users/cozz/orgs",
      "repos_url": "https://api.github.com/users/cozz/repos",
      "events_url": "https://api.github.com/users/cozz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cozz/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "250b4bcf6b368825ca6a49509f63026bd374efa4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/250b4bcf6b368825ca6a49509f63026bd374efa4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/250b4bcf6b368825ca6a49509f63026bd374efa4"
      }
    ],
    "stats": {
      "total": 33,
      "additions": 33,
      "deletions": 0
    },
    "files": [
      {
        "sha": "96c922af4d67a98f666eb18c2370157ba75ec760",
        "filename": "src/qt/forms/sendcoinsentry.ui",
        "status": "modified",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/forms/sendcoinsentry.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/forms/sendcoinsentry.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/sendcoinsentry.ui?ref=22a51207ae1e05d2a14663c8e583dd3ab307693b",
        "patch": "@@ -141,6 +141,23 @@\n     <item row=\"2\" column=\"1\">\n      <widget class=\"BitcoinAmountField\" name=\"payAmount\"/>\n     </item>\n+    <item row=\"3\" column=\"0\">\n+     <widget class=\"QLabel\" name=\"messageLabel\">\n+      <property name=\"text\">\n+       <string>Message:</string>\n+      </property>\n+      <property name=\"alignment\">\n+       <set>Qt::AlignRight|Qt::AlignTrailing|Qt::AlignVCenter</set>\n+      </property>\n+     </widget>\n+    </item>\n+    <item row=\"3\" column=\"1\">\n+     <widget class=\"QLabel\" name=\"messageTextLabel\">\n+      <property name=\"textFormat\">\n+       <enum>Qt::PlainText</enum>\n+      </property>\n+     </widget>\n+    </item>\n    </layout>\n   </widget>\n   <widget class=\"QFrame\" name=\"SendCoins_InsecurePaymentRequest\">"
      },
      {
        "sha": "b4e74b078c99b8aabe1c9932ec7da9548cb97123",
        "filename": "src/qt/sendcoinsentry.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/sendcoinsentry.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/sendcoinsentry.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsentry.cpp?ref=22a51207ae1e05d2a14663c8e583dd3ab307693b",
        "patch": "@@ -88,6 +88,9 @@ void SendCoinsEntry::clear()\n     ui->payTo->clear();\n     ui->addAsLabel->clear();\n     ui->payAmount->clear();\n+    ui->messageTextLabel->clear();\n+    ui->messageTextLabel->hide();\n+    ui->messageLabel->hide();\n     // clear UI elements for insecure payment request\n     ui->payTo_is->clear();\n     ui->memoTextLabel_is->clear();\n@@ -148,6 +151,7 @@ SendCoinsRecipient SendCoinsEntry::getValue()\n     recipient.address = ui->payTo->text();\n     recipient.label = ui->addAsLabel->text();\n     recipient.amount = ui->payAmount->value();\n+    recipient.message = ui->messageTextLabel->text();\n \n     return recipient;\n }\n@@ -188,6 +192,11 @@ void SendCoinsEntry::setValue(const SendCoinsRecipient &value)\n     }\n     else // normal payment\n     {\n+        // message\n+        ui->messageTextLabel->setText(recipient.message);\n+        ui->messageTextLabel->setVisible(!recipient.message.isEmpty());\n+        ui->messageLabel->setVisible(!recipient.message.isEmpty());\n+\n         ui->payTo->setText(recipient.address);\n         ui->addAsLabel->setText(recipient.label);\n         ui->payAmount->setValue(recipient.amount);"
      },
      {
        "sha": "2c3a9e3a5c4f89652728f536925e6cb44a0945cb",
        "filename": "src/qt/transactiondesc.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/transactiondesc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/transactiondesc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactiondesc.cpp?ref=22a51207ae1e05d2a14663c8e583dd3ab307693b",
        "patch": "@@ -224,6 +224,11 @@ QString TransactionDesc::toHTML(CWallet *wallet, CWalletTx &wtx, int vout, int u\n \n         strHTML += \"<b>\" + tr(\"Transaction ID\") + \":</b> \" + TransactionRecord::formatSubTxId(wtx.GetHash(), vout) + \"<br>\";\n \n+        // Message from normal bitcoin:URI (bitcoin:123...?message=example)\n+        foreach (const PAIRTYPE(string, string)& r, wtx.vOrderForm)\n+            if (r.first == \"Message\")\n+                strHTML += \"<br><b>\" + tr(\"Message\") + \":</b><br>\" + GUIUtil::HtmlEscape(r.second, true) + \"<br>\";\n+\n         //\n         // PaymentRequest info:\n         //"
      },
      {
        "sha": "33db145db08081fea44bf9a50f671199eb0ca299",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/22a51207ae1e05d2a14663c8e583dd3ab307693b/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=22a51207ae1e05d2a14663c8e583dd3ab307693b",
        "patch": "@@ -269,6 +269,8 @@ WalletModel::SendCoinsReturn WalletModel::sendCoins(WalletModelTransaction &tran\n                 rcp.paymentRequest.SerializeToString(&value);\n                 newTx->vOrderForm.push_back(make_pair(key, value));\n             }\n+            else if (!rcp.message.isEmpty()) // Message from normal bitcoin:URI (bitcoin:123...?message=example)\n+                newTx->vOrderForm.push_back(make_pair(\"Message\", rcp.message.toStdString()));\n         }\n \n         CReserveKey *keyChange = transaction.getPossibleKeyChange();"
      }
    ]
  }
]