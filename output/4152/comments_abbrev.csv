sipa,2014-05-22T11:26:47Z,untested ACK\n,https://github.com/bitcoin/bitcoin/pull/4152#issuecomment-43875845,43875845,
BitcoinPullTester,2014-05-23T14:06:41Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/3e8ac6af9a993e262d1160fb2e6e1e1f1d5d19f2 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/4152#issuecomment-44012744,44012744,
sipa,2014-05-08T19:41:58Z,Why can't we just always use this form?\n,https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12448626,12448626,src/netbase.cpp
sipa,2014-05-08T19:43:44Z,No need to destruct that new time_facet?\n,https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12448698,12448698,src/util.cpp
luke-jr,2014-05-08T19:56:38Z,"Should be safe as long as we put something like\n\n``` c\n#if defined(_GNU_SOURCE) || _POSIX_C_SOURCE < 200112L\n#  error ""We might be getting GNU strerror_r here""\n#endif\n```\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12449262,12449262,src/netbase.cpp
laanwj,2014-05-08T19:59:30Z,"Well I get the GNU form here by default...\nIt would be possible to define _POSIX_C_SOURCE in the configure script, but there is no telling what impact that will have on other functions. Detecting what form to use is the safer way.\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12449392,12449392,src/netbase.cpp
laanwj,2014-05-08T20:00:26Z,The std::locale takes ownership of it and frees it when it goes out of scope\n,https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12449429,12449429,src/util.cpp
sipa,2014-05-08T20:01:27Z,"Ah, the documentation clarifies. The GNU version may return something else than buf... _puke_\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12449469,12449469,src/netbase.cpp
laanwj,2014-05-08T20:28:44Z,"Exactly, in that case `buf` will remain empty :(\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12450720,12450720,src/netbase.cpp
laanwj,2014-05-09T09:37:08Z,"Granted, it is kind of counter-intuitive, we had quite an ugly issue due to this once where we passed a statically-allocated facet object to std::locale and it got freed at shutdown: a143d4ce58d1103b37fa297fe6f4f4878eea59ca.\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12469254,12469254,src/util.cpp
sipa,2014-05-09T10:27:52Z,"I vaguely remember, yes.\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12470496,12470496,src/util.cpp
Diapolo,2014-05-22T14:06:43Z,Couldn't you write just char buf[256] = 0; and it would zero the first array element?\n,https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12951239,12951239,src/netbase.cpp
leofidus,2014-05-23T01:23:19Z,"But that version is more likely to confuse people. I prefer laanwj's more obvious version, even though it's one line longer.\n",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12982851,12982851,src/netbase.cpp
laanwj,2014-05-23T07:34:45Z,"@diapolo That would zero out the entire buffer, which is not necessary here (according to the documentation FormatMessage will always return a null-terminated string or nothing at all). \n\nhttp://msdn.microsoft.com/en-us/library/windows/desktop/ms679351%28v=vs.85%29.aspx\n\nI see though that we don't check the output of FormatMessageA - which can fail, itself. We should probably set a default mes",https://github.com/bitcoin/bitcoin/pull/4152#discussion_r12988563,12988563,src/netbase.cpp
