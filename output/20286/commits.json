[
  {
    "sha": "085b3a729952896ccd0e40c17df569f4421f5493",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowODViM2E3Mjk5NTI4OTZjY2QwZTQwYzE3ZGY1NjlmNDQyMWY1NDkz",
    "commit": {
      "author": {
        "name": "Michael Dietz",
        "email": "michael.dietz@waya.ai",
        "date": "2021-02-01T15:52:07Z"
      },
      "committer": {
        "name": "Michael Dietz",
        "email": "michael.dietz@waya.ai",
        "date": "2021-03-23T14:51:43Z"
      },
      "message": "rpc: deprecate `addresses` and `reqSigs` from rpc outputs\n\n1) add a new sane \"address\" field (for outputs that have an\n   identifiable address, which doesn't include bare multisig)\n2) with -deprecatedrpc: leave \"reqSigs\" and \"addresses\" intact\n   (with all weird/wrong behavior they have now)\n3) without -deprecatedrpc: drop \"reqSigs\" and \"addresses\" entirely,\n   always.",
      "tree": {
        "sha": "b6cfbbd212573c4d9af93cf03c21e39abc4352b0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b6cfbbd212573c4d9af93cf03c21e39abc4352b0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/085b3a729952896ccd0e40c17df569f4421f5493",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEENKwpEUV32QrrIOeYc3/VzfHRRrkFAmBaAH8ACgkQc3/VzfHR\nRrlfpA/9HPufNFg+GQXnd9oraNQwElWIsJG76fVUzti9zKiY12vT1Uu6jPFbAoxH\nshDO7L68zs4ODXhsMyTm44qlVHwbOMEPOHFFhpVOjc4GFWlWDnl6nV3X24wPspEL\nDrEWoa9uBxBApIbdvdk0Nm3GBapOQLCzcBAVrXLp3MzCPOTJFlA1zXXfYLfBygo1\nx7+3FZtGDXkPWCS4BekKm0zJEndprS6CLaN+S/JzzKmF6NRjudNXqMFps4Y4f1fF\nljj7+eQBvHnv66FDY/JORgruXUB5cqU0OOUlBjFGfnAXYQyK3Y8hE05RN+Z3bf6t\nrosXqPcjMt7AliozkebuLFpMBRBqTM5rtIPUO+cUu5tTpNRRthYTvGLmkh4xfV2a\n0GYa7xofuRMTDbplFUk7/1ybDQM/EWDJ+5uQ81dsYneSizAZe9XCJ1/KuKYv3gh+\nm9zd1JMbvZYijUioq5XBcXNJNTvprTMlKkybx1KN2rcwa9iiAX2g2TBX/rXcca60\nz5K2XOfvVMDxpEnYv1X+JmJpEoExlodhaqs+/NOZ/nEv4Z2luDF+KmRI1IxXfBuA\nmfdmrUpcStdGlsds4lL5KRASuMRVXPtDcGcHdm9+WhORHcsP2+pSUBENPHIAPwvN\nsGizgJbjecY5NcgvRISq3p5y5R987Eehh/AaKW/QPeUJHr1vUdg=\n=/98J\n-----END PGP SIGNATURE-----",
        "payload": "tree b6cfbbd212573c4d9af93cf03c21e39abc4352b0\nparent 3c87dbe95c925274f80234ad4a88beb5a05fdfff\nauthor Michael Dietz <michael.dietz@waya.ai> 1612194727 -0600\ncommitter Michael Dietz <michael.dietz@waya.ai> 1616511103 -0400\n\nrpc: deprecate `addresses` and `reqSigs` from rpc outputs\n\n1) add a new sane \"address\" field (for outputs that have an\n   identifiable address, which doesn't include bare multisig)\n2) with -deprecatedrpc: leave \"reqSigs\" and \"addresses\" intact\n   (with all weird/wrong behavior they have now)\n3) without -deprecatedrpc: drop \"reqSigs\" and \"addresses\" entirely,\n   always.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/085b3a729952896ccd0e40c17df569f4421f5493",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/085b3a729952896ccd0e40c17df569f4421f5493",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/085b3a729952896ccd0e40c17df569f4421f5493/comments",
    "author": {
      "login": "mjdietzx",
      "id": 7217256,
      "node_id": "MDQ6VXNlcjcyMTcyNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mjdietzx",
      "html_url": "https://github.com/mjdietzx",
      "followers_url": "https://api.github.com/users/mjdietzx/followers",
      "following_url": "https://api.github.com/users/mjdietzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/mjdietzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
      "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
      "repos_url": "https://api.github.com/users/mjdietzx/repos",
      "events_url": "https://api.github.com/users/mjdietzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "mjdietzx",
      "id": 7217256,
      "node_id": "MDQ6VXNlcjcyMTcyNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mjdietzx",
      "html_url": "https://github.com/mjdietzx",
      "followers_url": "https://api.github.com/users/mjdietzx/followers",
      "following_url": "https://api.github.com/users/mjdietzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/mjdietzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
      "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
      "repos_url": "https://api.github.com/users/mjdietzx/repos",
      "events_url": "https://api.github.com/users/mjdietzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3c87dbe95c925274f80234ad4a88beb5a05fdfff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3c87dbe95c925274f80234ad4a88beb5a05fdfff",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3c87dbe95c925274f80234ad4a88beb5a05fdfff"
      }
    ],
    "stats": {
      "total": 381,
      "additions": 198,
      "deletions": 183
    },
    "files": [
      {
        "sha": "8b281acca773274eb6089598f20ffa8165bdd967",
        "filename": "doc/REST-interface.md",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/doc/REST-interface.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/doc/REST-interface.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/REST-interface.md?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -95,11 +95,8 @@ $ curl localhost:18332/rest/getutxos/checkmempool/b2cdfd7b89def827ff8af7cd9bff76\n          \"scriptPubKey\" : {\n             \"asm\" : \"OP_DUP OP_HASH160 1c7cebb529b86a04c683dfa87be49de35bcf589e OP_EQUALVERIFY OP_CHECKSIG\",\n             \"hex\" : \"76a9141c7cebb529b86a04c683dfa87be49de35bcf589e88ac\",\n-            \"reqSigs\" : 1,\n             \"type\" : \"pubkeyhash\",\n-            \"addresses\" : [\n-               \"mi7as51dvLJsizWnTMurtRmrP8hG2m1XvD\"\n-            ]\n+            \"address\" : \"mi7as51dvLJsizWnTMurtRmrP8hG2m1XvD\"\n          }\n       }\n    ]"
      },
      {
        "sha": "93ac4b8f7ee1452cdc3051ef32053672cd86c576",
        "filename": "src/bitcoin-tx.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/bitcoin-tx.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/bitcoin-tx.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-tx.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -725,7 +725,7 @@ static void MutateTx(CMutableTransaction& tx, const std::string& command,\n static void OutputTxJSON(const CTransaction& tx)\n {\n     UniValue entry(UniValue::VOBJ);\n-    TxToUniv(tx, uint256(), entry);\n+    TxToUniv(tx, uint256(), /* include_addresses */ false, entry);\n \n     std::string jsonOutput = entry.write(4);\n     tfm::format(std::cout, \"%s\\n\", jsonOutput);"
      },
      {
        "sha": "3b9b66574cf7277b0af813d17c2afa0ce007c6fd",
        "filename": "src/core_io.h",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/core_io.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/core_io.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_io.h?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -44,8 +44,8 @@ UniValue ValueFromAmount(const CAmount amount);\n std::string FormatScript(const CScript& script);\n std::string EncodeHexTx(const CTransaction& tx, const int serializeFlags = 0);\n std::string SighashToStr(unsigned char sighash_type);\n-void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex, bool include_addresses);\n void ScriptToUniv(const CScript& script, UniValue& out, bool include_address);\n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_addresses, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n \n #endif // BITCOIN_CORE_IO_H"
      },
      {
        "sha": "b35f835f422088dccee490262a5a6e4b3fb3999d",
        "filename": "src/core_write.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 8,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/core_write.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/core_write.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/core_write.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -156,10 +156,13 @@ void ScriptToUniv(const CScript& script, UniValue& out, bool include_address)\n     }\n }\n \n+// TODO: from v23 (\"addresses\" and \"reqSigs\" deprecated) this method should be refactored to remove the `include_addresses` option\n+// this method can also be combined with `ScriptToUniv` as they will overlap\n void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n-                        UniValue& out, bool fIncludeHex)\n+                        UniValue& out, bool fIncludeHex, bool include_addresses)\n {\n     TxoutType type;\n+    CTxDestination address;\n     std::vector<CTxDestination> addresses;\n     int nRequired;\n \n@@ -172,17 +175,22 @@ void ScriptPubKeyToUniv(const CScript& scriptPubKey,\n         return;\n     }\n \n-    out.pushKV(\"reqSigs\", nRequired);\n+    if (ExtractDestination(scriptPubKey, address)) {\n+        out.pushKV(\"address\", EncodeDestination(address));\n+    }\n     out.pushKV(\"type\", GetTxnOutputType(type));\n \n-    UniValue a(UniValue::VARR);\n-    for (const CTxDestination& addr : addresses) {\n-        a.push_back(EncodeDestination(addr));\n+    if (include_addresses) {\n+        UniValue a(UniValue::VARR);\n+        for (const CTxDestination& addr : addresses) {\n+            a.push_back(EncodeDestination(addr));\n+        }\n+        out.pushKV(\"addresses\", a);\n+        out.pushKV(\"reqSigs\", nRequired);\n     }\n-    out.pushKV(\"addresses\", a);\n }\n \n-void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex, int serialize_flags, const CTxUndo* txundo)\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, bool include_addresses, UniValue& entry, bool include_hex, int serialize_flags, const CTxUndo* txundo)\n {\n     entry.pushKV(\"txid\", tx.GetHash().GetHex());\n     entry.pushKV(\"hash\", tx.GetWitnessHash().GetHex());\n@@ -241,7 +249,7 @@ void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry,\n         out.pushKV(\"n\", (int64_t)i);\n \n         UniValue o(UniValue::VOBJ);\n-        ScriptPubKeyToUniv(txout.scriptPubKey, o, true);\n+        ScriptPubKeyToUniv(txout.scriptPubKey, o, true, include_addresses);\n         out.pushKV(\"scriptPubKey\", o);\n         vout.push_back(out);\n "
      },
      {
        "sha": "2618776b026fb81c6e2eac551d272aed5a29c6ed",
        "filename": "src/rpc/blockchain.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 4,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/blockchain.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/blockchain.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -1113,11 +1113,13 @@ static RPCHelpMan gettxout()\n                 {RPCResult::Type::NUM, \"confirmations\", \"The number of confirmations\"},\n                 {RPCResult::Type::STR_AMOUNT, \"value\", \"The transaction value in \" + CURRENCY_UNIT},\n                 {RPCResult::Type::OBJ, \"scriptPubKey\", \"\", {\n-                    {RPCResult::Type::STR_HEX, \"asm\", \"\"},\n+                    {RPCResult::Type::STR, \"asm\", \"\"},\n                     {RPCResult::Type::STR_HEX, \"hex\", \"\"},\n-                    {RPCResult::Type::NUM, \"reqSigs\", \"Number of required signatures\"},\n-                    {RPCResult::Type::STR_HEX, \"type\", \"The type, eg pubkeyhash\"},\n-                    {RPCResult::Type::ARR, \"addresses\", \"array of bitcoin addresses\", {{RPCResult::Type::STR, \"address\", \"bitcoin address\"}}},\n+                    {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\"},\n+                    {RPCResult::Type::STR, \"type\", \"The type, eg pubkeyhash\"},\n+                    {RPCResult::Type::STR, \"address\", /* optional */ true, \"bitcoin address (only if a well-defined address exists)\"},\n+                    {RPCResult::Type::ARR, \"addresses\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\",\n+                        {{RPCResult::Type::STR, \"address\", \"bitcoin address\"}}},\n                 }},\n                 {RPCResult::Type::BOOL, \"coinbase\", \"Coinbase or not\"},\n             }},\n@@ -1775,6 +1777,16 @@ void CalculatePercentilesByWeight(CAmount result[NUM_GETBLOCKSTATS_PERCENTILES],\n     }\n }\n \n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex)\n+{\n+    ScriptPubKeyToUniv(scriptPubKey, out, fIncludeHex, IsDeprecatedRPCEnabled(\"addresses\"));\n+}\n+\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex, int serialize_flags, const CTxUndo* txundo)\n+{\n+    TxToUniv(tx, hashBlock, IsDeprecatedRPCEnabled(\"addresses\"), entry, include_hex, serialize_flags, txundo);\n+}\n+\n template<typename T>\n static inline bool SetHasKeys(const std::set<T>& set) {return false;}\n template<typename T, typename Tk, typename... Args>"
      },
      {
        "sha": "e719dfc702aa33ffe3cf4ddcbe2e5877a5ddba93",
        "filename": "src/rpc/blockchain.h",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/blockchain.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/blockchain.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/blockchain.h?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -6,6 +6,7 @@\n #define BITCOIN_RPC_BLOCKCHAIN_H\n \n #include <amount.h>\n+#include <core_io.h>\n #include <streams.h>\n #include <sync.h>\n \n@@ -54,6 +55,9 @@ UniValue blockheaderToJSON(const CBlockIndex* tip, const CBlockIndex* blockindex\n /** Used by getblockstats to get feerates at different percentiles by weight  */\n void CalculatePercentilesByWeight(CAmount result[NUM_GETBLOCKSTATS_PERCENTILES], std::vector<std::pair<CAmount, int64_t>>& scores, int64_t total_weight);\n \n+void ScriptPubKeyToUniv(const CScript& scriptPubKey, UniValue& out, bool fIncludeHex);\n+void TxToUniv(const CTransaction& tx, const uint256& hashBlock, UniValue& entry, bool include_hex = true, int serialize_flags = 0, const CTxUndo* txundo = nullptr);\n+\n NodeContext& EnsureNodeContext(const util::Ref& context);\n CTxMemPool& EnsureMemPool(const util::Ref& context);\n ChainstateManager& EnsureChainman(const util::Ref& context);"
      },
      {
        "sha": "7932bd2915c11432e4a56957ac2d9d203c3a4d66",
        "filename": "src/rpc/rawtransaction.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 9,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/rawtransaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/rpc/rawtransaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpc/rawtransaction.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -35,7 +35,6 @@\n #include <validation.h>\n #include <validationinterface.h>\n \n-\n #include <numeric>\n #include <stdint.h>\n \n@@ -132,9 +131,10 @@ static RPCHelpMan getrawtransaction()\n                                      {\n                                          {RPCResult::Type::STR, \"asm\", \"the asm\"},\n                                          {RPCResult::Type::STR, \"hex\", \"the hex\"},\n-                                         {RPCResult::Type::NUM, \"reqSigs\", \"The required sigs\"},\n+                                         {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\"},\n                                          {RPCResult::Type::STR, \"type\", \"The type, eg 'pubkeyhash'\"},\n-                                         {RPCResult::Type::ARR, \"addresses\", \"\",\n+                                         {RPCResult::Type::STR, \"address\", /* optional */ true, \"bitcoin address (only if a well-defined address exists)\"},\n+                                         {RPCResult::Type::ARR, \"addresses\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\",\n                                          {\n                                              {RPCResult::Type::STR, \"address\", \"bitcoin address\"},\n                                          }},\n@@ -490,9 +490,10 @@ static RPCHelpMan decoderawtransaction()\n                                 {\n                                     {RPCResult::Type::STR, \"asm\", \"the asm\"},\n                                     {RPCResult::Type::STR_HEX, \"hex\", \"the hex\"},\n-                                    {RPCResult::Type::NUM, \"reqSigs\", \"The required sigs\"},\n+                                    {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\"},\n                                     {RPCResult::Type::STR, \"type\", \"The type, eg 'pubkeyhash'\"},\n-                                    {RPCResult::Type::ARR, \"addresses\", \"\",\n+                                    {RPCResult::Type::STR, \"address\", /* optional */ true, \"bitcoin address (only if a well-defined address exists)\"},\n+                                    {RPCResult::Type::ARR, \"addresses\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\",\n                                     {\n                                         {RPCResult::Type::STR, \"address\", \"bitcoin address\"},\n                                     }},\n@@ -548,8 +549,9 @@ static RPCHelpMan decodescript()\n                     {\n                         {RPCResult::Type::STR, \"asm\", \"Script public key\"},\n                         {RPCResult::Type::STR, \"type\", \"The output type (e.g. \"+GetAllOutputTypes()+\")\"},\n-                        {RPCResult::Type::NUM, \"reqSigs\", \"The required signatures\"},\n-                        {RPCResult::Type::ARR, \"addresses\", \"\",\n+                        {RPCResult::Type::STR, \"address\", /* optional */ true, \"bitcoin address (only if a well-defined address exists)\"},\n+                        {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\"},\n+                        {RPCResult::Type::ARR, \"addresses\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\",\n                         {\n                             {RPCResult::Type::STR, \"address\", \"bitcoin address\"},\n                         }},\n@@ -559,8 +561,9 @@ static RPCHelpMan decodescript()\n                             {RPCResult::Type::STR, \"asm\", \"String representation of the script public key\"},\n                             {RPCResult::Type::STR_HEX, \"hex\", \"Hex string of the script public key\"},\n                             {RPCResult::Type::STR, \"type\", \"The type of the script public key (e.g. witness_v0_keyhash or witness_v0_scripthash)\"},\n-                            {RPCResult::Type::NUM, \"reqSigs\", \"The required signatures (always 1)\"},\n-                            {RPCResult::Type::ARR, \"addresses\", \"(always length 1)\",\n+                            {RPCResult::Type::STR, \"address\", /* optional */ true, \"bitcoin address (only if a well-defined address exists)\"},\n+                            {RPCResult::Type::NUM, \"reqSigs\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Number of required signatures\"},\n+                            {RPCResult::Type::ARR, \"addresses\", /* optional */ true, \"(DEPRECATED, returned only if config option -deprecatedrpc=addresses is passed) Array of bitcoin addresses\",\n                             {\n                                 {RPCResult::Type::STR, \"address\", \"segwit address\"},\n                             }},"
      },
      {
        "sha": "700155c8d46395d030fd4aba4227d12403da90a7",
        "filename": "src/script/standard.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/script/standard.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/script/standard.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/standard.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -220,14 +220,14 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n         return true;\n     }\n     case TxoutType::MULTISIG:\n-        // Multisig txns have more than one address...\n     case TxoutType::NULL_DATA:\n     case TxoutType::NONSTANDARD:\n         return false;\n     } // no default case, so the compiler can warn about missing cases\n     assert(false);\n }\n \n+// TODO: from v23 (\"addresses\" and \"reqSigs\" deprecated) \"ExtractDestinations\" should be removed\n bool ExtractDestinations(const CScript& scriptPubKey, TxoutType& typeRet, std::vector<CTxDestination>& addressRet, int& nRequiredRet)\n {\n     addressRet.clear();"
      },
      {
        "sha": "f2bf4a8af35019600a1d3d037ab20de603d3a96a",
        "filename": "src/script/standard.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/script/standard.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/script/standard.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/standard.h?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -247,6 +247,8 @@ bool ExtractDestination(const CScript& scriptPubKey, CTxDestination& addressRet)\n  * Note: this function confuses destinations (a subset of CScripts that are\n  * encodable as an address) with key identifiers (of keys involved in a\n  * CScript), and its use should be phased out.\n+ *\n+ * TODO: from v23 (\"addresses\" and \"reqSigs\" deprecated) \"ExtractDestinations\" should be removed\n  */\n bool ExtractDestinations(const CScript& scriptPubKey, TxoutType& typeRet, std::vector<CTxDestination>& addressRet, int& nRequiredRet);\n "
      },
      {
        "sha": "e87ae5b04b883ec2cef51dd51c126d5b05707d04",
        "filename": "src/test/fuzz/script.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/test/fuzz/script.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/test/fuzz/script.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/script.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -103,9 +103,11 @@ FUZZ_TARGET_INIT(script, initialize_script)\n     (void)ScriptToAsmStr(script, true);\n \n     UniValue o1(UniValue::VOBJ);\n-    ScriptPubKeyToUniv(script, o1, true);\n+    ScriptPubKeyToUniv(script, o1, true, true);\n+    ScriptPubKeyToUniv(script, o1, true, false);\n     UniValue o2(UniValue::VOBJ);\n-    ScriptPubKeyToUniv(script, o2, false);\n+    ScriptPubKeyToUniv(script, o2, false, true);\n+    ScriptPubKeyToUniv(script, o2, false, false);\n     UniValue o3(UniValue::VOBJ);\n     ScriptToUniv(script, o3, true);\n     UniValue o4(UniValue::VOBJ);"
      },
      {
        "sha": "17e4405a1368ea21e0c4d421716a426d810fa120",
        "filename": "src/test/fuzz/transaction.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/test/fuzz/transaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/test/fuzz/transaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/transaction.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -100,7 +100,9 @@ FUZZ_TARGET_INIT(transaction, initialize_transaction)\n     (void)IsWitnessStandard(tx, coins_view_cache);\n \n     UniValue u(UniValue::VOBJ);\n-    TxToUniv(tx, /* hashBlock */ {}, u);\n+    TxToUniv(tx, /* hashBlock */ {}, /* include_addresses */ true, u);\n+    TxToUniv(tx, /* hashBlock */ {}, /* include_addresses */ false, u);\n     static const uint256 u256_max(uint256S(\"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"));\n-    TxToUniv(tx, u256_max, u);\n+    TxToUniv(tx, u256_max, /* include_addresses */ true, u);\n+    TxToUniv(tx, u256_max, /* include_addresses */ false, u);\n }"
      },
      {
        "sha": "e70bbafde04e2c51990b4ae70f415b6d03f786c1",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -1741,7 +1741,7 @@ static RPCHelpMan gettransaction()\n \n     if (verbose) {\n         UniValue decoded(UniValue::VOBJ);\n-        TxToUniv(*wtx.tx, uint256(), decoded, false);\n+        TxToUniv(*wtx.tx, uint256(), pwallet->chain().rpcEnableDeprecated(\"addresses\"), decoded, false);\n         entry.pushKV(\"decoded\", decoded);\n     }\n "
      },
      {
        "sha": "945880cc3b8ed76d1aae434e254e26381f302fe4",
        "filename": "test/functional/feature_rbf.py",
        "status": "modified",
        "additions": 1,
        "deletions": 6,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/feature_rbf.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/feature_rbf.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_rbf.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -33,12 +33,7 @@ def make_utxo(node, amount, confirmed=True, scriptPubKey=DUMMY_P2WPKH_SCRIPT):\n     txid = node.sendtoaddress(new_addr, satoshi_round((amount+fee)/COIN))\n     tx1 = node.getrawtransaction(txid, 1)\n     txid = int(txid, 16)\n-    i = None\n-\n-    for i, txout in enumerate(tx1['vout']):\n-        if txout['scriptPubKey']['addresses'] == [new_addr]:\n-            break\n-    assert i is not None\n+    i, _ = next(filter(lambda vout: new_addr == vout[1]['scriptPubKey']['address'], enumerate(tx1['vout'])))\n \n     tx2 = CTransaction()\n     tx2.vin = [CTxIn(COutPoint(txid, i))]"
      },
      {
        "sha": "ad8767556b98c298ff9e2e2e78143967aa13ab3f",
        "filename": "test/functional/feature_segwit.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/feature_segwit.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/feature_segwit.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_segwit.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -523,7 +523,7 @@ def run_test(self):\n         v1_addr = program_to_witness(1, [3, 5])\n         v1_tx = self.nodes[0].createrawtransaction([getutxo(spendable_txid[0])], {v1_addr: 1})\n         v1_decoded = self.nodes[1].decoderawtransaction(v1_tx)\n-        assert_equal(v1_decoded['vout'][0]['scriptPubKey']['addresses'][0], v1_addr)\n+        assert_equal(v1_decoded['vout'][0]['scriptPubKey']['address'], v1_addr)\n         assert_equal(v1_decoded['vout'][0]['scriptPubKey']['hex'], \"51020305\")\n \n         # Check that spendable outputs are really spendable"
      },
      {
        "sha": "884a2fef11b49fd21b95010ffdb0cab202505b0a",
        "filename": "test/functional/mempool_package_onemore.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/mempool_package_onemore.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/mempool_package_onemore.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/mempool_package_onemore.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -80,7 +80,7 @@ def run_test(self):\n         self.chain_transaction(self.nodes[0], [second_chain], [0], second_chain_value, fee, 1)\n \n         # Make sure we can RBF the chain which used our carve-out rule\n-        second_tx_outputs = {self.nodes[0].getrawtransaction(replacable_txid, True)[\"vout\"][0]['scriptPubKey']['addresses'][0]: replacable_orig_value - (Decimal(1) / Decimal(100))}\n+        second_tx_outputs = {self.nodes[0].getrawtransaction(replacable_txid, True)[\"vout\"][0]['scriptPubKey']['address']: replacable_orig_value - (Decimal(1) / Decimal(100))}\n         second_tx = self.nodes[0].createrawtransaction([{'txid': chain[0][0], 'vout': 1}], second_tx_outputs)\n         signed_second_tx = self.nodes[0].signrawtransactionwithwallet(second_tx)\n         self.nodes[0].sendrawtransaction(signed_second_tx['hex'])"
      },
      {
        "sha": "4bee33f8250a6dfaa919337c09e139520bf8292d",
        "filename": "test/functional/p2p_filter.py",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/p2p_filter.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/p2p_filter.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_filter.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -130,7 +130,7 @@ def test_msg_mempool(self):\n         filter_peer = P2PBloomFilter()\n \n         self.log.debug(\"Create a tx relevant to the peer before connecting\")\n-        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['addresses'][0]\n+        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['address']\n         txid = self.nodes[0].sendtoaddress(filter_address, 90)\n \n         self.log.debug(\"Send a mempool msg after connecting and check that the tx is received\")\n@@ -142,7 +142,7 @@ def test_msg_mempool(self):\n     def test_frelay_false(self, filter_peer):\n         self.log.info(\"Check that a node with fRelay set to false does not receive invs until the filter is set\")\n         filter_peer.tx_received = False\n-        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['addresses'][0]\n+        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['address']\n         self.nodes[0].sendtoaddress(filter_address, 90)\n         # Sync to make sure the reason filter_peer doesn't receive the tx is not p2p delays\n         filter_peer.sync_with_ping()\n@@ -156,7 +156,7 @@ def test_filter(self, filter_peer):\n         filter_peer.send_and_ping(filter_peer.watch_filter_init)\n         # If fRelay is not already True, sending filterload sets it to True\n         assert self.nodes[0].getpeerinfo()[0]['relaytxes']\n-        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['addresses'][0]\n+        filter_address = self.nodes[0].decodescript(filter_peer.watch_script_pubkey)['address']\n \n         self.log.info('Check that we receive merkleblock and tx if the filter matches a tx in a block')\n         block_hash = self.nodes[0].generatetoaddress(1, filter_address)[0]"
      },
      {
        "sha": "bc0559f3b542fcd8fa76c39a56e3e8ebec9bb105",
        "filename": "test/functional/rpc_addresses_deprecation.py",
        "status": "added",
        "additions": 58,
        "deletions": 0,
        "changes": 58,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_addresses_deprecation.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_addresses_deprecation.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_addresses_deprecation.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -0,0 +1,58 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test deprecation of reqSigs and addresses RPC fields.\"\"\"\n+\n+from io import BytesIO\n+\n+from test_framework.messages import CTransaction\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (\n+    assert_equal,\n+    hex_str_to_bytes\n+)\n+\n+\n+class AddressesDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.extra_args = [[], [\"-deprecatedrpc=addresses\"]]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        self.test_addresses_deprecation()\n+\n+    def test_addresses_deprecation(self):\n+        node = self.nodes[0]\n+        coin = node.listunspent().pop()\n+\n+        inputs = [{'txid': coin['txid'], 'vout': coin['vout']}]\n+        outputs = {node.getnewaddress(): 0.99}\n+        raw = node.createrawtransaction(inputs, outputs)\n+        signed = node.signrawtransactionwithwallet(raw)['hex']\n+\n+        # This transaction is derived from test/util/data/txcreatemultisig1.json\n+        tx = CTransaction()\n+        tx.deserialize(BytesIO(hex_str_to_bytes(signed)))\n+        tx.vout[0].scriptPubKey = hex_str_to_bytes(\"522102a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff39721021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d2102df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb48553ae\")\n+        tx_signed = node.signrawtransactionwithwallet(tx.serialize().hex())['hex']\n+        txid = node.sendrawtransaction(hexstring=tx_signed, maxfeerate=0)\n+\n+        self.log.info(\"Test RPCResult scriptPubKey no longer returns the fields addresses or reqSigs by default\")\n+        hash = node.generateblock(output=node.getnewaddress(), transactions=[txid])['hash']\n+        # Ensure both nodes have the newly generated block on disk.\n+        self.sync_blocks()\n+        script_pub_key = node.getblock(blockhash=hash, verbose=2)['tx'][-1]['vout'][0]['scriptPubKey']\n+        assert 'addresses' not in script_pub_key and 'reqSigs' not in script_pub_key\n+\n+        self.log.info(\"Test RPCResult scriptPubKey returns the addresses field with -deprecatedrpc=addresses\")\n+        script_pub_key = self.nodes[1].getblock(blockhash=hash, verbose=2)['tx'][-1]['vout'][0]['scriptPubKey']\n+        assert_equal(script_pub_key['addresses'], ['mvKDK6D54HU8wQumJBLHY95eq5iHFqXSBz', 'mv3rHCQSwKp2BLSuMHD8uCS32LW5xiNAA5', 'mirrsyhAQYzo5CwVhcaYJKwUJu1WJRCRJe'])\n+        assert_equal(script_pub_key['reqSigs'], 2)\n+\n+\n+if __name__ == \"__main__\":\n+    AddressesDeprecationTest().main()"
      },
      {
        "sha": "19f0d5765a15bc9817fccc9e819adaec08d12e43",
        "filename": "test/functional/rpc_createmultisig.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_createmultisig.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_createmultisig.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_createmultisig.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -165,7 +165,7 @@ def do_multisig(self):\n         txid = node0.sendtoaddress(madd, 40)\n \n         tx = node0.getrawtransaction(txid, True)\n-        vout = [v[\"n\"] for v in tx[\"vout\"] if madd in v[\"scriptPubKey\"].get(\"addresses\", [])]\n+        vout = [v[\"n\"] for v in tx[\"vout\"] if madd == v[\"scriptPubKey\"][\"address\"]]\n         assert len(vout) == 1\n         vout = vout[0]\n         scriptPubKey = tx[\"vout\"][vout][\"scriptPubKey\"][\"hex\"]"
      },
      {
        "sha": "5129ecb8956ecd7d5c396f27cec5870feb817a5a",
        "filename": "test/functional/rpc_fundrawtransaction.py",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_fundrawtransaction.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_fundrawtransaction.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_fundrawtransaction.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -248,7 +248,7 @@ def test_valid_change_address(self):\n         rawtxfund = self.nodes[2].fundrawtransaction(rawtx, {'changeAddress': change, 'changePosition': 0})\n         dec_tx  = self.nodes[2].decoderawtransaction(rawtxfund['hex'])\n         out = dec_tx['vout'][0]\n-        assert_equal(change, out['scriptPubKey']['addresses'][0])\n+        assert_equal(change, out['scriptPubKey']['address'])\n \n     def test_change_type(self):\n         self.log.info(\"Test fundrawtxn with a provided change type\")\n@@ -288,7 +288,7 @@ def test_coin_selection(self):\n         matchingOuts = 0\n         for i, out in enumerate(dec_tx['vout']):\n             totalOut += out['value']\n-            if out['scriptPubKey']['addresses'][0] in outputs:\n+            if out['scriptPubKey']['address'] in outputs:\n                 matchingOuts+=1\n             else:\n                 assert_equal(i, rawtxfund['changepos'])\n@@ -319,7 +319,7 @@ def test_two_vin(self):\n         matchingOuts = 0\n         for out in dec_tx['vout']:\n             totalOut += out['value']\n-            if out['scriptPubKey']['addresses'][0] in outputs:\n+            if out['scriptPubKey']['address'] in outputs:\n                 matchingOuts+=1\n \n         assert_equal(matchingOuts, 1)\n@@ -353,7 +353,7 @@ def test_two_vin_two_vout(self):\n         matchingOuts = 0\n         for out in dec_tx['vout']:\n             totalOut += out['value']\n-            if out['scriptPubKey']['addresses'][0] in outputs:\n+            if out['scriptPubKey']['address'] in outputs:\n                 matchingOuts+=1\n \n         assert_equal(matchingOuts, 2)\n@@ -802,7 +802,7 @@ def test_address_reuse(self):\n         changeaddress = \"\"\n         for out in res_dec['vout']:\n             if out['value'] > 1.0:\n-                changeaddress += out['scriptPubKey']['addresses'][0]\n+                changeaddress += out['scriptPubKey']['address']\n         assert changeaddress != \"\"\n         nextaddr = self.nodes[3].getnewaddress()\n         # Now the change address key should be removed from the keypool."
      },
      {
        "sha": "742441648442923e7eb89c69a4be4f6392649ae9",
        "filename": "test/functional/rpc_generateblock.py",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_generateblock.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_generateblock.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_generateblock.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -27,29 +27,29 @@ def run_test(self):\n         hash = node.generateblock(output=address, transactions=[])['hash']\n         block = node.getblock(blockhash=hash, verbose=2)\n         assert_equal(len(block['tx']), 1)\n-        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['addresses'][0], address)\n+        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['address'], address)\n \n         self.log.info('Generate an empty block to a descriptor')\n         hash = node.generateblock('addr(' + address + ')', [])['hash']\n         block = node.getblock(blockhash=hash, verbosity=2)\n         assert_equal(len(block['tx']), 1)\n-        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['addresses'][0], address)\n+        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['address'], address)\n \n         self.log.info('Generate an empty block to a combo descriptor with compressed pubkey')\n         combo_key = '0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798'\n         combo_address = 'bcrt1qw508d6qejxtdg4y5r3zarvary0c5xw7kygt080'\n         hash = node.generateblock('combo(' + combo_key + ')', [])['hash']\n         block = node.getblock(hash, 2)\n         assert_equal(len(block['tx']), 1)\n-        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['addresses'][0], combo_address)\n+        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['address'], combo_address)\n \n         self.log.info('Generate an empty block to a combo descriptor with uncompressed pubkey')\n         combo_key = '0408ef68c46d20596cc3f6ddf7c8794f71913add807f1dc55949fa805d764d191c0b7ce6894c126fce0babc6663042f3dde9b0cf76467ea315514e5a6731149c67'\n         combo_address = 'mkc9STceoCcjoXEXe6cm66iJbmjM6zR9B2'\n         hash = node.generateblock('combo(' + combo_key + ')', [])['hash']\n         block = node.getblock(hash, 2)\n         assert_equal(len(block['tx']), 1)\n-        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['addresses'][0], combo_address)\n+        assert_equal(block['tx'][0]['vout'][0]['scriptPubKey']['address'], combo_address)\n \n         # Generate 110 blocks to spend\n         node.generatetoaddress(110, address)"
      },
      {
        "sha": "079a3bd3baafabb0948e248f024898c35eacf64f",
        "filename": "test/functional/rpc_psbt.py",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_psbt.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/rpc_psbt.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_psbt.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -158,17 +158,17 @@ def run_test(self):\n         p2sh_p2wpkh_pos = -1\n         decoded = self.nodes[0].decoderawtransaction(signed_tx)\n         for out in decoded['vout']:\n-            if out['scriptPubKey']['addresses'][0] == p2sh:\n+            if out['scriptPubKey']['address'] == p2sh:\n                 p2sh_pos = out['n']\n-            elif out['scriptPubKey']['addresses'][0] == p2wsh:\n+            elif out['scriptPubKey']['address'] == p2wsh:\n                 p2wsh_pos = out['n']\n-            elif out['scriptPubKey']['addresses'][0] == p2wpkh:\n+            elif out['scriptPubKey']['address'] == p2wpkh:\n                 p2wpkh_pos = out['n']\n-            elif out['scriptPubKey']['addresses'][0] == p2sh_p2wsh:\n+            elif out['scriptPubKey']['address'] == p2sh_p2wsh:\n                 p2sh_p2wsh_pos = out['n']\n-            elif out['scriptPubKey']['addresses'][0] == p2sh_p2wpkh:\n+            elif out['scriptPubKey']['address'] == p2sh_p2wpkh:\n                 p2sh_p2wpkh_pos = out['n']\n-            elif out['scriptPubKey']['addresses'][0] == p2pkh:\n+            elif out['scriptPubKey']['address'] == p2pkh:\n                 p2pkh_pos = out['n']\n \n         inputs = [{\"txid\": txid, \"vout\": p2wpkh_pos}, {\"txid\": txid, \"vout\": p2sh_p2wpkh_pos}, {\"txid\": txid, \"vout\": p2pkh_pos}]"
      },
      {
        "sha": "5c774934be4630c897634636e138447a37983df5",
        "filename": "test/functional/test_framework/util.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/test_framework/util.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/test_framework/util.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_framework/util.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -543,7 +543,7 @@ def find_vout_for_address(node, txid, addr):\n     \"\"\"\n     tx = node.getrawtransaction(txid, True)\n     for i in range(len(tx[\"vout\"])):\n-        if any([addr == a for a in tx[\"vout\"][i][\"scriptPubKey\"][\"addresses\"]]):\n+        if addr == tx[\"vout\"][i][\"scriptPubKey\"][\"address\"]:\n             return i\n     raise RuntimeError(\"Vout not found for address: txid=%s, addr=%s\" % (txid, addr))\n "
      },
      {
        "sha": "defe334bd813edc0ce8df4408b872a2d5e3414e0",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -286,6 +286,7 @@\n     'feature_config_args.py',\n     'feature_settings.py',\n     'rpc_getdescriptorinfo.py',\n+    'rpc_addresses_deprecation.py',\n     'rpc_help.py',\n     'feature_help.py',\n     'feature_shutdown.py',"
      },
      {
        "sha": "b3bee1876d218e8ebb76fb1998c2e7b7fa04f1f0",
        "filename": "test/functional/wallet_address_types.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_address_types.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_address_types.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_address_types.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -210,7 +210,7 @@ def test_change_output_type(self, node_sender, destinations, expected_type):\n         assert_equal(len(tx[\"vout\"]), len(destinations) + 1)\n \n         # Make sure the destinations are included, and remove them:\n-        output_addresses = [vout['scriptPubKey']['addresses'][0] for vout in tx[\"vout\"]]\n+        output_addresses = [vout['scriptPubKey']['address'] for vout in tx[\"vout\"]]\n         change_addresses = [d for d in output_addresses if d not in destinations]\n         assert_equal(len(change_addresses), 1)\n "
      },
      {
        "sha": "1d3736d9b1a5d1ce27e74a97c66046021c1a17c5",
        "filename": "test/functional/wallet_avoidreuse.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_avoidreuse.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_avoidreuse.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_avoidreuse.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -253,7 +253,7 @@ def test_sending_from_reused_address_fails(self, second_addr_type):\n             if second_addr_type == \"p2sh-segwit\":\n                 new_fundaddr = fund_decoded[\"segwit\"][\"p2sh-segwit\"]\n             elif second_addr_type == \"bech32\":\n-                new_fundaddr = fund_decoded[\"segwit\"][\"addresses\"][0]\n+                new_fundaddr = fund_decoded[\"segwit\"][\"address\"]\n             else:\n                 new_fundaddr = fundaddr\n                 assert_equal(second_addr_type, \"legacy\")"
      },
      {
        "sha": "dc6f8ed9c43f28ac618d19b08c234f1abcd2886d",
        "filename": "test/functional/wallet_basic.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_basic.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_basic.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_basic.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -600,7 +600,7 @@ def run_test(self):\n         destination = self.nodes[1].getnewaddress()\n         txid = self.nodes[0].sendtoaddress(destination, 0.123)\n         tx = self.nodes[0].decoderawtransaction(self.nodes[0].gettransaction(txid)['hex'])\n-        output_addresses = [vout['scriptPubKey']['addresses'][0] for vout in tx[\"vout\"]]\n+        output_addresses = [vout['scriptPubKey']['address'] for vout in tx[\"vout\"]]\n         assert len(output_addresses) > 1\n         for address in output_addresses:\n             ischange = self.nodes[0].getaddressinfo(address)['ischange']"
      },
      {
        "sha": "0d1b6c54cea29226eef6b35848e831f7f0fdd5fe",
        "filename": "test/functional/wallet_bumpfee.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_bumpfee.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_bumpfee.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_bumpfee.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -535,7 +535,7 @@ def test_change_script_match(self, rbf_node, dest_address):\n \n     def get_change_address(tx):\n         tx_details = rbf_node.getrawtransaction(tx, 1)\n-        txout_addresses = [txout['scriptPubKey']['addresses'][0] for txout in tx_details[\"vout\"]]\n+        txout_addresses = [txout['scriptPubKey']['address'] for txout in tx_details[\"vout\"]]\n         return [address for address in txout_addresses if rbf_node.getaddressinfo(address)[\"ischange\"]]\n \n     # Check that there is only one change output"
      },
      {
        "sha": "23d132df414a142818e661c9a2a956acce8d9cae",
        "filename": "test/functional/wallet_hd.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_hd.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_hd.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_hd.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -132,7 +132,7 @@ def run_test(self):\n         keypath = \"\"\n         for out in outs:\n             if out['value'] != 1:\n-                keypath = self.nodes[1].getaddressinfo(out['scriptPubKey']['addresses'][0])['hdkeypath']\n+                keypath = self.nodes[1].getaddressinfo(out['scriptPubKey']['address'])['hdkeypath']\n \n         if self.options.descriptors:\n             assert_equal(keypath[0:14], \"m/84'/1'/0'/1/\")"
      },
      {
        "sha": "53553dcd807a813b9b34abe706c25b195b215d6a",
        "filename": "test/functional/wallet_send.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_send.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_send.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_send.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -389,10 +389,10 @@ def run_test(self):\n         assert res[\"complete\"]\n         res = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, add_to_wallet=False, change_address=change_address, change_position=0)\n         assert res[\"complete\"]\n-        assert_equal(self.nodes[0].decodepsbt(res[\"psbt\"])[\"tx\"][\"vout\"][0][\"scriptPubKey\"][\"addresses\"], [change_address])\n+        assert_equal(self.nodes[0].decodepsbt(res[\"psbt\"])[\"tx\"][\"vout\"][0][\"scriptPubKey\"][\"address\"], change_address)\n         res = self.test_send(from_wallet=w0, to_wallet=w1, amount=1, add_to_wallet=False, change_type=\"legacy\", change_position=0)\n         assert res[\"complete\"]\n-        change_address = self.nodes[0].decodepsbt(res[\"psbt\"])[\"tx\"][\"vout\"][0][\"scriptPubKey\"][\"addresses\"][0]\n+        change_address = self.nodes[0].decodepsbt(res[\"psbt\"])[\"tx\"][\"vout\"][0][\"scriptPubKey\"][\"address\"]\n         assert change_address[0] == \"m\" or change_address[0] == \"n\"\n \n         self.log.info(\"Set lock time...\")"
      },
      {
        "sha": "84ff9ad772ae09fef5b7f2085034e3f6cd00335f",
        "filename": "test/functional/wallet_txn_clone.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_txn_clone.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/functional/wallet_txn_clone.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_txn_clone.py?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -65,8 +65,8 @@ def run_test(self):\n         # Construct a clone of tx1, to be malleated\n         rawtx1 = self.nodes[0].getrawtransaction(txid1, 1)\n         clone_inputs = [{\"txid\": rawtx1[\"vin\"][0][\"txid\"], \"vout\": rawtx1[\"vin\"][0][\"vout\"], \"sequence\": rawtx1[\"vin\"][0][\"sequence\"]}]\n-        clone_outputs = {rawtx1[\"vout\"][0][\"scriptPubKey\"][\"addresses\"][0]: rawtx1[\"vout\"][0][\"value\"],\n-                         rawtx1[\"vout\"][1][\"scriptPubKey\"][\"addresses\"][0]: rawtx1[\"vout\"][1][\"value\"]}\n+        clone_outputs = {rawtx1[\"vout\"][0][\"scriptPubKey\"][\"address\"]: rawtx1[\"vout\"][0][\"value\"],\n+                         rawtx1[\"vout\"][1][\"scriptPubKey\"][\"address\"]: rawtx1[\"vout\"][1][\"value\"]}\n         clone_locktime = rawtx1[\"locktime\"]\n         clone_raw = self.nodes[0].createrawtransaction(clone_inputs, clone_outputs, clone_locktime)\n "
      },
      {
        "sha": "c5b9f6df01e1f2b7b27779792b3acd3ba10fb37a",
        "filename": "test/util/data/tt-delin1-out.json",
        "status": "modified",
        "additions": 4,
        "deletions": 10,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-delin1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-delin1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-delin1-out.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -195,11 +195,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 8fd139bb39ced713f231c58a4d07bf6954d1c201 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9148fd139bb39ced713f231c58a4d07bf6954d1c20188ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\"\n-                ]\n+                \"address\": \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         },\n         {\n@@ -208,11 +205,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 6c772e9cf96371bba3da8cb733da70a2fcf20078 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9146c772e9cf96371bba3da8cb733da70a2fcf2007888ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1AtWkdmfmYkErU16d3KYykJUbEp9MAj9Sb\"\n-                ]\n+                \"address\": \"1AtWkdmfmYkErU16d3KYykJUbEp9MAj9Sb\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "38634164309b2c33048a8aa73ecf82f92d69487c",
        "filename": "test/util/data/tt-delout1-out.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-delout1-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-delout1-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-delout1-out.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -204,11 +204,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 8fd139bb39ced713f231c58a4d07bf6954d1c201 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9148fd139bb39ced713f231c58a4d07bf6954d1c20188ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\"\n-                ]\n+                \"address\": \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "62e785f7d08550223ebfc2b9f584b4d3d09c12d8",
        "filename": "test/util/data/tt-locktime317000-out.json",
        "status": "modified",
        "additions": 4,
        "deletions": 10,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-locktime317000-out.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/tt-locktime317000-out.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/tt-locktime317000-out.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -204,11 +204,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 8fd139bb39ced713f231c58a4d07bf6954d1c201 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9148fd139bb39ced713f231c58a4d07bf6954d1c20188ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\"\n-                ]\n+                \"address\": \"1E7SGgAZFCHDnVZLuRViX3gUmxpMfdvd2o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         },\n         {\n@@ -217,11 +214,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 6c772e9cf96371bba3da8cb733da70a2fcf20078 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9146c772e9cf96371bba3da8cb733da70a2fcf2007888ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1AtWkdmfmYkErU16d3KYykJUbEp9MAj9Sb\"\n-                ]\n+                \"address\": \"1AtWkdmfmYkErU16d3KYykJUbEp9MAj9Sb\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "96d77ef273194fe1e2dd8021a8b31f0a675acc09",
        "filename": "test/util/data/txcreate1.json",
        "status": "modified",
        "additions": 4,
        "deletions": 10,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreate1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreate1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreate1.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -42,11 +42,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 1fc11f39be1729bf973a7ab6a615ca4729d64574 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9141fc11f39be1729bf973a7ab6a615ca4729d6457488ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"\n-                ]\n+                \"address\": \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         },\n         {\n@@ -55,11 +52,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 f2d4db28cad6502226ee484ae24505c2885cb12d OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a914f2d4db28cad6502226ee484ae24505c2885cb12d88ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"1P8yWvZW8jVihP1bzHeqfE4aoXNX8AVa46\"\n-                ]\n+                \"address\": \"1P8yWvZW8jVihP1bzHeqfE4aoXNX8AVa46\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "87fc7e9cf740f4814fea5f7d1646a36cee9be100",
        "filename": "test/util/data/txcreatedata1.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata1.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -24,11 +24,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 1fc11f39be1729bf973a7ab6a615ca4729d64574 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9141fc11f39be1729bf973a7ab6a615ca4729d6457488ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"\n-                ]\n+                \"address\": \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         },\n         {"
      },
      {
        "sha": "d03b1c8244729f2360af60ca2a0d819762bf11c7",
        "filename": "test/util/data/txcreatedata2.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata2.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -24,11 +24,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 1fc11f39be1729bf973a7ab6a615ca4729d64574 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9141fc11f39be1729bf973a7ab6a615ca4729d6457488ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"\n-                ]\n+                \"address\": \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         },\n         {"
      },
      {
        "sha": "8a123f1ba876587219934bbe04f274e273001e55",
        "filename": "test/util/data/txcreatedata_seq0.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata_seq0.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata_seq0.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata_seq0.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -24,11 +24,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 1fc11f39be1729bf973a7ab6a615ca4729d64574 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9141fc11f39be1729bf973a7ab6a615ca4729d6457488ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"\n-                ]\n+                \"address\": \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "006fd7259ff2f0322a3886b38f98b8e5550ba33f",
        "filename": "test/util/data/txcreatedata_seq1.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata_seq1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatedata_seq1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatedata_seq1.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -33,11 +33,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 1fc11f39be1729bf973a7ab6a615ca4729d64574 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9141fc11f39be1729bf973a7ab6a615ca4729d6457488ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\"\n-                ]\n+                \"address\": \"13tuJJDR2RgArmgfv6JScSdreahzgc4T6o\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "baa290c2b14199b29fb28efe1658667083e788ef",
        "filename": "test/util/data/txcreatemultisig1.json",
        "status": "modified",
        "additions": 1,
        "deletions": 7,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig1.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,13 +15,7 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"2 02a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff397 021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d 02df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb485 3 OP_CHECKMULTISIG\",\n                 \"hex\": \"522102a5613bd857b7048924264d1e70e08fb2a7e6527d32b7ab1bb993ac59964ff39721021ac43c7ff740014c3b33737ede99c967e4764553d1b2b83db77c83b8715fa72d2102df2089105c77f266fa11a9d33f05c735234075f2e8780824c6b709415f9fb48553ae\",\n-                \"reqSigs\": 2,\n-                \"type\": \"multisig\",\n-                \"addresses\": [\n-                    \"1FoG2386FG2tAJS9acMuiDsKy67aGg9MKz\",\n-                    \"1FXtz9KU8JNmQDyHdiEm5HDiALuP3zdHvV\",\n-                    \"14LuavcBbXZYJ6Tsz3cAUQj9SuQoL2xCQX\"\n-                ]\n+                \"type\": \"multisig\"\n             }\n         }\n     ],"
      },
      {
        "sha": "66855125875729afc170cd83ecc26c68b084e091",
        "filename": "test/util/data/txcreatemultisig2.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig2.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 1c6fbaf46d64221e80cbae182c33ddf81b9294ac OP_EQUAL\",\n                 \"hex\": \"a9141c6fbaf46d64221e80cbae182c33ddf81b9294ac87\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"34HNh57oBCRKkxNyjTuWAJkTbuGh6jg2Ms\"\n-                ]\n+                \"address\": \"34HNh57oBCRKkxNyjTuWAJkTbuGh6jg2Ms\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "be96f4c704f0a036537cc0b98b3d10a5fad3b2ae",
        "filename": "test/util/data/txcreatemultisig3.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig3.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"0 e15a86a23178f433d514dbbce042e87d72662b8b5edcacfd2e37ab7a2d135f05\",\n                 \"hex\": \"0020e15a86a23178f433d514dbbce042e87d72662b8b5edcacfd2e37ab7a2d135f05\",\n-                \"reqSigs\": 1,\n-                \"type\": \"witness_v0_scripthash\",\n-                \"addresses\": [\n-                    \"bc1qu9dgdg330r6r84g5mw7wqshg04exv2uttmw2elfwx74h5tgntuzs44gyfg\"\n-                ]\n+                \"address\": \"bc1qu9dgdg330r6r84g5mw7wqshg04exv2uttmw2elfwx74h5tgntuzs44gyfg\",\n+                \"type\": \"witness_v0_scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "08831ecdcacb0b2fd0b9d7dd526de8bb39e2c1ab",
        "filename": "test/util/data/txcreatemultisig4.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig4.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig4.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig4.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 6edf12858999f0dae74f9c692e6694ee3621b2ac OP_EQUAL\",\n                 \"hex\": \"a9146edf12858999f0dae74f9c692e6694ee3621b2ac87\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"3BoFUz1StqcNcgUTZE5cC1eFhuYFzj3fGH\"\n-                ]\n+                \"address\": \"3BoFUz1StqcNcgUTZE5cC1eFhuYFzj3fGH\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "93048cf26169e1e0a99ffc387cafe9a7737e74da",
        "filename": "test/util/data/txcreatemultisig5.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig5.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatemultisig5.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatemultisig5.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 a4051c02398868af83f28f083208fae99a769263 OP_EQUAL\",\n                 \"hex\": \"a914a4051c02398868af83f28f083208fae99a76926387\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"3GeGs1eHUxPz5YyuFe9WPpXid2UsUb5Jos\"\n-                ]\n+                \"address\": \"3GeGs1eHUxPz5YyuFe9WPpXid2UsUb5Jos\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "52168a889bcb4a426d538d043ccd0f99f3d02a81",
        "filename": "test/util/data/txcreateoutpubkey2.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreateoutpubkey2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreateoutpubkey2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreateoutpubkey2.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"0 a2516e770582864a6a56ed21a102044e388c62e3\",\n                 \"hex\": \"0014a2516e770582864a6a56ed21a102044e388c62e3\",\n-                \"reqSigs\": 1,\n-                \"type\": \"witness_v0_keyhash\",\n-                \"addresses\": [\n-                    \"bc1q5fgkuac9s2ry56jka5s6zqsyfcugcchry5cwu0\"\n-                ]\n+                \"address\": \"bc1q5fgkuac9s2ry56jka5s6zqsyfcugcchry5cwu0\",\n+                \"type\": \"witness_v0_keyhash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "fce210f8a38384b0947c64e406c0cff82736fd5d",
        "filename": "test/util/data/txcreateoutpubkey3.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreateoutpubkey3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreateoutpubkey3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreateoutpubkey3.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 a5ab14c9804d0d8bf02f1aea4e82780733ad0a83 OP_EQUAL\",\n                 \"hex\": \"a914a5ab14c9804d0d8bf02f1aea4e82780733ad0a8387\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"3GnzN8FqgvYGYdhj8NW6UNxxVv3Uj1ApQn\"\n-                ]\n+                \"address\": \"3GnzN8FqgvYGYdhj8NW6UNxxVv3Uj1ApQn\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "2cde70fdf755a6874eb19dbccd9bf899f78c6023",
        "filename": "test/util/data/txcreatescript2.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript2.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript2.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript2.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 71ed53322d470bb96657deb786b94f97dd46fb15 OP_EQUAL\",\n                 \"hex\": \"a91471ed53322d470bb96657deb786b94f97dd46fb1587\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"3C5QarEGh9feKbDJ3QbMf2YNjnMoiPDhNp\"\n-                ]\n+                \"address\": \"3C5QarEGh9feKbDJ3QbMf2YNjnMoiPDhNp\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "7a282faf4fac9f1dc7c566e78c422dd10cdfca88",
        "filename": "test/util/data/txcreatescript3.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript3.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript3.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript3.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"0 0bfe935e70c321c7ca3afc75ce0d0ca2f98b5422e008bb31c00c6d7f1f1c0ad6\",\n                 \"hex\": \"00200bfe935e70c321c7ca3afc75ce0d0ca2f98b5422e008bb31c00c6d7f1f1c0ad6\",\n-                \"reqSigs\": 1,\n-                \"type\": \"witness_v0_scripthash\",\n-                \"addresses\": [\n-                    \"bc1qp0lfxhnscvsu0j36l36uurgv5tuck4pzuqytkvwqp3kh78cupttqyf705v\"\n-                ]\n+                \"address\": \"bc1qp0lfxhnscvsu0j36l36uurgv5tuck4pzuqytkvwqp3kh78cupttqyf705v\",\n+                \"type\": \"witness_v0_scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "298b37bb4a0e05a4c2a9f2681cae67d1a3064751",
        "filename": "test/util/data/txcreatescript4.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript4.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatescript4.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatescript4.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -15,11 +15,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_HASH160 6a2c482f4985f57e702f325816c90e3723ca81ae OP_EQUAL\",\n                 \"hex\": \"a9146a2c482f4985f57e702f325816c90e3723ca81ae87\",\n-                \"reqSigs\": 1,\n-                \"type\": \"scripthash\",\n-                \"addresses\": [\n-                    \"3BNQbeFeJJGMAyDxPwWPuqxPMrjsFLjk3f\"\n-                ]\n+                \"address\": \"3BNQbeFeJJGMAyDxPwWPuqxPMrjsFLjk3f\",\n+                \"type\": \"scripthash\"\n             }\n         }\n     ],"
      },
      {
        "sha": "ca5e003110377b306c652977a44b716ba169884b",
        "filename": "test/util/data/txcreatesignv1.json",
        "status": "modified",
        "additions": 2,
        "deletions": 5,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatesignv1.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/085b3a729952896ccd0e40c17df569f4421f5493/test/util/data/txcreatesignv1.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/util/data/txcreatesignv1.json?ref=085b3a729952896ccd0e40c17df569f4421f5493",
        "patch": "@@ -24,11 +24,8 @@\n             \"scriptPubKey\": {\n                 \"asm\": \"OP_DUP OP_HASH160 5834479edbbe0539b31ffd3a8f8ebadc2165ed01 OP_EQUALVERIFY OP_CHECKSIG\",\n                 \"hex\": \"76a9145834479edbbe0539b31ffd3a8f8ebadc2165ed0188ac\",\n-                \"reqSigs\": 1,\n-                \"type\": \"pubkeyhash\",\n-                \"addresses\": [\n-                    \"193P6LtvS4nCnkDvM9uXn1gsSRqh4aDAz7\"\n-                ]\n+                \"address\": \"193P6LtvS4nCnkDvM9uXn1gsSRqh4aDAz7\",\n+                \"type\": \"pubkeyhash\"\n             }\n         }\n     ],"
      }
    ]
  },
  {
    "sha": "90ae3d8ca68334ec712d67b21a8d4721c6d79788",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MGFlM2Q4Y2E2ODMzNGVjNzEyZDY3YjIxYThkNDcyMWM2ZDc5Nzg4",
    "commit": {
      "author": {
        "name": "Michael Dietz",
        "email": "michael.dietz@waya.ai",
        "date": "2021-02-01T15:52:46Z"
      },
      "committer": {
        "name": "Michael Dietz",
        "email": "michael.dietz@waya.ai",
        "date": "2021-03-23T14:51:46Z"
      },
      "message": "doc: Add release notes for -deprecatedrpc=addresses and bitcoin-tx",
      "tree": {
        "sha": "bb17adf11883adf138e557f3c85415dcd71add5a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/bb17adf11883adf138e557f3c85415dcd71add5a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/90ae3d8ca68334ec712d67b21a8d4721c6d79788",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEENKwpEUV32QrrIOeYc3/VzfHRRrkFAmBaAIIACgkQc3/VzfHR\nRrkMpxAAmqmvk8Gjq5oQzS6mffnalxp/h7E0er67YCGF/EzEzn8hymchKH4InJCY\ntWbLR76FDEVI4qxFOw+psVm3BDa5S/rcYG4dWxkF1JlDM9ywJ476oC2oiwQMkuUz\ntC8s4DsXTZ/bYAdGJGEvRjCN3M8uq94s0tVeJYit2BAP34gFoorUjoCZKgaiv5ws\nHoDyDqvCCZPsZt4yyK1ZjRZhlijs2ulgbGUaxMKoJ5jua/OrMaVIagLrT9DV0XER\nyIV+UHfaMQ14zQAwFFkq4oSct34pN4S+VxOwzCqbrlwm2fPxl2T8lgNjqcdTdjcR\nv8atFkTeIkr4xuNH3kL+VpfJwGfeB2dQsRrK9/jEO3COSgeF53XIM4wYBIpFmtWa\nkqYgAMdt18/5jLHC4l7sGw+BKcmgPFpsMyTMnDv8mV0YTlJHopFmHX3X6ydkOo8d\nuLnoqjcf73LEHJ9jAUEbH4fkHbVhOX/fVjxGpzHmnm8GnyPXGAA8JFxfMbl5dRcV\nsSj995Rn4pYkclHb0l2t0pdNFQiTqgCDTBiRYoVZvm3+KMlK2hiNq8Pxd01nZao0\nKqvNfpaNM0xjkFpCYAD5uGaPLphorG7D9BPmZve93R3tnocjg+6R7+mG138U2aH7\nBASHfG3t6nD/eMU8XcHW9WIgtNZhtDEdEc7Yx7C6fkli9Kxl3BE=\n=USIQ\n-----END PGP SIGNATURE-----",
        "payload": "tree bb17adf11883adf138e557f3c85415dcd71add5a\nparent 085b3a729952896ccd0e40c17df569f4421f5493\nauthor Michael Dietz <michael.dietz@waya.ai> 1612194766 -0600\ncommitter Michael Dietz <michael.dietz@waya.ai> 1616511106 -0400\n\ndoc: Add release notes for -deprecatedrpc=addresses and bitcoin-tx\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/90ae3d8ca68334ec712d67b21a8d4721c6d79788",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/90ae3d8ca68334ec712d67b21a8d4721c6d79788",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/90ae3d8ca68334ec712d67b21a8d4721c6d79788/comments",
    "author": {
      "login": "mjdietzx",
      "id": 7217256,
      "node_id": "MDQ6VXNlcjcyMTcyNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mjdietzx",
      "html_url": "https://github.com/mjdietzx",
      "followers_url": "https://api.github.com/users/mjdietzx/followers",
      "following_url": "https://api.github.com/users/mjdietzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/mjdietzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
      "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
      "repos_url": "https://api.github.com/users/mjdietzx/repos",
      "events_url": "https://api.github.com/users/mjdietzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "mjdietzx",
      "id": 7217256,
      "node_id": "MDQ6VXNlcjcyMTcyNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7217256?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mjdietzx",
      "html_url": "https://github.com/mjdietzx",
      "followers_url": "https://api.github.com/users/mjdietzx/followers",
      "following_url": "https://api.github.com/users/mjdietzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/mjdietzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mjdietzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mjdietzx/subscriptions",
      "organizations_url": "https://api.github.com/users/mjdietzx/orgs",
      "repos_url": "https://api.github.com/users/mjdietzx/repos",
      "events_url": "https://api.github.com/users/mjdietzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mjdietzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "085b3a729952896ccd0e40c17df569f4421f5493",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/085b3a729952896ccd0e40c17df569f4421f5493",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/085b3a729952896ccd0e40c17df569f4421f5493"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 15,
      "deletions": 0
    },
    "files": [
      {
        "sha": "f049aaa4af0da5543ffa53f0503c6b7c5a18d48f",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 15,
        "deletions": 0,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/90ae3d8ca68334ec712d67b21a8d4721c6d79788/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/90ae3d8ca68334ec712d67b21a8d4721c6d79788/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=90ae3d8ca68334ec712d67b21a8d4721c6d79788",
        "patch": "@@ -69,6 +69,21 @@ Updated RPCs\n   `whitelisted`, the `permissions` field indicates if the peer has special\n   privileges. The `banscore` field has simply been removed. (#20755)\n \n+- The following RPCs:  `gettxout`, `getrawtransaction`, `decoderawtransaction`,\n+  `decodescript`, `gettransaction`, and REST endpoints: `/rest/tx`,\n+  `/rest/getutxos`, `/rest/block` deprecated the following fields (which are no\n+  longer returned in the responses by default): `addresses`, `reqSigs`.\n+  The `-deprecatedrpc=addresses` flag must be passed for these fields to be\n+  included in the RPC response. This flag/option will be available until v23, at which\n+  point the deprecation will be removed entirely. Note that these fields are attributes of\n+  the `scriptPubKey` object returned in the RPC response. However, in the response\n+  of `decodescript` these fields are top-level attributes, and included again as attributes\n+  of the `scriptPubKey` object. (#20286)\n+\n+- When creating a hex-encoded bitcoin transaction using the `bitcoin-tx` utility\n+  with the `-json` option set, the following fields: `addresses`, `reqSigs` are no longer\n+  returned in the tx output of the response. (#20286)\n+\n Changes to Wallet or GUI related RPCs can be found in the GUI or Wallet section below.\n \n New RPCs"
      }
    ]
  }
]