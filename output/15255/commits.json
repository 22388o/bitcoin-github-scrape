[
  {
    "sha": "8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YjhkOGVlYWU5ZThmZWZmNmQ3ODQyMGVlMTcyYzgyMGNjZWY5ZGIx",
    "commit": {
      "author": {
        "name": "Graham Krizek",
        "email": "gkrizek@nodesource.com",
        "date": "2019-01-25T03:28:27Z"
      },
      "committer": {
        "name": "Graham Krizek",
        "email": "gkrizek@nodesource.com",
        "date": "2019-02-21T17:11:02Z"
      },
      "message": "Remove travis_wait from lint script\n\nAlso adding progress logging to verify-commits.py script to prevent Travis from timing out",
      "tree": {
        "sha": "e4d31008763b84bd9e832a9a3315619307e839c6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e4d31008763b84bd9e832a9a3315619307e839c6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b8d8eeae9e8feff6d78420ee172c820ccef9db1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b853746d4a8a8ac0d3f535538e2ac4e3cc14e1c7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b853746d4a8a8ac0d3f535538e2ac4e3cc14e1c7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b853746d4a8a8ac0d3f535538e2ac4e3cc14e1c7"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 11,
      "deletions": 1
    },
    "files": [
      {
        "sha": "1a1693a8ce5724093273b49395f04862b65f9701",
        "filename": ".travis/lint_06_script.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b8d8eeae9e8feff6d78420ee172c820ccef9db1/.travis/lint_06_script.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b8d8eeae9e8feff6d78420ee172c820ccef9db1/.travis/lint_06_script.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.travis/lint_06_script.sh?ref=8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
        "patch": "@@ -21,5 +21,5 @@ test/lint/lint-all.sh\n if [ \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" -a \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then\n     git log --merges --before=\"2 days ago\" -1 --format='%H' > ./contrib/verify-commits/trusted-sha512-root-commit\n     while read -r LINE; do travis_retry gpg --keyserver hkp://subset.pool.sks-keyservers.net --recv-keys $LINE; done < contrib/verify-commits/trusted-keys &&\n-    travis_wait 50 contrib/verify-commits/verify-commits.py --clean-merge=2;\n+    ./contrib/verify-commits/verify-commits.py --clean-merge=2;\n fi"
      },
      {
        "sha": "255ce7509291259f09244814a6606de19dc59a82",
        "filename": "contrib/verify-commits/verify-commits.py",
        "status": "modified",
        "additions": 10,
        "deletions": 0,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b8d8eeae9e8feff6d78420ee172c820ccef9db1/contrib/verify-commits/verify-commits.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b8d8eeae9e8feff6d78420ee172c820ccef9db1/contrib/verify-commits/verify-commits.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/verify-commits.py?ref=8b8d8eeae9e8feff6d78420ee172c820ccef9db1",
        "patch": "@@ -5,6 +5,7 @@\n \"\"\"Verify commits against a trusted keys list.\"\"\"\n import argparse\n import hashlib\n+import logging\n import os\n import subprocess\n import sys\n@@ -66,6 +67,11 @@ def tree_sha512sum(commit='HEAD'):\n     return overall.hexdigest()\n \n def main():\n+\n+    # Enable debug logging if running in CI\n+    if 'CI' in os.environ and os.environ['CI'].lower() == \"true\":\n+        logging.getLogger().setLevel(logging.DEBUG)\n+\n     # Parse arguments\n     parser = argparse.ArgumentParser(usage='%(prog)s [options] [commit id]')\n     parser.add_argument('--disable-tree-check', action='store_false', dest='verify_tree', help='disable SHA-512 tree check')\n@@ -95,6 +101,10 @@ def main():\n \n     # Iterate through commits\n     while True:\n+\n+        # Log a message to prevent Travis from timing out\n+        logging.debug(\"verify-commits: [in-progress] processing commit {}\".format(current_commit[:8]))\n+\n         if current_commit == verified_root:\n             print('There is a valid path from \"{}\" to {} where all commits are signed!'.format(initial_commit, verified_root))\n             sys.exit(0)"
      }
    ]
  }
]