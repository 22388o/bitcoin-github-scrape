[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696686472",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696686472",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 696686472,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjY4NjQ3Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-22T12:23:51Z",
    "updated_at": "2020-09-30T19:44:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19288 (tests: Add fuzzing harness for TorController by practicalswift)\n* #19064 (refactor: Cleanup thread ctor calls by hebasto)\n* #19043 (torcontrol: add -tortarget config by MDrollette)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696686472/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696715003",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696715003",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 696715003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjcxNTAwMw==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-22T13:17:10Z",
    "updated_at": "2020-09-22T13:17:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK\r\n\r\nBeing able to differentiate between incoming Tor connections from normal localhost connections would be very useful\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696715003/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696781883",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-696781883",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 696781883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Njc4MTg4Mw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-22T15:05:28Z",
    "updated_at": "2020-09-22T15:05:28Z",
    "author_association": "MEMBER",
    "body": "Concept ACK! Thank you for working on this.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/696781883/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697285952",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-697285952",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 697285952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzI4NTk1Mg==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-23T10:48:59Z",
    "updated_at": "2020-09-23T10:48:59Z",
    "author_association": "MEMBER",
    "body": "@vasild\r\n>  - This will always open `127.0.0.1:8334`, even if the new option `-onionservicetargetport=` is not specified and the system does not use Tor in any way. I think this deserves a release notes mention.\r\n\r\nTarget port opening could be dependent on `-listenonion` option value. What do you think?\r\n\r\n>  - Binding to `127.0.0.1` would make it impossible (or hard) to run the Tor daemon on another host. What about changing to `-onionservicetarget=bind_address:port` without a default value - i.e. don't do the new bind unless `-onionservicetarget=` is specified? This would also allow to bind to an external address or to `0.0.0.0` (any).\r\n\r\nThis issue is addressed in #19043, IIUC.\r\n\r\n>  - Notice that if another peer manages to reach and connect to the new bind without tor, then we would mistakenly think it is an incoming tor connection.\r\n\r\nHmmm... Need to think about this.\r\n\r\n>  - I am just curious - what will happen if `-onionservicetargetport=8333` is specified?\r\n\r\nIt will still work but without strong distinction between Tor and clearnet, no?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697285952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697427490",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-697427490",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 697427490,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzQyNzQ5MA==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-23T14:17:26Z",
    "updated_at": "2020-09-23T14:17:26Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/697427490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698174408",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698174408",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698174408,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODE3NDQwOA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-24T07:40:55Z",
    "updated_at": "2020-09-24T07:40:55Z",
    "author_association": "MEMBER",
    "body": "From [IRC discussion](http://www.erisian.com.au/bitcoin-core-dev/log-2020-09-23.html#l-208):\r\n> \\<vasild> what about extending the -bind=addr:port option to something like -bind=addr:port[=tor], for example: -bind=1.2.3.4:8333 -bind=1.2.3.4:8334=tor\r\n> \\<vasild> instead of adding a new option -onionservicetarget= ?\r\n> \\<wumpus> making it an attribute makes sense\r\n> \\<wumpus> (of the bind)\r\n> \\<vasild> I don't know yet how i2p works, but if it works in a similar way (the i2p daemon connects to us, like in tor) then for i2p that would mean just recognizing =i2p in addition to recognizing =tor, instead of adding new option -i2pservicetarget=addr:port\r\n> \\<wumpus> right, it's elegant way to think about it and allows for extensibility",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698174408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698361565",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698361565",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698361565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODM2MTU2NQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-24T13:57:04Z",
    "updated_at": "2020-09-24T13:57:04Z",
    "author_association": "MEMBER",
    "body": "Concept ACK. Could use test coverage. I'm running #20002 that is built on these changes and those in #19998.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698361565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698585740",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698585740",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698585740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODU4NTc0MA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-24T21:00:01Z",
    "updated_at": "2020-09-25T11:47:41Z",
    "author_association": "MEMBER",
    "body": "@vasild @jonatack \r\n\r\n> what about extending the -bind=addr:port option to something like -bind=addr:port[=tor]\r\n\r\nI like that ^ idea very much. Implemented in https://github.com/hebasto/bitcoin/commits/200924-WIP\r\n\r\nAs many other PRs are built on top of this one, I'm begging you to make some preliminary review of the suggested branch to avoid unneeded rebasing.\r\n\r\nNew version features:\r\n- extended `-bind` configure option, now it completely replaces #19043 as well\r\n- no extra binding when `-nolistenonion`\r\n\r\nAlso a small Q: is it better to drop doc commit cfa17e307adaec81f6036cf4f124d78f9e128c30 in favor of #19961 ?\r\n\r\nUPDATE: already [upstreamed](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698882284).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698585740/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698597381",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698597381",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698597381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODU5NzM4MQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-24T21:27:10Z",
    "updated_at": "2020-09-24T21:27:10Z",
    "author_association": "MEMBER",
    "body": "@vasild \r\n>  - Notice that if another peer manages to reach and connect to the new bind without tor, then we would mistakenly think it is an incoming tor connection.\r\n\r\nThis behavior could be mitigated in #19998 by additional checking of `peer.addr` and `peer.GetAddrLocal()`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698597381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698607934",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698607934",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698607934,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODYwNzkzNA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-24T21:51:19Z",
    "updated_at": "2020-09-25T10:50:16Z",
    "author_association": "MEMBER",
    "body": "I like that approach, too. Will look at your branch. Edit: done.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698607934/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698882284",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698882284",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698882284,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODg4MjI4NA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T11:41:42Z",
    "updated_at": "2020-09-25T11:41:42Z",
    "author_association": "MEMBER",
    "body": "Updated 6e05a443bbe7090a331281290f18bedea13bab0a -> cfa17e307adaec81f6036cf4f124d78f9e128c30 ([pr19991.01](https://github.com/hebasto/bitcoin/commits/pr19991.01) -> [pr19991.02](https://github.com/hebasto/bitcoin/commits/pr19991.02), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.01..pr19991.02)):\r\n\r\n- extended `-bind` configure option (credits to @vasild), now this PR completely replaces #19043\r\n- no extra binding when `-nolistenonion`\r\n- added corresponding changes into `tor.md`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698882284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698936058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698936058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698936058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODkzNjA1OA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T13:42:23Z",
    "updated_at": "2020-09-25T13:42:23Z",
    "author_association": "MEMBER",
    "body": "@vasild \r\n> Just to summarize the default behavior:\r\n> ### Before this PR\r\n> \r\n>  - If no `-bind` is given then we will bind on `0.0.0.0:8333` and `[::]:8333`.\r\n> \r\n>  - If `-bind=1.2.3.4:8333` is given then we will bind only on `1.2.3.4:8333`.\r\n> \r\n> \r\n> ### With this PR\r\n> \r\n>  - If no `-bind` is given then we will bind on `0.0.0.0:8333`, `[::]:8333` and `127.0.0.1:8334`.\r\n> \r\n>  - If `-bind=1.2.3.4:8333` is given then we will bind on `1.2.3.4:8333` and on `127.0.0.1:8334` (is this ok?).\r\n> \r\n>  -  If `-bind=1.2.3.4:8333 -bind=1.2.3.4:8334=onion` is given then we will bind on `1.2.3.4:8333` and `1.2.3.4:8334`.\r\n\r\nThe node will not bind on `127.0.0.1:8334` if non-default `listenonion=0` is provided.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698936058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698937295",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-698937295",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 698937295,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5ODkzNzI5NQ==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T13:44:39Z",
    "updated_at": "2020-09-25T13:44:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "[This](https://lists.torproject.org/pipermail/tor-onions/2020-September/000414.html) could be an alternative way to check if an incoming connection is from tor - to ask the tor daemon if it made it. But it seems this is not possible now and even if made possible in the future then it will only be available if bitcoind has access to tor-control.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/698937295/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699005931",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699005931",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 699005931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTAwNTkzMQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T15:48:31Z",
    "updated_at": "2020-09-25T18:36:14Z",
    "author_association": "MEMBER",
    "body": "Updated cfa17e307adaec81f6036cf4f124d78f9e128c30 -> 0782aee0a3268e9e4de53613f229d645c2ab06b9 ([pr19991.02](https://github.com/hebasto/bitcoin/commits/pr19991.02) -> [pr19991.03](https://github.com/hebasto/bitcoin/commits/pr19991.03), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.02..pr19991.03)):\r\n\r\n- addressed some @vasild's comments",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699005931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699140059",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699140059",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 699140059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTE0MDA1OQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-25T20:29:39Z",
    "updated_at": "2020-09-25T20:29:39Z",
    "author_association": "MEMBER",
    "body": "Updated 0782aee0a3268e9e4de53613f229d645c2ab06b9 -> 20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e ([pr19991.03](https://github.com/hebasto/bitcoin/commits/pr19991.03) -> [pr19991.04](https://github.com/hebasto/bitcoin/commits/pr19991.04), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.03..pr19991.04)):\r\n\r\n- addressed some @vasild's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494957373):\r\n> This will cause undefined behavior if `connOptions.onion_bind` is not set, are we sure it is set here?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699140059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699944325",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699944325",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 699944325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTk0NDMyNQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-28T11:18:42Z",
    "updated_at": "2020-09-28T11:18:42Z",
    "author_association": "MEMBER",
    "body": "Updated 20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e -> d0e349140fac872ebf01c3826528a84bd6a89519 ([pr19991.04](https://github.com/hebasto/bitcoin/commits/pr19991.04) -> [pr19991.06](https://github.com/hebasto/bitcoin/commits/pr19991.06), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.04..pr19991.06)):\r\n\r\n- addressed @jonatack's comments\r\n\r\n@jonatack \r\n> When reviewing the commits in order, I was wondering, \"why is this being renamed?\"\r\n\r\nCommit message updated.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699944325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699951750",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699951750",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 699951750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTk1MTc1MA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-28T11:35:09Z",
    "updated_at": "2020-09-28T11:35:09Z",
    "author_association": "MEMBER",
    "body": "@jonatack \r\n> Would it be possible to add test coverage? Perhaps similar to `feature_proxy.py`.\r\n\r\n`feature_proxy.py` tests outbound connections, IIUC.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/699951750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700496140",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700496140",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 700496140,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDQ5NjE0MA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T07:06:53Z",
    "updated_at": "2020-09-29T07:06:53Z",
    "author_association": "MEMBER",
    "body": "Rebased d0e349140fac872ebf01c3826528a84bd6a89519 -> efa45f5fde37ebf20f318da74d53f056fd71d69f ([pr19991.06](https://github.com/hebasto/bitcoin/commits/pr19991.06) -> [pr19991.07](https://github.com/hebasto/bitcoin/commits/pr19991.07)) due to the conflict with #20014.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700496140/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700802861",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700802861",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 700802861,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDgwMjg2MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T15:58:14Z",
    "updated_at": "2020-09-29T16:00:10Z",
    "author_association": "MEMBER",
    "body": "Tested ACK efa45f5fde37ebf20f318da74d53f056fd71d69f\r\nI've verified that this opens a new port (8334, bound on 127.0.0.1 only) and that `torcontrol` makes incoming connection on the hidden service that it creates go to there. This allows to distinguish incoming Tor connections. This works together with #19954.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700802861/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700831638",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 700831638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDgzMTYzOA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T16:34:02Z",
    "updated_at": "2020-09-29T16:34:02Z",
    "author_association": "MEMBER",
    "body": "Updated efa45f5fde37ebf20f318da74d53f056fd71d69f -> 30f2355d96bf67a30a06c1fcf6d27d242b05491b ([pr19991.07](https://github.com/hebasto/bitcoin/commits/pr19991.07) -> [pr19991.09](https://github.com/hebasto/bitcoin/commits/pr19991.09), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.07..pr19991.09)).\r\n\r\n1. Addressed @vasild's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494948385):\r\n> Should we support more than one onion bind address? Maybe it would make sense on a machine with many interfaces.\r\n\r\nand @jonatack's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495769826):\r\n> Should we warn that only the last `=onion` argument will be kept if more than one is passed?\r\n\r\nIf `-listenonion=1` is provided, the node emits a warning about multiple bind addresses.\r\n\r\n2. Addressed @vasild's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494961073):\r\n> I don't think the new functionality should be tied to the `-listenonion` option.\r\n\r\n3. Addressed @vasild's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496743497):\r\n> Isn't `enum BindFlags` more suitable for it? `BF_DONT_ADVERTISE` or `BF_COVERT`?\r\n\r\n4. Addressed @vasild's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496689477):\r\n> Thanks! It just occurred to me that the default for `-bind` (with this PR) is not `127.0.0.1:8334=onion` like in the description above. It is rather `-bind=0.0.0.0:8333 -bind=127.0.0.1:8334=onion`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700831638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701394030",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-701394030",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 701394030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTM5NDAzMA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-30T13:34:01Z",
    "updated_at": "2020-09-30T13:34:01Z",
    "author_association": "MEMBER",
    "body": "Updated 30f2355d96bf67a30a06c1fcf6d27d242b05491b -> 3c24f75d4ce7d3ce1e30d334ea30873a15633e46 ([pr19991.09](https://github.com/hebasto/bitcoin/commits/pr19991.09) -> [pr19991.10](https://github.com/hebasto/bitcoin/commits/pr19991.10), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.09..pr19991.10)):\r\n\r\n- addressed @laanwj's [comment](https://github.com/bitcoin/bitcoin/pull/19991#discussion_r497391823):\r\n> I really hope we can avoid introducing this circular dependency.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701394030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701397910",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-701397910",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 701397910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTM5NzkxMA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-30T13:40:38Z",
    "updated_at": "2020-09-30T13:40:38Z",
    "author_association": "MEMBER",
    "body": "Thanks for addressing my comment. \r\n\r\nRe-ACK 3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701397910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701528729",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-701528729",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 701528729,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMTUyODcyOQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-30T17:19:39Z",
    "updated_at": "2020-09-30T18:10:52Z",
    "author_association": "MEMBER",
    "body": "~Updated 3c24f75d4ce7d3ce1e30d334ea30873a15633e46 -> acba1851ef78d88c2442813174c2b559047b61e8 ([pr19991.10](https://github.com/hebasto/bitcoin/commits/pr19991.10) -> [pr19991.11](https://github.com/hebasto/bitcoin/commits/pr19991.11), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.10..pr19991.11)):~\r\n\r\n- ~type of `Options.onion_binds` switched from `std::vector` to `std::set` that is more appropriate, and makes the following #19998 easier.~\r\n\r\nUPDATE: reverted back, sorry.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/701528729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702253099",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702253099,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjI1MzA5OQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-01T16:30:21Z",
    "updated_at": "2020-10-01T16:33:12Z",
    "author_association": "MEMBER",
    "body": "Updated 3c24f75d4ce7d3ce1e30d334ea30873a15633e46 -> 96571b3d4cb4cda0fd3d5a457ae4a12f615de82b ([pr19991.10](https://github.com/hebasto/bitcoin/commits/pr19991.10) -> [pr19991.12](https://github.com/hebasto/bitcoin/commits/pr19991.12), [diff](https://github.com/hebasto/bitcoin/compare/pr19991.10..pr19991.12)):\r\n\r\n- addressed all recent @Sjors' and @vasild's comments",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702253099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702300231",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702300231",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702300231,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjMwMDIzMQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-01T17:55:29Z",
    "updated_at": "2020-10-01T17:55:29Z",
    "author_association": "MEMBER",
    "body": "re-utACK 96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702300231/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702357481",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702357481",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702357481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjM1NzQ4MQ==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-01T19:43:36Z",
    "updated_at": "2020-10-01T19:43:36Z",
    "author_association": "MEMBER",
    "body": "@laanwj Assign [0.21.0](https://github.com/bitcoin/bitcoin/milestone/45) milestone?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702357481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702636108",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702636108",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702636108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjYzNjEwOA==",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?u=7297e8aaf9188c0cb98bc549a8a02a1dc8d59e4c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T09:52:49Z",
    "updated_at": "2020-10-02T09:52:49Z",
    "author_association": "MEMBER",
    "body": "@vasild Thanks for your review and suggestion! It seems your patch introduces a new circular dependency. Could we leave improvements for follow ups wrt coming feature freeze deadline?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702636108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702657464",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702657464",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702657464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY1NzQ2NA==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T10:36:31Z",
    "updated_at": "2020-10-02T10:36:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am ok with 96571b3 (ACK-ed above). Feel free to ignore the idea or postpone it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702657464/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702684104",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702684104",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702684104,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY4NDEwNA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T11:37:02Z",
    "updated_at": "2020-10-02T11:37:02Z",
    "author_association": "MEMBER",
    "body": "Re-ACK 96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702684104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702685460",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702685460",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702685460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY4NTQ2MA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T11:40:00Z",
    "updated_at": "2020-10-02T11:40:00Z",
    "author_association": "MEMBER",
    "body": "@hebasto I am writing test coverage, are you open to bringing it into this PR or do you consider it a follow-up?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702685460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702686420",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702686420",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 702686420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY4NjQyMA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T11:42:14Z",
    "updated_at": "2020-10-02T11:42:14Z",
    "author_association": "MEMBER",
    "body": "@jonatack Though it would have been nice to include more testing here, let's leave that for a follow-up PR. this is a good self-contained change, and now we can move on to the other PRs based on it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/702686420/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886159283",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-886159283",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19991",
    "id": 886159283,
    "node_id": "IC_kwDOABII58400bez",
    "user": {
      "login": "SimonVrouwe",
      "id": 3152756,
      "node_id": "MDQ6VXNlcjMxNTI3NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3152756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SimonVrouwe",
      "html_url": "https://github.com/SimonVrouwe",
      "followers_url": "https://api.github.com/users/SimonVrouwe/followers",
      "following_url": "https://api.github.com/users/SimonVrouwe/following{/other_user}",
      "gists_url": "https://api.github.com/users/SimonVrouwe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SimonVrouwe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SimonVrouwe/subscriptions",
      "organizations_url": "https://api.github.com/users/SimonVrouwe/orgs",
      "repos_url": "https://api.github.com/users/SimonVrouwe/repos",
      "events_url": "https://api.github.com/users/SimonVrouwe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SimonVrouwe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-25T07:21:41Z",
    "updated_at": "2021-07-25T07:24:50Z",
    "author_association": "NONE",
    "body": "@hebasto Hello, I ended up here to find reasons why my node (`bitcoind` v0.21.1) is listening on port 8334 even when `listenonion=0` is set. Reading the discussion in this PR, it is not clear to me if this was intended or not.\r\n\r\n> @vasild\r\n> \r\n...\r\n> > ### With this PR\r\n> > \r\n> > * If no `-bind` is given then we will bind on `0.0.0.0:8333`, `[::]:8333` and `127.0.0.1:8334`.\r\n> > * If `-bind=1.2.3.4:8333` is given then we will bind on `1.2.3.4:8333` and on `127.0.0.1:8334` (is this ok?).\r\n> > * If `-bind=1.2.3.4:8333 -bind=1.2.3.4:8334=onion` is given then we will bind on `1.2.3.4:8333` and `1.2.3.4:8334`.\r\n> \r\n> The node will not bind on `127.0.0.1:8334` if non-default `listenonion=0` is provided.\r\n\r\nWhy is the `onion_binds.push_back` not placed inside the `if (args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION))`?\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/2b5563bb1e6819bf46f561d94213d5fb32751359/src/init.cpp#L1725-L1740",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886159283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492716989",
    "pull_request_review_id": 493437265,
    "id": 492716989,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjcxNjk4OQ==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit. Why casting 0 to 0 , 0 is 0 in every byte-order? I like this to be a constant and not a hookable function. ",
    "created_at": "2020-09-22T13:06:07Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492716989",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492716989"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492716989"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492716989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492740957",
    "pull_request_review_id": 493469158,
    "id": 492740957,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc0MDk1Nw==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "kristapsk",
      "id": 4500994,
      "node_id": "MDQ6VXNlcjQ1MDA5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4500994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kristapsk",
      "html_url": "https://github.com/kristapsk",
      "followers_url": "https://api.github.com/users/kristapsk/followers",
      "following_url": "https://api.github.com/users/kristapsk/following{/other_user}",
      "gists_url": "https://api.github.com/users/kristapsk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kristapsk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kristapsk/subscriptions",
      "organizations_url": "https://api.github.com/users/kristapsk/orgs",
      "repos_url": "https://api.github.com/users/kristapsk/repos",
      "events_url": "https://api.github.com/users/kristapsk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kristapsk/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is it guaranteed that `INADDR_ANY` will always be 0, on any operating system?",
    "created_at": "2020-09-22T13:39:02Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492740957",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492740957"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492740957"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492740957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492810592",
    "pull_request_review_id": 493561952,
    "id": 492810592,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjgxMDU5Mg==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[rfc1122](https://tools.ietf.org/html/rfc1122#section-3.2.1.3) section-3.2.1.3 ",
    "created_at": "2020-09-22T15:05:13Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492810592",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492810592"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492810592"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492810592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492989711",
    "pull_request_review_id": 493790559,
    "id": 492989711,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk4OTcxMQ==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Why casting 0 to 0 , 0 is 0 in every byte-order?\r\n\r\nFirstly, https://www.man7.org/linux/man-pages/man7/ip.7.html:\r\n> `in_addr` should be assigned one of the `INADDR_*` values using `htonl`...\r\n\r\nSecondly, it is inconsistent to have `s_addr = INADDR_ANY` in a line, and `s_addr = htonl(INADDR_LOOPBACK)` in another one.",
    "created_at": "2020-09-22T19:43:48Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492989711",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492989711"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r492989711"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/492989711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493306244",
    "pull_request_review_id": 494420205,
    "id": 493306244,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMwNjI0NA==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yup i guess its just a generation thing, its a nit, but i always liked to some degree how the bitcoin client did network things different than expected, \r\nU will never know who wrote the example codes and how drunk or biased by a gun on there head they where at those times when the foundations  u all take for granted where coded. \r\nINADDR_LOOPBACK is a different case and hey what can u do if the constant is not in net order, i remember the rant of Hobbit when he bashed on Berkeley sockets implementation ( also on many other reasons) . Htonl() was one of the first predictable ways the :Gesseler had to go\". And if u bind to \"this host\" or maybe not makes a difference.\r\n\r\nI will not way in this more, made my point and u are in charge its now ur world, but please never trade readability for function. ",
    "created_at": "2020-09-23T08:27:13Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493306244",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493306244"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493306244"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493306244/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493313890",
    "pull_request_review_id": 494426833,
    "id": 493313890,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMxMzg5MA==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@saibato Are you ok?",
    "created_at": "2020-09-23T08:35:10Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493313890",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493313890"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493313890"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493313890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493398119",
    "pull_request_review_id": 494496641,
    "id": 493398119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM5ODExOQ==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`htonl()` is the proper one even though the number is a palindrome. We had some discussion about that [here](https://github.com/bitcoin/bitcoin/pull/19628#discussion_r464156291) and [here](https://github.com/bitcoin/bitcoin/pull/19628#discussion_r473486793).",
    "created_at": "2020-09-23T10:00:46Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493398119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493398119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493398119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493398119/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493404738",
    "pull_request_review_id": 494502187,
    "id": 493404738,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQwNDczOA==",
    "diff_hunk": "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Signet not mentioned?",
    "created_at": "2020-09-23T10:07:59Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493404738",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493404738"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493404738"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493404738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 454,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493432398",
    "pull_request_review_id": 494524359,
    "id": 493432398,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQzMjM5OA==",
    "diff_hunk": "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this change -- to mention signet in help output for all relevant config options -- should be the part of another PR, no?",
    "created_at": "2020-09-23T10:38:09Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493432398",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493432398"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493432398"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493432398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 454,
    "side": "RIGHT",
    "in_reply_to_id": 493404738
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493538320",
    "pull_request_review_id": 494612801,
    "id": 493538320,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUzODMyMA==",
    "diff_hunk": "@@ -2300,11 +2300,14 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;",
    "path": "src/net.cpp",
    "position": 49,
    "original_position": 6,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "Saibato",
      "id": 34917548,
      "node_id": "MDQ6VXNlcjM0OTE3NTQ4",
      "avatar_url": "https://avatars.githubusercontent.com/u/34917548?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Saibato",
      "html_url": "https://github.com/Saibato",
      "followers_url": "https://api.github.com/users/Saibato/followers",
      "following_url": "https://api.github.com/users/Saibato/following{/other_user}",
      "gists_url": "https://api.github.com/users/Saibato/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Saibato/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Saibato/subscriptions",
      "organizations_url": "https://api.github.com/users/Saibato/orgs",
      "repos_url": "https://api.github.com/users/Saibato/repos",
      "events_url": "https://api.github.com/users/Saibato/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Saibato/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@sipa \r\n> @Saibato Are you ok?\r\n\r\nThx :)\r\n<details><summary>click here :package: :tada:  . to find out more</summary>\r\n<br>\r\nI case u forgot,  just assign INADDR_ANY without htonl is up till now in source code right after some first commits. from November 2009 onward.\r\nEven you later never changed that behavior and so far all run good with this.\r\n\r\nI get nervous when things in bitcoin are changed by a drive by commit just because ...\r\n\r\nWhy even touch it?  Suppose Satoshi knew what we did in cold war and those where those magic lines that made bitcon a stable server.\r\nI doubt that u lads are like we, but u all have the potential to grow and learn.\r\n\r\ni like it when i can trigger u to mature, but ok is that all?  \r\n\r\n\r\n```\r\n    // The sockaddr_in structure specifies the address family,\r\n    // IP address, and port for the socket that is being bound\r\n    struct sockaddr_in sockaddr;\r\n    memset(&sockaddr, 0, sizeof(sockaddr));\r\n    sockaddr.sin_family = AF_INET;\r\n    sockaddr.sin_addr.s_addr = INADDR_ANY; // bind to all IPs on this computer\r\n    sockaddr.sin_port = DEFAULT_PORT;\r\n\r\n```\r\n```\r\ncommit 93cfb02acb13b74198b8e0ab72f039313ecf9f1f\r\nAuthor:\ts_nakamoto <s_nakamoto@1a98c847-1fd6-4fd8-948a-caf3550aa51b>  Fri Nov  6 05:50:05 2009\r\nCommitter:\ts_nakamoto <s_nakamoto@1a98c847-1fd6-4fd8-948a-caf3550aa51b>  Fri Nov  6 05:50:05 2009\r\n```\r\n</details>",
    "created_at": "2020-09-23T12:37:46Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493538320",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493538320"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r493538320"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/493538320/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 2
    },
    "start_line": 2334,
    "original_start_line": 2303,
    "start_side": "RIGHT",
    "line": 2335,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 492716989
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494935024",
    "pull_request_review_id": 496349472,
    "id": 494935024,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkzNTAyNA==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Use =onion suffix to bind onion service target socket (default: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\r\n```",
    "created_at": "2020-09-25T11:50:52Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494935024",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494935024"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494935024"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494935024/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948385",
    "pull_request_review_id": 496349472,
    "id": 494948385,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk0ODM4NQ==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_bind = bind_addr;",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 42,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This would accept multiple =onion arguments and discard all but the last one. I.e. if `-bind=1.1.1.1:8334=onion -bind=2.2.2.2:8334=onion` is given then it will behave as if only `-bind=2.2.2.2:8334=onion` is given. Should we support more than one onion bind address? Maybe it would make sense on a machine with many interfaces.",
    "created_at": "2020-09-25T12:19:06Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494948385",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948385"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494948385"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948385/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1955,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948527",
    "pull_request_review_id": 496349472,
    "id": 494948527,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk0ODUyNw==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "If the suffix is something else than `=onion` then this code would silently ignore it. I think we should print an error and refuse to start if the user makes a typo like `=omion`.",
    "created_at": "2020-09-25T12:19:25Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494948527",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948527"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494948527"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494948527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1952,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494953857",
    "pull_request_review_id": 496349472,
    "id": 494953857,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk1Mzg1Nw==",
    "diff_hunk": "@@ -201,6 +202,8 @@ class CConnman\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n         std::vector<NetWhitebindPermissions> vWhiteBinds;\n         std::vector<CService> vBinds;\n+        bool listen_onion{true};\n+        Optional<CService> onion_bind;",
    "path": "src/net.h",
    "position": null,
    "original_position": 16,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `m_` prefix.",
    "created_at": "2020-09-25T12:29:38Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494953857",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494953857"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494953857"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494953857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 205,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 214,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494957373",
    "pull_request_review_id": 496349472,
    "id": 494957373,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk1NzM3Mw==",
    "diff_hunk": "@@ -2323,7 +2331,7 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\n         nMaxOutboundCycleStartTime = 0;\n     }\n \n-    if (fListen && !InitBinds(connOptions.vBinds, connOptions.vWhiteBinds)) {\n+    if (fListen && !InitBinds(connOptions.vBinds, connOptions.vWhiteBinds, connOptions.onion_bind.get())) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This will cause undefined behavior if `connOptions.onion_bind` is not set, are we sure it is set here?",
    "created_at": "2020-09-25T12:36:20Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494957373",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494957373"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494957373"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494957373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2335,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494961073",
    "pull_request_review_id": 496349472,
    "id": 494961073,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk2MTA3Mw==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think the new functionality should be tied to the `-listenonion` option.\r\n\r\nIts name is confusing - it has nothing to do with \"listening\" for tor connections. What it does is to automatically create the tor hidden service using the tor-control connection.\r\n\r\nIf the hidden service is configured via `torrc`, then we don't want to create another one automatically via tor-control and thus `-listenonion=0`, but we still want to bind to a different addr:port.",
    "created_at": "2020-09-25T12:43:10Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494961073",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494961073"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494961073"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494961073/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2312,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2342,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494967703",
    "pull_request_review_id": 496349472,
    "id": 494967703,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk2NzcwMw==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }\n+",
    "path": "src/net.cpp",
    "position": 57,
    "original_position": 26,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`Bind()` could call `AddLocal()` which will add the address to `mapLocalHost`. From there we will eventually advertise it to some peer and it will get gossiped over the network.\r\n\r\nWe definitely do not want that because if somebody else manages to connect to it (outside of tor) then we will consider that as an incoming tor connection. This bind address should only be known by bitcoind and the tor daemon.",
    "created_at": "2020-09-25T12:55:25Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494967703",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494967703"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494967703"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494967703/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2343,
    "original_line": 2343,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494970139",
    "pull_request_review_id": 496349472,
    "id": 494970139,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk3MDEzOQ==",
    "diff_hunk": "@@ -81,12 +84,12 @@ class TorControlConnection\n \n     /**\n      * Connect to a Tor control port.\n-     * target is address of the form host:port.\n+     * control_socket is address of the form host:port.\n      * connected is the handler that is called when connection is successfully established.\n      * disconnected is a handler that is called when the connection is broken.\n      * Return true on success.\n      */\n-    bool Connect(const std::string &target, const ConnectionCB& connected, const ConnectionCB& disconnected);\n+    bool Connect(const std::string& control_socket, const ConnectionCB& connected, const ConnectionCB& disconnected);",
    "path": "src/torcontrol.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: I think it is wrong to call this \"socket\" as sockets are usually integers, like file descriptors, not `std::string`s. I understand why \"target\" is now undesirable. What about `tor_control_center`? ;)",
    "created_at": "2020-09-25T12:59:53Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494970139",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494970139"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494970139"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494970139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 89,
    "start_side": "LEFT",
    "line": null,
    "original_line": 92,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494976346",
    "pull_request_review_id": 496349472,
    "id": 494976346,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk3NjM0Ng==",
    "diff_hunk": "@@ -752,7 +757,9 @@ void StartTorControl()\n         return;\n     }\n \n-    torControlThread = std::thread(std::bind(&TraceThread<void (*)()>, \"torcontrol\", &TorControlThread));\n+    torControlThread = std::thread(&TraceThread<std::function<void()>>, \"torcontrol\", [onion_service_target] {\n+        TorControlThread(onion_service_target);",
    "path": "src/torcontrol.cpp",
    "position": 174,
    "original_position": 174,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`TorControlThread()` only takes a reference to this object and uses it in another thread. I think this is dangerous because the liftetime of the object may be shorter than the lifetime of the thread. Better make `TorControlThread()`'s argument just `CService` so that the object is copied.",
    "created_at": "2020-09-25T13:10:49Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494976346",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494976346"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494976346"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494976346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 761,
    "original_line": 761,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494999263",
    "pull_request_review_id": 496434464,
    "id": 494999263,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk5OTI2Mw==",
    "diff_hunk": "@@ -81,12 +84,12 @@ class TorControlConnection\n \n     /**\n      * Connect to a Tor control port.\n-     * target is address of the form host:port.\n+     * control_socket is address of the form host:port.\n      * connected is the handler that is called when connection is successfully established.\n      * disconnected is a handler that is called when the connection is broken.\n      * Return true on success.\n      */\n-    bool Connect(const std::string &target, const ConnectionCB& connected, const ConnectionCB& disconnected);\n+    bool Connect(const std::string& control_socket, const ConnectionCB& connected, const ConnectionCB& disconnected);",
    "path": "src/torcontrol.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe `control_center` (if we are already within Tor-related class)?",
    "created_at": "2020-09-25T13:47:13Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494999263",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494999263"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r494999263"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/494999263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 89,
    "start_side": "LEFT",
    "line": null,
    "original_line": 92,
    "side": "RIGHT",
    "in_reply_to_id": 494970139
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495002342",
    "pull_request_review_id": 496438658,
    "id": 495002342,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwMjM0Mg==",
    "diff_hunk": "@@ -201,6 +202,8 @@ class CConnman\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n         std::vector<NetWhitebindPermissions> vWhiteBinds;\n         std::vector<CService> vBinds;\n+        bool listen_onion{true};\n+        Optional<CService> onion_bind;",
    "path": "src/net.h",
    "position": null,
    "original_position": 16,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#19759",
    "created_at": "2020-09-25T13:51:53Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495002342",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495002342"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495002342"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495002342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 205,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 214,
    "side": "RIGHT",
    "in_reply_to_id": 494953857
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495006505",
    "pull_request_review_id": 496444405,
    "id": 495006505,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwNjUwNQ==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```\r\n$ src/bitcoind -bind=127.0.0.1:4242=omion | grep omion\r\n2020-09-25T13:57:56Z [init] Command-line arg: bind=\"127.0.0.1:4242=omion\"\r\nError: Cannot resolve -bind address: '127.0.0.1:4242=omion'\r\n2020-09-25T13:57:58Z [init] Error: Cannot resolve -bind address: '127.0.0.1:4242=omion'\r\n```",
    "created_at": "2020-09-25T13:58:19Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495006505",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495006505"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495006505"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495006505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1952,
    "side": "RIGHT",
    "in_reply_to_id": 494948527
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495008672",
    "pull_request_review_id": 496447306,
    "id": 495008672,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAwODY3Mg==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_bind = bind_addr;",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 42,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> This would accept multiple =onion arguments and discard all but the last one.\r\n\r\nThat is done intentionally, leaving improving for follow ups.",
    "created_at": "2020-09-25T14:01:29Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495008672",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495008672"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495008672"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495008672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1955,
    "side": "RIGHT",
    "in_reply_to_id": 494948385
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495031121",
    "pull_request_review_id": 496480439,
    "id": 495031121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAzMTEyMQ==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok. I think a user should be able to explicitly disable such an additional binding? Any ideas?",
    "created_at": "2020-09-25T14:34:33Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495031121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495031121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495031121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495031121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2312,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2342,
    "side": "RIGHT",
    "in_reply_to_id": 494961073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495039958",
    "pull_request_review_id": 496492463,
    "id": 495039958,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAzOTk1OA==",
    "diff_hunk": "@@ -752,7 +757,9 @@ void StartTorControl()\n         return;\n     }\n \n-    torControlThread = std::thread(std::bind(&TraceThread<void (*)()>, \"torcontrol\", &TorControlThread));\n+    torControlThread = std::thread(&TraceThread<std::function<void()>>, \"torcontrol\", [onion_service_target] {\n+        TorControlThread(onion_service_target);",
    "path": "src/torcontrol.cpp",
    "position": 174,
    "original_position": 174,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "wrt properties of `std::thread()` constructor and `TraceThread()` function I don't think it is dangerous. But objects of `CService` class are small, so going to implement passing by-copy.",
    "created_at": "2020-09-25T14:48:12Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495039958",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495039958"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495039958"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495039958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 761,
    "original_line": 761,
    "side": "RIGHT",
    "in_reply_to_id": 494976346
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495065234",
    "pull_request_review_id": 496526364,
    "id": 495065234,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA2NTIzNA==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }\n+",
    "path": "src/net.cpp",
    "position": 57,
    "original_position": 26,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For \"127.0.0.1\" `IsRoutable()` returns `false`, therefore it won't be passed to AddLocal(). But, in general, I agree with you.",
    "created_at": "2020-09-25T15:28:07Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495065234",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495065234"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495065234"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495065234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2343,
    "original_line": 2343,
    "side": "RIGHT",
    "in_reply_to_id": 494967703
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495073463",
    "pull_request_review_id": 496537072,
    "id": 495073463,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA3MzQ2Mw==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not assign to the \"-listenonion\" option a new meaning \"Listen incoming onion connection, and automatically create the onion service if the Tor control available\". It looks pretty back-compatible, no?",
    "created_at": "2020-09-25T15:41:40Z",
    "updated_at": "2020-10-01T16:26:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495073463",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495073463"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495073463"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495073463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2312,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2342,
    "side": "RIGHT",
    "in_reply_to_id": 494961073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078026",
    "pull_request_review_id": 496542903,
    "id": 495078026,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA3ODAyNg==",
    "diff_hunk": "@@ -752,7 +757,9 @@ void StartTorControl()\n         return;\n     }\n \n-    torControlThread = std::thread(std::bind(&TraceThread<void (*)()>, \"torcontrol\", &TorControlThread));\n+    torControlThread = std::thread(&TraceThread<std::function<void()>>, \"torcontrol\", [onion_service_target] {\n+        TorControlThread(onion_service_target);",
    "path": "src/torcontrol.cpp",
    "position": 174,
    "original_position": 174,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699005931).",
    "created_at": "2020-09-25T15:48:57Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078026",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078026"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078026"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078026/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 761,
    "original_line": 761,
    "side": "RIGHT",
    "in_reply_to_id": 494976346
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078093",
    "pull_request_review_id": 496542984,
    "id": 495078093,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA3ODA5Mw==",
    "diff_hunk": "@@ -81,12 +84,12 @@ class TorControlConnection\n \n     /**\n      * Connect to a Tor control port.\n-     * target is address of the form host:port.\n+     * control_socket is address of the form host:port.\n      * connected is the handler that is called when connection is successfully established.\n      * disconnected is a handler that is called when the connection is broken.\n      * Return true on success.\n      */\n-    bool Connect(const std::string &target, const ConnectionCB& connected, const ConnectionCB& disconnected);\n+    bool Connect(const std::string& control_socket, const ConnectionCB& connected, const ConnectionCB& disconnected);",
    "path": "src/torcontrol.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699005931).",
    "created_at": "2020-09-25T15:49:04Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078093",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078093"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078093"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078093/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 89,
    "start_side": "LEFT",
    "line": null,
    "original_line": 92,
    "side": "RIGHT",
    "in_reply_to_id": 494970139
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078248",
    "pull_request_review_id": 496543179,
    "id": 495078248,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA3ODI0OA==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }\n+",
    "path": "src/net.cpp",
    "position": 57,
    "original_position": 26,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699005931).",
    "created_at": "2020-09-25T15:49:20Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078248",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078248"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078248"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2343,
    "original_line": 2343,
    "side": "RIGHT",
    "in_reply_to_id": 494967703
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078496",
    "pull_request_review_id": 496543532,
    "id": 495078496,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA3ODQ5Ng==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Use =onion suffix to bind onion service target socket (default: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699005931).",
    "created_at": "2020-09-25T15:49:48Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078496",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078496"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495078496"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495078496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 494935024
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495216360",
    "pull_request_review_id": 496817940,
    "id": 495216360,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxNjM2MA==",
    "diff_hunk": "@@ -2323,7 +2331,7 @@ bool CConnman::Start(CScheduler& scheduler, const Options& connOptions)\n         nMaxOutboundCycleStartTime = 0;\n     }\n \n-    if (fListen && !InitBinds(connOptions.vBinds, connOptions.vWhiteBinds)) {\n+    if (fListen && !InitBinds(connOptions.vBinds, connOptions.vWhiteBinds, connOptions.onion_bind.get())) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699140059).",
    "created_at": "2020-09-25T20:30:13Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495216360",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495216360"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495216360"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495216360/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2335,
    "side": "RIGHT",
    "in_reply_to_id": 494957373
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495438047",
    "pull_request_review_id": 496983872,
    "id": 495438047,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzODA0Nw==",
    "diff_hunk": "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See #20014.",
    "created_at": "2020-09-26T09:35:31Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495438047",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495438047"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495438047"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495438047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 454,
    "side": "RIGHT",
    "in_reply_to_id": 493404738
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495716246",
    "pull_request_review_id": 497220066,
    "id": 495716246,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcxNjI0Ng==",
    "diff_hunk": "@@ -40,13 +40,13 @@ const CBaseChainParams& BaseParams()\n std::unique_ptr<CBaseChainParams> CreateBaseChainParams(const std::string& chain)\n {\n     if (chain == CBaseChainParams::MAIN) {\n-        return MakeUnique<CBaseChainParams>(\"\", 8332);\n+        return MakeUnique<CBaseChainParams>(\"\", 8332, 8334);\n     } else if (chain == CBaseChainParams::TESTNET) {\n-        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332);\n+        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332, 18334);\n     } else if (chain == CBaseChainParams::SIGNET) {\n-        return MakeUnique<CBaseChainParams>(\"signet\", 38332);\n+        return MakeUnique<CBaseChainParams>(\"signet\", 38332, 38334);\n     } else if (chain == CBaseChainParams::REGTEST) {\n-        return MakeUnique<CBaseChainParams>(\"regtest\", 18443);\n+        return MakeUnique<CBaseChainParams>(\"regtest\", 18443, 18445);",
    "path": "src/chainparamsbase.cpp",
    "position": 21,
    "original_position": 14,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "3271e6d maybe document in this section the why and choice of the additional port `<n + 2>` in each chain",
    "created_at": "2020-09-28T06:34:50Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495716246",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495716246"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495716246"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495716246/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 53,
    "original_line": 53,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495718158",
    "pull_request_review_id": 497220066,
    "id": 495718158,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTcxODE1OA==",
    "diff_hunk": "@@ -193,16 +196,16 @@ void TorControlConnection::eventcb(struct bufferevent *bev, short what, void *ct\n     }\n }\n \n-bool TorControlConnection::Connect(const std::string &target, const ConnectionCB& _connected, const ConnectionCB&  _disconnected)\n+bool TorControlConnection::Connect(const std::string& tor_control_center, const ConnectionCB& _connected, const ConnectionCB&  _disconnected)",
    "path": "src/torcontrol.cpp",
    "position": null,
    "original_position": 41,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "a8b28269 nit, rm extra space\r\n```suggestion\r\nbool TorControlConnection::Connect(const std::string& tor_control_center, const ConnectionCB& _connected, const ConnectionCB& _disconnected)\r\n```",
    "created_at": "2020-09-28T06:39:51Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495718158",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495718158"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495718158"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495718158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 199,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495769826",
    "pull_request_review_id": 497220066,
    "id": 495769826,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2OTgyNg==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "937faad This would print:\r\n```text\r\n  -bind=<addr>[:<port>][=onion]\r\n       Bind to given address and always listen on it. Use [host]:port notation\r\n       for IPv6. Append =onion to tag any incoming connections to that\r\n       address and port as incoming tor connections (default: mainnet:\r\n       127.0.0.1:8334=onion, testnet: 127.0.0.1:18334=onion, regtest:\r\n       127.0.0.1:18445=onion)\r\n```\r\n- Should we warn that only the last `=onion` argument will be kept if more than one is passed? \r\n- s/default:/defaults/ or remove the colon after mainnet, testnet, and regtest, to avoid nested colons\r\n- maybe s/tor/onion/\r\n",
    "created_at": "2020-09-28T08:25:57Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495769826",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495769826"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495769826"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495769826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495789132",
    "pull_request_review_id": 497220066,
    "id": 495789132,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4OTEzMg==",
    "diff_hunk": "@@ -536,7 +541,7 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n         // Request onion service, redirect port.\n         // Note that the 'virtual' port is always the default port to avoid decloaking nodes using other ports.\n-        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,127.0.0.1:%i\", private_key, Params().GetDefaultPort(), GetListenPort()),\n+        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,%s\", private_key, Params().GetDefaultPort(), m_target.ToStringIPPort()),",
    "path": "src/torcontrol.cpp",
    "position": 125,
    "original_position": 125,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "0c9e4c55 One thing I did while testing this was add this logging change:\r\n```diff\r\ndiff --git a/src/torcontrol.cpp b/src/torcontrol.cpp\r\nindex f3583d5754..bafa44645f 100644\r\n--- a/src/torcontrol.cpp\r\n+++ b/src/torcontrol.cpp\r\n@@ -490,7 +490,7 @@ TorController::~TorController()\r\n void TorController::add_onion_cb(TorControlConnection& _conn, const TorControlReply& reply)\r\n {\r\n     if (reply.code == 250) {\r\n-        LogPrint(BCLog::TOR, \"tor: ADD_ONION successful\\n\");\r\n+        LogPrint(BCLog::TOR, \"tor: ADD_ONION successful on ports %i, %s\\n\", Params().GetDefaultPort(), m_target.ToStringIPPort());\r\n```\r\nwhich printed:\r\n\r\n```\r\n2020-09-28T08:52:08Z tor: ADD_ONION successful on ports 8333, 127.0.0.1:8334\r\n```\r\n",
    "created_at": "2020-09-28T08:59:09Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495789132",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495789132"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495789132"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495789132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 544,
    "original_line": 544,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495810711",
    "pull_request_review_id": 497343802,
    "id": 495810711,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgxMDcxMQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Signet?",
    "created_at": "2020-09-28T09:35:43Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495810711",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495810711"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495810711"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495810711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495819957",
    "pull_request_review_id": 497356203,
    "id": 495819957,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgxOTk1Nw==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#20014",
    "created_at": "2020-09-28T09:50:57Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495819957",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495819957"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495819957"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495819957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495823479",
    "pull_request_review_id": 497360686,
    "id": 495823479,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgyMzQ3OQ==",
    "diff_hunk": "@@ -40,13 +40,13 @@ const CBaseChainParams& BaseParams()\n std::unique_ptr<CBaseChainParams> CreateBaseChainParams(const std::string& chain)\n {\n     if (chain == CBaseChainParams::MAIN) {\n-        return MakeUnique<CBaseChainParams>(\"\", 8332);\n+        return MakeUnique<CBaseChainParams>(\"\", 8332, 8334);\n     } else if (chain == CBaseChainParams::TESTNET) {\n-        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332);\n+        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332, 18334);\n     } else if (chain == CBaseChainParams::SIGNET) {\n-        return MakeUnique<CBaseChainParams>(\"signet\", 38332);\n+        return MakeUnique<CBaseChainParams>(\"signet\", 38332, 38334);\n     } else if (chain == CBaseChainParams::REGTEST) {\n-        return MakeUnique<CBaseChainParams>(\"regtest\", 18443);\n+        return MakeUnique<CBaseChainParams>(\"regtest\", 18443, 18445);",
    "path": "src/chainparamsbase.cpp",
    "position": 21,
    "original_position": 14,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It is an arbitrary choice. Just verified that ports are not reserved by some other service.",
    "created_at": "2020-09-28T09:56:55Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495823479",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495823479"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495823479"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495823479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 53,
    "original_line": 53,
    "side": "RIGHT",
    "in_reply_to_id": 495716246
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495824359",
    "pull_request_review_id": 497361857,
    "id": 495824359,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgyNDM1OQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, #20014 doesn't update `-bind`, as there's nothing to update before this PR, so it should be updated here if I'm not confused.",
    "created_at": "2020-09-28T09:58:26Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495824359",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495824359"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495824359"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495824359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495826021",
    "pull_request_review_id": 497363995,
    "id": 495826021,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgyNjAyMQ==",
    "diff_hunk": "@@ -40,13 +40,13 @@ const CBaseChainParams& BaseParams()\n std::unique_ptr<CBaseChainParams> CreateBaseChainParams(const std::string& chain)\n {\n     if (chain == CBaseChainParams::MAIN) {\n-        return MakeUnique<CBaseChainParams>(\"\", 8332);\n+        return MakeUnique<CBaseChainParams>(\"\", 8332, 8334);\n     } else if (chain == CBaseChainParams::TESTNET) {\n-        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332);\n+        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332, 18334);\n     } else if (chain == CBaseChainParams::SIGNET) {\n-        return MakeUnique<CBaseChainParams>(\"signet\", 38332);\n+        return MakeUnique<CBaseChainParams>(\"signet\", 38332, 38334);\n     } else if (chain == CBaseChainParams::REGTEST) {\n-        return MakeUnique<CBaseChainParams>(\"regtest\", 18443);\n+        return MakeUnique<CBaseChainParams>(\"regtest\", 18443, 18445);",
    "path": "src/chainparamsbase.cpp",
    "position": 21,
    "original_position": 14,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. I think it would be helpful to document that and say why there is an extra port for future readers of the code.",
    "created_at": "2020-09-28T10:01:23Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495826021",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495826021"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495826021"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495826021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 53,
    "original_line": 53,
    "side": "RIGHT",
    "in_reply_to_id": 495716246
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495852333",
    "pull_request_review_id": 497397980,
    "id": 495852333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1MjMzMw==",
    "diff_hunk": "@@ -536,7 +541,7 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n         // Request onion service, redirect port.\n         // Note that the 'virtual' port is always the default port to avoid decloaking nodes using other ports.\n-        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,127.0.0.1:%i\", private_key, Params().GetDefaultPort(), GetListenPort()),\n+        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,%s\", private_key, Params().GetDefaultPort(), m_target.ToStringIPPort()),",
    "path": "src/torcontrol.cpp",
    "position": 125,
    "original_position": 125,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We already have the following log message:\r\n```\r\n2020-09-28T10:51:00Z [init] Bound to 127.0.0.1:18334\r\n```",
    "created_at": "2020-09-28T10:52:20Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495852333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495852333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495852333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495852333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 544,
    "original_line": 544,
    "side": "RIGHT",
    "in_reply_to_id": 495789132
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857174",
    "pull_request_review_id": 497404447,
    "id": 495857174,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NzE3NA==",
    "diff_hunk": "@@ -40,13 +40,13 @@ const CBaseChainParams& BaseParams()\n std::unique_ptr<CBaseChainParams> CreateBaseChainParams(const std::string& chain)\n {\n     if (chain == CBaseChainParams::MAIN) {\n-        return MakeUnique<CBaseChainParams>(\"\", 8332);\n+        return MakeUnique<CBaseChainParams>(\"\", 8332, 8334);\n     } else if (chain == CBaseChainParams::TESTNET) {\n-        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332);\n+        return MakeUnique<CBaseChainParams>(\"testnet3\", 18332, 18334);\n     } else if (chain == CBaseChainParams::SIGNET) {\n-        return MakeUnique<CBaseChainParams>(\"signet\", 38332);\n+        return MakeUnique<CBaseChainParams>(\"signet\", 38332, 38334);\n     } else if (chain == CBaseChainParams::REGTEST) {\n-        return MakeUnique<CBaseChainParams>(\"regtest\", 18443);\n+        return MakeUnique<CBaseChainParams>(\"regtest\", 18443, 18445);",
    "path": "src/chainparamsbase.cpp",
    "position": 21,
    "original_position": 14,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699936868).",
    "created_at": "2020-09-28T11:02:32Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857174",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857174"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857174"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 53,
    "original_line": 53,
    "side": "RIGHT",
    "in_reply_to_id": 495716246
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857364",
    "pull_request_review_id": 497404680,
    "id": 495857364,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NzM2NA==",
    "diff_hunk": "@@ -193,16 +196,16 @@ void TorControlConnection::eventcb(struct bufferevent *bev, short what, void *ct\n     }\n }\n \n-bool TorControlConnection::Connect(const std::string &target, const ConnectionCB& _connected, const ConnectionCB&  _disconnected)\n+bool TorControlConnection::Connect(const std::string& tor_control_center, const ConnectionCB& _connected, const ConnectionCB&  _disconnected)",
    "path": "src/torcontrol.cpp",
    "position": null,
    "original_position": 41,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699936868).",
    "created_at": "2020-09-28T11:02:54Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857364",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857364"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857364"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 199,
    "side": "RIGHT",
    "in_reply_to_id": 495718158
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857505",
    "pull_request_review_id": 497404865,
    "id": 495857505,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1NzUwNQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699936868).",
    "created_at": "2020-09-28T11:03:12Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857505",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857505"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495857505"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495857505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495858701",
    "pull_request_review_id": 497406336,
    "id": 495858701,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1ODcwMQ==",
    "diff_hunk": "@@ -451,6 +451,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-onionservicetargetport=<port>\", strprintf(\"Listen for connections from Tor onion service on <port> (default: %u, testnet: %u, regtest: %u)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_INT | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "6e05a443bbe7090a331281290f18bedea13bab0a",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-699936868).",
    "created_at": "2020-09-28T11:05:36Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495858701",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495858701"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495858701"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495858701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 454,
    "side": "RIGHT",
    "in_reply_to_id": 493404738
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495864912",
    "pull_request_review_id": 497414617,
    "id": 495864912,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg2NDkxMg==",
    "diff_hunk": "@@ -536,7 +541,7 @@ void TorController::auth_cb(TorControlConnection& _conn, const TorControlReply&\n             private_key = \"NEW:RSA1024\"; // Explicitly request RSA1024 - see issue #9214\n         // Request onion service, redirect port.\n         // Note that the 'virtual' port is always the default port to avoid decloaking nodes using other ports.\n-        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,127.0.0.1:%i\", private_key, Params().GetDefaultPort(), GetListenPort()),\n+        _conn.Command(strprintf(\"ADD_ONION %s Port=%i,%s\", private_key, Params().GetDefaultPort(), m_target.ToStringIPPort()),",
    "path": "src/torcontrol.cpp",
    "position": 125,
    "original_position": 125,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oh, quite right, I was grepping on `-ni bind` ;/\r\n\r\nmaster\r\n```\r\n456006:2020-09-28T10:33:52Z Bound to [::]:8333\r\n456007:2020-09-28T10:33:52Z Bound to 0.0.0.0:8333\r\n```\r\nthis branch\r\n```\r\n456232:2020-09-28T11:16:58Z Bound to [::]:8333\r\n456233:2020-09-28T11:16:58Z Bound to 0.0.0.0:8333\r\n456234:2020-09-28T11:16:58Z Bound to 127.0.0.1:8334\r\n```",
    "created_at": "2020-09-28T11:18:39Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495864912",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495864912"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r495864912"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/495864912/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 544,
    "original_line": 544,
    "side": "RIGHT",
    "in_reply_to_id": 495789132
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496689477",
    "pull_request_review_id": 498432211,
    "id": 496689477,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY4OTQ3Nw==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Use =onion suffix to bind onion service target socket (default: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! It just occurred to me that the default for `-bind` (with this PR) is not `127.0.0.1:8334=onion` like in the description above. It is rather `-bind=0.0.0.0:8333 -bind=127.0.0.1:8334=onion`.",
    "created_at": "2020-09-29T12:50:18Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496689477",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496689477"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496689477"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496689477/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 494935024
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496701511",
    "pull_request_review_id": 498448073,
    "id": 496701511,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcwMTUxMQ==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_bind = bind_addr;",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 42,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it is not good to introduce one behavior and change it later. Like \"ignore all but last `-bind=addr:port=onion`\" and later change it to something else because users may start to depend on the first one.\r\n\r\nIf supporting more than one `-bind=addr:port=onion` is undesired then what about emitting an error in that case?",
    "created_at": "2020-09-29T13:08:05Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496701511",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496701511"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496701511"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496701511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1955,
    "side": "RIGHT",
    "in_reply_to_id": 494948385
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496703810",
    "pull_request_review_id": 498451168,
    "id": 496703810,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcwMzgxMA==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry, I misread the code.",
    "created_at": "2020-09-29T13:11:25Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496703810",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496703810"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496703810"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496703810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1952,
    "side": "RIGHT",
    "in_reply_to_id": 494948527
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496716895",
    "pull_request_review_id": 498468751,
    "id": 496716895,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxNjg5NQ==",
    "diff_hunk": "@@ -201,6 +202,8 @@ class CConnman\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n         std::vector<NetWhitebindPermissions> vWhiteBinds;\n         std::vector<CService> vBinds;\n+        bool listen_onion{true};\n+        Optional<CService> onion_bind;",
    "path": "src/net.h",
    "position": null,
    "original_position": 16,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, drop this. I suggested it because members below use `m_` prefix. But members above don't!",
    "created_at": "2020-09-29T13:29:27Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496716895",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496716895"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496716895"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496716895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 205,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 214,
    "side": "RIGHT",
    "in_reply_to_id": 494953857
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496723371",
    "pull_request_review_id": 498477616,
    "id": 496723371,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcyMzM3MQ==",
    "diff_hunk": "@@ -201,6 +202,8 @@ class CConnman\n         std::vector<NetWhitelistPermissions> vWhitelistedRange;\n         std::vector<NetWhitebindPermissions> vWhiteBinds;\n         std::vector<CService> vBinds;\n+        bool listen_onion{true};\n+        Optional<CService> onion_bind;",
    "path": "src/net.h",
    "position": null,
    "original_position": 16,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "https://github.com/bitcoin/bitcoin/pull/19759#issuecomment-700702839\r\n\r\n:D",
    "created_at": "2020-09-29T13:37:52Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496723371",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496723371"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496723371"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496723371/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 205,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 214,
    "side": "RIGHT",
    "in_reply_to_id": 494953857
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496726904",
    "pull_request_review_id": 498482333,
    "id": 496726904,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcyNjkwNA==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That would couple the two things together under one option, making it impossible to configure them independently:\r\n\r\nN | auto create hidden service (`-listenonion`) | extra bind (`-bind=addr:port=onion`)\r\n---|---|---\r\n1 | no | no\r\n2 | no | yes\r\n3 | yes | no\r\n4 | yes | yes",
    "created_at": "2020-09-29T13:42:22Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496726904",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496726904"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496726904"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496726904/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2312,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2342,
    "side": "RIGHT",
    "in_reply_to_id": 494961073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496743497",
    "pull_request_review_id": 498504476,
    "id": 496743497,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc0MzQ5Nw==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }\n+",
    "path": "src/net.cpp",
    "position": 57,
    "original_position": 26,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, this is only relevant if a routable address is supplied to `-bind=addr:port=onion`.\r\n\r\nThe added `NetPermissionFlags::PF_ONION` works, but is strange because that is not a \"permission\". It is just a flag telling `Bind()` \"this is a covert bind address, don't advertise it\". Isn't `enum BindFlags` more suitable for it? `BF_DONT_ADVERTISE` or `BF_COVERT`?\r\n\r\nIn any case - the `_ONION` in the name may be too narrow, if we want to use the same mechanism for something else in the future.",
    "created_at": "2020-09-29T14:02:43Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496743497",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496743497"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496743497"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496743497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2343,
    "original_line": 2343,
    "side": "RIGHT",
    "in_reply_to_id": 494967703
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496747544",
    "pull_request_review_id": 498510021,
    "id": 496747544,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc0NzU0NA==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Should we warn that only the last =onion argument will be kept if more than one is passed?\r\n\r\nRight, or even error :bomb: or support more than one `=onion`.",
    "created_at": "2020-09-29T14:07:55Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496747544",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496747544"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496747544"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496747544/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881439",
    "pull_request_review_id": 498677025,
    "id": 496881439,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4MTQzOQ==",
    "diff_hunk": "@@ -1920,13 +1917,34 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    connOptions.listen_onion = args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION);\n+\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (connOptions.listen_onion && network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_bind = bind_addr;",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 42,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638).",
    "created_at": "2020-09-29T16:35:03Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881439",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881439"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881439"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1955,
    "side": "RIGHT",
    "in_reply_to_id": 494948385
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881619",
    "pull_request_review_id": 498677246,
    "id": 496881619,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4MTYxOQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>[:<port>][=onion]\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Append =onion to tag any incoming connections to that address and port as incoming tor connections (default: mainnet: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "20349ec2f669c6e06dfbddbcec63b1c3b6cdbc9e",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638).",
    "created_at": "2020-09-29T16:35:20Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881619",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881619"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881619"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 495769826
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881834",
    "pull_request_review_id": 498677538,
    "id": 496881834,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4MTgzNA==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638).",
    "created_at": "2020-09-29T16:35:41Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881834",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881834"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496881834"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496881834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2312,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2342,
    "side": "RIGHT",
    "in_reply_to_id": 494961073
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882119",
    "pull_request_review_id": 498677909,
    "id": 496882119,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4MjExOQ==",
    "diff_hunk": "@@ -2300,11 +2303,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    if (m_listen_onion) {\n+        fBound |= Bind(onion_bind, BF_EXPLICIT, NetPermissionFlags::PF_NONE);\n+    }\n+",
    "path": "src/net.cpp",
    "position": 57,
    "original_position": 26,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638).",
    "created_at": "2020-09-29T16:36:07Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496882119",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882119"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496882119"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2343,
    "original_line": 2343,
    "side": "RIGHT",
    "in_reply_to_id": 494967703
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882465",
    "pull_request_review_id": 498678380,
    "id": 496882465,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4MjQ2NQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ void SetupServerArgs(NodeContext& node)\n     argsman.AddArg(\"-addnode=<ip>\", \"Add a node to connect to and attempt to keep the connection open (see the `addnode` RPC command help for more info). This option can be specified multiple times to add multiple nodes.\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-asmap=<file>\", strprintf(\"Specify asn mapping used for bucketing of the peers (default: %s). Relative paths will be prefixed by the net-specific datadir location.\", DEFAULT_ASMAP_FILENAME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-bantime=<n>\", strprintf(\"Default duration (in seconds) of manually configured bans (default: %u)\", DEFAULT_MISBEHAVING_BANTIME), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-bind=<addr>\", \"Bind to given address and always listen on it. Use [host]:port notation for IPv6\", ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-bind=<addr>\", strprintf(\"Bind to given address and always listen on it. Use [host]:port notation for IPv6. Use =onion suffix to bind onion service target socket (default: 127.0.0.1:%u=onion, testnet: 127.0.0.1:%u=onion, regtest: 127.0.0.1:%u=onion)\", defaultBaseParams->OnionServiceTargetPort(), testnetBaseParams->OnionServiceTargetPort(), regtestBaseParams->OnionServiceTargetPort()), ArgsManager::ALLOW_ANY | ArgsManager::NETWORK_ONLY, OptionsCategory::CONNECTION);",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "cfa17e307adaec81f6036cf4f124d78f9e128c30",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-700831638).",
    "created_at": "2020-09-29T16:36:41Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496882465",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882465"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r496882465"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/496882465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 494935024
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497391823",
    "pull_request_review_id": 499274180,
    "id": 497391823,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzM5MTgyMw==",
    "diff_hunk": "@@ -20,6 +20,7 @@\n #include <protocol.h>\n #include <random.h>\n #include <scheduler.h>\n+#include <torcontrol.h>",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "30f2355d96bf67a30a06c1fcf6d27d242b05491b",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I really hope we can avoid introducing this circular dependency.\r\n\r\nLooks like this is due to only one line: `onion_binds.push_back(DefaultOnionServiceTarget());`\r\nlet just pass this value in.\r\n",
    "created_at": "2020-09-30T10:03:31Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r497391823",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497391823"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r497391823"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497391823/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 23,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497513349",
    "pull_request_review_id": 499435398,
    "id": 497513349,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUxMzM0OQ==",
    "diff_hunk": "@@ -20,6 +20,7 @@\n #include <protocol.h>\n #include <random.h>\n #include <scheduler.h>\n+#include <torcontrol.h>",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "30f2355d96bf67a30a06c1fcf6d27d242b05491b",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-701394030).",
    "created_at": "2020-09-30T13:34:25Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r497513349",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497513349"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r497513349"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/497513349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 23,
    "side": "RIGHT",
    "in_reply_to_id": 497391823
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498274458",
    "pull_request_review_id": 500388184,
    "id": 498274458,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODI3NDQ1OA==",
    "diff_hunk": "@@ -84,6 +84,7 @@ enum BindFlags {\n     BF_NONE         = 0,\n     BF_EXPLICIT     = (1U << 0),\n     BF_REPORT_ERROR = (1U << 1),\n+    BF_DONT_ADVERTISE = (1U << 2),",
    "path": "src/net.cpp",
    "position": 8,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "ffa19a6eb8f9b6c4af2937282bbe0ca9c96d95d0",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "These flags would benefit from some documentation.",
    "created_at": "2020-10-01T14:10:25Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498274458",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498274458"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498274458"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498274458/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 91,
    "original_line": 91,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498306575",
    "pull_request_review_id": 500431768,
    "id": 498306575,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMwNjU3NQ==",
    "diff_hunk": "@@ -2308,10 +2305,18 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         }\n         return false;\n     }\n+\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && (permissions & PF_NOBAN) == 0) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 24,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `!(a & b)` is the same as `(a & b) == 0`, use just either one for consistency, not both.",
    "created_at": "2020-10-01T14:52:03Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498306575",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498306575"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498306575"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498306575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2309,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498307586",
    "pull_request_review_id": 500431768,
    "id": 498307586,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMwNzU4Ng==",
    "diff_hunk": "@@ -1940,13 +1937,39 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_binds.push_back(bind_addr);\n+                    continue;\n+                }\n+            }\n         }\n-        connOptions.vBinds.push_back(addrBind);\n+        return InitError(ResolveErrMsg(\"bind\", bind_arg));\n     }\n+\n+    if (connOptions.onion_binds.empty()) {\n+        connOptions.onion_binds.push_back(DefaultOnionServiceTarget());\n+    }\n+\n+    if (args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)) {\n+        const auto bind_addr = connOptions.onion_binds.front();\n+        if (connOptions.onion_binds.size() > 1) {\n+            InitWarning(strprintf(_(\"More than one bind address is provided for automatic Tor onion service. Using %s\"), bind_addr.ToStringIPPort()));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit:\r\n\r\n```suggestion\r\n            InitWarning(strprintf(_(\"More than one onion bind address is provided. Using %s for the automatically created hidden service.\"), bind_addr.ToStringIPPort()));\r\n```",
    "created_at": "2020-10-01T14:53:21Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498307586",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498307586"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498307586"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498307586/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1968,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498311386",
    "pull_request_review_id": 500431768,
    "id": 498311386,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxMTM4Ng==",
    "diff_hunk": "@@ -2308,10 +2305,18 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         }\n         return false;\n     }\n+\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && (permissions & PF_NOBAN) == 0) {\n+        AddLocal(addr, LOCAL_BIND);\n+    }\n+\n     return true;\n }\n \n-bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<NetWhitebindPermissions>& whiteBinds)\n+bool CConnman::InitBinds(\n+    const std::vector<CService>& binds,\n+    const std::vector<NetWhitebindPermissions>& whiteBinds,\n+    std::vector<CService> onion_binds)",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe change the `onion_binds` argument to `const` reference?",
    "created_at": "2020-10-01T14:58:15Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498311386",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498311386"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498311386"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498311386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2316,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2319,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498314755",
    "pull_request_review_id": 500431768,
    "id": 498314755,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMxNDc1NQ==",
    "diff_hunk": "@@ -436,7 +436,7 @@ def get_bin_from_version(version, bin_name, bin_default):\n         if self.bind_to_localhost_only:\n             extra_confs = [[\"bind=127.0.0.1\"]] * num_nodes\n         else:\n-            extra_confs = [[]] * num_nodes\n+            extra_confs = [[\"listenonion=0\"]] * num_nodes",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is this change still needed after recent mods to this PR? If \"yes\", then why is it needed?",
    "created_at": "2020-10-01T15:02:46Z",
    "updated_at": "2020-10-01T16:26:16Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498314755",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498314755"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498314755"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498314755/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 439,
    "start_side": "LEFT",
    "line": null,
    "original_line": 439,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374300",
    "pull_request_review_id": 500523929,
    "id": 498374300,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NDMwMA==",
    "diff_hunk": "@@ -84,6 +84,7 @@ enum BindFlags {\n     BF_NONE         = 0,\n     BF_EXPLICIT     = (1U << 0),\n     BF_REPORT_ERROR = (1U << 1),\n+    BF_DONT_ADVERTISE = (1U << 2),",
    "path": "src/net.cpp",
    "position": 8,
    "original_position": 4,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "ffa19a6eb8f9b6c4af2937282bbe0ca9c96d95d0",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099).",
    "created_at": "2020-10-01T16:30:52Z",
    "updated_at": "2020-10-01T16:30:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374300",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374300"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374300"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 91,
    "original_line": 91,
    "side": "RIGHT",
    "in_reply_to_id": 498274458
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374763",
    "pull_request_review_id": 500524636,
    "id": 498374763,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NDc2Mw==",
    "diff_hunk": "@@ -2308,10 +2305,18 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         }\n         return false;\n     }\n+\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && (permissions & PF_NOBAN) == 0) {",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 24,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "[Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099).",
    "created_at": "2020-10-01T16:31:43Z",
    "updated_at": "2020-10-01T16:31:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374763",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374763"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374763"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2309,
    "side": "RIGHT",
    "in_reply_to_id": 498306575
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374890",
    "pull_request_review_id": 500524794,
    "id": 498374890,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NDg5MA==",
    "diff_hunk": "@@ -1940,13 +1937,39 @@ bool AppInitMain(const util::Ref& context, NodeContext& node, interfaces::BlockA\n     connOptions.nMaxOutboundLimit = nMaxOutboundLimit;\n     connOptions.m_peer_connect_timeout = peer_connect_timeout;\n \n-    for (const std::string& strBind : args.GetArgs(\"-bind\")) {\n-        CService addrBind;\n-        if (!Lookup(strBind, addrBind, GetListenPort(), false)) {\n-            return InitError(ResolveErrMsg(\"bind\", strBind));\n+    for (const std::string& bind_arg : args.GetArgs(\"-bind\")) {\n+        CService bind_addr;\n+        const size_t index = bind_arg.rfind('=');\n+        if (index == std::string::npos) {\n+            if (Lookup(bind_arg, bind_addr, GetListenPort(), false)) {\n+                connOptions.vBinds.push_back(bind_addr);\n+                continue;\n+            }\n+        } else {\n+            const std::string network_type = bind_arg.substr(index + 1);\n+            if (network_type == \"onion\") {\n+                const std::string truncated_bind_arg = bind_arg.substr(0, index);\n+                if (Lookup(truncated_bind_arg, bind_addr, BaseParams().OnionServiceTargetPort(), false)) {\n+                    connOptions.onion_binds.push_back(bind_addr);\n+                    continue;\n+                }\n+            }\n         }\n-        connOptions.vBinds.push_back(addrBind);\n+        return InitError(ResolveErrMsg(\"bind\", bind_arg));\n     }\n+\n+    if (connOptions.onion_binds.empty()) {\n+        connOptions.onion_binds.push_back(DefaultOnionServiceTarget());\n+    }\n+\n+    if (args.GetBoolArg(\"-listenonion\", DEFAULT_LISTEN_ONION)) {\n+        const auto bind_addr = connOptions.onion_binds.front();\n+        if (connOptions.onion_binds.size() > 1) {\n+            InitWarning(strprintf(_(\"More than one bind address is provided for automatic Tor onion service. Using %s\"), bind_addr.ToStringIPPort()));",
    "path": "src/init.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099).",
    "created_at": "2020-10-01T16:31:54Z",
    "updated_at": "2020-10-01T16:31:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374890",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374890"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374890"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1968,
    "side": "RIGHT",
    "in_reply_to_id": 498307586
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374964",
    "pull_request_review_id": 500524914,
    "id": 498374964,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NDk2NA==",
    "diff_hunk": "@@ -2308,10 +2305,18 @@ bool CConnman::Bind(const CService &addr, unsigned int flags, NetPermissionFlags\n         }\n         return false;\n     }\n+\n+    if (addr.IsRoutable() && fDiscover && !(flags & BF_DONT_ADVERTISE) && (permissions & PF_NOBAN) == 0) {\n+        AddLocal(addr, LOCAL_BIND);\n+    }\n+\n     return true;\n }\n \n-bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<NetWhitebindPermissions>& whiteBinds)\n+bool CConnman::InitBinds(\n+    const std::vector<CService>& binds,\n+    const std::vector<NetWhitebindPermissions>& whiteBinds,\n+    std::vector<CService> onion_binds)",
    "path": "src/net.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099).",
    "created_at": "2020-10-01T16:32:05Z",
    "updated_at": "2020-10-01T16:32:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374964",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374964"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498374964"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498374964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2316,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2319,
    "side": "RIGHT",
    "in_reply_to_id": 498311386
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498375133",
    "pull_request_review_id": 500525202,
    "id": 498375133,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODM3NTEzMw==",
    "diff_hunk": "@@ -436,7 +436,7 @@ def get_bin_from_version(version, bin_name, bin_default):\n         if self.bind_to_localhost_only:\n             extra_confs = [[\"bind=127.0.0.1\"]] * num_nodes\n         else:\n-            extra_confs = [[]] * num_nodes\n+            extra_confs = [[\"listenonion=0\"]] * num_nodes",
    "path": "test/functional/test_framework/test_framework.py",
    "position": null,
    "original_position": 5,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "3c24f75d4ce7d3ce1e30d334ea30873a15633e46",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks! [Updated](https://github.com/bitcoin/bitcoin/pull/19991#issuecomment-702253099).",
    "created_at": "2020-10-01T16:32:26Z",
    "updated_at": "2020-10-01T16:32:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498375133",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498375133"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498375133"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498375133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 439,
    "start_side": "LEFT",
    "line": null,
    "original_line": 439,
    "side": "RIGHT",
    "in_reply_to_id": 498314755
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498721063",
    "pull_request_review_id": 500997150,
    "id": 498721063,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTA2Mw==",
    "diff_hunk": "@@ -2322,11 +2331,16 @@ bool CConnman::InitBinds(const std::vector<CService>& binds, const std::vector<N\n     }\n     if (binds.empty() && whiteBinds.empty()) {\n         struct in_addr inaddr_any;\n-        inaddr_any.s_addr = INADDR_ANY;\n+        inaddr_any.s_addr = htonl(INADDR_ANY);\n         struct in6_addr inaddr6_any = IN6ADDR_ANY_INIT;\n         fBound |= Bind(CService(inaddr6_any, GetListenPort()), BF_NONE, NetPermissionFlags::PF_NONE);\n         fBound |= Bind(CService(inaddr_any, GetListenPort()), !fBound ? BF_REPORT_ERROR : BF_NONE, NetPermissionFlags::PF_NONE);\n     }\n+\n+    for (const auto& addr_bind : onion_binds) {\n+        fBound |= Bind(addr_bind, BF_EXPLICIT | BF_DONT_ADVERTISE, NetPermissionFlags::PF_NONE);",
    "path": "src/net.cpp",
    "position": 55,
    "original_position": 55,
    "commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "original_commit_id": "96571b3d4cb4cda0fd3d5a457ae4a12f615de82b",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: maybe `BF_REPORT_ERROR` should be here too, like with `binds` and `whiteBinds`?",
    "created_at": "2020-10-02T09:42:56Z",
    "updated_at": "2020-10-02T09:47:03Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498721063",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498721063"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19991#discussion_r498721063"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19991"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/498721063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2341,
    "original_line": 2341,
    "side": "RIGHT"
  }
]