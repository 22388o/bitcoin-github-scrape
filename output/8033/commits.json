[
  {
    "sha": "00678bdb0aeb296456501f818faaa012a75ce18e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMDY3OGJkYjBhZWIyOTY0NTY1MDFmODE4ZmFhYTAxMmE3NWNlMThl",
    "commit": {
      "author": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-10T00:01:33Z"
      },
      "committer": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-10T01:13:55Z"
      },
      "message": "Make failures to connect via Socks5() more informative and less unnecessarily scary.\n\n* The \"ERROR\" was printed far too often during normal operation for what was not an error.\n* Makes the Socks5() connect failure similar to the IP connect failure in debug.log.\n\nBefore:\n`2016-05-09 00:15:00 ERROR: Proxy error: host unreachable`\n\nAfter:\n`2016-05-09 00:15:00 Socks5() connect to t6xj6wilh4ytvcs7.onion:18333 failed: host unreachable\"`",
      "tree": {
        "sha": "82f40ba77f5b4d1bf3fca4f709d84aac1fb51dbf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82f40ba77f5b4d1bf3fca4f709d84aac1fb51dbf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/00678bdb0aeb296456501f818faaa012a75ce18e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00678bdb0aeb296456501f818faaa012a75ce18e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/00678bdb0aeb296456501f818faaa012a75ce18e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00678bdb0aeb296456501f818faaa012a75ce18e/comments",
    "author": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4e14afe42fdd468d5de11df8cc13defdcb8e83f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4e14afe42fdd468d5de11df8cc13defdcb8e83f8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4e14afe42fdd468d5de11df8cc13defdcb8e83f8"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 11,
      "deletions": 9
    },
    "files": [
      {
        "sha": "6e81fdcac29b6dd2a4c755b6dbbe61cd5c1eed71",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 11,
        "deletions": 9,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/00678bdb0aeb296456501f818faaa012a75ce18e/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/00678bdb0aeb296456501f818faaa012a75ce18e/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=00678bdb0aeb296456501f818faaa012a75ce18e",
        "patch": "@@ -379,19 +379,21 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n         return error(\"Proxy failed to accept request\");\n     }\n     if (pchRet2[1] != 0x00) {\n+        // Failures to connect to a peer that are not proxy errors\n         CloseSocket(hSocket);\n         switch (pchRet2[1])\n         {\n-            case 0x01: return error(\"Proxy error: general failure\");\n-            case 0x02: return error(\"Proxy error: connection not allowed\");\n-            case 0x03: return error(\"Proxy error: network unreachable\");\n-            case 0x04: return error(\"Proxy error: host unreachable\");\n-            case 0x05: return error(\"Proxy error: connection refused\");\n-            case 0x06: return error(\"Proxy error: TTL expired\");\n-            case 0x07: return error(\"Proxy error: protocol error\");\n-            case 0x08: return error(\"Proxy error: address type not supported\");\n-            default:   return error(\"Proxy error: unknown\");\n+            case 0x01: LogPrintf(\"Socks5() connect to %s:%d failed: general failure\\n\", strDest, port); break;\n+            case 0x02: LogPrintf(\"Socks5() connect to %s:%d failed: connection not allowed\\n\", strDest, port); break;\n+            case 0x03: LogPrintf(\"Socks5() connect to %s:%d failed: network unreachable\\n\", strDest, port); break;\n+            case 0x04: LogPrintf(\"Socks5() connect to %s:%d failed: host unreachable\\n\", strDest, port); break;\n+            case 0x05: LogPrintf(\"Socks5() connect to %s:%d failed: connection refused\\n\", strDest, port); break;\n+            case 0x06: LogPrintf(\"Socks5() connect to %s:%d failed: TTL expired\\n\", strDest, port); break;\n+            case 0x07: LogPrintf(\"Socks5() connect to %s:%d failed: protocol error\\n\", strDest, port); break;\n+            case 0x08: LogPrintf(\"Socks5() connect to %s:%d failed: address type not supported\\n\", strDest, port); break;\n+            default:   LogPrintf(\"Socks5() connect to %s:%d failed: unknown\\n\", strDest, port);\n         }\n+        return false;\n     }\n     if (pchRet2[2] != 0x00) {\n         CloseSocket(hSocket);"
      }
    ]
  },
  {
    "sha": "0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZDlhZjc5ZTUwODRkYzJmYjZhNzNhYmQ5ZGQxMTNkZGE0ZTk5M2I0",
    "commit": {
      "author": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-10T00:35:14Z"
      },
      "committer": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-10T01:13:55Z"
      },
      "message": "SOCKS5 connecting and connected messages with -debug=net.\n\nThey were too noisy and not necessary for normal operation.",
      "tree": {
        "sha": "ea776b7cf66e52ccf6a0ee1ae19696c596bad2d2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea776b7cf66e52ccf6a0ee1ae19696c596bad2d2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4/comments",
    "author": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "00678bdb0aeb296456501f818faaa012a75ce18e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/00678bdb0aeb296456501f818faaa012a75ce18e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/00678bdb0aeb296456501f818faaa012a75ce18e"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "5ab12c9a7c43ec9a15cf1e7bf9a523284b201c5e",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
        "patch": "@@ -294,7 +294,7 @@ struct ProxyCredentials\n /** Connect using SOCKS5 (as described in RFC1928) */\n static bool Socks5(const std::string& strDest, int port, const ProxyCredentials *auth, SOCKET& hSocket)\n {\n-    LogPrintf(\"SOCKS5 connecting %s\\n\", strDest);\n+    LogPrint(\"net\", \"SOCKS5 connecting %s\\n\", strDest);\n     if (strDest.size() > 255) {\n         CloseSocket(hSocket);\n         return error(\"Hostname too long\");\n@@ -425,7 +425,7 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n         CloseSocket(hSocket);\n         return error(\"Error reading from proxy\");\n     }\n-    LogPrintf(\"SOCKS5 connected %s\\n\", strDest);\n+    LogPrint(\"net\", \"SOCKS5 connected %s\\n\", strDest);\n     return true;\n }\n "
      }
    ]
  },
  {
    "sha": "94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NGZkMWQ4ZDUzYWRjZWI4MGU1YTQxY2M2NDM4Yzc3MDRhZWFjMGY3",
    "commit": {
      "author": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-17T07:43:23Z"
      },
      "committer": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-17T07:43:23Z"
      },
      "message": "Make Socks5() InterruptibleRecv() timeout/failures informative.\n\nBefore:\n2016-05-16 06:10:45 ERROR: Error reading proxy response\n\nAfter:\n2016-05-16 06:10:45 Socks5() connect to k7s5d6jqig4ej4v4.onion:18333 failed: InterruptibleRecv() timeout or other failure",
      "tree": {
        "sha": "5965fe585e04145161f8b15d9c07f56afdf05031",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5965fe585e04145161f8b15d9c07f56afdf05031"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7/comments",
    "author": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0d9af79e5084dc2fb6a73abd9dd113dda4e993b4"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 2,
      "deletions": 1
    },
    "files": [
      {
        "sha": "d2a4188ffcb541c779284627e50f8918556b104b",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
        "patch": "@@ -318,7 +318,8 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     char pchRet1[2];\n     if (!InterruptibleRecv(pchRet1, 2, SOCKS5_RECV_TIMEOUT, hSocket)) {\n         CloseSocket(hSocket);\n-        return error(\"Error reading proxy response\");\n+        LogPrintf(\"Socks5() connect to %s:%d failed: InterruptibleRecv() timeout or other failure\\n\", strDest, port);\n+        return false;\n     }\n     if (pchRet1[0] != 0x05) {\n         CloseSocket(hSocket);"
      }
    ]
  },
  {
    "sha": "bf9266e017b286c36e08fd09b91d9e39f14b2cf3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZjkyNjZlMDE3YjI4NmMzNmUwOGZkMDliOTFkOWUzOWYxNGIyY2Yz",
    "commit": {
      "author": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-19T05:19:08Z"
      },
      "committer": {
        "name": "Warren Togami",
        "email": "wtogami@gmail.com",
        "date": "2016-05-19T05:21:22Z"
      },
      "message": "Use Socks5ErrorString() to decode error responses from socks proxy.",
      "tree": {
        "sha": "fe9a9b01cc8dd184829761e27c4bdfb8f7e23992",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe9a9b01cc8dd184829761e27c4bdfb8f7e23992"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bf9266e017b286c36e08fd09b91d9e39f14b2cf3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf9266e017b286c36e08fd09b91d9e39f14b2cf3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bf9266e017b286c36e08fd09b91d9e39f14b2cf3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bf9266e017b286c36e08fd09b91d9e39f14b2cf3/comments",
    "author": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "wtogami",
      "id": 93665,
      "node_id": "MDQ6VXNlcjkzNjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/93665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wtogami",
      "html_url": "https://github.com/wtogami",
      "followers_url": "https://api.github.com/users/wtogami/followers",
      "following_url": "https://api.github.com/users/wtogami/following{/other_user}",
      "gists_url": "https://api.github.com/users/wtogami/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wtogami/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wtogami/subscriptions",
      "organizations_url": "https://api.github.com/users/wtogami/orgs",
      "repos_url": "https://api.github.com/users/wtogami/repos",
      "events_url": "https://api.github.com/users/wtogami/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wtogami/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/94fd1d8d53adceb80e5a41cc6438c7704aeac0f7"
      }
    ],
    "stats": {
      "total": 28,
      "additions": 16,
      "deletions": 12
    },
    "files": [
      {
        "sha": "572ae70871d40ab1a84960664ec884fcd658dafc",
        "filename": "src/netbase.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 12,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bf9266e017b286c36e08fd09b91d9e39f14b2cf3/src/netbase.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bf9266e017b286c36e08fd09b91d9e39f14b2cf3/src/netbase.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/netbase.cpp?ref=bf9266e017b286c36e08fd09b91d9e39f14b2cf3",
        "patch": "@@ -291,6 +291,21 @@ struct ProxyCredentials\n     std::string password;\n };\n \n+std::string Socks5ErrorString(int err)\n+{\n+    switch(err) {\n+        case 0x01: return \"general failure\";\n+        case 0x02: return \"connection not allowed\";\n+        case 0x03: return \"network unreachable\";\n+        case 0x04: return \"host unreachable\";\n+        case 0x05: return \"connection refused\";\n+        case 0x06: return \"TTL expired\";\n+        case 0x07: return \"protocol error\";\n+        case 0x08: return \"address type not supported\";\n+        default:   return \"unknown\";\n+    }\n+}\n+\n /** Connect using SOCKS5 (as described in RFC1928) */\n static bool Socks5(const std::string& strDest, int port, const ProxyCredentials *auth, SOCKET& hSocket)\n {\n@@ -382,18 +397,7 @@ static bool Socks5(const std::string& strDest, int port, const ProxyCredentials\n     if (pchRet2[1] != 0x00) {\n         // Failures to connect to a peer that are not proxy errors\n         CloseSocket(hSocket);\n-        switch (pchRet2[1])\n-        {\n-            case 0x01: LogPrintf(\"Socks5() connect to %s:%d failed: general failure\\n\", strDest, port); break;\n-            case 0x02: LogPrintf(\"Socks5() connect to %s:%d failed: connection not allowed\\n\", strDest, port); break;\n-            case 0x03: LogPrintf(\"Socks5() connect to %s:%d failed: network unreachable\\n\", strDest, port); break;\n-            case 0x04: LogPrintf(\"Socks5() connect to %s:%d failed: host unreachable\\n\", strDest, port); break;\n-            case 0x05: LogPrintf(\"Socks5() connect to %s:%d failed: connection refused\\n\", strDest, port); break;\n-            case 0x06: LogPrintf(\"Socks5() connect to %s:%d failed: TTL expired\\n\", strDest, port); break;\n-            case 0x07: LogPrintf(\"Socks5() connect to %s:%d failed: protocol error\\n\", strDest, port); break;\n-            case 0x08: LogPrintf(\"Socks5() connect to %s:%d failed: address type not supported\\n\", strDest, port); break;\n-            default:   LogPrintf(\"Socks5() connect to %s:%d failed: unknown\\n\", strDest, port);\n-        }\n+        LogPrintf(\"Socks5() connect to %s:%d failed: %s\\n\", strDest, port, Socks5ErrorString(pchRet2[1]));\n         return false;\n     }\n     if (pchRet2[2] != 0x00) {"
      }
    ]
  }
]