rnicoll,2014-08-03T13:42:36Z,"Tested with:\n\nbitcoin-qt -testnet bitcoin:n4dqmiBSWCTLnJRs4FXRxeHVAhZJhyPGCR\nbitcoin-qt -testnet bitcoin:n4dqmiBSWCTLnJRs4FXRxeHVAhZJhyPGCR/\nbitcoin-qt -testnet bitcoin:n4dqmiBSWCTLnJRs4FXRxeHVAhZJhyPGCR/?amount=100\n\nWith 0.9.2 the latter two fail, with the revised patch all three are parsed as valid URIs and the prompt to complete payment is shown after startup.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50990797,50990797,
laanwj,2014-08-03T13:46:34Z,What are these cases?\nI'd like to know why this corruption happens in the first place.\nDo we do something wrong with escaping?\n,https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50990876,50990876,
rnicoll,2014-08-03T13:50:11Z,"It's only something I'm seeing arising in Windows, but for some reason bitcoin: URIs are arriving with the client with a / on the end, as if they're being treated as URLs by some intermediary which rewrites them. Bitcoin is fine in theory, as the URI shouldn't have a / injected, but as it happens it seems practical to handle it.\n\nThe last test case was suggested as an extreme example, I haven't ",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50990965,50990965,
laanwj,2014-08-03T13:52:44Z,OK. Weird. I've never heard this reported before.\n,https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50991023,50991023,
rnicoll,2014-08-03T13:54:22Z,"I'll come back with more detail later, under the wrong OS right now.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50991061,50991061,
laanwj,2014-08-03T13:55:59Z,"Something 'intermediating' between the browser and Bitcoin Core does sound vaguely scary, by the way. I hope it's not a man in the middle attack :)\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50991089,50991089,
rnicoll,2014-08-03T13:57:28Z,"I meant it looks like the OS takes the URI and modifies it. Still, this is fairly much why the client verifies payments before they're sent, right? :)\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50991127,50991127,
cdecker,2014-08-03T15:52:47Z,"Does this have an impact on people (wrongfully) using URIs with the bitcoin:// prefix, or are these broken anyway? Splitting by '/' feels awkward when a more explicit if-else checking for the last char would have done the trick.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-50993974,50993974,
rnicoll,2014-08-04T00:25:17Z,"@cdecker No, the rewrite to replace ""bitcoin://"" with ""bitcoin:"" occurs before this step, at around line 167 of guiutil.cpp\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51008134,51008134,
rnicoll,2014-08-04T22:18:15Z,"Reconfirmed the problem under Windows 7 with Chrome, and I think found why it occurs...\n\nLooking at https://chain.so/address/BTC/14nsgXjL7xCEXFf8UkGCm9KnSTTFBDKqcn (just a random address that's been used recently), the ""Send Bitcoin"" link has bitcoin:// in it, which somehow triggers a / being appended to the URI as well. Fixing the URI in the page does also resolve this.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51125881,51125881,
laanwj,2014-08-05T12:54:39Z,"OK - they shouldn't be using bitcoin:// in the first place. But we remove the //, so it's fine with me to remove the trailing slash too.\n\nI agree with @cdecker that splitting and then taking the first feels awkward though. I'd prefer a more specific `if(uri.path().endsWith(""/"")) check`.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51192892,51192892,
rnicoll,2014-08-07T21:39:12Z,"Not sure why we got a bunch of random commits first update... anyway, that should be it just removing any ending / now.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51535819,51535819,
cdecker,2014-08-07T21:41:06Z,"Thanks, that looks a lot better.\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51536032,51536032,
laanwj,2014-08-08T06:26:25Z,ACK after nit\n,https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51567589,51567589,
rnicoll,2014-08-08T18:14:16Z,"Once more, with feeling...\n",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51638189,51638189,
BitcoinPullTester,2014-08-08T18:28:55Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4622_c7f3876d4af37cfd6e587d0ab7ddbeaedda27857/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4622#issuecomment-51640197,51640197,
Diapolo,2014-08-08T05:50:35Z,Nit: Indentation (use 4 spaces).\n,https://github.com/bitcoin/bitcoin/pull/4622#discussion_r15979024,15979024,src/qt/guiutil.cpp
laanwj,2014-08-08T06:24:39Z,is this a _leading_ or _trailing_ forward slash? :imp:\n,https://github.com/bitcoin/bitcoin/pull/4622#discussion_r15979505,15979505,src/qt/guiutil.cpp
