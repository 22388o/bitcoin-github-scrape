DrahtBot,2019-10-04 20:56:29,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17023](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17023.html) (doc: warn that ranged multi() descriptors a",https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538556995,538556995,
Sjors,2019-10-05 11:33:55,"Concept ACK\n\n@peter-conalgo does this match the BIP67 implementation in ColdCard? (assuming compressed public keys). E.g. https://github.com/Coldcard/firmware/blob/master/testing/test_multisig.py#L232-L255 and https://github.com/Coldcard/firmware/blob/master/shared/multisig.py#L412-L414",https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538641923,538641923,
Sjors,2019-10-06 19:01:32,ACK a6dd441cb2d8325dd968897776e7f8389cda359c,https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-538777283,538777283,
achow101,2019-10-07 23:03:10,Added a release note.,https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539240863,539240863,
instagibbs,2019-10-08 13:49:46,utACK https://github.com/bitcoin/bitcoin/pull/17056/commits/2638791a4f25394dc241367c933a2d27ed981197,https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539522848,539522848,
promag,2019-10-08 13:59:25,"ACK 2638791a4f25394dc241367c933a2d27ed981197, only changes are the suggestion in the test  and added the release note.",https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539527283,539527283,
sipa,2019-10-08 17:12:40,ACK 2638791a4f25394dc241367c933a2d27ed981197. Agree on calling it `sortedmulti` as it's indeed more generic than bip67.,https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539612854,539612854,
instagibbs,2019-10-08 18:24:46,re-ACK https://github.com/bitcoin/bitcoin/pull/17056/commits/4bb660be90a2811b53855bf1fd33a8dd9ba3db47,https://github.com/bitcoin/bitcoin/pull/17056#issuecomment-539641251,539641251,
promag,2019-10-05 08:03:43,Also const?,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331737954,331737954,src/script/descriptor.cpp
promag,2019-10-05 08:11:49,Swap operands?,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331738173,331738173,src/script/descriptor.cpp
Sjors,2019-10-06 09:07:43,"This just returns `false` without failing the test.  In fact all these addresses are incorrect; you either have to run the node in mainnet (like `feature_config_args`), or replace the test vectors for regtest. I manually verified with a mainnet node that the vectors do pass.",https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331778543,331778543,test/functional/rpc_createmultisig.py
achow101,2019-10-06 15:19:51,Whoops. Fixed. Changed the addresses to regtest ones. You can check they still map to the same scriptPubKey using `getaddressinfo` and `decodescript`.,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331794878,331794878,test/functional/rpc_createmultisig.py
bitcoinhodler,2019-10-06 22:13:55,s/keys in the sorted/keys sorted/,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813500,331813500,doc/descriptors.md
bitcoinhodler,2019-10-06 22:14:33,s/where the one multisig key/where one multisig key/,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813523,331813523,doc/descriptors.md
bitcoinhodler,2019-10-06 22:16:20,s/It represents/They represent/ (?),https://github.com/bitcoin/bitcoin/pull/17056#discussion_r331813586,331813586,doc/descriptors.md
achow101,2019-10-07 18:06:41,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160588,332160588,src/script/descriptor.cpp
achow101,2019-10-07 18:06:46,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160621,332160621,src/script/descriptor.cpp
achow101,2019-10-07 18:06:52,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160662,332160662,doc/descriptors.md
achow101,2019-10-07 18:07:03,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160738,332160738,doc/descriptors.md
achow101,2019-10-07 18:07:10,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332160807,332160807,doc/descriptors.md
promag,2019-10-07 22:22:12,"nit, in order to make this shorter:\n```py\n            keys = ','.join(t['keys'])\n            desc = descsum_create('sh(sortedmulti(2,{}))'.format(keys))\n            assert_equal(self.nodes[0].deriveaddresses(desc)[0], t['address'])\n",https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332263524,332263524,test/functional/rpc_createmultisig.py
achow101,2019-10-07 23:03:04,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332274606,332274606,test/functional/rpc_createmultisig.py
bitcoinhodler,2019-10-08 03:53:34,s/scripst/scripts/,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332326802,332326802,doc/release-notes-17056.md
achow101,2019-10-08 04:03:16,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332328151,332328151,doc/release-notes-17056.md
sipa,2019-10-08 17:10:23,"You could check whether a `sh(multi(2,{}))` descriptor with the json's  ""sorted_keys"" gives the same result.",https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332629929,332629929,test/functional/rpc_createmultisig.py
sipa,2019-10-08 17:11:38,"I very slightly prefer `if ((sorted_multi = Func(""sortedmulti"", expr)) || Func(""multi"", expr)) {`",https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332630410,332630410,src/script/descriptor.cpp
achow101,2019-10-08 17:57:11,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651138,332651138,test/functional/rpc_createmultisig.py
achow101,2019-10-08 17:57:16,Done,https://github.com/bitcoin/bitcoin/pull/17056#discussion_r332651171,332651171,src/script/descriptor.cpp
