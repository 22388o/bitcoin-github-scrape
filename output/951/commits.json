[
  {
    "sha": "ecf07f2729ebc0a8af969de9c8e936b72dd3fde8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplY2YwN2YyNzI5ZWJjMGE4YWY5NjlkZTljOGU5MzZiNzJkZDNmZGU4",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-03-19T04:13:15Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2012-03-19T04:13:15Z"
      },
      "message": "Limit getheaders to a hard 2000.\n\nPreviously getheaders would return any number of headers up to\n2000 + the distance the locator parameter was back (which is up to\n~ the number of items in the locator ^ 2).\n\nThe only client I was able to find which actually handles the headers\nmessage is BitcoinJ, and it clearly expects no more than 2000 headers\nSee:\nhttp://code.google.com/p/bitcoinj/source/browse/core/src/main/java/com/google/bitcoin/core/HeadersMessage.java#35\n\nAdditionally, the wiki clearly states that getheaders will only ever\nreturn 2000 headers: https://en.bitcoin.it/wiki/Network#Messages",
      "tree": {
        "sha": "3ba5c90d7d295c39b9854529e5cf8fd927d1f6cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3ba5c90d7d295c39b9854529e5cf8fd927d1f6cc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "0b99d1b574f33a67c8bfae0a149ef70346d4a114",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0b99d1b574f33a67c8bfae0a149ef70346d4a114",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0b99d1b574f33a67c8bfae0a149ef70346d4a114"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "100cf753a652153bc28871e24b24014188971a55",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ecf07f2729ebc0a8af969de9c8e936b72dd3fde8/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=ecf07f2729ebc0a8af969de9c8e936b72dd3fde8",
        "patch": "@@ -2496,8 +2496,8 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n         }\n \n         vector<CBlock> vHeaders;\n-        int nLimit = 2000 + locator.GetDistanceBack();\n-        printf(\"getheaders %d to %s limit %d\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str(), nLimit);\n+        int nLimit = 2000;\n+        printf(\"getheaders %d to %s\\n\", (pindex ? pindex->nHeight : -1), hashStop.ToString().substr(0,20).c_str());\n         for (; pindex; pindex = pindex->pnext)\n         {\n             vHeaders.push_back(pindex->GetBlockHeader());"
      }
    ]
  }
]