[
  {
    "sha": "7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3Mjk4ZWJiNDMyZjU0MWE2ZWZiOWQ3ZTdhMjlmMzRkYTU4OGE2Yjdm",
    "commit": {
      "author": {
        "name": "Nick Bosma",
        "email": "nick.bosma@gmail.com",
        "date": "2011-10-15T18:56:06Z"
      },
      "committer": {
        "name": "Nick Bosma",
        "email": "nick.bosma@gmail.com",
        "date": "2011-10-18T14:07:52Z"
      },
      "message": "Added Caps Lock check and warning at askpassphrasedialog.",
      "tree": {
        "sha": "a421c2545f9c454ed6cede4b70c2757726202ec0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a421c2545f9c454ed6cede4b70c2757726202ec0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/comments",
    "author": {
      "login": "ibno2",
      "id": 5922310,
      "node_id": "MDQ6VXNlcjU5MjIzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5922310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibno2",
      "html_url": "https://github.com/ibno2",
      "followers_url": "https://api.github.com/users/ibno2/followers",
      "following_url": "https://api.github.com/users/ibno2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibno2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibno2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibno2/subscriptions",
      "organizations_url": "https://api.github.com/users/ibno2/orgs",
      "repos_url": "https://api.github.com/users/ibno2/repos",
      "events_url": "https://api.github.com/users/ibno2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibno2/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ibno2",
      "id": 5922310,
      "node_id": "MDQ6VXNlcjU5MjIzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5922310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibno2",
      "html_url": "https://github.com/ibno2",
      "followers_url": "https://api.github.com/users/ibno2/followers",
      "following_url": "https://api.github.com/users/ibno2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibno2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibno2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibno2/subscriptions",
      "organizations_url": "https://api.github.com/users/ibno2/orgs",
      "repos_url": "https://api.github.com/users/ibno2/repos",
      "events_url": "https://api.github.com/users/ibno2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibno2/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b68a8a6b34c22f08478c042352209db0ff7fac60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b68a8a6b34c22f08478c042352209db0ff7fac60",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b68a8a6b34c22f08478c042352209db0ff7fac60"
      }
    ],
    "stats": {
      "total": 73,
      "additions": 71,
      "deletions": 2
    },
    "files": [
      {
        "sha": "f55491fce5604e18ba643d0accc78edf285c3037",
        "filename": "src/qt/askpassphrasedialog.cpp",
        "status": "modified",
        "additions": 52,
        "deletions": 1,
        "changes": 53,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/askpassphrasedialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/askpassphrasedialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/askpassphrasedialog.cpp?ref=7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
        "patch": "@@ -6,17 +6,25 @@\n \n #include <QMessageBox>\n #include <QPushButton>\n+#include <QKeyEvent>\n \n AskPassphraseDialog::AskPassphraseDialog(Mode mode, QWidget *parent) :\n     QDialog(parent),\n     ui(new Ui::AskPassphraseDialog),\n     mode(mode),\n-    model(0)\n+    model(0),\n+    fCapsLock(false)\n {\n     ui->setupUi(this);\n     ui->passEdit1->setMaxLength(MAX_PASSPHRASE_SIZE);\n     ui->passEdit2->setMaxLength(MAX_PASSPHRASE_SIZE);\n     ui->passEdit3->setMaxLength(MAX_PASSPHRASE_SIZE);\n+    \n+    // Setup Caps Lock detection.\n+    ui->passEdit1->installEventFilter(this);\n+    ui->passEdit2->installEventFilter(this);\n+    ui->passEdit3->installEventFilter(this);\n+    ui->capsLabel->clear();\n \n     switch(mode)\n     {\n@@ -184,3 +192,46 @@ void AskPassphraseDialog::textChanged()\n     }\n     ui->buttonBox->button(QDialogButtonBox::Ok)->setEnabled(acceptable);\n }\n+\n+bool AskPassphraseDialog::event(QEvent *event)\n+{\n+    // Detect Caps Lock key press.\n+    if (event->type() == QEvent::KeyPress) {\n+        QKeyEvent *ke = static_cast<QKeyEvent *>(event);\n+        if (ke->key() == Qt::Key_CapsLock) {\n+            fCapsLock = !fCapsLock;\n+        }\n+        if (fCapsLock) {\n+            ui->capsLabel->setText(tr(\"Warning: The Caps Lock key is on.\"));\n+        } else {\n+            ui->capsLabel->clear();\n+        }\n+    }\n+    return QWidget::event(event);\n+}\n+\n+bool AskPassphraseDialog::eventFilter(QObject *, QEvent *event)\n+{\n+    /* Detect Caps Lock. \n+     * There is no good OS-independent way to check a key state in Qt, but we\n+     * can detect Caps Lock by checking for the following condition:\n+     * Shift key is down and the result is a lower case character, or\n+     * Shift key is not down and the result is an upper case character.\n+     */\n+    if (event->type() == QEvent::KeyPress) {\n+        QKeyEvent *ke = static_cast<QKeyEvent *>(event);\n+        QString str = ke->text();\n+        if (str.length() != 0) {\n+            const QChar *psz = str.unicode();\n+            bool fShift = (ke->modifiers() & Qt::ShiftModifier) != 0;\n+            if ((fShift && psz->isLower()) || (!fShift && psz->isUpper())) {\n+                fCapsLock = true;\n+                ui->capsLabel->setText(tr(\"Warning: The Caps Lock key is on.\"));\n+            } else if (psz->isLetter()) {\n+                fCapsLock = false;\n+                ui->capsLabel->clear();\n+            }\n+        }\n+    }\n+    return false;\n+}"
      },
      {
        "sha": "0c708918cf852b66280b4edee192cec9b2c611c4",
        "filename": "src/qt/askpassphrasedialog.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/askpassphrasedialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/askpassphrasedialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/askpassphrasedialog.h?ref=7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
        "patch": "@@ -32,9 +32,12 @@ class AskPassphraseDialog : public QDialog\n     Ui::AskPassphraseDialog *ui;\n     Mode mode;\n     WalletModel *model;\n+    bool fCapsLock;\n \n private slots:\n     void textChanged();\n+    bool event(QEvent *event);\n+    bool eventFilter(QObject *, QEvent *event);\n };\n \n #endif // ASKPASSPHRASEDIALOG_H"
      },
      {
        "sha": "f1f2ef37316f3027b6baac3b8e10d8939db325bf",
        "filename": "src/qt/forms/askpassphrasedialog.ui",
        "status": "modified",
        "additions": 16,
        "deletions": 1,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/forms/askpassphrasedialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7298ebb432f541a6efb9d7e7a29f34da588a6b7f/src/qt/forms/askpassphrasedialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/askpassphrasedialog.ui?ref=7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
        "patch": "@@ -7,7 +7,7 @@\n     <x>0</x>\n     <y>0</y>\n     <width>589</width>\n-    <height>228</height>\n+    <height>239</height>\n    </rect>\n   </property>\n   <property name=\"sizePolicy\">\n@@ -83,6 +83,21 @@\n        </property>\n       </widget>\n      </item>\n+     <item row=\"4\" column=\"1\">\n+      <widget class=\"QLabel\" name=\"capsLabel\">\n+       <property name=\"styleSheet\">\n+        <string notr=\"true\">#capsLabel {\n+\tfont: bold;\n+}</string>\n+       </property>\n+       <property name=\"text\">\n+        <string>TextLabel</string>\n+       </property>\n+       <property name=\"alignment\">\n+        <set>Qt::AlignCenter</set>\n+       </property>\n+      </widget>\n+     </item>\n     </layout>\n    </item>\n    <item>"
      }
    ]
  },
  {
    "sha": "77592ee5101b21725a7d9bbbc80438fbcd2841ca",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3NzU5MmVlNTEwMWIyMTcyNWE3ZDliYmJjODA0MzhmYmNkMjg0MWNh",
    "commit": {
      "author": {
        "name": "Nick Bosma",
        "email": "nick.bosma@gmail.com",
        "date": "2011-10-17T17:50:09Z"
      },
      "committer": {
        "name": "Nick Bosma",
        "email": "nick.bosma@gmail.com",
        "date": "2011-10-18T14:07:52Z"
      },
      "message": "Added Swedish translation.",
      "tree": {
        "sha": "27e39e841981901b34e2178f30595b7007df061d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/27e39e841981901b34e2178f30595b7007df061d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/77592ee5101b21725a7d9bbbc80438fbcd2841ca",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/77592ee5101b21725a7d9bbbc80438fbcd2841ca",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/77592ee5101b21725a7d9bbbc80438fbcd2841ca",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/77592ee5101b21725a7d9bbbc80438fbcd2841ca/comments",
    "author": {
      "login": "ibno2",
      "id": 5922310,
      "node_id": "MDQ6VXNlcjU5MjIzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5922310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibno2",
      "html_url": "https://github.com/ibno2",
      "followers_url": "https://api.github.com/users/ibno2/followers",
      "following_url": "https://api.github.com/users/ibno2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibno2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibno2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibno2/subscriptions",
      "organizations_url": "https://api.github.com/users/ibno2/orgs",
      "repos_url": "https://api.github.com/users/ibno2/repos",
      "events_url": "https://api.github.com/users/ibno2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibno2/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ibno2",
      "id": 5922310,
      "node_id": "MDQ6VXNlcjU5MjIzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5922310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibno2",
      "html_url": "https://github.com/ibno2",
      "followers_url": "https://api.github.com/users/ibno2/followers",
      "following_url": "https://api.github.com/users/ibno2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibno2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibno2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibno2/subscriptions",
      "organizations_url": "https://api.github.com/users/ibno2/orgs",
      "repos_url": "https://api.github.com/users/ibno2/repos",
      "events_url": "https://api.github.com/users/ibno2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibno2/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7298ebb432f541a6efb9d7e7a29f34da588a6b7f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7298ebb432f541a6efb9d7e7a29f34da588a6b7f"
      }
    ],
    "stats": {
      "total": 2389,
      "additions": 2388,
      "deletions": 1
    },
    "files": [
      {
        "sha": "4b189621d55ab399a09b82f17ae9d5fc40351f48",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77592ee5101b21725a7d9bbbc80438fbcd2841ca/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77592ee5101b21725a7d9bbbc80438fbcd2841ca/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=77592ee5101b21725a7d9bbbc80438fbcd2841ca",
        "patch": "@@ -178,7 +178,8 @@ CODECFORTR = UTF-8\n TRANSLATIONS = src/qt/locale/bitcoin_de.ts \\\n     src/qt/locale/bitcoin_es.ts \\\n     src/qt/locale/bitcoin_nl.ts \\\n-    src/qt/locale/bitcoin_ru.ts\n+    src/qt/locale/bitcoin_ru.ts \\\n+    src/qt/locale/bitcoin_sv.ts\n \n isEmpty(QMAKE_LRELEASE) {\n     win32:QMAKE_LRELEASE = $$[QT_INSTALL_BINS]\\lrelease.exe"
      },
      {
        "sha": "b2a405da060c75bdd8f6b98cd8e872458e1abfb5",
        "filename": "src/qt/bitcoin.qrc",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77592ee5101b21725a7d9bbbc80438fbcd2841ca/src/qt/bitcoin.qrc",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77592ee5101b21725a7d9bbbc80438fbcd2841ca/src/qt/bitcoin.qrc",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.qrc?ref=77592ee5101b21725a7d9bbbc80438fbcd2841ca",
        "patch": "@@ -49,5 +49,6 @@\n         <file alias=\"de_DE\">locale/bitcoin_de.qm</file>\n         <file alias=\"nl_NL\">locale/bitcoin_nl.qm</file>\n         <file alias=\"ru_RU\">locale/bitcoin_ru.qm</file>\n+        <file alias=\"sv_SE\">locale/bitcoin_sv.qm</file>\n     </qresource>\n </RCC>"
      },
      {
        "sha": "9a6b0e3a5f829424b9b12dccaa0a2e7fb43e6e28",
        "filename": "src/qt/locale/bitcoin_sv.ts",
        "status": "added",
        "additions": 2385,
        "deletions": 0,
        "changes": 2385,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/77592ee5101b21725a7d9bbbc80438fbcd2841ca/src/qt/locale/bitcoin_sv.ts",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/77592ee5101b21725a7d9bbbc80438fbcd2841ca/src/qt/locale/bitcoin_sv.ts",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/locale/bitcoin_sv.ts?ref=77592ee5101b21725a7d9bbbc80438fbcd2841ca"
      }
    ]
  }
]