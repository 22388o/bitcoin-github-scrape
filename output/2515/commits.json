[
  {
    "sha": "45155d3010a3bbbe3cfbba670538ae18b9772a39",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NTE1NWQzMDEwYTNiYmJlM2NmYmJhNjcwNTM4YWUxOGI5NzcyYTM5",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-04-12T10:24:41Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2013-04-12T11:13:32Z"
      },
      "message": "qt: move export button to tabs\n\nHaving the export button at the top was confusing people into thinking\nthe entire wallet was exported.\n\nThis commit moves the export button to the address book, receiving\naddresses and transaction tabs separately.",
      "tree": {
        "sha": "ce1a8631df298aef4bda092143651ddf70234769",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ce1a8631df298aef4bda092143651ddf70234769"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/45155d3010a3bbbe3cfbba670538ae18b9772a39",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/45155d3010a3bbbe3cfbba670538ae18b9772a39",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/45155d3010a3bbbe3cfbba670538ae18b9772a39",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/45155d3010a3bbbe3cfbba670538ae18b9772a39/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2aa462ec30c3960ae546e4d8d50fdbaffefef718",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2aa462ec30c3960ae546e4d8d50fdbaffefef718",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2aa462ec30c3960ae546e4d8d50fdbaffefef718"
      }
    ],
    "stats": {
      "total": 61,
      "additions": 31,
      "deletions": 30
    },
    "files": [
      {
        "sha": "8529c88b3975bdc771c2b4e4c3e4a3996a6e2aaa",
        "filename": "src/qt/addressbookpage.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/addressbookpage.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/addressbookpage.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/addressbookpage.cpp?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -33,6 +33,7 @@ AddressBookPage::AddressBookPage(Mode mode, Tabs tab, QWidget *parent) :\n     ui->deleteAddress->setIcon(QIcon());\n     ui->verifyMessage->setIcon(QIcon());\n     ui->signMessage->setIcon(QIcon());\n+    ui->exportButton->setIcon(QIcon());\n #endif\n \n #ifndef USE_QRCODE\n@@ -45,6 +46,7 @@ AddressBookPage::AddressBookPage(Mode mode, Tabs tab, QWidget *parent) :\n         connect(ui->tableView, SIGNAL(doubleClicked(QModelIndex)), this, SLOT(accept()));\n         ui->tableView->setEditTriggers(QAbstractItemView::NoEditTriggers);\n         ui->tableView->setFocus();\n+        ui->exportButton->hide();\n         break;\n     case ForEditing:\n         ui->buttonBox->setVisible(false);\n@@ -323,7 +325,7 @@ void AddressBookPage::done(int retval)\n     QDialog::done(retval);\n }\n \n-void AddressBookPage::exportClicked()\n+void AddressBookPage::on_exportButton_clicked()\n {\n     // CSV is currently the only supported format\n     QString filename = GUIUtil::getSaveFileName("
      },
      {
        "sha": "34465aa65f3d7419b4ee6990b6fa05736633ef0b",
        "filename": "src/qt/addressbookpage.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/addressbookpage.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/addressbookpage.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/addressbookpage.h?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -43,7 +43,6 @@ class AddressBookPage : public QDialog\n \n public slots:\n     void done(int retval);\n-    void exportClicked();\n \n private:\n     Ui::AddressBookPage *ui;\n@@ -76,6 +75,8 @@ private slots:\n     void onCopyLabelAction();\n     /** Edit currently selected address entry (no button) */\n     void onEditAction();\n+    /** Export button clicked */\n+    void on_exportButton_clicked();\n \n     /** Set button states based on selected tab and selection */\n     void selectionChanged();"
      },
      {
        "sha": "ada55c45ed8c39038bdfad56b0fb780b1c9bd58e",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 8,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -236,9 +236,6 @@ void BitcoinGUI::createActions()\n     verifyMessageAction = new QAction(QIcon(\":/icons/transaction_0\"), tr(\"&Verify message...\"), this);\n     verifyMessageAction->setStatusTip(tr(\"Verify messages to ensure they were signed with specified Bitcoin addresses\"));\n \n-    exportAction = new QAction(QIcon(\":/icons/export\"), tr(\"&Export...\"), this);\n-    exportAction->setStatusTip(tr(\"Export the data in the current tab to a file\"));\n-    exportAction->setToolTip(exportAction->statusTip());\n     openRPCConsoleAction = new QAction(QIcon(\":/icons/debugwindow\"), tr(\"&Debug window\"), this);\n     openRPCConsoleAction->setStatusTip(tr(\"Open debugging and diagnostic console\"));\n \n@@ -267,7 +264,6 @@ void BitcoinGUI::createMenuBar()\n     // Configure the menus\n     QMenu *file = appMenuBar->addMenu(tr(\"&File\"));\n     file->addAction(backupWalletAction);\n-    file->addAction(exportAction);\n     file->addAction(signMessageAction);\n     file->addAction(verifyMessageAction);\n     file->addSeparator();\n@@ -295,10 +291,6 @@ void BitcoinGUI::createToolBars()\n     toolbar->addAction(receiveCoinsAction);\n     toolbar->addAction(historyAction);\n     toolbar->addAction(addressBookAction);\n-\n-    QToolBar *toolbar2 = addToolBar(tr(\"Actions toolbar\"));\n-    toolbar2->setToolButtonStyle(Qt::ToolButtonTextBesideIcon);\n-    toolbar2->addAction(exportAction);\n }\n \n void BitcoinGUI::setClientModel(ClientModel *clientModel)"
      },
      {
        "sha": "f361a62a415ebdaceefd31c8db0a7f0282ac8b32",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -67,7 +67,6 @@ class BitcoinGUI : public QMainWindow\n     QAction * getAddressBookAction() { return addressBookAction; }\n     QAction * getReceiveCoinsAction() { return receiveCoinsAction; }\n     QAction * getSendCoinsAction() { return sendCoinsAction; }\n-    QAction * getExportAction() { return exportAction; }\n \n protected:\n     void changeEvent(QEvent *e);\n@@ -98,7 +97,6 @@ class BitcoinGUI : public QMainWindow\n     QAction *receiveCoinsAction;\n     QAction *optionsAction;\n     QAction *toggleHideAction;\n-    QAction *exportAction;\n     QAction *encryptWalletAction;\n     QAction *backupWalletAction;\n     QAction *changePassphraseAction;"
      },
      {
        "sha": "a2a7da34dd22ac398d54937f0e950c53d8e077d8",
        "filename": "src/qt/forms/addressbookpage.ui",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/forms/addressbookpage.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/forms/addressbookpage.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/addressbookpage.ui?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -148,6 +148,20 @@\n        </property>\n       </spacer>\n      </item>\n+     <item>\n+      <widget class=\"QPushButton\" name=\"exportButton\">\n+       <property name=\"toolTip\">\n+        <string>Export the data in the current tab to a file</string>\n+       </property>\n+       <property name=\"text\">\n+        <string>&amp;Export</string>\n+       </property>\n+       <property name=\"icon\">\n+        <iconset resource=\"../bitcoin.qrc\">\n+         <normaloff>:/icons/export</normaloff>:/icons/export</iconset>\n+       </property>\n+      </widget>\n+     </item>\n      <item>\n       <widget class=\"QDialogButtonBox\" name=\"buttonBox\">\n        <property name=\"sizePolicy\">"
      },
      {
        "sha": "727b48ded7da5823daaef24da029e09bc853101d",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 18,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45155d3010a3bbbe3cfbba670538ae18b9772a39/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=45155d3010a3bbbe3cfbba670538ae18b9772a39",
        "patch": "@@ -23,6 +23,7 @@\n #include <QAction>\n #include <QDesktopServices>\n #include <QFileDialog>\n+#include <QPushButton>\n \n WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n     QStackedWidget(parent),\n@@ -35,8 +36,17 @@ WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n \n     transactionsPage = new QWidget(this);\n     QVBoxLayout *vbox = new QVBoxLayout();\n+    QHBoxLayout *hbox_buttons = new QHBoxLayout();\n     transactionView = new TransactionView(this);\n     vbox->addWidget(transactionView);\n+    QPushButton *exportButton = new QPushButton(\"&Export\", this);\n+    exportButton->setToolTip(tr(\"Export the data in the current tab to a file\"));\n+#ifndef Q_OS_MAC // Icons on push buttons are very uncommon on Mac\n+    exportButton->setIcon(QIcon(\":/icons/export\"));\n+#endif\n+    hbox_buttons->addStretch();\n+    hbox_buttons->addWidget(exportButton);\n+    vbox->addLayout(hbox_buttons);\n     transactionsPage->setLayout(vbox);\n \n     addressBookPage = new AddressBookPage(AddressBookPage::ForEditing, AddressBookPage::SendingTab);\n@@ -66,6 +76,8 @@ WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n     connect(addressBookPage, SIGNAL(verifyMessage(QString)), this, SLOT(gotoVerifyMessageTab(QString)));\n     // Clicking on \"Sign Message\" in the receive coins page opens the sign message tab in the Sign/Verify Message dialog\n     connect(receiveCoinsPage, SIGNAL(signMessage(QString)), this, SLOT(gotoSignMessageTab(QString)));\n+    // Clicking on \"Export\" allows to export the transaction list\n+    connect(exportButton, SIGNAL(clicked()), transactionView, SLOT(exportClicked()));\n \n     gotoOverviewPage();\n }\n@@ -142,49 +154,31 @@ void WalletView::gotoOverviewPage()\n {\n     gui->getOverviewAction()->setChecked(true);\n     setCurrentWidget(overviewPage);\n-\n-    gui->getExportAction()->setEnabled(false);\n-    disconnect(gui->getExportAction(), SIGNAL(triggered()), 0, 0);\n }\n \n void WalletView::gotoHistoryPage()\n {\n     gui->getHistoryAction()->setChecked(true);\n     setCurrentWidget(transactionsPage);\n-\n-    gui->getExportAction()->setEnabled(true);\n-    disconnect(gui->getExportAction(), SIGNAL(triggered()), 0, 0);\n-    connect(gui->getExportAction(), SIGNAL(triggered()), transactionView, SLOT(exportClicked()));\n }\n \n void WalletView::gotoAddressBookPage()\n {\n     gui->getAddressBookAction()->setChecked(true);\n     setCurrentWidget(addressBookPage);\n-\n-    gui->getExportAction()->setEnabled(true);\n-    disconnect(gui->getExportAction(), SIGNAL(triggered()), 0, 0);\n-    connect(gui->getExportAction(), SIGNAL(triggered()), addressBookPage, SLOT(exportClicked()));\n }\n \n void WalletView::gotoReceiveCoinsPage()\n {\n     gui->getReceiveCoinsAction()->setChecked(true);\n     setCurrentWidget(receiveCoinsPage);\n-\n-    gui->getExportAction()->setEnabled(true);\n-    disconnect(gui->getExportAction(), SIGNAL(triggered()), 0, 0);\n-    connect(gui->getExportAction(), SIGNAL(triggered()), receiveCoinsPage, SLOT(exportClicked()));\n }\n \n void WalletView::gotoSendCoinsPage(QString addr)\n {\n     gui->getSendCoinsAction()->setChecked(true);\n     setCurrentWidget(sendCoinsPage);\n \n-    gui->getExportAction()->setEnabled(false);\n-    disconnect(gui->getExportAction(), SIGNAL(triggered()), 0, 0);\n-\n     if (!addr.isEmpty())\n         sendCoinsPage->setAddress(addr);\n }"
      }
    ]
  }
]