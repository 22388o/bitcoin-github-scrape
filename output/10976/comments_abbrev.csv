ryanofsky,2017-08-02T12:14:14Z,"@laanwj, if you think this change is a good idea, it might be worth merging before 0.15 is branched, since it moves some functions around. I don't think it conflicts with other tagged prs, but if it does I'd be happy to rebase this on top of them.",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-319654407,319654407,
jnewbery,2017-08-02T16:59:50Z,Seems to be largely the same as #10767 ?,https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-319734219,319734219,
ryanofsky,2017-08-02T17:32:47Z,"> Seems to be largely the same as #10767 ?\n\nThis covers fee code as well as init code, and I think the cleanups in #10767 are good but also that it's nice to start with a PR that's 100% MOVEONLY (or as close as possible). This way both the cleanup changes and moveonly changes are simpler to evaluate, and the MOVEONLY changes have (hopefully) a chance of getting merged before the branch.",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-319743048,319743048,
jonasschnelli,2017-08-03T09:36:22Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-319919697,319919697,
jnewbery,2017-08-06T22:25:21Z,"@laanwj - as @ryanofsky says, this is another move/refactor PR that would be good to get in before branching v0.15, to help with backporting. But maybe there are already too many of those competing for your attention!\n\n(I'd still like the files to be renamed `initwallet.{cpp,h}` before this gets merged)",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-320536891,320536891,
MarcoFalke,2017-08-06T22:53:28Z,"We can always backport the commits right after release of 0.15.0 to the 0.15 branch. No need to rush, imo.",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-320538188,320538188,
jnewbery,2017-08-14T21:01:10Z,"> it makes code harder to understand\n\nCan you explain this?\n\nIn fact, there are only a couple of places where non-test files are not named uniquely within the directory tree:\n\n```\nâ†’ find -name *cpp -printf '%f\n' | sort | uniq -c | sort\n...\n      1 zmqpublishnotifier.cpp\n      2 base58.cpp\n      2 crypto_tests.cpp\n      2 lockedpool.cpp\n      2 net.cpp\n      2 protocol.",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-322308506,322308506,
ryanofsky,2017-08-14T21:10:23Z,"> > it makes code harder to understand\n\n> Can you explain this?\n\n`#include ""policy/fees.h""` is easier to understand than `#include ""fees.h""` because it provides more context. \n\n> In fact, there are only a couple of places where non-test files are not named uniquely within the directory tree:\n\nI've never worked on any project that required source filenames to be globally unique, so ",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-322310775,322310775,
laanwj,2017-08-15T07:33:28Z,"> I don't think this is a good rationale for renaming. Including relative to current directory is generally bad practice in c and c++, because it makes code harder to understand,\n\nUnfortunately, relative inclusion is what we do in bitcoin by using `#include """"` instead of `#include <>` **everywhere**. Heck, there have been well-meaning PRs that change to `#include """"` for ""consistency"" (see #1",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-322397113,322397113,
promag,2017-08-15T09:45:22Z,I also prefer `<>` includes with full project path instead of prefixes or whatever.,https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-322426157,322426157,
laanwj,2017-08-15T10:03:56Z,"> I also prefer <> includes with full project path instead of prefixes or whatever.\n\nThe funniest thing is that that's how we're using `#include """"`. I would guess a script-diff that replaces `""...""` in `#include` lines with `<...>` would build with only few changes (maybe some exceptions such as including generated test data). We hardly, if ever use """" for actual relative include.\n\nEdit: ",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-322429492,322429492,
ryanofsky,2017-08-25T18:57:16Z,"Could this be merged? It has 2 code review acks and a concept ack and is mostly moveonly.\n\n#11053 in it's current form or one of the variations proposed in https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323069831 should moot whatever concerns there might be about includes going forward.",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-325008727,325008727,
jnewbery,2017-08-25T19:07:22Z,"I withdraw my objection to the filename `init.cpp`. utACK\n\n",https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-325010892,325010892,
MarcoFalke,2017-08-25T20:21:57Z,Post merge utACK f01103c1e0a204fc7f40a06755f6c3adb5480cf8. Might want to address the nit sometime,https://github.com/bitcoin/bitcoin/pull/10976#issuecomment-325025611,325025611,
jnewbery,2017-08-02T21:44:43Z,why?,https://github.com/bitcoin/bitcoin/pull/10976#discussion_r131005235,131005235,src/wallet/rpcwallet.cpp
promag,2017-08-06T13:58:53Z,"Nit, new comment so add missing period? The other comments without periods are move-only.",https://github.com/bitcoin/bitcoin/pull/10976#discussion_r131543609,131543609,src/wallet/init.h
ryanofsky,2017-08-14T19:44:40Z,"This is needed to pull in src/init.h instead of src/wallet/init.h. Probably all of our code should be using <>  instead of """" because we don't generally include relative to current directory.",https://github.com/bitcoin/bitcoin/pull/10976#discussion_r133043232,133043232,src/wallet/rpcwallet.cpp
ryanofsky,2017-08-14T20:21:46Z,Added in aee0e0f6857a18d0e93825a2bb475c55446cfa85,https://github.com/bitcoin/bitcoin/pull/10976#discussion_r133051161,133051161,src/wallet/init.h
MarcoFalke,2017-08-25T20:15:43Z,nit: doc string needs fixup,https://github.com/bitcoin/bitcoin/pull/10976#discussion_r135344252,135344252,src/wallet/init.h
