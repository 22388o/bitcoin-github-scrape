jonasschnelli,2015-12-03T10:05:19Z,Nits addresses: refactored the shared functions (moved to `util.py`).\n,https://github.com/bitcoin/bitcoin/pull/7153#issuecomment-161578224,161578224,
MarcoFalke,2015-12-03T12:32:48Z,"utACK 7632cf6. Runs for 4 secs, so should be ok to run every time.\n",https://github.com/bitcoin/bitcoin/pull/7153#issuecomment-161620995,161620995,
laanwj,2015-12-22T13:07:52Z,utACK https://github.com/jonasschnelli/bitcoin/commit/7632cf689a9b959dd7a059b8b4a04761a4bc6e6a\n,https://github.com/bitcoin/bitcoin/pull/7153#issuecomment-166612259,166612259,
MarcoFalke,2015-12-02T07:40:37Z,"If you copied this code, DRY?\n",https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46384408,46384408,qa/rpc-tests/mempool_limit.py
jonasschnelli,2015-12-02T07:44:36Z,"Yes. I think this code part is in `maxuploadtarget.py`, `prioritise_transaction.py` and `pruning.py`. Someone should refactor that once. I have original taken this from a test that @sdaftuar wrote.\n",https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46384608,46384608,qa/rpc-tests/mempool_limit.py
MarcoFalke,2015-12-02T07:47:15Z,Mind to do it in this PR like 826079ef34906539010abe63537e7ceafedbff01?\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46384758,46384758,qa/rpc-tests/mempool_limit.py
MarcoFalke,2015-12-02T07:47:55Z,It's enough to review this method once and not every time a pull tester PR is opened.\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46384794,46384794,qa/rpc-tests/mempool_limit.py
MarcoFalke,2015-12-03T11:35:02Z,Can you do the same here?\n\n```\n    def __init__(self):\n        self.txouts = create_many_txouts()\n```\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46541096,46541096,qa/rpc-tests/mempool_limit.py
jonasschnelli,2015-12-03T12:05:14Z,This part needs to be refactored between 4 existing tests.\nThis PRs intent is not to refactor the test framework instead it should add a mempool limit/eviction test.\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46543603,46543603,qa/rpc-tests/mempool_limit.py
MarcoFalke,2015-12-03T12:15:03Z,Nit: Is it required to have two nodes?\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46544247,46544247,qa/rpc-tests/mempool_limit.py
MarcoFalke,2015-12-03T12:18:46Z,Consider it a NIT but I don't like having the same code in 4 locations. You are guaranteed to get a bug out of that some day. (We already had it with other rpc tests)\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46544512,46544512,qa/rpc-tests/mempool_limit.py
jonasschnelli,2015-12-03T12:26:21Z,Good point! Is was only required because we took an address from the 2nd node (but can also be an address from node[0]).\nThanks. Fixed and force pushed.\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46545080,46545080,qa/rpc-tests/mempool_limit.py
laanwj,2015-12-03T13:01:17Z,Having the same code in 4 locations only makes sense if it is expected to diverge again later. Over-eager de-duplication can result in more complex code in such cases.\n\nI don't think that's the case here. But I also agree with @jonasschnelli that refactoring is not required in a PR that adds a test.\n,https://github.com/bitcoin/bitcoin/pull/7153#discussion_r46548099,46548099,qa/rpc-tests/mempool_limit.py
