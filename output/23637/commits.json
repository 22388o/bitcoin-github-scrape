[
  {
    "sha": "fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
    "node_id": "C_kwDOABII59oAKGZhNWEzZjg4YzY3NTEyNmM5OTMxMWNhMWJjODQ3NzVkOWVjYjlmMWU",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-11-30T19:17:58Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-11-30T19:14:34Z"
      },
      "message": "miner: Remove uncompiled MTP code",
      "tree": {
        "sha": "213fbed64b9b3b0472631ce9b7209e7780f3c1c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/213fbed64b9b3b0472631ce9b7209e7780f3c1c4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhG7wv/Y7cGY8cNyR7lvC9vS+xGUAS5aHo1+JXtbsnn3J8aQ89kLrCx1i8xitZk\n2kY0UrvlHeZxDax4rrHBA8ufeyhl0ql8wKqVv/HTRq8B3HF4BbEQo9OwcGLcQT/C\nRbsmY4pJc1pdN3GnX+ThkkynIukYlv/JZi8MzZSfZE2BtIpdYSRht8Ie//LdwdGb\nYUIAKG3cGTV0dPgpO+4XVRvyBTnFQgWqKqaV0i6fVQuxW2MQuHiYwxuB2/ATyOgV\nehAM9HkKHLaInI3j9xuP1dpKsXrvE2eworZffHmvO3yepi5DUqHcHTJuMfP7+YGA\nk/nkrKhQlp5nSkKmKuVEl8i0mUTJFIx8kbyEOlivoDwrMcMkAzYXhZf1WCNsX9wL\nB4MIqkoC6ryw1nOz9Uc/jd3CeWT6VmqFpGqjoVZrS/HiNS3Pq+ZNOTC18tlZGvG8\nbRF+oyD742IXU5QpYYnU6w/XwLfBCNBKif6i0NTiGqwkFXoqbYELxwLF0i6uS5hX\nX/OH/HoY\n=A3qM\n-----END PGP SIGNATURE-----",
        "payload": "tree 213fbed64b9b3b0472631ce9b7209e7780f3c1c4\nparent ffdf8ee43e2440ab59b85846ab98854b17e49e49\nauthor MarcoFalke <falke.marco@gmail.com> 1638299878 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1638299674 +0100\n\nminer: Remove uncompiled MTP code\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ffdf8ee43e2440ab59b85846ab98854b17e49e49",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ffdf8ee43e2440ab59b85846ab98854b17e49e49",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ffdf8ee43e2440ab59b85846ab98854b17e49e49"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 7,
      "deletions": 8
    },
    "files": [
      {
        "sha": "1555ddb658f3a6abf12dc2858ed2b7753c0790eb",
        "filename": "src/node/miner.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 7,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e/src/node/miner.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e/src/node/miner.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/miner.cpp?ref=fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
        "patch": "@@ -129,11 +129,7 @@ std::unique_ptr<CBlockTemplate> BlockAssembler::CreateNewBlock(const CScript& sc\n         pblock->nVersion = gArgs.GetIntArg(\"-blockversion\", pblock->nVersion);\n \n     pblock->nTime = GetAdjustedTime();\n-    const int64_t nMedianTimePast = pindexPrev->GetMedianTimePast();\n-\n-    nLockTimeCutoff = (STANDARD_LOCKTIME_VERIFY_FLAGS & LOCKTIME_MEDIAN_TIME_PAST)\n-                       ? nMedianTimePast\n-                       : pblock->GetBlockTime();\n+    m_lock_time_cutoff = pindexPrev->GetMedianTimePast();\n \n     // Decide whether to include witness transactions\n     // This is only needed in case the witness softfork activation is reverted\n@@ -217,10 +213,12 @@ bool BlockAssembler::TestPackage(uint64_t packageSize, int64_t packageSigOpsCost\n bool BlockAssembler::TestPackageTransactions(const CTxMemPool::setEntries& package) const\n {\n     for (CTxMemPool::txiter it : package) {\n-        if (!IsFinalTx(it->GetTx(), nHeight, nLockTimeCutoff))\n+        if (!IsFinalTx(it->GetTx(), nHeight, m_lock_time_cutoff)) {\n             return false;\n-        if (!fIncludeWitness && it->GetTx().HasWitness())\n+        }\n+        if (!fIncludeWitness && it->GetTx().HasWitness()) {\n             return false;\n+        }\n     }\n     return true;\n }"
      },
      {
        "sha": "8a88b139ac3b304deb2d4b1e42306d200b1e20de",
        "filename": "src/node/miner.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e/src/node/miner.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa5a3f88c675126c99311ca1bc84775d9ecb9f1e/src/node/miner.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/node/miner.h?ref=fa5a3f88c675126c99311ca1bc84775d9ecb9f1e",
        "patch": "@@ -143,7 +143,8 @@ class BlockAssembler\n \n     // Chain context for the block\n     int nHeight;\n-    int64_t nLockTimeCutoff;\n+    int64_t m_lock_time_cutoff;\n+\n     const CChainParams& chainparams;\n     const CTxMemPool& m_mempool;\n     CChainState& m_chainstate;"
      }
    ]
  }
]