[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418045790",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-418045790",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 418045790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODA0NTc5MA==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-03T08:47:49Z",
    "updated_at": "2018-09-03T08:47:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "The really high fee rates were due to not handling the buckets/bucketMap objects correctly, believe that's fixed now.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/418045790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419320374",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-419320374",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 419320374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxOTMyMDM3NA==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-07T04:39:01Z",
    "updated_at": "2018-09-07T04:39:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Dropped the WIP tag, this should be good to review/nitpick now.\r\n\r\nI couldn't come up with a reasonable way to add functional tests for this change; if someone has a good idea, suggestions/patches welcome :) Though... I guess just generating an estimates file directly in python, pointing bitcoind at it, and seeing what estimates bitcoind comes up with after upgrading it without ever actually putting txes in the blockchain could work okay...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/419320374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451178577",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-451178577",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 451178577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTE3ODU3Nw==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-03T15:33:16Z",
    "updated_at": "2019-01-03T15:33:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reworked based on a suggestion from @Sjors; could still use some functional tests to check that loading a particular set of fee rates produces an expected set of fee estimates.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451178577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451674910",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-451674910",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 451674910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTY3NDkxMA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-05T17:38:53Z",
    "updated_at": "2020-12-02T02:34:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18766 (Disable fee estimation in blocksonly mode (by removing the fee estimates global) by darosior)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/451674910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596765883",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-596765883",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 596765883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Njc2NTg4Mw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-09T20:35:19Z",
    "updated_at": "2020-03-09T20:35:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 431 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/596765883/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600162258",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-600162258",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 600162258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDE2MjI1OA==",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?u=f801880316b53c06b8825aa9b422322f832428c0&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T16:19:35Z",
    "updated_at": "2020-03-17T16:19:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this work abandoned?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600162258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600763548",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-600763548",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 600763548,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMDc2MzU0OA==",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?u=a1574ca2038ff1dfaa9a7764c59ea5ff4f305b5d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-18T17:27:59Z",
    "updated_at": "2020-03-18T17:27:59Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/600763548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/601467871",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-601467871",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 601467871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMTQ2Nzg3MQ==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-19T23:50:38Z",
    "updated_at": "2020-03-19T23:50:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Had stalled this on writing some tests. Having now written a test, it's found a bug, so now trying to fix that... :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/601467871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602380326",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-602380326",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 602380326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjM4MDMyNg==",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-23T04:35:27Z",
    "updated_at": "2020-03-23T04:35:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Rebased, test case added as first commit, should be reviewable.\r\n\r\nNote that this only makes estimations work for fee rates below 1sat/byte if you ever actually accept fee rates that low into your mempool. To make your mempool accept/relay transactions that cheap requires setting `-minrelaytxfee` or changing `DEFAULT_MIN_RELAY_TX_FEE`; and to have your wallet use fees that low means setting`-mintxfee` or changing `DEFAULT_TRANSACTION_MINFEE` and potentially also `WALLET_INCREMENTAL_RELAY_FEE`. Doing those things now for mainnet would probably just be a spam vector, rather than particularly useful IMHO.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602380326/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602562227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-602562227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 602562227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjU2MjIyNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-23T12:31:52Z",
    "updated_at": "2020-03-23T12:31:52Z",
    "author_association": "MEMBER",
    "body": "> Doing those things now for mainnet would probably just be a spam vector\r\n\r\nAlso open a huge surface for privacy leaks",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/602562227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700399682",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-700399682",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 700399682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMDM5OTY4Mg==",
    "user": {
      "login": "prayank23",
      "id": 13405205,
      "node_id": "MDQ6VXNlcjEzNDA1MjA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405205?u=03240c7cca7b55e5b9239eeab7a5914663a42b91&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prayank23",
      "html_url": "https://github.com/prayank23",
      "followers_url": "https://api.github.com/users/prayank23/followers",
      "following_url": "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url": "https://api.github.com/users/prayank23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prayank23/subscriptions",
      "organizations_url": "https://api.github.com/users/prayank23/orgs",
      "repos_url": "https://api.github.com/users/prayank23/repos",
      "events_url": "https://api.github.com/users/prayank23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prayank23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-29T03:12:36Z",
    "updated_at": "2020-09-29T03:12:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Doing those things now for mainnet would probably just be a spam vector, rather than particularly useful IMHO.\r\n\r\n@ajtowns what if those things only work if mempool has transactions less than 10 MB and switch to default if greater than 10 MB\r\n\r\n> Also open a huge surface for privacy leaks\r\n\r\n@MarcoFalke what kind of privacy leaks are possible with such changes? ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/700399682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739906632",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-739906632",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 739906632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczOTkwNjYzMg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-07T13:06:13Z",
    "updated_at": "2020-12-07T13:06:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/739906632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751142850",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-751142850",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 751142850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTE0Mjg1MA==",
    "user": {
      "login": "prayank23",
      "id": 13405205,
      "node_id": "MDQ6VXNlcjEzNDA1MjA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405205?u=03240c7cca7b55e5b9239eeab7a5914663a42b91&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prayank23",
      "html_url": "https://github.com/prayank23",
      "followers_url": "https://api.github.com/users/prayank23/followers",
      "following_url": "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url": "https://api.github.com/users/prayank23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prayank23/subscriptions",
      "organizations_url": "https://api.github.com/users/prayank23/orgs",
      "repos_url": "https://api.github.com/users/prayank23/repos",
      "events_url": "https://api.github.com/users/prayank23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prayank23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-25T01:35:04Z",
    "updated_at": "2020-12-25T10:52:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Got no response for the last comment. Still trying to understand what can go wrong if fee rate below 1 sat/vByte is allowed\r\n\r\nRelated SE questions: https://bitcoin.stackexchange.com/questions/99089/can-we-use-fee-rate-less-than-1-sat-vbyte\r\n\r\nhttps://bitcoin.stackexchange.com/questions/99975/what-bitcoin-core-options-can-be-changed-without-a-restart\r\n\r\nRelated tweet: https://twitter.com/pedr0fr/status/1326716647449702401\r\n\r\nRelated PR in which it was reduced in past: https://github.com/bitcoin/bitcoin/pull/3305\r\n\r\nIf miners revenue is a concern or incentives in Bitcoin, maybe we will have to look at lot of charts, consider everything and discuss with more people especially who use bitcoin like coinjoin etc. I don't see spam and privacy as reasons or maybe need more details.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/751142850/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820367296",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-820367296",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 820367296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMDM2NzI5Ng==",
    "user": {
      "login": "rebroad",
      "id": 1530283,
      "node_id": "MDQ6VXNlcjE1MzAyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1530283?u=6a4a31aaddbc438e053c52d084a698a5f622f1ea&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rebroad",
      "html_url": "https://github.com/rebroad",
      "followers_url": "https://api.github.com/users/rebroad/followers",
      "following_url": "https://api.github.com/users/rebroad/following{/other_user}",
      "gists_url": "https://api.github.com/users/rebroad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rebroad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rebroad/subscriptions",
      "organizations_url": "https://api.github.com/users/rebroad/orgs",
      "repos_url": "https://api.github.com/users/rebroad/repos",
      "events_url": "https://api.github.com/users/rebroad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rebroad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-15T11:59:01Z",
    "updated_at": "2021-04-15T11:59:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ajtowns sorry for the noob-like question, but why is so much code needed to simply reduce the minfee...? I'd have thought it ought to be a one-line change for this. What am I missing?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/820367296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889505833",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#issuecomment-889505833",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/13990",
    "id": 889505833,
    "node_id": "IC_kwDOABII5841BMgp",
    "user": {
      "login": "prayank23",
      "id": 13405205,
      "node_id": "MDQ6VXNlcjEzNDA1MjA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13405205?u=03240c7cca7b55e5b9239eeab7a5914663a42b91&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prayank23",
      "html_url": "https://github.com/prayank23",
      "followers_url": "https://api.github.com/users/prayank23/followers",
      "following_url": "https://api.github.com/users/prayank23/following{/other_user}",
      "gists_url": "https://api.github.com/users/prayank23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prayank23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prayank23/subscriptions",
      "organizations_url": "https://api.github.com/users/prayank23/orgs",
      "repos_url": "https://api.github.com/users/prayank23/repos",
      "events_url": "https://api.github.com/users/prayank23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prayank23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T22:38:16Z",
    "updated_at": "2021-07-30T03:07:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "I had asked a related [question](https://bitcoin.stackexchange.com/questions/100861/why-cant-default-minimum-fee-rate-be-changed-to-0-1-0-2-sat-vbyte) in December 2020. Pieter Wuille answered it with following things:\r\n\r\n1. > Why can't we change default minimum fee rate to something below 1 sat/vByte?\r\n\r\n> The primary reason for the minimum feerate (and related things like the discard feerate) is preventing the use of the P2P network as a cheap global broadcast system. If it's easy to produce transaction that will never confirm yet will relay across the network, it'd open the network to abuse. I don't know what the right level is to make sure that doesn't happen, but 1 sat/vbyte seems pretty low\r\n\r\n2. > It was done in past: https://github.com/bitcoin/bitcoin/pull/3305 why not again?\r\n\r\n> That was before the network and mempool logic had floating fees. Now the feerate is primarily set by market pressure, and lowering the minimum would at most have an impact during times when there is ~no demand for block space. I personally think the ecosystem should expect to function fine when there is continuous back pressure, so I'm not sure what is gained by reducing it.\r\n\r\n3. > Do you think it will result in spamming? I don't think so and few other people as well: https://www.reddit.com/r/Bitcoin/comments/kjrbny/should_default_minimum_fee_rate_be_01_satvbyte_now/ggyym67\r\n\r\n> I don't think spam is the problem. Lately the feerate has been significantly higher than 1 sat/vbyte anyway, and long term I hope that whatever the minimum is set to, it's effectively never hit. What matters is the discard feerate, which is not set by the market (it's the \"additional\" feerate you need to pay to replace a transaction in the mempool through RBF or mempool limiting, in order to make sure there is some cost to relaying the transaction that is now expected to not be mined anymore). That discard feerate is by default set to 1 sat/vbyte as well, which seems low.\r\n\r\nAfter reading this answer and looking at few stats I am not sure if this is required. Also there is no way to test if lower fee rates will increase transactions and fee revenue for miners or decrease. Or if someone can find better charts and ways to test this before being used then we can re-evaluate. If we don't have lower default min fee rates, fee estimation for lower fee rates doesn't make sense so I have no opinion on this or weak NACK for now:\r\n\r\n![image](https://user-images.githubusercontent.com/13405205/127573869-406ed8e3-6861-4f12-87b8-9b40974f5845.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/889505833/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521982",
    "pull_request_review_id": 151602212,
    "id": 214521982,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUyMTk4Mg==",
    "diff_hunk": "@@ -195,6 +202,45 @@ TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets,\n     resizeInMemoryCounters(buckets.size());\n }\n \n+TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets, const std::map<double, unsigned int>& defaultBucketMap, const TxConfirmStats& txstatsSource)\n+    : buckets(defaultBuckets), bucketMap(defaultBucketMap)\n+{\n+    decay = txstatsSource.decay;\n+    scale = txstatsSource.scale;",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 22,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "f9dd933a75bd32a8eb80b408d5f94b45f58030ab",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: these could go in the initializer list",
    "created_at": "2018-09-01T19:58:41Z",
    "updated_at": "2020-03-23T02:04:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214521982",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521982"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214521982"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 209,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521993",
    "pull_request_review_id": 151602226,
    "id": 214521993,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUyMTk5Mw==",
    "diff_hunk": "@@ -195,6 +202,45 @@ TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets,\n     resizeInMemoryCounters(buckets.size());\n }\n \n+TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets, const std::map<double, unsigned int>& defaultBucketMap, const TxConfirmStats& txstatsSource)\n+    : buckets(defaultBuckets), bucketMap(defaultBucketMap)\n+{\n+    decay = txstatsSource.decay;\n+    scale = txstatsSource.scale;\n+\n+    const unsigned int maxPeriods = txstatsSource.confAvg.size();\n+    assert(txstatsSource.failAvg.size() == maxPeriods);\n+\n+    confAvg.resize(maxPeriods);\n+    for (unsigned int i = 0; i < maxPeriods; i++) {\n+        confAvg[i].resize(buckets.size());\n+    }\n+    failAvg.resize(maxPeriods);\n+    for (unsigned int i = 0; i < maxPeriods; i++) {\n+        failAvg[i].resize(buckets.size());\n+    }\n+\n+    txCtAvg.resize(buckets.size());\n+    avg.resize(buckets.size());\n+\n+    unsigned int src = 0;\n+    for (unsigned int dst = 0; dst < buckets.size(); dst++) {",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "f9dd933a75bd32a8eb80b408d5f94b45f58030ab",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: `++dst` here and elsewhere",
    "created_at": "2018-09-01T19:59:22Z",
    "updated_at": "2020-03-23T02:04:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214521993",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521993"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214521993"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214521993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 227,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214522017",
    "pull_request_review_id": 151602247,
    "id": 214522017,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxNDUyMjAxNw==",
    "diff_hunk": "@@ -195,6 +202,45 @@ TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets,\n     resizeInMemoryCounters(buckets.size());\n }\n \n+TxConfirmStats::TxConfirmStats(const std::vector<double>& defaultBuckets, const std::map<double, unsigned int>& defaultBucketMap, const TxConfirmStats& txstatsSource)\n+    : buckets(defaultBuckets), bucketMap(defaultBucketMap)\n+{\n+    decay = txstatsSource.decay;\n+    scale = txstatsSource.scale;\n+\n+    const unsigned int maxPeriods = txstatsSource.confAvg.size();\n+    assert(txstatsSource.failAvg.size() == maxPeriods);\n+\n+    confAvg.resize(maxPeriods);\n+    for (unsigned int i = 0; i < maxPeriods; i++) {\n+        confAvg[i].resize(buckets.size());\n+    }\n+    failAvg.resize(maxPeriods);\n+    for (unsigned int i = 0; i < maxPeriods; i++) {\n+        failAvg[i].resize(buckets.size());\n+    }\n+\n+    txCtAvg.resize(buckets.size());\n+    avg.resize(buckets.size());\n+\n+    unsigned int src = 0;\n+    for (unsigned int dst = 0; dst < buckets.size(); dst++) {\n+        if (buckets[dst] < txstatsSource.buckets[src]) continue;\n+\n+        txCtAvg[dst] = txstatsSource.txCtAvg[src];\n+        avg[dst] = txstatsSource.avg[src];\n+        for (unsigned int i = 0; i < maxPeriods; i++) {\n+            confAvg[i][dst] = txstatsSource.confAvg[i][src];\n+            failAvg[i][dst] = txstatsSource.failAvg[i][src];\n+        }\n+\n+        src++;\n+        if (src >= txstatsSource.buckets.size()) break;",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "f9dd933a75bd32a8eb80b408d5f94b45f58030ab",
    "user": {
      "login": "Empact",
      "id": 5470,
      "node_id": "MDQ6VXNlcjU0NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Empact",
      "html_url": "https://github.com/Empact",
      "followers_url": "https://api.github.com/users/Empact/followers",
      "following_url": "https://api.github.com/users/Empact/following{/other_user}",
      "gists_url": "https://api.github.com/users/Empact/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Empact/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Empact/subscriptions",
      "organizations_url": "https://api.github.com/users/Empact/orgs",
      "repos_url": "https://api.github.com/users/Empact/repos",
      "events_url": "https://api.github.com/users/Empact/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Empact/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: can move these conditions into the `for`, so that it manages both `src` and `dst`.",
    "created_at": "2018-09-01T20:00:40Z",
    "updated_at": "2020-03-23T02:04:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214522017",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214522017"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r214522017"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/214522017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 238,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245672691",
    "pull_request_review_id": 189831996,
    "id": 245672691,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI0NTY3MjY5MQ==",
    "diff_hunk": "@@ -168,25 +168,27 @@ class CBlockPolicyEstimator\n     static constexpr double SUFFICIENT_TXS_SHORT = 0.5;\n \n     /** Minimum and Maximum values for tracking feerates\n-     * The MIN_BUCKET_FEERATE should just be set to the lowest reasonable feerate we\n-     * might ever want to track.  Historically this has been 1000 since it was\n-     * inheriting DEFAULT_MIN_RELAY_TX_FEE and changing it is disruptive as it\n-     * invalidates old estimates files. So leave it at 1000 unless it becomes\n-     * necessary to lower it, and then lower it substantially.\n+     * The MIN_BUCKET_FEERATE and MAX_BUCKET_FEERATE should just be set to\n+     * the lowest and highest reasonable feerate we might ever want to track.\n      */\n-    static constexpr double MIN_BUCKET_FEERATE = 1000;\n+    static constexpr double MIN_BUCKET_FEERATE = 4;\n     static constexpr double MAX_BUCKET_FEERATE = 1e7;\n \n     /** Spacing of FeeRate buckets\n-     * We have to lump transactions into buckets based on feerate, but we want to be able\n-     * to give accurate estimates over a large range of potential feerates\n-     * Therefore it makes sense to exponentially space the buckets\n+     * We have to lump transactions into buckets based on feerate,\n+     * but we want to be able to give accurate estimates over a large\n+     * range of potential feerates. Therefore it makes sense to exponentially\n+     * space the buckets, which we do via a factor of FEE_SPACING. In order\n+     * to support adjusting the MIN and MAX feerates above without invalidating\n+     * the buckets, we specify a BASE level for the buckets that we repeatedly\n+     * multiply (or divide) by the SPACING until we reach the MAX (or MIN).\n      */\n+    static constexpr double BASE_BUCKET_FEERATE = 1000;\n     static constexpr double FEE_SPACING = 1.05;\n \n public:\n     /** Create new BlockPolicyEstimator and initialize stats tracking classes with default values */\n-    CBlockPolicyEstimator();\n+    CBlockPolicyEstimator(double min_bucket_feerate = MIN_BUCKET_FEERATE);",
    "path": "src/policy/fees.h",
    "position": null,
    "original_position": 34,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "f28cf3c0ab63e040e1b1e979c1a707f3ce614a47",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should be `explicit`?",
    "created_at": "2019-01-07T14:35:33Z",
    "updated_at": "2020-03-23T02:04:20Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r245672691",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245672691"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r245672691"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/245672691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 191,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396207234",
    "pull_request_review_id": 379125735,
    "id": 396207234,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIwNzIzNA==",
    "diff_hunk": "@@ -168,25 +168,27 @@ class CBlockPolicyEstimator\n     static constexpr double SUFFICIENT_TXS_SHORT = 0.5;\n \n     /** Minimum and Maximum values for tracking feerates\n-     * The MIN_BUCKET_FEERATE should just be set to the lowest reasonable feerate we\n-     * might ever want to track.  Historically this has been 1000 since it was\n-     * inheriting DEFAULT_MIN_RELAY_TX_FEE and changing it is disruptive as it\n-     * invalidates old estimates files. So leave it at 1000 unless it becomes\n-     * necessary to lower it, and then lower it substantially.\n+     * The MIN_BUCKET_FEERATE and MAX_BUCKET_FEERATE should just be set to\n+     * the lowest and highest reasonable feerate we might ever want to track.\n      */\n-    static constexpr double MIN_BUCKET_FEERATE = 1000;\n+    static constexpr double MIN_BUCKET_FEERATE = 4;\n     static constexpr double MAX_BUCKET_FEERATE = 1e7;\n \n     /** Spacing of FeeRate buckets\n-     * We have to lump transactions into buckets based on feerate, but we want to be able\n-     * to give accurate estimates over a large range of potential feerates\n-     * Therefore it makes sense to exponentially space the buckets\n+     * We have to lump transactions into buckets based on feerate,\n+     * but we want to be able to give accurate estimates over a large\n+     * range of potential feerates. Therefore it makes sense to exponentially\n+     * space the buckets, which we do via a factor of FEE_SPACING. In order\n+     * to support adjusting the MIN and MAX feerates above without invalidating\n+     * the buckets, we specify a BASE level for the buckets that we repeatedly\n+     * multiply (or divide) by the SPACING until we reach the MAX (or MIN).\n      */\n+    static constexpr double BASE_BUCKET_FEERATE = 1000;\n     static constexpr double FEE_SPACING = 1.05;\n \n public:\n     /** Create new BlockPolicyEstimator and initialize stats tracking classes with default values */\n-    CBlockPolicyEstimator();\n+    CBlockPolicyEstimator(double min_bucket_feerate = MIN_BUCKET_FEERATE);",
    "path": "src/policy/fees.h",
    "position": null,
    "original_position": 34,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "f28cf3c0ab63e040e1b1e979c1a707f3ce614a47",
    "user": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep.",
    "created_at": "2020-03-23T04:25:11Z",
    "updated_at": "2020-03-23T04:25:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r396207234",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396207234"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r396207234"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/396207234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 191,
    "side": "RIGHT",
    "in_reply_to_id": 245672691
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094503",
    "pull_request_review_id": 391789012,
    "id": 407094503,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA5NDUwMw==",
    "diff_hunk": "@@ -133,8 +133,83 @@ class TxConfirmStats\n      * variables with this state.\n      */\n     void Read(CAutoFile& filein, int nFileVersion, size_t numBuckets);\n+\n+    /**\n+     * Helper function to check that TxConfirmStats behavior is consistent\n+     */\n+    int CheckConsistent(size_t expected_bucket_count) const;\n+    int CheckConsistent(const std::vector<double>& exp_buckets, const std::map<double, unsigned int>& exp_bucket_map) const;",
    "path": "src/policy/fees.cpp",
    "position": 9,
    "original_position": 9,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "5f76ecbb094b2e7ca1a048b4147029a39ee2e127",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "It's not very clear to me what these methods are supposed to return. Just from reading the definition, not the implementation.",
    "created_at": "2020-04-11T18:19:25Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407094503",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094503"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407094503"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094503/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 141,
    "original_line": 141,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094611",
    "pull_request_review_id": 391789012,
    "id": 407094611,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA5NDYxMQ==",
    "diff_hunk": "@@ -254,6 +257,9 @@ class CBlockPolicyEstimator\n     /** Initialise bucketMap */\n     void InitBucketMap() EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);\n \n+    /** Check stats are consistent (for unit tests) */\n+    int CheckConsistent() const EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);",
    "path": "src/policy/fees.h",
    "position": 65,
    "original_position": 15,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "5f76ecbb094b2e7ca1a048b4147029a39ee2e127",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For this method it's also not clear what it returns. I suppose either a method's name or documentation should make that clear.",
    "created_at": "2020-04-11T18:20:33Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407094611",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094611"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407094611"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407094611/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 263,
    "original_line": 261,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115498",
    "pull_request_review_id": 391789012,
    "id": 407115498,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExNTQ5OA==",
    "diff_hunk": "@@ -166,6 +166,7 @@ class CBlockPolicyEstimator\n      * The MIN_BUCKET_FEERATE and MAX_BUCKET_FEERATE should just be set to\n      * the lowest and highest reasonable feerate we might ever want to track.\n      */\n+    static constexpr double MIN_BUCKET_FEERATE = 4;",
    "path": "src/policy/fees.h",
    "position": 13,
    "original_position": 4,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The PR OP says \"8 satoshi\". I don't know if this conflicts with the concept ACKs on the PR.",
    "created_at": "2020-04-11T22:00:14Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407115498",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115498"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407115498"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 169,
    "original_line": 169,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115531",
    "pull_request_review_id": 391789012,
    "id": 407115531,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExNTUzMQ==",
    "diff_hunk": "@@ -599,7 +599,8 @@ CBlockPolicyEstimator::CBlockPolicyEstimator(double min_bucket_feerate)\n     : nBestSeenHeight(0), firstRecordedHeight(0), historicalFirst(0), historicalBest(0), trackedTxs(0), untrackedTxs(0)\n {\n     assert(0 < min_bucket_feerate);\n-    static_assert(BASE_BUCKET_FEERATE > 0, \"Base feerate must be nonzero\");",
    "path": "src/policy/fees.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Will `BASE_BUCKET_FEERATE` still be used?",
    "created_at": "2020-04-11T22:00:51Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407115531",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115531"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407115531"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407115531/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 602,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407116145",
    "pull_request_review_id": 391789012,
    "id": 407116145,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExNjE0NQ==",
    "diff_hunk": "@@ -260,6 +261,9 @@ class CBlockPolicyEstimator\n     /** Check stats are consistent (for unit tests) */\n     int CheckConsistent() const EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);\n \n+    /** Initialise buckets up to base */\n+    size_t ExtendBucketsUpTo(double base, double min) EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);",
    "path": "src/policy/fees.h",
    "position": 68,
    "original_position": 51,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "b8c7ec4be42619861fe453fcfded579742764524",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I would appreciate the documentation on this method to be a little bit more descriptive. IIUC it adds buckets on the lower end from min up to base?",
    "created_at": "2020-04-11T22:08:32Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407116145",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407116145"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407116145"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407116145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 266,
    "original_line": 265,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407117574",
    "pull_request_review_id": 391789012,
    "id": 407117574,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExNzU3NA==",
    "diff_hunk": "@@ -163,25 +163,26 @@ class CBlockPolicyEstimator\n     static constexpr double SUFFICIENT_TXS_SHORT = 0.5;\n \n     /** Minimum and Maximum values for tracking feerates\n-     * The MIN_BUCKET_FEERATE should just be set to the lowest reasonable feerate we\n-     * might ever want to track.  Historically this has been 1000 since it was\n-     * inheriting DEFAULT_MIN_RELAY_TX_FEE and changing it is disruptive as it\n-     * invalidates old estimates files. So leave it at 1000 unless it becomes\n-     * necessary to lower it, and then lower it substantially.\n+     * The MIN_BUCKET_FEERATE and MAX_BUCKET_FEERATE should just be set to\n+     * the lowest and highest reasonable feerate we might ever want to track.\n      */\n-    static constexpr double MIN_BUCKET_FEERATE = 1000;",
    "path": "src/policy/fees.h",
    "position": 12,
    "original_position": 12,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "b8c7ec4be42619861fe453fcfded579742764524",
    "user": {
      "login": "stevenroose",
      "id": 853468,
      "node_id": "MDQ6VXNlcjg1MzQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/853468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stevenroose",
      "html_url": "https://github.com/stevenroose",
      "followers_url": "https://api.github.com/users/stevenroose/followers",
      "following_url": "https://api.github.com/users/stevenroose/following{/other_user}",
      "gists_url": "https://api.github.com/users/stevenroose/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stevenroose/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stevenroose/subscriptions",
      "organizations_url": "https://api.github.com/users/stevenroose/orgs",
      "repos_url": "https://api.github.com/users/stevenroose/repos",
      "events_url": "https://api.github.com/users/stevenroose/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stevenroose/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, I think something weird happened in the separation of the commits. Here you seem to remove the `MIN_BUCKET_FEERATE` constant, while in https://github.com/bitcoin/bitcoin/pull/13990/commits/c68f796c41b9b145c9c1b2c24aea505362ad1b63 you're adding it again.",
    "created_at": "2020-04-11T22:24:56Z",
    "updated_at": "2020-04-11T22:27:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407117574",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407117574"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r407117574"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407117574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 172,
    "original_line": 172,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679452662",
    "pull_request_review_id": 718489276,
    "id": 679452662,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3OTQ1MjY2Mg==",
    "diff_hunk": "@@ -133,8 +133,88 @@ class TxConfirmStats\n      * variables with this state.\n      */\n     void Read(CAutoFile& filein, int nFileVersion, size_t numBuckets);\n+\n+    /**\n+     * Helper function to check that TxConfirmStats behavior is consistent\n+     */\n+    int CheckConsistent(size_t expected_bucket_count) const;\n+    int CheckConsistent(const std::vector<double>& exp_buckets, const std::map<double, unsigned int>& exp_bucket_map) const;\n+\n+    /**\n+     * Copy state, adjusting stats for offset buckets\n+     */\n+    void ExtendStatsBelow(size_t added_buckets);\n };\n \n+bool CBlockPolicyEstimator::IsConsistent() const\n+{\n+    LOCK(m_cs_fee_estimator);\n+    return 0 == CheckConsistent();\n+}\n+\n+int CBlockPolicyEstimator::CheckConsistent() const\n+{\n+    int res;\n+    res = feeStats->CheckConsistent(buckets, bucketMap);\n+    res += 32 * shortStats->CheckConsistent(buckets, bucketMap);\n+    res += (32*32) * longStats->CheckConsistent(buckets, bucketMap);\n+    return res;\n+}\n+\n+int TxConfirmStats::CheckConsistent(size_t expected_bucket_count) const\n+{\n+    if (decay <= 0 || 1 <= decay) return 1;",
    "path": "src/policy/fees.cpp",
    "position": 34,
    "original_position": 34,
    "commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "original_commit_id": "c68f796c41b9b145c9c1b2c24aea505362ad1b63",
    "user": {
      "login": "GeneFerneau",
      "id": 80422284,
      "node_id": "MDQ6VXNlcjgwNDIyMjg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/80422284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GeneFerneau",
      "html_url": "https://github.com/GeneFerneau",
      "followers_url": "https://api.github.com/users/GeneFerneau/followers",
      "following_url": "https://api.github.com/users/GeneFerneau/following{/other_user}",
      "gists_url": "https://api.github.com/users/GeneFerneau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GeneFerneau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GeneFerneau/subscriptions",
      "organizations_url": "https://api.github.com/users/GeneFerneau/orgs",
      "repos_url": "https://api.github.com/users/GeneFerneau/repos",
      "events_url": "https://api.github.com/users/GeneFerneau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GeneFerneau/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Might be helpful to wrap these return values in an `struct/class enum` with variants that describe the consistency conditions. You could then downcast back to an `int` when doing arithmetic like in `CBlockPlicyEstimator::CheckConsistent`.\r\n\r\nThen, in the test cases, check the calls to `CheckConsistent` match the expected variant, instead of just being non-zero.\r\n\r\nIf you decide to use an enum, maybe add docs about where the values come from. If not, maybe add some docs above the function about return value meaning/origin. Where do you get these values?",
    "created_at": "2021-07-29T20:07:18Z",
    "updated_at": "2021-07-29T20:11:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r679452662",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679452662"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/13990#discussion_r679452662"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/13990"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/679452662/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 166,
    "original_line": 166,
    "side": "RIGHT"
  }
]