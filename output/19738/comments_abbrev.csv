achow101,2020-08-18 17:08:20,"In `CWallet::FindNonChangeParentOutput`, I think we should add an `AssertLockHeld(cs_wallet)` too.",https://github.com/bitcoin/bitcoin/pull/19738#issuecomment-675602253,675602253,
DrahtBot,2020-08-20 20:14:43,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18608 (refactor: Remove CAddressBookData::destdata by ryanofsky)\n\nIf you consider this pull request important, please a",https://github.com/bitcoin/bitcoin/pull/19738#issuecomment-677880448,677880448,
promag,2020-09-06 10:00:18,"> In `CWallet::FindNonChangeParentOutput`, I think we should add an `AssertLockHeld(cs_wallet)` too.\n\nDone. Also rebased now that #19289 is merged.",https://github.com/bitcoin/bitcoin/pull/19738#issuecomment-687744623,687744623,
achow101,2020-09-06 17:28:06,ACK abac4367607d8d2b628e4db6a9663c960bacdacc,https://github.com/bitcoin/bitcoin/pull/19738#issuecomment-687848891,687848891,
jonatack,2020-09-06 19:14:41,"@achow101 per https://github.com/bitcoin/bitcoin/pull/19738#issuecomment-675602253 I'm curious why this should be added, as there is already an `AssertLockHeld(cs_wallet);` at the top of its caller, `ListCoins()`. For a future call from elsewhere?",https://github.com/bitcoin/bitcoin/pull/19738#discussion_r484104470,484104470,src/wallet/wallet.cpp
promag,2020-09-06 19:28:48,"This was based on #19289 which then raised #19773, and @achow101 suggestion should be done there, `ListCoins` eventually calls `FindNonChangeParentOutput`, and like `IsTrusted`, was missing the assertion.",https://github.com/bitcoin/bitcoin/pull/19738#discussion_r484105663,484105663,src/wallet/wallet.cpp
promag,2020-09-06 19:45:53,"@jonatack I could split to a different commit though to be more correct, just LMK.",https://github.com/bitcoin/bitcoin/pull/19738#discussion_r484107018,484107018,src/wallet/wallet.cpp
jonatack,2020-09-06 19:55:13,"No worries, I was only trying to understand the locking. This is fine.",https://github.com/bitcoin/bitcoin/pull/19738#discussion_r484107759,484107759,src/wallet/wallet.cpp
