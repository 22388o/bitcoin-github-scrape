[
  {
    "sha": "fd5e905e215bd52f927cb58f11bfe2a339261857",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZDVlOTA1ZTIxNWJkNTJmOTI3Y2I1OGYxMWJmZTJhMzM5MjYxODU3",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-07T16:53:27Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-09T14:53:19Z"
      },
      "message": "Make verify-commits.sh non-recursive",
      "tree": {
        "sha": "419c33cf4337f7dd7affd963522ee7e1c65919a6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/419c33cf4337f7dd7affd963522ee7e1c65919a6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fd5e905e215bd52f927cb58f11bfe2a339261857",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd5e905e215bd52f927cb58f11bfe2a339261857",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fd5e905e215bd52f927cb58f11bfe2a339261857",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd5e905e215bd52f927cb58f11bfe2a339261857/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6015df5b855fe600cf0b7a6e1782cb70315cc1b4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6015df5b855fe600cf0b7a6e1782cb70315cc1b4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6015df5b855fe600cf0b7a6e1782cb70315cc1b4"
      }
    ],
    "stats": {
      "total": 111,
      "additions": 51,
      "deletions": 60
    },
    "files": [
      {
        "sha": "0052697cb90ed858072b367d6a39944d6de16ed1",
        "filename": "contrib/verify-commits/verify-commits.sh",
        "status": "modified",
        "additions": 51,
        "deletions": 60,
        "changes": 111,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fd5e905e215bd52f927cb58f11bfe2a339261857/contrib/verify-commits/verify-commits.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fd5e905e215bd52f927cb58f11bfe2a339261857/contrib/verify-commits/verify-commits.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/verify-commits.sh?ref=fd5e905e215bd52f927cb58f11bfe2a339261857",
        "patch": "@@ -3,9 +3,6 @@\n # Distributed under the MIT software license, see the accompanying\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \n-# Not technically POSIX-compliant due to use of \"local\", but almost every\n-# shell anyone uses today supports it, so its probably fine\n-\n DIR=$(dirname \"$0\")\n [ \"/${DIR#/}\" != \"$DIR\" ] && DIR=$(dirname \"$(pwd)/$0\")\n \n@@ -16,14 +13,33 @@ VERIFIED_SHA512_ROOT=$(cat \"${DIR}/trusted-sha512-root-commit\")\n REVSIG_ALLOWED=$(cat \"${DIR}/allow-revsig-commits\")\n \n HAVE_FAILED=false\n-IS_SIGNED () {\n-\tif [ $1 = $VERIFIED_ROOT ]; then\n-\t\treturn 0;\n+\n+if [ x\"$1\" = \"x\" ]; then\n+\tCURRENT_COMMIT=\"HEAD\"\n+else\n+\tCURRENT_COMMIT=\"$1\"\n+fi\n+\n+if [ \"${CURRENT_COMMIT#* }\" != \"$CURRENT_COMMIT\" ]; then\n+\techo \"Commit must not contain spaces?\" > /dev/stderr\n+\texit 1\n+fi\n+\n+VERIFY_TREE=0\n+if [ x\"$2\" = \"x--tree-checks\" ]; then\n+\tVERIFY_TREE=1\n+fi\n+\n+NO_SHA1=1\n+PREV_COMMIT=\"\"\n+\n+while true; do\n+\tif [ \"$CURRENT_COMMIT\" = $VERIFIED_ROOT ]; then\n+\t\techo \"There is a valid path from \"$CURRENT_COMMIT\" to $VERIFIED_ROOT where all commits are signed!\"\n+\t\texit 0;\n \tfi\n \n-\tVERIFY_TREE=$2\n-\tNO_SHA1=$3\n-\tif [ $1 = $VERIFIED_SHA512_ROOT ]; then\n+\tif [ \"$CURRENT_COMMIT\" = $VERIFIED_SHA512_ROOT ]; then\n \t\tif [ \"$VERIFY_TREE\" = \"1\" ]; then\n \t\t\techo \"All Tree-SHA512s matched up to $VERIFIED_SHA512_ROOT\" > /dev/stderr\n \t\tfi\n@@ -37,92 +53,67 @@ IS_SIGNED () {\n \t\texport BITCOIN_VERIFY_COMMITS_ALLOW_SHA1=1\n \tfi\n \n-\tif [ \"${REVSIG_ALLOWED#*$1}\" != \"$REVSIG_ALLOWED\" ]; then\n+\tif [ \"${REVSIG_ALLOWED#*$CURRENT_COMMIT}\" != \"$REVSIG_ALLOWED\" ]; then\n \t\texport BITCOIN_VERIFY_COMMITS_ALLOW_REVSIG=1\n \telse\n \t\texport BITCOIN_VERIFY_COMMITS_ALLOW_REVSIG=0\n \tfi\n \n-\tif ! git -c \"gpg.program=${DIR}/gpg.sh\" verify-commit $1 > /dev/null; then\n-\t\treturn 1;\n+\tif ! git -c \"gpg.program=${DIR}/gpg.sh\" verify-commit \"$CURRENT_COMMIT\" > /dev/null; then\n+\t\tif [ \"$PREV_COMMIT\" != \"\" ]; then\n+\t\t\techo \"No parent of $PREV_COMMIT was signed with a trusted key!\" > /dev/stderr\n+\t\t\techo \"Parents are:\" > /dev/stderr\n+\t\t\tPARENTS=$(git show -s --format=format:%P $PREV_COMMIT)\n+\t\t\tfor PARENT in $PARENTS; do\n+\t\t\t\tgit show -s $PARENT > /dev/stderr\n+\t\t\tdone\n+\t\telse\n+\t\t\techo \"$CURRENT_COMMIT was not signed with a trusted key!\" > /dev/stderr\n+\t\tfi\n+\t\texit 1\n \tfi\n \n-\t# We set $4 to 1 on the first call, always verifying the top of the tree\n-\tif [ \"$VERIFY_TREE\" = 1 -o \"$4\" = \"1\" ]; then\n+\t# We always verify the top of the tree\n+\tif [ \"$VERIFY_TREE\" = 1 -o \"$PREV_COMMIT\" = \"\" ]; then\n \t\tIFS_CACHE=\"$IFS\"\n \t\tIFS='\n '\n-\t\tfor LINE in $(git ls-tree --full-tree -r $1); do\n+\t\tfor LINE in $(git ls-tree --full-tree -r \"$CURRENT_COMMIT\"); do\n \t\t\tcase \"$LINE\" in\n \t\t\t\t\"12\"*)\n \t\t\t\t\techo \"Repo contains symlinks\" > /dev/stderr\n \t\t\t\t\tIFS=\"$IFS_CACHE\"\n-\t\t\t\t\treturn 1\n+\t\t\t\t\texit 1\n \t\t\t\t\t;;\n \t\t\tesac\n \t\tdone\n \t\tIFS=\"$IFS_CACHE\"\n \n \t\tFILE_HASHES=\"\"\n-\t\tfor FILE in $(git ls-tree --full-tree -r --name-only $1 | LC_ALL=C sort); do\n-\t\t\tHASH=$(git cat-file blob $1:\"$FILE\" | sha512sum | { read FIRST OTHER; echo $FIRST; } )\n+\t\tfor FILE in $(git ls-tree --full-tree -r --name-only \"$CURRENT_COMMIT\" | LC_ALL=C sort); do\n+\t\t\tHASH=$(git cat-file blob \"$CURRENT_COMMIT\":\"$FILE\" | sha512sum | { read FIRST OTHER; echo $FIRST; } )\n \t\t\t[ \"$FILE_HASHES\" != \"\" ] && FILE_HASHES=\"$FILE_HASHES\"'\n '\n \t\t\tFILE_HASHES=\"$FILE_HASHES$HASH  $FILE\"\n \t\tdone\n \t\tHASH_MATCHES=0\n-\t\tMSG=\"$(git show -s --format=format:%B $1 | tail -n1)\"\n+\t\tMSG=\"$(git show -s --format=format:%B \"$CURRENT_COMMIT\" | tail -n1)\"\n \n \t\tcase \"$MSG  -\" in\n \t\t\t\"Tree-SHA512: $(echo \"$FILE_HASHES\" | sha512sum)\")\n \t\t\t\tHASH_MATCHES=1;;\n \t\tesac\n \n \t\tif [ \"$HASH_MATCHES\" = \"0\" ]; then\n-\t\t\techo \"Tree-SHA512 did not match for commit $1\" > /dev/stderr\n-\t\t\tHAVE_FAILED=true\n-\t\t\treturn 1\n+\t\t\techo \"Tree-SHA512 did not match for commit $CURRENT_COMMIT\" > /dev/stderr\n+\t\t\texit 1\n \t\tfi\n \tfi\n \n-\tlocal PARENTS\n-\tPARENTS=$(git show -s --format=format:%P $1)\n+\tPARENTS=$(git show -s --format=format:%P \"$CURRENT_COMMIT\")\n \tfor PARENT in $PARENTS; do\n-\t\tif IS_SIGNED $PARENT $VERIFY_TREE $NO_SHA1 0; then\n-\t\t\treturn 0;\n-\t\tfi\n+\t\tPREV_COMMIT=\"$CURRENT_COMMIT\"\n+\t\tCURRENT_COMMIT=\"$PARENT\"\n \t\tbreak\n \tdone\n-\tif ! \"$HAVE_FAILED\"; then\n-\t\techo \"No parent of $1 was signed with a trusted key!\" > /dev/stderr\n-\t\techo \"Parents are:\" > /dev/stderr\n-\t\tfor PARENT in $PARENTS; do\n-\t\t\tgit show -s $PARENT > /dev/stderr\n-\t\tdone\n-\t\tHAVE_FAILED=true\n-\tfi\n-\treturn 1;\n-}\n-\n-if [ x\"$1\" = \"x\" ]; then\n-\tTEST_COMMIT=\"HEAD\"\n-else\n-\tTEST_COMMIT=\"$1\"\n-fi\n-\n-DO_CHECKOUT_TEST=0\n-if [ x\"$2\" = \"x--tree-checks\" ]; then\n-\tDO_CHECKOUT_TEST=1\n-fi\n-\n-IS_SIGNED \"$TEST_COMMIT\" \"$DO_CHECKOUT_TEST\" 1 1\n-RES=$?\n-if [ \"$RES\" = 1 ]; then\n-\tif ! \"$HAVE_FAILED\"; then\n-\t\techo \"$TEST_COMMIT was not signed with a trusted key!\"\n-\tfi\n-else\n-\techo \"There is a valid path from $TEST_COMMIT to $VERIFIED_ROOT where all commits are signed!\"\n-fi\n-\n-exit $RES\n+done"
      }
    ]
  },
  {
    "sha": "8ed849fbcd66495f3167bca2fcadd62d0d760461",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZWQ4NDlmYmNkNjY0OTVmMzE2N2JjYTJmY2FkZDYyZDBkNzYwNDYx",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-07T16:57:23Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-09T14:53:19Z"
      },
      "message": "Fix travis failing to fetch keys from the sks keyserver pool\n\nJust use the \"subset\" pool for now, at least none of those are\ncurrently broken, AFAIK.",
      "tree": {
        "sha": "ff10f2ccca966d1f2a26991fccfd9850e8d0fe09",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ff10f2ccca966d1f2a26991fccfd9850e8d0fe09"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8ed849fbcd66495f3167bca2fcadd62d0d760461",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ed849fbcd66495f3167bca2fcadd62d0d760461",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8ed849fbcd66495f3167bca2fcadd62d0d760461",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ed849fbcd66495f3167bca2fcadd62d0d760461/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fd5e905e215bd52f927cb58f11bfe2a339261857",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd5e905e215bd52f927cb58f11bfe2a339261857",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fd5e905e215bd52f927cb58f11bfe2a339261857"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "8d20a7e1bb462d1ccb30aef4d950e0379ad41f36",
        "filename": ".travis.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8ed849fbcd66495f3167bca2fcadd62d0d760461/.travis.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8ed849fbcd66495f3167bca2fcadd62d0d760461/.travis.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.travis.yml?ref=8ed849fbcd66495f3167bca2fcadd62d0d760461",
        "patch": "@@ -51,7 +51,7 @@ before_script:\n     - if [ -n \"$OSX_SDK\" -a -f depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz ]; then tar -C depends/SDKs -xf depends/sdk-sources/MacOSX${OSX_SDK}.sdk.tar.gz; fi\n     - make $MAKEJOBS -C depends HOST=$HOST $DEP_OPTS\n script:\n-    - if [ \"$CHECK_DOC\" = 1 -a \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" -a \"$TRAVIS_PULL_REQUEST\" = \"false\" ]; then while read LINE; do travis_retry gpg --keyserver hkp://pool.sks-keyservers.net --recv-keys $LINE; done < contrib/verify-commits/trusted-keys; fi\n+    - if [ \"$CHECK_DOC\" = 1 -a \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" -a \"$TRAVIS_PULL_REQUEST\" = \"false\" ]; then while read LINE; do travis_retry gpg --keyserver hkp://subset.pool.sks-keyservers.net --recv-keys $LINE; done < contrib/verify-commits/trusted-keys; fi\n     - if [ \"$CHECK_DOC\" = 1 -a \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" -a \"$TRAVIS_PULL_REQUEST\" = \"false\" ]; then git fetch --unshallow; fi\n     - if [ \"$CHECK_DOC\" = 1 -a \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" -a \"$TRAVIS_PULL_REQUEST\" = \"false\" ]; then contrib/verify-commits/verify-commits.sh; fi\n     - export TRAVIS_COMMIT_LOG=`git log --format=fuller -1`"
      }
    ]
  },
  {
    "sha": "efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZmMwNmMyYzQ2NWM5ZDIyZTBlNjY0ZGY1NTYxZDZkM2E5NzMxYzJh",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-07T17:04:39Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-09T14:53:19Z"
      },
      "message": "If GNU sha512sum is missing, try perl shasum in verify-commits",
      "tree": {
        "sha": "c0084d26ac8c0857fe23a3840b07bba9376e18bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c0084d26ac8c0857fe23a3840b07bba9376e18bc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/efc06c2c465c9d22e0e664df5561d6d3a9731c2a/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8ed849fbcd66495f3167bca2fcadd62d0d760461",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8ed849fbcd66495f3167bca2fcadd62d0d760461",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8ed849fbcd66495f3167bca2fcadd62d0d760461"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 15,
      "deletions": 2
    },
    "files": [
      {
        "sha": "74b7f38375ac371571466e1b1af44522b41fbcf2",
        "filename": "contrib/verify-commits/verify-commits.sh",
        "status": "modified",
        "additions": 15,
        "deletions": 2,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/efc06c2c465c9d22e0e664df5561d6d3a9731c2a/contrib/verify-commits/verify-commits.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/efc06c2c465c9d22e0e664df5561d6d3a9731c2a/contrib/verify-commits/verify-commits.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/verify-commits.sh?ref=efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
        "patch": "@@ -14,6 +14,9 @@ REVSIG_ALLOWED=$(cat \"${DIR}/allow-revsig-commits\")\n \n HAVE_FAILED=false\n \n+HAVE_GNU_SHA512=1\n+[ ! -x \"$(which sha512sum)\" ] && HAVE_GNU_SHA512=0\n+\n if [ x\"$1\" = \"x\" ]; then\n \tCURRENT_COMMIT=\"HEAD\"\n else\n@@ -91,16 +94,26 @@ while true; do\n \n \t\tFILE_HASHES=\"\"\n \t\tfor FILE in $(git ls-tree --full-tree -r --name-only \"$CURRENT_COMMIT\" | LC_ALL=C sort); do\n-\t\t\tHASH=$(git cat-file blob \"$CURRENT_COMMIT\":\"$FILE\" | sha512sum | { read FIRST OTHER; echo $FIRST; } )\n+\t\t\tif [ \"$HAVE_GNU_SHA512\" = 1 ]; then\n+\t\t\t\tHASH=$(git cat-file blob \"$CURRENT_COMMIT\":\"$FILE\" | sha512sum | { read FIRST OTHER; echo $FIRST; } )\n+\t\t\telse\n+\t\t\t\tHASH=$(git cat-file blob \"$CURRENT_COMMIT\":\"$FILE\" | shasum -a 512 | { read FIRST OTHER; echo $FIRST; } )\n+\t\t\tfi\n \t\t\t[ \"$FILE_HASHES\" != \"\" ] && FILE_HASHES=\"$FILE_HASHES\"'\n '\n \t\t\tFILE_HASHES=\"$FILE_HASHES$HASH  $FILE\"\n \t\tdone\n+\n+\t\tif [ \"$HAVE_GNU_SHA512\" = 1 ]; then\n+\t\t\tTREE_HASH=\"$(echo \"$FILE_HASHES\" | sha512sum)\"\n+\t\telse\n+\t\t\tTREE_HASH=\"$(echo \"$FILE_HASHES\" | shasum -a 512)\"\n+\t\tfi\n \t\tHASH_MATCHES=0\n \t\tMSG=\"$(git show -s --format=format:%B \"$CURRENT_COMMIT\" | tail -n1)\"\n \n \t\tcase \"$MSG  -\" in\n-\t\t\t\"Tree-SHA512: $(echo \"$FILE_HASHES\" | sha512sum)\")\n+\t\t\t\"Tree-SHA512: $TREE_HASH\")\n \t\t\t\tHASH_MATCHES=1;;\n \t\tesac\n "
      }
    ]
  },
  {
    "sha": "df5bae2e7b0ccd2b983f19123b0d4b619ea2e598",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkZjViYWUyZTdiMGNjZDJiOTgzZjE5MTIzYjBkNGI2MTllYTJlNTk4",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-07T17:07:11Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2017-03-09T14:53:19Z"
      },
      "message": "Update trusted-sha512-root-commit for new bad tree hash",
      "tree": {
        "sha": "5ed66ae1cdf28a0a423204bacf83e1d51b358d18",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ed66ae1cdf28a0a423204bacf83e1d51b358d18"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/efc06c2c465c9d22e0e664df5561d6d3a9731c2a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/efc06c2c465c9d22e0e664df5561d6d3a9731c2a"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "7d41f90ad70ef87caa0ce40bee269ff9d61d9c05",
        "filename": "contrib/verify-commits/trusted-sha512-root-commit",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598/contrib/verify-commits/trusted-sha512-root-commit",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/df5bae2e7b0ccd2b983f19123b0d4b619ea2e598/contrib/verify-commits/trusted-sha512-root-commit",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/trusted-sha512-root-commit?ref=df5bae2e7b0ccd2b983f19123b0d4b619ea2e598",
        "patch": "@@ -1 +1 @@\n-f7ec7cfd38b543ba81ac7bed5b77f9a19739460b\n+309bf16257b2395ce502017be627186b749ee749"
      }
    ]
  }
]