[
  {
    "sha": "f92541f7ea66b81343426db0b40f7ba4062df342",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmOTI1NDFmN2VhNjZiODEzNDM0MjZkYjBiNDBmN2JhNDA2MmRmMzQy",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2018-03-28T09:17:36Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2018-03-28T09:17:36Z"
      },
      "message": "test: Make summary row bold-red if any test failed\n\nMake the summary row of the test runner bold red if any test fails.\nThis helps visibility if something fails.",
      "tree": {
        "sha": "82df0dcfdee4484be1ef7928b2c64f0b90cbc9c2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/82df0dcfdee4484be1ef7928b2c64f0b90cbc9c2"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f92541f7ea66b81343426db0b40f7ba4062df342",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f92541f7ea66b81343426db0b40f7ba4062df342",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f92541f7ea66b81343426db0b40f7ba4062df342",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f92541f7ea66b81343426db0b40f7ba4062df342/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "18606eb475fbbdbeb79f76e9955c4cf74edfa645",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/18606eb475fbbdbeb79f76e9955c4cf74edfa645",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/18606eb475fbbdbeb79f76e9955c4cf74edfa645"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 4,
      "deletions": 0
    },
    "files": [
      {
        "sha": "427158401dd62dbfc41b3b1da7e68f593208d189",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f92541f7ea66b81343426db0b40f7ba4062df342/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f92541f7ea66b81343426db0b40f7ba4062df342/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=f92541f7ea66b81343426db0b40f7ba4062df342",
        "patch": "@@ -378,7 +378,11 @@ def print_results(test_results, max_len_name, runtime):\n         results += str(test_result)\n \n     status = TICK + \"Passed\" if all_passed else CROSS + \"Failed\"\n+    if not all_passed:\n+        results += RED[1]\n     results += BOLD[1] + \"\\n%s | %s | %s s (accumulated) \\n\" % (\"ALL\".ljust(max_len_name), status.ljust(9), time_sum) + BOLD[0]\n+    if not all_passed:\n+        results += RED[0]\n     results += \"Runtime: %s s\\n\" % (runtime)\n     print(results)\n "
      }
    ]
  },
  {
    "sha": "ffb033a6d5d846b19a2b595f7d522d5b73cfca6f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmZmIwMzNhNmQ1ZDg0NmIxOWEyYjU5NWY3ZDUyMmQ1YjczY2ZjYTZm",
    "commit": {
      "author": {
        "name": "Anthony Towns",
        "email": "aj@erisian.com.au",
        "date": "2018-03-28T09:55:34Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2018-03-28T13:49:55Z"
      },
      "message": "test: List any failed tests at the end of test_runner output\n\nChange sorting output to put failed tests at the end of test_runner\noutput.",
      "tree": {
        "sha": "1331c984b2b44d790bcdd654886d0589105a5b11",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1331c984b2b44d790bcdd654886d0589105a5b11"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f/comments",
    "author": {
      "login": "ajtowns",
      "id": 127186,
      "node_id": "MDQ6VXNlcjEyNzE4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127186?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajtowns",
      "html_url": "https://github.com/ajtowns",
      "followers_url": "https://api.github.com/users/ajtowns/followers",
      "following_url": "https://api.github.com/users/ajtowns/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajtowns/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajtowns/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajtowns/subscriptions",
      "organizations_url": "https://api.github.com/users/ajtowns/orgs",
      "repos_url": "https://api.github.com/users/ajtowns/repos",
      "events_url": "https://api.github.com/users/ajtowns/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajtowns/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f92541f7ea66b81343426db0b40f7ba4062df342",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f92541f7ea66b81343426db0b40f7ba4062df342",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f92541f7ea66b81343426db0b40f7ba4062df342"
      }
    ],
    "stats": {
      "total": 10,
      "additions": 9,
      "deletions": 1
    },
    "files": [
      {
        "sha": "39f1180a4514c39e0809a593702de3f887ac49cb",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ffb033a6d5d846b19a2b595f7d522d5b73cfca6f/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=ffb033a6d5d846b19a2b595f7d522d5b73cfca6f",
        "patch": "@@ -367,7 +367,7 @@ def run_tests(test_list, src_dir, build_dir, exeext, tmpdir, jobs=1, enable_cove\n def print_results(test_results, max_len_name, runtime):\n     results = \"\\n\" + BOLD[1] + \"%s | %s | %s\\n\\n\" % (\"TEST\".ljust(max_len_name), \"STATUS   \", \"DURATION\") + BOLD[0]\n \n-    test_results.sort(key=lambda result: result.name.lower())\n+    test_results.sort(key=TestResult.sort_key)\n     all_passed = True\n     time_sum = 0\n \n@@ -459,6 +459,14 @@ def __init__(self, name, status, time):\n         self.time = time\n         self.padding = 0\n \n+    def sort_key(self):\n+        if self.status == \"Passed\":\n+            return 0, self.name.lower()\n+        elif self.status == \"Failed\":\n+            return 2, self.name.lower()\n+        elif self.status == \"Skipped\":\n+            return 1, self.name.lower()\n+\n     def __repr__(self):\n         if self.status == \"Passed\":\n             color = BLUE"
      }
    ]
  }
]