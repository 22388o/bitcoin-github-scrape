[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503439580",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503439580",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503439580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzQzOTU4MA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T07:20:14Z",
    "updated_at": "2019-06-19T16:28:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16240](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16240.html) (JSONRPCRequest-aware RPCHelpMan by kallewoof)\n* [#11413](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/11413.html) ([wallet] [rpc] sendtoaddress/sendmany: Add explicit feerate option by kallewoof)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503439580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503584473",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503584473",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503584473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzU4NDQ3Mw==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T14:26:48Z",
    "updated_at": "2019-06-19T14:26:48Z",
    "author_association": "MEMBER",
    "body": "@promag Thanks a lot for review! I addressed everything you noted.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503584473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503617599",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503617599",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503617599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzYxNzU5OQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T15:46:33Z",
    "updated_at": "2019-06-19T15:46:33Z",
    "author_association": "MEMBER",
    "body": "@promag Thanks for thoroughness, it is very appreciated. Addressed all.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503617599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503618835",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503618835",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503618835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzYxODgzNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T15:49:45Z",
    "updated_at": "2019-06-19T15:49:45Z",
    "author_association": "MEMBER",
    "body": "I left some review in the other pull, which could be addressed here?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503618835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503626911",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503626911",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503626911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzYyNjkxMQ==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T16:09:55Z",
    "updated_at": "2019-06-19T16:09:55Z",
    "author_association": "MEMBER",
    "body": "Addressed @MarcoFalke comments in #13756. Thanks for feedback!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503626911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503643428",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503643428",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503643428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzY0MzQyOA==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T16:55:07Z",
    "updated_at": "2019-06-19T16:55:07Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke Thanks, I missed that one. I believe I got all of them this time. Also updated release notes based on your suggestions.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503643428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503644901",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-503644901",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 503644901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzY0NDkwMQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T16:59:19Z",
    "updated_at": "2019-06-19T16:59:19Z",
    "author_association": "MEMBER",
    "body": "ACK b59d4c7da1b886a0834211e70850127faf3e121e (scrolled through the diff on GitHub)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/503644901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504267046",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504267046",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504267046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDI2NzA0Ng==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T02:38:30Z",
    "updated_at": "2019-06-21T02:38:30Z",
    "author_association": "MEMBER",
    "body": "@jnewbery thanks! Trimmed tests as suggested.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504267046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504330493",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504330493",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504330493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDMzMDQ5Mw==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T07:55:16Z",
    "updated_at": "2019-06-21T07:55:16Z",
    "author_association": "MEMBER",
    "body": "Code looks good, code review ACK https://github.com/bitcoin/bitcoin/pull/16239/commits/7f39c40a332824043e3bef282580daf748131bb4\r\n\r\nI'm just slightly unsure about the word \"used\" in the getbalance RPC, could seem like the balance which has been used (spent) rather than the balance which is \"dirty\" or \"reused\" or something\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504330493/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504408018",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504408018",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504408018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDQwODAxOA==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T12:29:28Z",
    "updated_at": "2019-06-21T12:29:28Z",
    "author_association": "MEMBER",
    "body": "I initially used the word \"dirty\", but then realized that is internally used for something else in the wallet, and there was a comment about \"dirty\" being confusing in https://github.com/bitcoin/bitcoin/pull/13756#issuecomment-408214120\r\n\r\n> I think \"dirty\" is a confusing concept. Maybe add an exclamation mark (or a detective icon) next to the transaction and when the user clicks on that, say something like \"This address has been used before, for privacy reasons it's better to create a new address each time you wish to receive coins, even from the same person\".\r\n\r\n(in reference to a GUI comment).\r\n\r\nI'm open for changing it, but I'm not sure what would be a good name for it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504408018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504426017",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504426017",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504426017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDQyNjAxNw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T13:29:34Z",
    "updated_at": "2019-06-21T13:29:34Z",
    "author_association": "MEMBER",
    "body": "> I'm open for changing it, but I'm not sure what would be a good name for it.\r\n\r\nHow about \"used address balance\" or \"reused address balance\"? Bit of a mouthful, but at least it's explicit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504426017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504434330",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504434330",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504434330,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDQzNDMzMA==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T13:54:20Z",
    "updated_at": "2019-06-21T13:55:30Z",
    "author_association": "MEMBER",
    "body": "@jnewbery A bit long, maybe.. I mean, if we change it I would ideally like to change it everywhere, including the \"avoid_reuse\" flags in RPC commands and such.\r\n\r\nEven \"used\"/\"reused\" does not accurately describe what this is referring to, as evident by the fact I as the author screwed it up (thankfully @jnewbery caught that one).\r\n\r\n\"UTXO/balance that was sent to an address after it was spent from\"\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504434330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504526356",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504526356",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504526356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDUyNjM1Ng==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T18:28:33Z",
    "updated_at": "2019-06-21T18:28:33Z",
    "author_association": "MEMBER",
    "body": "ACK 71d0344cf25d3aaf60112c5248198c444bc98105\r\n\r\nThanks for quick turnaround!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504526356/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504650958",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#issuecomment-504650958",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16239",
    "id": 504650958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDY1MDk1OA==",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-22T09:58:06Z",
    "updated_at": "2019-06-22T09:58:06Z",
    "author_association": "MEMBER",
    "body": "re-utACK https://github.com/bitcoin/bitcoin/pull/16239/commits/71d0344cf25d3aaf60112c5248198c444bc98105",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/504650958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302127",
    "pull_request_review_id": 251705407,
    "id": 295302127,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMwMjEyNw==",
    "diff_hunk": "@@ -2409,6 +2409,7 @@ static UniValue getbalances(const JSONRPCRequest& request)\n             \"      \\\"trusted\\\": xxx                 (numeric) trusted balance (outputs created by the wallet or confirmed outputs)\\n\"\n             \"      \\\"untrusted_pending\\\": xxx       (numeric) untrusted pending balance (outputs created by others that are in the mempool)\\n\"\n             \"      \\\"immature\\\": xxx                (numeric) balance from immature coinbase outputs\\n\"\n+            \"      \\\"used\\\": xxx                    (numeric) balance from coins sent to addresses that were previously spent from (potentially privacy violating)\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7e7bb17352a3a74e142eae20572a163384fa1502",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "7e7bb17352a3a74e142eae20572a163384fa1502\r\n\r\nOnly present if `avoid_reuse` flag is set.",
    "created_at": "2019-06-19T13:39:37Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295302127",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302127"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295302127"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302127/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2412,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302333",
    "pull_request_review_id": 251705407,
    "id": 295302333,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMwMjMzMw==",
    "diff_hunk": "@@ -2434,13 +2435,16 @@ static UniValue getbalances(const JSONRPCRequest& request)\n \n     UniValue obj(UniValue::VOBJ);\n \n+    bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7e7bb17352a3a74e142eae20572a163384fa1502",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "7e7bb17352a3a74e142eae20572a163384fa1502\r\n\r\nnit, const",
    "created_at": "2019-06-19T13:39:59Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295302333",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302333"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295302333"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295302333/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2438,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295303211",
    "pull_request_review_id": 251705407,
    "id": 295303211,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMwMzIxMQ==",
    "diff_hunk": "@@ -2434,13 +2435,16 @@ static UniValue getbalances(const JSONRPCRequest& request)\n \n     UniValue obj(UniValue::VOBJ);\n \n+    bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);\n     const auto bal = wallet.GetBalance();\n+    const auto bal_used = avoid_reuse ? wallet.GetBalance(0, false) : bal;\n     UniValue balances{UniValue::VOBJ};\n     {\n         UniValue balances_mine{UniValue::VOBJ};\n         balances_mine.pushKV(\"trusted\", ValueFromAmount(bal.m_mine_trusted));\n         balances_mine.pushKV(\"untrusted_pending\", ValueFromAmount(bal.m_mine_untrusted_pending));\n         balances_mine.pushKV(\"immature\", ValueFromAmount(bal.m_mine_immature));\n+        if (avoid_reuse) balances_mine.pushKV(\"used\", ValueFromAmount(bal_used.m_mine_trusted + bal_used.m_mine_untrusted_pending - bal.m_mine_trusted - bal.m_mine_untrusted_pending));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7e7bb17352a3a74e142eae20572a163384fa1502",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "7e7bb17352a3a74e142eae20572a163384fa1502\r\n\r\nMaybe test that this is not present if `avoid_reused` flag is not set.",
    "created_at": "2019-06-19T13:41:47Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295303211",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295303211"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295303211"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295303211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2447,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295305739",
    "pull_request_review_id": 251705407,
    "id": 295305739,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMwNTczOQ==",
    "diff_hunk": "@@ -2891,9 +2891,8 @@ static UniValue listunspent(const JSONRPCRequest& request)\n \n     bool avoid_reuse = pwallet->IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 2,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "5e704ab66336eafef2955e3087f7bbf8c7ca26cd",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "5e704ab66336eafef2955e3087f7bbf8c7ca26cd\r\n\r\nMove after wallet lock in L3023.",
    "created_at": "2019-06-19T13:46:41Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295305739",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295305739"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295305739"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295305739/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2892,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295306055",
    "pull_request_review_id": 251705407,
    "id": 295306055,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMwNjA1NQ==",
    "diff_hunk": "@@ -2930,9 +2929,7 @@ static UniValue listunspent(const JSONRPCRequest& request)\n             \"    \\\"witnessScript\\\" : \\\"script\\\" (string) witnessScript if the scriptPubKey is P2WSH or P2SH-P2WSH\\n\"\n             \"    \\\"spendable\\\" : xxx,        (bool) Whether we have the private keys to spend this output\\n\"\n             \"    \\\"solvable\\\" : xxx,         (bool) Whether we know how to spend this output, ignoring the lack of keys\\n\"\n-            + (avoid_reuse ?\n-            \"    \\\"reused\\\" : xxx,           (bool) Whether this output is reused/dirty (sent to an address that was previously spent from)\\n\" :\n-            \"\") +\n+            \"    \\\"reused\\\" : xxx,           (bool) Whether this output is reused/dirty (sent to an address that was previously spent from)\\n\"",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "5e704ab66336eafef2955e3087f7bbf8c7ca26cd",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "5e704ab66336eafef2955e3087f7bbf8c7ca26cd\r\n\r\nMention \"only present if avoid_reuse flag is set\".",
    "created_at": "2019-06-19T13:47:18Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295306055",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295306055"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295306055"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295306055/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2932,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295325961",
    "pull_request_review_id": 251736361,
    "id": 295325961,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMyNTk2MQ==",
    "diff_hunk": "@@ -2434,13 +2435,16 @@ static UniValue getbalances(const JSONRPCRequest& request)\n \n     UniValue obj(UniValue::VOBJ);\n \n+    bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);\n     const auto bal = wallet.GetBalance();\n+    const auto bal_used = avoid_reuse ? wallet.GetBalance(0, false) : bal;\n     UniValue balances{UniValue::VOBJ};\n     {\n         UniValue balances_mine{UniValue::VOBJ};\n         balances_mine.pushKV(\"trusted\", ValueFromAmount(bal.m_mine_trusted));\n         balances_mine.pushKV(\"untrusted_pending\", ValueFromAmount(bal.m_mine_untrusted_pending));\n         balances_mine.pushKV(\"immature\", ValueFromAmount(bal.m_mine_immature));\n+        if (avoid_reuse) balances_mine.pushKV(\"used\", ValueFromAmount(bal_used.m_mine_trusted + bal_used.m_mine_untrusted_pending - bal.m_mine_trusted - bal.m_mine_untrusted_pending));",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7e7bb17352a3a74e142eae20572a163384fa1502",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Adding check to wallet_avoidreuse.py that node 0 does not include a \"used\" key.",
    "created_at": "2019-06-19T14:22:34Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295325961",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295325961"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295325961"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295325961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2447,
    "side": "RIGHT",
    "in_reply_to_id": 295303211
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295339124",
    "pull_request_review_id": 251753512,
    "id": 295339124,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTMzOTEyNA==",
    "diff_hunk": "@@ -3017,6 +3020,8 @@ static UniValue listunspent(const JSONRPCRequest& request)\n \n     LOCK(pwallet->cs_wallet);\n \n+    bool avoid_reuse = pwallet->IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 67,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "c8568bb2a2e1430ff8429769ef451e5de7722553",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, const.",
    "created_at": "2019-06-19T14:45:40Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295339124",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295339124"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295339124"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295339124/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3023,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295348857",
    "pull_request_review_id": 251753512,
    "id": 295348857,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTM0ODg1Nw==",
    "diff_hunk": "@@ -63,6 +63,20 @@ def assert_unspent(node, total_count=None, total_sum=None, reused_supported=None\n     if reused_sum is not None:\n         assert_approx(stats[\"reused\"][\"sum\"], reused_sum, 0.001)\n \n+def assert_balances(node, mine=None, watchonly=None):\n+    '''Make assertions about a node's getbalances output'''\n+    balances = node.getbalances()\n+    if mine:\n+        got = balances[\"mine\"]\n+        for k,v in mine.items():\n+            assert(k in got)",
    "path": "test/functional/wallet_avoidreuse.py",
    "position": null,
    "original_position": 25,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "c8568bb2a2e1430ff8429769ef451e5de7722553",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, IMO these assertions aren't necessary, `assert_approx` are enough.",
    "created_at": "2019-06-19T15:03:13Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295348857",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295348857"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295348857"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295348857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 72,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295371614",
    "pull_request_review_id": 251795544,
    "id": 295371614,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTM3MTYxNA==",
    "diff_hunk": "@@ -63,6 +63,20 @@ def assert_unspent(node, total_count=None, total_sum=None, reused_supported=None\n     if reused_sum is not None:\n         assert_approx(stats[\"reused\"][\"sum\"], reused_sum, 0.001)\n \n+def assert_balances(node, mine=None, watchonly=None):\n+    '''Make assertions about a node's getbalances output'''\n+    balances = node.getbalances()\n+    if mine:\n+        got = balances[\"mine\"]\n+        for k,v in mine.items():\n+            assert(k in got)",
    "path": "test/functional/wallet_avoidreuse.py",
    "position": null,
    "original_position": 25,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "c8568bb2a2e1430ff8429769ef451e5de7722553",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, agreed, removing.",
    "created_at": "2019-06-19T15:46:17Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295371614",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295371614"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295371614"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295371614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 72,
    "side": "RIGHT",
    "in_reply_to_id": 295348857
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393035",
    "pull_request_review_id": 251822776,
    "id": 295393035,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTM5MzAzNQ==",
    "diff_hunk": "@@ -7,7 +7,7 @@ A new wallet flag `avoid_reuse` has been added (default off). When enabled,\n a wallet will distinguish between used and unused addresses, and default to not\n use the former in coin selection.\n \n-(Note: rescanning the blockchain is required, to correctly mark previously\n+(Rescanning the blockchain is required, to correctly mark previously",
    "path": "doc/release-notes-13756.md",
    "position": null,
    "original_position": 5,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "5ff6aaa2d241dc916f9baa36c04791e1373e07e0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\nRescanning the blockchain is required, to correctly mark previously\r\n```",
    "created_at": "2019-06-19T16:29:39Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295393035",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393035"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295393035"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393035/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 10,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393555",
    "pull_request_review_id": 251822776,
    "id": 295393555,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTM5MzU1NQ==",
    "diff_hunk": "@@ -30,10 +30,12 @@ These include:\n \n - createwallet\n - getbalance\n+- getbalances\n - sendtoaddress\n \n-In addition, `sendtoaddress` has been changed to enable `-avoidpartialspends` when\n-`avoid_reuse` is enabled.\n+In addition, `sendtoaddress` has been changed to always use `-avoidpartialspends`",
    "path": "doc/release-notes-13756.md",
    "position": null,
    "original_position": 18,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "5ff6aaa2d241dc916f9baa36c04791e1373e07e0",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\nIn addition, `sendtoaddress` has been changed to avoid partial spends ... (if not already enabled via the  `-avoidpartialspends` command line flag) ...\r\n```",
    "created_at": "2019-06-19T16:30:47Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295393555",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393555"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295393555"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295393555/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 36,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295917922",
    "pull_request_review_id": 252433238,
    "id": 295917922,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTkxNzkyMg==",
    "diff_hunk": "@@ -63,6 +63,18 @@ def assert_unspent(node, total_count=None, total_sum=None, reused_supported=None\n     if reused_sum is not None:\n         assert_approx(stats[\"reused\"][\"sum\"], reused_sum, 0.001)\n \n+def assert_balances(node, mine=None, watchonly=None):",
    "path": "test/functional/wallet_avoidreuse.py",
    "position": null,
    "original_position": 19,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "b59d4c7da1b886a0834211e70850127faf3e121e",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think `watchonly` is ever used. Just remove it (and the `if watchonly` block in the function)",
    "created_at": "2019-06-20T17:34:49Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295917922",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295917922"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295917922"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295917922/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 66,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295918585",
    "pull_request_review_id": 252433238,
    "id": 295918585,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NTkxODU4NQ==",
    "diff_hunk": "@@ -12,11 +12,11 @@\n )\n \n # TODO: Copied from wallet_groups.py -- should perhaps move into util.py\n-def assert_approx(v, vexp, vspan=0.00001):\n+def assert_approx(v, vexp, vspan=0.00001, descr=None):",
    "path": "test/functional/wallet_avoidreuse.py",
    "position": null,
    "original_position": 5,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "b59d4c7da1b886a0834211e70850127faf3e121e",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You can remove these change since `assert_balances()` is never called with `watchonly`, and so `assert_approx()` is only called for `mine` balances.",
    "created_at": "2019-06-20T17:36:26Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295918585",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295918585"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r295918585"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/295918585/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 15,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296287372",
    "pull_request_review_id": 252892249,
    "id": 296287372,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NjI4NzM3Mg==",
    "diff_hunk": "@@ -2434,13 +2435,16 @@ static UniValue getbalances(const JSONRPCRequest& request)\n \n     UniValue obj(UniValue::VOBJ);\n \n+    const bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);\n     const auto bal = wallet.GetBalance();\n+    const auto bal_used = avoid_reuse ? wallet.GetBalance(0, false) : bal;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7f39c40a332824043e3bef282580daf748131bb4",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I felt like this logic could have used more commenting, and the variable was a bit confusingly named (and also could potentially be scoped more tightly).\r\n\r\nI think the following is equivalent, but perhaps a little clearer:\r\n\r\n```\r\n\u2192 git d\r\ndiff --git a/src/wallet/rpcwallet.cpp b/src/wallet/rpcwallet.cpp\r\nindex ce1c94905..f53469ce6 100644\r\n--- a/src/wallet/rpcwallet.cpp\r\n+++ b/src/wallet/rpcwallet.cpp\r\n@@ -2435,16 +2435,19 @@ static UniValue getbalances(const JSONRPCRequest& request)\r\n \r\n     UniValue obj(UniValue::VOBJ);\r\n \r\n-    const bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);\r\n     const auto bal = wallet.GetBalance();\r\n-    const auto bal_used = avoid_reuse ? wallet.GetBalance(0, false) : bal;\r\n     UniValue balances{UniValue::VOBJ};\r\n     {\r\n         UniValue balances_mine{UniValue::VOBJ};\r\n         balances_mine.pushKV(\"trusted\", ValueFromAmount(bal.m_mine_trusted));\r\n         balances_mine.pushKV(\"untrusted_pending\", ValueFromAmount(bal.m_mine_untrusted_pending));\r\n         balances_mine.pushKV(\"immature\", ValueFromAmount(bal.m_mine_immature));\r\n-        if (avoid_reuse) balances_mine.pushKV(\"used\", ValueFromAmount(bal_used.m_mine_trusted + bal_used.m_mine_untrusted_pending - bal.m_mine_trusted - bal.m_mine_untrusted_pending));\r\n+        if (wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE)) {\r\n+            // If the AVOID_REUSE flag is set, bal has been set to just the un-reused address balance. Get\r\n+            // the total balance, and then subtract bal to get the reused address balance.\r\n+            const auto full_bal = wallet.GetBalance(0, false);\r\n+            balances_mine.pushKV(\"used\", ValueFromAmount(full_bal.m_mine_trusted + full_bal.m_mine_untrusted_pending - bal.m_mine_trusted - bal.m_mine_untrusted_pending));\r\n+        }\r\n         balances.pushKV(\"mine\", balances_mine);\r\n     }\r\n     if (wallet.HaveWatchOnly()) {\r\n```\r\n\r\nFeel free to use if you think that's better.",
    "created_at": "2019-06-21T15:33:17Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296287372",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296287372"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296287372"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296287372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2440,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296288275",
    "pull_request_review_id": 252892249,
    "id": 296288275,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NjI4ODI3NQ==",
    "diff_hunk": "@@ -63,6 +63,13 @@ def assert_unspent(node, total_count=None, total_sum=None, reused_supported=None\n     if reused_sum is not None:\n         assert_approx(stats[\"reused\"][\"sum\"], reused_sum, 0.001)\n \n+def assert_balances(node, mine):\n+    '''Make assertions about a node's getbalances output'''\n+    balances = node.getbalances()\n+    got = balances[\"mine\"]",
    "path": "test/functional/wallet_avoidreuse.py",
    "position": null,
    "original_position": 7,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7f39c40a332824043e3bef282580daf748131bb4",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "micronit (not worth changing): could be combined with line above",
    "created_at": "2019-06-21T15:35:40Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296288275",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296288275"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296288275"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296288275/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 69,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296331852",
    "pull_request_review_id": 252950463,
    "id": 296331852,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NjMzMTg1Mg==",
    "diff_hunk": "@@ -2434,13 +2435,16 @@ static UniValue getbalances(const JSONRPCRequest& request)\n \n     UniValue obj(UniValue::VOBJ);\n \n+    const bool avoid_reuse = wallet.IsWalletFlagSet(WALLET_FLAG_AVOID_REUSE);\n     const auto bal = wallet.GetBalance();\n+    const auto bal_used = avoid_reuse ? wallet.GetBalance(0, false) : bal;",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "71d0344cf25d3aaf60112c5248198c444bc98105",
    "original_commit_id": "7f39c40a332824043e3bef282580daf748131bb4",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep, that looks cleaner. Thanks!",
    "created_at": "2019-06-21T17:43:53Z",
    "updated_at": "2019-06-21T17:46:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296331852",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296331852"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16239#discussion_r296331852"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16239"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296331852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2440,
    "side": "RIGHT",
    "in_reply_to_id": 296287372
  }
]