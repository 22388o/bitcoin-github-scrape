[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916778111",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-916778111",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 916778111,
    "node_id": "IC_kwDOABII5842pOx_",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T09:48:46Z",
    "updated_at": "2021-10-31T01:09:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23394](https://github.com/bitcoin/bitcoin/pull/23394) (Taproot wallet test vectors (generation+tests) by sipa)\n* [#23383](https://github.com/bitcoin/bitcoin/pull/23383) (Update libsecp256k1 subtree to current master by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/916778111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918424840",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-918424840",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 918424840,
    "node_id": "IC_kwDOABII5842vg0I",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?u=eab48576b7831944b8ce7f04fcdff4154a853d50&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-13T17:42:59Z",
    "updated_at": "2021-09-13T17:42:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/918424840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920102752",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-920102752",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 920102752,
    "node_id": "IC_kwDOABII584216dg",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?u=75bfbb65e6b94d2470bef6bd5d7ff2100674d62c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T15:04:18Z",
    "updated_at": "2021-09-15T15:04:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "As per @sipa's suggestion, I added verification step to ECDSA signing functions too.\r\nChanged the disable flag name to reflect that.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920102752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920989594",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-920989594",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 920989594,
    "node_id": "IC_kwDOABII58425S-a",
    "user": {
      "login": "benthecarman",
      "id": 15256660,
      "node_id": "MDQ6VXNlcjE1MjU2NjYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/15256660?u=eab48576b7831944b8ce7f04fcdff4154a853d50&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benthecarman",
      "html_url": "https://github.com/benthecarman",
      "followers_url": "https://api.github.com/users/benthecarman/followers",
      "following_url": "https://api.github.com/users/benthecarman/following{/other_user}",
      "gists_url": "https://api.github.com/users/benthecarman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benthecarman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benthecarman/subscriptions",
      "organizations_url": "https://api.github.com/users/benthecarman/orgs",
      "repos_url": "https://api.github.com/users/benthecarman/repos",
      "events_url": "https://api.github.com/users/benthecarman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benthecarman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T15:10:39Z",
    "updated_at": "2021-09-16T15:10:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Please squash your commits\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/920989594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/927786022",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-927786022",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 927786022,
    "node_id": "IC_kwDOABII5843TOQm",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-27T11:32:39Z",
    "updated_at": "2021-09-27T11:32:39Z",
    "author_association": "MEMBER",
    "body": "> at the same time allowing for disabling the extra verification in case this extra step is computationally too expensive (--disable-verify-signing).\r\n\r\nDoes this ever come up in practice? I mean, yes, the secp256k1 library is used on some very low-end hardware. However Bitcoin Core's minimum specifications are a lot higher. The amount of signatures generated is also fairly low, compared to the number of verifications done, so it's important that verification is fast. Does it add that much overhead?\r\n\r\nBut maybe I'm missing something.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/927786022/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931009917",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-931009917",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 931009917,
    "node_id": "IC_kwDOABII5843fhV9",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-30T08:19:35Z",
    "updated_at": "2021-10-01T14:21:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@amadeuszpawlik Do you have any measurements suggesting that `--disable-verify-signing` might be needed in practice for performance reasons? If not I think it would be better to not introduce that option :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931009917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931517874",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-931517874",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 931517874,
    "node_id": "IC_kwDOABII5843hdWy",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?u=75bfbb65e6b94d2470bef6bd5d7ff2100674d62c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-30T17:23:56Z",
    "updated_at": "2021-09-30T17:23:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@laanwj @practicalswift I got this idea from the original issue: [#22435](https://github.com/bitcoin/bitcoin/issues/22435), but I agree with you both and have thus dropped the \"disable option\".",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/931517874/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933663445",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-933663445",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 933663445,
    "node_id": "IC_kwDOABII5843ppLV",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?u=75bfbb65e6b94d2470bef6bd5d7ff2100674d62c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T16:44:31Z",
    "updated_at": "2021-10-04T16:44:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@theStack I don't think #23089 is it\r\nCirrusCI: \r\n`TestFramework (ERROR): Unexpected exception caught during testing \r\n File \"C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\test\\functional\\wallet_send.py\", line 506, in run_test\r\n ext_utxo = ext_fund.listunspent(addresses=[addr])[0]\r\n IndexError: list index out of range`\r\nCan't reproduce on linux though",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/933663445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934152607",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-934152607",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 934152607,
    "node_id": "IC_kwDOABII5843rgmf",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?u=75bfbb65e6b94d2470bef6bd5d7ff2100674d62c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-05T07:44:44Z",
    "updated_at": "2021-10-05T07:44:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "@theStack Agree, I reran the Win64 build and it went through just fine \ud83d\udc4d ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/934152607/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958177997",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-958177997",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 958177997,
    "node_id": "IC_kwDOABII5845HKLN",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-02T21:23:39Z",
    "updated_at": "2021-11-02T21:23:39Z",
    "author_association": "MEMBER",
    "body": "utACK 79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/958177997/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964138125",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#issuecomment-964138125",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22934",
    "id": 964138125,
    "node_id": "IC_kwDOABII5845d5SN",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-09T13:11:38Z",
    "updated_at": "2021-11-09T13:11:38Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/964138125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554273",
    "pull_request_review_id": 753047125,
    "id": 707554273,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNzU1NDI3Mw==",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){\n+        secp256k1_xonly_pubkey pubkey_verify;\n+        ret = secp256k1_keypair_xonly_pub(GetVerifyContext(), &pubkey_verify, nullptr, &keypair);\n+        ret &= secp256k1_schnorrsig_verify(GetVerifyContext(), sig.data(), hash.begin(), 32, &pubkey_verify);\n+    }\n+#endif",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "For API safeness it's probably better to clear the output `sig` if ret is `false`.",
    "created_at": "2021-09-13T17:48:20Z",
    "updated_at": "2021-09-13T17:49:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r707554273",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554273"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r707554273"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554273/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 301,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554485",
    "pull_request_review_id": 753047125,
    "id": 707554485,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDcwNzU1NDQ4NQ==",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Style nit: spaces before and after `(ret)`.",
    "created_at": "2021-09-13T17:48:38Z",
    "updated_at": "2021-09-13T17:49:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r707554485",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554485"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r707554485"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/707554485/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 279,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708316250",
    "pull_request_review_id": 754010138,
    "id": 708316250,
    "node_id": "PRRC_kwDOABII584qOAxa",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "resolved, thanks",
    "created_at": "2021-09-14T14:15:18Z",
    "updated_at": "2021-09-14T14:15:18Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r708316250",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708316250"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r708316250"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708316250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 279,
    "side": "RIGHT",
    "in_reply_to_id": 707554485
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708318159",
    "pull_request_review_id": 754012657,
    "id": 708318159,
    "node_id": "PRRC_kwDOABII584qOBPP",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){\n+        secp256k1_xonly_pubkey pubkey_verify;\n+        ret = secp256k1_keypair_xonly_pub(GetVerifyContext(), &pubkey_verify, nullptr, &keypair);\n+        ret &= secp256k1_schnorrsig_verify(GetVerifyContext(), sig.data(), hash.begin(), 32, &pubkey_verify);\n+    }\n+#endif",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Like [this](https://github.com/bitcoin/bitcoin/pull/22934/commits/c660374a37f4a83a774db55e15e4e67d1d33ef3c)?",
    "created_at": "2021-09-14T14:17:08Z",
    "updated_at": "2021-09-14T14:17:08Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r708318159",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708318159"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r708318159"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/708318159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 301,
    "side": "RIGHT",
    "in_reply_to_id": 707554273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711857194",
    "pull_request_review_id": 758230632,
    "id": 711857194,
    "node_id": "PRRC_kwDOABII584qbhQq",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){\n+        secp256k1_xonly_pubkey pubkey_verify;\n+        ret = secp256k1_keypair_xonly_pub(GetVerifyContext(), &pubkey_verify, nullptr, &keypair);\n+        ret &= secp256k1_schnorrsig_verify(GetVerifyContext(), sig.data(), hash.begin(), 32, &pubkey_verify);\n+    }\n+#endif",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "How about using `memory_cleanse()`.",
    "created_at": "2021-09-20T03:21:22Z",
    "updated_at": "2021-09-20T03:21:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r711857194",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711857194"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r711857194"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/711857194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 301,
    "side": "RIGHT",
    "in_reply_to_id": 707554273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712470152",
    "pull_request_review_id": 759038650,
    "id": 712470152,
    "node_id": "PRRC_kwDOABII584qd26I",
    "diff_hunk": "@@ -275,6 +275,13 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+#ifdef ENABLE_SCHNORR_VERIFY\n+    if(ret){\n+        secp256k1_xonly_pubkey pubkey_verify;\n+        ret = secp256k1_keypair_xonly_pub(GetVerifyContext(), &pubkey_verify, nullptr, &keypair);\n+        ret &= secp256k1_schnorrsig_verify(GetVerifyContext(), sig.data(), hash.begin(), 32, &pubkey_verify);\n+    }\n+#endif",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 10,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "b16428cd7996037065c23c20ae7a7df7524a722a",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "thanks",
    "created_at": "2021-09-20T19:55:27Z",
    "updated_at": "2021-09-20T19:55:27Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r712470152",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712470152"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r712470152"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/712470152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 301,
    "side": "RIGHT",
    "in_reply_to_id": 707554273
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720725253",
    "pull_request_review_id": 769524226,
    "id": 720725253,
    "node_id": "PRRC_kwDOABII584q9WUF",
    "diff_hunk": "@@ -275,6 +287,12 @@ bool CKey::SignSchnorr(const uint256& hash, Span<unsigned char> sig, const uint2\n         if (!secp256k1_keypair_xonly_tweak_add(GetVerifyContext(), &keypair, tweak.data())) return false;\n     }\n     bool ret = secp256k1_schnorrsig_sign(secp256k1_context_sign, sig.data(), hash.data(), &keypair, aux ? (unsigned char*)aux->data() : nullptr);\n+    if (ret) {\n+        secp256k1_xonly_pubkey pubkey_verify;\n+        ret = secp256k1_keypair_xonly_pub(GetVerifyContext(), &pubkey_verify, nullptr, &keypair);\n+        ret &= secp256k1_schnorrsig_verify(GetVerifyContext(), sig.data(), hash.begin(), 32, &pubkey_verify);\n+    }\n+    if (!ret) memory_cleanse(&sig, sig.size()*sizeof(unsigned char));",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 45,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "9ed9ef2b618cfb13c28ff2ea688a03395e60e607",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMHO this cleans the wrong location, since you pass the address of the Span object, not the address it points to. Also, I think it's fine to simply pass the size without multiplying by `sizeof(unsigned char)` which is obviously 1. (We also use .size() on `std::vector<unsigned char>` objects frequently without this multiplication).\r\n```suggestion\r\n    if (!ret) memory_cleanse(sig.data(), sig.size());\r\n```",
    "created_at": "2021-10-02T20:27:11Z",
    "updated_at": "2021-10-02T20:34:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r720725253",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720725253"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r720725253"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720725253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 295,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740407107",
    "pull_request_review_id": 794481234,
    "id": 740407107,
    "node_id": "PRRC_kwDOABII584sIbdD",
    "diff_hunk": "@@ -251,13 +257,21 @@ bool CKey::SignCompact(const uint256 &hash, std::vector<unsigned char>& vchSig)\n         return false;\n     vchSig.resize(CPubKey::COMPACT_SIGNATURE_SIZE);\n     int rec = -1;\n-    secp256k1_ecdsa_recoverable_signature sig;\n-    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &sig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n+    secp256k1_ecdsa_recoverable_signature rsig;\n+    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &rsig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n     assert(ret);\n-    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &sig);\n+    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &rsig);\n     assert(ret);\n     assert(rec != -1);\n     vchSig[0] = 27 + rec + (fCompressed ? 4 : 0);\n+    // Additional verification step to prevent using a potentially corrupted signature\n+    secp256k1_pubkey pk;\n+    secp256k1_ecdsa_signature sig;\n+    ret = secp256k1_ec_pubkey_create(secp256k1_context_sign, &pk, begin());\n+    assert(ret);\n+    secp256k1_ecdsa_recoverable_signature_convert(GetVerifyContext(), &sig, &rsig);",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "c9a920e378b1c8556ea4a3ca8d2cff01c7855484",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Instead, you could invoke the recovery operation itself, and verify that the decoded public key matches `pk`. That would verify that the recovery id in the signature is correct as well (`secp256k1_ecdsa_recoverable_signature_convert` throws it away).",
    "created_at": "2021-11-01T17:45:38Z",
    "updated_at": "2021-11-01T17:45:38Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r740407107",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740407107"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r740407107"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/740407107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 272,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741200452",
    "pull_request_review_id": 795573856,
    "id": 741200452,
    "node_id": "PRRC_kwDOABII584sLdJE",
    "diff_hunk": "@@ -251,13 +257,21 @@ bool CKey::SignCompact(const uint256 &hash, std::vector<unsigned char>& vchSig)\n         return false;\n     vchSig.resize(CPubKey::COMPACT_SIGNATURE_SIZE);\n     int rec = -1;\n-    secp256k1_ecdsa_recoverable_signature sig;\n-    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &sig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n+    secp256k1_ecdsa_recoverable_signature rsig;\n+    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &rsig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n     assert(ret);\n-    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &sig);\n+    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &rsig);\n     assert(ret);\n     assert(rec != -1);\n     vchSig[0] = 27 + rec + (fCompressed ? 4 : 0);\n+    // Additional verification step to prevent using a potentially corrupted signature\n+    secp256k1_pubkey pk;\n+    secp256k1_ecdsa_signature sig;\n+    ret = secp256k1_ec_pubkey_create(secp256k1_context_sign, &pk, begin());\n+    assert(ret);\n+    secp256k1_ecdsa_recoverable_signature_convert(GetVerifyContext(), &sig, &rsig);",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "c9a920e378b1c8556ea4a3ca8d2cff01c7855484",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hi @sipa, thanks a lot for the input.\r\nLet's see if I understand you right:  _instead_ of computing the `pk` in `secp256k1_ec_pubkey_create`, we recover the `pk` by running `secp256k1_ecdsa_recover` (which gives us the additional checks that you mention).\r\nThe `secp256k1_ecdsa_recoverable_signature_convert` stays because we need a normal signature to do the verification - correct?",
    "created_at": "2021-11-02T15:29:59Z",
    "updated_at": "2021-11-02T15:29:59Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741200452",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741200452"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741200452"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741200452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 740407107
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741220457",
    "pull_request_review_id": 795596597,
    "id": 741220457,
    "node_id": "PRRC_kwDOABII584sLiBp",
    "diff_hunk": "@@ -251,13 +257,21 @@ bool CKey::SignCompact(const uint256 &hash, std::vector<unsigned char>& vchSig)\n         return false;\n     vchSig.resize(CPubKey::COMPACT_SIGNATURE_SIZE);\n     int rec = -1;\n-    secp256k1_ecdsa_recoverable_signature sig;\n-    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &sig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n+    secp256k1_ecdsa_recoverable_signature rsig;\n+    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &rsig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n     assert(ret);\n-    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &sig);\n+    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &rsig);\n     assert(ret);\n     assert(rec != -1);\n     vchSig[0] = 27 + rec + (fCompressed ? 4 : 0);\n+    // Additional verification step to prevent using a potentially corrupted signature\n+    secp256k1_pubkey pk;\n+    secp256k1_ecdsa_signature sig;\n+    ret = secp256k1_ec_pubkey_create(secp256k1_context_sign, &pk, begin());\n+    assert(ret);\n+    secp256k1_ecdsa_recoverable_signature_convert(GetVerifyContext(), &sig, &rsig);",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "c9a920e378b1c8556ea4a3ca8d2cff01c7855484",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "No, the other way around.\r\n\r\nYou still use `secp256k1_ec_pubkey_create` to compute the expected public key. But then instead of verifying it against the normal signature extracted from sig, you run recovery on the message and sig, which gives you the signing public key. Then you can compare the expected pk with the signing one. There is no explicit signature verification in this case; instead you use the recovery operation (which is stricter than verification).",
    "created_at": "2021-11-02T15:46:50Z",
    "updated_at": "2021-11-02T15:47:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741220457",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741220457"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741220457"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741220457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 740407107
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741260486",
    "pull_request_review_id": 795641869,
    "id": 741260486,
    "node_id": "PRRC_kwDOABII584sLrzG",
    "diff_hunk": "@@ -251,13 +257,21 @@ bool CKey::SignCompact(const uint256 &hash, std::vector<unsigned char>& vchSig)\n         return false;\n     vchSig.resize(CPubKey::COMPACT_SIGNATURE_SIZE);\n     int rec = -1;\n-    secp256k1_ecdsa_recoverable_signature sig;\n-    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &sig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n+    secp256k1_ecdsa_recoverable_signature rsig;\n+    int ret = secp256k1_ecdsa_sign_recoverable(secp256k1_context_sign, &rsig, hash.begin(), begin(), secp256k1_nonce_function_rfc6979, nullptr);\n     assert(ret);\n-    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &sig);\n+    ret = secp256k1_ecdsa_recoverable_signature_serialize_compact(secp256k1_context_sign, &vchSig[1], &rec, &rsig);\n     assert(ret);\n     assert(rec != -1);\n     vchSig[0] = 27 + rec + (fCompressed ? 4 : 0);\n+    // Additional verification step to prevent using a potentially corrupted signature\n+    secp256k1_pubkey pk;\n+    secp256k1_ecdsa_signature sig;\n+    ret = secp256k1_ec_pubkey_create(secp256k1_context_sign, &pk, begin());\n+    assert(ret);\n+    secp256k1_ecdsa_recoverable_signature_convert(GetVerifyContext(), &sig, &rsig);",
    "path": "src/key.cpp",
    "position": null,
    "original_position": 32,
    "commit_id": "79fd28cacbbcb86ea03d3d468845001f84a76de3",
    "original_commit_id": "c9a920e378b1c8556ea4a3ca8d2cff01c7855484",
    "user": {
      "login": "amadeuszpawlik",
      "id": 35263201,
      "node_id": "MDQ6VXNlcjM1MjYzMjAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35263201?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/amadeuszpawlik",
      "html_url": "https://github.com/amadeuszpawlik",
      "followers_url": "https://api.github.com/users/amadeuszpawlik/followers",
      "following_url": "https://api.github.com/users/amadeuszpawlik/following{/other_user}",
      "gists_url": "https://api.github.com/users/amadeuszpawlik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/amadeuszpawlik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/amadeuszpawlik/subscriptions",
      "organizations_url": "https://api.github.com/users/amadeuszpawlik/orgs",
      "repos_url": "https://api.github.com/users/amadeuszpawlik/repos",
      "events_url": "https://api.github.com/users/amadeuszpawlik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/amadeuszpawlik/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Perfect, thanks!",
    "created_at": "2021-11-02T16:21:04Z",
    "updated_at": "2021-11-02T16:21:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741260486",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741260486"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22934#discussion_r741260486"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22934"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/741260486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 272,
    "side": "RIGHT",
    "in_reply_to_id": 740407107
  }
]