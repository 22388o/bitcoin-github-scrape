MarcoFalke,2021-06-09 14:10:14,"Closing for now, because we already have a fuzz target that covers this function. Other improvements and specially improvements of the fuzz tests are welcome.",https://github.com/bitcoin/bitcoin/pull/22171#issuecomment-857727719,857727719,
MarcoFalke,2021-06-07 06:22:00,"the second arg is an enum, not a size. See https://github.com/bitcoin/bitcoin/pull/6647#discussion_r38855960",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646300230,646300230,src/test/fuzz/sanitizestring.cpp
MarcoFalke,2021-06-07 06:25:14,"Also, this method is already fuzzed in \n\n```\nsrc/test/fuzz/string.cpp:    (void)SanitizeString(random_string_1, fuzzed_data_provider.ConsumeIntegralInRange<int>(0, 3));\n",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646301640,646301640,src/test/fuzz/sanitizestring.cpp
MarcoFalke,2021-06-07 06:30:41,"See https://github.com/bitcoin/bitcoin/blob/master/doc/fuzzing.md#quickstart-guide on how to compile. To run, you'd have to pass `FUZZ=string ./src/test/fuzz/fuzz`. Let me know if you have any questions.",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646304323,646304323,src/test/fuzz/sanitizestring.cpp
baptistapedro,2021-06-07 09:13:10,"I wrote this harness and reported to security@bitcoin without realizing you guys already wrote one \nHowever the second arg is passed as a size i.e. on [1] and [2] and other methods. See where SanitizeString is called and you can see different cases where the second arg is not an enum and thats why I referenced that the fix must be on the callers.\nThis issue was already confirmed by laawnj and ",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646409576,646409576,src/test/fuzz/sanitizestring.cpp
MarcoFalke,2021-06-07 11:44:51,"I am not sure what `[1]` and `[2]` refer to, but if it was called anywhere with size, we could tell by existing tests crashing.",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646512453,646512453,src/test/fuzz/sanitizestring.cpp
MarcoFalke,2021-06-07 11:46:43,"The only places I could find where the second parameter is passed at all is URI handling and UA comment handling, both of which look fine.",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646513560,646513560,src/test/fuzz/sanitizestring.cpp
MarcoFalke,2021-06-07 11:47:36,"(Unrelated: Commit 26c06f24e5dcc32a7599abb8d670d22993c82bc2 removed the last use of FILENAME, so I guess that constant can be removed now)",https://github.com/bitcoin/bitcoin/pull/22171#discussion_r646514137,646514137,src/test/fuzz/sanitizestring.cpp
