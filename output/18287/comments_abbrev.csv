laanwj,2020-03-11 14:23:55,"Good catch. It's really sneaky that including a header can make this difference.\n\nI think it'd be good to have a test for this case to detect regression.",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597664070,597664070,
luke-jr,2020-03-11 16:05:01,Who maintains the Windows CI stuff? That's the only place I can see a test making sense...,https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597721066,597721066,
MarcoFalke,2020-03-11 16:47:39,How would a test case look like? Can't it be added as a normal unit or functional test?,https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597743996,597743996,
luke-jr,2020-03-11 17:51:32,I *think* just specifying `-rpcbind=::1` would fail at startup. Does AppVeyor run the functional tests?,https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597777459,597777459,
MarcoFalke,2020-03-11 18:36:38,"Appveyor uses msvc to compile, not sure if that changes anything. @sipsorcery \n\nThough, we have a windows cross build that runs the unit tests: https://github.com/bitcoin/bitcoin/blob/58c72880ff70807cf622cdebf1d6273f4041bd2e/ci/test/00_setup_env_win64.sh#L12",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597799439,597799439,
sipsorcery,2020-03-11 18:56:52,"I've just tested starting bitcoind built with msvc using:\n\n`..\src\bitcoind -rpcbind=::1 -rpcallowip=0.0.0.0/0 -debug`\n\nIt failed with the relevant log messages being:\n\n````\nlibevent: event_add: event: 000001F4D284AA20 (fd 1764), EV_READ    call 00007FF6DB2244A0\n2020-03-11T18:48:42Z libevent: win32_add: adding event for 1764\n2020-03-11T18:48:42Z Binding RPC on address ::1 port 83",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-597809987,597809987,
DrahtBot,2020-03-12 08:50:59,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit d20d5dc824269fff45bb6fc9dbf1a6ce811b8559<br>(master) | commit fa9cd0d6e9abdb94cc80a7da33fc5a6ca3d07e00<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.19.99-aarch64-linux-gnu-debug.tar.gz | [`73956d4944191255...`](https://drahtbot.space/gitian/bitcoin/bitcoin/d20d5dc824269fff45bb6fc9dbf1a6ce811b8559/bitcoin-0.19.99-,https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-598073241,598073241,
sipsorcery,2020-03-19 22:29:06,"@luke-jr I'm attempting to verify this fix but so far the Windows executable I produce still fails to bind the RPC port on `::1`.\n\nIt looks like the patch is working insofar as if I do:\n````\ncd depends\nmake libevent\n````\nthe output does indicate `getaddrinfo` is available.\n````\nchecking for getservbyname... yes\nchecking for getaddrinfo... yes\nchecking for F_SETFD in fcntl.h..",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-601446672,601446672,
fanquake,2020-05-13 10:42:32,"This patch (part of https://github.com/libevent/libevent/pull/969/commits/6d54be2cc078351b4ce1e469bedc4a976f4e3636) looks ok and the inclusion of the additional headers definitely fixes libevents detection of `getaddrinfo`. Note that the same headers are also used here: https://github.com/libevent/libevent/blob/4c908dde58ef780eeefcc9df4db3063ca62ea862/include/event2/util.h#L65\n\nHowever I have ",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-627901948,627901948,
fanquake,2020-06-25 04:53:09,"Going to close this in favour of #19375, which includes this change.",https://github.com/bitcoin/bitcoin/pull/18287#issuecomment-649217026,649217026,
