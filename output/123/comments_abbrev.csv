jhyslop,2011-03-20T23:51:56Z,"I haven't reviewed the code thoroughly, but it looks reasonable.\n\nIn order to ease future changes to the wallet format, how about adding a key/value pair into the wallet indicating its data format version number?\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-896691,896691,
sipa,2011-03-20T23:59:43Z,"That's certainly a possibility, which may be useful in the future, but it's not really necessary now. The old format used a dedicated byte for specifying spentness, while the new code uses a key-value entry (using the dedicated byte if not present) and keeps the spent-byte updated as well.\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-896714,896714,
jhyslop,2011-03-21T00:15:34Z,"Well, I mildly disagree that it's not necessary now. The time to implement versioning is now, before it's needed, so that when it is needed clients will have the version-checking code in place. But on reflection, that's what the nVersion parameter to the Serialize family of functions is for, isn't it?\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-896757,896757,
sipa,2011-03-21T00:53:34Z,Don't get me wrong - I merely mean that for this particular issue there shouldn't be a problem.\n,https://github.com/bitcoin/bitcoin/pull/123#issuecomment-896839,896839,
gavinandresen,2011-04-06T02:06:16Z,"I pulled this and ran it against a testnet-in-a-box, and there's something seriously wrong-- look at this getinfo output:\n{\n    ""version"" : 32100,\n    ""balance"" : 103514.73287496,\n    ""blocks"" : 1479,\n    ""connections"" : 1,\n    ""proxy"" : """",\n    ""generate"" : false,\n    ""genproclimit"" : 3,\n    ""difficulty"" : 1.00000000,\n    ""hashespersec"" : 0,\n    ""testnet"" : true,\n    ""keypoololdest"" :",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-962237,962237,
sipa,2011-04-06T15:21:54Z,"Sounds like you have a lot of (used) high-value transactions whose output is yourself, but are for some reason not marked spent. I'm not sure how that is possible but I'll check the wallet in that zip file.\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-964462,964462,
gavinandresen,2011-04-06T20:49:38Z,"FYI:  Wallet is from a 3-node ""testnet-in-a-box"" that I ran a bunch of ClearCoin escrow unit tests against.  Typical use was  Sending wallet -> escrow wallet -> receiver wallet, then between tests send coins from receiver wallet back to sending wallet.  Sending wallet is the one I posted.\n\nI haven't tried the much simpler test of just taking a testnet-in-a-box wallet and running it against your ",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-966022,966022,
sipa,2011-04-12T09:35:43Z,"I tried running a testnet-in-a-box with your wallet and block database, but everything runs fine here. Could you post your corrupted wallet/blockdb as well?\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-988541,988541,
gavinandresen,2011-04-12T12:43:23Z,"I just tried again after cloning and compling directly from your git branch and got similar results.  Bad ""after"" wallet is at:  http://www.skypaint.com/bitcoin/spentpertxout_after.zip\n\n(this one is the entire datadir in a directory called 'd')\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-989238,989238,
gavinandresen,2011-04-12T12:44:41Z,"Interesting, though:  balance is different from first time I tried:\n\n  {\n    ""version"" : 32100,\n    ""balance"" : 60605705932.90255737,\n    ""blocks"" : 1455,\n    ""connections"" : 0,\n    ""proxy"" : """",\n    ""generate"" : false,\n    ""genproclimit"" : 3,\n    ""difficulty"" : 1.00000000,\n    ""hashespersec"" : 0,\n    ""testnet"" : true,\n    ""keypoololdest"" : 1301969525,\n    ""paytxfee"" : 0.00000000,\n ",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-989241,989241,
sipa,2011-04-12T17:13:00Z,"Bug fixed - fAvailableCreditCached was not initialized, causing arbitrary reported numbers on some systems\n",https://github.com/bitcoin/bitcoin/pull/123#issuecomment-990743,990743,
