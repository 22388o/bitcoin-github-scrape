ryanofsky,2020-08-05 21:43:28,This seems reasonable if `abandontransaction` is a good alternative. I was also wondering if -zapwallettxes is fully working because it loops over m_spk_managers on the dummy wallet without calling SetupLegacyScriptPubKeyMan first,https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669528319,669528319,
achow101,2020-08-05 23:00:37,"> I was also wondering if -zapwallettxes is fully working because it loops over m_spk_managers on the dummy wallet without calling SetupLegacyScriptPubKeyMan first\n\nIt looks like that's not even a reachable code path as `WalletBatch::ZapWalletTx` can't return `DBErrors::NEED_REWRITE`.",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669587738,669587738,
DrahtBot,2020-08-06 00:17:58,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19168 (Refactor: Improve setup_clean_chain semantics by fjahr)\n* #18836 (wallet: upgradewallet fixes and additional test",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669610527,669610527,
laanwj,2020-08-06 07:00:03,"Concept ACK\n\nRemoving all transactions from the wallet a sledge-hammer option. If there is any need for this it should be the wallet maintenance tool. But if its use is fully replaced by `abandontransaction` well, better to get rid of it.\n\nIf we do this, please keep the option *as hidden option* and exit with an error explaining to use `abandontransaction` if it is passed. People might fin",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-669744992,669744992,
laanwj,2020-08-09 15:56:07,FWIW I asked on [twitter](https://twitter.com/orionwl/status/1291655348181401601) and [mastodon](https://x0f.org/@orionwl/104647207101194527) what people's uses are with this option. Nothing really surprising there. No one is screaming to keep it. @luke-jr mentions something about a RBF override for `abandontranscation` that would be a remaining use case for this option.,https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-671068734,671068734,
achow101,2020-08-09 16:41:49,"> @luke-jr mentions something about a RBF override for `abandontranscation` that would be a remaining use case for this option.\n\nTo forcibly remove a particular transaction, people can use `removeprunedfunds`. It's intended use is for pruned wallets, but the RPC doesn't check for that and just removes the given transaction regardless. So if `abandontransaction` doesn't work, then `removepruned",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-671074063,671074063,
meshcollider,2020-08-13 00:07:41,"Concept ACK, I agree entirely with @laanwj and prefer this over #19700. I see no point in keeping this in either the wallet tool or the RPC.",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-673169369,673169369,
fanquake,2020-08-14 06:13:40,Concept ACK,https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-673906757,673906757,
fjahr,2020-08-14 21:19:08,Concept ACK,https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-674276553,674276553,
laanwj,2020-08-27 12:32:48,"Let's move forward with this and not draw out the discussion too much. I think we can just remove this. I received no strong disagreements on my twitter/mastodon posts.\n\nWe can always add it back (to the wallet tool, as does #19700) if we receive reports of people missing it.",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-681919736,681919736,
practicalswift,2020-08-29 01:39:58,"Concept ACK\n\nRemoving likely broken likely unused options make perfect sense :)\n\nAlso: +6 âˆ’182 gives a warm fuzzy feeling.",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-683215413,683215413,
laanwj,2020-08-30 15:59:45,Code review ACK 6738e3457824871c577bcdeb95bac599a3e09428,https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-683437704,683437704,
practicalswift,2020-08-30 18:00:51,"ACK 6738e3457824871c577bcdeb95bac599a3e09428 -- patch looks correct\n\nRestarted Travis to get rid of timeout",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-683450866,683450866,
fanquake,2020-08-31 03:32:19,"Looks good, but there's still `DBErrors ZapWalletTx(std::list<CWalletTx>& vWtx);` in [wallet.h](https://github.com/bitcoin/bitcoin/blob/21eda43cdea808335385af5c35f3baa77239749c/src/wallet/wallet.h#L1078) and [walletdb.h](https://github.com/bitcoin/bitcoin/blob/21eda43cdea808335385af5c35f3baa77239749c/src/wallet/walletdb.h#L260).\n\nCan you also add a release note after you've dropped them?",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-683531375,683531375,
achow101,2020-08-31 16:44:06,"> Looks good, but there's still `DBErrors ZapWalletTx(std::list<CWalletTx>& vWtx);` in [wallet.h](https://github.com/bitcoin/bitcoin/blob/21eda43cdea808335385af5c35f3baa77239749c/src/wallet/wallet.h#L1078) and [walletdb.h](https://github.com/bitcoin/bitcoin/blob/21eda43cdea808335385af5c35f3baa77239749c/src/wallet/walletdb.h#L260).\n> \n> Can you also add a release note after you've dropped them?",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-683895844,683895844,
gmaxwell,2021-01-10 14:57:33,"I don't see any problem in removing this.  But the release note asserts that this functionality was added for the purpose of replacing transactions that didn't have RBF.   Rather, the functionality was added to help rescue wallets that had been messed up by malleability attack:  https://github.com/bitcoin/bitcoin/pull/3659#issuecomment-34878999\n\nIt's my (non-researched) belief that the malleab",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-757489976,757489976,
achow101,2021-01-10 17:41:45,"> But the release note asserts that this functionality was added for the purpose of replacing transactions that didn't have RBF. Rather, the functionality was added to help rescue wallets that had been messed up by malleability attack\n\nThanks for pointing that out, I've updated the release notes draft.",https://github.com/bitcoin/bitcoin/pull/19671#issuecomment-757514337,757514337,
