luke-jr,2021-07-13 22:11:48,"I have failed to get a completed build so far, but have kept retrying.\n\nIt is very resource hungry, and the absence of apt-cacher means it has to restart downloads every time one fails.\n\nI need to use my disksize patch for gitian to have enough space. https://github.com/devrandom/gitian-builder/pull/172",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-879437680,879437680,
DrahtBot,2021-07-14 05:26:07,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-879601464,879601464,
luke-jr,2021-07-14 16:36:21,"```\nfab02ca332c5d79bcf1d62455a5e47e1b022522fb78ca81f2f07bde53d889a9f  aarch64-linux-gnu/bitcoin-21.99-guixtest1-aarch64-linux-gnu-debug.tar.gz\n83c2e2a991bd2ae635e24667a1048e1735b77a887dc5a5f424f09b774c5bfb61  aarch64-linux-gnu/bitcoin-21.99-guixtest1-aarch64-linux-gnu.tar.gz\n8d9c44cf254760000a8c62db00d919cc2e9488f6619b12123fb55a444870ce84  aarch64-linux-gnu/inputs.SHA256SUMS\ndb2d740831bc70",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-880041744,880041744,
luke-jr,2021-07-20 20:29:11,(Prefer to keep the old gitian yml removals in a separate PR),https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-883680103,883680103,
hebasto,2021-07-20 20:58:41,"> (Prefer to keep the old gitian yml removals in a separate PR)\n\n#22418",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-883703948,883703948,
luke-jr,2021-07-20 21:21:10,"@hebasto Yes, I mean *not* bundled in this PR",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-883716643,883716643,
achow101,2021-07-20 21:49:53,"> (Prefer to keep the old gitian yml removals in a separate PR)\n\nDropped that commit",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-883730373,883730373,
fanquake,2021-09-02 05:05:47,"Concept NACK - I think if someone would like to maintain these descriptors for some sort of transitional period, they are free to do so, but I'm not sure they need to live here. From what I can see we've already got a fairly solid number of builders for the 22.0 rcs we've had (especially given it's a new system), so Guix doesn't seem to be scaring anyone away. Will be interesting to see how many m",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-911183764,911183764,
laanwj,2021-09-09 13:11:08,"I agree with @fanquake above. It might make sense to maintain this somewhere else (could even be in the [docs](https://github.com/bitcoin-core/docs) repository which historically covers more specific building instructions), but I don't think it makes sense to have it (or anything referring to gitian) as part of this repository. It's not the recommended way to build.",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-916078167,916078167,
fanquake,2021-09-10 05:23:48,"Going to close this for now then. #22418 has been merged as well. \n\nWe currently have 13 builders who have submitted sigs for the `v22.0` tag, and I'm expecting a number more.",https://github.com/bitcoin/bitcoin/pull/22439#issuecomment-916640700,916640700,
luke-jr,2021-07-20 19:51:54,"Shouldn't `file` be `""${KEYFILE}""` still? (and do we actually need sudo to read it?)",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673433986,673433986,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 19:56:24,"For safety, there should be double quotes around the variables\n\n```suggestion\n    mkdir -p ""${BASE_CACHE}"" ""${SOURCES_PATH}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673438418,673438418,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 20:04:27,"Oops.\n\n`sudo` is not needed but there was a linter complaint about not having it.",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673446280,673446280,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 20:04:33,Done,https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673446394,673446394,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 20:28:48,Can we fix (or disable) the linter instead?,https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673469531,673469531,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 20:59:50,"We don't need sudo to read the keyfile, but we need to be able to pass it into `sudo guix archive`. The linter does not like `cat ${KEYFILE} | ...` and suggested that  a redirect be used (` ... < ${KEYFILE}`). But when I did that, it complained about the sudo and suggested this line.",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673489273,673489273,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:22:19,"```suggestion\n    GUIX_CACHE=""${GBUILD_COMMON_CACHE}/guix""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673503084,673503084,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:22:44,"```suggestion\n    GUIX_SCRIPT=""${GUIX_CACHE}/guix-install.sh""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673503374,673503374,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:22:57,"```suggestion\n      cp ""${GUIX_SCRIPT}"" ""$BUILD_DIR""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673503473,673503473,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:23:08,"```suggestion\n    GUIX_TARBALL=""${GUIX_CACHE}/guix-tarball-pack-x86_64-linux.tar.gz""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673503558,673503558,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:23:40,Can we verify the SHA256 of this? (and peg it to the current version),https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673503841,673503841,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:24:45,"```suggestion\n    mkdir -p ""${GUIX_CACHE}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673504413,673504413,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:24:57,"```suggestion\n      sudo cat ""$KEYFILE"" | sudo guix archive --authorize\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673504538,673504538,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:25:22,"```suggestion\n      guix archive --import < ""${STORE_FILE}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673504742,673504742,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:25:45,"```suggestion\n  mv ""guix-build-${VERSION}/output""/* ""${OUTDIR}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673504946,673504946,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:25:55,"```suggestion\n    cd ""${BUILD_DIR}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673505028,673505028,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:26:05,"```suggestion\n    cp guix-install.sh ""${GUIX_SCRIPT}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673505122,673505122,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:26:19,"```suggestion\n    sudo cp ""${GUIX_PACK_TARBALL}"" ""${GUIX_TARBALL}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673505264,673505264,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:26:31,"```suggestion\n    sudo cp /etc/guix/signing-key.pub ""${KEYFILE}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673505363,673505363,contrib/gitian-descriptors/gitian-guix-linux-win.yml
luke-jr,2021-07-20 21:26:43,"```suggestion\n    guix archive --export --recursive ""$STORE_FILES"" > ""${STORE_FILE}""\n```",https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673505465,673505465,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 21:28:21,I disabled the linter warnings for these lines.,https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673506379,673506379,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 21:50:05,Done here and elsewhere.,https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673517330,673517330,contrib/gitian-descriptors/gitian-guix-linux-win.yml
achow101,2021-07-20 21:50:14,Done,https://github.com/bitcoin/bitcoin/pull/22439#discussion_r673517402,673517402,contrib/gitian-descriptors/gitian-guix-linux-win.yml
