laanwj,2017-06-29T15:39:13Z,"Looks like this test is acting up: \nhttps://travis-ci.org/bitcoin/bitcoin/jobs/248398016\nhttps://travis-ci.org/bitcoin/bitcoin/jobs/248398018\nMight need a similar change to #10659.",https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-312005841,312005841,
jnewbery,2017-06-30T15:46:04Z,"I think I've fixed the Travis issues, although it's difficult to tell for sure since Travis only runs extended tests in master.\n\nFor the first, I split the generate call in `create_confirmed_utxos()` into many smaller generate calls. For the second, I catch different errors depending on the Python version.\n\nBoth of these solutions should be moved into TestNode once that's merged (ie a `nod",https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-312302860,312302860,
MarcoFalke,2017-07-02T20:10:15Z,utACK b394a00f6c34e20e5ff555c8a07c6558e319a34a. Feel free to squash.,https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-312514137,312514137,
jnewbery,2017-07-02T20:55:46Z,squashed,https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-312516438,312516438,
MarcoFalke,2017-07-03T07:37:21Z,"Going to merge this now, since it might fix the test failures we see on master right now. Further cleanup can always be completed in later commits.",https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-312571773,312571773,
sdaftuar,2017-07-06T11:06:46Z,"> That throws up events with very low probabilities. For example, we'll re-org back 40 blocks in 1/40 * 1/44 = 1/1760 tests. For me, such indeterminateness is troubling. If there was a problem that caused large re-orgs to fail, then they'd only be caught very intermittently by this test, and it'd be difficult to debug.\n\n> I prefer my tests to be more deterministic where possible. How would you",https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-313366147,313366147,
jnewbery,2017-07-06T11:41:59Z,"> I don't think the right way to think of this test ... , but lacking that I think the randomness here is an appropriate test strategy.\n\nACK",https://github.com/bitcoin/bitcoin/pull/10704#issuecomment-313372606,313372606,
sdaftuar,2017-06-29T16:07:43Z,"I don't feel strongly, but the reason I put this in was that I didn't think that changes to the default test framework should cause tests to break -- since this test relies on a particular configuration, I felt it was best to define that locally.",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r124844368,124844368,test/functional/dbcrash.py
sdaftuar,2017-06-29T16:13:28Z,"Also, can you set a custom timewait for the RPC connections in this test to resolve the travis issues that have come up so far:\nhttps://travis-ci.org/bitcoin/bitcoin/jobs/248398018#L2153",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r124845800,124845800,test/functional/dbcrash.py
sdaftuar,2017-06-29T16:17:10Z,"I think this RemoteDisconnected exception may not exist pre-3.5, which would explain this travis failure:\nhttps://travis-ci.org/bitcoin/bitcoin/jobs/248398016#L3321\n\nI'm not sure what the best way to handle that is...",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r124846671,124846671,test/functional/dbcrash.py
sdaftuar,2017-06-29T16:19:17Z,"Feel free to address the TODO as well :)  I think you just do something like `relayfee = self.nodes[0].getnetworkinfo()['relayfee']`, and then convert to the right units.",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r124847135,124847135,test/functional/dbcrash.py
MarcoFalke,2017-06-29T19:15:44Z,"We might as well just get rid of the default value. There is nothing special about ""4"" that justifies to use it as default value.",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r124889257,124889257,test/functional/dbcrash.py
jnewbery,2017-06-30T14:02:47Z,"ok, you've convinced me. I'll leave this in for now.\n\nWe can remove the default num_nodes in a future PR (and probably remove the default topology and premine while we're at it).",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r125046235,125046235,test/functional/dbcrash.py
jnewbery,2017-06-30T15:33:26Z,"I think I've fixed this in my fixup commit b394a00f6c34e20e5ff555c8a07c6558e319a34a. Just catch different errors depending on which version of Python is being run.\n\nI think later we should move this logic to a separate method named `send_rpc_may_fail()` or similar in TestNode to keep the test script code clean.",https://github.com/bitcoin/bitcoin/pull/10704#discussion_r125067559,125067559,test/functional/dbcrash.py
jnewbery,2017-06-30T15:33:54Z,I haven't addressed this. What are the downsides to using a fixed fee?,https://github.com/bitcoin/bitcoin/pull/10704#discussion_r125067666,125067666,test/functional/dbcrash.py
