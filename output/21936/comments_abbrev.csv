DrahtBot,2021-05-13 02:53:53,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21795 (fuzz: Terminate immediately if a fuzzing harness tries to perform a DNS lookup (belt and suspenders) by practicals",https://github.com/bitcoin/bitcoin/pull/21936#issuecomment-840251844,840251844,
michaelfolkson,2021-05-13 09:44:34,"Concept ACK. Creating a TCP socket shouldn't happen accidentally :)\n\nIs this precautionary for future fuzzers added or something you stumbled on with current fuzzers? I'm interested in whether there needs to be many more of these kinds of footgun protections in case fuzzing goes down these uncontrolled paths. The alternative (I think) would be to say ""If you run experimental fuzzers you are on",https://github.com/bitcoin/bitcoin/pull/21936#issuecomment-840446528,840446528,
practicalswift,2021-05-15 08:38:10,"> Is this precautionary for future fuzzers added or something you stumbled on with current fuzzers? \n\nThis is added purely as a cheap precautionary measure.\n\nThe only ""surprising"" use of networking syscalls we've ever seen in the code base historically (AFAIK) is that the `socket` syscall is currently being invoked when formatting an IP address a string (`CNetAddr::ToString`). That is docu",https://github.com/bitcoin/bitcoin/pull/21936#issuecomment-841623469,841623469,
MarcoFalke,2021-05-21 07:00:11,ACK 393992b049d3bcf0b2a3439be128d13d6567f0b1,https://github.com/bitcoin/bitcoin/pull/21936#issuecomment-845709588,845709588,
vasild,2021-05-17 11:29:09,"A call to `std::terminate()` was added, which is defined in `<exception>`.\n```suggestion\n#include <exception>\n#include <memory>\n```",https://github.com/bitcoin/bitcoin/pull/21936#discussion_r633450381,633450381,src/test/fuzz/fuzz.cpp
practicalswift,2021-05-19 20:17:53,"Oh, thanks! Now fixed.",https://github.com/bitcoin/bitcoin/pull/21936#discussion_r635555653,635555653,src/test/fuzz/fuzz.cpp
MarcoFalke,2021-05-20 10:44:07,"Can be removed if done with a simple one-line lambda:\n\n```diff\ndiff --git a/src/test/fuzz/fuzz.cpp b/src/test/fuzz/fuzz.cpp\nindex b6ba44fe21..631c861bb6 100644\n--- a/src/test/fuzz/fuzz.cpp\n+++ b/src/test/fuzz/fuzz.cpp\n@@ -32,15 +32,10 @@ void FuzzFrameworkRegisterTarget(std::string_view name, TypeTestOneInput target,\n \n static TypeTestOneInput* g_test_one_input{nullptr};\n \n-s",https://github.com/bitcoin/bitcoin/pull/21936#discussion_r635986101,635986101,src/test/fuzz/fuzz.cpp
practicalswift,2021-05-20 19:15:19,"Sure, why not! Now addressed :)",https://github.com/bitcoin/bitcoin/pull/21936#discussion_r636400468,636400468,src/test/fuzz/fuzz.cpp
