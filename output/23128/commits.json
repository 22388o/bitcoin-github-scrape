[
  {
    "sha": "ed394e5e2f843470ff966bbc997b3bfb5465bbea",
    "node_id": "C_kwDOABII59oAKGVkMzk0ZTVlMmY4NDM0NzBmZjk2NmJiYzk5N2IzYmZiNTQ2NWJiZWE",
    "commit": {
      "author": {
        "name": "Douglas Chimento",
        "email": "dchimento@gmail.com",
        "date": "2021-09-29T07:59:33Z"
      },
      "committer": {
        "name": "Douglas Chimento",
        "email": "dchimento@gmail.com",
        "date": "2021-10-05T18:09:36Z"
      },
      "message": "doc: Remove TODO 'exclude peers with download permission'\n\nAdd to -maxuploadtarget help message 'blocks within a week'",
      "tree": {
        "sha": "a3db88b214d9a2cb9e0b5107d4aafddaeab93a57",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a3db88b214d9a2cb9e0b5107d4aafddaeab93a57"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed394e5e2f843470ff966bbc997b3bfb5465bbea",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEEFt7wA8cqIHRePmNa0a1maOubxakFAmFclRkACgkQ0a1maOub\nxanYigv+PjhWQ5BhD+sJzcFa1EUiITbF25S1PL1nvfasto06/rM4zVDwSlF0rScY\n0OAM1Wsr9YKSMs0XCj+lKDZNPEzqROMERAiuqSSxvXEq2we4y5WscckFr23MNUGE\neUSCoowH8Q3MDtpuGukItDSWFUSkPkLaYGtnovzRtLomGlRSo9eRDp1zSrMjUIx1\nkYqD62zL9zfIWqsH4NlGiVLNUn3syfnhlkw1adOOKy6IQ4X9QpvBxR7+LWWwU4D2\neEUENVpGp/Q3gGxDb0fTTRDRPfxL6MV1AvFJkctdbRp3nbXVJj+ezuiQLrPdgbkk\n/1Fi5I/MQJeh7GFsjmbc22dVJkZ4V20ur1MsnerXlkpNp64H2hyGTJ1p9XWCzaWO\np6N+F9aRrISxMZeCTIgir3xINbgCde1mpBt9rzWeWy6ZMxYmlL3JESsoQ+TBWRpI\nTwS4puvNEDncnm2oUYQYVU8XxqoS8HUTUNBl8MrRqU8HRJd2ikOfdVRfvO7WzMv+\nKB5z8mjW\n=fywh\n-----END PGP SIGNATURE-----",
        "payload": "tree a3db88b214d9a2cb9e0b5107d4aafddaeab93a57\nparent 33e31f8df920acd3a4b13aab5bd6a6733480133a\nauthor Douglas Chimento <dchimento@gmail.com> 1632902373 +0300\ncommitter Douglas Chimento <dchimento@gmail.com> 1633457376 +0300\n\ndoc: Remove TODO 'exclude peers with download permission'\n\nAdd to -maxuploadtarget help message 'blocks within a week'\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed394e5e2f843470ff966bbc997b3bfb5465bbea",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ed394e5e2f843470ff966bbc997b3bfb5465bbea",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed394e5e2f843470ff966bbc997b3bfb5465bbea/comments",
    "author": {
      "login": "dougEfresh",
      "id": 976425,
      "node_id": "MDQ6VXNlcjk3NjQyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/976425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougEfresh",
      "html_url": "https://github.com/dougEfresh",
      "followers_url": "https://api.github.com/users/dougEfresh/followers",
      "following_url": "https://api.github.com/users/dougEfresh/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougEfresh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougEfresh/subscriptions",
      "organizations_url": "https://api.github.com/users/dougEfresh/orgs",
      "repos_url": "https://api.github.com/users/dougEfresh/repos",
      "events_url": "https://api.github.com/users/dougEfresh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougEfresh/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dougEfresh",
      "id": 976425,
      "node_id": "MDQ6VXNlcjk3NjQyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/976425?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougEfresh",
      "html_url": "https://github.com/dougEfresh",
      "followers_url": "https://api.github.com/users/dougEfresh/followers",
      "following_url": "https://api.github.com/users/dougEfresh/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougEfresh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougEfresh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougEfresh/subscriptions",
      "organizations_url": "https://api.github.com/users/dougEfresh/orgs",
      "repos_url": "https://api.github.com/users/dougEfresh/repos",
      "events_url": "https://api.github.com/users/dougEfresh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougEfresh/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "33e31f8df920acd3a4b13aab5bd6a6733480133a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/33e31f8df920acd3a4b13aab5bd6a6733480133a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/33e31f8df920acd3a4b13aab5bd6a6733480133a"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 1,
      "deletions": 2
    },
    "files": [
      {
        "sha": "7b232c12356ef57ff6cca23063f703c2ef5f44ce",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ed394e5e2f843470ff966bbc997b3bfb5465bbea/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ed394e5e2f843470ff966bbc997b3bfb5465bbea/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=ed394e5e2f843470ff966bbc997b3bfb5465bbea",
        "patch": "@@ -434,7 +434,7 @@ void SetupServerArgs(ArgsManager& argsman)\n     argsman.AddArg(\"-maxreceivebuffer=<n>\", strprintf(\"Maximum per-connection receive buffer, <n>*1000 bytes (default: %u)\", DEFAULT_MAXRECEIVEBUFFER), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxsendbuffer=<n>\", strprintf(\"Maximum per-connection send buffer, <n>*1000 bytes (default: %u)\", DEFAULT_MAXSENDBUFFER), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-maxtimeadjustment\", strprintf(\"Maximum allowed median peer time offset adjustment. Local perspective of time may be influenced by peers forward or backward by this amount. (default: %u seconds)\", DEFAULT_MAX_TIME_ADJUSTMENT), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n-    argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n+    argsman.AddArg(\"-maxuploadtarget=<n>\", strprintf(\"Tries to keep outbound traffic under the given target (in MiB per 24h). Limit does not apply to peers with 'download' permission or blocks created within past week. 0 = no limit (default: %d)\", DEFAULT_MAX_UPLOAD_TARGET), ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-onion=<ip:port>\", \"Use separate SOCKS5 proxy to reach peers via Tor onion services, set -noonion to disable (default: -proxy)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2psam=<ip:port>\", \"I2P SAM proxy to reach I2P peers and accept I2P connections (default: none)\", ArgsManager::ALLOW_ANY, OptionsCategory::CONNECTION);\n     argsman.AddArg(\"-i2pacceptincoming\", \"If set and -i2psam is also set then incoming I2P connections are accepted via the SAM proxy. If this is not set but -i2psam is set then only outgoing connections will be made to the I2P network. Ignored if -i2psam is not set. Listening for incoming I2P connections is done through the SAM proxy, not by binding to a local address and port (default: 1)\", ArgsManager::ALLOW_BOOL, OptionsCategory::CONNECTION);"
      },
      {
        "sha": "ee140b7d196fc92ad036ad9c32856151c32629b2",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 1,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ed394e5e2f843470ff966bbc997b3bfb5465bbea/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ed394e5e2f843470ff966bbc997b3bfb5465bbea/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=ed394e5e2f843470ff966bbc997b3bfb5465bbea",
        "patch": "@@ -2869,7 +2869,6 @@ void CConnman::RecordBytesSent(uint64_t bytes)\n         nMaxOutboundTotalBytesSentInCycle = 0;\n     }\n \n-    // TODO, exclude peers with download permission\n     nMaxOutboundTotalBytesSentInCycle += bytes;\n }\n "
      }
    ]
  }
]