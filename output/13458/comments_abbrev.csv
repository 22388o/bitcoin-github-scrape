fanquake,2018-06-13T15:18:07Z,What would this make our minimum supported version of Qt? 5.4.x IIRC?,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-396975946,396975946,
laanwj,2018-06-13T15:22:40Z,"> What would this make our minimum supported version of Qt? 5.4.x IIRC?\n\nThat's a good question. I'm not sure that's something to be decided here, I don't change anything with regard to Qt5 versions supported. Though there are a few `QT_VERSION` checks for Qt 5.2 that would not be relevant in that case..",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-396977708,396977708,
fanquake,2018-06-13T15:45:31Z,"> That's a good question. I'm not sure that's something to be decided here, I don't change anything with regard to Qt5 versions supported. Though there are a few QT_VERSION checks for Qt 5.2 that would not be relevant in that case..\n\nFair enough.\n\nSome qt4 related code here:\nhttps://github.com/bitcoin/bitcoin/blob/f532d52d39658d0b58d9117a567336cab479dfed/src/qt/coincontroldialog.cpp#L125",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-396986014,396986014,
laanwj,2018-06-13T16:17:31Z,"Thanks @fanquake, updated for those.\n\nEdit: I left the `// change coin control first column label due Qt4 bug. ` though, because I'm not sure what to do there otherwise. Looks like the statement can be moved, but I don't know where.",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-396998113,396998113,
promag,2018-06-13T16:19:01Z,"Concept ACK, will review.",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-396998596,396998596,
MarcoFalke,2018-06-13T16:36:20Z,ACK. A follow up pull request could clarify which versions of qt5 are supported.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397004289,397004289,
MarcoFalke,2018-06-13T18:30:25Z,"Concept ACK ecda9463649d7a5b3d35e31f0c6753f7f4f721c5.\n\nNits:\n\n* The section for fedora still says "" To build with Qt 5 (recommended) you need the following:""\n* The link in `src/qt/Readme.md` should be updated to ""https://doc.qt.io/qt-5/qdialog.html""\n* The link in `src/qt/bitcoingui.cpp` should be updated to ""https://doc.qt.io/qt-5/gallery.html""",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397039894,397039894,
theuni,2018-06-13T18:33:12Z,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397040766,397040766,
meshcollider,2018-06-13T21:02:23Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397085737,397085737,
jonasschnelli,2018-06-14T07:10:26Z,"Concept ACK\nGitian Build: https://bitcoin.jonasschnelli.ch/build/656",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397194761,397194761,
promag,2018-06-14T08:53:56Z,Remove `Qt 4 is also supported` from `bitcoin/src/qt/README.md`.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397221986,397221986,
promag,2018-06-14T09:00:57Z,All `QT_VERSION` usages LGTM.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397224136,397224136,
laanwj,2018-06-14T11:10:05Z,"Ok, I think all comments by @promag @MarcoFalke @theuni have been addressed.\n@fanquake That'd be good. But maybe in a separate PR, I think this update should be dumbly removing Qt4 support but otherwise keep the logic for Qt5 the same.",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397257960,397257960,
DrahtBot,2018-06-14T20:12:23Z,<!--e57a25ab6845829454e8d69fc972939a-->Note to reviewers: This pull request conflicts with the following ones:\n\n* #13482 (Remove boost::program_options dependency by ken2812221)\n* #13278 ([qt] Fixed tx-view min amount typing period on locales using comma by GreatSock)\n* #13249 (Make objects in range declarations immutable by default. Avoid unnecessary copying of objects in range declarations. ,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397423539,397423539,
practicalswift,2018-06-14T20:36:16Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397430019,397430019,
MarcoFalke,2018-06-15T14:27:48Z,"@laanwj You wouldn't need to export `DISPLAY` to the docker as well? Could remove that as well?\n\nhttps://github.com/laanwj/bitcoin/blob/e2dc0e7f02b63ab5990b6f3c806ceaedf40cf3ea/.travis.yml#L48",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397638410,397638410,
fanquake,2018-06-15T15:43:02Z,"Should be able to drop this check from [paymentrequestplus.cpp](https://github.com/bitcoin/bitcoin/blob/master/src/qt/paymentrequestplus.cpp#L100):\n```\n#if QT_VERSION >= 0x050000\n        if (qCert.isBlacklisted()) {\n            ...snip...\n            return false;\n        }\n#endif\n```",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397661667,397661667,
laanwj,2018-06-15T19:55:45Z,"@MarcoFalke @fanquake done\nthis is becoming a palimpsest of commits, if there's no more things I missed I'm going to squash them into more sensible subdivision",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397726195,397726195,
TheBlueMatt,2018-06-15T20:09:17Z,"I presume, barring some major rewrite, this implies the PPA should simply not ship with a GUI except on 18.04? (And replace bitcoin-qt with a dummy package instead of letting it get stale?)\n\nOn June 15, 2018 7:56:01 PM UTC, ""Wladimir J. van der Laan"" <notifications@github.com> wrote:\n>@MarcoFalke @fanquake done\n>this is becoming a palimpsest of commits, if there's no more things I\n>missed I'm",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397729076,397729076,
MarcoFalke,2018-06-15T20:17:01Z,"@TheBlueMatt I doubt anyone running ubuntu 14.04 is running the gui from the ppa. If there is one, they might as well download the release build.\n\nEdit: Ah, according to #8043, using the release builds wouldn't help and xenial is affected as well. Though, since the only problem is the tray icon, we might as well just ship a package with a slight ui glitch instead of no package at all.",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397730790,397730790,
fanquake,2018-06-16T10:19:05Z,~~~@wumpus~~~ @laanwj That'd be great.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397802953,397802953,
laanwj,2018-06-16T11:11:02Z,"> @TheBlueMatt I doubt anyone running ubuntu 14.04 is running the gui from the ppa. If there is one, they might as well download the release build.\n\nOr a three-line patch to disable tray icon support in the PPA, for those versions. It seems ridiculous to me to remove the entire GUI package just because of a small glitch.\n(or even just ship with the glitch, as @MarcoFalke says - note it as kn",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397805159,397805159,
wumpus,2018-06-16T15:13:44Z,Wrong @wumpus.,https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-397818773,397818773,
laanwj,2018-06-18T10:33:28Z,"Squashed into sensible commits:\n56c25b36b17b73b4ad36d608c428aaa052130fab â†’ af6ac3b677454644364fd24d0df0c02ac9b8c8db \nNo other changes.",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-398012161,398012161,
MarcoFalke,2018-06-18T11:17:35Z,"Concept re-ACK af6ac3b677. (No changes since feedback addressed, but I didn't review the build changes)",https://github.com/bitcoin/bitcoin/pull/13458#issuecomment-398021581,398021581,
fanquake,2018-06-13T15:43:15Z,"Qt4 mentions in the comment here ^, and another starting at line 288.",https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195135448,195135448,build-aux/m4/bitcoin_qt.m4
theuni,2018-06-13T18:35:00Z,"Missed libqt4-dev.\n\nAlso, I believe this means that we can get rid of xvfb, since qt5's 'minimal' plugin should work.",https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195192009,195192009,.travis.yml
fanquake,2018-06-14T01:34:20Z,"Note: Still need to test, but we might be able to remove this Qt workaround entirely.",https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195281818,195281818,src/qt/guiutil.h
MarcoFalke,2018-06-14T16:40:09Z,I think cory mentioned you could get rid of xvfb?,https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195492707,195492707,.travis.yml
laanwj,2018-06-14T17:17:17Z,"Didn't I? oh, there's an environment variable too...",https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195504009,195504009,.travis.yml
theuni,2018-06-14T17:50:18Z,$DISPLAY was also related to xvfb and can be removed.,https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195514311,195514311,.travis.yml
MarcoFalke,2018-06-14T19:43:14Z,Can probably also remove two instances of `DISPLAY`?,https://github.com/bitcoin/bitcoin/pull/13458#discussion_r195547899,195547899,.travis.yml
