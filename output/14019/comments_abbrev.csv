DrahtBot,2018-08-23T04:40:50Z,"<!--e57a25ab6845829454e8d69fc972939a-->Reviewers, this pull request conflicts with the following ones:\n\n* #14454 (Add SegWit support to importmulti by MeshCollider)\n* #14075 (Import watch only pubkeys to the keypool if private keys are disabled by achow101)\n* #14021 (Import key origin data through importmulti by achow101)\n\nIf you consider this pull request important, please also help to revi",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-415288276,415288276,
instagibbs,2018-08-25T14:08:19Z,"utACK 54ab69ce78a88f24c96ebcab09c63da27db2ee9d\n\nI think removing the TODO is fine since we're doing it for everything until a future wallet refactor.",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-415971743,415971743,
luke-jr,2018-08-29T17:46:52Z,"Why? If you're importing p2sh, the wallet *shouldn't* recognise lone keys...",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-417043259,417043259,
achow101,2018-08-29T20:29:02Z,"@luke-jr This PR is largely to work in combination with #14021, but I decided it would be better to split it into it's own PR. The reason for doing this is so that a PSBT can be made which includes the pubkey and the key derivation information (master key fingerprint and keypath) for a P2SH script (e.g. a multisig redeemScript). Without this, the wallet has no way of knowing the key and its metada",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-417094900,417094900,
sipa,2018-08-29T20:34:11Z,"@luke-jr It's an unfortunate side effect of the current design that importing keys/script sometimes results in outputs involving those becoming treated as IsMine.\n\nThe goal here isn't changing IsMine, but making sure the information is available for signing.\n\nThis issue will be independently solved by moving to descriptor based wallets, where nothing except the scripts defined by the imported ",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-417096424,417096424,
instagibbs,2018-09-14T19:56:30Z,"tACK https://github.com/bitcoin/bitcoin/pull/14019/commits/7bcf2cbbf89389d05bc66fb254d9775e846a2f0c\n\nIn use on active wallets.",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-421467902,421467902,
etscrivner,2018-09-28T04:17:47Z,tACK 6412265b5935173fcaa02b20195d0e282cb2d804,https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-425316158,425316158,
instagibbs,2018-10-09T04:19:31Z,tACK https://github.com/bitcoin/bitcoin/pull/14019/commits/6412265b5935173fcaa02b20195d0e282cb2d804,https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-428054469,428054469,
meshcollider,2018-10-10T13:25:19Z,"this PR is replaced by https://github.com/bitcoin/bitcoin/pull/14454, please review that instead :) ",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-428570098,428570098,
fanquake,2018-10-14T11:29:28Z,"@achow101 Is #14454 a full replacement for this PR? If so, can you close this.",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-429618782,429618782,
achow101,2018-10-15T21:06:23Z,"Superseded by #14454. Also, from discussion on IRC just now, it seems that this feature is no longer necessary following #14424",https://github.com/bitcoin/bitcoin/pull/14019#issuecomment-430013192,430013192,
instagibbs,2018-08-22T13:45:20Z,Curious why we aren't calling `HaveKey` here and in similar locations?,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211959370,211959370,src/wallet/rpcdump.cpp
instagibbs,2018-08-22T13:48:39Z,why the MarkDirty here? Needs a comment imo.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211960532,211960532,src/wallet/rpcdump.cpp
instagibbs,2018-08-22T13:48:55Z,why the MarkDirty here? Needs a comment imo.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211960610,211960610,src/wallet/rpcdump.cpp
instagibbs,2018-08-22T13:53:36Z,Seems kind of expected until we stop abusing keys sadly.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211962336,211962336,src/wallet/rpcdump.cpp
achow101,2018-08-22T14:31:17Z,Dunno. I just copied this from below,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211976850,211976850,src/wallet/rpcdump.cpp
achow101,2018-08-22T14:33:50Z,Copied from below. It seems that we always do `MarkDirty` before importing stuff. This pattern appears throughout the other import stuff.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r211977843,211977843,src/wallet/rpcdump.cpp
promag,2018-09-23T22:03:47Z,"nit, `assert_equal(result[0]['success'], True)`.\n",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r219713209,219713209,test/functional/wallet_importmulti.py
promag,2018-09-23T22:07:55Z,"Use `HexToPubKey`:\n```\nCPubKey pubKey = HexToPubKey(pubKeys[i].get_str())\n```",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r219713297,219713297,src/wallet/rpcdump.cpp
promag,2018-09-23T22:10:26Z,"nit, use range-based for-loop?",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r219713378,219713378,src/wallet/rpcdump.cpp
promag,2018-09-23T22:16:05Z,"nit, space before `}`?\n\nwe should style lint python :trollface: ",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r219713617,219713617,test/functional/wallet_importmulti.py
promag,2018-09-23T23:23:58Z,"If #14303 is correct, these can be removed. Please review.",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r219715443,219715443,src/wallet/rpcdump.cpp
achow101,2018-09-27T03:50:10Z,This does not work as `UniValue` does not have an `end()` function apparently.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r220786568,220786568,src/wallet/rpcdump.cpp
achow101,2018-09-27T03:53:23Z,Done,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r220786891,220786891,test/functional/wallet_importmulti.py
achow101,2018-09-27T03:53:30Z,Done,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r220786901,220786901,src/wallet/rpcdump.cpp
achow101,2018-09-27T03:53:33Z,Done,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r220786910,220786910,test/functional/wallet_importmulti.py
etscrivner,2018-09-28T03:40:01Z,nit: `pubkey_dest` => `pubKeyDest`?,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r221134524,221134524,src/wallet/rpcdump.cpp
achow101,2018-09-28T04:45:44Z,No. The style guide says to use snake case for variable names.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r221140233,221140233,src/wallet/rpcdump.cpp
etscrivner,2018-09-28T19:08:52Z,"Any reason why the other local variables don't follow this naming convention? (For example, `pubKey`, `pubKeyScript`, and `scriptRawPubKey`)",https://github.com/bitcoin/bitcoin/pull/14019#discussion_r221353743,221353743,src/wallet/rpcdump.cpp
achow101,2018-09-28T19:13:25Z,The style convention has changed over time. New code should follow the new convention. Changing all of the existing code to follow that would break a ton of PRs so we don't do that.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r221354799,221354799,src/wallet/rpcdump.cpp
etscrivner,2018-09-28T20:57:33Z,Gotcha. So the variables I named are `new code` AFAICT - though I may be missing something. They appear to be new variables defined as part of the work done for this PR.,https://github.com/bitcoin/bitcoin/pull/14019#discussion_r221379607,221379607,src/wallet/rpcdump.cpp
