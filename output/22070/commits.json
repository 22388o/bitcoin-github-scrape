[
  {
    "sha": "3caedb4c0351f99d1ef74e8fc9d4e276361ce90a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozY2FlZGI0YzAzNTFmOTlkMWVmNzRlOGZjOWQ0ZTI3NjM2MWNlOTBh",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-05-26T05:08:16Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-05-26T05:08:16Z"
      },
      "message": "build: don't use cf-protection when targeting arm-apple-darwin\n\nAfter two reports on IRC of issues building depends on an Apple M1\nmachine, it turns out that this option can't be used when targeting\narm-apple-darwin. For now, just use it for x86_64-apple-darwin.\n\n```bash\nApple clang version 12.0.5 (clang-1205.0.22.9)\nTarget: x86_64-apple-darwin20.4.0\n\nerror: option 'cf-protection=return' cannot be specified on this target\nerror: option 'cf-protection=branch' cannot be specified on this target\n2 errors generated.\n```",
      "tree": {
        "sha": "d32f974d1196ad7efc6bf47b441c0aecc65ef341",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d32f974d1196ad7efc6bf47b441c0aecc65ef341"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmCt2ZEACgkQLuufXMCV\nJsHSUA/8Dp+AzhyMmoPb1C/tZTMYzZoWVNWeBxR0d7gVzMOP3YYoqJz3PmQeSh1t\nB1isaVCrwCKZ9v1lRremG8oIz/UZHObb27ySGOElRhlnbFyudl7P6m8V4EB7Q5JQ\nWtUUPX8CeZOvzQoSCO26aHeeESpXrXm5YxuzlisIxrIf6K+tcVu6749FYcOUFI8Y\noKTUsVOqnWmpwwy07kNDIuiyHdnfazhazL0Tsj4UTJWO5r5PBDp/eyYmJA54cuFm\nzUbJIsZ5NhD6LmprqyaJHSpDvjMVeb84qR+pyOGBZ2KyJkaTm672kENZhjD2m8Ki\nB8ywkOh6plN4G1KJdUvHzJL3qNtIMrxWCiN4p8G3F5MmtZUU7OTH5cmH2INV2xZO\nax5zL3ignDb9Snj6tAVIFbC63hRdvdeRlnURbCTkyh/BJsye2Y/7EK1Wq0WjxQsh\n5iIvuRZBaowBJnS+13zJt5pTsOyyuFqTOrKSIhBVbS5q99IIq5iTvow3izExj6YO\n2tiEHgkOzfcqE8WLtwNBdo+cJJwYtuTi2x8DloUTD0GzCZprMu27c+lVLaGo+bQV\nJwX1ZwMMcyeKUYkXNBqSYQbP/zuyge6yEbhSvX/Aew68cL8+4YqofMNrH43hASqR\n6Rwlacln3Jox2+oc2fBRFBqmV3c0ZGueHV6dkBdL9Zq6pd5+Fag=\n=26px\n-----END PGP SIGNATURE-----",
        "payload": "tree d32f974d1196ad7efc6bf47b441c0aecc65ef341\nparent 3ad1b8899bfbf87ca4f06c20e8285bc8be31bbe8\nauthor fanquake <fanquake@gmail.com> 1622005696 +0800\ncommitter fanquake <fanquake@gmail.com> 1622005696 +0800\n\nbuild: don't use cf-protection when targeting arm-apple-darwin\n\nAfter two reports on IRC of issues building depends on an Apple M1\nmachine, it turns out that this option can't be used when targeting\narm-apple-darwin. For now, just use it for x86_64-apple-darwin.\n\n```bash\nApple clang version 12.0.5 (clang-1205.0.22.9)\nTarget: x86_64-apple-darwin20.4.0\n\nerror: option 'cf-protection=return' cannot be specified on this target\nerror: option 'cf-protection=branch' cannot be specified on this target\n2 errors generated.\n```\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3ad1b8899bfbf87ca4f06c20e8285bc8be31bbe8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3ad1b8899bfbf87ca4f06c20e8285bc8be31bbe8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3ad1b8899bfbf87ca4f06c20e8285bc8be31bbe8"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f879d176f5079764ed2bad9aaa1de24e45535754",
        "filename": "depends/packages/boost.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a/depends/packages/boost.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3caedb4c0351f99d1ef74e8fc9d4e276361ce90a/depends/packages/boost.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/boost.mk?ref=3caedb4c0351f99d1ef74e8fc9d4e276361ce90a",
        "patch": "@@ -26,7 +26,7 @@ $(package)_config_libraries=filesystem,system,test\n $(package)_cxxflags=-std=c++17 -fvisibility=hidden\n $(package)_cxxflags_linux=-fPIC\n $(package)_cxxflags_android=-fPIC\n-$(package)_cxxflags_darwin=-fcf-protection=full\n+$(package)_cxxflags_x86_64_darwin=-fcf-protection=full\n endef\n \n define $(package)_preprocess_cmds"
      }
    ]
  }
]