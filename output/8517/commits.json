[
  {
    "sha": "914154f0ccf2a18a273c7fdb3e80016732149303",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5MTQxNTRmMGNjZjJhMThhMjczYzdmZGIzZTgwMDE2NzMyMTQ5MzAz",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-17T12:09:47Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2016-08-19T07:21:04Z"
      },
      "message": "[Qt] add HD enabled/disabled icon to the status bar",
      "tree": {
        "sha": "f7b3c1f8a1e1550ee680c759ca9135f6c8e056ce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f7b3c1f8a1e1550ee680c759ca9135f6c8e056ce"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/914154f0ccf2a18a273c7fdb3e80016732149303",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXtrNmAAoJECnUvLZBb1PsAi8QALPp4ZCyb+PwwgMv7DI9ivR1\nQDVIgwCSmTGP+8RjRn4va7g+mJhV0o5iBodq1/cQtQo/1r3CbDQ4OS3iQJ9Il/y4\n3hDeQF3mROTtsx/r/Pc9lEamUSwWlXeRzy150O5J+bcncZ9pF9Fq96lGF66PKXXZ\nPUAXbZ6srWX5mv6qsxYkPn7dYvGHWcKTbeR7KbKlcqoQ6eEq7F1auGe9sOWDyElD\nL1ZSPEONm8yppv4Gp/HMUSbc4pM1hoTKE3m8SRDw4wTj4zzvb+80LggXwsIO0grf\n7Wr1HE+uFlYlx4TYh+EOBuZv3SE6YxRoeCCpINVTNjZjsVL6qsGXt0obwenCWJrG\n9C8bk1Xpbcz5okllk9ILMmPv+DIe/ZkVkFM0ob7SUCJRy2E5F+PozGNiuzL1PTQe\n2HX12+LIZKy9jGG/NLgl+qq4Kyky/934Oa8XLrA9ZP16P0D5r534JMuEGUX41sla\nfJiQia2m/kOKOFHKh94PiL6ZdaPyCaJ6mc1TzsmKmsWRE8dPSRBtCjg7FM2+Gr3b\nu4NeNh8zAw1UHVR2/+ny2XrTd2kE0wW1MJtSSSg7eNEnOWlxqxoPlisfEJZ4e9F0\ny+GTmFO1EX7o8mB/PRSFysYXmVyMMqvsFuS8dAAb6b9//QQWrcs2fT5B/O6ojPTI\n9O9yr8RwQe1x0tT6El3v\n=knZM\n-----END PGP SIGNATURE-----",
        "payload": "tree f7b3c1f8a1e1550ee680c759ca9135f6c8e056ce\nparent 1030fa718c59c29d3208af13e853457b7ac59d2e\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1471435787 +0200\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1471591264 +0200\n\n[Qt] add HD enabled/disabled icon to the status bar\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/914154f0ccf2a18a273c7fdb3e80016732149303",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/914154f0ccf2a18a273c7fdb3e80016732149303",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/914154f0ccf2a18a273c7fdb3e80016732149303/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1030fa718c59c29d3208af13e853457b7ac59d2e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1030fa718c59c29d3208af13e853457b7ac59d2e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1030fa718c59c29d3208af13e853457b7ac59d2e"
      }
    ],
    "stats": {
      "total": 125,
      "additions": 107,
      "deletions": 18
    },
    "files": [
      {
        "sha": "cc4606ca88ad9e0d6286a2fe21ac2442d87a7357",
        "filename": "contrib/debian/copyright",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/contrib/debian/copyright",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/contrib/debian/copyright",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/debian/copyright?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -59,6 +59,10 @@ Files: src/qt/res/icons/tx_mined.png\n        src/qt/res/src/mine.svg\n        src/qt/res/icons/fontbigger.png\n        src/qt/res/icons/fontsmaller.png\n+       src/qt/res/icons/hd_disabled.png\n+       src/qt/res/src/hd_disabled.svg\n+       src/qt/res/icons/hd_enabled.png\n+       src/qt/res/src/hd_enabled.svg\n Copyright: Jonas Schnelli\n License: Expat\n Comment:"
      },
      {
        "sha": "8947aeaca0b14dd0359c0aff3fe9dd17d756058f",
        "filename": "src/Makefile.qt.include",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/Makefile.qt.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/Makefile.qt.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qt.include?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -257,6 +257,8 @@ RES_ICONS = \\\n   qt/res/icons/filesave.png \\\n   qt/res/icons/fontbigger.png \\\n   qt/res/icons/fontsmaller.png \\\n+  qt/res/icons/hd_disabled.png \\\n+  qt/res/icons/hd_enabled.png \\\n   qt/res/icons/history.png \\\n   qt/res/icons/info.png \\\n   qt/res/icons/key.png \\\n@@ -271,14 +273,14 @@ RES_ICONS = \\\n   qt/res/icons/synced.png \\\n   qt/res/icons/transaction0.png \\\n   qt/res/icons/transaction2.png \\\n+  qt/res/icons/transaction_abandoned.png \\\n   qt/res/icons/transaction_conflicted.png \\\n   qt/res/icons/tx_inout.png \\\n   qt/res/icons/tx_input.png \\\n   qt/res/icons/tx_output.png \\\n   qt/res/icons/tx_mined.png \\\n   qt/res/icons/warning.png \\\n-  qt/res/icons/verify.png \\\n-  qt/res/icons/transaction_abandoned.png\n+  qt/res/icons/verify.png\n \n BITCOIN_QT_CPP = \\\n   qt/bantablemodel.cpp \\"
      },
      {
        "sha": "ca5b1fa67321cdbadc85d3651e0be9c97cce61ce",
        "filename": "src/qt/bitcoin.qrc",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoin.qrc",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoin.qrc",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.qrc?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -50,6 +50,8 @@\n         <file alias=\"fontsmaller\">res/icons/fontsmaller.png</file>\n         <file alias=\"prompticon\">res/icons/chevron.png</file>\n         <file alias=\"transaction_abandoned\">res/icons/transaction_abandoned.png</file>\n+        <file alias=\"hd_enabled\">res/icons/hd_enabled.png</file>\n+        <file alias=\"hd_disabled\">res/icons/hd_disabled.png</file>\n     </qresource>\n     <qresource prefix=\"/movies\">\n         <file alias=\"spinner-000\">res/movies/spinner-000.png</file>"
      },
      {
        "sha": "272df3fdae42c86f200dd6f77590eec052cfbf91",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 22,
        "deletions": 10,
        "changes": 32,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -80,7 +80,8 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *n\n     clientModel(0),\n     walletFrame(0),\n     unitDisplayControl(0),\n-    labelEncryptionIcon(0),\n+    labelWalletEncryptionIcon(0),\n+    labelWalletHDStatusIcon(0),\n     labelConnectionsIcon(0),\n     labelBlocksIcon(0),\n     progressBarLabel(0),\n@@ -194,15 +195,17 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *platformStyle, const NetworkStyle *n\n     frameBlocksLayout->setContentsMargins(3,0,3,0);\n     frameBlocksLayout->setSpacing(3);\n     unitDisplayControl = new UnitDisplayStatusBarControl(platformStyle);\n-    labelEncryptionIcon = new QLabel();\n+    labelWalletEncryptionIcon = new QLabel();\n+    labelWalletHDStatusIcon = new QLabel();\n     labelConnectionsIcon = new QLabel();\n     labelBlocksIcon = new QLabel();\n     if(enableWallet)\n     {\n         frameBlocksLayout->addStretch();\n         frameBlocksLayout->addWidget(unitDisplayControl);\n         frameBlocksLayout->addStretch();\n-        frameBlocksLayout->addWidget(labelEncryptionIcon);\n+        frameBlocksLayout->addWidget(labelWalletEncryptionIcon);\n+        frameBlocksLayout->addWidget(labelWalletHDStatusIcon);\n     }\n     frameBlocksLayout->addStretch();\n     frameBlocksLayout->addWidget(labelConnectionsIcon);\n@@ -988,28 +991,37 @@ bool BitcoinGUI::handlePaymentRequest(const SendCoinsRecipient& recipient)\n     return false;\n }\n \n+void BitcoinGUI::setHDStatus(int hdEnabled)\n+{\n+    labelWalletHDStatusIcon->setPixmap(platformStyle->SingleColorIcon(hdEnabled ? \":/icons/hd_enabled\" : \":/icons/hd_disabled\").pixmap(STATUSBAR_ICONSIZE,STATUSBAR_ICONSIZE));\n+    labelWalletHDStatusIcon->setToolTip(hdEnabled ? tr(\"HD key generation is <b>enabled</b>\") : tr(\"HD key generation is <b>disabled</b>\"));\n+\n+    // eventually disable the QLabel to set its opacity to 50% \n+    labelWalletHDStatusIcon->setEnabled(hdEnabled);\n+}\n+\n void BitcoinGUI::setEncryptionStatus(int status)\n {\n     switch(status)\n     {\n     case WalletModel::Unencrypted:\n-        labelEncryptionIcon->hide();\n+        labelWalletEncryptionIcon->hide();\n         encryptWalletAction->setChecked(false);\n         changePassphraseAction->setEnabled(false);\n         encryptWalletAction->setEnabled(true);\n         break;\n     case WalletModel::Unlocked:\n-        labelEncryptionIcon->show();\n-        labelEncryptionIcon->setPixmap(platformStyle->SingleColorIcon(\":/icons/lock_open\").pixmap(STATUSBAR_ICONSIZE,STATUSBAR_ICONSIZE));\n-        labelEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>unlocked</b>\"));\n+        labelWalletEncryptionIcon->show();\n+        labelWalletEncryptionIcon->setPixmap(platformStyle->SingleColorIcon(\":/icons/lock_open\").pixmap(STATUSBAR_ICONSIZE,STATUSBAR_ICONSIZE));\n+        labelWalletEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>unlocked</b>\"));\n         encryptWalletAction->setChecked(true);\n         changePassphraseAction->setEnabled(true);\n         encryptWalletAction->setEnabled(false); // TODO: decrypt currently not supported\n         break;\n     case WalletModel::Locked:\n-        labelEncryptionIcon->show();\n-        labelEncryptionIcon->setPixmap(platformStyle->SingleColorIcon(\":/icons/lock_closed\").pixmap(STATUSBAR_ICONSIZE,STATUSBAR_ICONSIZE));\n-        labelEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>locked</b>\"));\n+        labelWalletEncryptionIcon->show();\n+        labelWalletEncryptionIcon->setPixmap(platformStyle->SingleColorIcon(\":/icons/lock_closed\").pixmap(STATUSBAR_ICONSIZE,STATUSBAR_ICONSIZE));\n+        labelWalletEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>locked</b>\"));\n         encryptWalletAction->setChecked(true);\n         changePassphraseAction->setEnabled(true);\n         encryptWalletAction->setEnabled(false); // TODO: decrypt currently not supported"
      },
      {
        "sha": "41770929b47067156ba9f49dfc09ab695bcaad2c",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 8,
        "deletions": 1,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -82,7 +82,8 @@ class BitcoinGUI : public QMainWindow\n     WalletFrame *walletFrame;\n \n     UnitDisplayStatusBarControl *unitDisplayControl;\n-    QLabel *labelEncryptionIcon;\n+    QLabel *labelWalletEncryptionIcon;\n+    QLabel *labelWalletHDStatusIcon;\n     QLabel *labelConnectionsIcon;\n     QLabel *labelBlocksIcon;\n     QLabel *progressBarLabel;\n@@ -169,6 +170,12 @@ public Q_SLOTS:\n     */\n     void setEncryptionStatus(int status);\n \n+    /** Set the hd-enabled status as shown in the UI.\n+     @param[in] status            current hd enabled status\n+     @see WalletModel::EncryptionStatus\n+     */\n+    void setHDStatus(int hdEnabled);\n+\n     bool handlePaymentRequest(const SendCoinsRecipient& recipient);\n \n     /** Show incoming transaction notification for new transactions. */"
      },
      {
        "sha": "687b6d2e38e9e3f8955072574ce644735a249982",
        "filename": "src/qt/res/icons/hd_disabled.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/icons/hd_disabled.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/icons/hd_disabled.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/icons/hd_disabled.png?ref=914154f0ccf2a18a273c7fdb3e80016732149303"
      },
      {
        "sha": "568dde1cd1c1dba2dc1d575365ecd89aa7e55f68",
        "filename": "src/qt/res/icons/hd_enabled.png",
        "status": "added",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/icons/hd_enabled.png",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/icons/hd_enabled.png",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/icons/hd_enabled.png?ref=914154f0ccf2a18a273c7fdb3e80016732149303"
      },
      {
        "sha": "035f4431c7a925033a00e437a0d6e68c9ce9c10c",
        "filename": "src/qt/res/src/hd_disabled.svg",
        "status": "added",
        "additions": 26,
        "deletions": 0,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/src/hd_disabled.svg",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/src/hd_disabled.svg",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/src/hd_disabled.svg?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -0,0 +1,26 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n+<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n+<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n+<svg version=\"1.1\" id=\"Ebene_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n+\t viewBox=\"0 0 595.3 841.9\" enable-background=\"new 0 0 595.3 841.9\" xml:space=\"preserve\">\r\n+<g>\r\n+\t<path d=\"M81.3,336.5v66.8h70.4v-66.8H190v174h-38.3v-75.1H81.3v75.1H43v-174H81.3z\"/>\r\n+\t<path d=\"M298.7,336.5c11.2,0,21.6,1.8,31.3,5.4c9.7,3.6,18,8.9,25.1,16.1c7.1,7.2,12.6,16.1,16.6,26.8c4,10.7,6,23.3,6,37.8\r\n+\t\tc0,12.7-1.6,24.4-4.9,35.1c-3.3,10.7-8.2,20-14.7,27.8c-6.6,7.8-14.8,13.9-24.6,18.4c-9.8,4.5-21.4,6.7-34.7,6.7h-75.1v-174H298.7z\r\n+\t\t M296,478.3c5.5,0,10.9-0.9,16.1-2.7c5.2-1.8,9.8-4.8,13.9-8.9c4.1-4.1,7.3-9.5,9.7-16.2c2.4-6.7,3.7-14.8,3.7-24.4\r\n+\t\tc0-8.8-0.9-16.7-2.6-23.8s-4.5-13.1-8.4-18.2c-3.9-5-9.1-8.9-15.5-11.6c-6.4-2.7-14.3-4-23.8-4h-27.3v109.7H296z\"/>\r\n+</g>\r\n+<g>\r\n+\t<g>\r\n+\t\t<line x1=\"32\" y1=\"555.9\" x2=\"358\" y2=\"293.9\"/>\r\n+\t</g>\r\n+\t<g>\r\n+\t\t<path fill=\"#FFFFFF\" d=\"M32,580.9c-7.3,0-14.6-3.2-19.5-9.3c-8.6-10.8-6.9-26.5,3.8-35.1l326-262c10.8-8.6,26.5-6.9,35.1,3.8\r\n+\t\t\tc8.6,10.8,6.9,26.5-3.8,35.1l-326,262C43,579.1,37.5,580.9,32,580.9z\"/>\r\n+\t</g>\r\n+\t<g>\r\n+\t\t<path d=\"M32,573.9c-5.3,0-10.5-2.3-14-6.7c-6.2-7.7-5-19.1,2.8-25.3l326-262c7.8-6.2,19.1-5,25.3,2.8c6.2,7.7,5,19.1-2.8,25.3\r\n+\t\t\tl-326,262C40,572.6,36,573.9,32,573.9z\"/>\r\n+\t</g>\r\n+</g>\r\n+</svg>\r"
      },
      {
        "sha": "cbaa16f8f0be3a385a7297c2247ce04a9129287e",
        "filename": "src/qt/res/src/hd_enabled.svg",
        "status": "added",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/src/hd_enabled.svg",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/res/src/hd_enabled.svg",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/res/src/hd_enabled.svg?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -0,0 +1,13 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n+<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n+<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n+<svg version=\"1.1\" id=\"Ebene_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n+\t viewBox=\"0 0 595.3 841.9\" enable-background=\"new 0 0 595.3 841.9\" xml:space=\"preserve\">\r\n+<g>\r\n+\t<path d=\"M81.3,336.5v66.8h70.4v-66.8H190v174h-38.3v-75.1H81.3v75.1H43v-174H81.3z\"/>\r\n+\t<path d=\"M298.7,336.5c11.2,0,21.6,1.8,31.3,5.4c9.7,3.6,18,8.9,25.1,16.1c7.1,7.2,12.6,16.1,16.6,26.8c4,10.7,6,23.3,6,37.8\r\n+\t\tc0,12.7-1.6,24.4-4.9,35.1c-3.3,10.7-8.2,20-14.7,27.8c-6.6,7.8-14.8,13.9-24.6,18.4c-9.8,4.5-21.4,6.7-34.7,6.7h-75.1v-174H298.7z\r\n+\t\t M296,478.3c5.5,0,10.9-0.9,16.1-2.7c5.2-1.8,9.8-4.8,13.9-8.9c4.1-4.1,7.3-9.5,9.7-16.2c2.4-6.7,3.7-14.8,3.7-24.4\r\n+\t\tc0-8.8-0.9-16.7-2.6-23.8s-4.5-13.1-8.4-18.2c-3.9-5-9.1-8.9-15.5-11.6c-6.4-2.7-14.3-4-23.8-4h-27.3v109.7H296z\"/>\r\n+</g>\r\n+</svg>\r"
      },
      {
        "sha": "ae7efc7a0d40b7480e41878094f3057ab805e487",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -683,3 +683,8 @@ bool WalletModel::abandonTransaction(uint256 hash) const\n     LOCK2(cs_main, wallet->cs_wallet);\n     return wallet->AbandonTransaction(hash);\n }\n+\n+bool WalletModel::hdEnabled() const\n+{\n+    return wallet->IsHDEnabled();\n+}"
      },
      {
        "sha": "a15ecf899b87a4bae30d3b774210fd68d954936c",
        "filename": "src/qt/walletmodel.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.h?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -203,6 +203,8 @@ class WalletModel : public QObject\n     bool transactionCanBeAbandoned(uint256 hash) const;\n     bool abandonTransaction(uint256 hash) const;\n \n+    bool hdEnabled() const;\n+\n private:\n     CWallet *wallet;\n     bool fHaveWatchOnly;"
      },
      {
        "sha": "495ebfd834bfc56fcc32fe5f1cbff6f93246855d",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -98,6 +98,9 @@ void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n \n         // Pass through transaction notifications\n         connect(this, SIGNAL(incomingTransaction(QString,int,CAmount,QString,QString,QString)), gui, SLOT(incomingTransaction(QString,int,CAmount,QString,QString,QString)));\n+\n+        // Connect HD enabled state signal \n+        connect(this, SIGNAL(hdEnabledStatusChanged(int)), gui, SLOT(setHDStatus(int)));\n     }\n }\n \n@@ -130,6 +133,9 @@ void WalletView::setWalletModel(WalletModel *walletModel)\n         connect(walletModel, SIGNAL(encryptionStatusChanged(int)), this, SIGNAL(encryptionStatusChanged(int)));\n         updateEncryptionStatus();\n \n+        // update HD status\n+        Q_EMIT hdEnabledStatusChanged(walletModel->hdEnabled());\n+\n         // Balloon pop-up for new transaction\n         connect(walletModel->getTransactionTableModel(), SIGNAL(rowsInserted(QModelIndex,int,int)),\n                 this, SLOT(processNewTransaction(QModelIndex,int,int)));"
      },
      {
        "sha": "2045605954d23b5a971858a6331c999f1bc6d4f5",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -117,6 +117,8 @@ public Q_SLOTS:\n     void message(const QString &title, const QString &message, unsigned int style);\n     /** Encryption status of wallet changed */\n     void encryptionStatusChanged(int status);\n+    /** HD-Enabled status of wallet changed (only possible during startup) */\n+    void hdEnabledStatusChanged(int hdEnabled);\n     /** Notify that a new transaction appeared */\n     void incomingTransaction(const QString& date, int unit, const CAmount& amount, const QString& type, const QString& address, const QString& label);\n };"
      },
      {
        "sha": "22a6f9087cb249ca26b90fbdd7b0986d7b1c249f",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 5,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -98,7 +98,7 @@ CPubKey CWallet::GenerateNewKey()\n     CKeyMetadata metadata(nCreationTime);\n \n     // use HD key derivation if HD was enabled during wallet creation\n-    if (!hdChain.masterKeyID.IsNull()) {\n+    if (IsHDEnabled()) {\n         // for now we use a fixed keypath scheme of m/0'/0'/k\n         CKey key;                      //master key seed (256bit)\n         CExtKey masterKey;             //hd master key\n@@ -628,7 +628,7 @@ bool CWallet::EncryptWallet(const SecureString& strWalletPassphrase)\n         Unlock(strWalletPassphrase);\n \n         // if we are using HD, replace the HD master key (seed) with a new one\n-        if (!hdChain.masterKeyID.IsNull()) {\n+        if (IsHDEnabled()) {\n             CKey key;\n             CPubKey masterPubKey = GenerateNewHDMasterKey();\n             if (!SetHDMasterKey(masterPubKey))\n@@ -1233,6 +1233,11 @@ bool CWallet::SetHDChain(const CHDChain& chain, bool memonly)\n     return true;\n }\n \n+bool CWallet::IsHDEnabled()\n+{\n+    return !hdChain.masterKeyID.IsNull();\n+}\n+\n int64_t CWalletTx::GetTxTime() const\n {\n     int64_t n = nTimeSmart;\n@@ -3322,7 +3327,7 @@ bool CWallet::InitLoadWallet()\n     if (fFirstRun)\n     {\n         // Create new keyUser and set as default key\n-        if (GetBoolArg(\"-usehd\", DEFAULT_USE_HD_WALLET) && walletInstance->hdChain.masterKeyID.IsNull()) {\n+        if (GetBoolArg(\"-usehd\", DEFAULT_USE_HD_WALLET) && !walletInstance->IsHDEnabled()) {\n             // generate a new master key\n             CKey key;\n             CPubKey masterPubKey = walletInstance->GenerateNewHDMasterKey();\n@@ -3340,9 +3345,9 @@ bool CWallet::InitLoadWallet()\n     }\n     else if (mapArgs.count(\"-usehd\")) {\n         bool useHD = GetBoolArg(\"-usehd\", DEFAULT_USE_HD_WALLET);\n-        if (!walletInstance->hdChain.masterKeyID.IsNull() && !useHD)\n+        if (walletInstance->IsHDEnabled() && !useHD)\n             return InitError(strprintf(_(\"Error loading %s: You can't disable HD on a already existing HD wallet\"), walletFile));\n-        if (walletInstance->hdChain.masterKeyID.IsNull() && useHD)\n+        if (!walletInstance->IsHDEnabled() && useHD)\n             return InitError(strprintf(_(\"Error loading %s: You can't enable HD on a already existing non-HD wallet\"), walletFile));\n     }\n "
      },
      {
        "sha": "30f092e9a812d7c9bc1f1c876defd9074a25af6e",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/914154f0ccf2a18a273c7fdb3e80016732149303/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/914154f0ccf2a18a273c7fdb3e80016732149303/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=914154f0ccf2a18a273c7fdb3e80016732149303",
        "patch": "@@ -902,6 +902,9 @@ class CWallet : public CCryptoKeyStore, public CValidationInterface\n     bool SetHDChain(const CHDChain& chain, bool memonly);\n     const CHDChain& GetHDChain() { return hdChain; }\n \n+    /* Returns true if HD is enabled */\n+    bool IsHDEnabled();\n+\n     /* Generates a new HD master key (will not be activated) */\n     CPubKey GenerateNewHDMasterKey();\n     "
      }
    ]
  }
]