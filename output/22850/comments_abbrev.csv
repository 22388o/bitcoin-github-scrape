DrahtBot,2021-08-31 19:43:22,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22976](https://github.com/bitcoin/bitcoin/pull/22976) (scripted-diff: Rename overloaded int GetArg to GetIntArg by ryano",https://github.com/bitcoin/bitcoin/pull/22850#issuecomment-909555946,909555946,
theStack,2021-09-05 12:02:57,Concept ACK,https://github.com/bitcoin/bitcoin/pull/22850#issuecomment-913141417,913141417,
DrahtBot,2021-09-16 16:01:31,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/22850#issuecomment-921031369,921031369,
jnewbery,2021-09-28 08:55:11,Concept ACK,https://github.com/bitcoin/bitcoin/pull/22850#issuecomment-928992191,928992191,
MarcoFalke,2021-09-02 10:24:02,Wouldn't the same check be needed for `BLOCKTXN`?,https://github.com/bitcoin/bitcoin/pull/22850#discussion_r700952750,700952750,src/net_processing.cpp
MarcoFalke,2021-09-02 10:26:53,Wouldn't it be safer to set the block to nullptr when the mempool is nullptr?,https://github.com/bitcoin/bitcoin/pull/22850#discussion_r700954602,700954602,src/net_processing.cpp
MarcoFalke,2021-09-02 10:32:42,"If you pick this suggestion, you can also add a separate commit to document the expectation that `PartiallyDownloadedBlock` assumes a reference (doesn't accept nullptr) and that `InitData` without a pool is UB/Crash.\n\n```diff\ndiff --git a/src/blockencodings.cpp b/src/blockencodings.cpp\nindex aa111b5939..8f77c4afd6 100644\n--- a/src/blockencodings.cpp\n+++ b/src/blockencodings.cpp\n@@ -4",https://github.com/bitcoin/bitcoin/pull/22850#discussion_r700958398,700958398,src/net_processing.cpp
MarcoFalke,2021-09-02 10:45:02,"```suggestion\n    if (!Assume(m_mempool)) return false;\n```\n\nIt would be nice if this function wasn't called when no mempool exists. If you agree, I think it makes sense to skip calling this function when txs aren't expected at all:\n\n```diff\ndiff --git a/src/net_processing.cpp b/src/net_processing.cpp\nindex 3ad34e83ba..68e381db60 100644\n--- a/src/net_processing.cpp\n+++ b/src/ne",https://github.com/bitcoin/bitcoin/pull/22850#discussion_r700966796,700966796,src/net_processing.cpp
MarcoFalke,2021-09-20 15:48:50,Done in #23042 ,https://github.com/bitcoin/bitcoin/pull/22850#discussion_r712296435,712296435,src/net_processing.cpp
