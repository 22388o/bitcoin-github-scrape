[
  {
    "sha": "2eca48c1caae5398c34020dc2f0bb58d2405d011",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZWNhNDhjMWNhYWU1Mzk4YzM0MDIwZGMyZjBiYjU4ZDI0MDVkMDEx",
    "commit": {
      "author": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-14T22:29:23Z"
      },
      "committer": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-14T22:48:56Z"
      },
      "message": "testing linting travis -> cirrus",
      "tree": {
        "sha": "c7b598a93e48e6b3239543319834138140faf6e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c7b598a93e48e6b3239543319834138140faf6e5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2eca48c1caae5398c34020dc2f0bb58d2405d011",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2eca48c1caae5398c34020dc2f0bb58d2405d011",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2eca48c1caae5398c34020dc2f0bb58d2405d011",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2eca48c1caae5398c34020dc2f0bb58d2405d011/comments",
    "author": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "25bc840e038f5cc3a1d70d6fbaf1dc2eb2c6e460",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25bc840e038f5cc3a1d70d6fbaf1dc2eb2c6e460",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/25bc840e038f5cc3a1d70d6fbaf1dc2eb2c6e460"
      }
    ],
    "stats": {
      "total": 248,
      "additions": 136,
      "deletions": 112
    },
    "files": [
      {
        "sha": "430842ca2a42a9729bfc1c816d6c8869e7a8f09d",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 114,
        "deletions": 104,
        "changes": 218,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2eca48c1caae5398c34020dc2f0bb58d2405d011/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2eca48c1caae5398c34020dc2f0bb58d2405d011/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=2eca48c1caae5398c34020dc2f0bb58d2405d011",
        "patch": "@@ -54,108 +54,118 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n #  install_script:\n #    - choco install python --version=3.7.7 -y\n \n-task:\n-  name: 'ARM [unit tests, no functional tests] [buster]'\n-  << : *GLOBAL_TASK_TEMPLATE\n+lint_task:\n+  name: 'lint'\n+  skip: $CIRRUS_REPO_FULL_NAME == \"bitcoin-core/gui\" && $CIRRUS_PR == \"\"  # No need to run on the read-only mirror, unless it is a PR.\n   container:\n-    image: debian:buster\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_arm.sh\"\n-\n-task:\n-  name: 'Win64 [unit tests, no gui tests, no boost::process, no functional tests] [bionic]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:bionic\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_win64.sh\"\n-\n-task:\n-  name: '32-bit + dash [gui] [CentOS 8]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: centos:8\n-  env:\n-    PACKAGE_MANAGER_INSTALL: \"yum install -y\"\n-    FILE_ENV: \"./ci/test/00_setup_env_i686_centos.sh\"\n-\n-task:\n-  name: '[previous releases, uses qt5 dev package and some depends packages] [unsigned char] [bionic]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:bionic\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_qt5.sh\"\n-\n-task:\n-  name: '[depends, sanitizers: thread (TSan), no gui] [focal]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:focal\n-    cpu: 4  # Double CPU and increase Memory to avoid timeout\n-    memory: 24G\n-  env:\n-    MAKEJOBS: \"-j8\"\n-    FILE_ENV: \"./ci/test/00_setup_env_native_tsan.sh\"\n-\n-task:\n-  name: '[depends, sanitizers: memory (MSan)] [focal]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:focal\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_msan.sh\"\n-\n-task:\n-  name: '[no depends, sanitizers: address/leak (ASan + LSan) + undefined (UBSan) + integer] [focal]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:focal\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_asan.sh\"\n-\n-task:\n-  name: '[no depends, sanitizers: fuzzer,address,undefined] [focal]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:focal\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_fuzz.sh\"\n-\n-task:\n-  name: '[multiprocess] [focal]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:focal\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_multiprocess.sh\"\n-\n-task:\n-  name: '[no wallet] [bionic]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:bionic\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_native_nowallet.sh\"\n-\n-task:\n-  name: 'macOS 10.14 [gui, no tests] [bionic]'\n-  << : *GLOBAL_TASK_TEMPLATE\n-  container:\n-    image: ubuntu:bionic\n-  env:\n-    FILE_ENV: \"./ci/test/00_setup_env_mac.sh\"\n-\n-task:\n-  name: 'macOS 10.15 native [gui] [no depends]'\n-  macos_brew_addon_script:\n-    - brew install boost libevent berkeley-db4 qt miniupnpc ccache zeromq qrencode sqlite libtool automake pkg-config gnu-getopt\n-  << : *GLOBAL_TASK_TEMPLATE\n-  osx_instance:\n-    # Use latest image, but hardcode version to avoid silent upgrades (and breaks)\n-    image: catalina-xcode-12.1  # https://cirrus-ci.org/guide/macOS\n-  env:\n-    DANGER_RUN_CI_ON_HOST: \"true\"\n-    CI_USE_APT_INSTALL: \"no\"\n-    PACKAGE_MANAGER_INSTALL: \"echo\"  # Nothing to do\n-    FILE_ENV: \"./ci/test/00_setup_env_mac_host.sh\"\n+    image: python:slim\n+  fingerprint_script: echo $PYTHON_VERSION\n+  pip_cache:\n+    folder: /tmp/pip_cache_dir\n+  script: set -o errexit; source ./ci/lint/lint_run_all.sh\n+\n+# task:\n+#   name: 'ARM [unit tests, no functional tests] [buster]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: debian:buster\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_arm.sh\"\n+\n+# task:\n+#   name: 'Win64 [unit tests, no gui tests, no boost::process, no functional tests] [bionic]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:bionic\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_win64.sh\"\n+\n+# task:\n+#   name: '32-bit + dash [gui] [CentOS 8]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: centos:8\n+#   env:\n+#     PACKAGE_MANAGER_INSTALL: \"yum install -y\"\n+#     FILE_ENV: \"./ci/test/00_setup_env_i686_centos.sh\"\n+\n+# task:\n+#   name: '[previous releases, uses qt5 dev package and some depends packages] [unsigned char] [bionic]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:bionic\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_qt5.sh\"\n+\n+# task:\n+#   name: '[depends, sanitizers: thread (TSan), no gui] [focal]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:focal\n+#     cpu: 4  # Double CPU and increase Memory to avoid timeout\n+#     memory: 24G\n+#   env:\n+#     MAKEJOBS: \"-j8\"\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_tsan.sh\"\n+\n+# task:\n+#   name: '[depends, sanitizers: memory (MSan)] [focal]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:focal\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_msan.sh\"\n+\n+# task:\n+#   name: '[no depends, sanitizers: address/leak (ASan + LSan) + undefined (UBSan) + integer] [focal]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:focal\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_asan.sh\"\n+\n+# task:\n+#   name: '[no depends, sanitizers: fuzzer,address,undefined] [focal]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:focal\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_fuzz.sh\"\n+\n+# task:\n+#   name: '[multiprocess] [focal]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:focal\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_multiprocess.sh\"\n+\n+# task:\n+#   name: '[no wallet] [bionic]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:bionic\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_native_nowallet.sh\"\n+\n+# task:\n+#   name: 'macOS 10.14 [gui, no tests] [bionic]'\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   container:\n+#     image: ubuntu:bionic\n+#   env:\n+#     FILE_ENV: \"./ci/test/00_setup_env_mac.sh\"\n+\n+# task:\n+#   name: 'macOS 10.15 native [gui] [no depends]'\n+#   macos_brew_addon_script:\n+#     - brew install boost libevent berkeley-db4 qt miniupnpc ccache zeromq qrencode sqlite libtool automake pkg-config gnu-getopt\n+#   << : *GLOBAL_TASK_TEMPLATE\n+#   osx_instance:\n+#     # Use latest image, but hardcode version to avoid silent upgrades (and breaks)\n+#     image: catalina-xcode-12.1  # https://cirrus-ci.org/guide/macOS\n+#   env:\n+#     DANGER_RUN_CI_ON_HOST: \"true\"\n+#     CI_USE_APT_INSTALL: \"no\"\n+#     PACKAGE_MANAGER_INSTALL: \"echo\"  # Nothing to do\n+#     FILE_ENV: \"./ci/test/00_setup_env_mac_host.sh\""
      },
      {
        "sha": "4962e9c8d6d408c393b903c9887c07c410197e44",
        "filename": "ci/lint/04_install.sh",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/04_install.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/04_install.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/04_install.sh?ref=2eca48c1caae5398c34020dc2f0bb58d2405d011",
        "patch": "@@ -6,14 +6,14 @@\n \n export LC_ALL=C\n \n-travis_retry sudo apt update && sudo apt install -y clang-format-9\n-sudo update-alternatives --install /usr/bin/clang-format      clang-format      $(which clang-format-9     ) 100\n-sudo update-alternatives --install /usr/bin/clang-format-diff clang-format-diff $(which clang-format-diff-9) 100\n+apt update && apt install -y clang-format-9\n+update-alternatives --install /usr/bin/clang-format      clang-format      $(which clang-format-9     ) 100\n+update-alternatives --install /usr/bin/clang-format-diff clang-format-diff $(which clang-format-diff-9) 100\n \n-travis_retry pip3 install codespell==1.17.1\n-travis_retry pip3 install flake8==3.8.3\n-travis_retry pip3 install yq\n-travis_retry pip3 install mypy==0.781\n+pip3 install codespell==1.17.1\n+pip3 install flake8==3.8.3\n+pip3 install yq\n+pip3 install mypy==0.781\n \n SHELLCHECK_VERSION=v0.7.1\n curl -sL \"https://github.com/koalaman/shellcheck/releases/download/${SHELLCHECK_VERSION}/shellcheck-${SHELLCHECK_VERSION}.linux.x86_64.tar.xz\" | tar --xz -xf - --directory /tmp/"
      },
      {
        "sha": "a6cbde08129db700b05c2604fbe9680d37ed65ca",
        "filename": "ci/lint/06_script.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/06_script.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/06_script.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/06_script.sh?ref=2eca48c1caae5398c34020dc2f0bb58d2405d011",
        "patch": "@@ -27,6 +27,6 @@ test/lint/lint-all.sh\n \n if [ \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" ] && [ \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then\n     git log --merges --before=\"2 days ago\" -1 --format='%H' > ./contrib/verify-commits/trusted-sha512-root-commit\n-    travis_retry gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys $(<contrib/verify-commits/trusted-keys) &&\n+    gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys $(<contrib/verify-commits/trusted-keys) &&\n     ./contrib/verify-commits/verify-commits.py --clean-merge=2;\n fi"
      },
      {
        "sha": "e7c867a4fbd6dacd6cff7b6271f72a030169a5a7",
        "filename": "ci/lint/lint_run_all.sh",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/lint_run_all.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2eca48c1caae5398c34020dc2f0bb58d2405d011/ci/lint/lint_run_all.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/lint_run_all.sh?ref=2eca48c1caae5398c34020dc2f0bb58d2405d011",
        "patch": "@@ -0,0 +1,14 @@\n+#!/usr/bin/env bash\n+#\n+# Copyright (c) 2019 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+export LC_ALL=C.UTF-8\n+\n+set -o errexit; source ./ci/test/00_setup_env.sh\n+set -o errexit; source ./ci/test/03_before_install.sh\n+set -o errexit; source ./ci/lint/04_install.sh\n+set -o errexit; source ./ci/lint/05_before_script.sh\n+set -o errexit; source ./ci/lint/06_script.sh\n+"
      }
    ]
  }
]