jonasschnelli,2015-11-07T19:44:33Z,Concept ACK.\nTravis repots issue with rpc tests. Keeping the DB connection permanently open – I agree – is the way to go. Although it might introduce new bugs.\n,https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154742290,154742290,
pstratem,2015-11-08T07:29:44Z,@jonasschnelli this is very very much a WIP :)\n,https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154782026,154782026,
jonasschnelli,2015-11-08T08:52:01Z,Right. I almost oversaw the WIP tag.\nNice work btw!\n,https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154789923,154789923,
laanwj,2015-11-09T05:32:01Z,"Have you measured the performance improvements?\n\nConcept ACK but I'm not convinced that this will not result in less robustness with regard to database flushes (see my other comment). This is essential, even more so for the wallet than for the utxo database.\n",https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154936443,154936443,
pstratem,2015-11-09T05:44:50Z,"@laanwj I have not specifically but ""much much much faster"" is how i would describe it\n",https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154941354,154941354,
laanwj,2015-11-09T05:59:44Z,"OK. That's good to hear. Just need to verify that it doesn't come at the expense of robustness, then.\n",https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-154948252,154948252,
pstratem,2015-11-18T22:01:27Z,@laanwj CDB::~CDB simply calls CDB::Close which basically just calls Flush\n\nSo it's simply a matter of ensuring that we call Flush properly\n,https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-157878641,157878641,
pstratem,2015-11-18T22:02:45Z,"The easier thing to do is to simple change the default for fFlushOnClose to false, but that doesn't allow for optimizing batch operations such as keypoolrefill (which was actually my original motivation for this change).\n",https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-157878947,157878947,
pstratem,2015-11-21T00:36:55Z,Will do this more incrementally.\n,https://github.com/bitcoin/bitcoin/pull/6966#issuecomment-158567230,158567230,
laanwj,2015-11-09T05:33:10Z,There is a reason we create CWalletDB objects every time per operation. From what I remember this assures that the transactions are closed/flushed properly.\n,https://github.com/bitcoin/bitcoin/pull/6966#discussion_r44242457,44242457,src/wallet/wallet.cpp
