[
  {
    "sha": "eb4c43e49f625895670866b89bb56ca641c4eeb7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplYjRjNDNlNDlmNjI1ODk1NjcwODY2Yjg5YmI1NmNhNjQxYzRlZWI3",
    "commit": {
      "author": {
        "name": "marcoagner",
        "email": "marco@agner.io",
        "date": "2019-03-20T22:38:10Z"
      },
      "committer": {
        "name": "marcoagner",
        "email": "marco@agner.io",
        "date": "2019-03-20T22:38:10Z"
      },
      "message": "doc: documents how to calculate m_assumed_blockchain_size and m_assumed_chain_state_size on the release process.",
      "tree": {
        "sha": "33729e25a6ecada58bb9679f74b207042d161935",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33729e25a6ecada58bb9679f74b207042d161935"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/eb4c43e49f625895670866b89bb56ca641c4eeb7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEBVLlIGnnSaHbHcvrDcd/xh7T7MQFAlySwNIACgkQDcd/xh7T\n7MQchg/+IqALIeNdWcRONHGiwHwQIPOigeJ8I2oRasgS7hDXlB5ym+uu5GjABVWo\nUHS3mLm2Hy8Nm3KXAwZqrhwlp9/Gn5ejt7UBaqHnDbHNK6FVXBIx2Npl3HU/jiIO\nEH8HwMk6eHrnzckzpGjf0Oawpnprkde1Ew+fGK2V9qKtad34WL7wGW7TY4jKfc0R\nr6eTYjCJ1dPvZl3g1Wbfz1I5ZlRCw8YQQ0VkT7BgQ0n2rkTLaqZdrLDGNv4b/r5p\n8lD2aJc1RXbqKsMXWnmIopKelc1rATvv7aJXVCGnvA12GM5OSjrs/huZ2qolmuF1\nmjuyfX2UfcVklbvCt4NW733ImVMMxJ5+9swNfdC1tJZLMAykBBOtWaJnCPtJ7Y/a\nCuuapA5+XAKdE/Rux3u3mE/VDzURPXXw9md6aEo6QF9LCY9zN0mopJBrril7VT2r\nAwVc3+Y6OLv58EHfOM83KRalQVL2JF9CJsxcFEQLa/1OAKG8I0796uNscBvY+SgK\n6vtfopEwMxF6iUNtwDkxxM1D+HXLiH+6NicUsgNY7UkuMzgMjmghCYTDfdHtxPNq\n3N/eR0Oh1RiI3tJHeh6ygElsTFQr5Lyf3HUIuL6PTAfJ3ezDpA2nlleGWO7mBZkR\nbwuokV8rXi3X9YgbvPOhaqOzXH8OLk6IbRYY8Pm3rhzmWU0UjSc=\n=5mfH\n-----END PGP SIGNATURE-----",
        "payload": "tree 33729e25a6ecada58bb9679f74b207042d161935\nparent b3f82284ba9035411b3d2d83b507549a4b12cfc8\nauthor marcoagner <marco@agner.io> 1553121490 +0100\ncommitter marcoagner <marco@agner.io> 1553121490 +0100\n\ndoc: documents how to calculate m_assumed_blockchain_size and m_assumed_chain_state_size on the release process.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb4c43e49f625895670866b89bb56ca641c4eeb7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/eb4c43e49f625895670866b89bb56ca641c4eeb7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/eb4c43e49f625895670866b89bb56ca641c4eeb7/comments",
    "author": {
      "login": "marcoagner",
      "id": 5016303,
      "node_id": "MDQ6VXNlcjUwMTYzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5016303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcoagner",
      "html_url": "https://github.com/marcoagner",
      "followers_url": "https://api.github.com/users/marcoagner/followers",
      "following_url": "https://api.github.com/users/marcoagner/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcoagner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcoagner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcoagner/subscriptions",
      "organizations_url": "https://api.github.com/users/marcoagner/orgs",
      "repos_url": "https://api.github.com/users/marcoagner/repos",
      "events_url": "https://api.github.com/users/marcoagner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcoagner/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "marcoagner",
      "id": 5016303,
      "node_id": "MDQ6VXNlcjUwMTYzMDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5016303?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/marcoagner",
      "html_url": "https://github.com/marcoagner",
      "followers_url": "https://api.github.com/users/marcoagner/followers",
      "following_url": "https://api.github.com/users/marcoagner/following{/other_user}",
      "gists_url": "https://api.github.com/users/marcoagner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/marcoagner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/marcoagner/subscriptions",
      "organizations_url": "https://api.github.com/users/marcoagner/orgs",
      "repos_url": "https://api.github.com/users/marcoagner/repos",
      "events_url": "https://api.github.com/users/marcoagner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/marcoagner/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b3f82284ba9035411b3d2d83b507549a4b12cfc8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b3f82284ba9035411b3d2d83b507549a4b12cfc8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b3f82284ba9035411b3d2d83b507549a4b12cfc8"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 21,
      "deletions": 1
    },
    "files": [
      {
        "sha": "8e1f9668129d94f26c56780363f14284f2bd1223",
        "filename": "doc/release-process.md",
        "status": "modified",
        "additions": 21,
        "deletions": 1,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/eb4c43e49f625895670866b89bb56ca641c4eeb7/doc/release-process.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/eb4c43e49f625895670866b89bb56ca641c4eeb7/doc/release-process.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-process.md?ref=eb4c43e49f625895670866b89bb56ca641c4eeb7",
        "patch": "@@ -23,7 +23,7 @@ Before every minor and major release:\n Before every major release:\n \n * Update hardcoded [seeds](/contrib/seeds/README.md), see [this pull request](https://github.com/bitcoin/bitcoin/pull/7415) for an example.\n-* Update [`src/chainparams.cpp`](/src/chainparams.cpp) m_assumed_blockchain_size and m_assumed_chain_state_size with the current size plus some overhead.\n+* Update [`src/chainparams.cpp`](/src/chainparams.cpp) m_assumed_blockchain_size and m_assumed_chain_state_size with the current size plus some overhead (see [this](#how-to-calculate-m_assumed_blockchain_size-and-m_assumed_chain_state_size) for information on how to calculate them).\n * Update `src/chainparams.cpp` chainTxData with statistics about the transaction count and rate. Use the output of the RPC `getchaintxstats`, see\n   [this pull request](https://github.com/bitcoin/bitcoin/pull/12270) for an example. Reviewers can verify the results by running `getchaintxstats <window_block_count> <window_last_block_hash>` with the `window_block_count` and `window_last_block_hash` from your output.\n * Update version of `contrib/gitian-descriptors/*.yml`: usually one'd want to do this on master after branching off the release - but be sure to at least do it before a new major release\n@@ -336,3 +336,23 @@ bitcoin.org (see below for bitcoin.org update instructions).\n   - Optionally twitter, reddit /r/Bitcoin, ... but this will usually sort out itself\n \n   - Celebrate\n+\n+### Additional information\n+\n+#### How to calculate `m_assumed_blockchain_size` and `m_assumed_chain_state_size`\n+\n+Both variables are used as a guideline for how much space the user needs on their drive in total, not just strictly for the blockchain.\n+Note that all values should be taken from a **fully synced** node and have an overhead of 5-10% added on top of its base value.\n+\n+To calculate `m_assumed_blockchain_size`:\n+- For `mainnet` -> Take the size of the Bitcoin data directory, excluding `/regtest` and `/testnet3` directories.\n+- For `testnet` -> Take the size of the `/testnet3` directory.\n+\n+\n+To calculate `m_assumed_chain_state_size`:\n+- For `mainnet` -> Take the size of the `/chainstate` directory.\n+- For `testnet` -> Take the size of the `/testnet3/chainstate` directory.\n+\n+Notes:\n+- When taking the size for `m_assumed_blockchain_size`, there's no need to exclude the `/chainstate` directory since it's a guideline value and an overhead will be added anyway.\n+- The expected overhead for growth may change over time, so it may not be the same value as last release; pay attention to that when changing the variables."
      }
    ]
  }
]