[
  {
    "sha": "e6efbf2658ae372fdd2611658ac5636cf989f29e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNmVmYmYyNjU4YWUzNzJmZGQyNjExNjU4YWM1NjM2Y2Y5ODlmMjll",
    "commit": {
      "author": {
        "name": "Zefir Kurtisi",
        "email": "zefir.kurtisi@gmail.com",
        "date": "2021-05-24T12:49:06Z"
      },
      "committer": {
        "name": "Zefir Kurtisi",
        "email": "zefir.kurtisi@gmail.com",
        "date": "2021-05-25T08:21:44Z"
      },
      "message": "consensus: remove redundant checks in merkle root computation\n\nIn ComputeMerkleRoot, the mutated flag is only set to\ntrue but never becomes false thereafter. Therefore\nall following tests after it became true are wasted\ncomputation. Fix this by doing the tests only while\nthe flag is false.\n\nSigned-off-by: Zefir Kurtisi <zefir.kurtisi@gmail.com>",
      "tree": {
        "sha": "716b535cb4a143d226f31f00d0c9a3f079fed577",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/716b535cb4a143d226f31f00d0c9a3f079fed577"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e6efbf2658ae372fdd2611658ac5636cf989f29e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e6efbf2658ae372fdd2611658ac5636cf989f29e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e6efbf2658ae372fdd2611658ac5636cf989f29e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e6efbf2658ae372fdd2611658ac5636cf989f29e/comments",
    "author": {
      "login": "zefir-k",
      "id": 1355386,
      "node_id": "MDQ6VXNlcjEzNTUzODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1355386?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zefir-k",
      "html_url": "https://github.com/zefir-k",
      "followers_url": "https://api.github.com/users/zefir-k/followers",
      "following_url": "https://api.github.com/users/zefir-k/following{/other_user}",
      "gists_url": "https://api.github.com/users/zefir-k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zefir-k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zefir-k/subscriptions",
      "organizations_url": "https://api.github.com/users/zefir-k/orgs",
      "repos_url": "https://api.github.com/users/zefir-k/repos",
      "events_url": "https://api.github.com/users/zefir-k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zefir-k/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "zefir-k",
      "id": 1355386,
      "node_id": "MDQ6VXNlcjEzNTUzODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1355386?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zefir-k",
      "html_url": "https://github.com/zefir-k",
      "followers_url": "https://api.github.com/users/zefir-k/followers",
      "following_url": "https://api.github.com/users/zefir-k/following{/other_user}",
      "gists_url": "https://api.github.com/users/zefir-k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zefir-k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zefir-k/subscriptions",
      "organizations_url": "https://api.github.com/users/zefir-k/orgs",
      "repos_url": "https://api.github.com/users/zefir-k/repos",
      "events_url": "https://api.github.com/users/zefir-k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zefir-k/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b295395664bd37e26d168c329f238237b34aef8c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b295395664bd37e26d168c329f238237b34aef8c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b295395664bd37e26d168c329f238237b34aef8c"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "aaee48703133567512316068a8ed9f6e31840aa1",
        "filename": "src/consensus/merkle.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e6efbf2658ae372fdd2611658ac5636cf989f29e/src/consensus/merkle.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e6efbf2658ae372fdd2611658ac5636cf989f29e/src/consensus/merkle.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/consensus/merkle.cpp?ref=e6efbf2658ae372fdd2611658ac5636cf989f29e",
        "patch": "@@ -45,7 +45,7 @@\n uint256 ComputeMerkleRoot(std::vector<uint256> hashes, bool* mutated) {\n     bool mutation = false;\n     while (hashes.size() > 1) {\n-        if (mutated) {\n+        if (mutated && !mutation) {\n             for (size_t pos = 0; pos + 1 < hashes.size(); pos += 2) {\n                 if (hashes[pos] == hashes[pos + 1]) mutation = true;\n             }"
      }
    ]
  }
]