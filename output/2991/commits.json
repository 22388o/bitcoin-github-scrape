[
  {
    "sha": "23b48d13f1639d30741612b1dcf406a94d32a0da",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyM2I0OGQxM2YxNjM5ZDMwNzQxNjEyYjFkY2Y0MDZhOTRkMzJhMGRh",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-09-13T14:49:35Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-10-01T13:48:25Z"
      },
      "message": "Bitcoin-Qt: translation fixes in sendcoins\n\n- remove some unneeded translatable strings from sendcoinsentry.ui file and\n  rename some elements for better readability\n- optimize string prorcessing in SendCoinsDialog::on_sendButton_clicked()\n- make all UI labels for secure payments plain text and move the settings\n  to sendcoinsentry.ui file\n- remove unneeded button and default button definiton from warning message\n  boxes\n- remove fixed font-size when sending coins to an address with label and\n  use monospace font for addresses",
      "tree": {
        "sha": "1f1a934982d0e441a65725dc0bd180ec8f0f4161",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f1a934982d0e441a65725dc0bd180ec8f0f4161"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23b48d13f1639d30741612b1dcf406a94d32a0da",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/23b48d13f1639d30741612b1dcf406a94d32a0da",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/23b48d13f1639d30741612b1dcf406a94d32a0da",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/23b48d13f1639d30741612b1dcf406a94d32a0da/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b85560a1b569547b1a06998d54ff16573a0076bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b85560a1b569547b1a06998d54ff16573a0076bd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b85560a1b569547b1a06998d54ff16573a0076bd"
      }
    ],
    "stats": {
      "total": 127,
      "additions": 61,
      "deletions": 66
    },
    "files": [
      {
        "sha": "2c1cec600cf6aaa698d5478d0c58dbc366baf182",
        "filename": "src/qt/forms/sendcoinsentry.ui",
        "status": "modified",
        "additions": 13,
        "deletions": 19,
        "changes": 32,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/forms/sendcoinsentry.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/forms/sendcoinsentry.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/sendcoinsentry.ui?ref=23b48d13f1639d30741612b1dcf406a94d32a0da",
        "patch": "@@ -10,19 +10,13 @@\n     <height>150</height>\n    </rect>\n   </property>\n-  <property name=\"windowTitle\">\n-   <string>StackedWidget</string>\n-  </property>\n   <property name=\"autoFillBackground\">\n    <bool>false</bool>\n   </property>\n   <property name=\"currentIndex\">\n-   <number>1</number>\n+   <number>0</number>\n   </property>\n   <widget class=\"QFrame\" name=\"SendCoinsInsecure\">\n-   <property name=\"windowTitle\">\n-    <string>Form</string>\n-   </property>\n    <property name=\"frameShape\">\n     <enum>QFrame::StyledPanel</enum>\n    </property>\n@@ -34,7 +28,7 @@\n      <number>12</number>\n     </property>\n     <item row=\"5\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label\">\n+     <widget class=\"QLabel\" name=\"amountLabel\">\n       <property name=\"text\">\n        <string>A&amp;mount:</string>\n       </property>\n@@ -47,7 +41,7 @@\n      </widget>\n     </item>\n     <item row=\"3\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label_2\">\n+     <widget class=\"QLabel\" name=\"payToLabel\">\n       <property name=\"text\">\n        <string>Pay &amp;To:</string>\n       </property>\n@@ -63,7 +57,7 @@\n      <widget class=\"BitcoinAmountField\" name=\"payAmount\"/>\n     </item>\n     <item row=\"4\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label_4\">\n+     <widget class=\"QLabel\" name=\"labellLabel\">\n       <property name=\"text\">\n        <string>&amp;Label:</string>\n       </property>\n@@ -592,9 +586,6 @@\n      </disabled>\n     </palette>\n    </property>\n-   <property name=\"windowTitle\">\n-    <string>SecureSend</string>\n-   </property>\n    <property name=\"autoFillBackground\">\n     <bool>true</bool>\n    </property>\n@@ -609,7 +600,7 @@\n      <number>12</number>\n     </property>\n     <item row=\"4\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label_s4\">\n+     <widget class=\"QLabel\" name=\"memoLabel_s\">\n       <property name=\"text\">\n        <string>Memo:</string>\n       </property>\n@@ -622,7 +613,7 @@\n      </widget>\n     </item>\n     <item row=\"5\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label_s1\">\n+     <widget class=\"QLabel\" name=\"amountLabel_s\">\n       <property name=\"text\">\n        <string>A&amp;mount:</string>\n       </property>\n@@ -635,7 +626,7 @@\n      </widget>\n     </item>\n     <item row=\"3\" column=\"0\">\n-     <widget class=\"QLabel\" name=\"label_s2\">\n+     <widget class=\"QLabel\" name=\"payToLabel_s\">\n       <property name=\"text\">\n        <string>Pay &amp;To:</string>\n       </property>\n@@ -667,14 +658,17 @@\n       </property>\n       <item>\n        <widget class=\"QLabel\" name=\"payTo_s\">\n+        <property name=\"textFormat\">\n+         <enum>Qt::PlainText</enum>\n+        </property>\n        </widget>\n       </item>\n      </layout>\n     </item>\n     <item row=\"4\" column=\"2\">\n-     <widget class=\"QLabel\" name=\"memo_s\">\n-      <property name=\"text\">\n-       <string>message from merchant</string>\n+     <widget class=\"QLabel\" name=\"memoTextLabel_s\">\n+      <property name=\"textFormat\">\n+       <enum>Qt::PlainText</enum>\n       </property>\n      </widget>\n     </item>"
      },
      {
        "sha": "00cea463ef0f74aae8a52825911a2300c140bc3c",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 43,
        "deletions": 42,
        "changes": 85,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=23b48d13f1639d30741612b1dcf406a94d32a0da",
        "patch": "@@ -94,27 +94,33 @@ void SendCoinsDialog::on_sendButton_clicked()\n     QStringList formatted;\n     foreach(const SendCoinsRecipient &rcp, recipients)\n     {\n-        QString amount = BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n+        // generate bold amount string\n+        QString amount = \"<b>\" + BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount);\n+        amount.append(\"</b>\");\n+        // generate monospace address string\n+        QString address = \"<span style='font-family: monospace;'>\" + rcp.address;\n+        address.append(\"</span>\");\n+\n+        QString recipientElement;\n+\n         if (rcp.authenticatedMerchant.isEmpty())\n         {\n-            QString recipientElement = QString(\"<b>%1</b> \").arg(BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), rcp.amount));\n-            recipientElement.append(tr(\"to\"));\n-\n-            if(rcp.label.length() > 0)\n+            if(rcp.label.length() > 0) // label with address\n             {\n-                recipientElement.append(QString(\" %1 <span style='font-size:8px;'>%2</span><br />\").arg(GUIUtil::HtmlEscape(rcp.label), rcp.address)); // add address with label\n+                recipientElement = tr(\"%1 to %2\").arg(amount, GUIUtil::HtmlEscape(rcp.label));\n+                recipientElement.append(QString(\" (%1)\").arg(address));\n             }\n-            else\n+            else // just address\n             {\n-                recipientElement.append(QString(\" %1<br />\").arg(rcp.address)); // add address WITHOUT label\n+                recipientElement = tr(\"%1 to %2\").arg(amount, address);\n             }\n-            formatted.append(recipientElement);\n         }\n-        else\n+        else // just merchant\n         {\n-            QString merchant = GUIUtil::HtmlEscape(rcp.authenticatedMerchant);\n-            formatted.append(tr(\"<b>%1</b> to %2\").arg(amount, merchant));\n+            recipientElement = tr(\"%1 to %2\").arg(amount, GUIUtil::HtmlEscape(rcp.authenticatedMerchant));\n         }\n+\n+        formatted.append(recipientElement);\n     }\n \n     fNewRecipientAllowed = false;\n@@ -132,42 +138,38 @@ void SendCoinsDialog::on_sendButton_clicked()\n     WalletModelTransaction currentTransaction(recipients);\n     WalletModel::SendCoinsReturn prepareStatus = model->prepareTransaction(currentTransaction);\n \n+    QString strSendCoins = tr(\"Send Coins\");\n     switch(prepareStatus.status)\n     {\n     case WalletModel::InvalidAddress:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"The recipient address is not valid, please recheck.\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"The recipient address is not valid, please recheck.\"));\n         break;\n     case WalletModel::InvalidAmount:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"The amount to pay must be larger than 0.\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"The amount to pay must be larger than 0.\"));\n         break;\n     case WalletModel::AmountExceedsBalance:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"The amount exceeds your balance.\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"The amount exceeds your balance.\"));\n         break;\n     case WalletModel::AmountWithFeeExceedsBalance:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n+        QMessageBox::warning(this, strSendCoins,\n             tr(\"The total exceeds your balance when the %1 transaction fee is included.\").\n-            arg(BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), currentTransaction.getTransactionFee())),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+            arg(BitcoinUnits::formatWithUnit(model->getOptionsModel()->getDisplayUnit(), currentTransaction.getTransactionFee())));\n         break;\n     case WalletModel::DuplicateAddress:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"Duplicate address found, can only send to each address once per send operation.\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"Duplicate address found, can only send to each address once per send operation.\"));\n         break;\n     case WalletModel::TransactionCreationFailed:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"Error: Transaction creation failed!\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"Error: Transaction creation failed!\"));\n         break;\n-    case WalletModel::Aborted: // User aborted, nothing to do\n-    case WalletModel::OK:\n     case WalletModel::TransactionCommitFailed:\n+    case WalletModel::OK:\n+    case WalletModel::Aborted: // User aborted, nothing to do\n+    default:\n         break;\n     }\n \n@@ -197,7 +199,7 @@ void SendCoinsDialog::on_sendButton_clicked()\n \n     QMessageBox::StandardButton retval = QMessageBox::question(this, tr(\"Confirm send coins\"),\n         questionString.arg(formatted.join(\"<br />\")),\n-        QMessageBox::Yes|QMessageBox::Cancel,\n+        QMessageBox::Yes | QMessageBox::Cancel,\n         QMessageBox::Cancel);\n \n     if(retval != QMessageBox::Yes)\n@@ -211,15 +213,13 @@ void SendCoinsDialog::on_sendButton_clicked()\n     switch(sendstatus.status)\n     {\n     case WalletModel::TransactionCommitFailed:\n-        QMessageBox::warning(this, tr(\"Send Coins\"),\n-            tr(\"Error: The transaction was rejected. This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\"),\n-            QMessageBox::Ok, QMessageBox::Ok);\n-        break;\n-    case WalletModel::Aborted: // User aborted, nothing to do\n+        QMessageBox::warning(this, strSendCoins,\n+            tr(\"Error: The transaction was rejected. This might happen if some of the coins in your wallet were already spent, such as if you used a copy of wallet.dat and coins were spent in the copy but not marked as spent here.\"));\n         break;\n     case WalletModel::OK:\n         accept();\n         break;\n+    case WalletModel::Aborted: // User aborted, nothing to do\n     default:\n         break;\n     }\n@@ -351,22 +351,23 @@ void SendCoinsDialog::pasteEntry(const SendCoinsRecipient &rv)\n \n bool SendCoinsDialog::handlePaymentRequest(const SendCoinsRecipient &rv)\n {\n+    QString strSendCoins = tr(\"Send Coins\");\n     if (!rv.authenticatedMerchant.isEmpty()) {\n         // Expired payment request?\n         const payments::PaymentDetails& details = rv.paymentRequest.getDetails();\n         if (details.has_expires() && (int64)details.expires() < GetTime())\n         {\n-            QMessageBox::warning(this, tr(\"Send Coins\"),\n-                                 tr(\"Payment request expired\"));\n+            QMessageBox::warning(this, strSendCoins,\n+                tr(\"Payment request expired\"));\n             return false;\n         }\n     }\n     else {\n         CBitcoinAddress address(rv.address.toStdString());\n         if (!address.IsValid()) {\n             QString strAddress(address.ToString().c_str());\n-            QMessageBox::warning(this, tr(\"Send Coins\"),\n-                                 tr(\"Invalid payment address %1\").arg(strAddress));\n+            QMessageBox::warning(this, strSendCoins,\n+                tr(\"Invalid payment address %1\").arg(strAddress));\n             return false;\n         }\n     }"
      },
      {
        "sha": "ee84f7bc116498b440ffb70e8e4c339979ba198a",
        "filename": "src/qt/sendcoinsentry.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsentry.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsentry.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsentry.cpp?ref=23b48d13f1639d30741612b1dcf406a94d32a0da",
        "patch": "@@ -106,8 +106,8 @@ bool SendCoinsEntry::validate()\n     if (!recipient.authenticatedMerchant.isEmpty())\n         return retval;\n \n-    if(!ui->payTo->hasAcceptableInput() ||\n-       (model && !model->validateAddress(ui->payTo->text())))\n+    if (!ui->payTo->hasAcceptableInput() ||\n+        (model && !model->validateAddress(ui->payTo->text())))\n     {\n         ui->payTo->setValid(false);\n         retval = false;\n@@ -163,8 +163,7 @@ void SendCoinsEntry::setValue(const SendCoinsRecipient &value)\n         const payments::PaymentDetails& details = value.paymentRequest.getDetails();\n \n         ui->payTo_s->setText(value.authenticatedMerchant);\n-        ui->memo_s->setTextFormat(Qt::PlainText);\n-        ui->memo_s->setText(QString::fromStdString(details.memo()));\n+        ui->memoTextLabel_s->setText(QString::fromStdString(details.memo()));\n         ui->payAmount_s->setValue(value.amount);\n         setCurrentWidget(ui->SendCoinsSecure);\n     }"
      },
      {
        "sha": "49e622daf19d0f3cb5abadc7dc64978f84b97021",
        "filename": "src/qt/sendcoinsentry.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsentry.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/23b48d13f1639d30741612b1dcf406a94d32a0da/src/qt/sendcoinsentry.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsentry.h?ref=23b48d13f1639d30741612b1dcf406a94d32a0da",
        "patch": "@@ -33,7 +33,8 @@ class SendCoinsEntry : public QStackedWidget\n     void setValue(const SendCoinsRecipient &value);\n     void setAddress(const QString &address);\n \n-    /** Set up the tab chain manually, as Qt messes up the tab chain by default in some cases (issue https://bugreports.qt-project.org/browse/QTBUG-10907).\n+    /** Set up the tab chain manually, as Qt messes up the tab chain by default in some cases\n+     *  (issue https://bugreports.qt-project.org/browse/QTBUG-10907).\n      */\n     QWidget *setupTabChain(QWidget *prev);\n "
      }
    ]
  }
]