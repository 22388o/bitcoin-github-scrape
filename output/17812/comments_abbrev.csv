DrahtBot,2019-12-28 17:30:44,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18038 (P2P: Mempool tracks locally submitted transactions to improve privacy by amitiuttarwar)\n* #16224 (gui: Bilingual ",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-569436312,569436312,
fanquake,2019-12-28 21:49:27,"Shouldn't e4f5aa4b09a0f0c51def6b859609aee01b61d2df, b380e9a48e5c6cb7e1ed6558e7fbbde5feb0069b and eeb1a42341c9a5a9517a244506dd2a609962ee5c just be left as feedback/review on #16702? Especially if one of those commits is required for the CI to pass.",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-569453720,569453720,
jonatack,2019-12-28 22:18:08,"Yes, those can be pulled into the PR if helpful. I have more important review questions on that PR that I'd like to concentrate on (the unit tests and actual bucketing) without adding further nit review at the moment.\n\nThe idea here, as per our review discussion in that PR, is to handle other aspects (functional tests, config arg handling, user-facing interface) that can help it be merged with",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-569455346,569455346,
laanwj,2020-01-15 13:10:25,+1 for allowing absolute `asmap` paths,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-574652870,574652870,
jonatack,2020-01-30 23:11:07,Rebased and added https://github.com/bitcoin/bitcoin/pull/16702#issuecomment-578736859 and https://github.com/bitcoin/bitcoin/pull/16702#discussion_r372364364 in the last 2 commits.,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-580505262,580505262,
fanquake,2020-01-31 00:17:19,"Can you squash a bunch of these? cd6d6d138f4844d35537f07c6c106e42dc0d8581 and b5cf2db1a4cd20175f37fc039c2bc0e15ccef1e4 could be combined. I don't think we need separate commits just to remove full stops and then add spaces to logging. 8554077e5532c26b28be95249992d96b68feebd7 reorders includes, which generally we don't do by itself, maybe combine into e44e8842b4da2829bbdcd982c83bb5ffb665b472.",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-580522936,580522936,
gmaxwell,2020-01-31 00:18:34,Has anyone fuzzed the asmap file reader?  I anticipate users accepting asmaps from third parties...,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-580523275,580523275,
gmaxwell,2020-01-31 00:19:28,"Oh, nevermind, I just saw #18033",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-580523524,580523524,
jonatack,2020-01-31 10:55:35,"@fanquake thanks for having a look and the suggestions. Done, squashed all those down into e30a4691bacc232a984e049fb887b08860fa7c94.",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-580686764,580686764,
laanwj,2020-02-05 13:38:18,"Needs rebase (due to sipa's asmap changes in #18023, I think)",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-582410907,582410907,
jonatack,2020-02-06 16:11:06,"Rebased, added 366aab9 for items found during review of other now-merged asmap PRs, and updated the new tests to use `self.chain` rather than 'regtest'.",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-582979842,582979842,
jonatack,2020-02-07 08:48:16,"Thank you @sipa for reviewing, updated as per `git diff 11a1028..1e26a1a`\n\n```diff\ndiff --git a/src/addrman.cpp b/src/addrman.cpp\nindex ef34edc0a0..2f8a3a0bd5 100644\n-    LogPrint(BCLog::NET, ""IP %s mapped to AS %i belongs to tried bucket %i\n"", ToStringIP(), mapped_as, tried_bucket);\n+    LogPrint(BCLog::NET, ""IP %s mapped to AS%i belongs to tried bucket %i\n"", ToStringIP(), mapped_as",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-583292045,583292045,
pinheadmz,2020-02-11 16:39:30,"ACK 1e26a1af96438edf96ecb2268569d5bec4a7f43e\noptional nit https://github.com/bitcoin/bitcoin/pull/17812#discussion_r377729269 happy to reack if you decide to address that",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-584727631,584727631,
jonatack,2020-02-11 19:18:22,"Thanks @pinheadmz for reviewing, updated as per `git diff 1e26a1a..dccc6bf`:\n```diff\ntest/functional/feature_asmap.py\n-        name = 'ASN map'\n+        name = 'ASN_map'\n```",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-584804786,584804786,
pinheadmz,2020-02-11 19:43:58,ACk dccc6bfc04e43bbdf8db35e0fb7288231b05973f,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-584816159,584816159,
naumenkogs,2020-02-13 19:02:23,"Great work, thanks! Especially those tests.\nACK dccc6bfc04e43bbdf8db35e0fb7288231b05973f",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-585920254,585920254,
MarcoFalke,2020-02-17 01:54:48,"ACK dccc6bfc04 üêî\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nACK dccc6bfc04 üêî\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUh6Cgv+M0g7bjlY1yqXorkNkyNeTx6YJpaqnM+w5VCirwJxVpH7hXGo8USv2t6d\nN2u0oyAslzwupoD83ucutnx8yxbZ1cqDXvRasDX1I2pFACgKjSm",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-586786195,586786195,
jonatack,2020-02-18 12:13:01,Rebased. Thank you to the reviewers. Mind re-ACKing?,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-587431343,587431343,
naumenkogs,2020-02-18 13:29:28,reACK d3ec323d151c5b19a7c4fa78000087266c9c6d2e,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-587460253,587460253,
pinheadmz,2020-02-18 15:57:01,"Confirming rebase didn't change anything:\n\n```\n$ git range-diff 712b7d9b4..dccc6bfc0  36f42e1bf..d3ec323d1\n 1:  c4dc420cb =  1:  610cc93e9 test: add feature_asmap functional tests\n 2:  919f4d7dd =  2:  a8a82d5bf config: use default value in -asmap config\n 3:  429129440 =  3:  d7b1a5b04 config: enable passing -asmap an absolute file path\n 4:  eacb2458e =  4:  b321be999 config: separat",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-587532719,587532719,
jonatack,2020-03-02 10:05:58,rebased,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-593322894,593322894,
naumenkogs,2020-03-02 15:55:47,reACK 0b7ad4aba1c6a850d5ba927766ccd38cc003571c,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-593472862,593472862,
pinheadmz,2020-03-02 20:48:08,"Rebase looks cool\n\n```\ngit range-diff 36f42e1bf..d3ec323d1 54a7ef612..0b7ad4aba\n 1:  610cc93e9 =  1:  1fa86bb61 test: add feature_asmap functional tests\n 2:  a8a82d5bf =  2:  499ff12f3 config: use default value in -asmap config\n 3:  d7b1a5b04 =  3:  ca845a1aa config: enable passing -asmap an absolute file path\n 4:  b321be999 =  4:  0ca73d89c config: separate the asmap finding and par",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-593613818,593613818,
jonatack,2020-03-04 14:00:05,rebased due to #17809,https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-594539302,594539302,
practicalswift,2020-03-04 19:06:30,"In the sentence ‚Ä¶\n\n> ""The AS in the BGP route to the peer ‚Ä¶""\n\n‚Ä¶ isn't the correct technical term ""AS path"" rather than ""BGP route""? :)",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-594758930,594758930,
jonatack,2020-03-05 08:52:14,"Thanks @practicalswift, taking note for a follow-up (asmap release notes), at this point I prefer to preserve the 3 ACKs. Mind acking?",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-595104824,595104824,
practicalswift,2020-03-05 11:07:07,"@jonatack Sure! :)\n\nACK 1ba3e1cc21150abe632a5b82a1a38998b33815dc -- diff looks correct\n",https://github.com/bitcoin/bitcoin/pull/17812#issuecomment-595171729,595171729,
sipa,2020-02-06 17:52:19,By *the* net-specific datadir location?,https://github.com/bitcoin/bitcoin/pull/17812#discussion_r375988850,375988850,src/init.cpp
sipa,2020-02-06 17:58:18,"AS numbers are usually written ""ASnnn"", so I think this is intentional.",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r375991924,375991924,src/addrman.cpp
sipa,2020-02-06 17:58:27,Same here.,https://github.com/bitcoin/bitcoin/pull/17812#discussion_r375991984,375991984,src/addrman.cpp
sipa,2020-02-06 17:59:51,"If this is numeric, the `\""` around `mapped_as` should go as well.",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r375992777,375992777,src/rpc/net.cpp
jonatack,2020-02-07 08:34:34,"Done. There are 3 other instances of ""a net-specific datadir location"" (`bitcoind -help | grep -B1 -A2 net-specific`) but I left them alone here.",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r376268445,376268445,src/init.cpp
jonatack,2020-02-07 08:35:03,Thank you -- done.,https://github.com/bitcoin/bitcoin/pull/17812#discussion_r376268623,376268623,src/addrman.cpp
jonatack,2020-02-07 08:36:38,"Good catch -- done. Replaced with `\""mapped_as\"": n,`",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r376269196,376269196,src/rpc/net.cpp
jonatack,2020-02-07 08:36:58,Done.,https://github.com/bitcoin/bitcoin/pull/17812#discussion_r376269341,376269341,src/addrman.cpp
pinheadmz,2020-02-11 15:59:34,"Are you sure it's ok to have a space in a command line argument? Some OSes/shells might interpret this as `-asmap=ASN` and stop parsing, but I'm not sure",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r377729269,377729269,test/functional/feature_asmap.py
jonatack,2020-02-11 16:05:39,"The CI builds didn't have an issue, but since there are no ACKs yet to lose, I can change it.",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r377733243,377733243,test/functional/feature_asmap.py
pinheadmz,2020-02-11 16:08:09,"I tried running this test with junk data here (`f.write(""helloworld"")`) bitcoind didn't mind interpreting that junk as a valid asmap file, didn't throw the expected parsing error. I suspect that's because the map file is just raw bytes, is there no way to check it for integrity?",https://github.com/bitcoin/bitcoin/pull/17812#discussion_r377734856,377734856,test/functional/feature_asmap.py
jonatack,2020-02-11 16:28:53,I think that's outside the scope of this PR; perhaps as a follow-up.,https://github.com/bitcoin/bitcoin/pull/17812#discussion_r377748427,377748427,test/functional/feature_asmap.py
