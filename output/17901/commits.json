[
  {
    "sha": "a8c1cc1ee35616532d79c1201e9867c3f7907e90",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphOGMxY2MxZWUzNTYxNjUzMmQ3OWMxMjAxZTk4NjdjM2Y3OTA3ZTkw",
    "commit": {
      "author": {
        "name": "Emil Engler",
        "email": "me@emilengler.com",
        "date": "2020-01-09T15:24:25Z"
      },
      "committer": {
        "name": "Emil Engler",
        "email": "me@emilengler.com",
        "date": "2020-01-12T10:18:49Z"
      },
      "message": "Add feature to get specific help",
      "tree": {
        "sha": "1c85b0925a224f4b8797034735280709ff9a7b35",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1c85b0925a224f4b8797034735280709ff9a7b35"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8c1cc1ee35616532d79c1201e9867c3f7907e90",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE82XmVEpcmrEyk0LUL21BRcVfx8cFAl4a8owACgkQL21BRcVf\nx8d/Zg/8DfpQK1IzljydYHwLqYj8hjIFJ9qWd2YoYPw7uk+ZjoysbVcEI5LjTx0Q\noIs9mNT53OIXGY89019FhHv5gYUs9SWwaHHIx8W17yMumwJ0kbKBuoZ2kVRg2f7o\n3WYEOLRoIUnK1UqRoTu88f0HnVCXZzCE55ObepCB83INWCOLhAYv/LGxa/yWUHmm\nDx87PvM0+rTVnX/ebZ2xkpJ+WBoiP7+vXaOB6OgcKZ2hzvjcNPRMvVEp1XWtV7gQ\nENKhOfCQ50gjsHEDKWEIvaNIIjURoSiI1TWaP5iwhTtCBSUlh9wXQaeFmNq4/kCf\ngcGRGOev8FDexpQYabg7FRcmXvtKh+7S17pftyjpZPGjMSd0fXl+2rQarNPKmd4u\nQ+vG+Yx3fcrndevQQ4igoqdjN02sHF3HoG5bl6twEOqVzncL4izVvjjYsEmNv+vI\n1gXquoYdsO+tK0lRSAUiLUOgwYP1LDrxZn3ZW0AMFJaIrdRkglbJk192zulYUpk9\nkFjD0UB8oJVTQaPraIT8qxiBMLMKOYOwvUcRztdnR7VdklmDeguAMUycRFtvNQl8\ngiRGmTiO40iaBDhX/l6us1/lOJXGJp3faThamsTrbqv20Y37KBjR8rJ986AesbVd\nXHYHqkEZjHg3mbrsCdAjk60vQ4+7wiTqnFfWC7PKB3pHq+FT+1Q=\n=sihe\n-----END PGP SIGNATURE-----",
        "payload": "tree 1c85b0925a224f4b8797034735280709ff9a7b35\nparent 6196e930018181301b5972842ae384ea4288ff34\nauthor Emil Engler <me@emilengler.com> 1578583465 +0100\ncommitter Emil Engler <me@emilengler.com> 1578824329 +0100\n\nAdd feature to get specific help\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a8c1cc1ee35616532d79c1201e9867c3f7907e90",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a8c1cc1ee35616532d79c1201e9867c3f7907e90",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a8c1cc1ee35616532d79c1201e9867c3f7907e90/comments",
    "author": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "emilengler",
      "id": 12272949,
      "node_id": "MDQ6VXNlcjEyMjcyOTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12272949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emilengler",
      "html_url": "https://github.com/emilengler",
      "followers_url": "https://api.github.com/users/emilengler/followers",
      "following_url": "https://api.github.com/users/emilengler/following{/other_user}",
      "gists_url": "https://api.github.com/users/emilengler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emilengler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emilengler/subscriptions",
      "organizations_url": "https://api.github.com/users/emilengler/orgs",
      "repos_url": "https://api.github.com/users/emilengler/repos",
      "events_url": "https://api.github.com/users/emilengler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emilengler/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6196e930018181301b5972842ae384ea4288ff34",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6196e930018181301b5972842ae384ea4288ff34",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6196e930018181301b5972842ae384ea4288ff34"
      }
    ],
    "stats": {
      "total": 61,
      "additions": 52,
      "deletions": 9
    },
    "files": [
      {
        "sha": "d08035cc96380babcf81b2f82788e944a2b6b8c3",
        "filename": "src/bench/bench_bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bench/bench_bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bench/bench_bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bench/bench_bitcoin.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -41,7 +41,7 @@ int main(int argc, char** argv)\n     }\n \n     if (HelpRequested(gArgs)) {\n-        std::cout << gArgs.GetHelpMessage();\n+        std::cout << gArgs.GetSpecificHelpMessage();\n \n         return EXIT_SUCCESS;\n     }"
      },
      {
        "sha": "c826a89d1270435b144289941ef94133d3070232",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -116,7 +116,7 @@ static int AppInitRPC(int argc, char* argv[])\n                 \"or:     bitcoin-cli [options] -named <command> [name=value]...  Send command to \" PACKAGE_NAME \" (with named arguments)\\n\"\n                 \"or:     bitcoin-cli [options] help                List commands\\n\"\n                 \"or:     bitcoin-cli [options] help <command>      Get help for a command\\n\";\n-            strUsage += \"\\n\" + gArgs.GetHelpMessage();\n+            strUsage += \"\\n\" + gArgs.GetSpecificHelpMessage();\n         }\n \n         tfm::format(std::cout, \"%s\", strUsage);"
      },
      {
        "sha": "cbed1f3fa5b8c659b551d974cdecdff9f28aa538",
        "filename": "src/bitcoin-tx.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-tx.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-tx.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-tx.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -103,7 +103,7 @@ static int AppInitRawTx(int argc, char* argv[])\n             \"Usage:  bitcoin-tx [options] <hex-tx> [commands]  Update hex-encoded bitcoin transaction\\n\" +\n             \"or:     bitcoin-tx [options] -create [commands]   Create hex-encoded bitcoin transaction\\n\" +\n             \"\\n\";\n-        strUsage += gArgs.GetHelpMessage();\n+        strUsage += gArgs.GetSpecificHelpMessage();\n \n         tfm::format(std::cout, \"%s\", strUsage);\n "
      },
      {
        "sha": "de750cebdaa623882bee4c59d71abe585c75b10a",
        "filename": "src/bitcoin-wallet.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoin-wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-wallet.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -46,7 +46,7 @@ static bool WalletAppInit(int argc, char* argv[])\n                                       \"To change the target wallet, use the -datadir, -wallet and -testnet/-regtest arguments.\\n\\n\" +\n                                       \"Usage:\\n\" +\n                                      \"  bitcoin-wallet [options] <command>\\n\\n\" +\n-                                     gArgs.GetHelpMessage();\n+                                     gArgs.GetSpecificHelpMessage();\n \n         tfm::format(std::cout, \"%s\", usage);\n         return false;"
      },
      {
        "sha": "78de84b8837916d993dbcb1e442c44260d779161",
        "filename": "src/bitcoind.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoind.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/bitcoind.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoind.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -68,7 +68,7 @@ static bool AppInit(int argc, char* argv[])\n         else\n         {\n             strUsage += \"\\nUsage:  bitcoind [options]                     Start \" PACKAGE_NAME \"\\n\";\n-            strUsage += \"\\n\" + gArgs.GetHelpMessage();\n+            strUsage += \"\\n\" + gArgs.GetSpecificHelpMessage();\n         }\n \n         tfm::format(std::cout, \"%s\", strUsage);"
      },
      {
        "sha": "47bd16ae7381e5c44e4f6135330cd885259157a5",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -478,7 +478,9 @@ int GuiMain(int argc, char* argv[])\n     // Show help message immediately after parsing command-line options (for \"-lang\") and setting locale,\n     // but before showing splash screen.\n     if (HelpRequested(gArgs) || gArgs.IsArgSet(\"-version\")) {\n-        HelpMessageDialog help(*node, nullptr, gArgs.IsArgSet(\"-version\"));\n+        std::string helpArg = gArgs.GetArg(\"-help\", \"\");\n+        bool specialHelp = (helpArg != \"\");\n+        HelpMessageDialog help(*node, nullptr, gArgs.IsArgSet(\"-version\"), specialHelp);\n         help.showOrPrint();\n         return EXIT_SUCCESS;\n     }"
      },
      {
        "sha": "303a90e59def003ea099d0f8f21b3ceb399767a3",
        "filename": "src/qt/utilitydialog.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/utilitydialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/utilitydialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/utilitydialog.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -27,7 +27,7 @@\n #include <QVBoxLayout>\n \n /** \"Help message\" or \"About\" dialog box */\n-HelpMessageDialog::HelpMessageDialog(interfaces::Node& node, QWidget *parent, bool about) :\n+HelpMessageDialog::HelpMessageDialog(interfaces::Node& node, QWidget *parent, bool about, bool specificHelp) :\n     QDialog(parent),\n     ui(new Ui::HelpMessageDialog)\n {\n@@ -102,6 +102,10 @@ HelpMessageDialog::HelpMessageDialog(interfaces::Node& node, QWidget *parent, bo\n         ui->helpMessage->moveCursor(QTextCursor::Start);\n         ui->scrollArea->setVisible(false);\n         ui->aboutLogo->setVisible(false);\n+        if (specificHelp) {\n+            coreOptions = QString::fromStdString(gArgs.GetSpecificHelpMessage());\n+            text = version + \"\\n\\n\" + header + \"\\n\" + coreOptions;\n+        }\n     }\n }\n "
      },
      {
        "sha": "b9a56c80768e8f8c9fe2651f470ba61401305f69",
        "filename": "src/qt/utilitydialog.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/utilitydialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/qt/utilitydialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/utilitydialog.h?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -24,7 +24,7 @@ class HelpMessageDialog : public QDialog\n     Q_OBJECT\n \n public:\n-    explicit HelpMessageDialog(interfaces::Node& node, QWidget *parent, bool about);\n+    explicit HelpMessageDialog(interfaces::Node& node, QWidget *parent, bool about, bool specificHelp = false);\n     ~HelpMessageDialog();\n \n     void printToConsole();"
      },
      {
        "sha": "f92f3d77ff6bee072bad2c14195fc7cd37e50c6e",
        "filename": "src/util/system.cpp",
        "status": "modified",
        "additions": 33,
        "deletions": 1,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/util/system.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/util/system.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.cpp?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -506,14 +506,46 @@ std::string ArgsManager::GetHelpMessage() const\n     return usage;\n }\n \n+std::string ArgsManager::GetSpecificHelpMessage()\n+{\n+    const std::string helpParams[] = {\"-?\", \"-h\", \"-help\", \"-help-debug\"};\n+    std::string helpName = \"\";\n+    for (long unsigned int i = 0; i < sizeof(helpParams); ++i) {\n+        if (this->IsArgSet(helpParams[i])) {\n+            helpName = this->GetArg(helpParams[i], \"\");\n+            break;\n+        }\n+    }\n+    // Return unspecific help if no arg was given\n+    if (helpName == \"\")\n+        return this->GetHelpMessage();\n+\n+    std::pair<std::string, ArgsManager::Arg> command;\n+    bool cmdExists = false;\n+    LOCK(cs_args);\n+    for (const auto& arg_map : m_available_args) {\n+        for (auto const& arg : arg_map.second) {\n+            if (arg.first == \"-\" + helpName) {\n+                command = arg;\n+                cmdExists = true;\n+                break;\n+            }\n+        }\n+    }\n+    // Return error if the command is not existent\n+    if (!cmdExists)\n+        throw std::runtime_error(\"Unknown command\");\n+    return HelpMessageOpt(command.first + command.second.m_help_param, command.second.m_help_text);\n+}\n+\n bool HelpRequested(const ArgsManager& args)\n {\n     return args.IsArgSet(\"-?\") || args.IsArgSet(\"-h\") || args.IsArgSet(\"-help\") || args.IsArgSet(\"-help-debug\");\n }\n \n void SetupHelpOptions(ArgsManager& args)\n {\n-    args.AddArg(\"-?\", \"Print this help message and exit\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n+    args.AddArg(\"-?=<cmd>\", \"Print a help message with all commands or get infos about one specific command (without any dashes) and exit\", ArgsManager::ALLOW_ANY, OptionsCategory::OPTIONS);\n     args.AddHiddenArgs({\"-h\", \"-help\"});\n }\n "
      },
      {
        "sha": "4b0d3fd2848043c0e33b36d16c8b7561425d080e",
        "filename": "src/util/system.h",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/util/system.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8c1cc1ee35616532d79c1201e9867c3f7907e90/src/util/system.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util/system.h?ref=a8c1cc1ee35616532d79c1201e9867c3f7907e90",
        "patch": "@@ -313,6 +313,11 @@ class ArgsManager\n      */\n     std::string GetHelpMessage() const;\n \n+    /**\n+     * Get a filtered help string\n+     */\n+    std::string GetSpecificHelpMessage();\n+\n     /**\n      * Return Flags for known arg.\n      * Return nullopt for unknown arg."
      }
    ]
  }
]