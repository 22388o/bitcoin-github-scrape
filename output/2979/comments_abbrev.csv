wtogami,2013-09-08T00:15:34Z,https://github.com/wtogami/bitcoin/commit/aa176a07374f456b9e3a3c030f5ea8fe475a9984\nPlease add libdb4 to the db4 search paths.\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24012386,24012386,
wtogami,2013-09-08T00:55:41Z,Please also search for lrelease-qt4 and lrelease-qt5 instead of just lrelease.\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24012827,24012827,
wtogami,2013-09-08T05:46:28Z,"""configure: Prefer specific known-good versions of Qt metacompiler tools""\n\nPlease add the -qt5 equivalents after the -qt4.  It works for me if I completely remove the qt4 headers and tools.  Yes, it needs more work so it isn't confused when both are installed.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24015563,24015563,
luke-jr,2013-09-08T05:49:06Z,"@wtogami Qt5 support can be something for a future pull request. As long as it doesn't build correctly (I don't think having to remove Qt4 counts), configure should fail.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24015590,24015590,
Krellan,2013-09-08T06:05:24Z,"Nice improvements to the configure script!  When trying the current master, I found that ./configure --enable-hardening would not build unless I added -fPIC option to CXXFLAGS.  Should the configure script be made aware of this, and automatically add -fPIC if needed?  Or is this just a local symptom of some bug/misconfiguration on my system, and so wouldn't be needed by anybody else?\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24015733,24015733,
gmaxwell,2013-09-08T06:11:43Z,"We should be enable hardening all the time, with an AC test to make sure the hardening flags work, and whining at you if they don't.\n\nACK on the BDB changes, though I've not tested yet.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24015780,24015780,
Krellan,2013-09-08T06:49:52Z,"I also wondered why that wasn't already the default, as it seems like a good idea.  Perhaps --disable-hardening for those who explicitly wish to disable hardening for whatever reason (old build tools, debugging, etc.)?\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24016142,24016142,
wtogami,2013-09-08T06:54:27Z,"If your build tools are that old, your OS likely lacks dependencies needed by Bitcoin anyway.  For now please focus on getting this to build on all common operating systems, every typical variant of Linux, and all gitian targets.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24016182,24016182,
wtogami,2013-09-08T07:09:15Z,"I strongly recommend two more ""fixes"" in order to prevent confusion and many useless bug reports from hundreds of future builders.\n\n1) Automatically remove the old leveldb.a from pre-autotools builds.  If necessary name the new target something else so it is easy to distinguish the old leveldb.a from new.\n2) Automatically remove the old bitcoind, or print something at the end of each frontend b",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24016332,24016332,
jgarzik,2013-09-08T07:21:48Z,"@wtogami  The proposed solutions are largely an artifact of transitional code.  New checkouts should not see the problem, and pre-autotools builds will quickly plunge in frequency, in a few months after release.\n\nSeems like an issue for release notes, something easily grep-able and google-able for people finding common pre->autotools transition issues.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24016477,24016477,
Krellan,2013-09-08T10:03:24Z,"Speaking of release notes, an easy documentation bug to fix.\n\nIn doc/build-unix.md where it says `CXXFLAGS=""-i/usr/include/db4.8""`\n\nThe -i should be -I (capital I, as in India).\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24018222,24018222,
Diapolo,2013-09-08T11:27:36Z,"I feel like i now never could contribute again to compiler switches, hardening or whatever. That autotools stuff looks like magic an I miss my .pro file ^^. I have yet to try builing bitcoin-qt with this.\n\nI whish Qt5 support is working as I don't use Qt4 anymore.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24019217,24019217,
gmaxwell,2013-09-08T11:30:58Z,"@Diapolo  The secret of autotools is that no one else in the world understands it either.  Really you just randomly poke at it until it works. Once you've done this long enough everyone will assume that you actually know what you're doing, and you can smirk quietly and carry on the great secret. :)\n\nDon't worry, if you get stuck everyone will help you. Autotools is like a big hazing as part of t",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24019265,24019265,
wtogami,2013-09-08T11:58:52Z,"`<gmaxwell>` ... this is being compiled without optimization 0_o\n`<warren>` gmaxwell: yeah, I complained about that.  -O1 is needed at least for hardening to work\n`<warren>` gmaxwell: our old default was -O2 right?  \n`<gmaxwell>` we absolutely shouldn't be compiling with just O1.\n`<gmaxwell>` right.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24019700,24019700,
luke-jr,2013-09-08T14:08:16Z,"@Krellan Programs are not supposed to be built with -fPIC (it's for shared libraries only), so I'm not sure where your problem is coming from. I'll make a note to remove the CXXFLAGS from build-unix.md (it's no longer necessary).\n\n@wtogami bitcoind was never built in the base directory, so the location is already the same.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24021412,24021412,
wtogami,2013-09-08T14:12:32Z,"@luke-jr Oops, I meant bitcoin-qt.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24021473,24021473,
Krellan,2013-09-08T19:18:27Z,"@luke-jr As for -fPIC, nonetheless, it seems to be required.  Can you compile on your system with `--enable-hardening` without adding -fPIC?  I can't, without getting the error message about relocation and the reminder to use -fPIC.  With ASLR hardening, the address space is randomized, so position-independent code would already be a necessity, right?\n\nOn my system, a hardened executable shows u",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24027314,24027314,
luke-jr,2013-09-08T19:34:58Z,Does it work with -fPIE (and not -fPIC)? That's what some hardening systems use (I don't know what --enable-hardening is supposed to do)\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24027665,24027665,
jgarzik,2013-09-08T19:52:21Z,"Perhaps a hardened executable requires a randomized address space, rather than compiler-chosen static offsets.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24028003,24028003,
gavinandresen,2013-09-09T00:29:04Z,NACK.  Breaks on my macports/OSX machine:\n\nchecking for db_version in -ldb_cxx-4.8... no\nchecking for db_version in -ldb_cxx... no\nconfigure: error: libdb_cxx missing\n\nCompare with master:\n\nchecking db_cxx.h usability... yes\nchecking db_cxx.h presence... yes\nchecking for db_cxx.h... yes\nchecking for main in -ldb_cxx... yes\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24033280,24033280,
theuni,2013-09-09T05:58:28Z,"Please hold off on these for a day or two, I have portability concerns with many of them. I'll be back in the office on Mon/Tues.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24044505,24044505,
theuni,2013-09-09T06:01:28Z,"Hardening should be on by default already, the help string is just backwards.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24044682,24044682,
theuni,2013-09-09T06:15:17Z,"@Diapolo: I have patches for enabling qt5, and it builds fine. But I excluded it from the initial autotools pull to avoid overcomplicating it.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24045518,24045518,
theuni,2013-09-09T06:56:54Z,"I'd like to point out that I made a big effort to make this functionally the same as the old build (I'm not claiming that I succeeded, far from it I'm sure). But the old build was very static and manual, so new options open up now that users can easily configure the build.\n\nIf the behavior doesn't make sense, let's fix the core issues. For example, the old system had a notion of debug/release bu",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24047880,24047880,
laanwj,2013-09-09T08:56:02Z,"Hardening definitely requires some form of position independent executable, for address space randomization. And I think PIE only applies to libraries. Not sure tho, the difference between PIE/PIC is a bit hazy to me.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24054963,24054963,
Diapolo,2013-09-09T10:43:23Z,"I agree that we should harmonize hardening options and review them for all OSes. Also there is still my old pull I remember, which activates `-fstack-protector-all` for Windows, which never worked because of our ancient compiler suite. Shouldn't we now switch to something newer in order to allow this for Windows builds also? Maybe we can now also start looking in hardening our used libs?\n\nI'm lo",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24062045,24062045,
wtogami,2013-09-09T12:03:58Z,Is the mingw Ubuntu 12 toolchain new enough?\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24067599,24067599,
theuni,2013-09-09T12:07:19Z,"hardening flags can be seen here: https://github.com/bitcoin/bitcoin/blob/master/configure.ac#L296\n\nFor the most part, each one is tested and applied wherever possible, to avoid the need to specify per-toolchain.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24067793,24067793,
laanwj,2013-09-09T12:34:11Z,"@wtogami yes,the mingw-w64 (don't mind the name, it's for 32 bit as well) cross compilation stuff in Ubuntu 12.04 is new enough for hardened builds (w/ stack-protector-all) to work correctly on Windows.\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24069511,24069511,
theuni,2013-09-10T22:31:04Z,ACK.\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24200015,24200015,
gmaxwell,2013-09-10T23:58:16Z,ACK. Builds for me now.\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24204165,24204165,
BitcoinPullTester,2013-09-11T00:04:46Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/1e9d3b1392b604fafc6802e4d43469f519d14424 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24204404,24204404,
wtogami,2013-09-11T00:12:45Z,This seems to lack -O by default.  gmaxwell says it will probably be in the next pull though.\n,https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24204715,24204715,
luke-jr,2013-09-11T00:49:42Z,"Yep, it's part of my autoconf_pt2 branch (out of 4).\n",https://github.com/bitcoin/bitcoin/pull/2979#issuecomment-24205957,24205957,
