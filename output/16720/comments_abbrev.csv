DrahtBot,2019-08-25 12:07:04,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#16738](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/16738.html) (gui: Remove needless GCC diagnostic pragmas",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-524624862,524624862,
Sjors,2019-08-25 14:05:43,"I can confirm 77dabca still builds on macOS Mojave 10.14.6. It also fixes the build for me on macOS Catalina 10.15 beta 3.\n\nConversely you can reproduce the error in Mojave by setting  `-DOBJC_OLD_DISPATCH_PROTOTYPES=0`.\n\nI suggest tagging this 0.19, but hold off merging in favor of a solution that uses the new syntax. Apple deprecated this back in [2015](https://stackoverflow.com/question",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-524633110,524633110,
laanwj,2019-08-29 14:00:32,"> I suggest tagging this 0.19, but hold off merging in favor of a solution that uses the new syntax. Apple deprecated this back in 2015.\n\nDone, agree here.",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526198721,526198721,
hebasto,2019-08-29 19:57:36,"> I suggest tagging this 0.19, but hold off merging in favor of a solution that uses the new syntax.\n\nDone with the native Objective-C syntax.",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526337486,526337486,
Sjors,2019-08-29 20:11:45,Nice! Will test soon. Maybe set `-DOBJC_OLD_DISPATCH_PROTOTYPES=0` for good measure?,https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526342591,526342591,
hebasto,2019-08-29 20:52:52,"@Sjors \n> Maybe set `-DOBJC_OLD_DISPATCH_PROTOTYPES=0` for good measure?\n\nDone.",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526356736,526356736,
hebasto,2019-08-31 09:38:17,"@fanquake @Sjors @l2a5b1 \nThank you all for your reviews. Your comments have been addressed.",https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526816642,526816642,
l2a5b1,2019-09-01 08:00:51,ACK 0bb33b5 - Diff looks good. Sending messages via native Objective-C code feels more robust and is more readable than casting all the `objc_msgSend` function calls to the appropriate function signature (which would also have fixed the issue).,https://github.com/bitcoin/bitcoin/pull/16720#issuecomment-526896780,526896780,
fanquake,2019-08-30 01:44:53,"Given that we don't support Qt 5.4 anymore, can you update this comment? \nObviously this workaround is still required with Qt 5.5+. Is there a Qt version where it's no-longer necessary?",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319331271,319331271,src/qt/macdockiconhandler.mm
Sjors,2019-08-30 16:03:04,That would indeed be useful to know. I didn't try removing the workaround altogether.,https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319578704,319578704,src/qt/macdockiconhandler.mm
l2a5b1,2019-08-30 17:50:46,Perhaps move the function declaration to `macdockiconhandler.h` and include this header instead?,https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319616295,319616295,src/qt/guiutil.cpp
l2a5b1,2019-08-30 17:53:55,Simplify `id app = ...; id delegate = ...; Class delClass = ...;` to `Class delClass = [NSApplication.sharedApplication.delegate class];`?,https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319617418,319617418,src/qt/macdockiconhandler.mm
hebasto,2019-08-31 07:59:46,">  Is there a Qt version where it's no-longer necessary?\n\nLooking through the Qt code base:\n- since Qt 5.3:\nhttps://github.com/qt/qtbase/blob/5.3/src/plugins/platforms/cocoa/qcocoaintegration.mm#L299\n\n- since Qt 5.6:\nhttps://github.com/qt/qtbase/blob/5.6/src/plugins/platforms/cocoa/qcocoaapplicationdelegate.mm#L299\n\n- since Qt 5.8:\nhttps://github.com/qt/qtbase/blob/5.8/src/plug",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319715718,319715718,src/qt/macdockiconhandler.mm
hebasto,2019-08-31 08:06:44,"What are benefits of doing that? A header including will increase the current translation unit, however.",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319715903,319715903,src/qt/guiutil.cpp
Sjors,2019-08-31 08:11:51,"Our minimum QT version is 5.5.1, so maybe we should make a Github issue to consider dropping this workaround at the next bump https://github.com/bitcoin/bitcoin/blob/master/doc/dependencies.md",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319716032,319716032,src/qt/macdockiconhandler.mm
hebasto,2019-08-31 08:20:51,"As dot notation is present in both C++ and Objective-C syntaxes, I'd prefer to keep the native Objective-C code as different from C++'s one as possible in mixed ""Objective-C++"" source files.\n\nThe suggestion to combine some statements into the single one will be implemented.",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319716209,319716209,src/qt/macdockiconhandler.mm
l2a5b1,2019-08-31 16:52:56,"When I noticed the function declaration it was not immediately obvious why the corresponding definition was not in the same cpp file. It was only obvious why it is as it is after I found the corresponding function definition in the `mackdockiconhandler.mm` file. \n\nI thought that by declaring the function in the `mackdockiconhandler.h` header file and keeping the declaration and definition clos",https://github.com/bitcoin/bitcoin/pull/16720#discussion_r319730170,319730170,src/qt/guiutil.cpp
