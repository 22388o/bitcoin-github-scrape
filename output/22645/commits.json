[
  {
    "sha": "5449d44e37982fcd5251fd47873c5f7d34c39fc9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1NDQ5ZDQ0ZTM3OTgyZmNkNTI1MWZkNDc4NzNjNWY3ZDM0YzM5ZmM5",
    "commit": {
      "author": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-08-06T00:52:41Z"
      },
      "committer": {
        "name": "fanquake",
        "email": "fanquake@gmail.com",
        "date": "2021-08-09T05:59:48Z"
      },
      "message": "scripts: prevent GCC optimising test symbols in test-symbol-check",
      "tree": {
        "sha": "a4c56a706ca9c4b12e61063c58f0cb89444073e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a4c56a706ca9c4b12e61063c58f0cb89444073e1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5449d44e37982fcd5251fd47873c5f7d34c39fc9",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz7FuIclQ9n+pXlWPLuufXMCVJsEFAmEQxFQACgkQLuufXMCV\nJsFVJg/+KS3HrI5yE18Xh+0dNUo0XcdCzXNLluIylPwviu49s7SZu/RgXWW+miyt\neidT8RN6+xp2fQ4t54xQ3/YdMuFybDKkDe8Q+/lTsve4NgD4q5WPPeMLjZHR1v11\nyxkg/IncA4x/cPm7Tva7OfK9pOIDCIY69Q+jgqyVmgxqOVOZjHuznkyeieO7poNb\nqqTRg1kgbGcWDfqb/pkbMWUba8TJVRIQdW+y6fNOTl71eYarFPYb2FbiTP7XlQMz\nCAiZBS35wAFpMT2XVrFy6029QSkH82wQBBHD5dvF+SEQE9q/h0CuaT4RY+BDl2ti\nrSF4OT2esPRUxhmejhdX5PryYBKWjpa5Gq9gMDXxCzvtNBqG2wN60+2yRyWwf9Hk\n5GrTAOfQFih4YuozxmsXDbHmKw6eY9PS9Jz/oVnL6q70mbsA0S98Day3EpSY6JPV\nJtD8JCEUWefeN43LjJhrorPYbEYWKfE6sB4t+86FSJZ51yVPK/oWa9fWj/4H/LBS\nRVvwpXrANn5UiK9HD7BNvXq0CpGOFTdSrfKsl0G5KV4/AZp+xZgoFNGO8sgz34Ae\nEw8He31FtDIFDAoR0LiBBKQvLMRa+aNJTl8YODfxiY37HyDzgNW7bfvGin1sbnVM\ntr0V5Z061CVqwmOvup1bgvwmTTjR90Y6IF9s2nUKlJJl80L5Q1o=\n=kk8m\n-----END PGP SIGNATURE-----",
        "payload": "tree a4c56a706ca9c4b12e61063c58f0cb89444073e1\nparent 21438d55d553ae5bf3be7c0d4431aaf136db6c6b\nauthor fanquake <fanquake@gmail.com> 1628211161 +0800\ncommitter fanquake <fanquake@gmail.com> 1628488788 +0800\n\nscripts: prevent GCC optimising test symbols in test-symbol-check\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5449d44e37982fcd5251fd47873c5f7d34c39fc9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5449d44e37982fcd5251fd47873c5f7d34c39fc9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5449d44e37982fcd5251fd47873c5f7d34c39fc9/comments",
    "author": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "21438d55d553ae5bf3be7c0d4431aaf136db6c6b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/21438d55d553ae5bf3be7c0d4431aaf136db6c6b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/21438d55d553ae5bf3be7c0d4431aaf136db6c6b"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 5,
      "deletions": 4
    },
    "files": [
      {
        "sha": "2da7ae793d9cbb1490c7e9e8c826ef14bcb80b8f",
        "filename": "contrib/devtools/test-symbol-check.py",
        "status": "modified",
        "additions": 5,
        "deletions": 4,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5449d44e37982fcd5251fd47873c5f7d34c39fc9/contrib/devtools/test-symbol-check.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5449d44e37982fcd5251fd47873c5f7d34c39fc9/contrib/devtools/test-symbol-check.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/test-symbol-check.py?ref=5449d44e37982fcd5251fd47873c5f7d34c39fc9",
        "patch": "@@ -73,20 +73,21 @@ def test_ELF(self):\n                 (1, executable + ': NEEDED library libutil.so.1 is not allowed\\n' +\n                     executable + ': failed LIBRARY_DEPENDENCIES'))\n \n-        # finally, check a conforming file that simply uses a math function\n+        # finally, check a simple conforming binary\n         source = 'test3.c'\n         executable = 'test3'\n         with open(source, 'w', encoding=\"utf8\") as f:\n             f.write('''\n-                #include <math.h>\n+                #include <stdio.h>\n \n                 int main()\n                 {\n-                    return (int)pow(2.0, 4.0);\n+                    printf(\"42\");\n+                    return 0;\n                 }\n         ''')\n \n-        self.assertEqual(call_symbol_check(cc, source, executable, ['-lm']),\n+        self.assertEqual(call_symbol_check(cc, source, executable, []),\n                 (0, ''))\n \n     def test_MACHO(self):"
      }
    ]
  }
]