instagibbs,2019-02-20T19:36:16Z,"Maybe:\n1) Move `Encrypt wallet` to the top since it's likely the most common thing people would do\n2) The menu as-is lacks any explanation, which makes it hard to evaluate unless you're an expert and know all the internals. Explain what they do/interactions between different modes",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465723397,465723397,
achow101,2019-02-20T19:46:00Z,"> Move `Encrypt wallet` to the top since it's likely the most common thing people would do\n\nDone\n\n> The menu as-is lacks any explanation, which makes it hard to evaluate unless you're an expert and know all the internals. Explain what they do/interactions between different modes\n\nThere are tooltips that explain this. Hover over the selections.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465726855,465726855,
DrahtBot,2019-02-20T20:02:54Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#10102](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/10102.html) ([experimental] Multiprocess bitcoin by ryan",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465732816,465732816,
Sjors,2019-02-20T21:11:58Z,Concept ACK ðŸŽ‰,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465755856,465755856,
promag,2019-02-20T21:53:14Z,"Concept ACK, will pick this shortly and push a branch with some changes for your consideration.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465769754,465769754,
fanquake,2019-02-21T04:51:41Z,"Concept ACK.\n\nScreen:\n<img width=""827"" alt=""screen shot 2019-02-21 at 12 33 25 pm"" src=""https://user-images.githubusercontent.com/863730/53144470-544bb800-35d7-11e9-9b78-d459fa69d8a5.png"">\n\n\nTravis warning:\n`A new circular dependency in the form of ""qt/bitcoingui -> qt/createwalletdialog -> qt/bitcoingui"" appears to have been introduced.`",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465861226,465861226,
jonasschnelli,2019-02-21T05:45:29Z,"General Concept ACK\nI'm not sure if we â€“ yet - should allow creating a blank wallet or a wallet with disabled private keys since it can't be used/extended with the GUI (outside of the console). It would make very much sense if there would be a way to import descriptors/addresses and or set/change a hd seed via the GUI.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465870099,465870099,
Sjors,2019-02-21T08:50:13Z,"Works!\n\nCouple of things, nothing that can't wait for a followup, but since this is still very early in the 0.19 cycle might as well get it right:\n* I suspect adding a grey border, like in the send / receive screen, is more visually pleasing. It also allows separating the screen into sections.\n* Let's add a section Advanced, where the Disable Private Keys and Make Blank Wallet goes.\n* Le",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-465913881,465913881,
hebasto,2019-02-24T20:54:22Z,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-466815928,466815928,
jnewbery,2019-05-22T17:52:42Z,"This fails a linter on Travis (""A new circular dependency in the form of ""qt/bitcoingui -> qt/createwalletdialog -> qt/bitcoingui"" appears to have been introduced.""), and also fails to build when rebased on master, since `WalletImpl.m_wallet` is now a shared pointer instead of a `CWallet` object.\n\n@achow101 - do you intend to keep working on this?",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-494902970,494902970,
achow101,2019-05-22T18:13:55Z,"Yes, I'll rebase and have a look at it again soon.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-494909012,494909012,
achow101,2019-05-23T18:36:24Z,"Rebased.\n\nI'm not entirely sure how to get rid of the circular dependency.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-495335261,495335261,
achow101,2019-05-24T22:18:20Z,"I've made two major changes to this: `AskPassphraseDialog` now has an output parameter for it to return the passphrase for encryption mode and I refactored the `createwallet` RPC so that all of the other wallet creation stuff it does (checking flags, encryption, etc.) is in its own function that this GUI option can call too. These two changes fix the issues that @jnewbery mentioned earlier. And it",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-495802676,495802676,
instagibbs,2019-05-28T15:23:40Z,"non-blocking suggestion: I'd suggest having the password confirmation itself on an entirely different window. You really want to have the user go through the paces of unlocking it without being able to stare at the ""answer"" they just put in.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-496564617,496564617,
achow101,2019-05-28T17:02:51Z,"> This segfaults for me on startup:\n\nCan't replicate this. Can you provide a backtrace?",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-496603143,496603143,
jonatack,2019-05-29T16:02:40Z,"> > This segfaults for me on startup:\n> \n> Can't replicate this. Can you provide a backtrace?\n\nFWIW baf58866f7fad57e2c4caf6ca198059cb333247a is running for me on Debian Linux. Will review.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-497000651,497000651,
jnewbery,2019-05-29T16:12:14Z,"Sorry, will retest today. It passes travis so it's probably me doing something stupid.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-497004441,497004441,
flack,2019-06-07T22:01:45Z,"If the screenshot above is still current, the window title should probably be change from ""Dialog"" to ""Create Wallet""",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-500053113,500053113,
jonatack,2019-06-07T22:32:00Z,"> If the screenshot above is still current, the window title should probably be change from ""Dialog"" to ""Create Wallet""\n\n@flack that was fixed. See https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287153828.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-500059430,500059430,
achow101,2019-06-13T14:20:00Z,">     * I suspect adding a grey border, like in the send / receive screen, is more visually pleasing. It also allows separating the screen into sections.\nDone\n>     * Let's add a section Advanced, where the Disable Private Keys and Make Blank Wallet goes.\nCan't figure out how to do that.\n>     * Left side of check boxes should be aligned with the ""Wallet"" label.\nAligned the new group box",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-501723574,501723574,
jonatack,2019-06-17T00:08:33Z,"Thanks @achow101 for sticking with this PR. \n\nReview of 2ae68a3a33606cc5391c86ed6a43c798e3dd3eea\n\n1. The ""Encrypt Wallet"" option is now 2/3 outside of the new grey border for me on Linux Debian/Gnome.\n\n2. The duplicate wallet name checking now appears to work (nice), a dupes popup appears, but as soon as I click on ""OK"" in that popup, a ""Creating Wallet xxx..."" popup happens, appears t",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-502497304,502497304,
jonatack,2019-06-17T00:12:59Z,"Further to point 5 above, if an interactive passphrase matching check isn't feasible, then perhaps perform it as soon as the user clicks OK, before the confirmation warning about losing bitcoins, if possible.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-502497650,502497650,
achow101,2019-06-17T22:09:04Z,"> The ""Encrypt Wallet"" option is now 2/3 outside of the new grey border for me on Linux Debian/Gnome.\n\nScreenshot please? I don't see this.\n\n> The duplicate wallet name checking now appears to work (nice), a dupes popup appears, but as soon as I click on ""OK"" in that popup, a ""Creating Wallet xxx..."" popup happens, appears to attempt to create the wallet and hangs indefinitely in that stat",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-502869500,502869500,
fanquake,2019-06-18T09:24:12Z,re-Concept ACK. Reviewing this at the moment.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-503023415,503023415,
ryanofsky,2019-06-19T21:09:59Z,"Just a suggestion, but I think it'd be nice to move commit ""Move wallet creation out of the createwallet rpc into its own function"" into its own separate PR, because it's a desirable change by itself, and also because it would separate the gui and non-gui changes here, and make this PR smaller and less prone to conflicts.\n\nIt would also be nice to pull in promag's changes from #16215 (and add ",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-503747644,503747644,
jonatack,2019-06-19T21:18:17Z,"> > The ""Encrypt Wallet"" option is now 2/3 outside of the new grey border for me on Linux Debian/Gnome.\n> \n> Screenshot please? I don't see this.\n\n@achow101 here is one from today. Edit: I thought it was fine in baf58866f7fad57e2c4caf6ca198059cb333247a without the group box.\n\n![Screenshot from 2019-06-19 12-23-35](https://user-images.githubusercontent.com/2415484/59800993-7b8d6a00-92d7",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-503750348,503750348,
achow101,2019-06-19T22:00:27Z,"> Just a suggestion, but I think it'd be nice to move commit ""Move wallet creation out of the createwallet rpc into its own function"" into its own separate PR, because it's a desirable change by itself, and also because it would separate the gui and non-gui changes here, and make this PR smaller and less prone to conflicts.\n\nDone. See #16244 \n\n> It would also be nice to pull in promag's ch",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-503762795,503762795,
achow101,2019-06-20T15:48:26Z,@jonatack I've made a couple adjustments to the groupbox there. Does it change anything for you?,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504079469,504079469,
jonatack,2019-06-20T19:44:08Z,"@achow101 fe0ea08584eec1cbe44b59810ed6fe56f6e4250e:\n\n![Screenshot from 2019-06-20 15-24-35](https://user-images.githubusercontent.com/2415484/59876219-8822c880-9392-11e9-9be2-d8880f7911ab.jpg)\n\nand baf58866f7fad57e2c4caf6ca198059cb333247a:\n\n![Screenshot from 2019-06-20 15-40-45](https://user-images.githubusercontent.com/2415484/59876642-b1902400-9393-11e9-860e-389661448933.png)\n",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504157203,504157203,
achow101,2019-06-21T18:18:20Z,I've removed the group box as it seems to be causing some issues.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504523136,504523136,
achow101,2019-06-21T19:14:53Z,I've rebased this onto #16261 and squashed in the create wallet changes from #16215,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504542072,504542072,
fanquake,2019-06-22T12:55:08Z,"I know it's bit late to be thinking about this at a concept level, but I've got a few thoughts (they could all be addressed in a followup anyways):\n\n1) When people are reviewing this PR: What end-user to they have in mind? Somewhere on the spectrum of `new non-technical user, just downloaded Bitcoin Core` & `one of the engineers that helps build Bitcoin Core`? I'd like to think we are trying t",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504663560,504663560,
flack,2019-06-23T11:09:50Z,"regarding 5: Couldn't you simply add some logic that disables the ""encrypt wallet"" checkbox when ""disable private keys"" is checked (and vice versa)?",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-504741621,504741621,
achow101,2019-06-25T14:43:29Z,"@fanquake \n\n1. IMO the end user in mind is the completely non-technical user who just downloaded Bitcoin Core. The advanced options are for the more technical users.\n2. I tried having the advanced options hidden with a drop down, but I don't know enough about Qt to make that happen.\n3. Already got that :+1: \n4. I could see how that can happen. I think changing the name `blank` would fix ",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-505477079,505477079,
promag,2019-06-25T14:59:02Z,"Dialog improvements can come next IMO. Another approach is to add a new Expert option to enable the advanced options in the create dialog.\n\n![Screenshot 2019-06-25 at 15 53 49](https://user-images.githubusercontent.com/3534524/60108994-77db6680-9761-11e9-8999-cf7925af4da7.png)\n\nPlease help review base PR #16261.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-505483959,505483959,
achow101,2019-06-27T14:39:26Z,"> When you finish the wallet creation process (after choosing `encrypt` and `disable private`), you don't have the `lock` icon in the bottom right,\n\nI checked the code again and it actually doesn't encrypt the wallet when `WALLET_FLAG_DISABLE_PRIVATE_KEYS` is set. I've changed this to now disable and uncheck the `Disable Private Keys` checkbox when the `Encrypt Wallet` checkbox is checked.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-506374380,506374380,
Sjors,2019-06-28T00:18:30Z,"Lightly tested e0da87275b3febf338c017ef2d0c67fdc17d4c6b on macOS, but didn't review the code. Imo the UI is good enough now for a first version. Looking forward to adding hardware support on top of this :-)",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-506555582,506555582,
fanquake,2019-07-10T02:22:01Z,"@achow101 Looks like something might have gone wrong during the rebase. \nThe whitespace linter is also having a sad:\n```bash\nThis diff appears to have added new lines with trailing whitespace.\nThe following changes were suspected:\ndiff --git a/src/qt/walletcontroller.h b/src/qt/walletcontroller.h\n@@ -48,0 +57,2 @@ public:\n+\n^---- failure generated from test/lint/lint-whitespace.sh",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-509881091,509881091,
achow101,2019-07-10T18:55:08Z,"> @achow101 Looks like something might have gone wrong during the rebase.\n> The whitespace linter is also having a sad:\n\nHuh. I've reset to e0da872 and re-rebased.",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-510185373,510185373,
Sjors,2019-07-13T15:40:46Z,re-ACK cb92402c12f184c3d9cefd7ab5ea3a8a7155293e,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-511131524,511131524,
Sjors,2019-08-05T11:36:17Z,"When I rebase on the latest master I can no longer compile (as a result of #16399):\n\n```\n  CXXLD    qt/bitcoin-qt\nUndefined symbols for architecture x86_64:\n  ""CreateWallet(interfaces::Chain&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, std::__1::basic",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-518198660,518198660,
achow101,2019-08-05T22:25:10Z,Rebased and fixed.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-518424405,518424405,
Sjors,2019-08-06T09:50:07Z,I think that missed a few spots. Also  `--disable-wallet` still has the same error.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-518597927,518597927,
achow101,2019-08-06T18:04:22Z,fixed `--disable-wallet`.,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-518780070,518780070,
Sjors,2019-08-06T19:02:33Z,re-ACK c41d2f68d,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-518801250,518801250,
DrahtBot,2019-08-16T07:40:55Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-521918407,521918407,
achow101,2019-08-17T00:39:28Z,Rebased,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-522188862,522188862,
Sjors,2019-08-17T11:44:04Z,"Still compiles on macOS and seems to work as before. Changes between da8a86c and my previous ACK at c41d2f6 are mostly in the ""Refactor OpenWalletActivity"" commit, so will defer to @promag. ",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-522229969,522229969,
meshcollider,2019-09-05T13:37:06Z,"I agree with fanquake, I'll review+test tomorrow but I think I will merge it after that to give proper time for testing as mentioned. Please review before then everyone :D ",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-528368631,528368631,
promag,2019-09-05T23:06:25Z,"@achow101 please rebase, here's the trivial diff from my PR:\n```diff\ndiff --git a/src/qt/walletcontroller.cpp b/src/qt/walletcontroller.cpp\nindex d0ffd6ba3..88ccc8c2d 100644\n--- a/src/qt/walletcontroller.cpp\n+++ b/src/qt/walletcontroller.cpp\n@@ -160,10 +160,6 @@ void WalletControllerActivity::showProgressDialog(const QString& label_text)\n     m_progress_dialog->setCancelButton(nullpt",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-528638915,528638915,
promag,2019-09-05T23:35:57Z,"Tested ACK on macOS 10.14.3 (rebased with my branch), played around, looks good to me.\n\n> This is at least one inconsistency where if you create a wallet with a HTML escaped character in the name, i.e Alice & Bob, then the & will not be shown in some menus / dialogs.\n\n@fanquake something to fix next.\n",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-528646815,528646815,
achow101,2019-09-06T00:38:49Z,Rebased onto #16261,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-528660429,528660429,
sipa,2019-09-06T18:42:35Z,Concept and approach ACK,https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-528969268,528969268,
fanquake,2019-09-07T06:29:29Z,"ACK 613de61a04c210a51af9997e69f66439a17a632a - re-reviewed on macOS. I'm going to merge this now. It's had a stack of review, and as mentioned multiple times above, lets get this into `master` so it can get more testing pre `v0.19.0`.\n\nChecked that the [gui: Refactor OpenWalletActivity commit in this PR](https://github.com/bitcoin/bitcoin/pull/15450/commits/bc6d8a3662f0fb992073e5e80269a90a722d",https://github.com/bitcoin/bitcoin/pull/15450#issuecomment-529078844,529078844,
ryanofsky,2019-02-20T18:39:30Z,"Maybe it is too difficult to do in this PR, but if it's possible to avoid creating the wallet in the GUI event loop thread and calling createWallet, setNewHdSeed, topUpKeyPool synchronously that would be a nice of allowing the GUI to avoid hangs and be more responsive. I believe @promag has some changes which use worker threads, so he might be able to give specific suggestions.\n\nThere may also",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r258621581,258621581,src/qt/createwalletdialog.cpp
achow101,2019-02-20T19:46:23Z,I'm not very familiar with the GUI code so I think it would best to let someone else do that.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r258647742,258647742,src/qt/createwalletdialog.cpp
promag,2019-02-21T00:12:26Z,Usually this comes first.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r258732064,258732064,src/qt/bitcoingui.cpp
practicalswift,2019-02-25T23:29:12Z,`name` could be const ref?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r260064792,260064792,src/qt/walletcontroller.cpp
achow101,2019-05-23T18:36:33Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287080115,287080115,src/qt/bitcoingui.cpp
jnewbery,2019-05-23T21:19:02Z,I don't see any reason to split this out into two functions. This `CreateWallet()` function is only called from the `CreateWallet()` function below. Why not just place the logic in that function?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287138722,287138722,src/wallet/wallet.cpp
jnewbery,2019-05-23T21:20:43Z,"`CreateWallet(interfaces::Chain& chain, const std::string& name, uint64_t wallet_creation_flags)` should be declared here (instead of the `(interfaces::Chain& chain, const WalletLocation& location, uint64_t wallet_creation_flags)` version, which can be removed)",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287139243,287139243,src/wallet/wallet.h
jnewbery,2019-05-23T22:00:25Z,"I don't understand why this change (unlocking the wallet after it's encrypted in RPC) is necessary or desirable. If you want to keep it, can you add some justification (perhaps to the commit log)?",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287150873,287150873,src/wallet/rpcwallet.cpp
jnewbery,2019-05-23T22:08:00Z,"This isn't great. If I create a wallet with 'Encrypt Wallet' set, but then 'Cancel' from the 'Encrypt Wallet' dialog, the wallet will be created but not encrypted. That shouldn't happen.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287152838,287152838,src/qt/createwalletdialog.cpp
jnewbery,2019-05-23T22:10:39Z,"I don't think the dialog should hide if wallet creation fails. For example, if I try to create a wallet with the name of an existing wallet and get the 'A wallet with the name <name> already exists' dialog, I shouldn't be dumped back into the main GUI when I click 'OK'. I should have the chance to try a different name.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287153424,287153424,src/qt/createwalletdialog.cpp
jnewbery,2019-05-23T22:12:29Z,You should use `setWindowTitle()` here so the dialog isn't just titled 'Dialog'.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287153828,287153828,src/qt/createwalletdialog.cpp
jnewbery,2019-05-23T22:13:13Z,Should this default to checked?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287154026,287154026,src/qt/forms/createwalletdialog.ui
jnewbery,2019-05-23T22:13:45Z,I agree with @Sjors that these two boxes should be hidden in an 'Advanced options' section.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287154161,287154161,src/qt/forms/createwalletdialog.ui
jnewbery,2019-05-23T22:15:50Z,There seems to be duplicated logic between here and the `createwallet` RPC. Can some of that be moved into `CreateWallet()` in wallet.cpp?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287154596,287154596,src/qt/createwalletdialog.cpp
achow101,2019-05-24T16:42:31Z,Hmm. I think fixing that requires a significant change to how `AskPassphraseDialog` works due to that dialog being the one that also encrypts.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287436904,287436904,src/qt/createwalletdialog.cpp
achow101,2019-05-24T16:44:01Z,I don't think so.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437392,287437392,src/qt/createwalletdialog.cpp
achow101,2019-05-24T16:45:01Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437725,287437725,src/wallet/wallet.cpp
achow101,2019-05-24T16:45:06Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437749,287437749,src/wallet/wallet.h
achow101,2019-05-24T16:45:12Z,Dropped that commit.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437783,287437783,src/wallet/rpcwallet.cpp
achow101,2019-05-24T16:45:19Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437834,287437834,src/qt/createwalletdialog.cpp
achow101,2019-05-24T16:45:24Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287437867,287437867,src/qt/createwalletdialog.cpp
jnewbery,2019-05-24T17:12:56Z,Why is this needed as a separate function? Can the `WalletController` just be passed as an argument to the constructor?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287446571,287446571,src/qt/createwalletdialog.h
jnewbery,2019-05-24T17:14:20Z,I think it needs to be done. Creating an unencrypted wallet by accident when the user backs out of the change password  dialog is bad user experience.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287447020,287447020,src/qt/createwalletdialog.cpp
jnewbery,2019-05-24T17:18:42Z,"I don't understand why not. Both the RPC and QT are calling a createwallet function, then having control returned to them, and then they encrypt the wallet, set the HD seed, and top up the keypool. It seems better to me that the `CreateWallet()` function take care of this and not expose the low-level `setNewHDSeed` and `topUpKeyPool` methods on the wallet interface.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287448364,287448364,src/qt/createwalletdialog.cpp
jnewbery,2019-05-24T17:41:08Z,This include needs to be removed,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287455628,287455628,src/qt/createwalletdialog.cpp
achow101,2019-05-24T18:03:07Z,I'll look into it,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287462986,287462986,src/qt/createwalletdialog.cpp
achow101,2019-05-24T18:12:59Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287466090,287466090,src/qt/forms/createwalletdialog.ui
achow101,2019-05-24T18:13:15Z,I couldn't figure out how to do this.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287466174,287466174,src/qt/forms/createwalletdialog.ui
achow101,2019-05-24T18:13:44Z,I see... I think this would require the `AskPassphraseDialog` change as well in order to do this.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287466328,287466328,src/qt/createwalletdialog.cpp
achow101,2019-05-24T18:13:50Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287466353,287466353,src/qt/createwalletdialog.h
achow101,2019-05-24T18:13:56Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287466391,287466391,src/qt/createwalletdialog.cpp
achow101,2019-05-24T22:18:41Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287529104,287529104,src/qt/createwalletdialog.cpp
achow101,2019-05-24T22:18:47Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r287529117,287529117,src/qt/createwalletdialog.cpp
achow101,2019-05-28T15:07:21Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r288154940,288154940,src/qt/walletcontroller.cpp
jnewbery,2019-05-28T15:37:21Z,"I suggest you add a `QMessageBox::warning` here (the message in the existing success warning about ""Any previous backups"" is not relevant for new wallets) and then return.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r288169970,288169970,src/qt/askpassphrasedialog.cpp
achow101,2019-05-28T17:13:11Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r288211695,288211695,src/qt/askpassphrasedialog.cpp
promag,2019-05-30T22:14:20Z,The suggestion I have is to do similar to #15478. I think it's fine as a follow up.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r289193313,289193313,src/qt/createwalletdialog.cpp
promag,2019-05-30T22:15:25Z,"nitnit, move up.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r289193584,289193584,src/qt/bitcoingui.h
promag,2019-05-30T22:16:00Z,virtual,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r289193737,289193737,src/qt/createwalletdialog.h
promag,2019-05-30T22:17:01Z,string&,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r289193993,289193993,src/qt/walletcontroller.cpp
promag,2019-05-30T22:19:07Z,Not sure if this check (as it is pays) off. It doesn't check if name as a path exists - since name can be a path. Maybe add `m_node.canCreateWallet(name)`?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r289194522,289194522,src/qt/walletcontroller.cpp
PastaPastaPasta,2019-06-06T02:41:26Z,"fix formatting, brackets should be on same line",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291002713,291002713,src/qt/askpassphrasedialog.cpp
PastaPastaPasta,2019-06-06T02:42:23Z,"```suggestion\n    if (!model && mode != Encrypt)\n```\nalso, move the body (`return;`) onto the same line or enclose in brackets",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291002843,291002843,src/qt/askpassphrasedialog.cpp
PastaPastaPasta,2019-06-06T02:42:42Z,brackets should be on same line,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291002892,291002892,src/qt/askpassphrasedialog.cpp
PastaPastaPasta,2019-06-06T02:43:05Z,147 - 149 should be on the same line,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291002932,291002932,src/qt/askpassphrasedialog.cpp
PastaPastaPasta,2019-06-06T02:43:26Z,fix? add space and move `{`,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291002975,291002975,src/qt/bitcoingui.cpp
jonatack,2019-06-07T19:23:02Z,"s/a HD/an HD/ (""h"" is pronounced as a vowel here similar to how one writes ""an hour"" and not ""a hour"").\n\n""cannot have a HD seed set or private keys imported"" is unclear because ""set"" can be either a verb or a noun, which changes the possible meaning substantially.\n\nSuggestion, depending on the intended meaning:\n\n*Wallets with private keys disabled will have no private keys and cannot i",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291723949,291723949,src/qt/forms/createwalletdialog.ui
jonatack,2019-06-07T19:32:51Z,"Suggestion to avoid confusion between ""set"" as a noun or as a verb:\n\n*Make a blank wallet. Blank wallets do not initially have private keys or scripts. Private keys and addresses can be imported, or an HD seed can be set, at a later time.*\n\ns/a HD/an HD/ as above.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291726796,291726796,src/qt/forms/createwalletdialog.ui
jonatack,2019-06-07T19:38:58Z,"Tab focus hits the ""Encrypt Wallet"" checkbox after the first two checkboxes instead of in its new position first. Re-order needed.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291728507,291728507,src/qt/forms/createwalletdialog.ui
jonatack,2019-06-07T19:43:25Z,"checkWalletExists does not detect dupes if the user inadvertently enters leading or trailing spaces in the wallet name field. This is seems more problematic for trailing spaces since any such spaces are currently invisible in the ""Open Wallet"" list so the wallet names appear identical. Perhaps strip (leading and) trailing spaces before the Create Wallet validation stage?",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r291729907,291729907,src/qt/walletcontroller.cpp
achow101,2019-06-13T13:40:29Z,"This is moved code, not changing formatting",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293383688,293383688,src/qt/askpassphrasedialog.cpp
achow101,2019-06-13T13:40:37Z,"This is moved code, not changing formatting",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293383743,293383743,src/qt/askpassphrasedialog.cpp
achow101,2019-06-13T13:41:00Z,"No, unrelated.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293383941,293383941,src/qt/bitcoingui.cpp
achow101,2019-06-13T13:42:27Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293384625,293384625,src/qt/bitcoingui.h
achow101,2019-06-13T13:42:31Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293384661,293384661,src/qt/createwalletdialog.h
achow101,2019-06-13T13:42:59Z,I've removed the check entirely since the same thing is done in the `CreateWallet()` function already.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293384875,293384875,src/qt/walletcontroller.cpp
achow101,2019-06-13T13:43:13Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293384985,293384985,src/qt/askpassphrasedialog.cpp
achow101,2019-06-13T13:43:32Z,"Changed the spacing, leaving `return` as is because it was not touched.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293385153,293385153,src/qt/askpassphrasedialog.cpp
achow101,2019-06-13T14:16:16Z,This function has been removed. The check is handled by `WalletLocation` now.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293402287,293402287,src/qt/walletcontroller.cpp
achow101,2019-06-13T14:20:10Z,Changed to the second suggestion.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293404441,293404441,src/qt/forms/createwalletdialog.ui
achow101,2019-06-13T14:20:14Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293404480,293404480,src/qt/forms/createwalletdialog.ui
achow101,2019-06-13T14:20:21Z,Fixed,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r293404542,293404542,src/qt/forms/createwalletdialog.ui
fanquake,2019-06-27T05:24:40Z,Travis is not running because of the duplicate `<qt/guiutil.h>` include.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r298010370,298010370,src/qt/walletcontroller.cpp
achow101,2019-06-27T14:39:30Z,Fixed,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r298212062,298212062,src/qt/walletcontroller.cpp
fanquake,2019-06-29T08:51:42Z,A call to `m_passphrase_dialog->setWindowModality(Qt::ApplicationModal);` before `->show();` seems to fix the autofocussing.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r298793231,298793231,src/qt/walletcontroller.cpp
achow101,2019-07-09T20:37:06Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r301782566,301782566,src/qt/walletcontroller.cpp
fanquake,2019-07-10T02:21:49Z,"Great, thanks.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r301862940,301862940,src/qt/walletcontroller.cpp
Sjors,2019-07-11T09:41:31Z,This won't get translated?,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r302453593,302453593,src/qt/createwalletdialog.cpp
Sjors,2019-07-11T09:45:26Z,"In the future this should be moved to a `validate()` function, because there may be more factors that influence if `OK` should be enabled.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r302455312,302455312,src/qt/createwalletdialog.cpp
Sjors,2019-07-11T09:59:15Z,"Nit: avoid duplicating the above text, if only to make life easier on translators.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r302461469,302461469,src/qt/askpassphrasedialog.cpp
achow101,2019-07-12T20:04:24Z,Something for a followup.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r303130195,303130195,src/qt/createwalletdialog.cpp
achow101,2019-07-12T20:14:35Z,Fixed.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r303133294,303133294,src/qt/createwalletdialog.cpp
achow101,2019-07-12T20:14:41Z,Done,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r303133325,303133325,src/qt/askpassphrasedialog.cpp
Sjors,2019-08-06T09:45:54Z,Unused variable `status`. Also it would be more consistent to make the interface method match the new pattern.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r310975147,310975147,src/interfaces/node.cpp
achow101,2019-08-06T18:04:02Z,Changed the interface to match the new pattern.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r311200097,311200097,src/interfaces/node.cpp
jonatack,2019-09-05T18:20:56Z,"s/password/passphrase/ given that the dialog in question asks the user to input passphrases, not passwords",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r321413010,321413010,src/qt/forms/createwalletdialog.ui
jonatack,2019-09-05T18:25:17Z,"Nit: it would be clearer to name this as `encryptWallet` here and `makeBlankWallet` on line 58, the way `disablePrivateKeys` is named.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r321414968,321414968,src/qt/createwalletdialog.cpp
jonatack,2019-09-05T18:28:07Z,"Nit: following my comment above, naming these `encryptWallet` and `makeBlankWallet` (like `disablePrivateKeys`) seems more precise/coherent/would improve git grepping.",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r321416257,321416257,src/qt/createwalletdialog.h
jonatack,2019-09-05T18:32:33Z,"For my understanding, why is this now needed?",https://github.com/bitcoin/bitcoin/pull/15450#discussion_r321418271,321418271,src/qt/guiconstants.h
jonatack,2019-09-05T18:34:52Z,Nit: would be nice to hoist the 4 occurrences of this magic value (500) to a helpfully named constant.,https://github.com/bitcoin/bitcoin/pull/15450#discussion_r321419278,321419278,src/qt/walletcontroller.cpp
