MarcoFalke,2016-11-09T18:21:44Z,utACK 46625538d674a5aaf1bcfa7c8be8a49e5a23fa9e\n,https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259485929,259485929,
sipa,2016-11-09T19:19:16Z,What does `!pto->fDisconnect` have to do with the version handshake?\n,https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259500801,259500801,
theuni,2016-11-09T19:41:10Z,"@sipa in this case, the handshake started, but stopped halfway-through and set fDisconnected because the node didn't have the services expected. I suppose I should've ignored that and just called this ""don't send feefilter messages if fDisconnect has been set"".\n\nFor a more correct/complete (but untested) change, see here: https://github.com/theuni/bitcoin/commits/feefilter-assert2 .\n",https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259506237,259506237,
jonasschnelli,2016-11-10T07:39:51Z,utACK 46625538d674a5aaf1bcfa7c8be8a49e5a23fa9e\n,https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259621708,259621708,
rebroad,2016-11-11T06:29:40Z,"I still don't understand why we don't simply put the fDisconnect check along with the check for nVersion != 0 then all of these little issues would not exist. The only messages we need to send once fDisconnect is set are messages directly relating to the disconnection, e.g. the ""bye"" message @laanwj proposed a while back.\n",https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259890873,259890873,
theuni,2016-11-11T06:37:41Z,"@rebroad #9128 contains the complete fix to this, similar to what you're suggesting.\n\nI'll leave this open for now in case the quick fix is desired to avoid the crash while the bigger PR is in review.\n",https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259891791,259891791,
rebroad,2016-11-11T06:51:44Z,"@theuni oh! you got there before me! Well, #9129 contains just the fix we're talking about, so might need less review...\n",https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259893384,259893384,
theuni,2016-11-11T06:55:51Z,"@rebroad That only stops processing if fDisconnect is already set when SendMessages is called. But with your changes, if it's set part-way through SendMessages (as it is a few times), messages further down will now be allowed out!\n",https://github.com/bitcoin/bitcoin/pull/9117#issuecomment-259893919,259893919,
