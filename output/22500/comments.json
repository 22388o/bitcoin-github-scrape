[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882628295",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-882628295",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 882628295,
    "node_id": "IC_kwDOABII5840m9bH",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T15:10:10Z",
    "updated_at": "2021-07-19T15:10:10Z",
    "author_association": "MEMBER",
    "body": "Approach ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882628295/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882777090",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-882777090",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 882777090,
    "node_id": "IC_kwDOABII5840nhwC",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T18:49:04Z",
    "updated_at": "2021-07-19T18:49:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22498 by MarcoFalke\n* #22479 by jonatack\n* #21940 by MarcoFalke\n* #20233 by jnewbery\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/882777090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/883272520",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-883272520",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 883272520,
    "node_id": "IC_kwDOABII5840patI",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T10:10:59Z",
    "updated_at": "2021-07-20T10:11:25Z",
    "author_association": "MEMBER",
    "body": "re-ACK fa4bfef4798466e986569baf0d8e3213f17cafc8 have been testing this rebased to current master with DEBUG_ADDRMAN defined\r\n\r\ncould squash\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/883272520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884041918",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-884041918",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 884041918,
    "node_id": "IC_kwDOABII5840sWi-",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T09:32:21Z",
    "updated_at": "2021-07-21T09:41:49Z",
    "author_association": "MEMBER",
    "body": "~I've added these two commits to #20233, since the two PRs are doing overlapping things.~\r\n\r\nEDIT: removed them again after discussing with Marco.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884041918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884479640",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-884479640",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 884479640,
    "node_id": "IC_kwDOABII5840uBaY",
    "user": {
      "login": "lsilva01",
      "id": 84432093,
      "node_id": "MDQ6VXNlcjg0NDMyMDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/84432093?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lsilva01",
      "html_url": "https://github.com/lsilva01",
      "followers_url": "https://api.github.com/users/lsilva01/followers",
      "following_url": "https://api.github.com/users/lsilva01/following{/other_user}",
      "gists_url": "https://api.github.com/users/lsilva01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lsilva01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lsilva01/subscriptions",
      "organizations_url": "https://api.github.com/users/lsilva01/orgs",
      "repos_url": "https://api.github.com/users/lsilva01/repos",
      "events_url": "https://api.github.com/users/lsilva01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lsilva01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T20:31:42Z",
    "updated_at": "2021-07-21T20:31:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "If `DEBUG_ADDRMAN` is set, the following error will occur when `addrman_tests` is run:\r\n```\r\n$ src/test/test_bitcoin --run_test=addrman_tests --log_level=unit_scope\r\nRunning 18 test cases...\r\nEntering test module \"Bitcoin Core Test Suite\"\r\ntest/addrman_tests.cpp(124): Entering test suite \"addrman_tests\"\r\ntest/addrman_tests.cpp(126): Entering test case \"addrman_simple\"\r\ntest_bitcoin: addrman.cpp:518: void CAddrMan::Check(): Assertion `!nKey.IsNull()' failed.\r\nunknown location(0): fatal error: in \"addrman_tests/addrman_simple\": signal: SIGABRT (application abort requested)\r\ntest/addrman_tests.cpp(133): last checkpoint\r\ntest/addrman_tests.cpp(126): Leaving test case \"addrman_simple\"; testing time: 144057us\r\n\r\ntest/addrman_tests.cpp(175): Entering test case \"addrman_ports\"\r\ntest_bitcoin: util/system.cpp:654: void ArgsManager::AddArg(const std::string &, const std::string &, unsigned int, const OptionsCategory &): Assertion `ret.second' failed.\r\nunknown location(0): fatal error: in \"addrman_tests/addrman_ports\": signal: SIGABRT (application abort requested)\r\ntest/addrman_tests.cpp(175): last checkpoint: \"addrman_ports\" fixture ctor\r\ntest/addrman_tests.cpp(175): Leaving test case \"addrman_ports\"; testing time: 287us\r\n....\r\n``` \r\n\r\nIf  the line 518  (`assert(!nKey.IsNull())`) of `addrman.cpp` is commented out, the test will run successfully.\r\n```\r\nvoid CAddrMan::Check()\r\n{\r\n#ifdef DEBUG_ADDRMAN\r\n    AssertLockHeld(cs);\r\n// ....\r\n    assert(!setTried.size());\r\n    assert(!mapNew.size());\r\n    // assert(!nKey.IsNull());\r\n#endif\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884479640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884483441",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-884483441",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 884483441,
    "node_id": "IC_kwDOABII5840uCVx",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T20:38:06Z",
    "updated_at": "2021-07-21T20:38:06Z",
    "author_association": "MEMBER",
    "body": "> If DEBUG_ADDRMAN is set, the following error will occur when addrman_tests is run ...\r\n\r\n@lsilva01 this is fixed in the first commit of #20233.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/884483441/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886102463",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-886102463",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 886102463,
    "node_id": "IC_kwDOABII58400Nm_",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-24T19:39:36Z",
    "updated_at": "2021-07-24T19:39:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886102463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886506426",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#issuecomment-886506426",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22500",
    "id": 886506426,
    "node_id": "IC_kwDOABII58401wO6",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T08:48:17Z",
    "updated_at": "2021-07-26T08:48:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "This will make it inconvenient to do something other than `abort()` on `Check()` failure.\r\n\r\nFor example, it might make sense to do the check right after `Unserialize()` and if it fails - throw `std::ios_base::failure` as if disk corruption has occurred.\r\n\r\nIn general `assert()` should be used when a possible programming error has been detected, not on bad input.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/886506426/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440473",
    "pull_request_review_id": 709737268,
    "id": 672440473,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjQ0MDQ3Mw==",
    "diff_hunk": "@@ -459,85 +459,64 @@ CAddrInfo CAddrMan::Select_(bool newOnly)\n     }\n }\n \n-#ifdef DEBUG_ADDRMAN\n-int CAddrMan::Check_()\n+void CAddrMan::Check()\n {\n+#ifdef DEBUG_ADDRMAN\n     AssertLockHeld(cs);\n \n     std::unordered_set<int> setTried;\n     std::unordered_map<int, int> mapNew;\n \n-    if (vRandom.size() != (size_t)(nTried + nNew))\n-        return -7;\n+    assert(vRandom.size() == (size_t)(nTried + nNew));\n \n     for (const auto& entry : mapInfo) {\n         int n = entry.first;\n         const CAddrInfo& info = entry.second;\n         if (info.fInTried) {\n-            if (!info.nLastSuccess)\n-                return -1;\n-            if (info.nRefCount)\n-                return -2;\n+            assert(info.nLastSuccess);\n+            assert(!info.nRefCount);\n             setTried.insert(n);\n         } else {\n-            if (info.nRefCount < 0 || info.nRefCount > ADDRMAN_NEW_BUCKETS_PER_ADDRESS)\n-                return -3;\n-            if (!info.nRefCount)\n-                return -4;\n+            assert(info.nRefCount >= 0 && info.nRefCount <= ADDRMAN_NEW_BUCKETS_PER_ADDRESS);\n+            assert(info.nRefCount);\n             mapNew[n] = info.nRefCount;\n         }\n-        if (mapAddr[info] != n)\n-            return -5;\n-        if (info.nRandomPos < 0 || (size_t)info.nRandomPos >= vRandom.size() || vRandom[info.nRandomPos] != n)\n-            return -14;\n-        if (info.nLastTry < 0)\n-            return -6;\n-        if (info.nLastSuccess < 0)\n-            return -8;\n+        assert(mapAddr[info] == n);\n+        assert(info.nRandomPos >= 0 && (size_t)info.nRandomPos < vRandom.size() && vRandom[info.nRandomPos] == n);\n+        assert(info.nLastTry >= 0);\n+        assert(info.nLastSuccess >= 0);\n     }\n \n-    if (setTried.size() != (size_t)nTried)\n-        return -9;\n-    if (mapNew.size() != (size_t)nNew)\n-        return -10;\n+    assert(setTried.size() == (size_t)nTried);\n+    assert(mapNew.size() == (size_t)nNew);\n \n     for (int n = 0; n < ADDRMAN_TRIED_BUCKET_COUNT; n++) {\n         for (int i = 0; i < ADDRMAN_BUCKET_SIZE; i++) {\n              if (vvTried[n][i] != -1) {\n-                 if (!setTried.count(vvTried[n][i]))\n-                     return -11;\n-                 if (mapInfo[vvTried[n][i]].GetTriedBucket(nKey, m_asmap) != n)\n-                     return -17;\n-                 if (mapInfo[vvTried[n][i]].GetBucketPosition(nKey, false, n) != i)\n-                     return -18;\n-                 setTried.erase(vvTried[n][i]);\n+                assert(setTried.count(vvTried[n][i]));\n+                assert(mapInfo[vvTried[n][i]].GetTriedBucket(nKey, m_asmap) == n);\n+                assert(mapInfo[vvTried[n][i]].GetBucketPosition(nKey, false, n) == i);\n+                setTried.erase(vvTried[n][i]);",
    "path": "src/addrman.cpp",
    "position": 74,
    "original_position": 72,
    "commit_id": "fa4bfef4798466e986569baf0d8e3213f17cafc8",
    "original_commit_id": "cccc47b0ef5af66c8e6349d7cef60b902b80bc09",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, spacing here is off by one\r\n",
    "created_at": "2021-07-19T16:13:20Z",
    "updated_at": "2021-07-20T08:13:05Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#discussion_r672440473",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22500",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440473"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22500#discussion_r672440473"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22500"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 499,
    "original_line": 499,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440785",
    "pull_request_review_id": 709737268,
    "id": 672440785,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY3MjQ0MDc4NQ==",
    "diff_hunk": "@@ -722,21 +722,7 @@ class CAddrMan\n \n     //! Consistency check\n     void Check()\n-        EXCLUSIVE_LOCKS_REQUIRED(cs)\n-    {\n-#ifdef DEBUG_ADDRMAN\n-        AssertLockHeld(cs);\n-        const int err = Check_();\n-        if (err) {\n-            LogPrintf(\"ADDRMAN CONSISTENCY CHECK FAILED!!! err=%i\\n\", err);\n-        }\n-#endif\n-    }\n-\n-#ifdef DEBUG_ADDRMAN\n-    //! Perform consistency check. Returns an error code or zero.\n-    int Check_() EXCLUSIVE_LOCKS_REQUIRED(cs);\n-#endif\n+        EXCLUSIVE_LOCKS_REQUIRED(cs);",
    "path": "src/addrman.h",
    "position": 19,
    "original_position": 19,
    "commit_id": "fa4bfef4798466e986569baf0d8e3213f17cafc8",
    "original_commit_id": "cccc47b0ef5af66c8e6349d7cef60b902b80bc09",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```diff\r\n     //! Consistency check\r\n-    void Check()\r\n-        EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n+    void Check() EXCLUSIVE_LOCKS_REQUIRED(cs);\r\n```\r\n",
    "created_at": "2021-07-19T16:13:45Z",
    "updated_at": "2021-07-19T16:14:10Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22500#discussion_r672440785",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22500",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440785"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22500#discussion_r672440785"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22500"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/672440785/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 725,
    "original_line": 725,
    "side": "RIGHT"
  }
]