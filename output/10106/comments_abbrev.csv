instagibbs,2017-03-28T13:06:48Z,utACK https://github.com/bitcoin/bitcoin/pull/10106/commits/71a61336789c5c0bf8b5cf1b1a20614ba513d5ce,https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-289763329,289763329,
gmaxwell,2017-03-28T19:39:26Z,"MutateTxAddOutPubKey appears to have the same issue. I recommend reviewing 61a153443ef87d0cf187d2203f0d5ef88e52e7ed and addressing it completely.\n\nAlso, pinging @jnewbery ",https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-289881320,289881320,
laanwj,2017-03-29T08:00:29Z,Ugh. Needs backport to 0.14.1,https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290013775,290013775,
jnewbery,2017-03-29T14:19:05Z,"I've reviewed https://github.com/bitcoin/bitcoin/commit/61a153443ef87d0cf187d2203f0d5ef88e52e7ed and I think `MutateTxAddOutAddr()` and `MutateTxAddOutPubKey()` are the only functions that aren't properly checking their inputs. Extra eyes to review are always good though.\n\nThe check in `MutateTxAddOutPubKey()` should be:\n\n```c\n    if (vStrInputParts.size() < 2 || vStrInputParts.size() > ",https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290104555,290104555,
jnewbery,2017-03-29T14:56:24Z,"Extra testcases are here: https://github.com/jnewbery/bitcoin/commits/bitcoin_tx_input_sanitiser\n\n- 31c4dbf81a164e57a414ee548ec3227dfee35cba adds stderr checking to bctest.py\n- 718063a84dd78187171f60759bebd64aea1fed58 is the fix for bitcoin-tx (which you should just squash into your existing fix)\n- 0768e51977924aadf19c21331a15e30d97ba44c0 adds tests for bitcoin-tx correctly checking the nu",https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290116567,290116567,
jtimon,2017-03-30T19:17:50Z,"Yes, it seems MutateTxAddOutAddr and MutateTxAddOutPubKey are the only ones with more than one part but not checking it.\nutACK but better to fix both.\n",https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290516273,290516273,
jnewbery,2017-03-30T20:45:50Z,"@awemany - there's some enthusiasm to get this merged into master quickly, so I've opened #10130 with your fix and my test changes.\n\nThanks for reporting this (and providing a fix!)",https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290539650,290539650,
fanquake,2017-03-30T23:09:28Z,Closing in favour of #10130 . @awemany your changes are still included in the new pull-request.,https://github.com/bitcoin/bitcoin/pull/10106#issuecomment-290570549,290570549,
