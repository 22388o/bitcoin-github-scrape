[
  {
    "sha": "0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZTZmNDk5ODRmMmIwOGNkNDRhMWIyNDIwZTZmNTZlMjI0Y2E1MjNl",
    "commit": {
      "author": {
        "name": "Eric Lombrozo",
        "email": "elombrozo@gmail.com",
        "date": "2013-06-25T22:25:52Z"
      },
      "committer": {
        "name": "Eric Lombrozo",
        "email": "elombrozo@gmail.com",
        "date": "2013-06-25T22:25:52Z"
      },
      "message": "Added RPC method for dumping the raw hex for a public key in the wallet corresponding to a given address.",
      "tree": {
        "sha": "a2184365661f809d9a6a6707cf2447a543fa4e28",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2184365661f809d9a6a6707cf2447a543fa4e28"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/comments",
    "author": {
      "login": "CodeShark",
      "id": 894059,
      "node_id": "MDQ6VXNlcjg5NDA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/894059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeShark",
      "html_url": "https://github.com/CodeShark",
      "followers_url": "https://api.github.com/users/CodeShark/followers",
      "following_url": "https://api.github.com/users/CodeShark/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeShark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeShark/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeShark/orgs",
      "repos_url": "https://api.github.com/users/CodeShark/repos",
      "events_url": "https://api.github.com/users/CodeShark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeShark/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "CodeShark",
      "id": 894059,
      "node_id": "MDQ6VXNlcjg5NDA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/894059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeShark",
      "html_url": "https://github.com/CodeShark",
      "followers_url": "https://api.github.com/users/CodeShark/followers",
      "following_url": "https://api.github.com/users/CodeShark/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeShark/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeShark/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeShark/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeShark/orgs",
      "repos_url": "https://api.github.com/users/CodeShark/repos",
      "events_url": "https://api.github.com/users/CodeShark/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeShark/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "481d89979457d69da07edd99fba451fd42a47f5c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/481d89979457d69da07edd99fba451fd42a47f5c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/481d89979457d69da07edd99fba451fd42a47f5c"
      }
    ],
    "stats": {
      "total": 21,
      "additions": 21,
      "deletions": 0
    },
    "files": [
      {
        "sha": "33d3c5b04aa3d1257b96d8e29aa8d7f74e1917cc",
        "filename": "src/bitcoinrpc.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/bitcoinrpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/bitcoinrpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoinrpc.cpp?ref=0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
        "patch": "@@ -243,6 +243,7 @@ static const CRPCCommand vRPCCommands[] =\n     { \"submitblock\",            &submitblock,            false,     false },\n     { \"listsinceblock\",         &listsinceblock,         false,     false },\n     { \"dumpprivkey\",            &dumpprivkey,            true,      false },\n+    { \"dumppubkey\",             &dumppubkey,             true,      false },\n     { \"dumpwallet\",             &dumpwallet,             true,      false },\n     { \"importprivkey\",          &importprivkey,          false,     false },\n     { \"importwallet\",           &importwallet,           false,     false },"
      },
      {
        "sha": "d322a9c9bbafc753baa52e203629a0d424fb25c0",
        "filename": "src/bitcoinrpc.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/bitcoinrpc.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/bitcoinrpc.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoinrpc.h?ref=0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
        "patch": "@@ -148,6 +148,7 @@ extern json_spirit::Value getaddednodeinfo(const json_spirit::Array& params, boo\n \n extern json_spirit::Value dumpprivkey(const json_spirit::Array& params, bool fHelp); // in rpcdump.cpp\n extern json_spirit::Value importprivkey(const json_spirit::Array& params, bool fHelp);\n+extern json_spirit::Value dumppubkey(const json_spirit::Array& params, bool fHelp);\n extern json_spirit::Value dumpwallet(const json_spirit::Array& params, bool fHelp);\n extern json_spirit::Value importwallet(const json_spirit::Array& params, bool fHelp);\n "
      },
      {
        "sha": "e8f7be2fcb6ba17215166484fbe68df03f110a87",
        "filename": "src/rpcdump.cpp",
        "status": "modified",
        "additions": 19,
        "deletions": 0,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/rpcdump.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0e6f49984f2b08cd44a1b2420e6f56e224ca523e/src/rpcdump.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/rpcdump.cpp?ref=0e6f49984f2b08cd44a1b2420e6f56e224ca523e",
        "patch": "@@ -214,6 +214,25 @@ Value dumpprivkey(const Array& params, bool fHelp)\n     return CBitcoinSecret(vchSecret).ToString();\n }\n \n+Value dumppubkey(const Array& params, bool fHelp)\n+{\n+    if (fHelp || params.size() != 1)\n+        throw runtime_error(\n+            \"dumppubkey <bitcoinaddress>\\n\"\n+            \"Reveals the full hex public key corresponding to <bitcoinaddress>.\");\n+\n+    string strAddress = params[0].get_str();\n+    CBitcoinAddress address;\n+    if (!address.SetString(strAddress))\n+        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid Bitcoin address\");\n+    CKeyID keyID;\n+    if (!address.GetKeyID(keyID))\n+        throw JSONRPCError(RPC_TYPE_ERROR, \"Address does not refer to a key\");\n+    CPubKey pubKey;\n+    if (!pwalletMain->GetPubKey(keyID, pubKey))\n+        throw JSONRPCError(RPC_WALLET_ERROR, \"Public key for address \" + strAddress + \" is not known\");\n+    return HexStr(pubKey.begin(), pubKey.end());\n+}\n \n Value dumpwallet(const Array& params, bool fHelp)\n {"
      }
    ]
  }
]