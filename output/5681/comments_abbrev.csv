theuni,2015-01-20T02:35:13Z,"Very nice, I've been meaning to take a look at this as well. Great to see it was relatively non-invasive.\nI've verified that fd10da8cae79a15d2ac23a17120cb2d62e8a28e2 and b46dd0f3f53ec20035660aaca07484f898df1fc5 are read-only. From a quick eye-ball (and since Travis is happy), the includes changes look good too.\n\nutAck.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-70595524,70595524,
laanwj,2015-01-20T10:36:06Z,"ACK. Looks like a definite improvement to me, and low-risk due to (mostly) move only.\n\nIt becomes kind of apparent from this how much is exported in main.h that \n- a) initialization/shutdown purposes (InitBlockIndex/LoadBlockIndex/UnloadBlockIndex/ThreadScriptCheck at least). \n- b) only used lnternally (WriteBlockToDisk, ProcessMessages, GetMinRelayFee at least), but see c - possibly this mean",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-70634355,70634355,
jtimon,2015-01-20T20:33:27Z,"For b and c, maybe a half-solution that just comes to mind, is just leaving the definitions in main.cpp but expose them with an independent header like main_test.h or something. Just a random thought.\n\nI'm basically focusing on consensus and policy checks. Trying to take advantage of potential similarities between their dependencies. Right now it's kind of a mess that doesn't even pass the tests",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-70727519,70727519,
Diapolo,2015-01-20T21:56:27Z,"Pretty cool, that you are following the ordering style still ^^. Does this also speedup compilation times, did you benchmark it?\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-70742296,70742296,
jtimon,2015-01-21T11:05:18Z,"@Diapolo thanks for double-checking the include alphabetical order. \nI believe it does speedup compilation times, but I haven't benchmarked it. Some benchmarks would be great if you want to do them.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-70819604,70819604,
jtimon,2015-01-23T13:04:15Z,I left the final commit cleaning up the includes for later.\nIt is the hardest to review. The remaining commits are practically move-only. The only change is creating `CMainSignals& GetMainSignals()` for accessing g_signals from main. So the PR becomes trivial to review and it's much less likely to need rebases.\nOn the other hand the cleaning up commit is likely to need frequent rebase and would ,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-71190293,71190293,
jtimon,2015-02-03T18:16:29Z,Needed rebase.\n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-72703844,72703844,
jtimon,2015-02-05T01:08:59Z,"Needed rebase. I added a commit to not include main.h from any other header again, but it's not a big and exhaustive cleanup as it was at the beginning. I still leave that for #5697 after more code movements.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-72975558,72975558,
theuni,2015-02-05T03:35:54Z,"ut ACK, assuming travis is happy tomorrow. Verified that the MOVEONLY commits are still move only.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-72988811,72988811,
theuni,2015-02-19T19:32:34Z,"ACK. Could you please give this a quick bump for travis, though? There were some caching issues that have been long-fixed.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-75119541,75119541,
jtimon,2015-02-20T03:36:10Z,Changed the last commit's id to give travis another try as demanded by @theuni \n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-75184811,75184811,
theuni,2015-02-20T04:20:54Z,"s/demanded by/humbly requested by/ :)\n\nAll green now, thanks.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-75187469,75187469,
jtimon,2015-02-20T19:23:43Z,"Sure, humbly requested, thanks for the review and ack.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-75302473,75302473,
jtimon,2015-03-11T14:11:00Z,ping\n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78269724,78269724,
sipa,2015-03-11T14:14:49Z,"The first commit doesn't make sense to me: CNodeStateStats is statistics of CNodeState, which is a main-specific data structure. Moving it up to a higher layer (net) seems wrong.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78270499,78270499,
jtimon,2015-03-11T16:51:25Z,How is net.o is higher level than main.o? main.cpp depends on net and not the other way around...\n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78304577,78304577,
sipa,2015-03-12T09:06:20Z,"Maybe my terminology is confused. I mean main is a client of net, building on top of it. Net should not know anything about what its clients do. CNodeStateStats is stats about CNodeState, the message processing specific data structure about nodes. Message processing is done in main, so this data structure definition belongs there and nowhere else.\n\nDon't get me wrong: the current placing of code",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78444479,78444479,
jtimon,2015-03-13T11:05:18Z,Rebased without the first commit as suggested by @sipa \n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78920309,78920309,
sipa,2015-03-13T14:03:00Z,Untested ACK.\n,https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-78984730,78984730,
theuni,2015-03-15T20:28:10Z,"utACK. I'd like to see the node info moved out as well, but that makes sense to do separately.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-81226558,81226558,
jtimon,2015-03-24T16:50:04Z,"Needed rebase, I also slightly improved the includes.\nThe commit that was criticized was already removed before needing the latest rebase.\nThis is quite uncontroversial, it has been reviewed, it has been open for long...is there any specific reason not to merge this?\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-85594931,85594931,
laanwj,2015-03-24T17:06:23Z,"@jtimon No specific reason, just a overload of pulls caused me to lose track of this one for a while, sorry for that.\n",https://github.com/bitcoin/bitcoin/pull/5681#issuecomment-85599987,85599987,
sipa,2015-03-13T14:01:54Z,"That's sad, we should move that elsewhere (not a criticism on your PR, just noticing).\n",https://github.com/bitcoin/bitcoin/pull/5681#discussion_r26387315,26387315,src/qt/signverifymessagedialog.cpp
