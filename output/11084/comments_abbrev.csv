kallewoof,2017-08-21T07:14:27Z,Closing this until I've gotten some more benchmarks in place (and it's turning out slower than the original currently).,https://github.com/bitcoin/bitcoin/pull/11084#issuecomment-323664813,323664813,
TheBlueMatt,2017-08-20T22:25:54Z,"Hmm, maybe just ""us""? Dunno if we want to introduce unicode into our logs by default.",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134128043,134128043,src/net_processing.cpp
TheBlueMatt,2017-08-20T23:36:33Z,"I suppose things are broken after commit ""[refactor] Use uint256 vector instead of set iterator vector in trickâ€¦"" but fixed later? Looks like it'll wipe setInventoryTxToSend always, whereas previously it oulw only wipe the first INVENTORY_BROADCAST_MAX entries and retry the rest later, and then the next commit fixes it by limiting this loop to INVENTORY_BROADCAST_MAX.",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134129655,134129655,src/net_processing.cpp
TheBlueMatt,2017-08-20T23:53:37Z,"Any idea how much of your imrpovement is just that you now dont build the heap on the entire set of setInventoryTxToSend as it previously did (also, is that really a good idea? I assume we shouldnt change that?).",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134130089,134130089,src/net_processing.cpp
kallewoof,2017-08-21T04:40:14Z,"Yes, I realized that I broke things temporarily. I will rearrange the commits so that is not the case anymore.",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134144395,134144395,src/net_processing.cpp
kallewoof,2017-08-21T04:41:26Z,"Makes sense, yeah.",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134144478,134144478,src/net_processing.cpp
kallewoof,2017-08-21T04:42:23Z,"I did profiling over the weekend for ""post merge"" and am doing profiling for ""pre merge"" now. Will post back once it's done.\n\nEdit: as for how much is due to not using the entire set, that's a good question. I didn't realize `INVENTORY_BROADCAST_MAX` was quite as small as it is.",https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134144538,134144538,src/net_processing.cpp
kallewoof,2017-08-21T05:46:23Z,I reverted to the previous behavior in 4165f43 -- unfortunately need to re-do benchmarks but should have some numbers soon.,https://github.com/bitcoin/bitcoin/pull/11084#discussion_r134148965,134148965,src/net_processing.cpp
