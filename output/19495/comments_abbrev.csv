DrahtBot,2020-07-11 19:25:03,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18077 (net: Add NAT-PMP port forwarding support by hebasto)\n* #15382 (util: add RunCommandParseJSON by Sjors)\n\nIf you ",https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657116117,657116117,
promag,2020-07-12 01:06:37,"I think commit ""ci: Update macOS image to 10.15.5 on Travis"" doesn't belong here. What is the motivation? ACK remaining commits.",https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657157390,657157390,
hebasto,2020-07-12 08:45:29,"@promag \n> I think commit ""ci: Update macOS image to 10.15.5 on Travis"" doesn't belong here. What is the motivation? ACK remaining commits.\n\nThe mentioned commit has been dropped.",https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657192658,657192658,
promag,2020-07-12 08:49:39,ACK 0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94,https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657193022,657193022,
hebasto,2020-07-13 09:22:04,"Updated 0b9e1e614c3b4fa747d6c1dbeedef71ce834fe94 -> 12f642de257a0280e014ad8660f54ee45574a637 ([pr19495.02](https://github.com/hebasto/bitcoin/commits/pr19495.02) -> [pr19495.03](https://github.com/hebasto/bitcoin/commits/pr19495.03), [diff](https://github.com/hebasto/bitcoin/compare/pr19495.02..pr19495.03)):\n\n- timeout changes affect only native macOS build now\n- added _""ci: Fix configure op",https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657436837,657436837,
hebasto,2020-07-13 23:45:48,"Updated 12f642de257a0280e014ad8660f54ee45574a637 -> 60824b3c3a4221a31c3638008b05fecc040c3df2 ([pr19495.03](https://github.com/hebasto/bitcoin/commits/pr19495.03) -> [pr19495.04](https://github.com/hebasto/bitcoin/commits/pr19495.04)):\n\n- addressed @MarcoFalke's [comment](https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453527250)\n> I think we should either keep track of when to cont",https://github.com/bitcoin/bitcoin/pull/19495#issuecomment-657881225,657881225,
MarcoFalke,2020-07-12 09:28:55,"Should this be an `&&` or `||` and why? Also, why use the runtime heuristic in combination with the heuristic in line 46. Wouldn't it be easier to simply export `LONG_RUNNING_TEST` for the configs that need it? I.e. right in the line where the other env vars are defined:\n\n```\n      env: >-\n        FILE_ENV=""...""\n        LONG_...",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292354,453292354,.travis.yml
MarcoFalke,2020-07-12 09:29:43,are the fuzz tests timing out as well these days?,https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453292417,453292417,.travis.yml
hebasto,2020-07-12 10:00:19,"^ this will not work for forked repos as the `LONG_RUNNING_TEST` actually should depend on the `TRAVIS_REPO_SLUG`.\n\nAnother suggestion is to `export LONG_RUNNING_TEST=""true""` by default in `00_setup_env.sh` and set it in a job setup script `00_setup_env_*.sh`:\n```\nif [ ""$TRAVIS_REPO_SLUG"" != ""bitcoin/bitcoin"" ]; then\n  export RUN_FUNCTIONAL_TESTS=""false""\n  export LONG_RUNNING_TEST=""fal",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453295447,453295447,.travis.yml
MarcoFalke,2020-07-12 10:48:36,"If you don't set `LONG_RUNNING_TEST` to anything for the macos config, everything will work fine in all repos, no?\n\n* `bitcoin/bitcoin` will run the functional tests, and forked repos won't. Independent of `LONG_RUNNING_TEST`",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453300165,453300165,.travis.yml
hebasto,2020-07-12 11:11:28,"> If you don't set `LONG_RUNNING_TEST` to anything for the macos config, everything will work fine in all repos, no?\n> \n>  - `bitcoin/bitcoin` will run the functional tests, and forked repos won't. Independent of `LONG_RUNNING_TEST`\n\nWith cleared (or failed) cache forked repos could experience timeouts (native macos now, but any build could fail with timeout in the future).\n\nThe mean o",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453302375,453302375,.travis.yml
MarcoFalke,2020-07-12 11:42:04,"Ok, so this seems to affect more than just macos. Hmm. I am not sure if it is expected to fork the repo, run the tests on a commit and then see a green checkmark when the functional tests haven't even been run. Then the commit is proposed to bitcoin/bitcoin and the tests fail.\n\nExcluding macOS is fine because I am not aware this ever detected a bug that was not detected by any of the other bui",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453305597,453305597,.travis.yml
practicalswift,2020-07-12 21:13:40,I hope not! Do we have any evidence suggesting that? If so I'll investigate how we could speed things up.,https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453364117,453364117,.travis.yml
MarcoFalke,2020-07-13 09:44:40,"```suggestion\n  - if [ $TRAVIS_REPO_SLUG = ""bitcoin/bitcoin"" ]; then export CONTINUE=1; fi  # continue on repos with extended build time (90 minutes)\n```\n\nIs this needed? With a warm cache, this should already continue, and without a warm cache it might or might not continue.\n\nI think we should either keep track of when to continue manually for all configs or with the time-heuristic fo",https://github.com/bitcoin/bitcoin/pull/19495#discussion_r453527250,453527250,.travis.yml
