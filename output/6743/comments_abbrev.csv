jmcorgan,2015-10-01T18:01:35Z,"Looks like Windows builds are failing, but probably not due to Windows per se.  I suspect the new configure.ac logic is not properly shutting off ENABLE_ZMQ when the library is not found.\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144802071,144802071,
jonasschnelli,2015-10-01T18:05:22Z,"I think you need to keep the `else` with something similar to `AC_DEFINE_UNQUOTED([ENABLE_ZMQ],[0],[Define to 1 to enable ZMQ functions])`.\nTravis Win32/64 does not have a libzmq installed and therefore should not compile the zmq features.\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144802933,144802933,
jmcorgan,2015-10-01T19:14:54Z,"Ah, missed that, thanks.\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144820809,144820809,
jmcorgan,2015-10-01T19:37:09Z,That didn't work.  Calling @theuni ...\n,https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144825249,144825249,
jmcorgan,2015-10-01T23:33:18Z,The fix required implementing the logic to test for zmq or not when use_pkgconfig was set to no.\n,https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-144877093,144877093,
theuni,2015-10-02T15:02:49Z,"@jmcorgan yep, that was the right fix. Although, the non-pkg-config check isn't testing versions. Can you change the AC_CHECK_LIB to test for something new in v4? If there's not a new symbol to check for, we'll have to resort to a quick compile test.\n\nEdit: If [this](http://upstream.rosalinux.ru/compat_reports/zeromq/3.2.5_to_4.0.1/abi_compat_report.html#Added) is to be believed, a check for `zm",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145052544,145052544,
theuni,2015-10-02T15:05:03Z,"Nit: Please move the new check up above the protobuf check, so it's not mixed in with the qt stuff.\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145053211,145053211,
jmcorgan,2015-10-02T15:35:08Z,"Understood about check for a 4.x only function in the non-pkgconfig section, but I'm confused by your request for moving the checks to a different place.  Can you be more specific about which lines of code you want to move and to which location?\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145065440,145065440,
theuni,2015-10-02T15:59:07Z,"```\n  if test ""x$use_zmq"" = ""xyes""; then\n     AC_CHECK_HEADER([zmq.h],\n```\n\nThat whole block Up about 5 lines, so it's before `BITCOIN_QT_CHECK...`\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145070929,145070929,
jmcorgan,2015-10-03T03:11:08Z,Done.\n,https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145196992,145196992,
jmcorgan,2015-10-03T20:30:37Z,@theuni This should all be good to go now.\n,https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145286734,145286734,
theuni,2015-10-05T19:32:07Z,"Looks good, ut ACK\n",https://github.com/bitcoin/bitcoin/pull/6743#issuecomment-145642834,145642834,
