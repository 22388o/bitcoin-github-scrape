jgarzik,2013-08-27T03:32:53Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23311069,23311069,
theuni,2013-08-28T07:54:10Z,"I believe I've whipped the gitian weirdness into shape enough for initial merge.\n\nOnly real blockers as I see now are acks from various platform devs (osx, win32 cross, win32 native), and docs to accompany. I'm afraid I've reached my limit now, as far as those things are concerned.\n\nAwaiting some input, though there's no hurry from my side.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23397139,23397139,
gavinandresen,2013-08-30T01:46:58Z,Doesn't work for me on OSX 10.7.5 with MacPorts autotools:\n\n```\ntully:bitcoin gavin$ autoreconf --version\nautoreconf (GNU Autoconf) 2.69\n\ntully:bitcoin gavin$ autoreconf -vif\nautoreconf: Entering directory `.'\nautoreconf: configure.ac: not using Gettext\nautoreconf: running: aclocal --force -I src/m4\nautoreconf: configure.ac: tracing\nautoreconf: configure.ac: not using Libtool\nautorecon,https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23535952,23535952,
theuni,2013-08-30T03:46:21Z,"I grabbed automake 1.14 and tested locally. I just veified/pushed the fix for that problem.\n\nNew parts for my Macbook should be here tomorrow, Monday at the latest. I can test definitively then if you don't feel like being a guinea pig.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23539033,23539033,
theuni,2013-08-30T04:36:19Z,"Looks like the problem is trying to build for osx 10.5 from 10.7, which isn't going to happen without a good amount of local fiddling (likely installing xcode 3).\n\nYou might be able to get past it for now by disabling the release compatibility flags: ./configure --enable-debug\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23540212,23540212,
fanquake,2013-08-31T12:20:32Z,"@theuni Do you use MacPorts, HomeBrew or something else on OSX?\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23605354,23605354,
theuni,2013-09-01T07:42:37Z,"Just pushed a boatload of fixes. Sorry for yet another round of changes, but this has turned out to be much more complicated than originally anticipated. I can squash down before merge, but I decided to push individual changes in case anyone is following the progress.\n\nFully verified on osx now that my macbook is up and running again (yay!).\n\nI also scrapped the 'windows-deploy' target and rep",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23620407,23620407,
sipa,2013-09-01T09:48:50Z,"ACK code changes, and seems to work fine on Ubuntu (13.04). @laanwj still wanted some improvement to the .pro file, though?\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23621849,23621849,
gavinandresen,2013-09-02T05:26:25Z,"So...\n... how do I tell autogen.sh and/or configure to use MacPorts?  Just running autogen.sh then configure I get:\n\n```\nchecking for SSL... no\nconfigure: error: openssl  not found.\n```\n\n... with MacPorts openssl in /opt/local/{include,lib}\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23641487,23641487,
jgarzik,2013-09-02T05:29:01Z,"@gavinandresen Usually I do something like\n\nCXXFLAGS=""-O2 -Wall -g -I/opt/local/include"" LDFLAGS=""-L/opt/local/lib"" ./configure\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23641552,23641552,
theuni,2013-09-02T05:30:34Z,"Still working on the osx docs.. I spent all day working out possible configs from 10.6-10.8 (managed to get my hands on a 10.8 macbook), both macports and brew.\n\nShort answer: sounds like you need to 'sudo port install pkgconfig'. After that, it should find everything for you.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23641585,23641585,
wtogami,2013-09-02T21:06:16Z,10.5 is officially dropped?  (Apple has.)\n,https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23678394,23678394,
theuni,2013-09-02T21:13:56Z,"No, I don't have a 10.5 machine at my disposal. However, release binaries are still built as 32-bit 10.5 compatible after my changes.\n\nDropping 10.5 would make lots of things much easier, but I don't wish to mix a policy change (which OSs are supported) with a technical change (buildsystem switch) for fear that this would needlessly delay the process.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23678627,23678627,
gavinandresen,2013-09-02T22:50:12Z,"port install pkgconfig worked nicely. I'd volunteer to help write documentation, but, as you can tell, I don't know enough about autotools to be helpful.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23682205,23682205,
theuni,2013-09-02T23:09:39Z,"No worries. The reason I'm hesitant to do the docs is because it essentially needs a rm -f *. The point of autotools is abstraction, so there's really no need for platform-specific instructions. There's also really no need for distinction between qt/non-qt builds anymore.\n\nMy intention is essentially:\n- Platform-specific dependencies. A readme for each platform detailing what needs to be done b",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23682627,23682627,
jgarzik,2013-09-02T23:20:38Z,"I would propose low merge hurdles, namely\n- builds qt and daemon on at least one Linux OS\n- builds qt and daemon on at least one OSX version\n- builds qt and daemon on Windows, or has a clear path to doing so\n- pulltester\n\nAnything else can and should be resolved in-tree.  Once the system is working ""en grosse"" merge it, leaving sector experts and motivated parties to hammer out the final det",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23682838,23682838,
theuni,2013-09-02T23:25:38Z,"Whew, that's great to hear. Getting it merged will will really help.\n\nI've been working on pulltester actually, and I""m nearly there. I've add lcov support to the buildsystem, as well as support for the java test that pulltester runs (side-rant: I find it troubling when these things are out-of-tree and firmly believe that they should be testable by every dev). So Pulltester essentially becomes a",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23682936,23682936,
theuni,2013-09-03T08:02:00Z,"Ok, that should do it for the pull tester. I've integrated lcov and the java test into the build. Also added a set of scripts for contrib that pull-tester can run from jenkins. The big benefit is that everything is now in-tree, so if they change in the future, there's no worry of getting out of sync with the build procedure. Additionally, devs can run the script and yield the same result as the bo",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23695701,23695701,
gavinandresen,2013-09-03T08:11:46Z,"Nice!  If Matt doesn't get to it before me, I'll teach the pull-tester machine to Do The Right Thing (if test-scripts/pull-tester.sh exists, run it.  Else do what we do now).\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23696107,23696107,
theuni,2013-09-03T08:20:14Z,"Sounds good.\n\nIt will need a little more love, as it will fail until the win32 deps are updated to the new version. The old ones were scattered around, the new ones are in a prefixed layout. IMO, that should wait until after this is merged, and just let it fail until then.\n\nThe old/new win32 deps can coexist to facilitate build-testing of the old kind. There will just need to be 2 copies, one ",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23696498,23696498,
theuni,2013-09-04T01:54:34Z,"@gavinandresen If/when you go to update the bot, the params have changed to accommodate the out-of-tree java tool.\n\nIt should now be invoked as:\n\n```\ncontrib/test-scripts/build-tests.sh /path/to/win32/deps /mnt/test-scripts/BitcoinjBitcoindComparisonTool.jar 6\n```\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23760958,23760958,
theuni,2013-09-04T03:31:52Z,"Ok, I've pushed the last of my changes. I now consider this to be complete. I'm sure it's full of bugs and facepalms, but I think it now meets @jgarzik's criteria above.\n\npull-tester should be working pending teaching the bot its new tricks, and a rebase of this branch. The win32 build will fail until it gets updated deps, so I've disabled that build in the test-scripts for now. Any objections t",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23763886,23763886,
theuni,2013-09-04T07:02:26Z,"Squashed down and ready from my side, with the understanding that it will probably require some patience for a few days/weeks.\n\nThe individual commits (plus a few fixes related to rebasing to master) can be seen here if needed: https://github.com/theuni/bitcoin/commits/autotools-final-pre-rebase\n\nI need to step away from this for the rest of the week, but I'm happy to answer any questions that",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23769820,23769820,
laanwj,2013-09-05T11:16:09Z,"Nice work, I tested around a bit and it worked wonderfully.\nOne remark: Building from a different directory makes it croak on leveldb, ie.\n\n```\nbitcoin$ ./autogen.sh\nbitcoin$ cd ../bitcoin-build\nbitcoin-build$ ../bitcoin/configure\nbitcoin-build$ make -j6\n....\nBuilding LevelDB ...\n/bin/bash: line 0: cd: leveldb: No such file or directory\nmake[3]: *** [leveldb/libmemenv.a] Error 1\nmake[3",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23860573,23860573,
theuni,2013-09-05T11:37:18Z,"Yea, out-of-tree builds can't really work without some serious hackery, which I've declined to add so far.\n\nYou can see how it _would_ work with 'make distcheck', which runs an out-of-tree build. The ""solution"" applied there is to copy leveldb to the build dir.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23861500,23861500,
theuni,2013-09-06T01:50:14Z,squashed with the pull-tester updates and 2 additional fixes:\n- use c++ for all tests (means that osx framework checks get cxxflags)\n- bail if pkg-config is needed but not found\n,https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23914192,23914192,
BitcoinPullTester,2013-09-06T02:56:00Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/35b8af92265ed74de63c3818e5290c27b3f35df2 for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23916063,23916063,
shripadk,2013-09-07T03:44:44Z,"Won't work for me on OSX 10.7.2, get an error in configure.\n\n```\n➜  bitcoin git:(master) ./configure \nchecking build system type... i386-apple-darwin11.2.0\nchecking host system type... i386-apple-darwin11.2.0\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... src/build-aux/install-sh -c -d\nc",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23980939,23980939,
luke-jr,2013-09-07T04:06:23Z,"Also not working for me, as it isn't looking for bdb headers in the standard paths :(\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23981175,23981175,
jgarzik,2013-09-07T04:22:39Z,"""standard path"" varies even between Linux OS's, because BDB 4.x by default just installs into /usr/include/db.h.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-23981350,23981350,
theuni,2013-09-07T23:06:21Z,"@shripadk I think I see it. (Also, you need to install pkg-config from ports).\n\nCould some committer kill the extra ] that snuck in here: https://github.com/bitcoin/bitcoin/blob/master/configure.ac#L411\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-24011659,24011659,
wtogami,2013-09-08T01:05:30Z,"/usr/include/features.h:330:4: warning: #warning _FORTIFY_SOURCE requires compiling with optimization (-O) [-Wcpp]\n\nThis warning prints very often with a plain ./configure.  The default builds without any -O.  Is this intended?\n\n> jgarzik said: AFAIK the default is -O2 -g \n>  warren said: confirmed, plain ""./configure"" lacks -O or -g\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-24012941,24012941,
theuni,2013-09-08T05:22:35Z,"Not intended. Now that this has been merged, it's worth a bit of debate as to what reasonable defaults should be for debug/release configurations should be. Before, they were different per OS. I'd say that for debug, ""-g -O2"" probably makes sense.\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-24015342,24015342,
luke-jr,2013-09-08T05:46:16Z,"I find -O2 makes debugging impractical, so I personally prefer ""-ggdb -O0"", but if -O1 is needed for security that's probably good enough (besides, -O0 doesn't even inline :p).\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-24015558,24015558,
jonasschnelli,2013-09-10T15:11:00Z,"Getting error while trying to build with Qt.\n`checking if qt should be enabled... configure: error: ""qt support requested but qt could not be located. use --without-qt""`\nHow can i define the QT dir to use?\n\nI tried `--with-qt-incdir=, --with-qt-libdir=, --with-qt-bindir`.\nWould it not be more practical to support `--with-qt=/path/to/your/qt/dir`?\n",https://github.com/bitcoin/bitcoin/pull/2943#issuecomment-24167856,24167856,
