practicalswift,2020-04-16 10:22:02,"Concept ACK\n\nOn behalf of future generations on Bitcoin Core developers: thanks for doing these cleanups - that will make their lives easier :)\n\nThe short-term gain from each individual clean-up might seem small but the cumulative long-term gain will make a big difference.",https://github.com/bitcoin/bitcoin/pull/18662#issuecomment-614558407,614558407,
promag,2020-04-16 20:18:06,ACK faf989f93695d29099f6e152d5a2e117cd304183.,https://github.com/bitcoin/bitcoin/pull/18662#issuecomment-614872990,614872990,
promag,2020-04-16 09:35:40,Why this change? Isn't forward declaration enough?,https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409418798,409418798,src/util/settings.h
MarcoFalke,2020-04-16 11:32:19,It doesn't compile without this change,https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409485258,409485258,src/util/settings.h
promag,2020-04-16 11:35:05,But include just in src/bench/bench_bitcoin.cpp?,https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409486623,409486623,src/util/settings.h
MarcoFalke,2020-04-16 11:35:43,Reason is that SettingsValue is a return value of one of the methods of ArgsManager. Not sure why C++ doesn't require the struct layout for return values of methods when no object with such method is initialized. Though it does require the layout when an object with such method is instantiated... I can't change the way C++ works.,https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409486918,409486918,src/util/settings.h
MarcoFalke,2020-04-16 11:38:24,"> But include just in src/bench/bench_bitcoin.cpp?\n\nYes, that works, but it feels weird to require to include implementation details of one class on the module that ends up happening to use the class.",https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409488283,409488283,src/util/settings.h
ryanofsky,2020-04-16 15:16:49,"re: https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409486918\n\n> Reason is that SettingsValue is a return value of one of the methods of ArgsManager. Not sure why C++ doesn't require the struct layout for return values of methods when no object with such method is initialized. Though it does require the layout when an object with such method is instantiated... I can't change the way ",https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409639326,409639326,src/util/settings.h
MarcoFalke,2020-04-16 16:27:16,Thanks. Pushed.,https://github.com/bitcoin/bitcoin/pull/18662#discussion_r409689281,409689281,src/util/settings.h
