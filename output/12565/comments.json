[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369250471",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369250471",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369250471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTI1MDQ3MQ==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T14:10:23Z",
    "updated_at": "2018-02-28T14:10:23Z",
    "author_association": "MEMBER",
    "body": "> add a parameter to feebumper::CreateTransaction to return whether a non-change output was reduced\r\n\r\n@kallewoof can that be part of #12096, e.g. if `reduce_output==-2` it picks the biggest output?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369250471/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369294887",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369294887",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369294887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTI5NDg4Nw==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T16:24:57Z",
    "updated_at": "2018-02-28T16:24:57Z",
    "author_association": "MEMBER",
    "body": "I don't think this is the right route. While I think users should be able to reduce outputs if desired, we should by default offer to add inputs, not reduce outputs.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369294887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369304250",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369304250",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369304250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTMwNDI1MA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T16:52:09Z",
    "updated_at": "2018-02-28T16:56:49Z",
    "author_association": "MEMBER",
    "body": "@luke-jr I think that discussion is for #12096. Also see https://github.com/bitcoin/bitcoin/pull/12096#issuecomment-356089931.\r\n\r\nEdit: ok you were there already.\r\n\r\n\u261d\ufe0fIIUC `feebumper::CreateTransaction` doesn't add inputs. I've suggested that in https://github.com/bitcoin/bitcoin/pull/12096#issuecomment-355578491",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369304250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369309361",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369309361",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369309361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTMwOTM2MQ==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T17:07:12Z",
    "updated_at": "2018-02-28T17:07:12Z",
    "author_association": "MEMBER",
    "body": "Indeed, to rephrase: users should be able to reduce outputs; it just should require explicitly asking to do so, and shouldn't be the default/recommended behaviour.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369309361/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369366212",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369366212",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369366212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTM2NjIxMg==",
    "user": {
      "login": "bedri",
      "id": 765487,
      "node_id": "MDQ6VXNlcjc2NTQ4Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/765487?u=16249ff18febc55caf2d213efaabe4a178f9a117&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bedri",
      "html_url": "https://github.com/bedri",
      "followers_url": "https://api.github.com/users/bedri/followers",
      "following_url": "https://api.github.com/users/bedri/following{/other_user}",
      "gists_url": "https://api.github.com/users/bedri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bedri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bedri/subscriptions",
      "organizations_url": "https://api.github.com/users/bedri/orgs",
      "repos_url": "https://api.github.com/users/bedri/repos",
      "events_url": "https://api.github.com/users/bedri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bedri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-28T20:07:19Z",
    "updated_at": "2018-02-28T20:07:19Z",
    "author_association": "NONE",
    "body": "If a customer paying for a good for the vendor and vendor agrees to pay the\ntransaction fee, then the customer can make a transaction with nearly zero\nfee which will wait a long time for confirmations and then increase the fee\nto the agreed amount and accepting the reduction in the output. So that\nvendor will be able to pay the transaction fee.\nIf the vendor does not willing to pay the transaction fee (no agreement\nmade between the vendor and the customer about this) then the customer can\nmake a regular transaction to pay for the good. If customer decides that\nhe/she put a low fee on the transaction so that the transaction will take a\nlong time to occur then he/she should bumpfee without reducing the output.\n\nSo bumpfee reduction from the output should be optional and should be\nasked. For the above showcase, it may also be a good idea that if a bumpfee\nmade by reducing the output, the receiving side of the transaction (vendor\nin the above case) should also be asked if he/she agrees with the\nreduction. If he/she does not agree then the bumpfee should not occur.\n\nOn Wed, Feb 28, 2018 at 8:18 PM, Luke Dashjr <notifications@github.com>\nwrote:\n\n> Indeed, to rephrase: users should be able to reduce outputs; it just\n> should require explicitly asking to do so, and shouldn't be the\n> default/recommended behaviour.\n>\n> \u2014\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369309361>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAuuLwNRNM-bPtKZ1uaMYcWwIvEps_4Pks5tZYfNgaJpZM4SWmpP>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369366212/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369520094",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-369520094",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 369520094,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2OTUyMDA5NA==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-01T08:52:37Z",
    "updated_at": "2018-03-01T08:52:37Z",
    "author_association": "MEMBER",
    "body": "@luke-jr `Cancel` is the default option, but without an alternative I can see how users would just click OK even if it's not a good idea. Perhaps it's better to hold back this PR until `feebumper::CreateTransaction` supports adding inputs. By default the `OK` button would just add an input. We could show each of the destination addresses with a check box \"reduce amount\". That would seem like a safer UX.\r\n\r\nUnless that change takes forever. Maybe we can tag this with 0.17, and revisit the discussion if this better alternative isn't ready?\r\n\r\n@bedri there's no way (that I know) for the wallet to communicate with the merchant. The only thing we can do is inform the user that they should do this.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/369520094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389131957",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#issuecomment-389131957",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12565",
    "id": 389131957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTEzMTk1Nw==",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-15T11:20:52Z",
    "updated_at": "2018-05-15T11:20:52Z",
    "author_association": "MEMBER",
    "body": "Closing until `feebumper::CreateTransaction` supports adding inputs. The UI should only reduce outputs if the user explicitly opts in to that (e.g. when they're sweeping all their funds to some other place).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/389131957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171235800",
    "pull_request_review_id": 100051505,
    "id": 171235800,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTIzNTgwMA==",
    "diff_hunk": "@@ -671,14 +671,30 @@ bool WalletModel::bumpFee(uint256 hash)\n     CAmount old_fee;\n     CAmount new_fee;\n     CMutableTransaction mtx;\n-    if (feebumper::CreateTransaction(wallet, hash, coin_control, 0 /* totalFee */, errors, old_fee, new_fee, mtx) != feebumper::Result::OK) {\n+\n+    // If the transaction has a single output, ask user if it's OK to reduce:\n+    int32_t reduce_output = -1;\n+    auto it = wallet->mapWallet.find(hash);",
    "path": "src/qt/walletmodel.cpp",
    "position": 8,
    "original_position": 8,
    "commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "original_commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Missing lock?",
    "created_at": "2018-02-28T12:58:00Z",
    "updated_at": "2018-02-28T13:06:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171235800",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171235800"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171235800"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171235800/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 677,
    "original_line": 677,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171237505",
    "pull_request_review_id": 100051505,
    "id": 171237505,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTIzNzUwNQ==",
    "diff_hunk": "@@ -671,14 +671,30 @@ bool WalletModel::bumpFee(uint256 hash)\n     CAmount old_fee;\n     CAmount new_fee;\n     CMutableTransaction mtx;\n-    if (feebumper::CreateTransaction(wallet, hash, coin_control, 0 /* totalFee */, errors, old_fee, new_fee, mtx) != feebumper::Result::OK) {\n+\n+    // If the transaction has a single output, ask user if it's OK to reduce:\n+    int32_t reduce_output = -1;\n+    auto it = wallet->mapWallet.find(hash);\n+    if (it != wallet->mapWallet.end()) {\n+        const CWalletTx wtx = it->second;\n+        if (wtx.tx->vout.size() == 1) {\n+            reduce_output = 0;\n+        }\n+    }\n+\n+    if (feebumper::CreateTransaction(wallet, hash, coin_control, 0 /* totalFee */, reduce_output, errors, old_fee, new_fee, mtx) != feebumper::Result::OK) {\n         QMessageBox::critical(0, tr(\"Fee bump error\"), tr(\"Increasing transaction fee failed\") + \"<br />(\" +\n             (errors.size() ? QString::fromStdString(errors[0]) : \"\") +\")\");\n          return false;\n     }\n \n     // allow a user based fee verification\n-    QString questionString = tr(\"Do you want to increase the fee?\");\n+    QString questionString;",
    "path": "src/qt/walletmodel.cpp",
    "position": 24,
    "original_position": 24,
    "commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "original_commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit, and the diff is smaller:\r\n```cpp\r\nQString questionString = tr(...);\r\nif (reduce_output != -1) {\r\n     questionString = tr(...);\r\n}",
    "created_at": "2018-02-28T13:04:54Z",
    "updated_at": "2018-02-28T13:06:45Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171237505",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171237505"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171237505"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171237505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 692,
    "original_line": 692,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256207",
    "pull_request_review_id": 100075675,
    "id": 171256207,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTI1NjIwNw==",
    "diff_hunk": "@@ -671,14 +671,30 @@ bool WalletModel::bumpFee(uint256 hash)\n     CAmount old_fee;\n     CAmount new_fee;\n     CMutableTransaction mtx;\n-    if (feebumper::CreateTransaction(wallet, hash, coin_control, 0 /* totalFee */, errors, old_fee, new_fee, mtx) != feebumper::Result::OK) {\n+\n+    // If the transaction has a single output, ask user if it's OK to reduce:\n+    int32_t reduce_output = -1;\n+    auto it = wallet->mapWallet.find(hash);",
    "path": "src/qt/walletmodel.cpp",
    "position": 8,
    "original_position": 8,
    "commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "original_commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there good documentation about when locks are appropriate? Other than: https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#lockingmutex-usage-notes",
    "created_at": "2018-02-28T14:12:56Z",
    "updated_at": "2018-02-28T14:13:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171256207",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256207"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171256207"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 677,
    "original_line": 677,
    "side": "RIGHT",
    "in_reply_to_id": 171235800
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256896",
    "pull_request_review_id": 100076550,
    "id": 171256896,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3MTI1Njg5Ng==",
    "diff_hunk": "@@ -671,14 +671,30 @@ bool WalletModel::bumpFee(uint256 hash)\n     CAmount old_fee;\n     CAmount new_fee;\n     CMutableTransaction mtx;\n-    if (feebumper::CreateTransaction(wallet, hash, coin_control, 0 /* totalFee */, errors, old_fee, new_fee, mtx) != feebumper::Result::OK) {\n+\n+    // If the transaction has a single output, ask user if it's OK to reduce:\n+    int32_t reduce_output = -1;\n+    auto it = wallet->mapWallet.find(hash);",
    "path": "src/qt/walletmodel.cpp",
    "position": 8,
    "original_position": 8,
    "commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "original_commit_id": "81bcb253e18ff830a80145dfebf8339e5f47993a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`mapWallet` is protected by `cs_wallet`. If this is moved to `feebumper::CreateTransaction` then the lock is already held there.",
    "created_at": "2018-02-28T14:15:21Z",
    "updated_at": "2018-02-28T14:15:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171256896",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256896"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12565#discussion_r171256896"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12565"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/171256896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 677,
    "original_line": 677,
    "side": "RIGHT",
    "in_reply_to_id": 171235800
  }
]