[
  {
    "sha": "65615a3a784c01128b408a915ab375c35640fb0a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NTYxNWEzYTc4NGMwMTEyOGI0MDhhOTE1YWIzNzVjMzU2NDBmYjBh",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-01-31T20:37:43Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-02-03T13:43:51Z"
      },
      "message": "Gitian fixes for 0.9.0rc1 build\n\n- Add 'g++' package (virtualbox images don't have this by default)\n- Workaround for determinism in Qt5 resources\n- Pass --disable-maintainer-mode --disable-dependency-tracking to\n  configure for libqrencode to avoid random errors about missing m4\n  directory\n- Fix typo -with-pic -> --with-pic\n\nIt is not necessary to rebuild dependencies after this commit.\nFixes #3610 and #3612.",
      "tree": {
        "sha": "da865e5cf47c2125f6c8f8f065a5c5a6adb4c232",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/da865e5cf47c2125f6c8f8f065a5c5a6adb4c232"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/65615a3a784c01128b408a915ab375c35640fb0a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/65615a3a784c01128b408a915ab375c35640fb0a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/65615a3a784c01128b408a915ab375c35640fb0a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/65615a3a784c01128b408a915ab375c35640fb0a/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "15ec451554b5889a92651b9fe71bf01047ba9fc3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/15ec451554b5889a92651b9fe71bf01047ba9fc3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/15ec451554b5889a92651b9fe71bf01047ba9fc3"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 25,
      "deletions": 6
    },
    "files": [
      {
        "sha": "48b27aa26dddc1fca042a51306b99e9797fdc56e",
        "filename": "contrib/gitian-descriptors/boost-linux.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/boost-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/boost-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/boost-linux.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -6,6 +6,7 @@ architectures:\n - \"i386\"\n - \"amd64\"\n packages:\n+- \"g++\"\n - \"unzip\"\n - \"pkg-config\"\n - \"libtool\""
      },
      {
        "sha": "12c3179ea107ce8efed1dc6be7d9a4a43bb826ef",
        "filename": "contrib/gitian-descriptors/deps-linux.yml",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/deps-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/deps-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/deps-linux.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -6,6 +6,7 @@ architectures:\n - \"i386\"\n - \"amd64\"\n packages:\n+- \"g++\"\n - \"unzip\"\n - \"zip\"\n - \"pkg-config\"\n@@ -50,7 +51,7 @@ script: |\n   tar xjfm qrencode-3.4.3.tar.bz2\n   cd qrencode-3.4.3\n   #   need --with-pic to avoid relocation error in 64 bit builds\n-  ./configure --prefix=$STAGING --enable-static --disable-shared -with-pic --without-tools\n+  ./configure --prefix=$STAGING --enable-static --disable-shared --with-pic --without-tools --disable-maintainer-mode --disable-dependency-tracking\n   make $MAKEOPTS install\n   cd ..\n   #"
      },
      {
        "sha": "13d3a86fd944f4353fc8d752e4bfbc0633bb5e19",
        "filename": "contrib/gitian-descriptors/deps-win.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/deps-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/deps-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/deps-win.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -107,7 +107,7 @@ script: |\n     #\n     tar xjf $INDIR/qrencode-3.4.3.tar.bz2\n     cd qrencode-3.4.3\n-    png_CFLAGS=\"-I$INSTALLPREFIX/include\" png_LIBS=\"-L$INSTALLPREFIX/lib -lpng\" ./configure --prefix=$INSTALLPREFIX --host=$HOST\n+    png_CFLAGS=\"-I$INSTALLPREFIX/include\" png_LIBS=\"-L$INSTALLPREFIX/lib -lpng\" ./configure --prefix=$INSTALLPREFIX --host=$HOST --enable-static --disable-shared --without-tools --disable-maintainer-mode --disable-dependency-tracking\n     make\n     make install\n     cd .."
      },
      {
        "sha": "329f4c6b49f6fde9a8ad24bb69c66a4a993c4c11",
        "filename": "contrib/gitian-descriptors/gitian-linux.yml",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/gitian-linux.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/gitian-linux.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-linux.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -6,6 +6,7 @@ architectures:\n - \"i386\"\n - \"amd64\"\n packages: \n+- \"g++\"\n - \"libqt4-dev\"\n - \"git-core\"\n - \"unzip\""
      },
      {
        "sha": "db0966c2011f4f126317592bcb3ca377e32b807f",
        "filename": "contrib/gitian-descriptors/gitian-win.yml",
        "status": "modified",
        "additions": 11,
        "deletions": 3,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/gitian-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/gitian-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/gitian-win.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -22,8 +22,8 @@ remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n   \"dir\": \"bitcoin\"\n files:\n-- \"qt-win32-5.2.0-gitian-r1.zip\"\n-- \"qt-win64-5.2.0-gitian-r1.zip\"\n+- \"qt-win32-5.2.0-gitian-r2.zip\"\n+- \"qt-win64-5.2.0-gitian-r2.zip\"\n - \"boost-win32-1.55.0-gitian-r6.zip\"\n - \"boost-win64-1.55.0-gitian-r6.zip\"\n - \"bitcoin-deps-win32-gitian-r10.zip\"\n@@ -36,6 +36,14 @@ script: |\n   INDIR=$HOME/build\n   OPTFLAGS='-O2'\n   NEEDDIST=1\n+  # Qt: workaround for determinism in resource ordering\n+  #  Qt5's rcc uses a QHash to store the files for the resource.\n+  #  A security fix in QHash makes the ordering of keys to be different on every run\n+  #  (https://qt.gitorious.org/qt/qtbase/commit/c01eaa438200edc9a3bbcd8ae1e8ded058bea268).\n+  #  This is good in general but qrc shouldn't be doing a traversal over a randomized container.\n+  #  The thorough solution would be to use QMap instead of QHash, but this requires patching Qt.\n+  #  For now luckily there is a test mode that forces a fixed seed.\n+  export QT_RCC_TEST=1\n   for BITS in 32 64; do # for architectures\n     #\n     STAGING=$HOME/staging${BITS}\n@@ -49,7 +57,7 @@ script: |\n     mkdir -p $STAGING $BUILDDIR $BINDIR\n     #\n     cd $STAGING\n-    unzip $INDIR/qt-win${BITS}-5.2.0-gitian-r1.zip\n+    unzip $INDIR/qt-win${BITS}-5.2.0-gitian-r2.zip\n     unzip $INDIR/boost-win${BITS}-1.55.0-gitian-r6.zip\n     unzip $INDIR/bitcoin-deps-win${BITS}-gitian-r10.zip\n     unzip $INDIR/protobuf-win${BITS}-2.5.0-gitian-r4.zip"
      },
      {
        "sha": "fed39cbc7cfd110eb47f79924b674b5458fc8c9d",
        "filename": "contrib/gitian-descriptors/qt-win.yml",
        "status": "modified",
        "additions": 9,
        "deletions": 1,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/qt-win.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/65615a3a784c01128b408a915ab375c35640fb0a/contrib/gitian-descriptors/qt-win.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/qt-win.yml?ref=65615a3a784c01128b408a915ab375c35640fb0a",
        "patch": "@@ -21,6 +21,14 @@ script: |\n   # Defines\n   export TZ=UTC\n   INDIR=$HOME/build\n+  # Qt: workaround for determinism in resource ordering\n+  #  Qt5's rcc uses a QHash to store the files for the resource.\n+  #  A security fix in QHash makes the ordering of keys to be different on every run\n+  #  (https://qt.gitorious.org/qt/qtbase/commit/c01eaa438200edc9a3bbcd8ae1e8ded058bea268).\n+  #  This is good in general but qrc shouldn't be doing a traversal over a randomized container.\n+  #  The thorough solution would be to use QMap instead of QHash, but this requires patching Qt.\n+  #  For now luckily there is a test mode that forces a fixed seed.\n+  export QT_RCC_TEST=1\n   # Integrity Check\n   echo \"395ec72277c5786c65b8163ef5817fd03d0a1f524a6d47f53624baf8056f1081  qt-everywhere-opensource-src-5.2.0.tar.gz\" | sha256sum -c\n \n@@ -71,7 +79,7 @@ script: |\n \n     # as zip stores file timestamps, use faketime to intercept stat calls to set dates for all files to reference date\n     export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n-    zip -r $OUTDIR/qt-win${BITS}-5.2.0-gitian-r1.zip *\n+    zip -r $OUTDIR/qt-win${BITS}-5.2.0-gitian-r2.zip *\n     unset LD_PRELOAD\n     unset FAKETIME\n   done # for BITS in"
      }
    ]
  }
]