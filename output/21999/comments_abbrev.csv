reemuru,2021-05-20 22:39:18,"Updated with ac8b08b. Let me know if I missed anything! Also, should I roll theses commits up into one, or will they get squashed at merge time? Forgot to sign the first few. \nRecent changes:\n* `self.wallet.generate(1)` to `self.wallet.scan_blocks(start=76, num=1)` \n* remove blocks mined `block_ids` from cluttering logs along with unnecessary math import\n* put back `enumerate` for mempool ",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-845526900,845526900,
DariusParvin,2021-05-21 00:37:22,The changes look good to me! I'm relatively new myself but I think at this stage it would make sense to [squash](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits) everything into one commit.,https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-845571553,845571553,
reemuru,2021-05-21 02:41:30,"> The changes look good to me! I'm relatively new myself but I think at this stage it would make sense to [squash](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squashing-commits) everything into one commit.\n\nGot it, thank you for your assistance!",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-845610550,845610550,
josibake,2021-07-26 13:27:42,"Concept ACK\n\nThanks for posting the profiling data! Definitely agree with more miniwallet usage, especially if it increases test execution speed. I compiled and ran the tests and everything passed, but I would definitely recommend running `flake8` and making the suggested style changes. you can do this automatically with `autopep8` (I did it by with the following steps):\n\n```bash\npip ins",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-886703595,886703595,
practicalswift,2021-07-26 16:13:09,Concept ACK,https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-886838684,886838684,
reemuru,2021-07-26 17:33:31,"> ```shell\n> pip install autopep8\n> ```\n\noh shoots! never used autopep8 before. will use from now on. Thanks for the tip! (^_^) => 0b7dbeb",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-886894048,886894048,
josibake,2021-07-26 22:27:56,"> > ```shell\n> > pip install autopep8\n> > ```\n> \n> oh shoots! never used autopep8 before. will use from now on. Thanks for the tip! (^_^) => [0b7dbeb](https://github.com/bitcoin/bitcoin/commit/0b7dbebd14962080c86c5667a77bbafdcefa6865)\n\nlooks great! id suggest squashing into one atomic commit per [the contributing guide](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#squ",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-887069908,887069908,
reemuru,2021-07-27 02:05:00,"> > > ```shell\n> > > pip install autopep8\n> > > ```\n> > \n> > \n> > oh shoots! never used autopep8 before. will use from now on. Thanks for the tip! (^_^) => [0b7dbeb](https://github.com/bitcoin/bitcoin/commit/0b7dbebd14962080c86c5667a77bbafdcefa6865)\n> \n> looks great! id suggest squashing into one atomic commit per [the contributing guide](https://github.com/bitcoin/bitcoin/blob/maste",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-887150924,887150924,
josibake,2021-07-27 11:06:15,"ACK https://github.com/bitcoin/bitcoin/pull/21999/commits/446c06a6fd8bf205e534be47c02d8088e40dd10f\n\nbuilt without wallet, ran the test to verify everything is behaving as expected. also code reviewed to verify the logic of the test is unchanged (strictly a refactor)",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-887420465,887420465,
DrahtBot,2021-07-27 20:41:56,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #22567 by MarcoFalke\n\nIf you consider this pull request important, please also help to review the conflicting pull reque",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-887820427,887820427,
josibake,2021-07-28 15:17:08,"ACK https://github.com/bitcoin/bitcoin/pull/22330/commits/c1c0768b619ab463a00052d0a584fba191eb02a9\n\nbuilt without wallet and ran test",https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-888395753,888395753,
adamjonas,2021-08-05 23:17:31,@reemuru was there a reason this closed? Would you like to mark it up for grabs?,https://github.com/bitcoin/bitcoin/pull/21999#issuecomment-893884092,893884092,
DariusParvin,2021-05-20 16:47:41,"It looks like this should be:\n```suggestion        \n                .format(n_tx_to_mine)\n```",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636278997,636278997,test/functional/mempool_updatefromblock.py
DariusParvin,2021-05-20 16:51:39,is this useful to have in the log?,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636281765,636281765,test/functional/mempool_updatefromblock.py
DariusParvin,2021-05-20 16:56:44,"'Block height' is probably misleading. Should this say something like?\n```suggestion\n                self.log.info('Number of recently mined blocks: {}'.format(math.ceil(i / n_tx_to_mine)))\n```\nbut also is this useful to have? Without this we won't need to `import math` ",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636285450,636285450,test/functional/mempool_updatefromblock.py
DariusParvin,2021-05-20 17:09:03,"`scan_blocks` is slightly quicker than `generate`, so instead we can use\n```suggestion\n        self.wallet.scan_blocks(start=76, num=1)\n```\n(76 is the first block where the coinbase is mined to the miniwallet address)",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636298155,636298155,test/functional/mempool_updatefromblock.py
DariusParvin,2021-05-20 17:12:08,"Would it be useful to have this in the line above?\n```               \n                assert_equal(len(node.getrawmempool()), n_tx_to_mine)\n```",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636302051,636302051,test/functional/mempool_updatefromblock.py
DariusParvin,2021-05-20 17:15:20,"I'm curious if there's any advantage to incrementing k manually rather than using `enumerate`? Otherwise `enumerate` seems more concise.\n```suggestion\n        for k, tx in enumerate(txs):\n```",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636304223,636304223,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 17:24:57,Nice catch! Yes will update. ,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636310625,636310625,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 17:26:07,I think I was using this for debugging and set to info by mistake. Should remove this to reduce clutter on the console for sure.,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636311404,636311404,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 20:39:39,Updated with ac8b08b,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636454788,636454788,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 20:40:30,"Yeah, not sure what I thinking here. Could've just use len(block_ids) as well. Removed in ac8b08b",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636455248,636455248,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 20:41:25,"Ah, I see. I was wondering how to implement the scan_blocks() but wasn't sure. Thanks! ac8b08b",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636455787,636455787,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 20:42:37,I checked and there is no significant difference in test execution time. Using enumerate ac8b08b,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636456525,636456525,test/functional/mempool_updatefromblock.py
reemuru,2021-05-20 20:44:17,"Shoots, I thought I had that but it was just assert for mempool after mining a block. Updated ac8b08b",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r636457558,636457558,test/functional/mempool_updatefromblock.py
sriramdvt,2021-07-23 16:42:21,"The old implementation of the test explicitly sets the ancestors and descendants of each transaction to form an acyclic tournament. However, `wallet.send_self_transfer()` only explicitly sets one ancestor for each transaction to form something like a singly linked list of `size` number of transactions. The acyclic tournament is then formed by the mempool. It would perhaps be a good idea to mention",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r675698079,675698079,test/functional/mempool_updatefromblock.py
sriramdvt,2021-07-23 16:48:16,"In the earlier implementation of MiniWallet, `tx_size` had only one fixed value. To account for the varying sizes of transactions in the MiniWallet, it would be a better idea to calculate the transaction size from the transaction returned by `send_self_transfer`.",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r675701681,675701681,test/functional/mempool_updatefromblock.py
sriramdvt,2021-07-23 16:51:56,nit: Replace `self.nodes[0]` with `node`,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r675703904,675703904,test/functional/mempool_updatefromblock.py
reemuru,2021-07-25 18:24:49,Updated the comment.,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r676184448,676184448,test/functional/mempool_updatefromblock.py
MarcoFalke,2021-07-28 12:21:22,"please don't commit large style changes in the same commit as refactors/features. This makes review harder because it is not clear what is a refactor/style-change/feature\n\nhttps://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#committing-patches",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678248027,678248027,test/functional/mempool_updatefromblock.py
MarcoFalke,2021-07-28 12:23:56,Also I don't think the change here makes the code easier to read (neither for devs nor for scripts and parsers),https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678249782,678249782,test/functional/mempool_updatefromblock.py
reemuru,2021-07-28 13:51:13,"Oh shoot, my bad. :sob:  Was using some auto-styling tool and must've finger fudged it. Fixed and squashed into 33865a5",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678321024,678321024,test/functional/mempool_updatefromblock.py
josibake,2021-07-28 15:12:35,"> Oh shoot, my bad. sob Was using some auto-styling tool and must've finger fudged it. Fixed and squashed into [33865a5](https://github.com/bitcoin/bitcoin/commit/33865a5fbacf462c90520cb8f5dde61dd8fdbfc9)\n\nmy fault, @reemuru , i gave bad advice. @MarcoFalke is correct: linting (style changes) should be in separate PR's from refactors/features",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678398886,678398886,test/functional/mempool_updatefromblock.py
MarcoFalke,2021-07-28 15:26:21,here are still style changes mixed in,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678412369,678412369,test/functional/mempool_updatefromblock.py
MarcoFalke,2021-07-28 15:26:33,why is this changed?,https://github.com/bitcoin/bitcoin/pull/21999#discussion_r678412561,678412561,test/functional/mempool_updatefromblock.py
reemuru,2021-07-30 13:58:56,"Ah ok, apologies for the noise. Will put this into draft mode since some work is still needed. Thanks for review!",https://github.com/bitcoin/bitcoin/pull/21999#discussion_r679947134,679947134,test/functional/mempool_updatefromblock.py
