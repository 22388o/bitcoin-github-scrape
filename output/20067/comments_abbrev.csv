practicalswift,2020-10-04 19:15:33,"Concept ACK\n\nEvery step towards a Boost free future counts :)",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-703302227,703302227,
MarcoFalke,2020-10-05 08:32:35,"mapOpNames wouldn't be written to if the name doesn't start with `OP_` is this change wanted? Also, why can't this just use the stdlib `remove_prefix`? https://en.cppreference.com/w/cpp/string/basic_string_view/remove_prefix",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-703486515,703486515,
theStack,2020-10-05 09:00:13,"> mapOpNames wouldn't be written to if the name doesn't start with `OP_` is this change wanted? \n\nIt is, the line above the comment isn't changed or removed by this PR:\nhttps://github.com/bitcoin/bitcoin/blob/875e1ccc9fe01e026e564dfd39a64d9a4b332a89/src/core_read.cpp#L41-L44\n\n\n> Also, why can't this just use the stdlib `remove_prefix`? https://en.cppreference.com/w/cpp/string/basic_str",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-703500511,703500511,
MarcoFalke,2020-10-05 09:11:29,"> Nice idea, unfortunately only available since C++17...\n\nI think this refactor is low-prio enough, so that it can wait the 4 weeks until we have C++17",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-703506455,703506455,
MarcoFalke,2020-10-05 18:05:07,"Nevermind, on a second look, the `remove_prefix` doesn't fit this use case",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-703796185,703796185,
theStack,2020-10-06 11:33:45,"> Concept NACK: Seems like a waste of time to review and fix. Boost isn't going anywhere any time soon, and that's okay.\n\nThe reason I opened this PR was that it was actively proposed by regular contributors (see e.g. https://github.com/bitcoin/bitcoin/pull/19851#issuecomment-685424702, https://github.com/bitcoin/bitcoin/pull/19851#issuecomment-700725069). I also saw quite a lot of merged PRs ",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-704208416,704208416,
theStack,2020-10-25 11:36:24,"Rebased on master and followed luke-jrs suggestion, using the compare() method for checking the OP_ prefix rather than the less readable rfind().",https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-716133322,716133322,
laanwj,2020-11-19 10:46:49,Code review ACK 6f4e3936461d0893250e7684928339f6cedf4d0c,https://github.com/bitcoin/bitcoin/pull/20067#issuecomment-730288671,730288671,
practicalswift,2020-10-04 19:18:58,Wouldn't `find` instead of `rfind` make the code match the previous `replace_first` version 100%?,https://github.com/bitcoin/bitcoin/pull/20067#discussion_r499279421,499279421,src/core_read.cpp
theStack,2020-10-05 08:20:12,"Indeed, to match the previous version 100% the code would look something like this:\n```C++\n    ...\n    // Convenience: OP_ADD and just ADD are both recognized:\n    auto pos = strName.find(""OP_"");\n    if (pos != std::string::npos) {\n        strName = strName.substr(0, pos) + strName.substr(pos+3);\n        mapOpNames[strName] = static_cast<opcodetype>(op);\n    }\n    ...\n```\nTha",https://github.com/bitcoin/bitcoin/pull/20067#discussion_r499421521,499421521,src/core_read.cpp
luke-jr,2020-10-24 18:06:10,"```suggestion\n            if (strName.compare(0, 3, ""OP_"") == 0) {  // strName starts with ""OP_""\n```",https://github.com/bitcoin/bitcoin/pull/20067#discussion_r511498395,511498395,src/core_read.cpp
theStack,2020-10-25 11:30:39,"Agreed that this is more readable, done.",https://github.com/bitcoin/bitcoin/pull/20067#discussion_r511583788,511583788,src/core_read.cpp
