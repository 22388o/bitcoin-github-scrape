[
  {
    "sha": "d1091d5cc222218e0c82312d2e119769ca1051fe",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMTA5MWQ1Y2MyMjIyMThlMGM4MjMxMmQyZTExOTc2OWNhMTA1MWZl",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:03:37Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:03:37Z"
      },
      "message": "Add -nicestart option to run initialization at lower priority (Windows-only for now)",
      "tree": {
        "sha": "a45ceffc839a30d49cd19a3cae6b94f928087d10",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a45ceffc839a30d49cd19a3cae6b94f928087d10"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d1091d5cc222218e0c82312d2e119769ca1051fe",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d1091d5cc222218e0c82312d2e119769ca1051fe",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d1091d5cc222218e0c82312d2e119769ca1051fe",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d1091d5cc222218e0c82312d2e119769ca1051fe/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b37f09aa2e80b17028ad7fe1e87362c0f07c7406",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b37f09aa2e80b17028ad7fe1e87362c0f07c7406",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b37f09aa2e80b17028ad7fe1e87362c0f07c7406"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 16,
      "deletions": 1
    },
    "files": [
      {
        "sha": "c6be85a0c2d46bd3fc6a23fe0c525bdf607bd28b",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 16,
        "deletions": 1,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d1091d5cc222218e0c82312d2e119769ca1051fe/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d1091d5cc222218e0c82312d2e119769ca1051fe/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=d1091d5cc222218e0c82312d2e119769ca1051fe",
        "patch": "@@ -180,7 +180,8 @@ bool AppInit2(int argc, char* argv[])\n             \"  -rpcallowip=<ip> \\t\\t  \" + _(\"Allow JSON-RPC connections from specified IP address\\n\") +\n             \"  -rpcconnect=<ip> \\t  \"   + _(\"Send commands to node running on <ip> (default: 127.0.0.1)\\n\") +\n             \"  -keypool=<n>     \\t  \"   + _(\"Set key pool size to <n> (default: 100)\\n\") +\n-            \"  -rescan          \\t  \"   + _(\"Rescan the block chain for missing wallet transactions\\n\");\n+            \"  -rescan          \\t  \"   + _(\"Rescan the block chain for missing wallet transactions\\n\") +\n+            \"  -nicestart       \\t  \"   + _(\"Run initialization in background\\n\");\n \n #ifdef USE_SSL\n         strUsage += string() +\n@@ -347,6 +348,15 @@ bool AppInit2(int argc, char* argv[])\n         fprintf(stdout, \"bitcoin server starting\\n\");\n     strErrors = \"\";\n     int64 nStart;\n+    \n+    if (GetBoolArg(\"-nicestart\"))\n+    {\n+        // lower the process priority while loading all files so that we don't slow down people that launch bitcoin at startup\n+        // TODO: can we do the same on Unix systems without being run as superuser?\n+        #ifdef __WXMSW__\n+            SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_BEGIN);\n+        #endif\n+    }\n \n     printf(\"Loading addresses...\\n\");\n     nStart = GetTimeMillis();\n@@ -373,6 +383,11 @@ bool AppInit2(int argc, char* argv[])\n         ScanForWalletTransactions(pindexGenesisBlock);\n         printf(\" rescan      %15\"PRI64d\"ms\\n\", GetTimeMillis() - nStart);\n     }\n+    \n+    #ifdef __WXMSW__\n+        // return to normal priority\n+        SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_END);\n+    #endif\n \n     printf(\"Done loading\\n\");\n "
      }
    ]
  },
  {
    "sha": "8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YjI0NTBkMmQzNjZjMmE0MzQ4YTllNWM0YTQ4ZDMzZjhmYTc0NjY1",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:24:59Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:24:59Z"
      },
      "message": "add parameter from to listtransactions\nthis allows querying for ranges, i.e. transactions [from, from+count)",
      "tree": {
        "sha": "7f6c6cf62fcaf137eaa80b52b62db4f4d6e104ed",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7f6c6cf62fcaf137eaa80b52b62db4f4d6e104ed"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "d1091d5cc222218e0c82312d2e119769ca1051fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d1091d5cc222218e0c82312d2e119769ca1051fe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d1091d5cc222218e0c82312d2e119769ca1051fe"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 6,
      "deletions": 3
    },
    "files": [
      {
        "sha": "69db71a80f5b4e40df8e057e048ae033c8f0813b",
        "filename": "rpc.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 3,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665/rpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665/rpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/rpc.cpp?ref=8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
        "patch": "@@ -1084,15 +1084,18 @@ Value listtransactions(const Array& params, bool fHelp)\n {\n     if (fHelp || params.size() > 2)\n         throw runtime_error(\n-            \"listtransactions [account] [count=10]\\n\"\n-            \"Returns up to [count] most recent transactions for account <account>.\");\n+            \"listtransactions [account] [count=10] [from=0]\\n\"\n+            \"Returns up to [count] most recent transactions skipping the first [from] transactions for account [account].\");\n \n     string strAccount = \"*\";\n     if (params.size() > 0)\n         strAccount = params[0].get_str();\n     int nCount = 10;\n     if (params.size() > 1)\n         nCount = params[1].get_int();\n+    int nFrom = 0;\n+    if (params.size() > 2)\n+        nFrom = params[2].get_int();\n \n     Array ret;\n     CWalletDB walletdb;\n@@ -1117,7 +1120,7 @@ Value listtransactions(const Array& params, bool fHelp)\n         }\n \n         // Now: iterate backwards until we have nCount items to return:\n-        for (TxItems::reverse_iterator it = txByTime.rbegin(); it != txByTime.rend(); ++it)\n+        for (TxItems::reverse_iterator it = txByTime.rbegin(), std::advance(it, nFrom); it != txByTime.rend(); ++it)\n         {\n             CWalletTx *const pwtx = (*it).second.first;\n             if (pwtx != 0)"
      }
    ]
  },
  {
    "sha": "011b17c51b99a0b970e67df0454f1ea192009501",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMTFiMTdjNTFiOTlhMGI5NzBlNjdkZjA0NTRmMWVhMTkyMDA5NTAx",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:53:24Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:53:24Z"
      },
      "message": "Make -nicestart the default if starting in GUI mode (i.e. not in daemon mode).",
      "tree": {
        "sha": "8e0a9e61c096557202416b56fe39544ac2be8ecd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8e0a9e61c096557202416b56fe39544ac2be8ecd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/011b17c51b99a0b970e67df0454f1ea192009501",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/011b17c51b99a0b970e67df0454f1ea192009501",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/011b17c51b99a0b970e67df0454f1ea192009501",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/011b17c51b99a0b970e67df0454f1ea192009501/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8b2450d2d366c2a4348a9e5c4a48d33f8fa74665"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "817210d7daf876ce98d9cbe77d21cae041e30d8b",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/011b17c51b99a0b970e67df0454f1ea192009501/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/011b17c51b99a0b970e67df0454f1ea192009501/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=011b17c51b99a0b970e67df0454f1ea192009501",
        "patch": "@@ -349,7 +349,7 @@ bool AppInit2(int argc, char* argv[])\n     strErrors = \"\";\n     int64 nStart;\n     \n-    if (GetBoolArg(\"-nicestart\"))\n+    if (!fDaemon | GetBoolArg(\"-nicestart\"))\n     {\n         // lower the process priority while loading all files so that we don't slow down people that launch bitcoin at startup\n         // TODO: can we do the same on Unix systems without being run as superuser?\n@@ -385,7 +385,7 @@ bool AppInit2(int argc, char* argv[])\n     }\n     \n     #ifdef __WXMSW__\n-        // return to normal priority\n+        // return to normal priority (if we're not in background mode then it's a no-op)\n         SetPriorityClass(GetCurrentProcess(), PROCESS_MODE_BACKGROUND_END);\n     #endif\n "
      }
    ]
  },
  {
    "sha": "28ad3edf86809caf793848fcaea7c85d3426a140",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyOGFkM2VkZjg2ODA5Y2FmNzkzODQ4ZmNhZWE3Yzg1ZDM0MjZhMTQw",
    "commit": {
      "author": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:58:19Z"
      },
      "committer": {
        "name": "Carlo Alberto Ferraris",
        "email": "github@cafxx.strayorange.com",
        "date": "2011-04-15T06:58:19Z"
      },
      "message": "Revert \"add parameter from to listtransactions\"\n\nThis reverts commit 8b2450d2d366c2a4348a9e5c4a48d33f8fa74665.",
      "tree": {
        "sha": "af6368919c297721489acc1c570a158daafab853",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/af6368919c297721489acc1c570a158daafab853"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/28ad3edf86809caf793848fcaea7c85d3426a140",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/28ad3edf86809caf793848fcaea7c85d3426a140",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/28ad3edf86809caf793848fcaea7c85d3426a140",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/28ad3edf86809caf793848fcaea7c85d3426a140/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "011b17c51b99a0b970e67df0454f1ea192009501",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/011b17c51b99a0b970e67df0454f1ea192009501",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/011b17c51b99a0b970e67df0454f1ea192009501"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 3,
      "deletions": 6
    },
    "files": [
      {
        "sha": "93df5c22a44c3e44f5eb9f772eb0c1c33747e171",
        "filename": "rpc.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 6,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/28ad3edf86809caf793848fcaea7c85d3426a140/rpc.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/28ad3edf86809caf793848fcaea7c85d3426a140/rpc.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/rpc.cpp?ref=28ad3edf86809caf793848fcaea7c85d3426a140",
        "patch": "@@ -1084,18 +1084,15 @@ Value listtransactions(const Array& params, bool fHelp)\n {\n     if (fHelp || params.size() > 2)\n         throw runtime_error(\n-            \"listtransactions [account] [count=10] [from=0]\\n\"\n-            \"Returns up to [count] most recent transactions skipping the first [from] transactions for account [account].\");\n+            \"listtransactions [account] [count=10]\\n\"\n+            \"Returns up to [count] most recent transactions for account <account>.\");\n \n     string strAccount = \"*\";\n     if (params.size() > 0)\n         strAccount = params[0].get_str();\n     int nCount = 10;\n     if (params.size() > 1)\n         nCount = params[1].get_int();\n-    int nFrom = 0;\n-    if (params.size() > 2)\n-        nFrom = params[2].get_int();\n \n     Array ret;\n     CWalletDB walletdb;\n@@ -1120,7 +1117,7 @@ Value listtransactions(const Array& params, bool fHelp)\n         }\n \n         // Now: iterate backwards until we have nCount items to return:\n-        for (TxItems::reverse_iterator it = txByTime.rbegin(), std::advance(it, nFrom); it != txByTime.rend(); ++it)\n+        for (TxItems::reverse_iterator it = txByTime.rbegin(); it != txByTime.rend(); ++it)\n         {\n             CWalletTx *const pwtx = (*it).second.first;\n             if (pwtx != 0)"
      }
    ]
  }
]