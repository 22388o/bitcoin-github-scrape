[
  {
    "sha": "f2747d1602ec4e1128356b861b2167daf66a845b",
    "node_id": "C_kwDOABII59oAKGYyNzQ3ZDE2MDJlYzRlMTEyODM1NmI4NjFiMjE2N2RhZjY2YTg0NWI",
    "commit": {
      "author": {
        "name": "W. J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-09-20T10:19:38Z"
      },
      "committer": {
        "name": "W. J. van der Laan",
        "email": "laanwj@protonmail.com",
        "date": "2021-09-21T10:36:46Z"
      },
      "message": "build: Restrict check for CRC32C intrinsic to aarch64\n\n`crc32c`'s hardware accelerated code doesn't handle ARM 32-bit at all.\nMake the check in `configure.ac` check for this architecture explicitly.\n\nFor the release binaries, the current `configure.ac` check happens\nto work: it enables it on aarch64 but disables it for armhf. However\nsome combination of compiler version and settings might ostensibly cause\nthis check to succeed on armhf (as reported on IRC). So make the 64-bit\nplatform requirement explicit.",
      "tree": {
        "sha": "3fdc770fdbf1976d0284f753293e26acf10fd884",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3fdc770fdbf1976d0284f753293e26acf10fd884"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f2747d1602ec4e1128356b861b2167daf66a845b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f2747d1602ec4e1128356b861b2167daf66a845b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f2747d1602ec4e1128356b861b2167daf66a845b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f2747d1602ec4e1128356b861b2167daf66a845b/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6ef84e0503994c53f77093e7ea5951a7b0edea7a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ef84e0503994c53f77093e7ea5951a7b0edea7a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6ef84e0503994c53f77093e7ea5951a7b0edea7a"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "e30159f91bd54577d409a99aa866b78f627d23f8",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f2747d1602ec4e1128356b861b2167daf66a845b/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f2747d1602ec4e1128356b861b2167daf66a845b/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=f2747d1602ec4e1128356b861b2167daf66a845b",
        "patch": "@@ -568,13 +568,17 @@ AX_CHECK_COMPILE_FLAG([-march=armv8-a+crc+crypto],[[ARM_CRC_CXXFLAGS=\"-march=arm\n \n TEMP_CXXFLAGS=\"$CXXFLAGS\"\n CXXFLAGS=\"$CXXFLAGS $ARM_CRC_CXXFLAGS\"\n-AC_MSG_CHECKING(for ARM CRC32 intrinsics)\n+AC_MSG_CHECKING(for AArch64 CRC32 intrinsics)\n AC_COMPILE_IFELSE([AC_LANG_PROGRAM([[\n     #include <arm_acle.h>\n     #include <arm_neon.h>\n   ]],[[\n+#ifdef __aarch64__\n     __crc32cb(0, 0); __crc32ch(0, 0); __crc32cw(0, 0); __crc32cd(0, 0);\n     vmull_p64(0, 0);\n+#else\n+#error \"crc32c library does not support hardware acceleration on 32-bit ARM\"\n+#endif\n   ]])],\n  [ AC_MSG_RESULT(yes); enable_arm_crc=yes; ],\n  [ AC_MSG_RESULT(no)]"
      }
    ]
  }
]