[
  {
    "sha": "4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ZDNkZGE1ZDlmOTBkOGFhZmI3MGM3ZTU5YmViMjdlYzQyZDI2Nzkw",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-09T20:07:00Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-11T09:10:34Z"
      },
      "message": "add code to open (display) debug.log on Windows with the associated application and add a button to the Information page in the Debug console",
      "tree": {
        "sha": "ea403e070f23a3b82720fe827607c5b402a02d3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ea403e070f23a3b82720fe827607c5b402a02d3d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b66737e6dfe993a17c60fdf06a301a7fe71fa298",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b66737e6dfe993a17c60fdf06a301a7fe71fa298",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b66737e6dfe993a17c60fdf06a301a7fe71fa298"
      }
    ],
    "stats": {
      "total": 82,
      "additions": 81,
      "deletions": 1
    },
    "files": [
      {
        "sha": "02164f76b52858879d91584e8c6767525f9f7bb6",
        "filename": "src/qt/forms/rpcconsole.ui",
        "status": "modified",
        "additions": 36,
        "deletions": 0,
        "changes": 36,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/forms/rpcconsole.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/forms/rpcconsole.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/rpcconsole.ui?ref=4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
        "patch": "@@ -204,6 +204,42 @@\n         </widget>\n        </item>\n        <item row=\"11\" column=\"0\">\n+        <spacer name=\"verticalSpacer_2\">\n+         <property name=\"orientation\">\n+          <enum>Qt::Vertical</enum>\n+         </property>\n+         <property name=\"sizeHint\" stdset=\"0\">\n+          <size>\n+           <width>20</width>\n+           <height>20</height>\n+          </size>\n+         </property>\n+        </spacer>\n+       </item>\n+       <item row=\"12\" column=\"0\">\n+        <widget class=\"QLabel\" name=\"labelDebugLogfile\">\n+         <property name=\"font\">\n+          <font>\n+           <weight>75</weight>\n+           <bold>true</bold>\n+          </font>\n+         </property>\n+         <property name=\"text\">\n+          <string>Debug logfile</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"13\" column=\"0\">\n+        <widget class=\"QPushButton\" name=\"openDebugLogfileButton\">\n+         <property name=\"toolTip\">\n+          <string>Open the Bitcoin debug logfile from the current data directory. This can take a few seconds for large logfiles.</string>\n+         </property>\n+         <property name=\"text\">\n+          <string>&amp;Open</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"14\" column=\"0\">\n         <spacer name=\"verticalSpacer\">\n          <property name=\"orientation\">\n           <enum>Qt::Vertical</enum>"
      },
      {
        "sha": "9a7d42fa085abab0a90679e23e68c1f2890fccd4",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 29,
        "deletions": 0,
        "changes": 29,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
        "patch": "@@ -17,6 +17,24 @@\n #include <QDesktopServices>\n #include <QThread>\n \n+#include <boost/filesystem.hpp>\n+\n+#ifdef WIN32\n+#ifdef _WIN32_WINNT\n+#undef _WIN32_WINNT\n+#endif\n+#define _WIN32_WINNT 0x0501\n+#ifdef _WIN32_IE\n+#undef _WIN32_IE\n+#endif\n+#define _WIN32_IE 0x0501\n+#define WIN32_LEAN_AND_MEAN 1\n+#ifndef NOMINMAX\n+#define NOMINMAX\n+#endif\n+#include \"shlwapi.h\"\n+#endif\n+\n namespace GUIUtil {\n \n QString dateTimeStr(const QDateTime &date)\n@@ -214,6 +232,17 @@ bool isObscured(QWidget *w)\n            && checkPoint(QPoint(w->width()/2, w->height()/2), w));\n }\n \n+void openDebugLogfile()\n+{\n+    boost::filesystem::path pathDebug = GetDataDir() / \"debug.log\";\n+\n+#ifdef WIN32\n+    if (boost::filesystem::exists(pathDebug))\n+        /* Open debug.log with the associated application */\n+        ShellExecuteA((HWND)0, (LPCSTR)\"open\", (LPCSTR)pathDebug.string().c_str(), NULL, NULL, SW_SHOWNORMAL);\n+#endif\n+}\n+\n ToolTipToRichTextFilter::ToolTipToRichTextFilter(int size_threshold, QObject *parent):\n     size_threshold(size_threshold), QObject(parent)\n {"
      },
      {
        "sha": "92d0f9ee43ba0e6d2f42d222c506f026b9e1ed5c",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
        "patch": "@@ -70,6 +70,9 @@ namespace GUIUtil\n     // Determine whether a widget is hidden behind other windows\n     bool isObscured(QWidget *w);\n \n+    // Open debug.log\n+    void openDebugLogfile();\n+\n     /** Qt event filter that intercepts ToolTipChange events, and replaces the tooltip with a rich text\n       representation if needed. This assures that Qt can word-wrap long tooltip messages.\n       Tooltips longer than the provided size threshold (in characters) are wrapped."
      },
      {
        "sha": "85f79309f3c30fd8a2677ac3dee4e5d12079555a",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
        "patch": "@@ -90,6 +90,12 @@ RPCConsole::RPCConsole(QWidget *parent) :\n     ui->messagesWidget->horizontalHeader()->setResizeMode(1, QHeaderView::Stretch);\n     ui->messagesWidget->setContextMenuPolicy(Qt::ActionsContextMenu);\n \n+#ifndef WIN32\n+    // Show Debug logfile label and Open button only for Windows\n+    ui->labelDebugLogfile->setVisible(false);\n+    ui->openDebugLogfileButton->setVisible(false);\n+#endif\n+\n     // Install event filter for up and down arrow\n     ui->lineEdit->installEventFilter(this);\n \n@@ -101,6 +107,7 @@ RPCConsole::RPCConsole(QWidget *parent) :\n     ui->messagesWidget->addAction(copyMessageAction);\n \n     connect(ui->clearButton, SIGNAL(clicked()), this, SLOT(clear()));\n+    connect(ui->openDebugLogfileButton, SIGNAL(clicked()), this, SLOT(on_openDebugLogfileButton_clicked()));\n \n     startExecutor();\n \n@@ -310,3 +317,8 @@ void RPCConsole::on_tabWidget_currentChanged(int index)\n         ui->lineEdit->setFocus();\n     }\n }\n+\n+void RPCConsole::on_openDebugLogfileButton_clicked()\n+{\n+    GUIUtil::openDebugLogfile();\n+}"
      },
      {
        "sha": "30948eaad2fc9d926473ca8305564fd06b8a4368",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4d3dda5d9f90d8aafb70c7e59beb27ec42d26790/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=4d3dda5d9f90d8aafb70c7e59beb27ec42d26790",
        "patch": "@@ -32,8 +32,8 @@ class RPCConsole: public QDialog\n \n private slots:\n     void on_lineEdit_returnPressed();\n-\n     void on_tabWidget_currentChanged(int index);\n+    void on_openDebugLogfileButton_clicked();\n \n public slots:\n     void clear();"
      }
    ]
  }
]