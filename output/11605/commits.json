[
  {
    "sha": "5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Y2JiYmQ3MTQzMmJmZmE0MDg5ZmYzNGRkNmIwOWYwMTdjNGFkYWY3",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2017-12-22T08:18:05Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2017-12-22T08:18:05Z"
      },
      "message": "[Wallet] Use RBF by default in QT only\n\nGUI wallet uses RBF by default, regardless of -walletrbf.\n\nRPC and debug console in the GUI remain unchanged; they don't\nuse RBF by default, unless launched with -walletrbf=1.",
      "tree": {
        "sha": "4bf75b78c57d0e805259111474cce72b022cf75b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4bf75b78c57d0e805259111474cce72b022cf75b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAlo8v74THHNqb3JzQHNw\ncm92b29zdC5ubAAKCRBX/5vbzDAQCdeaEADGd2d8/drDL+OHRWywjSaBHX71bnhM\n4Wly4ChO0RSLYRafGwjL0rRnaQT0bSlubCR6IghXTpdJw7mxDhdIaZMT1sO24Sm4\nWQ1nQYctvFej9/peNuY6xyk7x9aXZUdB2iU/gvHzGXCfOoh7Bo42py8xix/NucFS\nyhA0d2PQVV+6hkL4gpfWA0l23wBDhTEmXT7VTrI3iraiH+Y2Eq6CKdQncAC3ZWWP\nMJfKVwft7jlmKPNIuVVbNkj2Mk68VUAVaE9v1RxYgtCd6Es888kBFnwcWJfe1jU0\nfjxfXgBi2u6jqplPVm6ZMVDbrNXe1q61VB378UNxr/JpNq3XVK/vTZj5WfHpjWXp\nBDpuuVAUjXzlaT7OsHwEjsaWgG2wfgsjfdvAesciz/z/LP7H0AGwHsGCvYYMbek7\nzxbPKWBfz8KEiYFYohB8awh02VLYPPKY6wyzrpeXP4yAUu0nBR0WpvC+BBx40vs9\n8HTZYDi8MHlkpPdTWqoEdprBVZ1YjW/EXEtaEi/puGqd00h/W+2VX6yh5jqRmlcd\n35+NsAx1eaixL5vHKX0DygnEKG+6JBsQUYpIG79dQvF9k79WmpPfqVE3NMo7AKq9\nvUKyFceKTM6DfLlUZBEAykNOn4+3BFN2RWhBpg3efmFOlmZw/igbTZheYHu9izm2\nWgWD9BQuZXTfxg==\n=og3i\n-----END PGP SIGNATURE-----",
        "payload": "tree 4bf75b78c57d0e805259111474cce72b022cf75b\nparent 91eeaa03354bbb4ee79d6defaffaef2b32ecbe29\nauthor Sjors Provoost <sjors@sprovoost.nl> 1513930685 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1513930685 +0100\n\n[Wallet] Use RBF by default in QT only\n\nGUI wallet uses RBF by default, regardless of -walletrbf.\n\nRPC and debug console in the GUI remain unchanged; they don't\nuse RBF by default, unless launched with -walletrbf=1.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "91eeaa03354bbb4ee79d6defaffaef2b32ecbe29",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91eeaa03354bbb4ee79d6defaffaef2b32ecbe29",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/91eeaa03354bbb4ee79d6defaffaef2b32ecbe29"
      }
    ],
    "stats": {
      "total": 35,
      "additions": 19,
      "deletions": 16
    },
    "files": [
      {
        "sha": "aff6dc758277b7e372861709526718a0c938d9b8",
        "filename": "doc/release-notes.md",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/doc/release-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/doc/release-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes.md?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -67,6 +67,14 @@ Due to a backward-incompatible change in the wallet database, wallets created\n with version 0.16.0 will be rejected by previous versions. Also, version 0.16.0\n will only create hierarchical deterministic (HD) wallets.\n \n+Replace-By-Fee by default in GUI\n+--------------------------------\n+The send screen now uses BIP-125 RBF by default, regardless of `-walletrbf`.\n+There is a checkbox to mark the transaction as final.\n+\n+The RPC default remains unchanged: to use RBF, launch with `-walletrbf=1` or\n+use the `replaceable` argument for individual transactions.\n+\n Custom wallet directories\n ---------------------\n The ability to specify a directory other than the default data directory in which to store"
      },
      {
        "sha": "195a5560f7a1536fcd82292f0313031364eb8784",
        "filename": "src/qt/forms/sendcoinsdialog.ui",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/forms/sendcoinsdialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/forms/sendcoinsdialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/sendcoinsdialog.ui?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -1108,10 +1108,10 @@\n            <item>\n             <widget class=\"QCheckBox\" name=\"optInRBF\">\n              <property name=\"text\">\n-              <string>Allow increasing fee</string>\n+              <string>Enable Replace-By-Fee</string>\n              </property>\n              <property name=\"toolTip\">\n-              <string>This allows you to increase the fee later if the transaction takes a long time to confirm. This will also cause the recommended fee to be lower. (\"Replace-By-Fee\", BIP 125)</string>\n+              <string>With Replace-By-Fee (BIP-125) you can increase a transaction's fee after it is sent. Without this, a higher fee may be recommended to compensate for increased transaction delay risk.</string>\n              </property>\n             </widget>\n            </item>"
      },
      {
        "sha": "af7cdb1fc8f0954d743518470e069fb46c866ffd",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 6,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -184,7 +184,7 @@ void SendCoinsDialog::setModel(WalletModel *_model)\n         updateSmartFeeLabel();\n \n         // set default rbf checkbox state\n-        ui->optInRBF->setCheckState(model->getDefaultWalletRbf() ? Qt::Checked : Qt::Unchecked);\n+        ui->optInRBF->setCheckState(Qt::Checked);\n \n         // set the smartfee-sliders default value (wallets default conf.target or last stored value)\n         QSettings settings;\n@@ -342,12 +342,14 @@ void SendCoinsDialog::on_sendButton_clicked()\n     questionString.append(QString(\"<span style='font-size:10pt;font-weight:normal;'><br />(=%2)</span>\")\n         .arg(alternativeUnits.join(\" \" + tr(\"or\") + \"<br />\")));\n \n-    if (ui->optInRBF->isChecked())\n-    {\n-        questionString.append(\"<hr /><span>\");\n-        questionString.append(tr(\"You can increase the fee later (signals Replace-By-Fee).\"));\n-        questionString.append(\"</span>\");\n+    questionString.append(\"<hr /><span>\");\n+    if (ui->optInRBF->isChecked()) {\n+        questionString.append(tr(\"You can increase the fee later (signals Replace-By-Fee, BIP-125).\"));\n+    } else {\n+        questionString.append(tr(\"Not signalling Replace-By-Fee, BIP-125.\"));\n     }\n+    questionString.append(\"</span>\");\n+\n \n     SendConfirmationDialog confirmationDialog(tr(\"Confirm send coins\"),\n         questionString.arg(formatted.join(\"<br />\")), SEND_CONFIRM_DELAY, this);"
      },
      {
        "sha": "e0193ed47598d2b92e83f8a97b8b55fa4626103b",
        "filename": "src/qt/walletmodel.cpp",
        "status": "modified",
        "additions": 0,
        "deletions": 5,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/walletmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/walletmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.cpp?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -737,8 +737,3 @@ int WalletModel::getDefaultConfirmTarget() const\n {\n     return nTxConfirmTarget;\n }\n-\n-bool WalletModel::getDefaultWalletRbf() const\n-{\n-    return fWalletRbf;\n-}"
      },
      {
        "sha": "8009e54b19af903e185cc67014e24738b730f6af",
        "filename": "src/qt/walletmodel.h",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/walletmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/qt/walletmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletmodel.h?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -216,8 +216,6 @@ class WalletModel : public QObject\n \n     int getDefaultConfirmTarget() const;\n \n-    bool getDefaultWalletRbf() const;\n-\n private:\n     CWallet *wallet;\n     bool fHaveWatchOnly;"
      },
      {
        "sha": "adce6aeb82c63dc678b0a55e83e86092878d219a",
        "filename": "src/wallet/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/wallet/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5cbbbd71432bffa4089ff34dd6b09f017c4adaf7/src/wallet/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/init.cpp?ref=5cbbbd71432bffa4089ff34dd6b09f017c4adaf7",
        "patch": "@@ -31,7 +31,7 @@ std::string GetWalletHelpString(bool showDebug)\n     strUsage += HelpMessageOpt(\"-salvagewallet\", _(\"Attempt to recover private keys from a corrupt wallet on startup\"));\n     strUsage += HelpMessageOpt(\"-spendzeroconfchange\", strprintf(_(\"Spend unconfirmed change when sending transactions (default: %u)\"), DEFAULT_SPEND_ZEROCONF_CHANGE));\n     strUsage += HelpMessageOpt(\"-txconfirmtarget=<n>\", strprintf(_(\"If paytxfee is not set, include enough fee so transactions begin confirmation on average within n blocks (default: %u)\"), DEFAULT_TX_CONFIRM_TARGET));\n-    strUsage += HelpMessageOpt(\"-walletrbf\", strprintf(_(\"Send transactions with full-RBF opt-in enabled (default: %u)\"), DEFAULT_WALLET_RBF));\n+    strUsage += HelpMessageOpt(\"-walletrbf\", strprintf(_(\"Send transactions with full-RBF opt-in enabled (RPC only, default: %u)\"), DEFAULT_WALLET_RBF));\n     strUsage += HelpMessageOpt(\"-upgradewallet\", _(\"Upgrade wallet to latest format on startup\"));\n     strUsage += HelpMessageOpt(\"-wallet=<file>\", _(\"Specify wallet file (within data directory)\") + \" \" + strprintf(_(\"(default: %s)\"), DEFAULT_WALLET_DAT));\n     strUsage += HelpMessageOpt(\"-walletbroadcast\", _(\"Make the wallet broadcast transactions\") + \" \" + strprintf(_(\"(default: %u)\"), DEFAULT_WALLETBROADCAST));"
      }
    ]
  }
]