laanwj,2014-12-19T07:11:55Z,"Thanks, good catch, assigned 0.10 milestone.\n\nutACK\n",https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67605564,67605564,
sipa,2014-12-19T14:29:43Z,"Nice catch, this is indeed a problem.\n\nI'm less sure about the solution. MarkBlockAsInFlight is only called as a result of a local decision to start fetching a block, so if it overflows, it just means the logic for decision to download blocks in the first place is wrong.\n\nSo, there are two possible code paths that lead to a decision to download a block. One is the 'normal' headers-based synchr",https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67644273,67644273,
sipa,2014-12-19T14:34:24Z,"Also, #4831 is only affects transaction fetching, not block fetching, so a solution is very welcome here, including master.\n",https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67644881,67644881,
ajweiss,2014-12-19T17:32:47Z,Cool!  I've reverted the original strategy...  I assume you mean something like this.  I've verified that it does indeed stop the attack and I'm playing with testing synchronization under a few conditions now.\n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67669499,67669499,
sipa,2014-12-22T15:08:49Z,Untested ACK (after squash). Testing on testnet now.\n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67846953,67846953,
sipa,2014-12-22T20:51:45Z,Tested ACK.\n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67888085,67888085,
ajweiss,2014-12-22T21:38:21Z,"afk today, will squash tonight...   also tested against bogus inv floods and early/late stage sync...\n",https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67893165,67893165,
ajweiss,2014-12-23T07:32:52Z,Rebase-squashed.  No changes from what sipa tested.\n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67927844,67927844,
btcdrak,2014-12-23T08:33:57Z,utACK. code is the same after squash.\n\nnicely found @ajweiss \n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67930806,67930806,
gmaxwell,2014-12-23T10:28:33Z,ACK.\n,https://github.com/bitcoin/bitcoin/pull/5507#issuecomment-67938378,67938378,
