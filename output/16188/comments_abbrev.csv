MarcoFalke,2019-06-20 14:49:48,Addressed review by  @mzumsande  and @naumenkogs,https://github.com/bitcoin/bitcoin/pull/16188#issuecomment-504056276,504056276,
naumenkogs,2019-06-20 15:26:36,ACK,https://github.com/bitcoin/bitcoin/pull/16188#issuecomment-504070842,504070842,
mzumsande,2019-06-20 15:39:51,"ACK as well. This construction (upholding the connection with a peer we can never process a message from) doesn't make a lot of sense to me, but documenting it is good.",https://github.com/bitcoin/bitcoin/pull/16188#issuecomment-504076201,504076201,
MarcoFalke,2019-06-20 15:51:34,"Yeah, I'd say to disconnect the peer, but that should be done in a follow-up pull request.",https://github.com/bitcoin/bitcoin/pull/16188#issuecomment-504080620,504080620,
sdaftuar,2019-06-25 02:38:21,"Looks right to me, but I haven't had a chance to verify that this is true with a test.",https://github.com/bitcoin/bitcoin/pull/16188#issuecomment-505255656,505255656,
mzumsande,2019-06-11 16:25:44,"Wouldn't this not only block future GetData, but also all other messages from this peer, because of the line `if (!pfrom->vRecvGetData.empty()) return true;` in `ProcessMessages()`?",https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292547216,292547216,src/net_processing.cpp
MarcoFalke,2019-06-11 17:24:30,"Indeed. In which case we might actually disconnect the peer, since there isn't anything that could happen on that connection anyway.",https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292572984,292572984,src/net_processing.cpp
naumenkogs,2019-06-11 21:11:29,This is also the only thing that prevents vRecvGetData from unbounded growth.,https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292661724,292661724,src/net_processing.cpp
naumenkogs,2019-06-11 21:14:01,"Perhaps I'd suggest adding this note to ``if (!pfrom->vRecvGetData.empty()) return true;``, otherwise it's not obvious why we should do this check before processing new messages.",https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292662606,292662606,src/net_processing.cpp
MarcoFalke,2019-06-11 21:17:33,The comment there reads `// this maintains the order of responses`,https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292663777,292663777,src/net_processing.cpp
naumenkogs,2019-06-11 21:22:48,Which does not really explain that removing this line would enable DoS :),https://github.com/bitcoin/bitcoin/pull/16188#discussion_r292665589,292665589,src/net_processing.cpp
MarcoFalke,2019-06-20 14:49:21,"Thanks, done.",https://github.com/bitcoin/bitcoin/pull/16188#discussion_r295844197,295844197,src/net_processing.cpp
