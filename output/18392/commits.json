[
  {
    "sha": "fa01febeaf801bade77a613e64f18b556ae16d86",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTAxZmViZWFmODAxYmFkZTc3YTYxM2U2NGYxOGI1NTZhZTE2ZDg2",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-20T16:08:33Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-21T00:58:13Z"
      },
      "message": "test: Remove ci timeout restriction in test_runner",
      "tree": {
        "sha": "1f45bdd319361db381dc678753281e499edd45bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1f45bdd319361db381dc678753281e499edd45bd"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa01febeaf801bade77a613e64f18b556ae16d86",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUj0aAv/YsjUbtFw+g/IgegD8DlFJS/kLvayv7xlhWhtOczdsUyOgzvfqnLuaR9L\nrZLZPNhUfMb1M/Sru9kDnus7CtO+sU2Wf399M+0FNALsVu8+xMLsqfksuLWsC3yT\nsdpdu6fKb3+VT9gUkUS/9j6JDS0mDhYb6kfKXSe0wwOER+R78MZOfpmGUEKZoMJF\ns0RYsu3MW8kFUTr8SCgXaZNtS6uWitfBrMKQMke+fif3l7MI6/BTCMeDQuCcOT8R\nvcE+qP9cwpihMRV1iuGBqK1angwlhpTWGmnnCOXxQY/3WskOvsZJWcuzjPdI+ize\nYX52i5yI2VJM7dT6GrGjekFZ5rMLz6A1Jdw5JmqCPtiGOFEq+qZIRHneGoTTNlvd\n/Kd0HB9ei2Yu50ZFYnN1SAeNWIXEhPednMPGiXiIigoFA1nyCDWDdVVTAQpkwxI4\nyyfq500AbWcAXdYwrwbSgCqRJ2Q7UW9SFfsxMNH1MS+6eHs2uTAwHUYOnrnEcTwL\nu9s+OzFx\n=ZdBs\n-----END PGP SIGNATURE-----",
        "payload": "tree 1f45bdd319361db381dc678753281e499edd45bd\nparent 5bf45fe2a9642f8ae8f8a12bcbf8f8b4770421ad\nauthor MarcoFalke <falke.marco@gmail.com> 1584720513 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1584752293 -0400\n\ntest: Remove ci timeout restriction in test_runner\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa01febeaf801bade77a613e64f18b556ae16d86",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01febeaf801bade77a613e64f18b556ae16d86",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa01febeaf801bade77a613e64f18b556ae16d86/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5bf45fe2a9642f8ae8f8a12bcbf8f8b4770421ad",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5bf45fe2a9642f8ae8f8a12bcbf8f8b4770421ad",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5bf45fe2a9642f8ae8f8a12bcbf8f8b4770421ad"
      }
    ],
    "stats": {
      "total": 14,
      "additions": 3,
      "deletions": 11
    },
    "files": [
      {
        "sha": "8eb60c36dfffd483d0f2caf6f89d4cadf50ebbe2",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 3,
        "deletions": 11,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa01febeaf801bade77a613e64f18b556ae16d86/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa01febeaf801bade77a613e64f18b556ae16d86/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=fa01febeaf801bade77a613e64f18b556ae16d86",
        "patch": "@@ -19,9 +19,8 @@\n import os\n import time\n import shutil\n-import signal\n-import sys\n import subprocess\n+import sys\n import tempfile\n import re\n import logging\n@@ -366,11 +365,10 @@ def main():\n         args=passon_args,\n         combined_logs_len=args.combinedlogslen,\n         failfast=args.failfast,\n-        runs_ci=args.ci,\n         use_term_control=args.ansi,\n     )\n \n-def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=False, args=None, combined_logs_len=0, failfast=False, runs_ci, use_term_control):\n+def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=False, args=None, combined_logs_len=0, failfast=False, use_term_control):\n     args = args or []\n \n     # Warn if bitcoind is already running\n@@ -412,7 +410,6 @@ def run_tests(*, test_list, src_dir, build_dir, tmpdir, jobs=1, enable_coverage=\n         tmpdir=tmpdir,\n         test_list=test_list,\n         flags=flags,\n-        timeout_duration=40 * 60 if runs_ci else float('inf'),  # in seconds\n         use_term_control=use_term_control,\n     )\n     start_time = time.time()\n@@ -497,12 +494,11 @@ class TestHandler:\n     Trigger the test scripts passed in via the list.\n     \"\"\"\n \n-    def __init__(self, *, num_tests_parallel, tests_dir, tmpdir, test_list, flags, timeout_duration, use_term_control):\n+    def __init__(self, *, num_tests_parallel, tests_dir, tmpdir, test_list, flags, use_term_control):\n         assert num_tests_parallel >= 1\n         self.num_jobs = num_tests_parallel\n         self.tests_dir = tests_dir\n         self.tmpdir = tmpdir\n-        self.timeout_duration = timeout_duration\n         self.test_list = test_list\n         self.flags = flags\n         self.num_running = 0\n@@ -543,10 +539,6 @@ def get_next(self):\n             time.sleep(.5)\n             for job in self.jobs:\n                 (name, start_time, proc, testdir, log_out, log_err) = job\n-                if int(time.time() - start_time) > self.timeout_duration:\n-                    # Timeout individual tests if timeout is specified (to stop\n-                    # tests hanging and not providing useful output).\n-                    proc.send_signal(signal.SIGINT)\n                 if proc.poll() is not None:\n                     log_out.seek(0), log_err.seek(0)\n                     [stdout, stderr] = [log_file.read().decode('utf-8') for log_file in (log_out, log_err)]"
      }
    ]
  },
  {
    "sha": "fa92af5af39a08982f785542df5419d6d5a4706d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTkyYWY1YWYzOWEwODk4MmY3ODU1NDJkZjU0MTlkNmQ1YTQ3MDZk",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-20T14:48:13Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-03-22T14:12:40Z"
      },
      "message": "ci: Run feature_block and feature_abortnode in valgrind",
      "tree": {
        "sha": "117d46929be4f094b689d4c4a383a0dc18e69942",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/117d46929be4f094b689d4c4a383a0dc18e69942"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa92af5af39a08982f785542df5419d6d5a4706d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUhTcgwAwZTgw86e82vkKIFFr1BI7H+dbBAtcB2Nm1CShW/XhwXxUbpO6RZ/FXAJ\niLM/pD5zQnduXx1dcTkHkNnspF2G8d3+2dFSXjIyfoIzm45PCWnjrr4rEQj1QQ9W\nD+rxReVrbXL+L4gH3h7H5np8dbMO80oLvhODFpfsdQMLVCTn7TiHc3ujOPxkSbq/\n7SkIdmA4+wucBOFloCq3k5ERRx47l6SY8XxYMCEqColWgai8hPIuuj/ZbcYoVHsk\nQMOpaJAUrhtyj5jfrRC8G75niR5GDYk8oZi0hC8eSf50/aRfYLCVQInmURE92Kz7\nYia2Jiv8YEUOGqeCYuag3DPROM/YbvV0GSO5uQBayQThqzaZVkKmZV8sh0ZHlm1/\nlx/0hJKR/pCGNraA7S1zSTHBLAhTz8PLfAZhkRzKuP09vfQ1/hcItzCT2YTYvfpr\nel8Q+qNSmd2Vgzs0dAk/+JnPW+lXskt/BnlulgFgm7qz6yjBAumHcHMudS7Y9S4/\nljDz26Nj\n=Sjlz\n-----END PGP SIGNATURE-----",
        "payload": "tree 117d46929be4f094b689d4c4a383a0dc18e69942\nparent fa01febeaf801bade77a613e64f18b556ae16d86\nauthor MarcoFalke <falke.marco@gmail.com> 1584715693 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1584886360 -0400\n\nci: Run feature_block and feature_abortnode in valgrind\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa92af5af39a08982f785542df5419d6d5a4706d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa92af5af39a08982f785542df5419d6d5a4706d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa92af5af39a08982f785542df5419d6d5a4706d/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa01febeaf801bade77a613e64f18b556ae16d86",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa01febeaf801bade77a613e64f18b556ae16d86",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa01febeaf801bade77a613e64f18b556ae16d86"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 7,
      "deletions": 6
    },
    "files": [
      {
        "sha": "2a7b32cefc8e5946553ed53b3eee6f79be319792",
        "filename": "ci/test/00_setup_env_native_valgrind.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa92af5af39a08982f785542df5419d6d5a4706d/ci/test/00_setup_env_native_valgrind.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa92af5af39a08982f785542df5419d6d5a4706d/ci/test/00_setup_env_native_valgrind.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_native_valgrind.sh?ref=fa92af5af39a08982f785542df5419d6d5a4706d",
        "patch": "@@ -10,7 +10,6 @@ export CONTAINER_NAME=ci_native_valgrind\n export PACKAGES=\"valgrind clang llvm python3-zmq libevent-dev bsdmainutils libboost-system-dev libboost-filesystem-dev libboost-test-dev libboost-thread-dev libdb5.3++-dev libminiupnpc-dev libzmq3-dev\"\n export USE_VALGRIND=1\n export NO_DEPENDS=1\n-export TEST_RUNNER_EXTRA=\"--exclude feature_abortnode,feature_block,rpc_bind\"  # Excluded for now\n-export RUN_FUNCTIONAL_TESTS=true\n+export TEST_RUNNER_EXTRA=\"--exclude rpc_bind\"  # Excluded for now, see https://github.com/bitcoin/bitcoin/issues/17765#issuecomment-602068547\n export GOAL=\"install\"\n export BITCOIN_CONFIG=\"--enable-zmq --with-incompatible-bdb --with-gui=no CC=clang CXX=clang++\"  # TODO enable GUI"
      },
      {
        "sha": "e47e7094315e7662481e0ccb0ace351218671333",
        "filename": "test/functional/feature_abortnode.py",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa92af5af39a08982f785542df5419d6d5a4706d/test/functional/feature_abortnode.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa92af5af39a08982f785542df5419d6d5a4706d/test/functional/feature_abortnode.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_abortnode.py?ref=fa92af5af39a08982f785542df5419d6d5a4706d",
        "patch": "@@ -14,11 +14,12 @@\n from test_framework.util import wait_until, get_datadir_path, connect_nodes\n import os\n \n-class AbortNodeTest(BitcoinTestFramework):\n \n+class AbortNodeTest(BitcoinTestFramework):\n     def set_test_params(self):\n         self.setup_clean_chain = True\n         self.num_nodes = 2\n+        self.rpc_timeout = 240\n \n     def setup_network(self):\n         self.setup_nodes()\n@@ -44,5 +45,6 @@ def run_test(self):\n         self.log.info(\"Node crashed - now verifying restart fails\")\n         self.nodes[0].assert_start_raises_init_error()\n \n+\n if __name__ == '__main__':\n     AbortNodeTest().main()"
      },
      {
        "sha": "0c591de86952ca1c2d7aaef55bab76f23be2b2d1",
        "filename": "test/functional/feature_block.py",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa92af5af39a08982f785542df5419d6d5a4706d/test/functional/feature_block.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa92af5af39a08982f785542df5419d6d5a4706d/test/functional/feature_block.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_block.py?ref=fa92af5af39a08982f785542df5419d6d5a4706d",
        "patch": "@@ -1263,7 +1263,7 @@ def run_test(self):\n             self.save_spendable_output()\n             spend = self.get_spendable_output()\n \n-        self.send_blocks(blocks, True, timeout=1920)\n+        self.send_blocks(blocks, True, timeout=2440)\n         chain1_tip = i\n \n         # now create alt chain of same length\n@@ -1275,14 +1275,14 @@ def run_test(self):\n \n         # extend alt chain to trigger re-org\n         block = self.next_block(\"alt\" + str(chain1_tip + 1), version=4)\n-        self.send_blocks([block], True, timeout=1920)\n+        self.send_blocks([block], True, timeout=2440)\n \n         # ... and re-org back to the first chain\n         self.move_tip(chain1_tip)\n         block = self.next_block(chain1_tip + 1, version=4)\n         self.send_blocks([block], False, force_send=True)\n         block = self.next_block(chain1_tip + 2, version=4)\n-        self.send_blocks([block], True, timeout=1920)\n+        self.send_blocks([block], True, timeout=2440)\n \n         self.log.info(\"Reject a block with an invalid block header version\")\n         b_v1 = self.next_block('b_v1', version=1)"
      }
    ]
  }
]