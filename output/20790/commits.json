[
  {
    "sha": "3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYWJiOGI3YmE2MjIyYjk4ZTNkMDEzMmJlMTI3MTRmNjBiNmE0NmY2",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-28T21:00:25Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-28T21:02:16Z"
      },
      "message": "policy: create CFeeRate::FromSatB and FromBtcKb named ctors",
      "tree": {
        "sha": "309966aa1a16b8e2cc4eff752317eca106bd6a59",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/309966aa1a16b8e2cc4eff752317eca106bd6a59"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl/qR9gACgkQT1chs9Dj\nkh03eA/8DxsWqPZrxWdWOIJ1rRfTBxHWHdMy9kM+J6Y7WERpNmy+Q3JcibY6R+vb\npLid9cuaC6grJhR0tceddn76kMDP8SeTkAKbsr6u3qh7A8HzXpSyBEnOtWJ9kQeP\nhuKkG9lT42LgksOVcUrGdw4xBdSVe6OSqDAEkSNjuM9aqbMwrHBiYORFlLd9JYp3\ncSmTE4/699sRfTwvbMZ1LeM5GZPSgr6UgKR+bpkyG0aYFMHeWMo30wI2dm1kf223\nfy5UJDKwR8haNUDw/+89rXCamu2mRSrrHb8INo3BxHE0nwu2tlOlKYrcH404O8VD\nXgHMb1ct02mZqisHL1W6UMu906cOh4yEniEmpoXAZWhmFjR5pVMuonfWfvwt9jDL\n/hJbSkoHyd1e7ZZSnpEKyg+YQP9UV7a4cir0fwF8d/MZqx81aZNdxaV+8XO53PlO\nSLMglP3IpTKEpWQGYcG9hkC+d5tsRcVjQiOLgS/EwNnK21aw2kD0VZfnSPixVKAl\n7/C0AyZRXyPAMPFjS+9l+ZpQI2XyqIVsw12hY4+8j2ngismaLox1B4IU0o/ySmZi\n0uPK4nx719gMw/yCiR4VNSFpNGXfWp1JIc4VHf95DkaK3qX9gcb3MUs4eE5wPn/X\n61xVcZk8+CVNgjzueaZu1qXZ84IJF5bn3X84dW3PvjMhbiCdqbM=\n=55NT\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIAclcMnDmezdNZ2vJqKopSq2kYdcRv8YgfFIF2MYYS/OCP/wECeylgPy0N5e\nCHBQrKSzIoYI8QRf6kfa8AjNRR7Q1F//VgCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQXcKbP2HNx9ViUNhK\nrEJh6wjxBF/qR9nwCJCtEglKv1F4AIPf4w0u+QyOIyJodHRwczovL2J0Yy5jYWxl\nbmRhci5jYXRhbGxheHkuY29t//AQluA/ZwnH7LieUNfYIVGe7AjxBF/qR9rwCE3/\n02bERV9nAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5ldGVybml0\neXdhbGwuY29t8BDPIKJp6sUGkCIjgj1aAYXzCPEEX+pH2vAIJbESXzrQbAkAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 309966aa1a16b8e2cc4eff752317eca106bd6a59\nparent 7f9ae870115ed1419ce33ae0dd01d3cbeff9dd73\nauthor Jon Atack <jon@atack.com> 1609189225 +0100\ncommitter Jon Atack <jon@atack.com> 1609189336 +0100\n\npolicy: create CFeeRate::FromSatB and FromBtcKb named ctors\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3abb8b7ba6222b98e3d0132be12714f60b6a46f6/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7f9ae870115ed1419ce33ae0dd01d3cbeff9dd73",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7f9ae870115ed1419ce33ae0dd01d3cbeff9dd73",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7f9ae870115ed1419ce33ae0dd01d3cbeff9dd73"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 8,
      "deletions": 0
    },
    "files": [
      {
        "sha": "c9ee94a215c57ba76dbef6dbc8e60ff60aa7d77e",
        "filename": "src/policy/feerate.h",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3abb8b7ba6222b98e3d0132be12714f60b6a46f6/src/policy/feerate.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3abb8b7ba6222b98e3d0132be12714f60b6a46f6/src/policy/feerate.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/feerate.h?ref=3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
        "patch": "@@ -39,6 +39,8 @@ class CFeeRate\n         // We've previously had bugs creep in from silent double->int conversion...\n         static_assert(std::is_integral<I>::value, \"CFeeRate should be used without floats\");\n     }\n+    static CFeeRate FromSatB(CAmount fee_rate);\n+    static CFeeRate FromBtcKb(CAmount fee_rate);\n     /** Constructor for a fee rate in satoshis per kvB (sat/kvB). The size in bytes must not exceed (2^63 - 1).\n      *\n      *  Passing an nBytes value of COIN (1e8) returns a fee rate in satoshis per vB (sat/vB),\n@@ -70,4 +72,10 @@ class CFeeRate\n     SERIALIZE_METHODS(CFeeRate, obj) { READWRITE(obj.nSatoshisPerK); }\n };\n \n+/** Construct a CFeeRate from a CAmount in sat/vB */\n+inline CFeeRate CFeeRate::FromSatB(CAmount fee_rate) { return CFeeRate(fee_rate, COIN); }\n+\n+/** Construct a CFeeRate from a CAmount in BTC/kvB */\n+inline CFeeRate CFeeRate::FromBtcKb(CAmount fee_rate) { return CFeeRate(fee_rate, 1000); }\n+\n #endif //  BITCOIN_POLICY_FEERATE_H"
      }
    ]
  },
  {
    "sha": "6db85fbf45040bd74c4f0604ba6f2d798a48890d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2ZGI4NWZiZjQ1MDQwYmQ3NGM0ZjA2MDRiYTZmMmQ3OThhNDg4OTBk",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-11-28T15:50:19Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-28T21:02:19Z"
      },
      "message": "test: add CFeeRate::FromSatB/FromBtcKb unit test coverage",
      "tree": {
        "sha": "626f8a343852a7b3c7c98196b56fec0a96611c23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/626f8a343852a7b3c7c98196b56fec0a96611c23"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/6db85fbf45040bd74c4f0604ba6f2d798a48890d",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl/qR9sACgkQT1chs9Dj\nkh3pkhAAmcKFZfZ+Sgafl0HdAtryhIEqU2qoI8uMK0O7qi8A3LmTYkVGxULZOeYO\nLdoggu5juoJTcEzGx7NcwQhNddrNgGMxiBKZhVMSg6wGXqvV0D+mEhBNxsyCPi0m\nHze1gM1y5LY+bBVlpt5W4HrllmF8Ue2TGqBVo0BnTHUeyATJd52wgbLegp+68hB7\nZZ9OQ3H2rmNOUcTuaFPvMzcwh1flu4asPjDggud9SzXKQ6jXdq++/SjYM59UCxFT\n2Y8GrqJCvMJOpLP1rFRRHU2X0XLd3Rb0Xvv4JGs2fNPMBcWIOjNKW9nCNj+bJ9yE\ncTVv82EGi+oFh5/1KZO32TRioIqyPXMqp1xKcrMCT+6WsLnUCLcuDQX9U+YB0Pld\nTNKyiMrJ4ywBYoipe8loCj+kg9fIKGGkOohRiJ/YxH/otB8EQlZeyXO0nLgXcHDw\nOlREcGqGPW9NrVSg9/hdT7YhzETxghTapSa5ce5ZrGl8o25+n7NqFSk8h4pzYVcz\n6vKOYHuPuZXms11R/EKzmkLupK92HNbUYCRMpUDeEWqbIhRlxQh2UrDCPvW1Hrbz\nf29tIFC6gWxA7tJGhbNJtsfySyobkGY0S5mYIkQXn9jiAJnetEg+09ZD8nwdnhxn\nzJcFqcK/E26j+z5KnV7ALRYO7147qvDI9XIFQc+pBe8qQCFSmJA=\n=om3y\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIIwDiI5lvG16a97Ovi+BT3G8cruIJ0Bgn6OWO7I5vqNjCP/wEAVjgXmm7HxJ\nU3WKgT65XjEI8QRf6kfc8AhLg1WL3CMpsgCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQO6SAYlQZ8RN6x9ul\nCBwoFgjxBF/qR9zwCOFc65sX1naOAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5j\nYWxlbmRhci5ldGVybml0eXdhbGwuY29t8BCh9v8Xh2h1rKmzeMvG4wjACPEEX+pH\n3fAI14XNI8P+YB8Ag9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5v\ncGVudGltZXN0YW1wcy5vcmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 626f8a343852a7b3c7c98196b56fec0a96611c23\nparent 3abb8b7ba6222b98e3d0132be12714f60b6a46f6\nauthor Jon Atack <jon@atack.com> 1606578619 +0100\ncommitter Jon Atack <jon@atack.com> 1609189339 +0100\n\ntest: add CFeeRate::FromSatB/FromBtcKb unit test coverage\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6db85fbf45040bd74c4f0604ba6f2d798a48890d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/6db85fbf45040bd74c4f0604ba6f2d798a48890d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6db85fbf45040bd74c4f0604ba6f2d798a48890d/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3abb8b7ba6222b98e3d0132be12714f60b6a46f6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3abb8b7ba6222b98e3d0132be12714f60b6a46f6"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 30,
      "deletions": 1
    },
    "files": [
      {
        "sha": "7f51cd68872aff6e9c86ebc83515323e9bc12cb7",
        "filename": "src/test/amount_tests.cpp",
        "status": "modified",
        "additions": 30,
        "deletions": 1,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/6db85fbf45040bd74c4f0604ba6f2d798a48890d/src/test/amount_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/6db85fbf45040bd74c4f0604ba6f2d798a48890d/src/test/amount_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/amount_tests.cpp?ref=6db85fbf45040bd74c4f0604ba6f2d798a48890d",
        "patch": "@@ -67,8 +67,12 @@ BOOST_AUTO_TEST_CASE(GetFeeTest)\n     feeRate = CFeeRate(1000);\n     altFeeRate = CFeeRate(feeRate);\n     BOOST_CHECK_EQUAL(feeRate.GetFee(100), altFeeRate.GetFee(100));\n+}\n \n-    // Check full constructor\n+BOOST_AUTO_TEST_CASE(CFeeRateConstructorTest)\n+{\n+    // Test CFeeRate(CAmount fee_rate, size_t bytes) constructor\n+    // full constructor\n     BOOST_CHECK(CFeeRate(CAmount(-1), 0) == CFeeRate(0));\n     BOOST_CHECK(CFeeRate(CAmount(0), 0) == CFeeRate(0));\n     BOOST_CHECK(CFeeRate(CAmount(1), 0) == CFeeRate(0));\n@@ -86,6 +90,31 @@ BOOST_AUTO_TEST_CASE(GetFeeTest)\n     CFeeRate(MAX_MONEY, std::numeric_limits<size_t>::max() >> 1).GetFeePerK();\n }\n \n+BOOST_AUTO_TEST_CASE(CFeeRateNamedConstructorsTest)\n+{\n+    // Test CFeerate(CAmount fee_rate, FeeEstimatemode mode) constructor\n+    // with BTC/kvB, returns same values as CFeeRate(amount) or CFeeRate(amount, 1000)\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(-1)) == CFeeRate(-1));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(-1)) == CFeeRate(-1, 1000));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(0)) == CFeeRate(0));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(1)) == CFeeRate(1));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(1)) == CFeeRate(1, 1000));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(26)) == CFeeRate(26));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(26)) == CFeeRate(26, 1000));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(123)) == CFeeRate(123));\n+    BOOST_CHECK(CFeeRate::FromBtcKb(CAmount(123)) == CFeeRate(123, 1000));\n+    // with sat/vB, returns values that are 1e5 smaller\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(-100000)) == CFeeRate(-1));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(-99999)) == CFeeRate(0));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(0)) == CFeeRate(0));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(99999)) == CFeeRate(0));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(100000)) == CFeeRate(1));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(100001)) == CFeeRate(1));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(2690000)) == CFeeRate(26));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(123456789)) == CFeeRate(1234));\n+    BOOST_CHECK(CFeeRate::FromSatB(CAmount(123456789)) == CFeeRate(1234, 1000));\n+}\n+\n BOOST_AUTO_TEST_CASE(BinaryOperatorTest)\n {\n     CFeeRate a, b;"
      }
    ]
  },
  {
    "sha": "510cc9c477978d7a692fd01e05b35649c6fb8036",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1MTBjYzljNDc3OTc4ZDdhNjkyZmQwMWUwNWIzNTY0OWM2ZmI4MDM2",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-06T17:35:51Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-12-28T21:03:15Z"
      },
      "message": "refactor: update rpcwallet to CFeeRate named constructors",
      "tree": {
        "sha": "f4ddf25d99969abe9f826dee20ab47e53c26915e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f4ddf25d99969abe9f826dee20ab47e53c26915e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/510cc9c477978d7a692fd01e05b35649c6fb8036",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl/qSBoACgkQT1chs9Dj\nkh1alRAAgZwsksFnLE/XsuPa69H0LPbeVXx/DOB65HFhC78726dNpFXVEST2+NCx\nHr9jw0M3OeA5ffFBQl8yYrt2+EI34lxDy/CGQR4ZreTcM1fb4bIEb4JOQSKXHp8l\n2L+v1Oz2vqUCEtuBwxc6fZINa6oALsa7Br7gVTS6LViFKzzMrnak/Nkv+RCkHRpf\npXGaQsdysg8dFwFn2mpKurb6cL1P7o51gykHiYwS6YjxlPMYumnY6fEuw0xwUxZ3\nW1K2DhQIYOLiDqtu/g2LntVsqCvfq2NMjvjrYHYkN8pOz6bJZHvaLzlJZeAchzkh\nbe71WSyJjzgsQOr1X/4FaEIRb7WmDv9DPkrE4JGHhwgm2HcjtXYnHdhtrsVAB/Mx\n7n0ZThfCdejQgivtdrhhj+AzjQtrdPYb0AvbFXu1H8CPGOC/3YzrwFkYKk7fucsX\n96phSI9w3+f1m7iX8D7qaNtniFg0HQHTfWz91mXD7wwDrQQKcFpCQ/Xj7MhcHgbs\nzy4Lrc912t070EMSE0pbW/UaDXdwvml284yzUoJjKboUG3N/18RtjTl9FVdqg245\n9+wy75KsMv7qQfRN85Yn1w0t0Su7drSUk0ChD788nojMNNhFIowJ2phBqkyfc+xr\nKflURaQIHRxu9PjgskOWIkwarJMMrr1Zgr98DTZrXr3g3ygafdQ=\n=qg82\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIA1SOCrIhR2JaMv3JCqg8iHFYaBILJWKMW7HbxWJRQljCP/wEBa3AVFWoMsJ\nMwAhfZ+C+lgI8QRf6kgb8AgKBwPEDvB7MACD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wED2UZoUkAjZUPuk+W0NAzDAI8QRf6kgb\n8AgNZrRSppw/sQCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRl\ncm5pdHl3YWxsLmNvbfAQP8U8Wdw5SkFPHatcoHUyDAjxBF/qSBzwCEm+VakPlcOp\nAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFt\ncHMub3Jn\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree f4ddf25d99969abe9f826dee20ab47e53c26915e\nparent 6db85fbf45040bd74c4f0604ba6f2d798a48890d\nauthor Jon Atack <jon@atack.com> 1607276151 +0100\ncommitter Jon Atack <jon@atack.com> 1609189395 +0100\n\nrefactor: update rpcwallet to CFeeRate named constructors\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/510cc9c477978d7a692fd01e05b35649c6fb8036",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/510cc9c477978d7a692fd01e05b35649c6fb8036",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/510cc9c477978d7a692fd01e05b35649c6fb8036/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6db85fbf45040bd74c4f0604ba6f2d798a48890d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6db85fbf45040bd74c4f0604ba6f2d798a48890d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6db85fbf45040bd74c4f0604ba6f2d798a48890d"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 4,
      "deletions": 4
    },
    "files": [
      {
        "sha": "50717373af115c7ec3ba5a39be45d56247a7c9a6",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/510cc9c477978d7a692fd01e05b35649c6fb8036/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/510cc9c477978d7a692fd01e05b35649c6fb8036/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=510cc9c477978d7a692fd01e05b35649c6fb8036",
        "patch": "@@ -216,7 +216,7 @@ static void SetFeeEstimateMode(const CWallet& wallet, CCoinControl& cc, const Un\n         if (!estimate_mode.isNull() && estimate_mode.get_str() != \"unset\") {\n             throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot specify both estimate_mode and fee_rate\");\n         }\n-        cc.m_feerate = CFeeRate(AmountFromValue(fee_rate), COIN);\n+        cc.m_feerate = CFeeRate::FromSatB(AmountFromValue(fee_rate));\n         if (override_min_fee) cc.fOverrideFeeRate = true;\n         // Default RBF to true for explicit fee_rate, if unset.\n         if (cc.m_signal_bip125_rbf == nullopt) cc.m_signal_bip125_rbf = true;\n@@ -2331,8 +2331,8 @@ static RPCHelpMan settxfee()\n     LOCK(pwallet->cs_wallet);\n \n     CAmount nAmount = AmountFromValue(request.params[0]);\n-    CFeeRate tx_fee_rate(nAmount, 1000);\n-    CFeeRate max_tx_fee_rate(pwallet->m_default_max_tx_fee, 1000);\n+    CFeeRate tx_fee_rate{CFeeRate::FromBtcKb(nAmount)};\n+    CFeeRate max_tx_fee_rate{CFeeRate::FromBtcKb(pwallet->m_default_max_tx_fee)};\n     if (tx_fee_rate == CFeeRate(0)) {\n         // automatic selection\n     } else if (tx_fee_rate < pwallet->chain().relayMinFee()) {\n@@ -3146,7 +3146,7 @@ void FundTransaction(CWallet* const pwallet, CMutableTransaction& tx, CAmount& f\n             if (options.exists(\"estimate_mode\")) {\n                 throw JSONRPCError(RPC_INVALID_PARAMETER, \"Cannot specify both estimate_mode and feeRate\");\n             }\n-            coinControl.m_feerate = CFeeRate(AmountFromValue(options[\"feeRate\"]));\n+            coinControl.m_feerate = CFeeRate::FromBtcKb(AmountFromValue(options[\"feeRate\"]));\n             coinControl.fOverrideFeeRate = true;\n         }\n "
      }
    ]
  }
]