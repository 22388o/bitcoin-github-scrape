JeremyRubin,2021-10-29 19:12:52,"concept ack; implementation NACK.\n\nIMO the RPC should instead return a JSON format of the fee estimate file which can be paired with a loadfeeestimates rpc on the new node rather than encouraging copying files.",https://github.com/bitcoin/bitcoin/pull/23387#issuecomment-954986194,954986194,
JeremyRubin,2021-10-30 18:02:59,"the json format is required for a return value since it's a JSON RPC, but that could just be e.g. a hex encoded string of the file contents.",https://github.com/bitcoin/bitcoin/pull/23387#issuecomment-955570736,955570736,
DrahtBot,2021-11-01 21:30:01,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#10443](https://github.com/bitcoin/bitcoin/pull/10443) (Add fee_est tool for debugging fee estimation code by ryanofsky)\",https://github.com/bitcoin/bitcoin/pull/23387#issuecomment-956637951,956637951,
greenaddress,2021-10-29 17:38:39,"It looks like ```os.chmod(fee_estimatesdat, S_IREAD|S_IRGRP|S_IROTH)``` is not the ideal way to make core fail to write the file in a way that works across platforms (works locally but doesn't seem to work on the ```32-bit + dash[gui][CentOS8] Cirrus CI``` test\n\nIdeas? Should I make writing the ```fee_estimates.dat``` file similar to ```mempool.dat``` where we write to a new file and then move",https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739422795,739422795,test/functional/feeestimates_persist.py
brunoerg,2021-10-29 17:55:07,"I recommend you to follow the naming guideline, see docs (https://github.com/bitcoin/bitcoin/blob/master/test/functional/README.md). ",https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739432813,739432813,test/functional/test_runner.py
greenaddress,2021-10-29 18:30:59,@brunoerg do you mean fee_estimates_persist.py would be a better name or? I used the same as mempool_persist.py but I agree I should add an underscore between fee and estimates,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739453258,739453258,test/functional/test_runner.py
lsilva01,2021-10-30 03:56:14,nit: The user has no way of knowing where the file will be saved. More information needed.,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739604381,739604381,src/rpc/misc.cpp
luke-jr,2021-10-30 16:33:14,Seems that's an internal implementation detail?,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739673461,739673461,src/rpc/misc.cpp
luke-jr,2021-10-30 16:33:53,IMO better to abstract this to fees.cpp,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739673733,739673733,src/rpc/misc.cpp
luke-jr,2021-10-30 16:34:37,I'm not sure this is a good prefix. Maybe `feature_feeestimates_persist`?,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r739673821,739673821,test/functional/test_runner.py
greenaddress,2021-11-01 20:33:00,"Done, I called the method Write, without parameters - does it make sense to you to overload the method?",https://github.com/bitcoin/bitcoin/pull/23387#discussion_r740510888,740510888,src/rpc/misc.cpp
greenaddress,2021-11-01 20:33:10,"Yep, sounds reasonable, done",https://github.com/bitcoin/bitcoin/pull/23387#discussion_r740510997,740510997,test/functional/test_runner.py
luke-jr,2021-11-03 01:02:03,No opinion on that,https://github.com/bitcoin/bitcoin/pull/23387#discussion_r741558827,741558827,src/rpc/misc.cpp
