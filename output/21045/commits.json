[
  {
    "sha": "9bd3f35003c2e9eff74766d57a71d6b391ab602a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5YmQzZjM1MDAzYzJlOWVmZjc0NzY2ZDU3YTcxZDZiMzkxYWI2MDJh",
    "commit": {
      "author": {
        "name": "Ethan Heilman",
        "email": "ethan.r.heilman@gmail.com",
        "date": "2021-02-01T01:54:02Z"
      },
      "committer": {
        "name": "Ethan Heilman",
        "email": "ethan.r.heilman@gmail.com",
        "date": "2021-02-28T19:49:09Z"
      },
      "message": "build: adds switch for disabling random base addresses in MSVC",
      "tree": {
        "sha": "2ab96cea102f9331894710b6ae83fc5ced0c1bef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2ab96cea102f9331894710b6ae83fc5ced0c1bef"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9bd3f35003c2e9eff74766d57a71d6b391ab602a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9bd3f35003c2e9eff74766d57a71d6b391ab602a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9bd3f35003c2e9eff74766d57a71d6b391ab602a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9bd3f35003c2e9eff74766d57a71d6b391ab602a/comments",
    "author": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "EthanHeilman",
      "id": 274814,
      "node_id": "MDQ6VXNlcjI3NDgxNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/274814?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EthanHeilman",
      "html_url": "https://github.com/EthanHeilman",
      "followers_url": "https://api.github.com/users/EthanHeilman/followers",
      "following_url": "https://api.github.com/users/EthanHeilman/following{/other_user}",
      "gists_url": "https://api.github.com/users/EthanHeilman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EthanHeilman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EthanHeilman/subscriptions",
      "organizations_url": "https://api.github.com/users/EthanHeilman/orgs",
      "repos_url": "https://api.github.com/users/EthanHeilman/repos",
      "events_url": "https://api.github.com/users/EthanHeilman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EthanHeilman/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "4c55f92c7644c267997c7ddab37d195216d6cf39",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4c55f92c7644c267997c7ddab37d195216d6cf39",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/4c55f92c7644c267997c7ddab37d195216d6cf39"
      }
    ],
    "stats": {
      "total": 23,
      "additions": 23,
      "deletions": 0
    },
    "files": [
      {
        "sha": "ab1ceb7c0cd6ea21662cad361574bfdc09e919ac",
        "filename": "build_msvc/README.md",
        "status": "modified",
        "additions": 22,
        "deletions": 0,
        "changes": 22,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9bd3f35003c2e9eff74766d57a71d6b391ab602a/build_msvc/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9bd3f35003c2e9eff74766d57a71d6b391ab602a/build_msvc/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build_msvc/README.md?ref=9bd3f35003c2e9eff74766d57a71d6b391ab602a",
        "patch": "@@ -77,3 +77,25 @@ For safety reasons the Bitcoin Core .appveyor.yml file has the artifact options\n     #- 7z a bitcoin-%APPVEYOR_BUILD_VERSION%.zip %APPVEYOR_BUILD_FOLDER%\\build_msvc\\%platform%\\%configuration%\\*.exe\n     #- path: bitcoin-%APPVEYOR_BUILD_VERSION%.zip\n ```\n+\n+Security\n+---------------------\n+[Base address randomization](https://docs.microsoft.com/en-us/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=msvc-160) is used to make Bitcoin Core more secure. When building Bitcoin using the `build_msvc` process base address randomization can be disabled by editing `common.init.vcproj` to change `RandomizedBaseAddress` from `true` to `false` and then rebuilding the project.\n+\n+To check if `bitcoind` has `RandomizedBaseAddress` enabled or disabled run\n+\n+```\n+.\\dumpbin.exe /headers src/bitcoind.exe\n+```\n+\n+If is it enabled then in the output `Dynamic base` will be listed in the `DLL characteristics` under `OPTIONAL HEADER VALUES` as shown below\n+\n+```\n+            8160 DLL characteristics\n+                   High Entropy Virtual Addresses\n+                   Dynamic base\n+                   NX compatible\n+                   Terminal Server Aware\n+```\n+\n+This may not disable all stack randomization as versions of windows employ additional stack randomization protections. These protections must be turned off in the OS configuration.\n\\ No newline at end of file"
      },
      {
        "sha": "657e67462db5a53fb4884da344ecfa0e7c174178",
        "filename": "build_msvc/common.init.vcxproj",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9bd3f35003c2e9eff74766d57a71d6b391ab602a/build_msvc/common.init.vcxproj",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9bd3f35003c2e9eff74766d57a71d6b391ab602a/build_msvc/common.init.vcxproj",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build_msvc/common.init.vcxproj?ref=9bd3f35003c2e9eff74766d57a71d6b391ab602a",
        "patch": "@@ -105,6 +105,7 @@\n     <Link>\n       <SubSystem>Console</SubSystem>\n       <AdditionalDependencies>Iphlpapi.lib;ws2_32.lib;Shlwapi.lib;kernel32.lib;user32.lib;gdi32.lib;comdlg32.lib;advapi32.lib;shell32.lib;ole32.lib;oleaut32.lib;uuid.lib;odbc32.lib;odbccp32.lib;%(AdditionalDependencies)</AdditionalDependencies>\n+      <RandomizedBaseAddress>true</RandomizedBaseAddress>\n     </Link>\n     <Lib>\n       <AdditionalOptions>/ignore:4221</AdditionalOptions>"
      }
    ]
  }
]