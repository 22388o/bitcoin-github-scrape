[
  {
    "sha": "d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkOWRiNmYyMGE2YjVkODllMjdhOTRkYzhiOGU0YjU1M2FiNTQyM2Fk",
    "commit": {
      "author": {
        "name": "Kashyap Prajapati",
        "email": "kashyap.p@silentinfotech.com",
        "date": "2018-01-11T11:48:57Z"
      },
      "committer": {
        "name": "Kashyap Prajapati",
        "email": "kashyap.p@silentinfotech.com",
        "date": "2018-01-11T11:48:57Z"
      },
      "message": "Unlock Wallet Implemented.",
      "tree": {
        "sha": "8990b5dae8a8d97027aa79daa31750ff34357bcc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8990b5dae8a8d97027aa79daa31750ff34357bcc"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "d889c036cd6f683116e6a27e404be2809d1deb76",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d889c036cd6f683116e6a27e404be2809d1deb76",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d889c036cd6f683116e6a27e404be2809d1deb76"
      }
    ],
    "stats": {
      "total": 35,
      "additions": 34,
      "deletions": 1
    },
    "files": [
      {
        "sha": "3e4bbd317defe1563867ad761d458ec58b4c77c5",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -105,6 +105,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n     encryptWalletAction(0),\n     backupWalletAction(0),\n     changePassphraseAction(0),\n+    unlockWalletAction(0),\n     aboutQtAction(0),\n     openRPCConsoleAction(0),\n     openAction(0),\n@@ -355,6 +356,8 @@ void BitcoinGUI::createActions()\n     backupWalletAction->setStatusTip(tr(\"Backup wallet to another location\"));\n     changePassphraseAction = new QAction(platformStyle->TextColorIcon(\":/icons/key\"), tr(\"&Change Passphrase...\"), this);\n     changePassphraseAction->setStatusTip(tr(\"Change the passphrase used for wallet encryption\"));\n+    unlockWalletAction = new QAction(platformStyle->TextColorIcon(\":/icons/lock_open\"), tr(\"&Unlock Wallet...\"), this);\n+ +  unlockWalletAction->setStatusTip(tr(\"Unlock encrypted wallet for firther transactions.\"));\n     signMessageAction = new QAction(platformStyle->TextColorIcon(\":/icons/edit\"), tr(\"Sign &message...\"), this);\n     signMessageAction->setStatusTip(tr(\"Sign messages with your Bitcoin addresses to prove you own them\"));\n     verifyMessageAction = new QAction(platformStyle->TextColorIcon(\":/icons/verify\"), tr(\"&Verify message...\"), this);\n@@ -393,6 +396,7 @@ void BitcoinGUI::createActions()\n         connect(encryptWalletAction, SIGNAL(triggered(bool)), walletFrame, SLOT(encryptWallet(bool)));\n         connect(backupWalletAction, SIGNAL(triggered()), walletFrame, SLOT(backupWallet()));\n         connect(changePassphraseAction, SIGNAL(triggered()), walletFrame, SLOT(changePassphrase()));\n+        connect(unlockWalletAction, SIGNAL(triggered()), walletFrame, SLOT(unlockWallet()));\n         connect(signMessageAction, SIGNAL(triggered()), this, SLOT(gotoSignMessageTab()));\n         connect(verifyMessageAction, SIGNAL(triggered()), this, SLOT(gotoVerifyMessageTab()));\n         connect(usedSendingAddressesAction, SIGNAL(triggered()), walletFrame, SLOT(usedSendingAddresses()));\n@@ -435,6 +439,7 @@ void BitcoinGUI::createMenuBar()\n     {\n         settings->addAction(encryptWalletAction);\n         settings->addAction(changePassphraseAction);\n+        settings->addAction(unlockWalletAction);\n         settings->addSeparator();\n     }\n     settings->addAction(optionsAction);\n@@ -564,6 +569,7 @@ void BitcoinGUI::setWalletActionsEnabled(bool enabled)\n     encryptWalletAction->setEnabled(enabled);\n     backupWalletAction->setEnabled(enabled);\n     changePassphraseAction->setEnabled(enabled);\n+    unlockWalletAction->setEnabled(enabled);\n     signMessageAction->setEnabled(enabled);\n     verifyMessageAction->setEnabled(enabled);\n     usedSendingAddressesAction->setEnabled(enabled);\n@@ -1058,6 +1064,7 @@ void BitcoinGUI::setEncryptionStatus(int status)\n         labelWalletEncryptionIcon->hide();\n         encryptWalletAction->setChecked(false);\n         changePassphraseAction->setEnabled(false);\n+        unlockWalletAction->setEnabled(false);\n         encryptWalletAction->setEnabled(true);\n         break;\n     case WalletModel::Unlocked:\n@@ -1066,6 +1073,7 @@ void BitcoinGUI::setEncryptionStatus(int status)\n         labelWalletEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>unlocked</b>\"));\n         encryptWalletAction->setChecked(true);\n         changePassphraseAction->setEnabled(true);\n+        unlockWalletAction->setEnabled(false);\n         encryptWalletAction->setEnabled(false); // TODO: decrypt currently not supported\n         break;\n     case WalletModel::Locked:\n@@ -1074,6 +1082,7 @@ void BitcoinGUI::setEncryptionStatus(int status)\n         labelWalletEncryptionIcon->setToolTip(tr(\"Wallet is <b>encrypted</b> and currently <b>locked</b>\"));\n         encryptWalletAction->setChecked(true);\n         changePassphraseAction->setEnabled(true);\n+        unlockWalletAction->setEnabled(true);\n         encryptWalletAction->setEnabled(false); // TODO: decrypt currently not supported\n         break;\n     }"
      },
      {
        "sha": "3024749f36018f1f552b576196586b1c6d504c10",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -107,6 +107,7 @@ class BitcoinGUI : public QMainWindow\n     QAction *encryptWalletAction;\n     QAction *backupWalletAction;\n     QAction *changePassphraseAction;\n+\tQAction *unlockWalletAction;\n     QAction *aboutQtAction;\n     QAction *openRPCConsoleAction;\n     QAction *openAction;"
      },
      {
        "sha": "60aeac1ea6ee99f8ff0aa6a200394175cba0baa9",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 1,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -179,7 +179,13 @@ void WalletFrame::unlockWallet()\n     if (walletView)\n         walletView->unlockWallet();\n }\n-\n+void WalletFrame::unlockWalletAndKeepUnlocked()\n+{\n+    WalletView *walletView = currentWalletView();\n+    if (walletView)\n+        walletView->requestUnlockWallet();\n+}\n+  \n void WalletFrame::usedSendingAddresses()\n {\n     WalletView *walletView = currentWalletView();"
      },
      {
        "sha": "8f4b3272ed99ddd3aa14e3428051e054fd8d787d",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -84,6 +84,8 @@ public Q_SLOTS:\n     void changePassphrase();\n     /** Ask for passphrase to unlock wallet temporarily */\n     void unlockWallet();\n+\t/** Ask for passphrase to unlock wallet till application closes */\n+    void unlockWalletAndKeepUnlocked();\n \n     /** Show used sending addresses */\n     void usedSendingAddresses();"
      },
      {
        "sha": "82caf8d8661a04dc970638b4740012c4f89c938f",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -33,6 +33,7 @@ WalletView::WalletView(const PlatformStyle *_platformStyle, QWidget *parent):\n     QStackedWidget(parent),\n     clientModel(0),\n     walletModel(0),\n+\tunlockContext(0),\n     platformStyle(_platformStyle)\n {\n     // Create tabs\n@@ -82,6 +83,8 @@ WalletView::WalletView(const PlatformStyle *_platformStyle, QWidget *parent):\n \n WalletView::~WalletView()\n {\n+\tif(unlockContext)\n+\t\tdelete (WalletModel::UnlockContext*)(unlockContext);\n }\n \n void WalletView::setBitcoinGUI(BitcoinGUI *gui)\n@@ -281,6 +284,15 @@ void WalletView::unlockWallet()\n     }\n }\n \n+void WalletView::requestUnlockWallet()\n+{\n+    if(walletModel)\n+    {\n+        unlockContext = (void*)(new WalletModel::UnlockContext(walletModel->requestUnlock()));\n+    }\n+    unlockContext = 0;\n+}\n+ \n void WalletView::usedSendingAddresses()\n {\n     if(!walletModel)"
      },
      {
        "sha": "018b76b04e059d1c81680a1f69d58c1de196c4c2",
        "filename": "src/qt/walletview.h",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletview.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad/src/qt/walletview.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.h?ref=d9db6f20a6b5d89e27a94dc8b8e4b553ab5423ad",
        "patch": "@@ -57,6 +57,7 @@ class WalletView : public QStackedWidget\n private:\n     ClientModel *clientModel;\n     WalletModel *walletModel;\n+\tvoid *unlockContext;\n \n     OverviewPage *overviewPage;\n     QWidget *transactionsPage;\n@@ -98,6 +99,8 @@ public Q_SLOTS:\n     void changePassphrase();\n     /** Ask for passphrase to unlock wallet temporarily */\n     void unlockWallet();\n+\t/** Ask for passphrase to unlock wallet and return context*/\n+\tvoid requestUnlockWallet();\n \n     /** Show used sending addresses */\n     void usedSendingAddresses();"
      }
    ]
  }
]