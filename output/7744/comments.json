[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201326706",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#issuecomment-201326706",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7744",
    "id": 201326706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTMyNjcwNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-25T15:12:20Z",
    "updated_at": "2016-03-25T15:12:20Z",
    "author_association": "MEMBER",
    "body": "Not ready to merge yet. I've tested this with a -salvagewallet loop:\n\n```\nUnexpected exception caught during testing: bitcoind exited with status 1 during initialization\n  File \"/data/src/bitcoin/qa/rpc-tests/test_framework/test_framework.py\", line 135, in main\n    self.run_test()\n  File \"./wallet.py\", line 295, in run_test\n    self.nodes = start_nodes(3, self.options.tmpdir, [[m]] * 3)\n  File \"/data/src/bitcoin/qa/rpc-tests/test_framework/util.py\", line 283, in start_nodes\n    return [ start_node(i, dirname, extra_args[i], rpchost, binary=binary[i]) for i in range(num_nodes) ]\n  File \"/data/src/bitcoin/qa/rpc-tests/test_framework/util.py\", line 267, in start_node\n    wait_for_bitcoind_start(bitcoind_processes[i], url, i)\n  File \"/data/src/bitcoin/qa/rpc-tests/test_framework/util.py\", line 144, in wait_for_bitcoind_start\n    raise Exception('bitcoind exited with status %i during initialization' % process.returncode)\nStopping nodes\n```\n\nEven though reporting is better, it still hangs after \"Stopping nodes\", going to investigate why.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201326706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201350446",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#issuecomment-201350446",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7744",
    "id": 201350446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTM1MDQ0Ng==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-25T16:27:11Z",
    "updated_at": "2016-03-25T16:36:42Z",
    "author_association": "MEMBER",
    "body": "Should be fixed now. The problem was that start_nodes can fail with part of the nodes already started.\n`wait_bitcoinds` will subsequently wait forever for them to exit (as it uses a global variable to communicate bitcoind_processes).\nOne-to-last commit makes sure that they're stopped properly in that case.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201350446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201744833",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#issuecomment-201744833",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7744",
    "id": 201744833,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMTc0NDgzMw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-26T09:37:18Z",
    "updated_at": "2016-03-29T15:15:36Z",
    "author_association": "MEMBER",
    "body": "~~This is faster than the current -rpcwait construction, so #7745 triggers more, seems I need to solve that too here.~~\nThanks Marco Falke for fixing this already.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/201744833/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202528568",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#issuecomment-202528568",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7744",
    "id": 202528568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjUyODU2OA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-28T18:56:02Z",
    "updated_at": "2016-03-28T18:56:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Good idea!\nutACK 018b60c5ea703ed12edcde034a185f79e77e5576\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202528568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202938057",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#issuecomment-202938057",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/7744",
    "id": 202938057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIwMjkzODA1Nw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-29T14:55:08Z",
    "updated_at": "2016-03-29T14:55:08Z",
    "author_association": "MEMBER",
    "body": " utACK 018b60c\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/202938057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57584498",
    "pull_request_review_id": null,
    "id": 57584498,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTg0NDk4",
    "diff_hunk": "@@ -267,7 +280,14 @@ def start_nodes(num_nodes, dirname, extra_args=None, rpchost=None, binary=None):\n     \"\"\"\n     if extra_args is None: extra_args = [ None for i in range(num_nodes) ]\n     if binary is None: binary = [ None for i in range(num_nodes) ]\n-    return [ start_node(i, dirname, extra_args[i], rpchost, binary=binary[i]) for i in range(num_nodes) ]\n+    rpcs = []\n+    try:\n+        for i in range(num_nodes):\n+            rpcs.append(start_node(i, dirname, extra_args[i], rpchost, binary=binary[i]))\n+    except: # If one node failed to start, stop the others",
    "path": "qa/rpc-tests/test_framework/util.py",
    "position": 106,
    "original_position": 106,
    "commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "original_commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nice!\n",
    "created_at": "2016-03-28T15:29:46Z",
    "updated_at": "2016-03-28T15:29:46Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r57584498",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57584498"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r57584498"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/57584498/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 287,
    "original_line": 287,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59138613",
    "pull_request_review_id": null,
    "id": 59138613,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MTM4NjEz",
    "diff_hunk": "@@ -130,11 +131,33 @@ def initialize_datadir(dirname, n):\n         f.write(\"listenonion=0\\n\")\n     return datadir\n \n+def rpc_url(i, rpchost=None):\n+    return \"http://rt:rt@%s:%d\" % (rpchost or '127.0.0.1', rpc_port(i))",
    "path": "qa/rpc-tests/test_framework/util.py",
    "position": 13,
    "original_position": 13,
    "commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "original_commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Nit: `rpcbind_test.py` no longer works after this.\n",
    "created_at": "2016-04-10T18:28:58Z",
    "updated_at": "2016-04-10T18:28:58Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r59138613",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59138613"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r59138613"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59138613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 135,
    "original_line": 135,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59875031",
    "pull_request_review_id": null,
    "id": 59875031,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5ODc1MDMx",
    "diff_hunk": "@@ -130,11 +131,33 @@ def initialize_datadir(dirname, n):\n         f.write(\"listenonion=0\\n\")\n     return datadir\n \n+def rpc_url(i, rpchost=None):\n+    return \"http://rt:rt@%s:%d\" % (rpchost or '127.0.0.1', rpc_port(i))",
    "path": "qa/rpc-tests/test_framework/util.py",
    "position": 13,
    "original_position": 13,
    "commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "original_commit_id": "018b60c5ea703ed12edcde034a185f79e77e5576",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "We should probably re-add that test to one of the standard sequence, otherwise it will just bitrot\n",
    "created_at": "2016-04-15T13:40:11Z",
    "updated_at": "2016-04-15T13:40:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r59875031",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59875031"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/7744#discussion_r59875031"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/7744"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/59875031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 135,
    "original_line": 135,
    "side": "RIGHT"
  }
]