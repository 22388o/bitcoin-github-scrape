[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217725758",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217725758",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217725758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzcyNTc1OA==",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T15:08:14Z",
    "updated_at": "2016-05-08T15:08:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "`thread` is the only owner of the `m_data` shared pointer, but `this_thread` is given a raw pointer to the same object. If the `thread` is destroyed while the thread is still running, it will destroy the `thread_data` object the thread's still using via `this_thread`'s pointer.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217725758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217727730",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217727730",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217727730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzcyNzczMA==",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T15:44:39Z",
    "updated_at": "2016-05-08T15:44:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Boost's `thread_group.remove_thread` doesn't destroy the thread object.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217727730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217734412",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217734412",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217734412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzczNDQxMg==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T17:17:52Z",
    "updated_at": "2016-05-08T17:17:52Z",
    "author_association": "MEMBER",
    "body": "@kazcw Thanks for the great review! It's much appreciated. This surely needs lots more tests, and there are still some rough edges.\n\nI'll be away for a few days, if others agree this is a good plan, I'll work on cleanup and test coverage when I get back.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217734412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217738836",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217738836",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217738836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzczODgzNg==",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T18:44:50Z",
    "updated_at": "2016-05-08T18:44:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK on moving away from boost for threading.\n\nSince most threads are in the same `thread_group`, we'd have to switch over almost everything at once, right? Shouldn't be too hard with a drop-in replacement though...\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217738836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217740912",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217740912",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217740912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc0MDkxMg==",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T19:24:55Z",
    "updated_at": "2016-05-08T19:24:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "The relationship between `int_lock` and `thread_data` does seem a bit funky, especially around the `m_wake_mutex` lock. What about switching the ownership: `unique_lock` in `thread_data`, reference to it in the `int_lock`? `int_lock` could become a generic utility class that takes two lock references and dispatch to both of them in tandem. `condition_variable` would need to `set_cond` after taking the double-lock, but I think it's a clearer division of the concerns.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217740912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217744227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217744227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217744227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc0NDIyNw==",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-08T20:28:28Z",
    "updated_at": "2016-05-08T20:28:28Z",
    "author_association": "MEMBER",
    "body": "@kazcw The problem with that is that you still have to access the private condvar pointer after grabbing the double-lock, or use a getter that provides unguarded access, so the lock isn't actually providing any protection other than the understanding that the caller will use it to change the pointer (If I'm understanding you correctly). I tried that approach, and it led to the creation of an RAII wrapper holding a `unique_lock` and `condition_variable_any` which null'd the pointer at destruction. But The concept of grabbing a lock just to pass into another lock to be combined with a 3rd user lock was just too wonky.\n\nBut by all means, I'd be happy to see something more intuitive than what's here now :)\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217744227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217759125",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-217759125",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 217759125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxNzc1OTEyNQ==",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?u=4ae8c609c0f95dec74073fe5f047f8176585a26d&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-09T01:29:00Z",
    "updated_at": "2016-05-09T01:29:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "I see. Yeah, I don't see any way for `thread_data` to expose a data-race-safe API that doesn't require some funky business. The current approach would work fine.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/217759125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218616508",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-218616508",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 218616508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIxODYxNjUwOA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-11T23:08:07Z",
    "updated_at": "2016-05-11T23:08:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I appreciate all the work thats gone into this, and I think it should be merged eventually, but as our agreed-upon timeline has been that only new code should use C++11 features until after 0.13, I have to say NACK.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/218616508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/220616970",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#issuecomment-220616970",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/8023",
    "id": 220616970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDYxNjk3MA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-20T14:13:58Z",
    "updated_at": "2016-05-20T14:13:58Z",
    "author_association": "MEMBER",
    "body": "Re: C++11 changes - changing utility classes to use C++11 is fine as long as the code using it  is not or hardly impacted (e.g. the change to make tinyformat use C++11 variadic templates). But here we have to change all use/call sites as well (unless we do a terrible hack to disguise as boost) so yes, need to postpone this a bit.\n\nBut Concept ACK. Makes sense for 0.14 along with more compatibility changes to get rid of boost. Added the \"future\" milestone.\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/220616970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62434688",
    "pull_request_review_id": null,
    "id": 62434688,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM0Njg4",
    "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+#define BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+\n+#include \"interruptible/lock.h\"\n+#include \"interruptible/this_thread.h\"\n+\n+#include <chrono>\n+#include <condition_variable>\n+#include <mutex>\n+#include <thread>\n+\n+namespace interruptible\n+{\n+class condition_variable\n+{\n+public:\n+    typedef int_lock<std::unique_lock<std::mutex> > lock_type;\n+\n+    condition_variable() = default;\n+    ~condition_variable() = default;\n+\n+    condition_variable(const condition_variable&) = delete;\n+    condition_variable& operator=(const condition_variable&) = delete;\n+\n+    inline void notify_one() noexcept\n+    {\n+        m_condvar.notify_one();\n+    }\n+\n+    inline void notify_all() noexcept\n+    {\n+        m_condvar.notify_all();\n+    }\n+\n+    template <class Lockable>\n+    inline void wait(Lockable& user_lock)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        m_condvar.wait(lock);\n+        this_thread::interruption_point();\n+    }\n+\n+    template <class Lockable, class Predicate>\n+    void wait(Lockable& user_lock, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            m_condvar.wait(lock);\n+            this_thread::interruption_point();\n+        }\n+    }\n+\n+    template <class Lockable, class Clock, class Duration>\n+    std::cv_status wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        std::cv_status ret = m_condvar.wait_until(lock, abs_time);\n+        this_thread::interruption_point();\n+        return ret;\n+    }\n+\n+    template <class Lockable, class Clock, class Duration, class Predicate>\n+    bool wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            bool ret = m_condvar.wait_until(lock, abs_time) == std::cv_status::timeout;\n+            this_thread::interruption_point();\n+            if (!ret)",
    "path": "src/interruptible/condition_variable.h",
    "position": null,
    "original_position": 77,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "33dd6c85b92e1d09048329c31e70141fb0eef42c",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The loop spins after timeout. Should this test be `if (ret)`?\n",
    "created_at": "2016-05-08T16:45:47Z",
    "updated_at": "2016-05-08T17:14:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62434688",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62434688"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62434688"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62434688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62435221",
    "pull_request_review_id": null,
    "id": 62435221,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM1MjIx",
    "diff_hunk": "@@ -0,0 +1,104 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+#define BITCOIN_INTERRUPTIBLE_CONDITION_VARIABLE_H\n+\n+#include \"interruptible/lock.h\"\n+#include \"interruptible/this_thread.h\"\n+\n+#include <chrono>\n+#include <condition_variable>\n+#include <mutex>\n+#include <thread>\n+\n+namespace interruptible\n+{\n+class condition_variable\n+{\n+public:\n+    typedef int_lock<std::unique_lock<std::mutex> > lock_type;\n+\n+    condition_variable() = default;\n+    ~condition_variable() = default;\n+\n+    condition_variable(const condition_variable&) = delete;\n+    condition_variable& operator=(const condition_variable&) = delete;\n+\n+    inline void notify_one() noexcept\n+    {\n+        m_condvar.notify_one();\n+    }\n+\n+    inline void notify_all() noexcept\n+    {\n+        m_condvar.notify_all();\n+    }\n+\n+    template <class Lockable>\n+    inline void wait(Lockable& user_lock)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        m_condvar.wait(lock);\n+        this_thread::interruption_point();\n+    }\n+\n+    template <class Lockable, class Predicate>\n+    void wait(Lockable& user_lock, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            m_condvar.wait(lock);\n+            this_thread::interruption_point();\n+        }\n+    }\n+\n+    template <class Lockable, class Clock, class Duration>\n+    std::cv_status wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        std::cv_status ret = m_condvar.wait_until(lock, abs_time);\n+        this_thread::interruption_point();\n+        return ret;\n+    }\n+\n+    template <class Lockable, class Clock, class Duration, class Predicate>\n+    bool wait_until(Lockable& user_lock, const std::chrono::time_point<Clock, Duration>& abs_time, Predicate pred)\n+    {\n+        lock_type lock(m_condvar, user_lock);\n+        this_thread::interruption_point();\n+        while (!pred()) {\n+            bool ret = m_condvar.wait_until(lock, abs_time) == std::cv_status::timeout;\n+            this_thread::interruption_point();\n+            if (!ret)",
    "path": "src/interruptible/condition_variable.h",
    "position": null,
    "original_position": 77,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "33dd6c85b92e1d09048329c31e70141fb0eef42c",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "yep!\n",
    "created_at": "2016-05-08T17:15:06Z",
    "updated_at": "2016-05-08T17:15:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62435221",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62435221"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62435221"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62435221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 77,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62436328",
    "pull_request_review_id": null,
    "id": 62436328,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM2MzI4",
    "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
    "path": "src/interruptible/thread_data.h",
    "position": 35,
    "original_position": 35,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This needs to be at least `memory_order_acquire` so it happens before the notify. Locking the mutex is only an acquire operation and won't act as a suitable fence.\n",
    "created_at": "2016-05-08T18:33:54Z",
    "updated_at": "2016-05-08T18:33:54Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62436328",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62436328"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62436328"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62436328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62437695",
    "pull_request_review_id": null,
    "id": 62437695,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDM3Njk1",
    "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
    "path": "src/interruptible/thread_data.h",
    "position": 35,
    "original_position": 35,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "user": {
      "login": "theuni",
      "id": 417043,
      "node_id": "MDQ6VXNlcjQxNzA0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theuni",
      "html_url": "https://github.com/theuni",
      "followers_url": "https://api.github.com/users/theuni/followers",
      "following_url": "https://api.github.com/users/theuni/following{/other_user}",
      "gists_url": "https://api.github.com/users/theuni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theuni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
      "organizations_url": "https://api.github.com/users/theuni/orgs",
      "repos_url": "https://api.github.com/users/theuni/repos",
      "events_url": "https://api.github.com/users/theuni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theuni/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep, thanks. This and the load should've both been marked for TODO, as I don't understand their interaction with the notify well enough. The orderings seem like pure voodoo :)\n",
    "created_at": "2016-05-08T20:18:49Z",
    "updated_at": "2016-05-08T20:18:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62437695",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62437695"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62437695"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62437695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62442773",
    "pull_request_review_id": null,
    "id": 62442773,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDQyNzcz",
    "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
    "path": "src/interruptible/thread_data.h",
    "position": 35,
    "original_position": 35,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, it's wild stuff. I don't really understand it either.\n\nThe synchronization effects of `notify` on non-`condition_variable` values aren't specified, so I think we have to be conservative. One approach would be a release fence after the store and an acquire load operation. There may be marginally better-performing options on the store side, but this has the benefit that acquire/release pairs are relatively comprehensible. The load could technically be relaxed and the compiler still \"should\" make sure thread that's doing the loads sees the update \"in a reasonable amount of time\", but the compiler can hoist relaxed loads out of loops if it sees fit and who knows what's a reasonable amount of time to a compiler. Acquire and release are both cheap on x86 and anyway, interrupt points are going to be places that we expect time consuming operations to be happening, not in tight loops.\n",
    "created_at": "2016-05-09T01:21:02Z",
    "updated_at": "2016-05-09T01:21:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62442773",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62442773"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62442773"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62442773/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62938901",
    "pull_request_review_id": null,
    "id": 62938901,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTM4OTAx",
    "diff_hunk": "@@ -0,0 +1,90 @@\n+// Copyright (c) 2015 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#ifndef BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+#define BITCOIN_INTERRUPTIBLE_THREAD_DATA_H\n+\n+#include <atomic>\n+#include <assert.h>\n+#include <mutex>\n+\n+namespace interruptible\n+{\n+namespace detail\n+{\n+class thread_data\n+{\n+public:\n+    thread_data() noexcept = default;\n+    thread_data(thread_data&& t) = default;\n+    thread_data& operator=(thread_data&& t) = default;\n+    ~thread_data() = default;\n+\n+    thread_data(const thread_data&) = delete;\n+    thread_data& operator=(const thread_data&) = delete;\n+\n+    template <typename T, typename... Args>\n+    void start_thread(T&& func, Args&&... args)\n+    {\n+        m_thread = std::thread(std::forward<T>(func), std::forward<Args>(args)...);\n+    }\n+\n+    void set_interrupted()\n+    {\n+        m_interrupted.store(true, std::memory_order_relaxed);",
    "path": "src/interruptible/thread_data.h",
    "position": 35,
    "original_position": 35,
    "commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "original_commit_id": "64133202a7b927839bd706e6a957e8f43797f4b8",
    "user": {
      "login": "kazcw",
      "id": 1047859,
      "node_id": "MDQ6VXNlcjEwNDc4NTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1047859?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kazcw",
      "html_url": "https://github.com/kazcw",
      "followers_url": "https://api.github.com/users/kazcw/followers",
      "following_url": "https://api.github.com/users/kazcw/following{/other_user}",
      "gists_url": "https://api.github.com/users/kazcw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kazcw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kazcw/subscriptions",
      "organizations_url": "https://api.github.com/users/kazcw/orgs",
      "repos_url": "https://api.github.com/users/kazcw/repos",
      "events_url": "https://api.github.com/users/kazcw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kazcw/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I've been thinking about this... I think it was actually fine as is. The store and the notify don't need to be ordered relative to each other because the release of the lock at the exit of the scope is synchronized-with the acquire of the lock that `wait` must perform before returning.\n",
    "created_at": "2016-05-11T22:34:33Z",
    "updated_at": "2016-05-11T22:34:33Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62938901",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62938901"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/8023#discussion_r62938901"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/8023"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/62938901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 35,
    "original_line": 35,
    "side": "RIGHT"
  }
]