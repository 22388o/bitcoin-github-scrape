[
  {
    "sha": "ba0fa0d9bca19c2bab34459249e4a79426683bf0",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiYTBmYTBkOWJjYTE5YzJiYWIzNDQ1OTI0OWU0YTc5NDI2NjgzYmYw",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-27T00:07:49Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-27T00:57:00Z"
      },
      "message": "Initialization: set fallback locale as environment variable\n\nThe scope of `std::locale::global` appears to be smaller than `setenv(\"LC_ALL\", ...)` and insufficient to fix messed up locale settings for the whole application.",
      "tree": {
        "sha": "b721742c7586563d04917e9ae4ed320ec077db62",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/b721742c7586563d04917e9ae4ed320ec077db62"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ba0fa0d9bca19c2bab34459249e4a79426683bf0",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVFKrdAAoJEHZ14xz1cZgytAIP/jaV1Eia3NPZERaHmBxnOJTT\nY1zHbKXGxnmClqKtnyvehENKbJ49E5RNOjZvTeLITxpun2UXqs1SSVGnmGBrZ9Yn\nQ3wjzmsG9nRSY+YTvzUcLlGs8lRpYcL2Cxe7fZ/8MfrJzKoX1NFhCNLRZqq8iswe\n+0Wf6KDENm/v5Y7s0+1QBvK8+dmVe6b3v0AOamG1H81qn4pDpjf5IHnHxpZ5S6fu\nGy/4gKxghZMAG9bjZetOsrgwsfz7E3Z+2VF7BlD+NwBP2ht2AWXqtgkPlG7+qJuU\nRnPQWZRAB9Dr0JbNm7SXujG7BopWiqvB+xOaIl17nCJYzH+QCGjxXYtQujbUopOA\n0xuToBatZM/bS7MAU7CBdPMfDdGvkaxhfk+sxz7wMhWvjL+VscIhf09WeYhDrJ8m\n+QJLOgcH2wf+7gDSahu1nVAoUt7VPM5Kl4Z909K+GRVWT2qeXRqA+KR0pVenJHN3\nk4gMXMRlI4VVFuPfvOe93M595KetmR/c7o4pvzpBRWkC45duMZslP/xsZGhzIihd\niHNoHpUzG/7AV6bHT1qEhBEIPhI7lORtNA4HdryZfBqGrg6bla8oV18FVPNLc+rp\n7dOteTMWQzxkDzshIBm5QSWDPAXy1E/LvR/y0op4UD1aenJtIRh0hV0eOx/JcA8A\nJ3VCzetUZIvk7nFIvgCx\n=nwSW\n-----END PGP SIGNATURE-----",
        "payload": "tree b721742c7586563d04917e9ae4ed320ec077db62\nparent 8e4fd0cc315cad1e2925907ef7c62549a83730a5\nauthor dexX7 <dexx@bitwatch.co> 1427414869 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1427417820 +0100\n\nInitialization: set fallback locale as environment variable\n\nThe scope of `std::locale::global` appears to be smaller than `setenv(\"LC_ALL\", ...)` and insufficient to fix messed up locale settings for the whole application.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba0fa0d9bca19c2bab34459249e4a79426683bf0",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ba0fa0d9bca19c2bab34459249e4a79426683bf0",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba0fa0d9bca19c2bab34459249e4a79426683bf0/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8e4fd0cc315cad1e2925907ef7c62549a83730a5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8e4fd0cc315cad1e2925907ef7c62549a83730a5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8e4fd0cc315cad1e2925907ef7c62549a83730a5"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 4,
      "deletions": 3
    },
    "files": [
      {
        "sha": "5fef3a40ddfeca9570e07e068505c92973da60ba",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ba0fa0d9bca19c2bab34459249e4a79426683bf0/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ba0fa0d9bca19c2bab34459249e4a79426683bf0/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=ba0fa0d9bca19c2bab34459249e4a79426683bf0",
        "patch": "@@ -723,18 +723,19 @@ void RenameThread(const char* name)\n \n void SetupEnvironment()\n {\n+    std::locale loc(\"C\");\n     // On most POSIX systems (e.g. Linux, but not BSD) the environment's locale\n     // may be invalid, in which case the \"C\" locale is used as fallback.\n #if !defined(WIN32) && !defined(MAC_OSX) && !defined(__FreeBSD__) && !defined(__OpenBSD__)\n     try {\n-        std::locale(\"\"); // Raises a runtime error if current locale is invalid\n+        loc = std::locale(\"\"); // Raises a runtime error if current locale is invalid\n     } catch (const std::runtime_error&) {\n-        std::locale::global(std::locale(\"C\"));\n+        setenv(\"LC_ALL\", \"C\", 1);\n     }\n #endif\n     // The path locale is lazy initialized and to avoid deinitialization errors \n     // in multithreading environments, it is set explicitly by the main thread.\n-    boost::filesystem::path::imbue(std::locale());    \n+    boost::filesystem::path::imbue(loc);\n }\n \n void SetThreadPriority(int nPriority)"
      }
    ]
  },
  {
    "sha": "fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYzM5NzlhYzY5NWY3NWY1YTVjZjJjOTczMjJlYWViYjlkZWNkZGY4",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-25T11:09:17Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-29T08:35:25Z"
      },
      "message": "Initialization: setup environment before starting tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings and to prevent deinitialization issues of Boost path, which can result in app crashes.",
      "tree": {
        "sha": "84d15e81b1008db66316b428d1120fe0f36b9e5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/84d15e81b1008db66316b428d1120fe0f36b9e5f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVF7lOAAoJEHZ14xz1cZgyLcMQAILWKnKMKIlwGsNeITZmhANO\nqlt32CzS5532aoJteZl9wUCWynDkllRRGOteSumqs8CxILOfYb5i7FymeP4lcJfV\nXjPQvw5Qgt1vYpd8z1SKljiWgBrlQm3R1dUWtdm/FGmp+Rsa5tjl84KBjm3kjbEe\nVSMxySVP/UWPVrNICxXcdRVW9hAes3NAZE2hJDgZh1JnA54WhCtJoaLaQz1RSjBG\nsmonkRbIwS2/LYe9ccvClINHxTZBEiC1la9T12rKMC8W+ZDTcJWplgweaEXr6+VT\nj2H+P6r0u8mGKg+E7feheSTFaBoe73QEU+fCSqA+4jpEzT/ll1BuLQjeBSoA/oMY\n2eSWU6Q0B/W+Y3ZX6Duhftbjjl1dELvADCD0/1E0EUs8rjMdMn/lANk72+7zoyAz\n/j2Exp7Smtn+9dSFKIzDF5oFOKiWXYCY+ES2eYPL1bCVcrhhG0XjhM9LVJjnKyV0\n+ani1JlvWhRZytxrVZmoJ/m3+HN17c7+KFZC5VQiQFko2XWP9owhTeKMOhsduDgS\n8/eTTKFDsJ0SNalYutF9mtrLNzZF0jTXuqNGtaAl+xbFWCAIXFR5twDmxTncGqxG\n0jw4BrEhkO5Mc5qZ3+o4JVIieRUilV6CqWutoQI4QTFoxk54x8wtX/foSUpnNBRT\nVL4WyjX4qt1hW9UHeRjK\n=TKgs\n-----END PGP SIGNATURE-----",
        "payload": "tree 84d15e81b1008db66316b428d1120fe0f36b9e5f\nparent ba0fa0d9bca19c2bab34459249e4a79426683bf0\nauthor dexX7 <dexx@bitwatch.co> 1427281757 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1427618125 +0200\n\nInitialization: setup environment before starting tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings and to prevent deinitialization issues of Boost path, which can result in app crashes.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc3979ac695f75f5a5cf2c97322eaebb9decddf8/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ba0fa0d9bca19c2bab34459249e4a79426683bf0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ba0fa0d9bca19c2bab34459249e4a79426683bf0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ba0fa0d9bca19c2bab34459249e4a79426683bf0"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "5358e18668078d1cccb64c44b54bc825679fad2f",
        "filename": "src/test/test_bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fc3979ac695f75f5a5cf2c97322eaebb9decddf8/src/test/test_bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fc3979ac695f75f5a5cf2c97322eaebb9decddf8/src/test/test_bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/test_bitcoin.cpp?ref=fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
        "patch": "@@ -28,6 +28,7 @@ extern void noui_connect();\n \n BasicTestingSetup::BasicTestingSetup()\n {\n+        SetupEnvironment();\n         fPrintToDebugLog = false; // don't want to write to debug.log file\n         SelectParams(CBaseChainParams::MAIN);\n }"
      }
    ]
  },
  {
    "sha": "3a3ecc02e55ba955ee535d645412ebb66295939a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYTNlY2MwMmU1NWJhOTU1ZWU1MzVkNjQ1NDEyZWJiNjYyOTU5Mzlh",
    "commit": {
      "author": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-27T00:33:34Z"
      },
      "committer": {
        "name": "dexX7",
        "email": "dexx@bitwatch.co",
        "date": "2015-03-29T08:35:35Z"
      },
      "message": "Initialization: setup environment before starting QT tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings.",
      "tree": {
        "sha": "fe608958334bf9c86708a5b3d266f31e52e09857",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/fe608958334bf9c86708a5b3d266f31e52e09857"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3a3ecc02e55ba955ee535d645412ebb66295939a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJVF7lXAAoJEHZ14xz1cZgyfxMQAIKrrBwzlG0GQRAMG6QPI6OF\nYMqyXtPz1oJwAXWLttLwZJD2UZda6n85bCKvDAhfFlevkeWZJ398A0W1h8hgYP6h\nGzZ72UA3lZn6QbY0YZcDR8nPP6iRp4apP6voTrWRTNZFRetADckw2jdgSTa+721c\nQRNn2yPPE+u8JAhDSEGtplRvcQxFJpPoA/Z4yY/Dvcksb4SvN8TIqSi/5DYsu+xS\njyXDze1ATm92TlFeTdPOaBwbASijM4Yfhl2dz8lAYSmDKVsKtBE35XnVMblQQ/XR\nMtflYjypAGl16tW8EB5U+AGAIeYUy9KWsT0LABE9x2iijsRaZuPguafagJe9UPpb\nf8+mq9UN/so99Bxaqn6WeObKxOoLZWetZSJP4O1ouLo22MiCMehl02gQZOZ2n3pk\nRoXUf1eZsuH6gRCM1zZD6ccxnU2r3/ODYi5lhwK010Uc3GV1b12jOQCLczQ00h6J\nyftp/sUJhsTV0mK3lrGiDirqS5YVYT3b0vZ+0fbLCnQ2ZOZrzrTQZMvcrw8rHvUy\ndSrqIzssNydZJBExitRvh7Qlgk+7vzkyOt8fCCgJC1h9Ol2DGKE7lDPZaMtie5n1\nk6Taz3dxXHDW7/Q8a7Re8kfgIeefv4rtviB6aOhy/QWkmhSk5+vV/VJYYzeKvatZ\nqPZ7zbKixLKszMkahzwi\n=RsA9\n-----END PGP SIGNATURE-----",
        "payload": "tree fe608958334bf9c86708a5b3d266f31e52e09857\nparent fc3979ac695f75f5a5cf2c97322eaebb9decddf8\nauthor dexX7 <dexx@bitwatch.co> 1427416414 +0100\ncommitter dexX7 <dexx@bitwatch.co> 1427618135 +0200\n\nInitialization: setup environment before starting QT tests\n\nThe environment is prepared by the main thread to guard against invalid locale settings.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a3ecc02e55ba955ee535d645412ebb66295939a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3a3ecc02e55ba955ee535d645412ebb66295939a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3a3ecc02e55ba955ee535d645412ebb66295939a/comments",
    "author": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dexX7",
      "id": 5836089,
      "node_id": "MDQ6VXNlcjU4MzYwODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5836089?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dexX7",
      "html_url": "https://github.com/dexX7",
      "followers_url": "https://api.github.com/users/dexX7/followers",
      "following_url": "https://api.github.com/users/dexX7/following{/other_user}",
      "gists_url": "https://api.github.com/users/dexX7/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dexX7/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dexX7/subscriptions",
      "organizations_url": "https://api.github.com/users/dexX7/orgs",
      "repos_url": "https://api.github.com/users/dexX7/repos",
      "events_url": "https://api.github.com/users/dexX7/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dexX7/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fc3979ac695f75f5a5cf2c97322eaebb9decddf8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fc3979ac695f75f5a5cf2c97322eaebb9decddf8"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 2,
      "deletions": 0
    },
    "files": [
      {
        "sha": "bb768f132532007fdfb559100981ec29666bb5e3",
        "filename": "src/qt/test/test_main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3a3ecc02e55ba955ee535d645412ebb66295939a/src/qt/test/test_main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3a3ecc02e55ba955ee535d645412ebb66295939a/src/qt/test/test_main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/test_main.cpp?ref=3a3ecc02e55ba955ee535d645412ebb66295939a",
        "patch": "@@ -6,6 +6,7 @@\n #include \"config/bitcoin-config.h\"\n #endif\n \n+#include \"util.h\"\n #include \"uritests.h\"\n \n #ifdef ENABLE_WALLET\n@@ -27,6 +28,7 @@ Q_IMPORT_PLUGIN(qkrcodecs)\n // This is all you need to run all the tests\n int main(int argc, char *argv[])\n {\n+    SetupEnvironment();\n     bool fInvalid = false;\n \n     // Don't remove this, it's needed to access"
      }
    ]
  }
]