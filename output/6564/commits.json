[
  {
    "sha": "85a4a2e328c20950b6221a97a7b75c482ed96dca",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4NWE0YTJlMzI4YzIwOTUwYjYyMjFhOTdhN2I3NWM0ODJlZDk2ZGNh",
    "commit": {
      "author": {
        "name": "Mark Friedenbach",
        "email": "mark@friedenbach.org",
        "date": "2015-06-02T00:52:34Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:47Z"
      },
      "message": "Add CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG, CTxIn::SEQUENCE_LOCKTIME_SECONDS_FLAG, and CTxIn::SEQUENCE_LOCKTIME_MASK to primitive/transaction.h\n\nWill be needed by CHECKSEQUENCEVERIFY code.",
      "tree": {
        "sha": "91199e909320bf5f0132c363d9242f64c885811d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/91199e909320bf5f0132c363d9242f64c885811d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/85a4a2e328c20950b6221a97a7b75c482ed96dca",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/85a4a2e328c20950b6221a97a7b75c482ed96dca",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/85a4a2e328c20950b6221a97a7b75c482ed96dca",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/85a4a2e328c20950b6221a97a7b75c482ed96dca/comments",
    "author": {
      "login": "maaku",
      "id": 69154,
      "node_id": "MDQ6VXNlcjY5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/69154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maaku",
      "html_url": "https://github.com/maaku",
      "followers_url": "https://api.github.com/users/maaku/followers",
      "following_url": "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url": "https://api.github.com/users/maaku/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maaku/subscriptions",
      "organizations_url": "https://api.github.com/users/maaku/orgs",
      "repos_url": "https://api.github.com/users/maaku/repos",
      "events_url": "https://api.github.com/users/maaku/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maaku/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "616d61b20d56c0645412884df441eba781ec565d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/616d61b20d56c0645412884df441eba781ec565d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/616d61b20d56c0645412884df441eba781ec565d"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 12,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7cbedb9218e9c76c17f31e72517e53aeb1cd0fba",
        "filename": "src/primitives/transaction.h",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/85a4a2e328c20950b6221a97a7b75c482ed96dca/src/primitives/transaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/85a4a2e328c20950b6221a97a7b75c482ed96dca/src/primitives/transaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.h?ref=85a4a2e328c20950b6221a97a7b75c482ed96dca",
        "patch": "@@ -61,6 +61,18 @@ class CTxIn\n     CScript scriptSig;\n     uint32_t nSequence;\n \n+    /* If this flag set, CTxIn::nSequence is NOT interpreted as a\n+     * relative lock-time. Setting the most significant bit of a\n+     * sequence number disabled relative lock-time. */\n+    static const uint32_t SEQUENCE_LOCKTIME_DISABLED_FLAG = (1 << 31);\n+    /* If CTxIn::nSequence encodes a relative lock-time and this flag\n+     * is set, the relative lock-time has units of 512 seconds,\n+     * otherwise it specifies blocks with a granularity of 1. */\n+    static const uint32_t SEQUENCE_LOCKTIME_SECONDS_FLAG = (1 << 22);\n+    /* If CTxIn::nSequence encodes a relative lock-time, this mask is\n+     * applied to extract that lock-time from the sequence field. */\n+    static const uint32_t SEQUENCE_LOCKTIME_MASK = 0x0000ffff;\n+\n     CTxIn()\n     {\n         nSequence = std::numeric_limits<unsigned int>::max();"
      }
    ]
  },
  {
    "sha": "66a7ef3e13a073e5fe41de3fe82973c1e6375922",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2NmE3ZWYzZTEzYTA3M2U1ZmU0MWRlM2ZlODI5NzNjMWU2Mzc1OTIy",
    "commit": {
      "author": {
        "name": "Mark Friedenbach",
        "email": "mark@friedenbach.org",
        "date": "2015-09-25T23:18:51Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:47Z"
      },
      "message": "Pull most of CheckLockTime() out into VerifyLockTime(), a local function that will be reused for CheckSequence()",
      "tree": {
        "sha": "06021f7ee5387dd63463268589b4c11019782911",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/06021f7ee5387dd63463268589b4c11019782911"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/66a7ef3e13a073e5fe41de3fe82973c1e6375922",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66a7ef3e13a073e5fe41de3fe82973c1e6375922",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/66a7ef3e13a073e5fe41de3fe82973c1e6375922",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66a7ef3e13a073e5fe41de3fe82973c1e6375922/comments",
    "author": {
      "login": "maaku",
      "id": 69154,
      "node_id": "MDQ6VXNlcjY5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/69154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maaku",
      "html_url": "https://github.com/maaku",
      "followers_url": "https://api.github.com/users/maaku/followers",
      "following_url": "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url": "https://api.github.com/users/maaku/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maaku/subscriptions",
      "organizations_url": "https://api.github.com/users/maaku/orgs",
      "repos_url": "https://api.github.com/users/maaku/repos",
      "events_url": "https://api.github.com/users/maaku/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maaku/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "85a4a2e328c20950b6221a97a7b75c482ed96dca",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/85a4a2e328c20950b6221a97a7b75c482ed96dca",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/85a4a2e328c20950b6221a97a7b75c482ed96dca"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 13,
      "deletions": 5
    },
    "files": [
      {
        "sha": "7d12b724fb7fbdbeb85e9a2aecc571309ab7501a",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 5,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/66a7ef3e13a073e5fe41de3fe82973c1e6375922/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/66a7ef3e13a073e5fe41de3fe82973c1e6375922/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=66a7ef3e13a073e5fe41de3fe82973c1e6375922",
        "patch": "@@ -1117,7 +1117,7 @@ bool TransactionSignatureChecker::CheckSig(const vector<unsigned char>& vchSigIn\n     return true;\n }\n \n-bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) const\n+static bool VerifyLockTime(int64_t txToLockTime, int64_t nThreshold, const CScriptNum& nLockTime)\n {\n     // There are two kinds of nLockTime: lock-by-blockheight\n     // and lock-by-blocktime, distinguished by whether\n@@ -1127,17 +1127,22 @@ bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) con\n     // unless the type of nLockTime being tested is the same as\n     // the nLockTime in the transaction.\n     if (!(\n-        (txTo->nLockTime <  LOCKTIME_THRESHOLD && nLockTime <  LOCKTIME_THRESHOLD) ||\n-        (txTo->nLockTime >= LOCKTIME_THRESHOLD && nLockTime >= LOCKTIME_THRESHOLD)\n+        (txToLockTime <  nThreshold && nLockTime <  nThreshold) ||\n+        (txToLockTime >= nThreshold && nLockTime >= nThreshold)\n     ))\n         return false;\n \n     // Now that we know we're comparing apples-to-apples, the\n     // comparison is a simple numeric one.\n-    if (nLockTime > (int64_t)txTo->nLockTime)\n+    if (nLockTime > txToLockTime)\n         return false;\n \n-    // Finally the nLockTime feature can be disabled and thus\n+    return true;\n+}\n+\n+bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) const\n+{\n+    // The nLockTime feature can be disabled and thus\n     // CHECKLOCKTIMEVERIFY bypassed if every txin has been\n     // finalized by setting nSequence to maxint. The\n     // transaction would be allowed into the blockchain, making\n@@ -1150,6 +1155,9 @@ bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) con\n     if (txTo->vin[nIn].IsFinal())\n         return false;\n \n+    if (!::VerifyLockTime((int64_t)txTo->nLockTime, LOCKTIME_THRESHOLD, nLockTime))\n+        return false;\n+\n     return true;\n }\n "
      }
    ]
  },
  {
    "sha": "46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NmU4NjM4NjA5YjhlZDcwZjE2ZWMwYzE3OGU3YTY2YzU2MWM1YWQz",
    "commit": {
      "author": {
        "name": "Mark Friedenbach",
        "email": "mark@friedenbach.org",
        "date": "2015-10-20T00:48:13Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:47Z"
      },
      "message": "Add bitwise AND operator to CScriptNum",
      "tree": {
        "sha": "69ad951245d84e4f2b86dd4cf2f0840157429b14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/69ad951245d84e4f2b86dd4cf2f0840157429b14"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46e8638609b8ed70f16ec0c178e7a66c561c5ad3/comments",
    "author": {
      "login": "maaku",
      "id": 69154,
      "node_id": "MDQ6VXNlcjY5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/69154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maaku",
      "html_url": "https://github.com/maaku",
      "followers_url": "https://api.github.com/users/maaku/followers",
      "following_url": "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url": "https://api.github.com/users/maaku/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maaku/subscriptions",
      "organizations_url": "https://api.github.com/users/maaku/orgs",
      "repos_url": "https://api.github.com/users/maaku/repos",
      "events_url": "https://api.github.com/users/maaku/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maaku/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "66a7ef3e13a073e5fe41de3fe82973c1e6375922",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/66a7ef3e13a073e5fe41de3fe82973c1e6375922",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/66a7ef3e13a073e5fe41de3fe82973c1e6375922"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 11,
      "deletions": 0
    },
    "files": [
      {
        "sha": "f182d92855b3232044640992d3037b16544f91cd",
        "filename": "src/script/script.h",
        "status": "modified",
        "additions": 11,
        "deletions": 0,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/46e8638609b8ed70f16ec0c178e7a66c561c5ad3/src/script/script.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/46e8638609b8ed70f16ec0c178e7a66c561c5ad3/src/script/script.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script.h?ref=46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
        "patch": "@@ -258,6 +258,11 @@ class CScriptNum\n     inline CScriptNum& operator+=( const CScriptNum& rhs)       { return operator+=(rhs.m_value);  }\n     inline CScriptNum& operator-=( const CScriptNum& rhs)       { return operator-=(rhs.m_value);  }\n \n+    inline CScriptNum operator&(   const int64_t& rhs)    const { return CScriptNum(m_value & rhs);}\n+    inline CScriptNum operator&(   const CScriptNum& rhs) const { return operator&(rhs.m_value);   }\n+\n+    inline CScriptNum& operator&=( const CScriptNum& rhs)       { return operator&=(rhs.m_value);  }\n+\n     inline CScriptNum operator-()                         const\n     {\n         assert(m_value != std::numeric_limits<int64_t>::min());\n@@ -286,6 +291,12 @@ class CScriptNum\n         return *this;\n     }\n \n+    inline CScriptNum& operator&=( const int64_t& rhs)\n+    {\n+        m_value &= rhs;\n+        return *this;\n+    }\n+\n     int getint() const\n     {\n         if (m_value > std::numeric_limits<int>::max())"
      }
    ]
  },
  {
    "sha": "585ddfe7561e30f2097813c03ea4188c9576e200",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ODVkZGZlNzU2MWUzMGYyMDk3ODEzYzAzZWE0MTg4Yzk1NzZlMjAw",
    "commit": {
      "author": {
        "name": "Mark Friedenbach",
        "email": "mark@friedenbach.org",
        "date": "2015-05-19T00:20:46Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:48Z"
      },
      "message": "Replace NOP3 with CHECKSEQUENCEVERIFY (BIP112)\n\n<nSequence> CHECKSEQUENCEVERIFY -> <nSequence>\n\nFails if txin.nSequence < nSequence, allowing funds of a txout to be locked for a number of blocks or a duration of time after its inclusion in a block.\n\nOnly the logic and unit tests are implemented; this commit does not have changes to policy or consensus behavior.",
      "tree": {
        "sha": "08fccf7e5213320df09c292d5b4adb48ca7a14f8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/08fccf7e5213320df09c292d5b4adb48ca7a14f8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/585ddfe7561e30f2097813c03ea4188c9576e200",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/585ddfe7561e30f2097813c03ea4188c9576e200",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/585ddfe7561e30f2097813c03ea4188c9576e200",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/585ddfe7561e30f2097813c03ea4188c9576e200/comments",
    "author": {
      "login": "maaku",
      "id": 69154,
      "node_id": "MDQ6VXNlcjY5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/69154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maaku",
      "html_url": "https://github.com/maaku",
      "followers_url": "https://api.github.com/users/maaku/followers",
      "following_url": "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url": "https://api.github.com/users/maaku/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maaku/subscriptions",
      "organizations_url": "https://api.github.com/users/maaku/orgs",
      "repos_url": "https://api.github.com/users/maaku/repos",
      "events_url": "https://api.github.com/users/maaku/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maaku/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/46e8638609b8ed70f16ec0c178e7a66c561c5ad3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/46e8638609b8ed70f16ec0c178e7a66c561c5ad3"
      }
    ],
    "stats": {
      "total": 225,
      "additions": 221,
      "deletions": 4
    },
    "files": [
      {
        "sha": "102a3ee66eb7cb59b03cf95eb5675c861f5a11d9",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 70,
        "deletions": 2,
        "changes": 72,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -370,7 +370,45 @@ bool EvalScript(vector<vector<unsigned char> >& stack, const CScript& script, un\n                     break;\n                 }\n \n-                case OP_NOP1: case OP_NOP3: case OP_NOP4: case OP_NOP5:\n+                case OP_CHECKSEQUENCEVERIFY:\n+                {\n+                    if (!(flags & SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)) {\n+                        // not enabled; treat as a NOP3\n+                        if (flags & SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS) {\n+                            return set_error(serror, SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS);\n+                        }\n+                        break;\n+                    }\n+\n+                    if (stack.size() < 1)\n+                        return set_error(serror, SCRIPT_ERR_INVALID_STACK_OPERATION);\n+\n+                    // nSequence, like nLockTime, is a 32-bit unsigned integer\n+                    // field. See the comment in CHECKLOCKTIMEVERIFY regarding\n+                    // 5-byte numeric operands.\n+                    const CScriptNum nSequence(stacktop(-1), fRequireMinimal, 5);\n+\n+                    // In the rare event that the argument may be < 0 due to\n+                    // some arithmetic being done first, you can always use\n+                    // 0 MAX CHECKSEQUENCEVERIFY.\n+                    if (nSequence < 0)\n+                        return set_error(serror, SCRIPT_ERR_NEGATIVE_LOCKTIME);\n+\n+                    // To provide for future soft-fork extensibility, if the\n+                    // operand has the disabled lock-time flag set,\n+                    // CHECKSEQUENCEVERIFY behaves as a NOP.\n+                    if ((nSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG) != 0)\n+                        break;\n+\n+                    // Actually compare the specified inverse sequence number\n+                    // with the input.\n+                    if (!checker.CheckSequence(nSequence))\n+                        return set_error(serror, SCRIPT_ERR_UNSATISFIED_LOCKTIME);\n+\n+                    break;\n+                }\n+\n+                case OP_NOP1: case OP_NOP4: case OP_NOP5:\n                 case OP_NOP6: case OP_NOP7: case OP_NOP8: case OP_NOP9: case OP_NOP10:\n                 {\n                     if (flags & SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)\n@@ -1121,7 +1159,8 @@ static bool VerifyLockTime(int64_t txToLockTime, int64_t nThreshold, const CScri\n {\n     // There are two kinds of nLockTime: lock-by-blockheight\n     // and lock-by-blocktime, distinguished by whether\n-    // nLockTime < LOCKTIME_THRESHOLD.\n+    // nLockTime < nThreshold (either LOCKTIME_THRESHOLD or\n+    // SEQUENCE_UNITS_THRESHOLD).\n     //\n     // We want to compare apples to apples, so fail the script\n     // unless the type of nLockTime being tested is the same as\n@@ -1161,6 +1200,35 @@ bool TransactionSignatureChecker::CheckLockTime(const CScriptNum& nLockTime) con\n     return true;\n }\n \n+bool TransactionSignatureChecker::CheckSequence(const CScriptNum& nSequence) const\n+{\n+    // Relative lock times are supported by comparing the passed\n+    // in operand to the sequence number of the input.\n+    const int64_t txToSequence = (int64_t)txTo->vin[nIn].nSequence;\n+\n+    // Fail if the transaction's version number is not set high\n+    // enough to trigger BIP 68 rules.\n+    if (static_cast<uint32_t>(txTo->nVersion) < 2)\n+        return false;\n+\n+    // Sequence numbers with their most significant bit set are not\n+    // consensus constrained. Testing that the transaction's sequence\n+    // number do not have this bit set prevents using this property\n+    // to get around a CHECKSEQUENCEVERIFY check.\n+    if (txToSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG)\n+        return false;\n+\n+    // Mask off any bits that do not have consensus-enforced meaning\n+    // before doing the integer comparisons of ::VerifyLockTime.\n+    const uint32_t nLockTimeMask = CTxIn::SEQUENCE_LOCKTIME_SECONDS_FLAG\n+                                 | CTxIn::SEQUENCE_LOCKTIME_MASK;\n+\n+    if (!::VerifyLockTime(txToSequence & nLockTimeMask, CTxIn::SEQUENCE_LOCKTIME_SECONDS_FLAG, nSequence & nLockTimeMask))\n+        return false;\n+\n+    return true;\n+}\n+\n \n bool VerifyScript(const CScript& scriptSig, const CScript& scriptPubKey, unsigned int flags, const BaseSignatureChecker& checker, ScriptError* serror)\n {"
      },
      {
        "sha": "be94e2b2a55616dcf2f5d1a5814db9359811aa95",
        "filename": "src/script/interpreter.h",
        "status": "modified",
        "additions": 9,
        "deletions": 0,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/interpreter.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/interpreter.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.h?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -81,6 +81,9 @@ enum\n     //\n     // See BIP65 for details.\n     SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY = (1U << 9),\n+\n+    // support CHECKSEQUENCEVERIFY opcode\n+    SCRIPT_VERIFY_CHECKSEQUENCEVERIFY = (1U << 10),\n };\n \n bool CheckSignatureEncoding(const std::vector<unsigned char> &vchSig, unsigned int flags, ScriptError* serror);\n@@ -100,6 +103,11 @@ class BaseSignatureChecker\n          return false;\n     }\n \n+    virtual bool CheckSequence(const CScriptNum& nSequence) const\n+    {\n+         return false;\n+    }\n+\n     virtual ~BaseSignatureChecker() {}\n };\n \n@@ -116,6 +124,7 @@ class TransactionSignatureChecker : public BaseSignatureChecker\n     TransactionSignatureChecker(const CTransaction* txToIn, unsigned int nInIn) : txTo(txToIn), nIn(nInIn) {}\n     bool CheckSig(const std::vector<unsigned char>& scriptSig, const std::vector<unsigned char>& vchPubKey, const CScript& scriptCode) const;\n     bool CheckLockTime(const CScriptNum& nLockTime) const;\n+    bool CheckSequence(const CScriptNum& nSequence) const;\n };\n \n class MutableTransactionSignatureChecker : public TransactionSignatureChecker"
      },
      {
        "sha": "5123b12707f21c89fde169d0e25efbe09176a208",
        "filename": "src/script/script.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/script.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/script.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script.h?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -164,6 +164,7 @@ enum opcodetype\n     OP_NOP2 = 0xb1,\n     OP_CHECKLOCKTIMEVERIFY = OP_NOP2,\n     OP_NOP3 = 0xb2,\n+    OP_CHECKSEQUENCEVERIFY = OP_NOP3,\n     OP_NOP4 = 0xb3,\n     OP_NOP5 = 0xb4,\n     OP_NOP6 = 0xb5,"
      },
      {
        "sha": "26df33932fdd690db0122d36ca64557acff1d018",
        "filename": "src/script/script_error.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/script_error.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/script/script_error.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/script_error.h?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -35,7 +35,7 @@ typedef enum ScriptError_t\n     SCRIPT_ERR_INVALID_ALTSTACK_OPERATION,\n     SCRIPT_ERR_UNBALANCED_CONDITIONAL,\n \n-    /* OP_CHECKLOCKTIMEVERIFY */\n+    /* CHECKLOCKTIMEVERIFY and CHECKSEQUENCEVERIFY */\n     SCRIPT_ERR_NEGATIVE_LOCKTIME,\n     SCRIPT_ERR_UNSATISFIED_LOCKTIME,\n "
      },
      {
        "sha": "4c473bedcb3ba26eb9a81f93c25fb85070018a46",
        "filename": "src/test/data/tx_invalid.json",
        "status": "modified",
        "additions": 54,
        "deletions": 0,
        "changes": 54,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/data/tx_invalid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/data/tx_invalid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_invalid.json?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -201,5 +201,59 @@\n [[[\"b1dbc81696c8a9c0fccd0693ab66d7c368dbc38c0def4e800685560ddd1b2132\", 0, \"DUP HASH160 0x14 0x4b3bd7eba3bc0284fd3007be7f3be275e94f5826 EQUALVERIFY CHECKSIG\"]],\n \"010000000132211bdd0d568506804eef0d8cc3db68c3d766ab9306cdfcc0a9c89616c8dbb1000000006c493045022100c7bb0faea0522e74ff220c20c022d2cb6033f8d167fb89e75a50e237a35fd6d202203064713491b1f8ad5f79e623d0219ad32510bfaa1009ab30cbee77b59317d6e30001210237af13eb2d84e4545af287b919c2282019c9691cc509e78e196a9d8274ed1be0ffffffff0100000000000000001976a914f1b3ed2eda9a2ebe5a9374f692877cdf87c0f95b88ac00000000\", \"P2SH,DERSIG\"],\n \n+[\"CHECKSEQUENCEVERIFY tests\"],\n+\n+[\"By-height locks, with argument just beyond txin.nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4259839 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000feff40000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"By-time locks, with argument just beyond txin.nSequence (but within numerical boundries)\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194305 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4259839 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000feff40000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument missing\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument negative with by-blockheight txin.nSequence=0\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument negative with by-blocktime txin.nSequence=CTxIn::SEQUENCE_UNITS_THRESHOD\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument/tx height/time mismatch, both versions\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"65535 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4259839 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"6 byte non-minimally-encoded arguments are invalid even if their contents are valid\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x06 0x000000000000 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffff00000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Failure due to failing CHECKSEQUENCEVERIFY in scriptSig\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1\"]],\n+\"02000000010001000000000000000000000000000000000000000000000000000000000000000000000251b2000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Failure due to failing CHECKSEQUENCEVERIFY in redeemScript\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0x7c17aff532f22beb54069942f9bf567a66133eaf EQUAL\"]],\n+\"0200000001000100000000000000000000000000000000000000000000000000000000000000000000030251b2000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Failure due to insufficient tx.nVersion (<2)\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP3 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 NOP3 1\"]],\n+\"010000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n [\"Make diffs cleaner by leaving a comment here without comma at the end\"]\n ]"
      },
      {
        "sha": "dd4343a8f8bd2c1c8510859ba62422df493097a2",
        "filename": "src/test/data/tx_valid.json",
        "status": "modified",
        "additions": 84,
        "deletions": 0,
        "changes": 84,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/data/tx_valid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/data/tx_valid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_valid.json?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -233,5 +233,89 @@\n [[[\"b1dbc81696c8a9c0fccd0693ab66d7c368dbc38c0def4e800685560ddd1b2132\", 0, \"DUP HASH160 0x14 0x4b3bd7eba3bc0284fd3007be7f3be275e94f5826 EQUALVERIFY CHECKSIG\"]],\n \"010000000132211bdd0d568506804eef0d8cc3db68c3d766ab9306cdfcc0a9c89616c8dbb1000000006c493045022100c7bb0faea0522e74ff220c20c022d2cb6033f8d167fb89e75a50e237a35fd6d202203064713491b1f8ad5f79e623d0219ad32510bfaa1009ab30cbee77b59317d6e30001210237af13eb2d84e4545af287b919c2282019c9691cc509e78e196a9d8274ed1be0ffffffff0100000000000000001976a914f1b3ed2eda9a2ebe5a9374f692877cdf87c0f95b88ac00000000\", \"P2SH\"],\n \n+[\"CHECKSEQUENCEVERIFY tests\"],\n+\n+[\"By-height locks, with argument == 0 and == txin.nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"65535 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffff00000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"65535 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"By-time locks, with argument == 0 and == txin.nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4259839 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffff40000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4259839 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Upper sequence with upper sequence is fine\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000800100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000800100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000feffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000feffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument 2^31 with various nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483648 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument 2^32-1 with various nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4294967295 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Argument 3<<31 with various nSequence\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffbf7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffff7f0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"6442450944 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffffffff0100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"5 byte non-minimally-encoded operandss are valid\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"0x05 0x0000000000 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"The argument can be calculated rather than created directly by a PUSHDATA\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194303 1ADD NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 1SUB NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffff00000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"An ADD producing a 5-byte result that sets CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483647 65536 NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483647 4259840 ADD NOP3 1\"]],\n+\"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Valid CHECKSEQUENCEVERIFY in scriptSig\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"1\"]],\n+\"02000000010001000000000000000000000000000000000000000000000000000000000000000000000251b2010000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n+[\"Valid CHECKSEQUENCEVERIFY in redeemScript\"],\n+[[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"HASH160 0x14 0x7c17aff532f22beb54069942f9bf567a66133eaf EQUAL\"]],\n+\"0200000001000100000000000000000000000000000000000000000000000000000000000000000000030251b2010000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n+\n [\"Make diffs cleaner by leaving a comment here without comma at the end\"]\n ]"
      },
      {
        "sha": "7919936e2ee924305dd94c4430f45aaf8ce8f55b",
        "filename": "src/test/transaction_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/transaction_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/585ddfe7561e30f2097813c03ea4188c9576e200/src/test/transaction_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/transaction_tests.cpp?ref=585ddfe7561e30f2097813c03ea4188c9576e200",
        "patch": "@@ -44,7 +44,8 @@ static std::map<string, unsigned int> mapFlagNames = boost::assign::map_list_of\n     (string(\"NULLDUMMY\"), (unsigned int)SCRIPT_VERIFY_NULLDUMMY)\n     (string(\"DISCOURAGE_UPGRADABLE_NOPS\"), (unsigned int)SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)\n     (string(\"CLEANSTACK\"), (unsigned int)SCRIPT_VERIFY_CLEANSTACK)\n-    (string(\"CHECKLOCKTIMEVERIFY\"), (unsigned int)SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY);\n+    (string(\"CHECKLOCKTIMEVERIFY\"), (unsigned int)SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)\n+    (string(\"CHECKSEQUENCEVERIFY\"), (unsigned int)SCRIPT_VERIFY_CHECKSEQUENCEVERIFY);\n \n unsigned int ParseScriptFlags(string strFlags)\n {"
      }
    ]
  },
  {
    "sha": "569737d75f3d4d8933b29193c3ae05e46759c5d5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1Njk3MzdkNzVmM2Q0ZDg5MzNiMjkxOTNjM2FlMDVlNDY3NTljNWQ1",
    "commit": {
      "author": {
        "name": "Mark Friedenbach",
        "email": "mark@friedenbach.org",
        "date": "2015-06-02T21:53:53Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:48Z"
      },
      "message": "Enable CHECKSEQUENCEVERIFY as a standard script verify flag\n\nTransactions that fail CSV verification will be rejected from the mempool, making it easy to test the feature. However blocks containing \"invalid\" CSV-using transactions will still be accepted; this is *not* the soft-fork required to actually enable CSV for production use.",
      "tree": {
        "sha": "87426ec97757a17242dd6e745cae579da1926536",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/87426ec97757a17242dd6e745cae579da1926536"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/569737d75f3d4d8933b29193c3ae05e46759c5d5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/569737d75f3d4d8933b29193c3ae05e46759c5d5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/569737d75f3d4d8933b29193c3ae05e46759c5d5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/569737d75f3d4d8933b29193c3ae05e46759c5d5/comments",
    "author": {
      "login": "maaku",
      "id": 69154,
      "node_id": "MDQ6VXNlcjY5MTU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/69154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maaku",
      "html_url": "https://github.com/maaku",
      "followers_url": "https://api.github.com/users/maaku/followers",
      "following_url": "https://api.github.com/users/maaku/following{/other_user}",
      "gists_url": "https://api.github.com/users/maaku/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maaku/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maaku/subscriptions",
      "organizations_url": "https://api.github.com/users/maaku/orgs",
      "repos_url": "https://api.github.com/users/maaku/repos",
      "events_url": "https://api.github.com/users/maaku/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maaku/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "585ddfe7561e30f2097813c03ea4188c9576e200",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/585ddfe7561e30f2097813c03ea4188c9576e200",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/585ddfe7561e30f2097813c03ea4188c9576e200"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "860cf620ac342628575f7ad441e72f0a5defb747",
        "filename": "src/policy/policy.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/569737d75f3d4d8933b29193c3ae05e46759c5d5/src/policy/policy.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/569737d75f3d4d8933b29193c3ae05e46759c5d5/src/policy/policy.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/policy.h?ref=569737d75f3d4d8933b29193c3ae05e46759c5d5",
        "patch": "@@ -38,6 +38,7 @@ static const unsigned int STANDARD_SCRIPT_VERIFY_FLAGS = MANDATORY_SCRIPT_VERIFY\n                                                          SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS |\n                                                          SCRIPT_VERIFY_CLEANSTACK |\n                                                          SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY |\n+                                                         SCRIPT_VERIFY_CHECKSEQUENCEVERIFY |\n                                                          SCRIPT_VERIFY_LOW_S;\n \n /** For convenience, standard but not mandatory verify flags. */"
      }
    ]
  },
  {
    "sha": "cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYzU4YjcxZjE1MjhjYzVjM2U1MWIwYjUwOTBmMTkwNmI1ODEzZTVj",
    "commit": {
      "author": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-10-23T22:04:27Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T07:35:48Z"
      },
      "message": "Typo fixes and added comments",
      "tree": {
        "sha": "84b74fb2e409b5e3d916f07f2721536d2f090760",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/84b74fb2e409b5e3d916f07f2721536d2f090760"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/comments",
    "author": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "569737d75f3d4d8933b29193c3ae05e46759c5d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/569737d75f3d4d8933b29193c3ae05e46759c5d5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/569737d75f3d4d8933b29193c3ae05e46759c5d5"
      }
    ],
    "stats": {
      "total": 8,
      "additions": 6,
      "deletions": 2
    },
    "files": [
      {
        "sha": "da7cc4d3657d5e4432dc1c263843b371e9b8ebf0",
        "filename": "src/primitives/transaction.h",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/primitives/transaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/primitives/transaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.h?ref=cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
        "patch": "@@ -63,12 +63,14 @@ class CTxIn\n \n     /* If this flag set, CTxIn::nSequence is NOT interpreted as a\n      * relative lock-time. Setting the most significant bit of a\n-     * sequence number disabled relative lock-time. */\n+     * sequence number disables relative lock-time. */\n     static const uint32_t SEQUENCE_LOCKTIME_DISABLED_FLAG = (1 << 31);\n+\n     /* If CTxIn::nSequence encodes a relative lock-time and this flag\n      * is set, the relative lock-time has units of 512 seconds,\n      * otherwise it specifies blocks with a granularity of 1. */\n     static const uint32_t SEQUENCE_LOCKTIME_SECONDS_FLAG = (1 << 22);\n+\n     /* If CTxIn::nSequence encodes a relative lock-time, this mask is\n      * applied to extract that lock-time from the sequence field. */\n     static const uint32_t SEQUENCE_LOCKTIME_MASK = 0x0000ffff;"
      },
      {
        "sha": "a58091229cc7b03ad7f99b7eb750bb74c141b139",
        "filename": "src/script/interpreter.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/script/interpreter.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/script/interpreter.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.h?ref=cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
        "patch": "@@ -83,6 +83,8 @@ enum\n     SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY = (1U << 9),\n \n     // support CHECKSEQUENCEVERIFY opcode\n+    //\n+    // See BIP112 for details\n     SCRIPT_VERIFY_CHECKSEQUENCEVERIFY = (1U << 10),\n };\n "
      },
      {
        "sha": "276e6a862be7af17c439ef0c57eee1331cba3505",
        "filename": "src/test/data/tx_invalid.json",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/test/data/tx_invalid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c/src/test/data/tx_invalid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_invalid.json?ref=cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
        "patch": "@@ -223,7 +223,7 @@\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n \n-[\"Argument negative with by-blocktime txin.nSequence=CTxIn::SEQUENCE_UNITS_THRESHOD\"],\n+[\"Argument negative with by-blocktime txin.nSequence=CTxIn::SEQUENCE_UNITS_THRESHOLD\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n "
      }
    ]
  },
  {
    "sha": "e8ae3ffbd23142c2f684e4e2193232344b103fe5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplOGFlM2ZmYmQyMzE0MmMyZjY4NGU0ZTIxOTMyMzIzNDRiMTAzZmU1",
    "commit": {
      "author": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T08:04:48Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-21T11:05:04Z"
      },
      "message": "Rename flags\n\n_SECONDS_FLAG to _TYPE_FLAG\n_DISABLED_FLAG to _DISABLE_FLAG",
      "tree": {
        "sha": "33d9d7d780094dbdbcd476066dff3d012061de0a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/33d9d7d780094dbdbcd476066dff3d012061de0a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e8ae3ffbd23142c2f684e4e2193232344b103fe5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8ae3ffbd23142c2f684e4e2193232344b103fe5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e8ae3ffbd23142c2f684e4e2193232344b103fe5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8ae3ffbd23142c2f684e4e2193232344b103fe5/comments",
    "author": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/cc58b71f1528cc5c3e51b0b5090f1906b5813e5c"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 8,
      "deletions": 9
    },
    "files": [
      {
        "sha": "6488629b05f9e8b9e3ec338a4df587130ef0aad1",
        "filename": "src/primitives/transaction.h",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/primitives/transaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/primitives/transaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.h?ref=e8ae3ffbd23142c2f684e4e2193232344b103fe5",
        "patch": "@@ -62,14 +62,13 @@ class CTxIn\n     uint32_t nSequence;\n \n     /* If this flag set, CTxIn::nSequence is NOT interpreted as a\n-     * relative lock-time. Setting the most significant bit of a\n-     * sequence number disables relative lock-time. */\n-    static const uint32_t SEQUENCE_LOCKTIME_DISABLED_FLAG = (1 << 31);\n+     * relative lock-time. */\n+    static const uint32_t SEQUENCE_LOCKTIME_DISABLE_FLAG = (1 << 31);\n \n     /* If CTxIn::nSequence encodes a relative lock-time and this flag\n      * is set, the relative lock-time has units of 512 seconds,\n      * otherwise it specifies blocks with a granularity of 1. */\n-    static const uint32_t SEQUENCE_LOCKTIME_SECONDS_FLAG = (1 << 22);\n+    static const uint32_t SEQUENCE_LOCKTIME_TYPE_FLAG = (1 << 22);\n \n     /* If CTxIn::nSequence encodes a relative lock-time, this mask is\n      * applied to extract that lock-time from the sequence field. */"
      },
      {
        "sha": "16c63e11d8ea0bdd762be0c9979b1f808a4a96d8",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=e8ae3ffbd23142c2f684e4e2193232344b103fe5",
        "patch": "@@ -397,7 +397,7 @@ bool EvalScript(vector<vector<unsigned char> >& stack, const CScript& script, un\n                     // To provide for future soft-fork extensibility, if the\n                     // operand has the disabled lock-time flag set,\n                     // CHECKSEQUENCEVERIFY behaves as a NOP.\n-                    if ((nSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG) != 0)\n+                    if ((nSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLE_FLAG) != 0)\n                         break;\n \n                     // Actually compare the specified inverse sequence number\n@@ -1215,15 +1215,15 @@ bool TransactionSignatureChecker::CheckSequence(const CScriptNum& nSequence) con\n     // consensus constrained. Testing that the transaction's sequence\n     // number do not have this bit set prevents using this property\n     // to get around a CHECKSEQUENCEVERIFY check.\n-    if (txToSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG)\n+    if (txToSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLE_FLAG)\n         return false;\n \n     // Mask off any bits that do not have consensus-enforced meaning\n     // before doing the integer comparisons of ::VerifyLockTime.\n-    const uint32_t nLockTimeMask = CTxIn::SEQUENCE_LOCKTIME_SECONDS_FLAG\n+    const uint32_t nLockTimeMask = CTxIn::SEQUENCE_LOCKTIME_TYPE_FLAG\n                                  | CTxIn::SEQUENCE_LOCKTIME_MASK;\n \n-    if (!::VerifyLockTime(txToSequence & nLockTimeMask, CTxIn::SEQUENCE_LOCKTIME_SECONDS_FLAG, nSequence & nLockTimeMask))\n+    if (!::VerifyLockTime(txToSequence & nLockTimeMask, CTxIn::SEQUENCE_LOCKTIME_TYPE_FLAG, nSequence & nLockTimeMask))\n         return false;\n \n     return true;"
      },
      {
        "sha": "f2875b023c12f627807bfaa1e5e042274ef95a40",
        "filename": "src/test/data/tx_valid.json",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/test/data/tx_valid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e8ae3ffbd23142c2f684e4e2193232344b103fe5/src/test/data/tx_valid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_valid.json?ref=e8ae3ffbd23142c2f684e4e2193232344b103fe5",
        "patch": "@@ -303,7 +303,7 @@\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"4194304 1SUB NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000ffff00000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n \n-[\"An ADD producing a 5-byte result that sets CTxIn::SEQUENCE_LOCKTIME_DISABLED_FLAG\"],\n+[\"An ADD producing a 5-byte result that sets CTxIn::SEQUENCE_LOCKTIME_DISABLE_FLAG\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483647 65536 NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"2147483647 4259840 ADD NOP3 1\"]],"
      }
    ]
  },
  {
    "sha": "2ce146b87e8fd22907fd5f2982b7385e81642295",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyY2UxNDZiODdlOGZkMjI5MDdmZDVmMjk4MmI3Mzg1ZTgxNjQyMjk1",
    "commit": {
      "author": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-23T21:07:25Z"
      },
      "committer": {
        "name": "BtcDrak",
        "email": "btcdrak@gmail.com",
        "date": "2015-11-25T11:55:57Z"
      },
      "message": "Fixup comments",
      "tree": {
        "sha": "35544065f3dbb053e89b2480c52d9c70075923fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/35544065f3dbb053e89b2480c52d9c70075923fe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2ce146b87e8fd22907fd5f2982b7385e81642295",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ce146b87e8fd22907fd5f2982b7385e81642295",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2ce146b87e8fd22907fd5f2982b7385e81642295",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ce146b87e8fd22907fd5f2982b7385e81642295/comments",
    "author": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "btcdrak",
      "id": 7275704,
      "node_id": "MDQ6VXNlcjcyNzU3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7275704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/btcdrak",
      "html_url": "https://github.com/btcdrak",
      "followers_url": "https://api.github.com/users/btcdrak/followers",
      "following_url": "https://api.github.com/users/btcdrak/following{/other_user}",
      "gists_url": "https://api.github.com/users/btcdrak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/btcdrak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/btcdrak/subscriptions",
      "organizations_url": "https://api.github.com/users/btcdrak/orgs",
      "repos_url": "https://api.github.com/users/btcdrak/repos",
      "events_url": "https://api.github.com/users/btcdrak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/btcdrak/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e8ae3ffbd23142c2f684e4e2193232344b103fe5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e8ae3ffbd23142c2f684e4e2193232344b103fe5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e8ae3ffbd23142c2f684e4e2193232344b103fe5"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 3,
      "deletions": 4
    },
    "files": [
      {
        "sha": "2a5ed241b43ee2faaebbbb08fbb5449a18838078",
        "filename": "src/script/interpreter.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2ce146b87e8fd22907fd5f2982b7385e81642295/src/script/interpreter.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2ce146b87e8fd22907fd5f2982b7385e81642295/src/script/interpreter.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/script/interpreter.cpp?ref=2ce146b87e8fd22907fd5f2982b7385e81642295",
        "patch": "@@ -400,8 +400,7 @@ bool EvalScript(vector<vector<unsigned char> >& stack, const CScript& script, un\n                     if ((nSequence & CTxIn::SEQUENCE_LOCKTIME_DISABLE_FLAG) != 0)\n                         break;\n \n-                    // Actually compare the specified inverse sequence number\n-                    // with the input.\n+                    // Compare the specified sequence number with the input.\n                     if (!checker.CheckSequence(nSequence))\n                         return set_error(serror, SCRIPT_ERR_UNSATISFIED_LOCKTIME);\n \n@@ -1160,7 +1159,7 @@ static bool VerifyLockTime(int64_t txToLockTime, int64_t nThreshold, const CScri\n     // There are two kinds of nLockTime: lock-by-blockheight\n     // and lock-by-blocktime, distinguished by whether\n     // nLockTime < nThreshold (either LOCKTIME_THRESHOLD or\n-    // SEQUENCE_UNITS_THRESHOLD).\n+    // CTxIn::SEQUENCE_LOCKTIME_TYPE_FLAG).\n     //\n     // We want to compare apples to apples, so fail the script\n     // unless the type of nLockTime being tested is the same as"
      },
      {
        "sha": "92d058d1df26a06362e5099406a3106f81894ba5",
        "filename": "src/test/data/tx_invalid.json",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2ce146b87e8fd22907fd5f2982b7385e81642295/src/test/data/tx_invalid.json",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2ce146b87e8fd22907fd5f2982b7385e81642295/src/test/data/tx_invalid.json",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/data/tx_invalid.json?ref=2ce146b87e8fd22907fd5f2982b7385e81642295",
        "patch": "@@ -223,7 +223,7 @@\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n \n-[\"Argument negative with by-blocktime txin.nSequence=CTxIn::SEQUENCE_UNITS_THRESHOLD\"],\n+[\"Argument negative with by-blocktime txin.nSequence=CTxIn::SEQUENCE_LOCKTIME_TYPE_FLAG\"],\n [[[\"0000000000000000000000000000000000000000000000000000000000000100\", 0, \"-1 NOP3 1\"]],\n \"020000000100010000000000000000000000000000000000000000000000000000000000000000000000000040000100000000000000000000000000\", \"P2SH,CHECKSEQUENCEVERIFY\"],\n "
      }
    ]
  }
]