MarcoFalke,2018-02-20T01:51:43Z,"Tend to NACK. That makes it impossible to test it on regtest, which is\nmeant for testing\n\nOn Feb 19, 2018 20:11, ""kallewoof"" <notifications@github.com> wrote:\n\n> Starting a regtest node and leaving it for a bit would start spamming\n>\n> 2018-02-19 20:05:25 Potential stale tip detected, will try using extra outbound peer (last tip update: 32809 seconds ago)\n>\n> which seems unnecessary. I ch",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-366844964,366844964,
kallewoof,2018-02-20T01:56:51Z,"@MarcoFalke All tests pass, though..\n\nEdit: I see what you're saying. The spam is pretty obnoxious though.\n\nEdit 2: Is this even testable in regtest? It seems kind of tied to a chain with PoW.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-366845663,366845663,
laanwj,2018-02-22T15:01:08Z,"The stale tip check seems based on time, not PoW. So it could be potentially tested using mocktime on regtest.\n\nI don't think log spam while testing is a very urgent issue, but if so, my preferred solution would be to add some kind of congestion control to the message - e.g. have it logged at most once per block, or in a certain time window, instead of disabling the functionality on a per-chai",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-367707793,367707793,
kallewoof,2018-02-23T04:07:12Z,"@laanwj @MarcoFalke I'm tempted to add a flag for whether you should check for stale tips or not, and make it default true for all but regtest. Tests could then explicitly enable it when testing the feature -- which no tests have done so far, mind you.\n\nDownside is yet another flag to the startup options for the node / the .conf file.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-367904099,367904099,
laanwj,2018-02-23T11:07:45Z,"> which no tests have done so far, mind you.\n\nFeel free to add one :) I'd much prefer that to any amount of hacking around this feature.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-367980110,367980110,
kallewoof,2018-02-23T11:58:06Z,"@laanwj That's the thing, though. Maybe I'm lacking in imagination but I can't think of a meaningful test for this. I'll give it some thought though.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-367990501,367990501,
jnewbery,2018-04-03T21:40:24Z,"Like @MarcoFalke , I'm NACKish on just disabling this on regtest, since we want regtest behaviour to be as close to mainnet behaviour as possible. Adding a flag seems reasonable enough, although I'd prefer the defaults to be the same for main/test/regtest.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-378408326,378408326,
MarcoFalke,2018-04-03T21:42:24Z,"Closing for now, until a better solution has been found.",https://github.com/bitcoin/bitcoin/pull/12484#issuecomment-378408809,378408809,
