[
  {
    "sha": "c197798d1b7364e8225beaaa716399441288203e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMTk3Nzk4ZDFiNzM2NGU4MjI1YmVhYWE3MTYzOTk0NDEyODgyMDNl",
    "commit": {
      "author": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-09T10:45:07Z"
      },
      "committer": {
        "name": "Jonas Schnelli",
        "email": "dev@jonasschnelli.ch",
        "date": "2015-11-20T07:40:43Z"
      },
      "message": "[Qt] simple mempool info in debug window",
      "tree": {
        "sha": "56a9c09e5a07ce31295486c7411b56ddcebe4a39",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/56a9c09e5a07ce31295486c7411b56ddcebe4a39"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c197798d1b7364e8225beaaa716399441288203e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "expired_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWTs58AAoJECnUvLZBb1PswqYQAJCt+bFYS8x7EZn/+VQXPa1d\nntpdoJ0KfiFeKJQm2KcRpk1y5a65q2pwow5id+8ws/7HDUP+onjKXIFRPLNt2eiA\nwPOLdZvTKMSqLWyLjn2usc4/KrGfDpFIQ8Qw8hleL3OEIJYzPul7e3FVtsws+tw/\nE4gqtDV/MRc1ZyUlAOH8C2AzkMxirnLoGuU2EsO+NLkE3KDLlkrib4Cw2j3HCWzg\ny3Cmq/m0H0UDfPBs/ZXwk7loyFN2KOfVIe+IDUiM9x9eYxykP6mgH0foYXwowf3+\nxn+YCK+Z6EM14CeodL3Oy/H9NWZ8POW/D/f5VuBE2rXxN1Ikl99GyUQlVuBhWAN4\nwvHD0zuvhVDPf+HnazzR6Ii+cPJtGujcH/tIsfGaiWcuVaUU+2tvqFgeREMWog5f\nM+isOyNCY/cNEfaMtuXCxzx9t5pDfo/ZHWV47qZ7JrDaMbBCEK04RFQiWlxuWSQ3\nYB/lAzi0cU1lBRt3b7qi5xjG+oJTKNPRpbHLq+2IZQIxwc1Gu43YXtrQHBR+NKWE\n/ieXXvChkyNsJnDCbtQ29DZiv0bSdz4IVMLSxOG/4GHqMmzzjQJHbTbHMXZgfvde\niBfMZYK99CUONugvXxllOXLIGUc0f1O0QtOI4e0N20H9XQKflNglr0ylSHzMosNO\nxg1xt3k/G0PBAIN9B8EI\n=s/u3\n-----END PGP SIGNATURE-----",
        "payload": "tree 56a9c09e5a07ce31295486c7411b56ddcebe4a39\nparent 6176e9bf3d553862c67720d218a30553d771aa63\nauthor Jonas Schnelli <dev@jonasschnelli.ch> 1447065907 +0100\ncommitter Jonas Schnelli <dev@jonasschnelli.ch> 1448005243 +0100\n\n[Qt] simple mempool info in debug window\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c197798d1b7364e8225beaaa716399441288203e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c197798d1b7364e8225beaaa716399441288203e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c197798d1b7364e8225beaaa716399441288203e/comments",
    "author": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6176e9bf3d553862c67720d218a30553d771aa63",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6176e9bf3d553862c67720d218a30553d771aa63",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6176e9bf3d553862c67720d218a30553d771aa63"
      }
    ],
    "stats": {
      "total": 180,
      "additions": 136,
      "deletions": 44
    },
    "files": [
      {
        "sha": "566e8fa62d82e7c84a652e21242b2fda9627d4d7",
        "filename": "src/qt/clientmodel.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c197798d1b7364e8225beaaa716399441288203e/src/qt/clientmodel.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c197798d1b7364e8225beaaa716399441288203e/src/qt/clientmodel.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.cpp?ref=c197798d1b7364e8225beaaa716399441288203e",
        "patch": "@@ -13,6 +13,7 @@\n #include \"checkpoints.h\"\n #include \"clientversion.h\"\n #include \"net.h\"\n+#include \"txmempool.h\"\n #include \"ui_interface.h\"\n #include \"util.h\"\n \n@@ -88,6 +89,16 @@ QDateTime ClientModel::getLastBlockDate() const\n     return QDateTime::fromTime_t(Params().GenesisBlock().GetBlockTime()); // Genesis block's time of current network\n }\n \n+long ClientModel::getMempoolSize() const\n+{\n+    return mempool.size();\n+}\n+\n+size_t ClientModel::getMempoolDynamicUsage() const\n+{\n+    return mempool.DynamicMemoryUsage();\n+}\n+\n double ClientModel::getVerificationProgress() const\n {\n     LOCK(cs_main);\n@@ -122,6 +133,7 @@ void ClientModel::updateTimer()\n         Q_EMIT numBlocksChanged(newNumBlocks, newBlockDate);\n     }\n \n+    Q_EMIT mempoolSizeChanged(getMempoolSize(), getMempoolDynamicUsage());\n     Q_EMIT bytesChanged(getTotalBytesRecv(), getTotalBytesSent());\n }\n "
      },
      {
        "sha": "493a75933149d9fc274eb82e0c1c28f6df311d3d",
        "filename": "src/qt/clientmodel.h",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c197798d1b7364e8225beaaa716399441288203e/src/qt/clientmodel.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c197798d1b7364e8225beaaa716399441288203e/src/qt/clientmodel.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/clientmodel.h?ref=c197798d1b7364e8225beaaa716399441288203e",
        "patch": "@@ -51,6 +51,11 @@ class ClientModel : public QObject\n     int getNumConnections(unsigned int flags = CONNECTIONS_ALL) const;\n     int getNumBlocks() const;\n \n+    //! Return number of transactions in the mempool\n+    long getMempoolSize() const;\n+    //! Return the dynamic memory usage of the mempool\n+    size_t getMempoolDynamicUsage() const;\n+    \n     quint64 getTotalBytesRecv() const;\n     quint64 getTotalBytesSent() const;\n \n@@ -89,6 +94,7 @@ class ClientModel : public QObject\n Q_SIGNALS:\n     void numConnectionsChanged(int count);\n     void numBlocksChanged(int count, const QDateTime& blockDate);\n+    void mempoolSizeChanged(long count, size_t mempoolSizeInBytes);\n     void alertsChanged(const QString &warnings);\n     void bytesChanged(quint64 totalBytesIn, quint64 totalBytesOut);\n "
      },
      {
        "sha": "e81a27a8305cf1235088c2527aed4bdfd7457308",
        "filename": "src/qt/forms/debugwindow.ui",
        "status": "modified",
        "additions": 104,
        "deletions": 44,
        "changes": 148,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c197798d1b7364e8225beaaa716399441288203e/src/qt/forms/debugwindow.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c197798d1b7364e8225beaaa716399441288203e/src/qt/forms/debugwindow.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/debugwindow.ui?ref=c197798d1b7364e8225beaaa716399441288203e",
        "patch": "@@ -23,7 +23,7 @@\n       <attribute name=\"title\">\n        <string>&amp;Information</string>\n       </attribute>\n-      <layout class=\"QGridLayout\" name=\"gridLayout\" columnstretch=\"0,1\">\n+      <layout class=\"QGridLayout\" name=\"gridLayout\" columnstretch=\"0,1,0\">\n        <property name=\"horizontalSpacing\">\n         <number>12</number>\n        </property>\n@@ -47,7 +47,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"1\" column=\"1\">\n+       <item row=\"1\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"clientName\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -70,7 +70,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"2\" column=\"1\">\n+       <item row=\"2\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"clientVersion\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -96,7 +96,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"3\" column=\"1\">\n+       <item row=\"3\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"clientUserAgent\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -122,7 +122,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"4\" column=\"1\">\n+       <item row=\"4\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"openSSLVersion\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -148,7 +148,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"5\" column=\"1\">\n+       <item row=\"5\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"berkeleyDBVersion\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -171,7 +171,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"6\" column=\"1\">\n+       <item row=\"6\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"buildDate\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -194,7 +194,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"7\" column=\"1\">\n+       <item row=\"7\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"startupTime\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -210,27 +210,14 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"8\" column=\"0\">\n-        <widget class=\"QLabel\" name=\"label_11\">\n-         <property name=\"font\">\n-          <font>\n-           <weight>75</weight>\n-           <bold>true</bold>\n-          </font>\n-         </property>\n-         <property name=\"text\">\n-          <string>Network</string>\n-         </property>\n-        </widget>\n-       </item>\n        <item row=\"9\" column=\"0\">\n         <widget class=\"QLabel\" name=\"label_8\">\n          <property name=\"text\">\n           <string>Name</string>\n          </property>\n         </widget>\n        </item>\n-       <item row=\"9\" column=\"1\">\n+       <item row=\"9\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"networkName\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -253,7 +240,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"10\" column=\"1\">\n+       <item row=\"10\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"numberOfConnections\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -289,7 +276,7 @@\n          </property>\n         </widget>\n        </item>\n-       <item row=\"12\" column=\"1\">\n+       <item row=\"12\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"numberOfBlocks\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -306,13 +293,13 @@\n         </widget>\n        </item>\n        <item row=\"13\" column=\"0\">\n-        <widget class=\"QLabel\" name=\"label_2\">\n+        <widget class=\"QLabel\" name=\"labelLastBlockTime\">\n          <property name=\"text\">\n           <string>Last block time</string>\n          </property>\n         </widget>\n        </item>\n-       <item row=\"13\" column=\"1\">\n+       <item row=\"13\" column=\"1\" colspan=\"2\">\n         <widget class=\"QLabel\" name=\"lastBlockTime\">\n          <property name=\"cursor\">\n           <cursorShape>IBeamCursor</cursorShape>\n@@ -329,45 +316,118 @@\n         </widget>\n        </item>\n        <item row=\"14\" column=\"0\">\n-        <spacer name=\"verticalSpacer_2\">\n-         <property name=\"orientation\">\n-          <enum>Qt::Vertical</enum>\n+        <widget class=\"QLabel\" name=\"labelMempoolTitle\">\n+         <property name=\"font\">\n+          <font>\n+           <weight>75</weight>\n+           <bold>true</bold>\n+          </font>\n          </property>\n-         <property name=\"sizeHint\" stdset=\"0\">\n-          <size>\n-           <width>20</width>\n-           <height>20</height>\n-          </size>\n+         <property name=\"text\">\n+          <string>Memory Pool</string>\n          </property>\n-        </spacer>\n+        </widget>\n        </item>\n        <item row=\"15\" column=\"0\">\n-        <widget class=\"QLabel\" name=\"labelDebugLogfile\">\n+        <widget class=\"QLabel\" name=\"labelNumberOfTransactions\">\n+         <property name=\"text\">\n+          <string>Current number of transactions</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"15\" column=\"1\">\n+        <widget class=\"QLabel\" name=\"mempoolNumberTxs\">\n+         <property name=\"cursor\">\n+          <cursorShape>IBeamCursor</cursorShape>\n+         </property>\n+         <property name=\"text\">\n+          <string>N/A</string>\n+         </property>\n+         <property name=\"textFormat\">\n+          <enum>Qt::PlainText</enum>\n+         </property>\n+         <property name=\"textInteractionFlags\">\n+          <set>Qt::LinksAccessibleByMouse|Qt::TextSelectableByKeyboard|Qt::TextSelectableByMouse</set>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"8\" column=\"0\">\n+        <widget class=\"QLabel\" name=\"labelNetwork\">\n          <property name=\"font\">\n           <font>\n            <weight>75</weight>\n            <bold>true</bold>\n           </font>\n          </property>\n          <property name=\"text\">\n-          <string>Debug log file</string>\n+          <string>Network</string>\n          </property>\n         </widget>\n        </item>\n        <item row=\"16\" column=\"0\">\n-        <widget class=\"QPushButton\" name=\"openDebugLogfileButton\">\n-         <property name=\"toolTip\">\n-          <string>Open the Bitcoin Core debug log file from the current data directory. This can take a few seconds for large log files.</string>\n+        <widget class=\"QLabel\" name=\"labelMemoryUsage\">\n+         <property name=\"text\">\n+          <string>Memory usage</string>\n+         </property>\n+        </widget>\n+       </item>\n+       <item row=\"16\" column=\"1\">\n+        <widget class=\"QLabel\" name=\"mempoolSize\">\n+         <property name=\"cursor\">\n+          <cursorShape>IBeamCursor</cursorShape>\n          </property>\n          <property name=\"text\">\n-          <string>&amp;Open</string>\n+          <string>N/A</string>\n          </property>\n-         <property name=\"autoDefault\">\n-          <bool>false</bool>\n+         <property name=\"textFormat\">\n+          <enum>Qt::PlainText</enum>\n+         </property>\n+         <property name=\"textInteractionFlags\">\n+          <set>Qt::LinksAccessibleByMouse|Qt::TextSelectableByKeyboard|Qt::TextSelectableByMouse</set>\n          </property>\n         </widget>\n        </item>\n-       <item row=\"17\" column=\"0\">\n+       <item row=\"14\" column=\"2\" rowspan=\"3\">\n+        <layout class=\"QVBoxLayout\" name=\"verticalLayoutDebugButton\">\n+         <property name=\"spacing\">\n+          <number>3</number>\n+         </property>\n+         <item>\n+          <spacer name=\"verticalSpacer_2\">\n+           <property name=\"orientation\">\n+            <enum>Qt::Vertical</enum>\n+           </property>\n+           <property name=\"sizeHint\" stdset=\"0\">\n+            <size>\n+             <width>10</width>\n+             <height>5</height>\n+            </size>\n+           </property>\n+          </spacer>\n+         </item>\n+         <item>\n+          <widget class=\"QLabel\" name=\"labelDebugLogfile\">\n+           <property name=\"text\">\n+            <string>Debug log file</string>\n+           </property>\n+          </widget>\n+         </item>\n+         <item>\n+          <widget class=\"QPushButton\" name=\"openDebugLogfileButton\">\n+           <property name=\"toolTip\">\n+            <string>Open the Bitcoin Core debug log file from the current data directory. This can take a few seconds for large log files.</string>\n+           </property>\n+           <property name=\"text\">\n+            <string>&amp;Open</string>\n+           </property>\n+           <property name=\"autoDefault\">\n+            <bool>false</bool>\n+           </property>\n+          </widget>\n+         </item>\n+        </layout>\n+       </item>\n+       <item row=\"18\" column=\"0\">\n         <spacer name=\"verticalSpacer\">\n          <property name=\"orientation\">\n           <enum>Qt::Vertical</enum>"
      },
      {
        "sha": "07ce0c2845083efa8a905b8451358a8cebfdb48a",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c197798d1b7364e8225beaaa716399441288203e/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c197798d1b7364e8225beaaa716399441288203e/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=c197798d1b7364e8225beaaa716399441288203e",
        "patch": "@@ -343,6 +343,8 @@ void RPCConsole::setClientModel(ClientModel *model)\n         updateTrafficStats(model->getTotalBytesRecv(), model->getTotalBytesSent());\n         connect(model, SIGNAL(bytesChanged(quint64,quint64)), this, SLOT(updateTrafficStats(quint64, quint64)));\n \n+        connect(model, SIGNAL(mempoolSizeChanged(long,size_t)), this, SLOT(setMempoolSize(long,size_t)));\n+\n         // set up peer table\n         ui->peerWidget->setModel(model->getPeerTableModel());\n         ui->peerWidget->verticalHeader()->hide();\n@@ -523,6 +525,16 @@ void RPCConsole::setNumBlocks(int count, const QDateTime& blockDate)\n     ui->lastBlockTime->setText(blockDate.toString());\n }\n \n+void RPCConsole::setMempoolSize(long numberOfTxs, size_t dynUsage)\n+{\n+    ui->mempoolNumberTxs->setText(QString::number(numberOfTxs));\n+\n+    if (dynUsage < 1000000)\n+        ui->mempoolSize->setText(QString::number(dynUsage/1000.0, 'f', 2) + \" KB\");\n+    else\n+        ui->mempoolSize->setText(QString::number(dynUsage/1000000.0, 'f', 2) + \" MB\");\n+}\n+\n void RPCConsole::on_lineEdit_returnPressed()\n {\n     QString cmd = ui->lineEdit->text();"
      },
      {
        "sha": "5e749336cffdd30c267812d3a45c07da542e0c42",
        "filename": "src/qt/rpcconsole.h",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c197798d1b7364e8225beaaa716399441288203e/src/qt/rpcconsole.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c197798d1b7364e8225beaaa716399441288203e/src/qt/rpcconsole.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.h?ref=c197798d1b7364e8225beaaa716399441288203e",
        "patch": "@@ -77,6 +77,8 @@ public Q_SLOTS:\n     void setNumConnections(int count);\n     /** Set number of blocks and last block date shown in the UI */\n     void setNumBlocks(int count, const QDateTime& blockDate);\n+    /** Set size (number of transactions and memory usage) of the mempool in the UI */\n+    void setMempoolSize(long numberOfTxs, size_t dynUsage);\n     /** Go forward or back in history */\n     void browseHistory(int offset);\n     /** Scroll console view to end */"
      }
    ]
  }
]