MarcoFalke,2021-04-03 13:30:45,Introduced in #19806 ,https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812865923,812865923,
jamesob,2021-04-03 13:37:36,Thanks for catching this. Why change behavior not to allow waiting for the headers to load?,https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812866707,812866707,
MarcoFalke,2021-04-03 14:03:17,"I couldn't find a code path that needs this behavior, so it seemed odd to keep the dead code. Note that in your parent PR the RPC does the waiting, so it doesn't have to be done again in validation.\n\nEdit: See `max_secs_to_wait_for_headers` in commit 1cf452104cd1c06ddba4001714f01d0516b864e9",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812869635,812869635,
jamesob,2021-04-03 14:12:25,"> Note that in your parent PR the RPC does the waiting, so it doesn't have to be done again in validation.\n\nOh good point. I guess if we add some flag that allows specifying a snapshot to load (absent RPC) we'll have to add some similar code to init, but we can cross that bridge when we come to it.\n\nIn any case, concept ACK. Will test later today.",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812870760,812870760,
MarcoFalke,2021-04-03 14:25:33,"> we can cross that bridge when we come to it\n\nIndeed, I was never a fan of the ""idle-loop"" inside validation (See https://github.com/bitcoin/bitcoin/pull/19806#discussion_r480281665), so moving it to the caller (if needed at all) seems the way to go.",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812872443,812872443,
MarcoFalke,2021-04-04 05:40:54,"> separate commits\n\nThanks, force pushed so that the Assert is a separate commit, no code changes.",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812977422,812977422,
DrahtBot,2021-04-04 06:47:31,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #21584 (Fix assumeutxo crash due to invalid base_blockhash by MarcoFalke)\n* #19521 (Coinstats Index by fjahr)\n\nIf you c",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-812983934,812983934,
MarcoFalke,2021-04-06 06:13:46,"> was it just discovered reading code?\n\nThis particular one was discovered by a fuzz target, which I wrote after I discovered a crash with code review: #21585",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-813852817,813852817,
practicalswift,2021-04-09 16:05:46,"Post merge cr ACK fa9b74f5ea89624e052934c48391b5076a87ffef\n\n> > was it just discovered reading code?\n> \n> This particular one was discovered by a fuzz target, which I wrote after I discovered a crash with code review: #21585\n\nNice fuzzing find! Fuzzing makes us: harder better faster^Wresilient stronger! ðŸŽ¶ \n\nDon't forget to add your find to the growing list of trophies over at https",https://github.com/bitcoin/bitcoin/pull/21582#issuecomment-816787716,816787716,
