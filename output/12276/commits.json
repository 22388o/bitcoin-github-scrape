[
  {
    "sha": "039425cf4fab56ea0e42564849a15485afa582ae",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMzk0MjVjZjRmYWI1NmVhMGU0MjU2NDg0OWExNTQ4NWFmYTU4MmFl",
    "commit": {
      "author": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-01-26T16:28:31Z"
      },
      "committer": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-01-28T17:25:16Z"
      },
      "message": "[wallet] Remove duplicate mapWallet lookups",
      "tree": {
        "sha": "ba2ffcc0d80c9bae8d2570fa889b4328982bef7f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ba2ffcc0d80c9bae8d2570fa889b4328982bef7f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/039425cf4fab56ea0e42564849a15485afa582ae",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/039425cf4fab56ea0e42564849a15485afa582ae",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/039425cf4fab56ea0e42564849a15485afa582ae",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/039425cf4fab56ea0e42564849a15485afa582ae/comments",
    "author": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "2ae7cf8ef5be67e085abc1b1dc71bc44865a71b3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2ae7cf8ef5be67e085abc1b1dc71bc44865a71b3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/2ae7cf8ef5be67e085abc1b1dc71bc44865a71b3"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 6,
      "deletions": 11
    },
    "files": [
      {
        "sha": "2b8019395c9f3cc877f062986c1aac7a597972a8",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 11,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/039425cf4fab56ea0e42564849a15485afa582ae/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/039425cf4fab56ea0e42564849a15485afa582ae/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=039425cf4fab56ea0e42564849a15485afa582ae",
        "patch": "@@ -531,14 +531,11 @@ void CWallet::SyncMetaData(std::pair<TxSpends::iterator, TxSpends::iterator> ran\n \n     int nMinOrderPos = std::numeric_limits<int>::max();\n     const CWalletTx* copyFrom = nullptr;\n-    for (TxSpends::iterator it = range.first; it != range.second; ++it)\n-    {\n-        const uint256& hash = it->second;\n-        int n = mapWallet[hash].nOrderPos;\n-        if (n < nMinOrderPos)\n-        {\n-            nMinOrderPos = n;\n-            copyFrom = &mapWallet[hash];\n+    for (TxSpends::iterator it = range.first; it != range.second; ++it) {\n+        const CWalletTx* wtx = &mapWallet[it->second];\n+        if (wtx->nOrderPos < nMinOrderPos) {\n+            nMinOrderPos = wtx->nOrderPos;;\n+            copyFrom = wtx;\n         }\n     }\n \n@@ -988,9 +985,7 @@ bool CWallet::AddToWallet(const CWalletTx& wtxIn, bool fFlushOnClose)\n bool CWallet::LoadToWallet(const CWalletTx& wtxIn)\n {\n     uint256 hash = wtxIn.GetHash();\n-\n-    mapWallet[hash] = wtxIn;\n-    CWalletTx& wtx = mapWallet[hash];\n+    CWalletTx& wtx = mapWallet.emplace(hash, wtxIn).first->second;\n     wtx.BindWallet(this);\n     wtxOrdered.insert(std::make_pair(wtx.nOrderPos, TxPair(&wtx, nullptr)));\n     AddToSpends(hash);"
      }
    ]
  }
]