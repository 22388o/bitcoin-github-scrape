laanwj,2014-08-03T14:31:14Z,Good to have tests for bitcoin-tx.\n\nNit: I'd prefer to use Python for the test executor. It allows doing some more advanced checks without getting a very messy shell script when processing JSON and such (the tests in qa/rpc-tests were moved to Python for this reason too).\n,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-50991902,50991902,
jgarzik,2014-08-03T14:38:56Z,"@laanwj Well, two comments on that,\n- The RPC tests appeared to be ultimately driven by shell scripts, which was the genesis of this direction.  I suppose I could add another layer here, but I don't how you could get much more simple than this.\n- For a command line util, a shell script + statically prepared data output for cmp(1) is typically all you need.\n\nThat said, I am OK with adding some ",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-50992104,50992104,
laanwj,2014-08-03T14:54:54Z,"Well for the RPC tests we got all kinds of very subtle edge cases. Making a robust shell script that doesn't shoot you in the foot in unexpected conditions (which can be as mild as spaces in directory names) is harder then it seems. And don't forget the subtle differences between shells on different platforms. That's all a lot easier to get right with Python. Although granted, the case here is eas",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-50992539,50992539,
laanwj,2014-08-04T15:17:15Z,Anyhow - ACK after this passed pulltester\n,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-51073879,51073879,
jgarzik,2014-08-04T15:25:03Z,"@laanwj Yes.  I think ""AM_TESTS_ENVIRONMENT"" is a new feature, and it doesn't exist in our older pulltester/gitian environment.  Gotta spin up a VM and check it out.\n",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-51074876,51074876,
theuni,2014-08-04T19:01:19Z,"@jgarzik If we're relying on new automake behavior, then we need to set the minimum supported version in AM_INIT_AUTOMAKE. A quick google isn't turning up which version introduced it, though...\n",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-51102485,51102485,
jgarzik,2014-08-04T19:24:44Z,@theuni Just need _some_ way to communicate $(top_srcdir) to the test script.  Thus perhaps there is a way to accomplish that without AM_TESTS_ENVIRONMENT.\n,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-51105295,51105295,
theuni,2014-08-04T19:32:59Z,"@jgarzik If it's just this one, you can just move it to bitcoin-tx-test.sh.in and use @top_srcdir@. If there's reason to think we'll need to do it again, we should add some kind of stub test-runner.\n",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-51106263,51106263,
theuni,2014-08-15T17:18:58Z,"After a good bit of research on this one, turns out there's a stupidly easy answer. srcdir is exported already.\n\n```\ndiff --git a/src/test/bitcoin-tx-test.sh b/src/test/bitcoin-tx-test.sh\nindex 5887b1c..b255e7d 100755\n--- a/src/test/bitcoin-tx-test.sh\n+++ b/src/test/bitcoin-tx-test.sh\n@@ -1,7 +1,7 @@\n #!/bin/sh -x\n\n TMP_FN=testcmp.$$\n-BASE_FN=$TOP_SRCDIR/src/test/data/blanktx.hex\n+BASE",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-52333168,52333168,
laanwj,2014-08-18T07:40:18Z,@theuni doesn't seem to work for me; \n\n```\n=============================================\n   Bitcoin Core 0.9.99: src/test-suite.log\n=============================================\n\n# TOTAL: 3\n# PASS:  2\n# SKIP:  0\n# XFAIL: 0\n# FAIL:  1\n# XPASS: 0\n# ERROR: 0\n\n.. contents:: :depth: 2\n\nFAIL: test/bitcoin-tx-test.sh\n=============================\n\n+ TMP_FN=testcmp.27109\n+ BASE_FN=./s,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-52460697,52460697,
jgarzik,2014-08-18T19:50:41Z,"Updated to switch to python framework.\n\n~~NOTE:  ""make check"" works, but ""make distcheck"" does not.  Need to dig into that, perhaps with @theuni help...~~\n",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-52545012,52545012,
BitcoinPullTester,2014-08-19T14:43:24Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/p4624_fb14452c6cadb8d977c405dddb0a94115250d7c4/ for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-te",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-52644368,52644368,
laanwj,2014-08-19T15:07:33Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-52648046,52648046,
rebroad,2014-10-25T06:31:55Z,How do I use this? Currently Travis is complaining about a recent pull request I raised (https://travis-ci.org/bitcoin/bitcoin/jobs/38996464) and it appears to be this where the error is appearing. Is there any documentation on how to debug when it fails?\n,https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-60473460,60473460,
jgarzik,2014-10-25T12:55:14Z,"@rebroad Standard autoconf test suite execution, standard autoconf test documentation.\n\nbitcoin-util-test.py executes tests from test/data/bitcoin-util-test.json.\n\nRun ""make check"" and individual results will be found in *.log and *.trs files.\n",https://github.com/bitcoin/bitcoin/pull/4624#issuecomment-60481896,60481896,
