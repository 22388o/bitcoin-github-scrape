hebasto,2020-08-18 11:42:33,"As https://bugreports.qt.io/browse/QTBUG-66388 seems resolved for Qt 5.12 could this change be skipped, and building PPC64 binaries postponed?",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-675428776,675428776,
luke-jr,2020-08-18 12:44:45,"They've already been postponed an annoyingly long time. Using upstream libpng is better anyway - the one bundled with Qt is at best a slower ""bare minimum"".",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-675455993,675455993,
hebasto,2020-08-18 12:46:08,"> They've already been postponed an annoyingly long time. Using upstream libpng is better anyway - the one bundled with Qt is at best a slower ""bare minimum"".\n\nConcept ACK.",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-675456597,675456597,
luke-jr,2020-08-18 12:50:38,Applied the proposed changes,https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-675458755,675458755,
DrahtBot,2020-08-18 22:42:39,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 1bc8e8eae2dc4b47ef67afc6880ea48b8e84a086<br>(master) | commit 351605f9d595f08d1830c2605fd812767cff9c5d<br>(master and this pull) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`ba41f394f562c9ec...`](https://drahtbot.space/guix/bitcoin/bitcoin/1bc8e8eae2dc4b47ef67afc6880ea48b8e84a086/bitcoin-1bc8e8eae2dc-aarch64-linux,https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-675755421,675755421,
hebasto,2020-08-19 10:20:38,"~Cannot make gitian build for macOS. Sure it is not related to this PR though.~ nm, was pointed at #19240",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-676094616,676094616,
DrahtBot,2020-08-20 20:09:54,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19716 (build: Qt 5.15.x by fanquake)\n* #18077 (net: Add NAT-PMP port forwarding support by hebasto)\n\nIf you consider t",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-677878166,677878166,
DrahtBot,2020-08-21 14:50:13,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit e9b30126545d6ddd8772363e4079d1e4908ad117<br>(master) | commit 8ec6ac313f70defb90307beed4ce57491b6cfc3d<br>(master and this pull) |\n|--|--|--|\n| bitcoin-core-linux-0.21-res.yml | [`cea1ba265603d02f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/e9b30126545d6ddd8772363e4079d1e4908ad117/bitcoin-core-linux-0.21-res.yml,https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-678330921,678330921,
laanwj,2020-08-22 10:09:16,"I slightly prefer using Qt's internal libpng if possible. We don't use libpng directly in any way only through Qt, and having to download and build less dependencies is good. But no strong opinion.",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-678622165,678622165,
theuni,2020-09-04 19:12:34,"Agree with @laanwj generally, no strong preference. The history here is that we've generally only ever self-built libs needed internally by qt if qt is the only user. zlib, for example, is used by a few things, so we built it ourselves rather than using qt's bundled copy.\n\nThat said, if there's good reason for us to build it ourselves, I don't think there's any reason not to. And working aroun",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-687331283,687331283,
fanquake,2020-09-15 14:56:49,"I've posted an alternative to this PR in #19959. I think instead of splitting out libpng, we could just apply the upstream patch.",https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-692771694,692771694,
fanquake,2020-09-22 23:41:17,Closing this now that #19959 has been merged. I assume you'll reopen #14066 now? ,https://github.com/bitcoin/bitcoin/pull/19751#issuecomment-697038446,697038446,
fanquake,2020-08-18 04:23:43,"If we are going to add this to depends, we should at least add the most recent release ([1.6.37](http://www.libpng.org/pub/png/libpng.html)); unless there's some reason not to, in which case, we should document why.",https://github.com/bitcoin/bitcoin/pull/19751#discussion_r471905390,471905390,depends/packages/libpng.mk
fanquake,2020-08-18 04:27:08,"I'd rather use `https://downloads.sourceforge.net/project/libpng/libpng16/1.6.37/libpng-1.6.37.tar.xz` as the URL. Was this was a mirror you were redirected to, or were you trying to avoid SourceForge? I can't see this URL anywhere on http://www.libpng.org/pub/png/libpng.html.",https://github.com/bitcoin/bitcoin/pull/19751#discussion_r471906206,471906206,depends/packages/libpng.mk
fanquake,2020-08-18 04:34:47,Any reason you haven't filled in `Version used` and `CVEs` here? `CVE-2019-7317` applies to libpng prior to 1.6.37.,https://github.com/bitcoin/bitcoin/pull/19751#discussion_r471908090,471908090,doc/dependencies.md
fanquake,2020-08-18 04:39:14,"You can pass `--disable-dependency-tracking` here (as we do to all other packages that support it). Had a quick look at the configure options and it doesn't seem like there's anything obvious we should be disabling, like building documentation.",https://github.com/bitcoin/bitcoin/pull/19751#discussion_r471909152,471909152,depends/packages/libpng.mk
hebasto,2020-08-18 14:45:53,"Switch to LZMA-compressed archive?\n```suggestion\n$(package)_file_name=$(package)-$($(package)_version).tar.xz\n$(package)_sha256_hash=505e70834d35383537b6491e7ae8641f1a4bed1876dbfe361201fc80868d88ca\n```\n\nless by 50% :)",https://github.com/bitcoin/bitcoin/pull/19751#discussion_r472253382,472253382,depends/packages/libpng.mk
