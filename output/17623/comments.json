[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561821364",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-561821364",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 561821364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTgyMTM2NA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-04T20:18:15Z",
    "updated_at": "2019-12-04T20:18:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "As I'm not sure if I should open an issue on that, I'll put my findings about [AbsPathForConfigVal](AbsPathForConfigVal) from util/system.cpp here first.\r\n\r\nMy environment is macOS Catalina. \r\n\r\nWhen I use the flag **-debuglogfile=badfilename`** it creates a debug file of that name, which would lead to problems on Windows, I assume. \r\n\r\nWith **-debuglogfile=\\badfile** it creates a file named **adfile**. Here also, Windows might react differently.  \r\n\r\nWith **-debuglogfile=\\bad\\file** it creates a file named **ad**.\r\n\r\nMaybe I am exaggerating things here, because nobody *would want* to use such contrived names. However, there might be scenarios where someone is deliberately trying to disrupt the application (if possible via logging mechanism).\r\n\r\nOtherwise, we should maybe think about reusing *EnsureFileWritable* here as well.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/561821364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562074101",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-562074101",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 562074101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjA3NDEwMQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-05T10:42:21Z",
    "updated_at": "2019-12-05T10:42:21Z",
    "author_association": "MEMBER",
    "body": "> Otherwise, we should maybe think about reusing EnsureFileWritable here as well.\r\n\r\nCommand line argument handling is a different issue\u2014maybe one of the snazzy future command-line parsing frameworks could handle \"filepath\" arguments in a consistent way.\r\n\r\nBut please keep this PR in scope of the RPC interface.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/562074101/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565627530",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565627530",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565627530,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTYyNzUzMA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T22:11:07Z",
    "updated_at": "2019-12-13T22:11:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think this is a good approach. The EnsureFileWritable function is complex and has lots of holes in it. It isn't checking parent directory permissions properly (considering effective uid and gid and ACLs) so it will return true in some cases when a file isn't writable, and false in some cases when it is, and give a misleading error message. It isn't checking if the filesystem is mounted read only or just full and out of disk space.\r\n\r\nI think a simpler approach that would fix #1712 and provide better feedback to users would be to check when fsbridge::fopen returns null and convert the `GetErrorReason` string into RPC error in that case.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565627530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565652540",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565652540",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565652540,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTY1MjU0MA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T23:49:57Z",
    "updated_at": "2019-12-13T23:49:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I don't think this is a good approach. The EnsureFileWritable function is complex and has lots of holes in it.\r\n\r\nYes, the current code is more complex than the variant I started with. And as filesystems are anything but portable the code could become even more complex if I tried to \"emulate\" heterogenous filesystems' properties (windows ACLs, Linux permissions, readonly mounts etc.).\r\n\r\nIn the end, the important part is to move the file checks **out** of the two call sites, *dumptxoutset* and *dumpwallet*. Maybe the solution could be a combination of your idea plus some additional bits regarding irregular file names,...under the umbrella of *EnsureFileWritable*? \r\n\r\nI could try to find a way to include parent-directory permission-checks and readonly mounts, but I think it's better to work on less complex solutions.\r\n\r\nIf there are more effective, less complex ideas, I'll gladly change the code. Or just close this PR. \r\n\r\nRegards,\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565652540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565658062",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565658062",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565658062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTY1ODA2Mg==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T00:19:16Z",
    "updated_at": "2019-12-14T00:19:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I just don't understand in what ways the current PR is better than a simple one-line fix:\r\n\r\n```c++\r\nif (!file) throw JSONRPCError(RPC_MISC_ERROR, strprintf(\"Cannot create %s (%s)\", path.string(), GetErrorReason()));\r\n```\r\n\r\nThe current PR seems more more complicated, less reliable, and worse for users if it is going generate misleading error messages instead of passing on the actual error from the operating system.\r\n\r\n> In the end, the important part is to move the file checks **out** of the two call sites, _dumptxoutset_ and _dumpwallet_.\r\n\r\nI don't understand why this is important or even a useful thing to do.\r\n\r\n> Maybe the solution could be a combination of your idea plus some additional bits regarding irregular file names\r\n\r\nI'm also unclear what is the use-case for restricting characters in file names instead of just passing the provided path to the operating system.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565658062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565659921",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565659921",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565659921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTY1OTkyMQ==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T00:32:06Z",
    "updated_at": "2019-12-14T00:32:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "I didn't realize GetErrorReason isn't currently implemented on windows:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/5728f88d645c124b980ecb6b6943a94a1ad46612/src/fs.cpp#L27-L29\r\n\r\nSo my suggestion would be more than a one line fix, and would require tweaking fsbridge::fopen to return an error string or code (https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/fopen-wfopen?view=vs-2019).\r\n\r\nStill I think this would be a simpler approach, and that it would be better to return the actual filesystem error to users rather than try to anticipate that an error might happen before it actually does, generate our own errors, and do work the operating system should be doing for us",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565659921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565744841",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565744841",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565744841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTc0NDg0MQ==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-14T19:23:57Z",
    "updated_at": "2019-12-14T19:24:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have expanded the checks for possible errors (readonly-fs, non-existing paths, permission-denied, no-space-left-on-device, and general IO errors).\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565744841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565804054",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-565804054",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 565804054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTgwNDA1NA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-15T12:12:38Z",
    "updated_at": "2019-12-15T12:13:27Z",
    "author_association": "MEMBER",
    "body": "> Still I think this would be a simpler approach, and that it would be better to return the actual filesystem error to users rather than try to anticipate that an error might happen before it actually does, generate our own errors, and do work the operating system should be doing for us\r\n\r\nI agree with this in concept. To be clear, why I went along initially, is that I didn't see EnsureFileWritable as an exhaustive list of things that can go wrong, but just a way to tell the user about (common) problems in a more friendly way.\r\n\r\nIt also rules out overwriting an existing file, which is risky and not covered by any OS checks.\r\n\r\nBut it's growing and growing and it looks like @brakmic is trying to rule out any file-system issue that can potentially happen. It's not possible to second-guess the operating system like that (and if it's possible, it's not maintainable). The only way to be sure, in the end, is to try.\r\n\r\n> I'm also unclear what is the use-case for restricting characters in file names instead of just passing the provided path to the operating system.\r\n\r\nTrue.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/565804054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570091291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#issuecomment-570091291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17623",
    "id": 570091291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MDA5MTI5MQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-01T23:09:11Z",
    "updated_at": "2020-05-01T14:01:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18689 (rpc: allow dumptxoutset to dump human-readable data by pierreN)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/570091291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351726618",
    "pull_request_review_id": 324219852,
    "id": 351726618,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyNjYxOA==",
    "diff_hunk": "@@ -749,3 +750,69 @@ UniValue GetServicesNames(ServiceFlags services)\n \n     return servicesNames;\n }\n+\n+UniValue CanWriteFile(const std::string& filepath)",
    "path": "src/rpc/util.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "maybe rename to `EnsureFileWritable(const std::string& filepath)`, then move the `throw`s inside, returning void. This makes the call sites much cleaner, and there is precedent in other RPC utility functions such as `EnsureMemPool` `EnsureWallet` etc",
    "created_at": "2019-11-28T11:17:50Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351726618",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351726618"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351726618"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351726618/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 754,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728235",
    "pull_request_review_id": 324222004,
    "id": 351728235,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyODIzNQ==",
    "diff_hunk": "@@ -2285,17 +2285,17 @@ UniValue dumptxoutset(const JSONRPCRequest& request)\n     }.Check(request);\n \n     fs::path path = fs::absolute(request.params[0].get_str(), GetDataDir());\n+    UniValue check = CanWriteFile(path.string());\n+    int code = find_value(check, \"code\").get_int();\n+\n+    if (code != 0) {\n+      throw check;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`JSONRPCError` is expected?",
    "created_at": "2019-11-28T11:22:18Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728235",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728235"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728235"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2292,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728405",
    "pull_request_review_id": 324222223,
    "id": 351728405,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyODQwNQ==",
    "diff_hunk": "@@ -756,8 +756,13 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    fs::path filepath = request.params[0].get_str();\n-    filepath = fs::absolute(filepath);\n+    fs::path filepath = fs::absolute(request.params[0].get_str());\n+    UniValue check = CanWriteFile(filepath.string());\n+    int code = find_value(check, \"code\").get_int();\n+\n+    if (code != 0) {\n+      throw check;",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same here: `JSONRPCError` expected?",
    "created_at": "2019-11-28T11:22:45Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728405",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728405"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728405"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 764,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728594",
    "pull_request_review_id": 324222481,
    "id": 351728594,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyODU5NA==",
    "diff_hunk": "@@ -749,3 +750,69 @@ UniValue GetServicesNames(ServiceFlags services)\n \n     return servicesNames;\n }\n+\n+UniValue CanWriteFile(const std::string& filepath)",
    "path": "src/rpc/util.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. Will adapt the code.",
    "created_at": "2019-11-28T11:23:20Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728594",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728594"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728594"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 754,
    "side": "RIGHT",
    "in_reply_to_id": 351726618
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728688",
    "pull_request_review_id": 324222598,
    "id": 351728688,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyODY4OA==",
    "diff_hunk": "@@ -2285,17 +2285,17 @@ UniValue dumptxoutset(const JSONRPCRequest& request)\n     }.Check(request);\n \n     fs::path path = fs::absolute(request.params[0].get_str(), GetDataDir());\n+    UniValue check = CanWriteFile(path.string());\n+    int code = find_value(check, \"code\").get_int();\n+\n+    if (code != 0) {\n+      throw check;",
    "path": "src/rpc/blockchain.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, when nonzero.",
    "created_at": "2019-11-28T11:23:36Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728688",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728688"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728688"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2292,
    "side": "RIGHT",
    "in_reply_to_id": 351728235
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728745",
    "pull_request_review_id": 324222670,
    "id": 351728745,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyODc0NQ==",
    "diff_hunk": "@@ -756,8 +756,13 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    fs::path filepath = request.params[0].get_str();\n-    filepath = fs::absolute(filepath);\n+    fs::path filepath = fs::absolute(request.params[0].get_str());\n+    UniValue check = CanWriteFile(filepath.string());\n+    int code = find_value(check, \"code\").get_int();\n+\n+    if (code != 0) {\n+      throw check;",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Same",
    "created_at": "2019-11-28T11:23:44Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728745",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728745"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351728745"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351728745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 764,
    "side": "RIGHT",
    "in_reply_to_id": 351728405
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351729649",
    "pull_request_review_id": 324223809,
    "id": 351729649,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1MTcyOTY0OQ==",
    "diff_hunk": "@@ -756,8 +756,13 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    fs::path filepath = request.params[0].get_str();\n-    filepath = fs::absolute(filepath);\n+    fs::path filepath = fs::absolute(request.params[0].get_str());\n+    UniValue check = CanWriteFile(filepath.string());\n+    int code = find_value(check, \"code\").get_int();\n+\n+    if (code != 0) {\n+      throw check;",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 11,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "0c61f62b1bca00d931dca68329c4c3dc10cfcd0d",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "But will now convert the function to return void and only throw, when irregular things happen (filename irregular, readonly mount etc.)",
    "created_at": "2019-11-28T11:25:54Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351729649",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351729649"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r351729649"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/351729649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 764,
    "side": "RIGHT",
    "in_reply_to_id": 351728405
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354230510",
    "pull_request_review_id": 327453811,
    "id": 354230510,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDIzMDUxMA==",
    "diff_hunk": "@@ -749,3 +750,64 @@ UniValue GetServicesNames(ServiceFlags services)\n \n     return servicesNames;\n }\n+\n+void EnsureFileWritable(const std::string& filepath)",
    "path": "src/rpc/util.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "f6cfba6241833595fa16b57e510b897b868c554d",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think the code could be simplified by passing in a `const fs::path&` here directly, because all call-sites start from that and use `.string()`.",
    "created_at": "2019-12-05T10:40:03Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354230510",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354230510"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354230510"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354230510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 754,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354232004",
    "pull_request_review_id": 327455689,
    "id": 354232004,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDIzMjAwNA==",
    "diff_hunk": "@@ -749,3 +750,64 @@ UniValue GetServicesNames(ServiceFlags services)\n \n     return servicesNames;\n }\n+\n+void EnsureFileWritable(const std::string& filepath)",
    "path": "src/rpc/util.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "f6cfba6241833595fa16b57e510b897b868c554d",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, will adapt it.",
    "created_at": "2019-12-05T10:42:59Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354232004",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354232004"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354232004"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354232004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 754,
    "side": "RIGHT",
    "in_reply_to_id": 354230510
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354256239",
    "pull_request_review_id": 327482837,
    "id": 354256239,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI1NjIzOQ==",
    "diff_hunk": "@@ -756,8 +756,8 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    fs::path filepath = request.params[0].get_str();\n-    filepath = fs::absolute(filepath);\n+    fs::path filepath = fs::absolute(request.params[0].get_str());\n+    EnsureFileWritable(filepath.string());",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "can remove the `.string()` here now",
    "created_at": "2019-12-05T11:31:22Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354256239",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354256239"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354256239"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354256239/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 760,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257313",
    "pull_request_review_id": 327484238,
    "id": 354257313,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI1NzMxMw==",
    "diff_hunk": "@@ -756,8 +756,8 @@ UniValue dumpwallet(const JSONRPCRequest& request)\n \n     EnsureWalletIsUnlocked(pwallet);\n \n-    fs::path filepath = request.params[0].get_str();\n-    filepath = fs::absolute(filepath);\n+    fs::path filepath = fs::absolute(request.params[0].get_str());\n+    EnsureFileWritable(filepath.string());",
    "path": "src/wallet/rpcdump.cpp",
    "position": null,
    "original_position": 7,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oops, I just removed a similar one from blockchain.cpp. Sorry. Will force push again. Thanks!",
    "created_at": "2019-12-05T11:33:48Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354257313",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257313"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354257313"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 760,
    "side": "RIGHT",
    "in_reply_to_id": 354256239
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257914",
    "pull_request_review_id": 327485018,
    "id": 354257914,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI1NzkxNA==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why does this generate a runtime error?\r\nI might be wrong but I think this test is for utility (no side-effects) RPCs only; no utxo set has been set up here, so I think this is unsafe",
    "created_at": "2019-12-05T11:35:04Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354257914",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257914"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354257914"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354257914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354258843",
    "pull_request_review_id": 327486257,
    "id": 354258843,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI1ODg0Mw==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Well, I am unsure *why* it generates a runtime error, but I actually expected it to be generated because the file name is wrong. However, if a runtime error should not happen here, maybe I should look into it. ",
    "created_at": "2019-12-05T11:37:09Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354258843",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354258843"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354258843"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354258843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354260007",
    "pull_request_review_id": 327487785,
    "id": 354260007,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI2MDAwNw==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Isn't ` a valid filename character on pretty much all OSes?\r\n\r\nThat was not really my point though; I don't think this is the place to test this. The functional test is. I'd just remove this line.",
    "created_at": "2019-12-05T11:40:08Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354260007",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354260007"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354260007"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354260007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354261504",
    "pull_request_review_id": 327489737,
    "id": 354261504,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI2MTUwNA==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Not sure if all OSes accept a backtick, but because I'm using boost's **portable_name** function it behaves more strictly towards non-portable file names. Here's the whole list of options that I've been using: https://www.boost.org/doc/libs/1_57_0/libs/filesystem/doc/portability_guide.htm\r\nWe could go less or more strict, of course. \r\nI will then remove this test. ",
    "created_at": "2019-12-05T11:43:59Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354261504",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354261504"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354261504"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354261504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354265407",
    "pull_request_review_id": 327493719,
    "id": 354265407,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI2NTQwNw==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think that's very much overkill. The filename only needs to be valid for the OS bitcoind is running on. Looking at that table, `portable_posix_name` (which is implied by `portable_name`) rules out using non-ASCII characters which is not good for internationalization!",
    "created_at": "2019-12-05T11:51:32Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354265407",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354265407"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354265407"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354265407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354267081",
    "pull_request_review_id": 327495444,
    "id": 354267081,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI2NzA4MQ==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Well, then I could use function *native* for that. My idea was to have a check that takes care of allowing only such names where one could create a file that could be copied to/from any OS. But, if this is too much I will make it less strict.",
    "created_at": "2019-12-05T11:54:41Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354267081",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354267081"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354267081"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354267081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354281952",
    "pull_request_review_id": 327510990,
    "id": 354281952,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM1NDI4MTk1Mg==",
    "diff_hunk": "@@ -75,6 +75,7 @@ BOOST_AUTO_TEST_CASE(rpc_rawparams)\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction null\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(\"sendrawtransaction DEADBEEF\"), std::runtime_error);\n     BOOST_CHECK_THROW(CallRPC(std::string(\"sendrawtransaction \")+rawtx+\" extra\"), std::runtime_error);\n+    BOOST_CHECK_THROW(CallRPC(std::string(\"dumptxoutset utxo.dat`\")), std::runtime_error);",
    "path": "src/test/rpc_tests.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "eb3100f392e37da6d5a159e7f97267652b073887",
    "original_commit_id": "2b3e33175e5bdc95d42b001ae78f8159b3a39001",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The problem is that boost's definition of \"any OS\" is way too broad. It would at most need to be compatible with modern operating systems that bitcoind runs on, not 80's UNIX or DOS.\r\nIn any case, `.native` is better here.",
    "created_at": "2019-12-05T12:23:11Z",
    "updated_at": "2020-05-10T07:44:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354281952",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354281952"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17623#discussion_r354281952"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17623"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/354281952/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 78,
    "side": "RIGHT",
    "in_reply_to_id": 354257914
  }
]