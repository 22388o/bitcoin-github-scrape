sipa,2015-04-16T06:07:41Z,"This won't work. It locks the string object itself, not the (separately\nallocated) memory area where the string's contents is stored.\n\nYou need a string with a custom allocator to solve this.\n",https://github.com/bitcoin/bitcoin/pull/6019#issuecomment-93652094,93652094,
laanwj,2015-04-16T07:52:00Z,"Agree that this won't work.\n\nI don't think Qt supports strings with custom allocators. And if want to use your own string type, at the very least you'd need to implement a custom text field to make use of it. There's no saying what QLineEdit, or at a lower level, X/Win32/OSX, does internally. It may scatter buffers with (part of) the passphrase everywhere in the heap.\n\nA possible suggestion (I",https://github.com/bitcoin/bitcoin/pull/6019#issuecomment-93669724,93669724,
jonasschnelli,2015-04-16T08:09:07Z,Just checked and found out that QT does not support custom or secure allocators. It would required to dig down the whole path to the OS implementation (for the three supported platforms) which would be hard to implement and very hard to maintain (not only that it runs also that it is secure).\n\nThe separated secure entry process would make more sense but even there its not trivial to implement.\n,https://github.com/bitcoin/bitcoin/pull/6019#issuecomment-93672794,93672794,
laanwj,2015-04-20T11:12:26Z,"Closing this, as-is it won't noticeably improve security and thus doesn't warrant removing the comments.\n",https://github.com/bitcoin/bitcoin/pull/6019#issuecomment-94425466,94425466,
micrictor,2015-04-24T20:35:16Z,"Looking deeper, it seems that if you lock the return of the data accessor(\nui->passEdit1->text().data() ) it properly locks the area of memory being\nused to store the actual data. I verified this in GDB.\n\nI also changed the locking done for RPC calls so it locks the proper\nmemory, again verified in GDB.\n\nhttps://github.com/micrictor/bitcoin/commit/ad32eff00df2a452c6bb36e4d46dba9ea109d14e\n\",https://github.com/bitcoin/bitcoin/pull/6019#issuecomment-96056352,96056352,
