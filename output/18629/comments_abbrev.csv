laanwj,2020-04-14 06:13:53,"Concept ACK.\nCan we finally close #8248 after this?",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613246232,613246232,
dongcarl,2020-04-14 14:52:46,"When I was reviewing the debian patches for inclusion in Guix, I did come across `default-secure-pe-flags.patch`, but chose not to include it, since it mostly just changed some defaults, and because of the recent removal fanquake mentioned.\n\n`<SHILL>`\n\n> I think Guix is going to bring great benefits when dealing with these kinds of issues.\n\nI believe that's true :smile:, with the recen",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613489914,613489914,
dongcarl,2020-04-14 14:55:24,"w/re the actual change, won't this break Gitian builds right now since they are on binutils 2.30?",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613491411,613491411,
skitt,2020-04-14 15:08:58,"Previous releases of `binutils-mingw-w64` in Debian enabled hardening flags by default, but as mentioned elsewhere, this is actually misleading since the flags really require relocations, and those were dropped. When `--enable-reloc-section` was added, I experimented with enabling *that* by default, along with all the other flags; but enabling this by default breaks `ld` in a number of scenarios. ",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613499283,613499283,
dongcarl,2020-04-14 16:55:24,"@skitt\n\n> enabling this by default breaks `ld` in a number of scenarios. In particular it breaks many, many test-cases in the test-suite\n\nAh yes that makes sense, the `binutils` test suite must expect the _default_ defaults, not the _modified/patched_ defaults.\n\n> also causes some problems in real-world scenarios (I don’t have the details to hand)\n\nHmmm, this could be troubling... ",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613558825,613558825,
skitt,2020-04-14 17:10:43,"> > also causes some problems in real-world scenarios (I don’t have the details to hand)\n> \n> Hmmm, this could be troubling... We'll do some testing ourselves, but if you have a vague direction in which to point us that would be very much appreciated!\n\nI don’t remember anything particularly worrying when using either the upstream defaults or explicit options chosen appropriately; issues ar",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613567011,613567011,
dongcarl,2020-04-14 17:29:34,"> I don’t remember anything particularly worrying when using either the upstream defaults or explicit options chosen appropriately; issues arose when changing the defaults, usually with binaries ending up with `.reloc` sections when they (or rather, their build system) didn’t expect them for whatever reason.\n\nThat's very reassuring, we'll be explicitly choosing the options then. Thank you so v",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613576244,613576244,
DrahtBot,2020-04-14 20:32:58,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 6110ae8326c74704c9e105deca725f2411395969<br>(master) | commit 1095b286b6d119079861ce5df8f444b4decdedbb<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz | [`3331ace5139c1d7f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/6110ae8326c74704c9e105deca725f2411395969/bitcoin-0.20.99-,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613666655,613666655,
fanquake,2020-04-15 05:25:42,"Thanks for the comments @skitt. We've got some more to follow up on here.\n\nJust noting that this also means our [test-security-check.py](https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/test-security-check.py) script will fail to run on bullseye, due to the removal of the `--no-*` options from `ld` in the mingw-w64 binutils.\n```bash\nbitcoin/contrib/devtools# python3 test-sec",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613824030,613824030,
skitt,2020-04-15 07:06:15,"> Just noting that this also means our [test-security-check.py](https://github.com/bitcoin/bitcoin/blob/master/contrib/devtools/test-security-check.py) script will fail to run on bullseye, due to the removal of the `--no-*` options from `ld` in the mingw-w64 binutils.\n\nGood point, I’ll add those options back.",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-613857532,613857532,
fanquake,2020-04-19 04:01:38,"I've opened #18702 which will address the gitian failure here.\n\n> Good point, I’ll add those options back.\n\nThanks. Looks like this was done in: https://salsa.debian.org/mingw-w64-team/binutils-mingw-w64/-/commit/6d954f9b5f1a5f9e46cc4770284d9bcd3680c2c7.",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-616022855,616022855,
practicalswift,2020-04-20 10:54:43,Concept ACK: ASLR reasons :),https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-616472353,616472353,
skitt,2020-04-20 11:47:18,"> > Good point, I’ll add those options back.\n> \n> Thanks. Looks like this was done in: https://salsa.debian.org/mingw-w64-team/binutils-mingw-w64/-/commit/6d954f9b5f1a5f9e46cc4770284d9bcd3680c2c7.\n\nYou’re welcome! I was waiting until the package migrates to testing before mentioning it here. Unfortunately the `binutils` migration is going to take a bit longer than usual, and `binutils-ming",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-616500308,616500308,
fanquake,2020-04-22 08:19:07,I've cherry-picked #18702 into here. Queued up some new builds as well.,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-617627430,617627430,
laanwj,2020-04-22 13:19:25,#18702 was merged so the commit can be removed from here again (sorry).,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-617774284,617774284,
fanquake,2020-04-23 00:42:09,"> #18702 was merged so the commit can be removed from here again (sorry).\n\nNo worries! I've rebased on master.",https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-618111439,618111439,
DrahtBot,2020-04-26 07:43:14,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 3e7c118d6555c740601597522246e9c6781a2348<br>(master) | commit 877d4b4cb39eb671be49a1a63ab958691fe662d2<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz | [`ad13235a357c4ba6...`](https://drahtbot.space/guix/bitcoin/bitcoin/3e7c118d6555c740601597522246e9c6781a2348/bitcoin-0.20.99-aarc,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-619503014,619503014,
dongcarl,2020-04-27 12:00:05,ACK 3e38023af724a76972d39cbccfb0bba4c54a0323,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-619938232,619938232,
DrahtBot,2020-04-27 12:32:35,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit 65276c7737176a5269b052ceae78dbb44b216bf4<br>(master) | commit fe47be6da3ad056dbcc5f2db4c17933221eeacd5<br>(master and this pull) |\n|--|--|--|\n| bitcoin-0.20.99-aarch64-linux-gnu-debug.tar.gz | [`673ecc74f832f550...`](https://drahtbot.space/gitian/bitcoin/bitcoin/65276c7737176a5269b052ceae78dbb44b216bf4/bitcoin-0.20.99-,https://github.com/bitcoin/bitcoin/pull/18629#issuecomment-619956988,619956988,
