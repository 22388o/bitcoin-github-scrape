[
  {
    "sha": "8f17c3b03f822b2caf518e4421f9d79d6479869e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZjE3YzNiMDNmODIyYjJjYWY1MThlNDQyMWY5ZDc5ZDY0Nzk4Njll",
    "commit": {
      "author": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2016-03-10T14:22:26Z"
      },
      "committer": {
        "name": "Gavin Andresen",
        "email": "gavinandresen@gmail.com",
        "date": "2016-04-15T19:34:05Z"
      },
      "message": "QA test fix: ensure unique coinbase transactions",
      "tree": {
        "sha": "650b15be16a81bc56df01e874efbb1cc9092cb2d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/650b15be16a81bc56df01e874efbb1cc9092cb2d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8f17c3b03f822b2caf518e4421f9d79d6479869e",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niEYEABECAAYFAlcRQjAACgkQdYgkL74406hIzQCgg3cEXYPd90ynbHsYrfoFK+kI\nDHIAn2iJ0khpd616AM2yKJxR7bDDKVph\n=opOL\n-----END PGP SIGNATURE-----",
        "payload": "tree 650b15be16a81bc56df01e874efbb1cc9092cb2d\nparent 73fc922ed64333d45f18d8a448f30cfa2ae0281e\nauthor Gavin Andresen <gavinandresen@gmail.com> 1457619746 -0500\ncommitter Gavin Andresen <gavinandresen@gmail.com> 1460748845 -0400\n\nQA test fix: ensure unique coinbase transactions\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8f17c3b03f822b2caf518e4421f9d79d6479869e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8f17c3b03f822b2caf518e4421f9d79d6479869e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8f17c3b03f822b2caf518e4421f9d79d6479869e/comments",
    "author": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "gavinandresen",
      "id": 331997,
      "node_id": "MDQ6VXNlcjMzMTk5Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/331997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gavinandresen",
      "html_url": "https://github.com/gavinandresen",
      "followers_url": "https://api.github.com/users/gavinandresen/followers",
      "following_url": "https://api.github.com/users/gavinandresen/following{/other_user}",
      "gists_url": "https://api.github.com/users/gavinandresen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gavinandresen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gavinandresen/subscriptions",
      "organizations_url": "https://api.github.com/users/gavinandresen/orgs",
      "repos_url": "https://api.github.com/users/gavinandresen/repos",
      "events_url": "https://api.github.com/users/gavinandresen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gavinandresen/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "73fc922ed64333d45f18d8a448f30cfa2ae0281e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73fc922ed64333d45f18d8a448f30cfa2ae0281e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/73fc922ed64333d45f18d8a448f30cfa2ae0281e"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "d3726146b3c20cd67db743b7882effeaf5ed7725",
        "filename": "qa/rpc-tests/test_framework/blocktools.py",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8f17c3b03f822b2caf518e4421f9d79d6479869e/qa/rpc-tests/test_framework/blocktools.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8f17c3b03f822b2caf518e4421f9d79d6479869e/qa/rpc-tests/test_framework/blocktools.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/rpc-tests/test_framework/blocktools.py?ref=8f17c3b03f822b2caf518e4421f9d79d6479869e",
        "patch": "@@ -37,13 +37,15 @@ def serialize_script_num(value):\n         r[-1] |= 0x80\n     return r\n \n-# Create a coinbase transaction, assuming no miner fees.\n+# Create a unique coinbase transaction, assuming no miner fees.\n # If pubkey is passed in, the coinbase output will be a P2PK output;\n # otherwise an anyone-can-spend output.\n def create_coinbase(height, pubkey = None):\n+    if not hasattr(create_coinbase, \"counter\"): create_coinbase.counter = 0\n+    else: create_coinbase.counter += 1\n     coinbase = CTransaction()\n     coinbase.vin.append(CTxIn(COutPoint(0, 0xffffffff), \n-                ser_string(serialize_script_num(height)), 0xffffffff))\n+                ser_string(serialize_script_num(height))+ser_string(serialize_script_num(create_coinbase.counter)), 0xffffffff))\n     coinbaseoutput = CTxOut()\n     coinbaseoutput.nValue = 50 * COIN\n     halvings = int(height/150) # regtest"
      }
    ]
  }
]