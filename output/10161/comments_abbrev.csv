rodentrabies,2017-04-07T21:28:23Z,Added allowed values check for `-listenonion` and mentioned it in documentation. ,https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292656341,292656341,
rodentrabies,2017-04-07T22:51:29Z,I am unable to reproduce this failure on my machine. Any advise on what might cause it?,https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292670243,292670243,
laanwj,2017-04-10T07:10:03Z,Interesting discussion in #9836 as to whether this is a good idea.,https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292867377,292867377,
rodentrabies,2017-04-10T13:34:49Z,"@laanwj , I applied changes according to both of your notes, but considering discussion in #9836 , I should probably close this PR. I'll leave the branch anyway, in case we need a more robust and general solution in future.",https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292950723,292950723,
laanwj,2017-04-10T14:05:34Z,"@mrwhythat Agreed. And sure, makes sense to keep the branch, maybe someone wants to add this patch manually, doesn't hurt to have the code available.",https://github.com/bitcoin/bitcoin/pull/10161#issuecomment-292959344,292959344,
laanwj,2017-04-06T08:50:12Z,+1 on calling this flag non_anonymous,https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108691,110108691,src/torcontrol.cpp
laanwj,2017-04-06T08:51:12Z,As for option: maybe `-listenonion=2`?,https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110108879,110108879,src/torcontrol.cpp
rodentrabies,2017-04-06T11:16:47Z,"Yes, thanks for the advice. That should be OK. Will finish it this evening.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110135814,110135814,src/torcontrol.cpp
rodentrabies,2017-04-07T07:38:27Z,"Having `-listenonion=<n>` flag requires allowed values checks and isn't obvious enough as for anonymous/non-anonymous service option. Maybe it would be better to just add another boolean flag instead, with some obvious name?",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110332698,110332698,src/torcontrol.cpp
laanwj,2017-04-07T14:52:54Z,"Yeah could do that. Though I think the number of options of bitcoind is kind of getting out of hand, and this seems quite obscure so I don't mind hiding it a bit. Could wait and see what other dev's opinions about this are.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110408636,110408636,src/torcontrol.cpp
kewde,2017-04-08T09:11:24Z,language: Hidded -> Hidden,https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514046,110514046,doc/tor.md
kewde,2017-04-08T09:35:41Z,"I'm assuming the problem will be with %d and int64_t. I see you've changed DEFAULT_LISTEN_ONION from a bool to int64_t but did not change it here.\n\nThe format for int64_t (to (str)printf etc) is typically\n- ""I64d"" (Win32/Win64)\n-  ""lld"" (32-bit platforms) \n- ""ld"" (64-bit platforms) \n\nI suspect int64_t might not be the right type to use for DEFAULT_LISTEN_ONION.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110514507,110514507,src/init.cpp
rodentrabies,2017-04-08T10:02:35Z,"Oh, right, that was lame. Thanks for pointing it out.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515054,110515054,src/init.cpp
rodentrabies,2017-04-08T10:14:17Z,Thanks for a thorough review!,https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110515272,110515272,doc/tor.md
laanwj,2017-04-10T06:41:24Z,"We don't use the OS' printf function but tinyformat, so you must use %d for any kind of integer. It doesn't understand most of the size specifiers and ignores them as it's typesafe and regards the actual argument types.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582261,110582261,src/init.cpp
laanwj,2017-04-10T06:44:23Z,String constant cannot be defined reliably in headers. It must be `extern` and defined in a c++ file. Otherwise it will get included into every single compilation unit that includes this header. Sometimes that runs into linker errors or causes executable bloat at the least.,https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582608,110582608,src/torcontrol.h
laanwj,2017-04-10T06:46:04Z,"Please make this interface take an `enum` mode, to make the available choices clear in the API and to maintainers of this code.\nConversion between the argument and the enum should be done outside this class at the call site\n(for example `TorControlThread()`)",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110582810,110582810,src/torcontrol.cpp
rodentrabies,2017-04-10T13:30:32Z,"Thought of `enum` in the first place, but then Ocham's razor principle, don't multiply entities etc:) Anyway, done.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110654542,110654542,src/torcontrol.cpp
rodentrabies,2017-04-10T13:32:34Z,"Yes thanks, my bad. It's been a long time without c++ preprocessor.",https://github.com/bitcoin/bitcoin/pull/10161#discussion_r110655047,110655047,src/torcontrol.h
