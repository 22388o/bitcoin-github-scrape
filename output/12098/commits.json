[
  {
    "sha": "8dbf740f8055b095f172772d457acca56115d9d1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4ZGJmNzQwZjgwNTViMDk1ZjE3Mjc3MmQ0NTdhY2NhNTYxMTVkOWQx",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-01-08T11:10:07Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2018-01-08T11:10:07Z"
      },
      "message": "[scripts] lint-whitespace: check last N commits or unstaged changes\n\nGet usage instructions:\n.lint-whitespace.sh -?",
      "tree": {
        "sha": "9230535b8e700d2af02275e85a5e356541171a8f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9230535b8e700d2af02275e85a5e356541171a8f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8dbf740f8055b095f172772d457acca56115d9d1",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAlpTUZITHHNqb3JzQHNw\ncm92b29zdC5ubAAKCRBX/5vbzDAQCck4D/9/pbH9Q0kLKAnhNUYLFL3K2rFuuQwb\nbRIlxp93XQB3VEPacT7IgFVWM/R33vhH/1EdenfGUZHw9gQItY6bDDM3ZAp4pYnm\nCmOrXBSOfJX8uPUJXaXp8Aw7YKSah7IGeNrnXGUh/AuImpV54cy5Iz4VsHKL1aD/\nKApWzyQEaNDMz5GhxJFZuaDBkKhvW2Subk+Ah5xftRMbV77XEGQ+pZOmz+XdyOWj\nW1doDyeNbTjo3TugquMhDMWYyg0CKt5lFuQ4JSmbQqnrgRUiZ+pPYpnoKJgGBq2c\nnM04qmMeTLlMvQY+rsdAfFQ2irZtbaVbhpGPS4efpbshU8lOI/qLOznoOLlwQ/CQ\nytmBWlSwqeDkuIxpWt99jf3/WzbkDiyZ4/M+0dvOFSWDH7sN9410IUVtJ9JiVuGf\nYzhY+py2eb/ACr89KTiQlSpQrV7t+nC7rwiFQqOSJDqoVT9XOvproAPfiTcZOEjA\nmHVvbF6ocUSuSbUctVOipDdmLjHqHe4nXGmi1TEQV0SNYjjBT44koatFqg3utjHr\nDsnYfEsSQW5/4BSo0mdl/5OAuE5ilM+coCVNgKGbzQaJWEBxEOkIGsaUXx8CtGV+\nc9FtlIevvUtj4/OXh7a7lyXXNhYoyRJ8O4NMUZefKPqksBSpLfStrII59YAX6Fb+\nnH/VDwEyiHdvGg==\n=MeRI\n-----END PGP SIGNATURE-----",
        "payload": "tree 9230535b8e700d2af02275e85a5e356541171a8f\nparent 56910285fa4a7a0f3b931e7613b9691cee9c13ff\nauthor Sjors Provoost <sjors@sprovoost.nl> 1515409807 +0100\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1515409807 +0100\n\n[scripts] lint-whitespace: check last N commits or unstaged changes\n\nGet usage instructions:\n.lint-whitespace.sh -?\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8dbf740f8055b095f172772d457acca56115d9d1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8dbf740f8055b095f172772d457acca56115d9d1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8dbf740f8055b095f172772d457acca56115d9d1/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "56910285fa4a7a0f3b931e7613b9691cee9c13ff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/56910285fa4a7a0f3b931e7613b9691cee9c13ff",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/56910285fa4a7a0f3b931e7613b9691cee9c13ff"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 19,
      "deletions": 5
    },
    "files": [
      {
        "sha": "8696903e68e149a9d7105211ac56d471d3be00c5",
        "filename": "contrib/devtools/lint-whitespace.sh",
        "status": "modified",
        "additions": 19,
        "deletions": 5,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8dbf740f8055b095f172772d457acca56115d9d1/contrib/devtools/lint-whitespace.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8dbf740f8055b095f172772d457acca56115d9d1/contrib/devtools/lint-whitespace.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/devtools/lint-whitespace.sh?ref=8dbf740f8055b095f172772d457acca56115d9d1",
        "patch": "@@ -7,12 +7,26 @@\n # Check for new lines in diff that introduce trailing whitespace.\n \n # We can't run this check unless we know the commit range for the PR.\n+\n+while getopts \"?\" opt; do\n+  case $opt in\n+    ?)\n+      echo \"Usage: .lint-whitespace.sh [N]\"\n+      echo \"       TRAVIS_COMMIT_RANGE='<commit range>' .lint-whitespace.sh\"\n+      echo \"       .lint-whitespace.sh -?\"\n+      echo \"Checks unstaged changes, the previous N commits, or a commit range.\"\n+      echo \"TRAVIS_COMMIT_RANGE='47ba2c3...ee50c9e' .lint-whitespace.sh\"\n+      exit 0\n+    ;;\n+  esac\n+done\n+\n if [ -z \"${TRAVIS_COMMIT_RANGE}\" ]; then\n-  echo \"Cannot run lint-whitespace.sh without commit range. To run locally, use:\"\n-  echo \"TRAVIS_COMMIT_RANGE='<commit range>' .lint-whitespace.sh\"\n-  echo \"For example:\"\n-  echo \"TRAVIS_COMMIT_RANGE='47ba2c3...ee50c9e' .lint-whitespace.sh\"\n-  exit 1\n+  if [ \"$1\" ]; then\n+    TRAVIS_COMMIT_RANGE=\"HEAD~$1...HEAD\"\n+  else\n+    TRAVIS_COMMIT_RANGE=\"HEAD\"\n+  fi\n fi\n \n showdiff() {"
      }
    ]
  }
]