[
  {
    "sha": "7bfa2237534ec393a656c4c05c706993f58f800f",
    "node_id": "C_kwDOABII59oAKDdiZmEyMjM3NTM0ZWMzOTNhNjU2YzRjMDVjNzA2OTkzZjU4ZjgwMGY",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T15:02:17Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-10-22T14:21:46Z"
      },
      "message": "wallet: make bech32m default address type\n\nExcept for legacy wallets and descriptor wallets without taproot. Update the default after importing a taproot descriptor.",
      "tree": {
        "sha": "4e2b1753fe0d18500d8d2b28f7f052c5802fc116",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4e2b1753fe0d18500d8d2b28f7f052c5802fc116"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7bfa2237534ec393a656c4c05c706993f58f800f",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmFyyPwACgkQV/+b28ww\nEAm0ug//dbJUWDs5cdT5CD4rjJzfaJLHc464tBsdz38rtHOEaGVxQ71HwAmrKeJ5\n9UvD2pgrvnMnuGJ1kTde/aJVPSxajBzOHT2Ud1SL7uZJDvNHVv79WFSyHubkCd4W\nS2bgJ+zNbX4Kw/u+J1lqpnMsXhFo/Kl3+bLApEq2fJymHMTXTEgsYCtYPKtoxZJn\nO32pc6G6oKIJpugUPUXOXOpRq0ORXOI9dlsaoRWWOHohwZbmo7PgByvIOXEzDJC6\n1gxfSAjLqZfcebBzT0SO3drE3uKp1wMrqmiZhcL37+h1foCmdbrs+0rRS8q/Peef\ncA3iaiKSwhdcT5AHmyThKlJgsy9Sxjs0CHzDgdoUID52sJngbXzRB7M/564fuYAO\nnPJr65/2BhR9OXhCqn0ytyqbFWi84tAgMul+57sNP11BNSUSjXn46KhMmr7Z7csE\n6fR+atLXJqeZKI2uLMMyBw3/19XziNu9u1887cW/M8MJ+ZZHoOSec7tDwRLPkz0R\nZCULpniAQhgLOLSeVKFg8IarUH2M8F0TSUtUusJ/F+bBpMdU+DA/wkN3l77zRgjV\nY3ZNLEKH0I7ZjyBj5nT2oyQkk1qkaxm/U4dklHzTEeYRYHkr7v/hFUtaJiXansA4\nM67csVpkQ/Bg782j5vgbIRcaa3ZRvWrALaMmLPVDcgmu2ejPwzI=\n=b45K\n-----END PGP SIGNATURE-----",
        "payload": "tree 4e2b1753fe0d18500d8d2b28f7f052c5802fc116\nparent 91c7d66c8b8429584225ae0701260cfe53804572\nauthor Sjors Provoost <sjors@sprovoost.nl> 1623855737 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1634912506 +0200\n\nwallet: make bech32m default address type\n\nExcept for legacy wallets and descriptor wallets without taproot. Update the default after importing a taproot descriptor.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bfa2237534ec393a656c4c05c706993f58f800f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7bfa2237534ec393a656c4c05c706993f58f800f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bfa2237534ec393a656c4c05c706993f58f800f/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "91c7d66c8b8429584225ae0701260cfe53804572",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/91c7d66c8b8429584225ae0701260cfe53804572",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/91c7d66c8b8429584225ae0701260cfe53804572"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 15,
      "deletions": 1
    },
    "files": [
      {
        "sha": "1177d86243802409cdc32fdcb001501a7d97bae3",
        "filename": "src/qt/test/addressbooktests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/qt/test/addressbooktests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/qt/test/addressbooktests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/addressbooktests.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -64,6 +64,7 @@ void TestAddAddressesToSendBook(interfaces::Node& node)\n     test.m_node.wallet_client = wallet_client.get();\n     node.setContext(&test.m_node);\n     std::shared_ptr<CWallet> wallet = std::make_shared<CWallet>(node.context()->chain.get(), \"\", CreateMockWalletDatabase());\n+    wallet->m_default_address_type = OutputType::BECH32;\n     wallet->LoadWallet();\n     wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n     {"
      },
      {
        "sha": "979b09c4dc4524e2e1144c131640498305e0c33d",
        "filename": "src/qt/test/wallettests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/qt/test/wallettests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/qt/test/wallettests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/wallettests.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -142,6 +142,7 @@ void TestGUI(interfaces::Node& node)\n     test.m_node.wallet_client = wallet_client.get();\n     node.setContext(&test.m_node);\n     std::shared_ptr<CWallet> wallet = std::make_shared<CWallet>(node.context()->chain.get(), \"\", CreateMockWalletDatabase());\n+    wallet->m_default_address_type = OutputType::BECH32;\n     wallet->LoadWallet();\n     wallet->SetWalletFlag(WALLET_FLAG_DESCRIPTORS);\n     {"
      },
      {
        "sha": "2fbe289a2fe866e04413b69a95cf6a7e637d8942",
        "filename": "src/wallet/rpcdump.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/rpcdump.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/rpcdump.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcdump.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -1555,6 +1555,10 @@ static UniValue ProcessDescriptorImport(CWallet& wallet, const UniValue& data, c\n                 // Taproot is not active, raise an error\n                 throw JSONRPCError(RPC_WALLET_ERROR, \"Cannot import tr() descriptor when Taproot is not active\");\n             }\n+            // When importing an active taproot descriptor, change the default address type to bech32m\n+            if (active && wallet.m_default_address_type == OutputType::BECH32) {\n+                wallet.m_default_address_type = OutputType::BECH32M;\n+            }\n         }\n \n         // If private keys are enabled, check some things."
      },
      {
        "sha": "8ade8d81b7060e354dcff3258fe7a055a302cf17",
        "filename": "src/wallet/test/util.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/test/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/test/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/util.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -18,6 +18,7 @@\n std::unique_ptr<CWallet> CreateSyncedWallet(interfaces::Chain& chain, CChain& cchain, const CKey& key)\n {\n     auto wallet = std::make_unique<CWallet>(&chain, \"\", CreateMockWalletDatabase());\n+    wallet->m_default_address_type = OutputType::BECH32;\n     {\n         LOCK2(wallet->cs_wallet, ::cs_main);\n         wallet->SetLastBlockProcessed(cchain.Height(), cchain.Tip()->GetBlockHash());"
      },
      {
        "sha": "8726515fc023acc008ecbbd88db1a6eb44203a23",
        "filename": "src/wallet/test/wallet_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/test/wallet_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/test/wallet_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/test/wallet_tests.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -275,6 +275,7 @@ BOOST_FIXTURE_TEST_CASE(importwallet_rescan, TestChain100Setup)\n         WalletContext context;\n         context.args = &gArgs;\n         std::shared_ptr<CWallet> wallet = std::make_shared<CWallet>(m_node.chain.get(), \"\", CreateDummyWalletDatabase());\n+        wallet->m_default_address_type = OutputType::BECH32;\n         {\n             auto spk_man = wallet->GetOrCreateLegacyScriptPubKeyMan();\n             LOCK2(wallet->cs_wallet, spk_man->cs_KeyStore);"
      },
      {
        "sha": "330dfef76a499b185904c38ea673aba203b2701c",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 6,
        "deletions": 0,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -2628,6 +2628,12 @@ std::shared_ptr<CWallet> CWallet::Create(WalletContext& context, const std::stri\n             return nullptr;\n         }\n         walletInstance->m_default_address_type = parsed.value();\n+    } else {\n+        // Set default type to bech32 for legacy wallets and descriptor wallets without taproot\n+        auto spk_man = walletInstance->GetScriptPubKeyMan(OutputType::BECH32M, false);\n+        if (walletInstance->IsLegacy() || spk_man == nullptr) {\n+            walletInstance->m_default_address_type = OutputType::BECH32;\n+        }\n     }\n \n     if (!args.GetArg(\"-changetype\", \"\").empty()) {"
      },
      {
        "sha": "04e42c523b3146409d2a76a27b8bca13c15bd3fa",
        "filename": "src/wallet/wallet.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/wallet.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bfa2237534ec393a656c4c05c706993f58f800f/src/wallet/wallet.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.h?ref=7bfa2237534ec393a656c4c05c706993f58f800f",
        "patch": "@@ -113,7 +113,7 @@ enum class FeeEstimateMode;\n class ReserveDestination;\n \n //! Default for -addresstype\n-constexpr OutputType DEFAULT_ADDRESS_TYPE{OutputType::BECH32};\n+constexpr OutputType DEFAULT_ADDRESS_TYPE{OutputType::BECH32M};\n \n static constexpr uint64_t KNOWN_WALLET_FLAGS =\n         WALLET_FLAG_AVOID_REUSE"
      }
    ]
  },
  {
    "sha": "d6b3f6e9821d1e8947b7fd2bc25fec70027ae358",
    "node_id": "C_kwDOABII59oAKGQ2YjNmNmU5ODIxZDFlODk0N2I3ZmQyYmMyNWZlYzcwMDI3YWUzNTg",
    "commit": {
      "author": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-06-16T15:02:58Z"
      },
      "committer": {
        "name": "Sjors Provoost",
        "email": "sjors@sprovoost.nl",
        "date": "2021-10-22T14:21:49Z"
      },
      "message": "gui: interpret bech32 checkbox as bech32m where needed",
      "tree": {
        "sha": "4419a9b4adde6fb6e31c3de202ec054158854e69",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4419a9b4adde6fb6e31c3de202ec054158854e69"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7ZvfetalXiMuhFJCV/+b28wwEAkFAmFyyP0ACgkQV/+b28ww\nEAkaXQ//RZ7rRcj98jbAXm/o7cb+Bdq21aNGw2wl7Wvvks4KRj4Nj9EIUuW+f8T3\nDopem4ZyPvi6TjNZnp/Zxe5QTWIyhcEJWXiRfqkC9rjL0Xtld+EC8+Yw+6tjVzEs\ntdU6gzRJQVQOz5i6pcP0YuMyidknA/OLxW8XibsTesSi7xt8OSXX0efS1y58dQkA\n2eEqrHulBBnLCJkYxixbhTPhQt0Y94JII2Ns49jbi4juoyjCpGP+6kZ8WoA/x0oB\nNDxck/TaZjAkBsiplyQy9urPhyW1HuzeCkFpijSizjg0KUNruKcP0CYIRYWduwXT\niJw7ETg76wjXsj5quThVazU80qjz/G+OK+1GJ3HN1sNLgQq6g2TFCZwkiUZLaA1K\nJceyrBDg30YRNz2E/x7bT+7zV1Fg4UVdb89gGK9rCyWLzpXhZNecV2pT39UjqLSv\nO9WDZnI0/wX38dBHvgNLSwGzbEH1wqfHU7BfjqySijFO+mi/puZH3G1KaFsDJ493\ng655Xj4UgsEe/GNiehZqeebkdoXH7lxa+rnApNhEU4XeS8rNYHxhH5zPMu0AGr4t\nRbxlrUMHkTj7Va4eCLsgdFpxKZiIqn8BiedfVU2fdKO8Ah5mftOv0OxwDwNa6+EG\n7mr3UGxqmqoFAZ8YunN8Q8eH+UroQXuGWd9Bb7q70wqYSwPKO1U=\n=3uzz\n-----END PGP SIGNATURE-----",
        "payload": "tree 4419a9b4adde6fb6e31c3de202ec054158854e69\nparent 7bfa2237534ec393a656c4c05c706993f58f800f\nauthor Sjors Provoost <sjors@sprovoost.nl> 1623855778 +0200\ncommitter Sjors Provoost <sjors@sprovoost.nl> 1634912509 +0200\n\ngui: interpret bech32 checkbox as bech32m where needed\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358/comments",
    "author": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7bfa2237534ec393a656c4c05c706993f58f800f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bfa2237534ec393a656c4c05c706993f58f800f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7bfa2237534ec393a656c4c05c706993f58f800f"
      }
    ],
    "stats": {
      "total": 12,
      "additions": 7,
      "deletions": 5
    },
    "files": [
      {
        "sha": "6c3baf711735a916dd70f70a16ce2ea0bad867fc",
        "filename": "src/qt/receivecoinsdialog.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 5,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358/src/qt/receivecoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d6b3f6e9821d1e8947b7fd2bc25fec70027ae358/src/qt/receivecoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/receivecoinsdialog.cpp?ref=d6b3f6e9821d1e8947b7fd2bc25fec70027ae358",
        "patch": "@@ -87,7 +87,7 @@ void ReceiveCoinsDialog::setModel(WalletModel *_model)\n             &QItemSelectionModel::selectionChanged, this,\n             &ReceiveCoinsDialog::recentRequestsView_selectionChanged);\n \n-        if (model->wallet().getDefaultAddressType() == OutputType::BECH32) {\n+        if (model->wallet().getDefaultAddressType() == OutputType::BECH32 || model->wallet().getDefaultAddressType() == OutputType::BECH32M) {\n             ui->useBech32->setCheckState(Qt::Checked);\n         } else {\n             ui->useBech32->setCheckState(Qt::Unchecked);\n@@ -144,12 +144,14 @@ void ReceiveCoinsDialog::on_receiveButton_clicked()\n     QString address;\n     QString label = ui->reqLabel->text();\n     /* Generate new receiving address */\n-    OutputType address_type;\n+    OutputType address_type = model->wallet().getDefaultAddressType();\n+\n     if (ui->useBech32->isChecked()) {\n-        address_type = OutputType::BECH32;\n+        if (address_type != OutputType::BECH32 && address_type != OutputType::BECH32M) {\n+            address_type = OutputType::BECH32;\n+        }\n     } else {\n-        address_type = model->wallet().getDefaultAddressType();\n-        if (address_type == OutputType::BECH32) {\n+        if (address_type == OutputType::BECH32 || address_type == OutputType::BECH32M) {\n             address_type = OutputType::P2SH_SEGWIT;\n         }\n     }"
      }
    ]
  }
]