gmaxwell,2015-02-08T23:20:45Z,"I don't understand the motivation here.  Rescan should not pointlessly scan blocks prior to key creation times. If there is some reason that creation times are being set incorrectly that must be fixed, not papered over with a bypass in rescan.\n\nIf you update the patch, please make sure the commit message explains the motivation for the change.\n",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-73438883,73438883,
RHavar,2015-02-08T23:36:26Z,"I guess there's two issues: the first being I think when someone starts bitcoin with `-rescan` it _should_ scan every block, as that is the safest behaviour and the one of least surprise. \n\nThe second issue, which I guess is not addressed by this pull request is someone does:\n`bitcoin-cli importprivkey $PRIV_KEY """" false`\n\nand then restarts bitcoind (with or without -rescan) it will only star",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-73439781,73439781,
laanwj,2015-02-09T10:12:25Z,"As with many wallet behaviors, it is not documented (nor tested) what the behavior should be, so people give their own interpretation what it should be and try to fix it according to that. Not sure how to go forward here as there is clear disagreement.\n\nI don't think it makes sense to assume the user wants to rescan from block 0 on next restarts, eg people import keys that are newly generated an",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-73484714,73484714,
RHavar,2015-02-09T14:36:34Z,"I guess two things to support my interpretation:\n- If I want to do a full scan (bad address seen date, importing without scanning), right now I'm forced to go `bitcoin-cli importprivkey $RANDOMPRIVKEY` to force the wallet to do a full scan. But `bitcoind -rescan` doesn't work. Strange, no?\n- When running `bitcoind -rescan` the logs even say that it's scanning from the genesis block:\n  https://g",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-73518102,73518102,
gmaxwell,2015-02-09T15:31:20Z,"The -rescan option really shouldn't exist at all.  It mostly only remains as historical inertia.  The ability to run it has a marginal disk cost of 30+GBytes.  Keeping it around has (apparently!) allowed serious birthdate tracking bugs to persist. \n\nIn any case, the interface is never obligated to perform some behavior which should be indistinguishable from the perspective of the user. I think t",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-73527880,73527880,
laanwj,2015-02-18T12:18:22Z,"Agree with @gmaxwell. \n- If you need behavior that clears the birthdays, add an option to clear the birthdays.\n- If you need importprivkey to be able to set the birthday for your imported key, add an argument to importprivkey with the birthdate. This makes it possible to distinguish importing a new key and an old key, and tells the client _from when_ to rescan\n\nWe're not trying to deny that th",https://github.com/bitcoin/bitcoin/pull/5774#issuecomment-74855233,74855233,
