[
  {
    "sha": "f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNjg0YWVjNGYzOGQ2YTllNDhlODcwY2E1ZGFlNmJkNjVkYTUxNmNm",
    "commit": {
      "author": {
        "name": "Jeff Garzik",
        "email": "jeff@garzik.org",
        "date": "2011-03-09T03:40:50Z"
      },
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@pobox.com",
        "date": "2011-03-09T03:40:50Z"
      },
      "message": "DNS seeding",
      "tree": {
        "sha": "e22936135a00387dbffe4a13a32ca0244401c26f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e22936135a00387dbffe4a13a32ca0244401c26f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
      "comment_count": 1,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/comments",
    "author": null,
    "committer": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f36b494aebcfe4cc6a45003520ee7d15eeaba8df",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f36b494aebcfe4cc6a45003520ee7d15eeaba8df",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f36b494aebcfe4cc6a45003520ee7d15eeaba8df"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 31,
      "deletions": 0
    },
    "files": [
      {
        "sha": "f74a143297f848206692f68a169fbaff750664e9",
        "filename": "init.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/init.cpp?ref=f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
        "patch": "@@ -416,6 +416,9 @@ bool AppInit2(int argc, char* argv[])\n         }\n     }\n \n+    if (mapArgs.count(\"-dnsseed\"))\n+        DNSAddressSeed();\n+\n     if (mapArgs.count(\"-paytxfee\"))\n     {\n         if (!ParseMoney(mapArgs[\"-paytxfee\"], nTransactionFee))"
      },
      {
        "sha": "798c7e5622205b7bc5d25ec30a2f8c439b925821",
        "filename": "net.cpp",
        "status": "modified",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/net.cpp?ref=f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
        "patch": "@@ -857,7 +857,34 @@ void ThreadSocketHandler2(void* parg)\n \n \n \n+static const char *strDNSSeed[] = {\n+    \"bitseed.xf2.org\",\n+};\n \n+void DNSAddressSeed()\n+{\n+    int found = 0;\n+\n+    printf(\"Loading addresses from DNS seeds (could take a while)\\n\");\n+\n+    for (int seed_idx = 0; seed_idx < ARRAYLEN(strDNSSeed); seed_idx++) {\n+        struct hostent* phostent = gethostbyname(strDNSSeed[seed_idx]);\n+        if (!phostent)\n+            continue;\n+\n+        for (int host = 0; phostent->h_addr_list[host] != NULL; host++) {\n+            CAddress addr(*(unsigned int*)phostent->h_addr_list[host],\n+                          GetDefaultPort(), NODE_NETWORK);\n+            addr.nTime = 0;\n+            if (addr.IsValid() && addr.GetByte(3) != 127) {\n+                AddAddress(addr);\n+                found++;\n+            }\n+        }\n+    }\n+\n+    printf(\"%d addresses found from DNS seeds\\n\");\n+}\n \n \n "
      },
      {
        "sha": "05ef5e064747bd89f8a60934e7b4caecbd67556a",
        "filename": "net.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f684aec4f38d6a9e48e870ca5dae6bd65da516cf/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/net.h?ref=f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
        "patch": "@@ -30,6 +30,7 @@ CNode* FindNode(unsigned int ip);\n CNode* ConnectNode(CAddress addrConnect, int64 nTimeout=0);\n void AbandonRequests(void (*fn)(void*, CDataStream&), void* param1);\n bool AnySubscribed(unsigned int nChannel);\n+void DNSAddressSeed();\n bool BindListenPort(string& strError=REF(string()));\n void StartNode(void* parg);\n bool StopNode();"
      }
    ]
  },
  {
    "sha": "448b4516ff982052e375d42059bcf0fb7e58589f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NDhiNDUxNmZmOTgyMDUyZTM3NWQ0MjA1OWJjZjBmYjdlNTg1ODlm",
    "commit": {
      "author": {
        "name": "Jeff Garzik",
        "email": "jeff@garzik.org",
        "date": "2011-03-09T03:55:29Z"
      },
      "committer": {
        "name": "Jeff Garzik",
        "email": "jgarzik@pobox.com",
        "date": "2011-03-09T03:55:29Z"
      },
      "message": "dnsseed: fix printf",
      "tree": {
        "sha": "e6810de632bfe97cebec3987282ae8f118d987eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e6810de632bfe97cebec3987282ae8f118d987eb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/448b4516ff982052e375d42059bcf0fb7e58589f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/448b4516ff982052e375d42059bcf0fb7e58589f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/448b4516ff982052e375d42059bcf0fb7e58589f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/448b4516ff982052e375d42059bcf0fb7e58589f/comments",
    "author": null,
    "committer": {
      "login": "jgarzik",
      "id": 494411,
      "node_id": "MDQ6VXNlcjQ5NDQxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/494411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jgarzik",
      "html_url": "https://github.com/jgarzik",
      "followers_url": "https://api.github.com/users/jgarzik/followers",
      "following_url": "https://api.github.com/users/jgarzik/following{/other_user}",
      "gists_url": "https://api.github.com/users/jgarzik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jgarzik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jgarzik/subscriptions",
      "organizations_url": "https://api.github.com/users/jgarzik/orgs",
      "repos_url": "https://api.github.com/users/jgarzik/repos",
      "events_url": "https://api.github.com/users/jgarzik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jgarzik/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f684aec4f38d6a9e48e870ca5dae6bd65da516cf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f684aec4f38d6a9e48e870ca5dae6bd65da516cf"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "372402f51fb0441daaf43d7c8342a30e377788e0",
        "filename": "net.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/448b4516ff982052e375d42059bcf0fb7e58589f/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/448b4516ff982052e375d42059bcf0fb7e58589f/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/net.cpp?ref=448b4516ff982052e375d42059bcf0fb7e58589f",
        "patch": "@@ -883,7 +883,7 @@ void DNSAddressSeed()\n         }\n     }\n \n-    printf(\"%d addresses found from DNS seeds\\n\");\n+    printf(\"%d addresses found from DNS seeds\\n\", found);\n }\n \n "
      }
    ]
  }
]