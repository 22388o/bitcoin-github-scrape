[
  {
    "sha": "739d39022d2959c1114c14a0065daebf4fe812c1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MzlkMzkwMjJkMjk1OWMxMTE0YzE0YTAwNjVkYWViZjRmZTgxMmMx",
    "commit": {
      "author": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-14T23:55:30Z"
      },
      "committer": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-15T18:13:55Z"
      },
      "message": "ci: Move linter task to cirrus",
      "tree": {
        "sha": "ac0c2982e95940bf298dfc6d782be4dd4d685b60",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ac0c2982e95940bf298dfc6d782be4dd4d685b60"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/739d39022d2959c1114c14a0065daebf4fe812c1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/739d39022d2959c1114c14a0065daebf4fe812c1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/739d39022d2959c1114c14a0065daebf4fe812c1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/739d39022d2959c1114c14a0065daebf4fe812c1/comments",
    "author": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "94a9cd25fd17e10b5720b5f72908b08c0f1ed16d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/94a9cd25fd17e10b5720b5f72908b08c0f1ed16d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/94a9cd25fd17e10b5720b5f72908b08c0f1ed16d"
      }
    ],
    "stats": {
      "total": 135,
      "additions": 45,
      "deletions": 90
    },
    "files": [
      {
        "sha": "58c1f6870f34db7cfe13316d0c87f1fd1d0ab0f0",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 31,
        "deletions": 10,
        "changes": 41,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/739d39022d2959c1114c14a0065daebf4fe812c1/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/739d39022d2959c1114c14a0065daebf4fe812c1/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=739d39022d2959c1114c14a0065daebf4fe812c1",
        "patch": "@@ -15,11 +15,21 @@ env:\n   CCACHE_SIZE: \"200M\"\n   CCACHE_DIR: \"/tmp/ccache_dir\"\n \n-### Global task template\n-\n+### Base template\n # https://cirrus-ci.org/guide/tips-and-tricks/#sharing-configuration-between-tasks\n+base_template: &BASE_TEMPLATE\n+  skip: $CIRRUS_REPO_FULL_NAME == \"bitcoin-core/gui\" && $CIRRUS_PR == \"\" # No need to run on the read-only mirror, unless it is a PR. https://cirrus-ci.org/guide/writing-tasks/#conditional-task-execution\n+  merge_base_script:\n+    - if [ \"$CIRRUS_PR\" = \"\" ]; then exit 0; fi\n+    - bash -c \"$PACKAGE_MANAGER_INSTALL git\"\n+    - git fetch $CIRRUS_REPO_CLONE_URL $CIRRUS_BASE_BRANCH\n+    - git config --global user.email \"ci@ci.ci\"\n+    - git config --global user.name \"ci\"\n+    - git merge FETCH_HEAD  # Merge base to detect silent merge conflicts\n+\n+### Global task template\n global_task_template: &GLOBAL_TASK_TEMPLATE\n-  skip: $CIRRUS_REPO_FULL_NAME == \"bitcoin-core/gui\" && $CIRRUS_PR == \"\"  # No need to run on the read-only mirror, unless it is a PR. https://cirrus-ci.org/guide/writing-tasks/#conditional-task-execution\n+  << : *BASE_TEMPLATE\n   ccache_cache:\n     folder: \"/tmp/ccache_dir\"\n   depends_built_cache:\n@@ -28,13 +38,6 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n     folder: \"/tmp/cirrus-ci-build/depends/sdk-sources\"\n   depends_releases_cache:\n     folder: \"/tmp/cirrus-ci-build/releases\"\n-  merge_base_script:\n-    - if [ \"$CIRRUS_PR\" = \"\" ]; then exit 0; fi\n-    - bash -c \"$PACKAGE_MANAGER_INSTALL git\"\n-    - git fetch $CIRRUS_REPO_CLONE_URL $CIRRUS_BASE_BRANCH\n-    - git config --global user.email \"ci@ci.ci\"\n-    - git config --global user.name \"ci\"\n-    - git merge FETCH_HEAD  # Merge base to detect silent merge conflicts\n   ci_script:\n     - ./ci/test_run_all.sh\n \n@@ -54,6 +57,24 @@ global_task_template: &GLOBAL_TASK_TEMPLATE\n #  install_script:\n #    - choco install python --version=3.7.7 -y\n \n+task:\n+  name: 'lint'\n+  << : *BASE_TEMPLATE\n+  container:\n+    image: ubuntu:bionic # For python 3.6, oldest supported version according to doc/dependencies.md\n+  # For faster CI feedback, immediately schedule the linters. https://cirrus-ci.org/pricing/#compute-credits\n+  use_compute_credits: $CIRRUS_REPO_FULL_NAME == 'bitcoin/bitcoin'\n+  setup_script:\n+    - set -o errexit; source ./ci/test/00_setup_env.sh\n+  before_install_script:\n+    - set -o errexit; source ./ci/test/03_before_install.sh\n+  install_script:\n+    - set -o errexit; source ./ci/lint/04_install.sh\n+  before_script:\n+    - set -o errexit; source ./ci/lint/05_before_script.sh\n+  lint_script:\n+    - set -o errexit; source ./ci/lint/06_script.sh\n+\n task:\n   name: 'ARM [unit tests, no functional tests] [buster]'\n   << : *GLOBAL_TASK_TEMPLATE"
      },
      {
        "sha": "dd76aaacaf2130ec90fcda07c9c093889e9f5759",
        "filename": ".travis.yml",
        "status": "removed",
        "additions": 0,
        "deletions": 66,
        "changes": 66,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/94a9cd25fd17e10b5720b5f72908b08c0f1ed16d/.travis.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/94a9cd25fd17e10b5720b5f72908b08c0f1ed16d/.travis.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.travis.yml?ref=94a9cd25fd17e10b5720b5f72908b08c0f1ed16d",
        "patch": "@@ -1,66 +0,0 @@\n-# Travis caches can be manually removed if necessary. This is one of the very\n-# few manual operations that is possible with Travis, and it can be done by a\n-# Bitcoin Core GitHub member via the Travis web interface [0].\n-#\n-# Travis CI uploads the cache after the script phase of the build [1].\n-# However, the build is terminated without saving the cache if it takes over\n-# 50 minutes [2]. Thus, if we spent too much time in early build stages, fail\n-# with an error and save the cache.\n-#\n-# [0] https://travis-ci.org/bitcoin/bitcoin/caches\n-# [1] https://docs.travis-ci.com/user/caching/#build-phases\n-# [2] https://docs.travis-ci.com/user/customizing-the-build#build-timeouts\n-\n-version: ~> 1.0\n-\n-dist: bionic\n-os: linux\n-language: minimal\n-arch: amd64\n-cache:\n-  directories:\n-    - $TRAVIS_BUILD_DIR/depends/built\n-    - $TRAVIS_BUILD_DIR/depends/sdk-sources\n-    - $TRAVIS_BUILD_DIR/ci/scratch/.ccache\n-    - $TRAVIS_BUILD_DIR/releases/$HOST\n-stages:\n-  - lint\n-  - test\n-env:\n-  global:\n-    - CI_RETRY_EXE=\"travis_retry\"\n-    - CACHE_ERR_MSG=\"Error! Initial build successful, but not enough time remains to run later build stages and tests. See https://docs.travis-ci.com/user/customizing-the-build#build-timeouts . Please manually re-run this job by using the travis restart button. The next run should not time out because the build cache has been saved.\"\n-before_install:\n-  - set -o errexit; source ./ci/test/00_setup_env.sh\n-  - set -o errexit; source ./ci/test/03_before_install.sh\n-install:\n-  - set -o errexit; source ./ci/test/04_install.sh\n-before_script:\n-  # Temporary workaround for https://github.com/bitcoin/bitcoin/issues/16368\n-  - for i in {1..4}; do echo \"$(sleep 500)\" ; done &\n-  - set -o errexit; source ./ci/test/05_before_script.sh &> \"/dev/null\"\n-script:\n-  - export CONTINUE=1\n-  - if [ $SECONDS -gt 1200 ]; then export CONTINUE=0; fi  # Likely the depends build took very long\n-  - if [ $TRAVIS_REPO_SLUG = \"bitcoin/bitcoin\" ]; then export CONTINUE=1; fi  # continue on repos with extended build time (90 minutes)\n-  - if [ $CONTINUE = \"1\" ]; then set -o errexit; source ./ci/test/06_script_a.sh; else set +o errexit; echo \"$CACHE_ERR_MSG\"; false; fi\n-  - if [[ $SECONDS -gt 50*60-$EXPECTED_TESTS_DURATION_IN_SECONDS ]]; then export CONTINUE=0; fi\n-  - if [ $TRAVIS_REPO_SLUG = \"bitcoin/bitcoin\" ]; then export CONTINUE=1; fi  # continue on repos with extended build time (90 minutes)\n-  - if [ $CONTINUE = \"1\" ]; then set -o errexit; source ./ci/test/06_script_b.sh; else set +o errexit; echo \"$CACHE_ERR_MSG\"; false; fi\n-after_script:\n-  - echo $TRAVIS_COMMIT_RANGE\n-jobs:\n-  include:\n-\n-    - stage: lint\n-      name: 'lint'\n-      env:\n-      cache: pip\n-      language: python\n-      python: '3.6' # Oldest supported version according to doc/dependencies.md\n-      install:\n-        - set -o errexit; source ./ci/lint/04_install.sh\n-      before_script:\n-        - set -o errexit; source ./ci/lint/05_before_script.sh\n-      script:\n-        - set -o errexit; source ./ci/lint/06_script.sh"
      },
      {
        "sha": "43d33b3f3b27d971b0f0653c3aa1a450130c3ee2",
        "filename": "ci/lint/04_install.sh",
        "status": "modified",
        "additions": 7,
        "deletions": 7,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/04_install.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/04_install.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/04_install.sh?ref=739d39022d2959c1114c14a0065daebf4fe812c1",
        "patch": "@@ -6,14 +6,14 @@\n \n export LC_ALL=C\n \n-travis_retry sudo apt update && sudo apt install -y clang-format-9\n-sudo update-alternatives --install /usr/bin/clang-format      clang-format      $(which clang-format-9     ) 100\n-sudo update-alternatives --install /usr/bin/clang-format-diff clang-format-diff $(which clang-format-diff-9) 100\n+${CI_RETRY_EXE} apt update && apt install -y clang-format-9 python3-pip curl git\n+update-alternatives --install /usr/bin/clang-format      clang-format      $(which clang-format-9     ) 100\n+update-alternatives --install /usr/bin/clang-format-diff clang-format-diff $(which clang-format-diff-9) 100\n \n-travis_retry pip3 install codespell==1.17.1\n-travis_retry pip3 install flake8==3.8.3\n-travis_retry pip3 install yq\n-travis_retry pip3 install mypy==0.781\n+${CI_RETRY_EXE} pip3 install codespell==1.17.1\n+${CI_RETRY_EXE} pip3 install flake8==3.8.3\n+${CI_RETRY_EXE} pip3 install yq\n+${CI_RETRY_EXE} pip3 install mypy==0.781\n \n SHELLCHECK_VERSION=v0.7.1\n curl -sL \"https://github.com/koalaman/shellcheck/releases/download/${SHELLCHECK_VERSION}/shellcheck-${SHELLCHECK_VERSION}.linux.x86_64.tar.xz\" | tar --xz -xf - --directory /tmp/"
      },
      {
        "sha": "8e5a177b017430439ec6fe0f0f2ae33436332196",
        "filename": "ci/lint/05_before_script.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/05_before_script.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/05_before_script.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/05_before_script.sh?ref=739d39022d2959c1114c14a0065daebf4fe812c1",
        "patch": "@@ -6,4 +6,4 @@\n \n export LC_ALL=C\n \n-git fetch --unshallow\n+git fetch"
      },
      {
        "sha": "ba582e7bf61d2bb12f7ca4c6771c4da7dbd96c88",
        "filename": "ci/lint/06_script.sh",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/06_script.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/739d39022d2959c1114c14a0065daebf4fe812c1/ci/lint/06_script.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/lint/06_script.sh?ref=739d39022d2959c1114c14a0065daebf4fe812c1",
        "patch": "@@ -6,11 +6,11 @@\n \n export LC_ALL=C\n \n-if [ \"$TRAVIS_EVENT_TYPE\" = \"pull_request\" ]; then\n-  # TRAVIS_BRANCH will be present in a Travis environment. For builds triggered\n+if [ -n \"$CIRRUS_PR\" ]; then\n+  # CIRRUS_PR will be present in a Cirrus environment. For builds triggered\n   # by a pull request this is the name of the branch targeted by the pull request.\n-  # https://docs.travis-ci.com/user/environment-variables/\n-  COMMIT_RANGE=\"$TRAVIS_BRANCH..HEAD\"\n+  # https://cirrus-ci.org/guide/writing-tasks/#environment-variables\n+  COMMIT_RANGE=\"$CIRRUS_BRANCH..HEAD\"\n   test/lint/commit-script-check.sh $COMMIT_RANGE\n fi\n \n@@ -25,8 +25,8 @@ test/lint/check-doc.py\n test/lint/check-rpc-mappings.py .\n test/lint/lint-all.sh\n \n-if [ \"$TRAVIS_REPO_SLUG\" = \"bitcoin/bitcoin\" ] && [ \"$TRAVIS_EVENT_TYPE\" = \"cron\" ]; then\n+if [ \"$CIRRUS_REPO_FULL_NAME\" = \"bitcoin/bitcoin\" ] && [ -n \"$CIRRUS_CRON\" ]; then\n     git log --merges --before=\"2 days ago\" -1 --format='%H' > ./contrib/verify-commits/trusted-sha512-root-commit\n-    travis_retry gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys $(<contrib/verify-commits/trusted-keys) &&\n+    ${CI_RETRY_EXE}  gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys $(<contrib/verify-commits/trusted-keys) &&\n     ./contrib/verify-commits/verify-commits.py --clean-merge=2;\n fi"
      }
    ]
  },
  {
    "sha": "4045a6722c884be779e86016313061ac6ff80808",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0MDQ1YTY3MjJjODg0YmU3NzllODYwMTYzMTMwNjFhYzZmZjgwODA4",
    "commit": {
      "author": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-17T01:34:25Z"
      },
      "committer": {
        "name": "Dhruv Mehta",
        "email": "856960+dhruv@users.noreply.github.com",
        "date": "2020-12-17T01:34:25Z"
      },
      "message": "ci: Use cpu=1 for linter",
      "tree": {
        "sha": "73821a5141da71fc8f4138cf6f324f83be0bdab1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/73821a5141da71fc8f4138cf6f324f83be0bdab1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4045a6722c884be779e86016313061ac6ff80808",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4045a6722c884be779e86016313061ac6ff80808",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4045a6722c884be779e86016313061ac6ff80808",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4045a6722c884be779e86016313061ac6ff80808/comments",
    "author": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dhruv",
      "id": 856960,
      "node_id": "MDQ6VXNlcjg1Njk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/856960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dhruv",
      "html_url": "https://github.com/dhruv",
      "followers_url": "https://api.github.com/users/dhruv/followers",
      "following_url": "https://api.github.com/users/dhruv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dhruv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dhruv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dhruv/subscriptions",
      "organizations_url": "https://api.github.com/users/dhruv/orgs",
      "repos_url": "https://api.github.com/users/dhruv/repos",
      "events_url": "https://api.github.com/users/dhruv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dhruv/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "739d39022d2959c1114c14a0065daebf4fe812c1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/739d39022d2959c1114c14a0065daebf4fe812c1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/739d39022d2959c1114c14a0065daebf4fe812c1"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 8,
      "deletions": 7
    },
    "files": [
      {
        "sha": "c8012aaa8a4ac2935cb8dd6fbbd4efe167343c53",
        "filename": ".cirrus.yml",
        "status": "modified",
        "additions": 8,
        "deletions": 7,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4045a6722c884be779e86016313061ac6ff80808/.cirrus.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4045a6722c884be779e86016313061ac6ff80808/.cirrus.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/.cirrus.yml?ref=4045a6722c884be779e86016313061ac6ff80808",
        "patch": "@@ -1,12 +1,5 @@\n ### Global defaults\n \n-timeout_in: 120m  # https://cirrus-ci.org/faq/#instance-timed-out\n-container:\n-  # https://cirrus-ci.org/faq/#are-there-any-limits\n-  # Each project has 16 CPU in total, assign 2 to each container, so that 8 tasks run in parallel\n-  cpu: 2\n-  memory: 8G  # Set to 8GB to avoid OOM. https://cirrus-ci.org/guide/linux/#linux-containers\n-  kvm: true  # Use kvm to avoid spurious CI failures in the default virtualization cluster, see https://github.com/bitcoin/bitcoin/issues/20093\n env:\n   PACKAGE_MANAGER_INSTALL: \"apt-get update && apt-get install -y\"\n   MAKEJOBS: \"-j4\"\n@@ -30,6 +23,13 @@ base_template: &BASE_TEMPLATE\n ### Global task template\n global_task_template: &GLOBAL_TASK_TEMPLATE\n   << : *BASE_TEMPLATE\n+  timeout_in: 120m  # https://cirrus-ci.org/faq/#instance-timed-out\n+  container:\n+    # https://cirrus-ci.org/faq/#are-there-any-limits\n+    # Each project has 16 CPU in total, assign 2 to each container, so that 8 tasks run in parallel\n+    cpu: 2\n+    memory: 8G  # Set to 8GB to avoid OOM. https://cirrus-ci.org/guide/linux/#linux-containers\n+    kvm: true  # Use kvm to avoid spurious CI failures in the default virtualization cluster, see https://github.com/bitcoin/bitcoin/issues/20093\n   ccache_cache:\n     folder: \"/tmp/ccache_dir\"\n   depends_built_cache:\n@@ -62,6 +62,7 @@ task:\n   << : *BASE_TEMPLATE\n   container:\n     image: ubuntu:bionic # For python 3.6, oldest supported version according to doc/dependencies.md\n+    cpu: 1 # Cut bill in half for linting\n   # For faster CI feedback, immediately schedule the linters. https://cirrus-ci.org/pricing/#compute-credits\n   use_compute_credits: $CIRRUS_REPO_FULL_NAME == 'bitcoin/bitcoin'\n   setup_script:"
      }
    ]
  }
]