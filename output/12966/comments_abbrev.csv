sdaftuar,2018-04-17T14:25:24Z,"I think it would be helpful if you could post (or link to a gist) the overall design you're aiming for here, so that reviewers can think about the algorithm's robustness without having to dive into the implementation first.\n\nI did start to take a look, and I wanted to point out that the first commit looks incorrect -- `GetSortedDepthAndScore()` does not return the mempool sorted in the same wa",https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-382011897,382011897,
sdaftuar,2018-04-17T14:28:46Z,"> I think it would be helpful if you could post (or link to a gist) the overall design you're aiming for here, so that reviewers can think about the algorithm's robustness without having to dive into the implementation first.\n\nSorry, I should have just finished reading the PR -- I think I understand it now, never mind!",https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-382013176,382013176,
kallewoof,2018-04-18T01:14:23Z,"@sdaftuar Thanks for looking!\n\n> the first commit looks incorrect -- `GetSortedDepthAndScore()` does not return the mempool sorted in the same way as block creation. Instead it sorts the mempool by ancestor count first (so all transactions with no ancestors appear before their descendants), and by feerate of the transaction second (not feerate including ancestors). \n\nI wanted to ask about ",https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-382211342,382211342,
sdaftuar,2018-04-18T14:09:48Z,"CreateNewBlock should be side effect free (the issue you're bringing up with `testrawtransaction` and the like involves mempool acceptance testing, which is not side-effect free).  It's not super-fast (especially because we test block validity after construction), but we could consider just exposing the package selection algorithm if that's helpful here. \n\nI don't see a problem with keeping th",https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-382399816,382399816,
kallewoof,2018-04-18T23:17:39Z,@sdaftuar That's good news! I'll definitely look into using the package selection stuff.,https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-382558768,382558768,
kallewoof,2018-05-15T08:40:36Z,I'm closing this but will reopen when I'm closer to an actual PR.,https://github.com/bitcoin/bitcoin/pull/12966#issuecomment-389089873,389089873,
Empact,2018-04-12T10:00:07Z,"This should make null estimate_mode args more relevant, which would make #12940 or something like it more important to include.",https://github.com/bitcoin/bitcoin/pull/12966#discussion_r181027981,181027981,src/rpc/mining.cpp
