promag,2018-06-30T09:15:54Z,Follow https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#scripted-diffs for these changes.,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401528874,401528874,
wodry,2018-06-30T11:00:26Z,OK I did update the commit message.,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401533888,401533888,
fanquake,2018-07-01T05:12:36Z,"@wodry Have a look at  https://github.com/fanquake/bitcoin/commit/454bec264ef9d104a4062992e98fe8ca1513844c for an example of this scripted diff that doesn't require the for/do loop, grep etc. Ideally, we want to keep the verify scripts as simple and concise as possible.\n\nFor anyone wondering about the `-i """"`,  it's required for `sed` on macOS if you want to edit files in-place without passing",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401583520,401583520,
wodry,2018-07-01T13:42:32Z,"@fanquake OK i replaced the script code. Do other versions of sed not understand the `s/regexp/replacement/` syntax? I am surprised that one can leave out the first and last `/`\n\nThe man page for GNU sed 4.4 on Linux says:\n> s/regexp/replacement/\n              Attempt  to match regexp against the pattern space.  If successful, replace that portion matched with replacement. ",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401607785,401607785,
fanquake,2018-07-01T13:48:05Z,"@wodry Apologies, my commit message was meant to include the first and last `/`...\n\n```\n\n-BEGIN VERIFY SCRIPT-\nsed -i """" 's/NET_TOR/NET_ONION/g' src/init.cpp src/netaddress.cpp src/netaddress.h src/netbase.cpp src/qt/optionsdialog.cpp src/test/netbase_tests.cpp src/torcontrol.cpp\n-END VERIFY SCRIPT-\n```",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401608078,401608078,
wodry,2018-07-01T14:00:56Z,"Does not work for me:\n> bitcoin$ LANG=C sed -i """" 'sNET_TOR/NET_ONIONg' src/init.cpp src/netaddress.cpp src/netaddress.h src/netbase.cpp src/qt/optionsdialog.cpp src/test/netbase_tests.cpp src/torcontrol.cpp\nsed: can't read sNET_TOR/NET_ONIONg: No such file or directory\n\nThis does also not work:\n>bitcoin$ LANG=C sed -i """" 's/NET_TOR/NET_ONION/g' src/init.cpp src/netaddress.cpp src/netadd",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401608878,401608878,
fanquake,2018-07-01T14:02:31Z,@wodry See my [comment above](https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401608078).,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401608976,401608976,
wodry,2018-07-01T14:05:08Z,"@fanquake please see my edits. Is\n`sed -i"""" 's/NET_TOR/NET_ONION/g' src/init.cpp src/netaddress.cpp src/netaddress.h src/netbase.cpp src/qt/optionsdialog.cpp src/test/netbase_tests.cpp src/torcontrol.cpp` ok for Mac?",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401609127,401609127,
wodry,2018-07-01T14:28:28Z,"What does the Travis error mean. Is something not ok with my commit?\n```\nThe command ""if [ ""$TRAVIS_EVENT_TYPE"" = ""pull_request"" ]; then test/lint/commit-script-check.sh $TRAVIS_COMMIT_RANGE; fi"" exited with 1.\n0.12s$ test/lint/git-subtree-check.sh src/crypto/ctaes\nsrc/crypto/ctaes in HEAD currently refers to tree 1b6c31139a71f80245c09597c343936a8e41d021\nsrc/crypto/ctaes in HEAD was last",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401610406,401610406,
fanquake,2018-07-01T14:31:00Z,"@wodry You need to add ""scripted-diff:"" to the commit title. i.e ""scripted-diff: rename NET_TOR to NET_ONION""\n\nSee [scripted diffs](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#scripted-diffs) in the developer notes.",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401610566,401610566,
wodry,2018-07-01T14:33:06Z,"Ah tanks, forgot that, fixed.",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401610677,401610677,
Empact,2018-07-01T19:15:21Z,Could you apply the scripted-diff to all sources? If that works it will be more robust against independent introduction.,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401626819,401626819,
MarcoFalke,2018-07-01T23:41:19Z,"git grep -l could be helpful\n\nOn Sun, Jul 1, 2018, 20:16 Ben Woosley <notifications@github.com> wrote:\n\n> Could you apply the scripted-diff to all sources? If that works it will be\n> more robust against independent introduction.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/bitcoin/bitcoin",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401641231,401641231,
wodry,2018-07-02T05:47:58Z,"@Empact I agree. My original script that I posted in my first comment does that.\n\n@MarcoFalke `-l` is `--files-with-matches` which I used in my original script that I posted in my first comment.\n\n@fanquake I changed back to my original script but changed `--in-place` to `--in-place''` so it should work on MacOS sed, too.",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401678623,401678623,
wodry,2018-07-02T07:15:03Z,Could someone please advise howto fix the Travis error? I triple checked to follow [scripted diffs developer notes)](https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md#scripted-diffs),https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401693264,401693264,
ken2812221,2018-07-02T07:31:45Z,"I would suggest \n\n    sed -i 's/NET_TOR/NET_ONION/g' $(git ls-files -- '*.cpp' '*.h')\n\nYour script failed because you specify the wrong directory. Not `bitcoin/` but `.`",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401696885,401696885,
wodry,2018-07-02T08:40:08Z,"Thanks @ken2812221 for the fix. Isn't it better to grep for occurrence of NET_TOR in all non-binary files to see if NET_TOR is maybe also in non-.cpp/.h files?\nIf this is not the case, like here, it's fine, and as a benefit one knows that fact.",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401714128,401714128,
MarcoFalke,2018-07-02T08:51:39Z,Please use `git grep` instead of `grep`,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401718930,401718930,
wodry,2018-07-02T09:47:00Z,@MarcoFalke Updated,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401739576,401739576,
Empact,2018-07-02T17:02:20Z,utACK 07c493f,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-401869833,401869833,
ken2812221,2018-07-03T23:32:11Z,utACK 07c493f2d1053d6a1c7d0ca1650da7b6f94c8948,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-402320434,402320434,
sipa,2018-07-03T23:36:33Z,utACK 07c493f2d1053d6a1c7d0ca1650da7b6f94c8948,https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-402321074,402321074,
laanwj,2018-07-04T09:50:43Z,"utACK 07c493f2d1053d6a1c7d0ca1650da7b6f94c8948\n\n> Tor is used at many other places in the code, though.\n\nThe goal should also not be to replace tor with onion. The distinction is:\n- `onion` should be used when referring to the representation and connecting to of onion hidden services. \n- `tor` when dealing with tor in general, so when connecting out through the tor proxy, Tor is specia",https://github.com/bitcoin/bitcoin/pull/13575#issuecomment-402427844,402427844,
