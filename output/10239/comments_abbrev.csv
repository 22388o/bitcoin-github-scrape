laanwj,2017-04-20T14:12:12Z,"Concept ACK, I think using the same atomics everywhere (those of the compiler) is a good thing.",https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295752290,295752290,
sipa,2017-04-20T14:34:08Z,"Apparently Boost will use std::atomic by default since 1.63 (verified by looking at the code, nothing in release notes).",https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295759812,295759812,
theuni,2017-04-20T14:36:30Z,Concept ACK. Are you sure these are the only two necessary?,https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295760716,295760716,
sipa,2017-04-20T14:38:07Z,"I grepped the source code for other BOOST_*_USE things, but nothing seems relevant.",https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295761201,295761201,
sipa,2017-04-20T15:10:51Z,Incorporated @theuni's suggestions.,https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295772311,295772311,
theuni,2017-04-20T17:25:58Z,"Thanks. utACK 394ccf76adb016b48908cd9a0fa08a1663a7ddba\n\nI cloned the boost smart_ptr repo and verified that these are the only defines needed, and that there are no uses of them in any cpp files (duh, it's a header-only lib).",https://github.com/bitcoin/bitcoin/pull/10239#issuecomment-295824501,295824501,
laanwj,2017-04-20T13:55:11Z,`-DBOOST_\A\C_USE_STD_ATOMIC` that looks strange,https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112459145,112459145,configure.ac
sipa,2017-04-20T14:09:23Z,"Very much so, but I don't know how else to prevent autoconf from interpreting it as a macro.",https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112462556,112462556,configure.ac
laanwj,2017-04-20T14:11:14Z,@theuni any idea ^^?,https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112463107,112463107,configure.ac
theuni,2017-04-20T14:34:23Z,I think wrapping the whole line in [ ] might shut it up?,https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112469092,112469092,configure.ac
sipa,2017-04-20T14:39:37Z,"I had tried that already:\n\n```autoconf\nCPPFLAGS=[""$CPPFLAGS -DHAVE_BUILD_INFO -D__STDC_FORMAT_MACROS -DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC""]\n```\n\ndoes not work.",https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112470448,112470448,configure.ac
sipa,2017-04-20T14:41:52Z,"The error is:\n\n```\nconfigure.ac:239: error: possibly undefined macro: DBOOST_AC_USE_STD_ATOMIC\n      If this token and others are legitimate, please use m4_pattern_allow.\n      See the Autoconf documentation.\nautoreconf: /usr/bin/autoconf failed with exit status: 1\n```",https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112471058,112471058,configure.ac
theuni,2017-04-20T15:04:43Z,"Ok, the recommended m4_pattern_allow hack works. Seems reasonable, there's no way that will ever become a macro.\n\nAlso, please stick this in BOOST_CPPFLAGS (after the AX_BOOST_* checks) rather than in the global one:\n```\nm4_pattern_allow(DBOOST_AC_USE_STD_ATOMIC) dnl otherwise it's treated like a macro\nBOOST_CPPFLAGS=""-DBOOST_SP_USE_STD_ATOMIC -DBOOST_AC_USE_STD_ATOMIC $BOOST_CPPFLAGS""\",https://github.com/bitcoin/bitcoin/pull/10239#discussion_r112477433,112477433,configure.ac
