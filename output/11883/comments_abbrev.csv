meshcollider,2017-12-19T23:26:34Z,"Addressed @ryanofsky comments and squashed fixup commit, thanks :)",https://github.com/bitcoin/bitcoin/pull/11883#issuecomment-352917796,352917796,
laanwj,2017-12-20T08:37:03Z,"Thank you so much for adding tests for this!\nutACK be9a13c8a0f149ac219934b515399cca60bf2123\n",https://github.com/bitcoin/bitcoin/pull/11883#issuecomment-352999271,352999271,
MarcoFalke,2017-12-20T23:18:39Z,"Post-merge:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nutACK be9a13c8a0f149ac219934b515399cca60bf2123\n-----BEGIN PGP SIGNATURE-----\n\niQIcBAEBCgAGBQJaOu+pAAoJENLqSFDnUoslsOcQAIiaYN2oS9TNACNr4wnYBcXW\nCY6i4q5Eyfr8CaENaeZNvDoYm92DH+dysVvVXjJoQetxTL+kiEU6xj1MdV24RCcd\nIWgqAroaLIGDFbe5DL7J9YOGwUWsO56NtSLKB5vZsaX8HocP/kNh2jvXTaq6Hq8E\ntvUev82IWTQQfit15yiO6ETsSiJadN7WPst0t",https://github.com/bitcoin/bitcoin/pull/11883#issuecomment-353211289,353211289,
MarcoFalke,2017-12-13T00:48:54Z,"Did you mean `if **not** arg.startswith(""-datadir"")`?",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156538344,156538344,test/functional/conf_args.py
MarcoFalke,2017-12-13T00:49:42Z,"femto-nit: missing space after assert, redundant round braces.",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156538430,156538430,test/functional/conf_args.py
meshcollider,2017-12-13T01:22:28Z,"Doh, yes, oops :)",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156542920,156542920,test/functional/conf_args.py
MarcoFalke,2017-12-13T19:19:16Z,Note that the configuration is written to the `bitcoin.conf` in the datadir that you are removing from the args. I suspect this will cause issues.,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156755707,156755707,test/functional/conf_args.py
MarcoFalke,2017-12-13T19:42:57Z,Hint: `git grep 'def initialize_datadir'`,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156762221,156762221,test/functional/conf_args.py
meshcollider,2017-12-13T23:11:08Z,"~Yeah I've been trying to figure a way around this, if -datadir is specified on the command line it will override the conf file, but if it isn't then it can't find the conf file anyway. Still trying to think if this is possible or not.~ EDIT: Fixed",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r156813184,156813184,test/functional/conf_args.py
ryanofsky,2017-12-18T13:50:40Z,spelling existent,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157488500,157488500,test/functional/conf_args.py
ryanofsky,2017-12-18T13:56:38Z,"Maybe call get_datadir_path(self.options.tmpdir, 0) to avoid hardcoding this.",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157489836,157489836,test/functional/conf_args.py
promag,2017-12-20T02:48:02Z,Remove?,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157927099,157927099,test/functional/conf_args.py
promag,2017-12-20T02:48:14Z,Remove?,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157927126,157927126,test/functional/conf_args.py
meshcollider,2017-12-20T03:01:12Z,"Can't remove either of those, they are used by the test runner to connect to the RPC and monitor the output of debug.log and stuff I believe, otherwise it can't find it. It's set separately from any command line arguments to bitcoind",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157928229,157928229,test/functional/conf_args.py
promag,2017-12-20T07:46:51Z,Maybe check if datadir is specified in extra_args in TestNode.start?,https://github.com/bitcoin/bitcoin/pull/11883#discussion_r157955029,157955029,test/functional/conf_args.py
jnewbery,2018-02-06T21:30:38Z,"This is a shame. I don't think individual tests should be reaching into a TestNode object to change the datadir, since that's used by the test framework in various places.",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r166448257,166448257,test/functional/conf_args.py
MarcoFalke,2018-02-06T21:37:51Z,"@jnewbery You propose to discard the ""old"" TestNode and create a fresh one whenever the datadir is changed?",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r166450152,166450152,test/functional/conf_args.py
jnewbery,2018-02-07T18:22:16Z,"No. The problem here is that it's useful to have a static datadir that files like debug.log and stderr are written to, since that helps with debugging failing scripts.",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r166709078,166709078,test/functional/conf_args.py
meshcollider,2018-02-07T21:15:32Z,"I agree that it's not a clean solution but it's the only thing I could come up with to make it work, how do you propose otherwise to test the datadir argument?",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r166757791,166757791,test/functional/conf_args.py
jnewbery,2018-03-21T18:40:46Z,"I think you're right. It's not ideal, but it's as good a way as any to do this.\n\nIt might be nice to have a log message at the start of the test warning that not all the node logs will be in the standard location:\n\n```\n        self.log.warning(""This test uses non-default data directories. Not all node logs will be in the default location."")\n```\n\nbut probably not worth a separate PR",https://github.com/bitcoin/bitcoin/pull/11883#discussion_r176196622,176196622,test/functional/conf_args.py
