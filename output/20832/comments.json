[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753552426",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-753552426",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 753552426,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzU1MjQyNg==",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-03T01:14:48Z",
    "updated_at": "2021-01-03T01:14:48Z",
    "author_association": "NONE",
    "body": "Tagging @instagibbs as requested.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753552426/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753690035",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-753690035",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 753690035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzY5MDAzNQ==",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-03T23:11:29Z",
    "updated_at": "2021-01-03T23:11:29Z",
    "author_association": "NONE",
    "body": "Thanks a lot for the review! I've made the proposed changes.\r\n\r\nIn addition, I've realized that DecodeDestination is used in other places too which return a generic 'invalid address' error message in case if fails. Should we also handle those places as part of this PR?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/753690035/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754022532",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-754022532",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 754022532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDAyMjUzMg==",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T14:56:01Z",
    "updated_at": "2021-01-04T14:56:01Z",
    "author_association": "NONE",
    "body": "Thanks again for the comments. \r\n\r\nI think for now I'll let this PR cover only 'getaddressinfo' and 'validateaddress' just to keep it small enough. In the future I will work on the other code paths.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754022532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754115570",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-754115570",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 754115570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDExNTU3MA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T17:43:08Z",
    "updated_at": "2021-01-04T17:43:08Z",
    "author_association": "MEMBER",
    "body": "ACK f58a4ed145f79ea3c62c3929647db6a4ee193a8c",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754115570/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754125916",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-754125916",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 754125916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDEyNTkxNg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-04T18:03:21Z",
    "updated_at": "2021-01-24T07:06:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20861 (Implement Bech32m and use it for v1+ segwit addresses by sipa)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754125916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754981991",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-754981991",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 754981991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NDk4MTk5MQ==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-06T00:23:05Z",
    "updated_at": "2021-01-06T00:23:05Z",
    "author_association": "MEMBER",
    "body": "reACK https://github.com/bitcoin/bitcoin/pull/20832/commits/f58a4ed145f79ea3c62c3929647db6a4ee193a8c",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/754981991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756611258",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-756611258",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 756611258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1NjYxMTI1OA==",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-08T08:02:44Z",
    "updated_at": "2021-01-08T08:02:44Z",
    "author_association": "MEMBER",
    "body": "4 ACKs, RFM imo",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/756611258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766274176",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#issuecomment-766274176",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20832",
    "id": 766274176,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NjI3NDE3Ng==",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-24T01:52:27Z",
    "updated_at": "2021-01-24T01:52:27Z",
    "author_association": "NONE",
    "body": "Thanks everyone for the review! I've rebased on the latest master so there are no more merge conflicts.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/766274176/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993093",
    "pull_request_review_id": 560688580,
    "id": 550993093,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5MzA5Mw==",
    "diff_hunk": "@@ -113,18 +124,34 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n                         return scriptid;\n                     }\n                 }\n+\n+                error_str = \"Invalid Bech32 v0 address data size\";\n                 return CNoDestination();\n             }\n-            if (version > 16 || data.size() < 2 || data.size() > 40) {\n+\n+            if (version > 16) {\n+                error_str = \"Invalid Bech32 address version\";\n+                return CNoDestination();\n+            }\n+\n+            if (data.size() < 2 || data.size() > 40) {\n+                error_str = \"Invalid Bech32 address data size\";\n                 return CNoDestination();\n             }\n+\n+\n             WitnessUnknown unk;\n             unk.version = version;\n             std::copy(data.begin(), data.end(), unk.program);\n             unk.length = data.size();\n             return unk;\n         }\n     }\n+\n+    // Set error message if address can't be interpreted neither as Base58 nor Bech32.\n+    if (error_str.empty())\n+        error_str = \"Invalid address format\";",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 66,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "See doc/developer-notes.md:\r\n\r\n    If an `if` only has a single-statement `then`-clause, it can appear\r\n    on the same line as the `if`, without braces. In every other case,\r\n    braces are required, and the `then` and `else` clauses must appear\r\n    correctly indented on a new line.",
    "created_at": "2021-01-03T11:27:40Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993093",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993093"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993093"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 153,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993154",
    "pull_request_review_id": 560688580,
    "id": 550993154,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5MzE1NA==",
    "diff_hunk": "@@ -3823,13 +3823,19 @@ RPCHelpMan getaddressinfo()\n \n     LOCK(pwallet->cs_wallet);\n \n-    UniValue ret(UniValue::VOBJ);\n-    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    std::string error_msg;\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str(), error_msg);\n+\n     // Make sure the destination is valid\n     if (!IsValidDestination(dest)) {\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid address\");\n+        if (error_msg.empty())\n+            error_msg = \"Invalid address\";",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Idem as previous comment about conditional formatting",
    "created_at": "2021-01-03T11:28:17Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993154",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993154"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993154"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993154/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 3832,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993634",
    "pull_request_review_id": 560688580,
    "id": 550993634,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5MzYzNA==",
    "diff_hunk": "@@ -40,6 +40,7 @@ static RPCHelpMan validateaddress()\n                     RPCResult::Type::OBJ, \"\", \"\",\n                     {\n                         {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not. If not, this is the only property returned.\"},\n+                        {RPCResult::Type::STR, \"error_msg\", \"If the address is not valid this property contains a description of the error encountered while decoding the address.\"},",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "suggestion\r\n```diff\r\n@@ -40,13 +40,13 @@ static RPCHelpMan validateaddress()\r\n                     RPCResult::Type::OBJ, \"\", \"\",\r\n                     {\r\n                         {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not. If not, this is the only property returned.\"},\r\n-                        {RPCResult::Type::STR, \"error_msg\", \"If the address is not valid this property contains a description of the error encountered while decoding the address.\"},\r\n                         {RPCResult::Type::STR, \"address\", \"The bitcoin address validated\"},\r\n                         {RPCResult::Type::STR_HEX, \"scriptPubKey\", \"The hex-encoded scriptPubKey generated by the address\"},\r\n                         {RPCResult::Type::BOOL, \"isscript\", \"If the key is a script\"},\r\n                         {RPCResult::Type::BOOL, \"iswitness\", \"If the address is a witness address\"},\r\n                         {RPCResult::Type::NUM, \"witness_version\", /* optional */ true, \"The version number of the witness program\"},\r\n                         {RPCResult::Type::STR_HEX, \"witness_program\", /* optional */ true, \"The hex value of the witness program\"},\r\n+                        {RPCResult::Type::STR, \"error\", /* optional */ true, \"Error message, if any\"},\r\n                     }\r\n```\r\n\r\n- add optional indication and move after the other optional result field\r\n- simpler standard description\r\n- \"error\" seems to be the generally used error field name in this api (see src/wallet/rpcwallet.cpp::L4485",
    "created_at": "2021-01-03T11:33:34Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993634",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993634"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550993634"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550993634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994226",
    "pull_request_review_id": 560688580,
    "id": 550994226,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NDIyNg==",
    "diff_hunk": "@@ -40,6 +40,7 @@ static RPCHelpMan validateaddress()\n                     RPCResult::Type::OBJ, \"\", \"\",\n                     {\n                         {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not. If not, this is the only property returned.\"},",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 3,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "this description needs to be updated (can remove trailing full stop too, like the other descriptions here)\r\n```suggestion\r\n                        {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not\"},\r\n```",
    "created_at": "2021-01-03T11:38:46Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550994226",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994226"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550994226"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994400",
    "pull_request_review_id": 560688580,
    "id": 550994400,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NDQwMA==",
    "diff_hunk": "@@ -69,7 +70,10 @@ static RPCHelpMan validateaddress()\n \n         UniValue detail = DescribeAddress(dest);\n         ret.pushKVs(detail);\n+    } else {\n+        ret.pushKV(\"error_msg\", error_msg);",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 30,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "suggestion\r\n```diff\r\n-        ret.pushKV(\"error_msg\", error_msg);\r\n+        CHECK_NONFATAL(!error_msg.empty());\r\n+        ret.pushKV(\"error\", error_msg);\r\n```\r\n",
    "created_at": "2021-01-03T11:40:42Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550994400",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994400"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550994400"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550994400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995455",
    "pull_request_review_id": 560688580,
    "id": 550995455,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NTQ1NQ==",
    "diff_hunk": "@@ -89,10 +91,19 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n             std::copy(data.begin() + script_prefix.size(), data.end(), hash.begin());\n             return ScriptHash(hash);\n         }\n+\n+        // Set potential error message.\n+        // This message may be changed in case that the address can also be interpreted as a Bech32 address.",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 20,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n        // This message may be changed if the address can also be interpreted as a Bech32 address.\r\n```",
    "created_at": "2021-01-03T11:50:38Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550995455",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995455"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550995455"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 96,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995797",
    "pull_request_review_id": 560688580,
    "id": 550995797,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NTc5Nw==",
    "diff_hunk": "@@ -113,18 +124,34 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n                         return scriptid;\n                     }\n                 }\n+\n+                error_str = \"Invalid Bech32 v0 address data size\";\n                 return CNoDestination();\n             }\n-            if (version > 16 || data.size() < 2 || data.size() > 40) {\n+\n+            if (version > 16) {\n+                error_str = \"Invalid Bech32 address version\";\n+                return CNoDestination();\n+            }\n+\n+            if (data.size() < 2 || data.size() > 40) {\n+                error_str = \"Invalid Bech32 address data size\";\n                 return CNoDestination();\n             }\n+\n+\n             WitnessUnknown unk;\n             unk.version = version;\n             std::copy(data.begin(), data.end(), unk.program);\n             unk.length = data.size();\n             return unk;\n         }\n     }\n+\n+    // Set error message if address can't be interpreted neither as Base58 nor Bech32.",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 64,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n    // Set error message if address can't be interpreted as Base58 or Bech32.\r\n```",
    "created_at": "2021-01-03T11:54:12Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550995797",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995797"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550995797"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550995797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 151,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996084",
    "pull_request_review_id": 560688580,
    "id": 550996084,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NjA4NA==",
    "diff_hunk": "@@ -113,18 +124,34 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n                         return scriptid;\n                     }\n                 }\n+\n+                error_str = \"Invalid Bech32 v0 address data size\";\n                 return CNoDestination();\n             }\n-            if (version > 16 || data.size() < 2 || data.size() > 40) {\n+\n+            if (version > 16) {\n+                error_str = \"Invalid Bech32 address version\";\n+                return CNoDestination();\n+            }\n+\n+            if (data.size() < 2 || data.size() > 40) {\n+                error_str = \"Invalid Bech32 address data size\";\n                 return CNoDestination();\n             }\n+\n+",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 55,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, remove extra line break here",
    "created_at": "2021-01-03T11:56:43Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996084",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996084"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996084"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 142,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996187",
    "pull_request_review_id": 560688580,
    "id": 550996187,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NjE4Nw==",
    "diff_hunk": "@@ -212,14 +239,23 @@ std::string EncodeDestination(const CTxDestination& dest)\n     return boost::apply_visitor(DestinationEncoder(Params()), dest);\n }\n \n+CTxDestination DecodeDestination(const std::string& str, std::string& error_msg)\n+{\n+    return DecodeDestination(str, Params(), error_msg);\n+}\n+\n+\n CTxDestination DecodeDestination(const std::string& str)\n {\n-    return DecodeDestination(str, Params());\n+    std::string error_msg;\n+    return DecodeDestination(str, error_msg);\n }\n \n+",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 88,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, remove extra line break here",
    "created_at": "2021-01-03T11:57:31Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996187",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996187"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996187"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996187/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 254,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996190",
    "pull_request_review_id": 560688580,
    "id": 550996190,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDk5NjE5MA==",
    "diff_hunk": "@@ -212,14 +239,23 @@ std::string EncodeDestination(const CTxDestination& dest)\n     return boost::apply_visitor(DestinationEncoder(Params()), dest);\n }\n \n+CTxDestination DecodeDestination(const std::string& str, std::string& error_msg)\n+{\n+    return DecodeDestination(str, Params(), error_msg);\n+}\n+\n+",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 80,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "a913ee945c9c223f1c879a0b24cabd6506d647c7",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, remove extra line break here",
    "created_at": "2021-01-03T11:57:36Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996190",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996190"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r550996190"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/550996190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 247,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551071195",
    "pull_request_review_id": 560735419,
    "id": 551071195,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA3MTE5NQ==",
    "diff_hunk": "@@ -69,7 +70,11 @@ static RPCHelpMan validateaddress()\n \n         UniValue detail = DescribeAddress(dest);\n         ret.pushKVs(detail);\n+    } else {\n+        CHECK_NONFATAL(!error_msg.empty());",
    "path": "src/rpc/misc.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, might be better like this, just realized I'm doing the same [here](https://github.com/bitcoin/bitcoin/pull/20391/files#diff-63c7710d72381cffe692175dd70e47f1891bf75c3e09249ed826f9df3917d02dR2415)\r\n```diff\r\n@@ -57,7 +57,8 @@ static RPCHelpMan validateaddress()\r\n {\r\n     std::string error_msg;\r\n     CTxDestination dest = DecodeDestination(request.params[0].get_str(), error_msg);\r\n-    bool isValid = IsValidDestination(dest);\r\n+    const bool isValid = IsValidDestination(dest);\r\n+    CHECK_NONFATAL(isValid == error_msg.empty());\r\n \r\n     UniValue ret(UniValue::VOBJ);\r\n     ret.pushKV(\"isvalid\", isValid);\r\n@@ -71,7 +72,6 @@ static RPCHelpMan validateaddress()\r\n         UniValue detail = DescribeAddress(dest);\r\n         ret.pushKVs(detail);\r\n     } else {\r\n-        CHECK_NONFATAL(!error_msg.empty());\r\n         ret.pushKV(\"error\", error_msg);\r\n     }\r\n```\r\n",
    "created_at": "2021-01-03T23:54:08Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551071195",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551071195"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551071195"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551071195/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551135810",
    "pull_request_review_id": 560800584,
    "id": 551135810,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTEzNTgxMA==",
    "diff_hunk": "@@ -0,0 +1,79 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test error messages for 'getaddressinfo' and 'validateaddress' RPC commands.\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+from test_framework.util import (\n+    assert_equal,\n+    assert_raises_rpc_error,\n+)\n+\n+bech32_valid = 'bcrt1qtmp74ayg7p24uslctssvjm06q5phz4yrxucgnv'",
    "path": "test/functional/rpc_invalid_address_message.py",
    "position": null,
    "original_position": 14,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "micro-nit: constants can be in ALL_CAPS",
    "created_at": "2021-01-04T06:25:27Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551135810",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551135810"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551135810"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551135810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 14,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551137458",
    "pull_request_review_id": 560800584,
    "id": 551137458,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTEzNzQ1OA==",
    "diff_hunk": "@@ -113,18 +125,32 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n                         return scriptid;\n                     }\n                 }\n+\n+                error_str = \"Invalid Bech32 v0 address data size\";\n                 return CNoDestination();\n             }\n-            if (version > 16 || data.size() < 2 || data.size() > 40) {\n+\n+            if (version > 16) {\n+                error_str = \"Invalid Bech32 address version\";",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 47,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "instagibbs",
      "id": 5767891,
      "node_id": "MDQ6VXNlcjU3Njc4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5767891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/instagibbs",
      "html_url": "https://github.com/instagibbs",
      "followers_url": "https://api.github.com/users/instagibbs/followers",
      "following_url": "https://api.github.com/users/instagibbs/following{/other_user}",
      "gists_url": "https://api.github.com/users/instagibbs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/instagibbs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/instagibbs/subscriptions",
      "organizations_url": "https://api.github.com/users/instagibbs/orgs",
      "repos_url": "https://api.github.com/users/instagibbs/repos",
      "events_url": "https://api.github.com/users/instagibbs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/instagibbs/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "suggested: \"Invalid Bech32 address witness version\" to clarify what thing's version is wrong",
    "created_at": "2021-01-04T06:32:19Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551137458",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551137458"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551137458"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551137458/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 134,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551166839",
    "pull_request_review_id": 560838789,
    "id": 551166839,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTE2NjgzOQ==",
    "diff_hunk": "@@ -113,18 +125,32 @@ CTxDestination DecodeDestination(const std::string& str, const CChainParams& par\n                         return scriptid;\n                     }\n                 }\n+\n+                error_str = \"Invalid Bech32 v0 address data size\";\n                 return CNoDestination();\n             }\n-            if (version > 16 || data.size() < 2 || data.size() > 40) {\n+\n+            if (version > 16) {\n+                error_str = \"Invalid Bech32 address version\";\n                 return CNoDestination();\n             }\n+\n+            if (data.size() < 2 || data.size() > 40) {",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 51,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "maybe use a constant (maybe `WITHNESS_PROG_MAX_LEN`) instead of a magic `40`",
    "created_at": "2021-01-04T08:11:32Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551166839",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551166839"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551166839"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551166839/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 138,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551167890",
    "pull_request_review_id": 560838789,
    "id": 551167890,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTE2Nzg5MA==",
    "diff_hunk": "@@ -3823,13 +3823,17 @@ RPCHelpMan getaddressinfo()\n \n     LOCK(pwallet->cs_wallet);\n \n-    UniValue ret(UniValue::VOBJ);\n-    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    std::string error_msg;\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str(), error_msg);\n+\n     // Make sure the destination is valid\n     if (!IsValidDestination(dest)) {\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid address\");\n+        if (error_msg.empty()) error_msg = \"Invalid address\";",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 13,
    "original_position": 12,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe a comment why this can happen and why it's not caught in `DecodeDestination()`?",
    "created_at": "2021-01-04T08:14:15Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551167890",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551167890"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551167890"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551167890/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3829,
    "original_line": 3829,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551279039",
    "pull_request_review_id": 560981361,
    "id": 551279039,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI3OTAzOQ==",
    "diff_hunk": "@@ -3823,13 +3823,17 @@ RPCHelpMan getaddressinfo()\n \n     LOCK(pwallet->cs_wallet);\n \n-    UniValue ret(UniValue::VOBJ);\n-    CTxDestination dest = DecodeDestination(request.params[0].get_str());\n+    std::string error_msg;\n+    CTxDestination dest = DecodeDestination(request.params[0].get_str(), error_msg);\n+\n     // Make sure the destination is valid\n     if (!IsValidDestination(dest)) {\n-        throw JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, \"Invalid address\");\n+        if (error_msg.empty()) error_msg = \"Invalid address\";",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 13,
    "original_position": 12,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f1c7aea502494055fd87b9335e786f151564a49c",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I added an additional check in case someone changes the DecodeDestination method in the future and forgets to set the error_msg. I've added a comment explaining this.",
    "created_at": "2021-01-04T12:07:43Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551279039",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551279039"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551279039"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551279039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 3829,
    "original_line": 3829,
    "side": "RIGHT",
    "in_reply_to_id": 551167890
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551393015",
    "pull_request_review_id": 561128104,
    "id": 551393015,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTM5MzAxNQ==",
    "diff_hunk": "@@ -13,6 +13,8 @@\n \n #include <string>\n \n+const std::size_t WITNESS_PROG_MAX_LEN = 40;",
    "path": "src/key_io.h",
    "position": null,
    "original_position": 4,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "11de868a3d3e393e1fde4e5f45232ad5b8c94324",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit if you retouch (and maybe move to key_io.cpp if we only expect to use it there, I'm not sure what is preferred)\r\n```suggestion\r\nstatic constexpr std::size_t WITNESS_PROG_MAX_LEN = 40;\r\n```",
    "created_at": "2021-01-04T15:41:10Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551393015",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551393015"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551393015"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551393015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551430378",
    "pull_request_review_id": 561171765,
    "id": 551430378,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTQzMDM3OA==",
    "diff_hunk": "@@ -13,6 +13,8 @@\n \n #include <string>\n \n+const std::size_t WITNESS_PROG_MAX_LEN = 40;",
    "path": "src/key_io.h",
    "position": null,
    "original_position": 4,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "11de868a3d3e393e1fde4e5f45232ad5b8c94324",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good point, I moved it inside key_io.cpp",
    "created_at": "2021-01-04T16:39:31Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551430378",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551430378"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r551430378"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/551430378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 16,
    "side": "RIGHT",
    "in_reply_to_id": 551393015
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552801051",
    "pull_request_review_id": 562872560,
    "id": 552801051,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjgwMTA1MQ==",
    "diff_hunk": "@@ -15,6 +15,9 @@\n #include <string.h>\n #include <algorithm>\n \n+/// Maximum witness length for Bech32 addresses.\n+static constexpr std::size_t WITNESS_PROG_MAX_LEN = 40;",
    "path": "src/key_io.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f58a4ed145f79ea3c62c3929647db6a4ee193a8c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe this should have BECH32 in the var name?",
    "created_at": "2021-01-06T16:51:07Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r552801051",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552801051"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r552801051"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552801051/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 19,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552808619",
    "pull_request_review_id": 562872560,
    "id": 552808619,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjgwODYxOQ==",
    "diff_hunk": "@@ -39,13 +39,14 @@ static RPCHelpMan validateaddress()\n                 RPCResult{\n                     RPCResult::Type::OBJ, \"\", \"\",\n                     {\n-                        {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not. If not, this is the only property returned.\"},\n+                        {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not\"},",
    "path": "src/rpc/misc.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f58a4ed145f79ea3c62c3929647db6a4ee193a8c",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe split up the two possible return cases like `getrawmempool` does?",
    "created_at": "2021-01-06T16:58:57Z",
    "updated_at": "2021-01-24T01:47:13Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r552808619",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552808619"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r552808619"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/552808619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 42,
    "original_line": 42,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563223821",
    "pull_request_review_id": 574889628,
    "id": 563223821,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MzIyMzgyMQ==",
    "diff_hunk": "@@ -39,13 +39,14 @@ static RPCHelpMan validateaddress()\n                 RPCResult{\n                     RPCResult::Type::OBJ, \"\", \"\",\n                     {\n-                        {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not. If not, this is the only property returned.\"},\n+                        {RPCResult::Type::BOOL, \"isvalid\", \"If the address is valid or not\"},",
    "path": "src/rpc/misc.cpp",
    "position": 5,
    "original_position": 5,
    "commit_id": "8f0b64fb513e8c6cdd1f115856100a4ef5afe23e",
    "original_commit_id": "f58a4ed145f79ea3c62c3929647db6a4ee193a8c",
    "user": {
      "login": "eilx2",
      "id": 25432429,
      "node_id": "MDQ6VXNlcjI1NDMyNDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25432429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eilx2",
      "html_url": "https://github.com/eilx2",
      "followers_url": "https://api.github.com/users/eilx2/followers",
      "following_url": "https://api.github.com/users/eilx2/following{/other_user}",
      "gists_url": "https://api.github.com/users/eilx2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eilx2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eilx2/subscriptions",
      "organizations_url": "https://api.github.com/users/eilx2/orgs",
      "repos_url": "https://api.github.com/users/eilx2/repos",
      "events_url": "https://api.github.com/users/eilx2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eilx2/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Good idea, I will try to do this in a future commit where I address the other places where you need to return an error message for invalid address as they probably all require a similar change",
    "created_at": "2021-01-24T01:51:52Z",
    "updated_at": "2021-01-24T01:51:52Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r563223821",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832",
    "author_association": "NONE",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563223821"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20832#discussion_r563223821"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20832"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/563223821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 42,
    "original_line": 42,
    "side": "RIGHT",
    "in_reply_to_id": 552808619
  }
]