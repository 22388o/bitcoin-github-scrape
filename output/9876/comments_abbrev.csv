jnewbery,2017-02-27T14:26:49Z,I've run the extended tests locally and they all pass.,https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-282734815,282734815,
laanwj,2017-02-28T10:55:59Z,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283008581,283008581,
sdaftuar,2017-02-28T14:43:44Z,"I appreciate the desire for using best coding practices in the qa tree, and I certainly would like to improve my own test-writing habits. But I think we should be mindful of the tradeoffs of applying best practices for software that changes infrequently when applied to software that is written iteratively.\n\nI tend to think of the `test_framework/` directory as the former category; the test fra",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283057363,283057363,
jnewbery,2017-02-28T16:26:03Z,"Thanks for taking the time to look at this @laanwj and @sdaftuar \n\n> So I'd propose the following compromise: split the message types and script op codes out into their own files\n\nI'm currently working on a PR to move the message classes, bitcoin datastructure classes and serialization/deserialization functions into their own `primitives.py` module. I'll leave script op codes in `scripts.p",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283088632,283088632,
JeremyRubin,2017-02-28T21:27:56Z,"I think I'd be in favor of making every import individually qualified (not sure right term). EG:\n\n```python\n# Current master\nimport * from math\n\n# jnewbery current proposal\nfrom math import (sin,\n                  cos,\n                  pow)\n\n# my proposal\nfrom math import sin\nfrom math import cos\nfrom math import pow\n```\n\nEven though this has extra `from math imp",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283165452,283165452,
jnewbery,2017-02-28T21:41:27Z,"@JeremyRubin nice idea. I've never seen that style before, but I think I like it! I was a little concerned about  whether python would execute the imported module multiple times, but I've done a quick test and it seems that it's smart enough to not do that.\n\n(Yet) another option that might satisfy @sdaftuar is to explicitly index what names should be exportable from the test_framework package ",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283168637,283168637,
MarcoFalke,2017-02-28T23:46:47Z,"I like the suggestion by @jnewbery with using named imports as well as the `__all__` syntax. Imo it is most appropriate to use the approach that makes most sense for each module.\n\nE.g:\n* Some util functions such as `stop_node(# ,# )` should never be imported, but accessed through the framework instance. I.e. `self.stop_node(i)`.\n* Node specific methods and variables can be imported by ""imp",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283198485,283198485,
jnewbery,2017-03-01T04:19:41Z,"@MarcoFalke - agree with everything you say, and it's what we should be aiming for. I think we should do the following:\n\n- take this PR, which removes wildcards entirely\n- I already have a branch ready which moves the primitives from mininode into their own module. I'll update that branch to include module-level __all__ variables for primitives.py and script.py and make a PR for that. We can",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283240740,283240740,
laanwj,2017-03-01T09:06:23Z,"@sdaftuar Point taken. With software it is incredibly easy to spend countless hours on ancillary things that don't directly contribute to the goal in mind, sometimes to optimize arbitrary theoretical concerns. You write a lot of tests, so if you think this makes making new and better tests more work in practice, we should listen to that and take a different approach.",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-283284097,283284097,
jtimon,2017-03-07T17:29:32Z,"Concept ACK\n> On a related note, if we are going to start instituting style guidelines for the qa tree, we should write up what those are.\n\nCompletely agree.\nNeeds rebase.",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284795505,284795505,
jnewbery,2017-03-07T18:58:34Z,"Thanks @jtimon \n\n@MarcoFalke is it worth me rebasing this? I think it's the right direction to move in, but it seems like this PR might be a bit too much for people to take in one bite.",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284820967,284820967,
MarcoFalke,2017-03-07T19:26:39Z,"The discussion above was indeed helpful to get a feeling about the\ndirection we want to take. However, I don't think the pull in its current\nform is a net gain. As basically every import statement is changed, there\nwill be numerous merge conflicts; And removing the wildcards as done\ncurrently is not helpful, considering that it makes writing tests harder.\n\nSo I'd rather defer this for now.\n",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284829758,284829758,
jnewbery,2017-03-07T19:31:19Z,"ok, I'll break this down into smaller chunks, and hopefully nudge the test_framework directory in the right direction.",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284832242,284832242,
laanwj,2017-03-08T06:32:51Z,"Hope to see ""increases test coverage by XX%"" for the next test-related pull instead :)",https://github.com/bitcoin/bitcoin/pull/9876#issuecomment-284959654,284959654,
ryanofsky,2017-02-27T18:04:00Z,"This is fine, but the import list is super long. Did you use a tool to generate this? Wondering if it would be difficult to just replace all this with `from test_framework import mininode` and then add `mininode.` qualifiers where needed.\n\nAlternately, maybe different formatting would be preferable. I've been using [yapf](https://github.com/google/yapf) for new code I write, which gives\n\n`",https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103271383,103271383,qa/rpc-tests/p2p-segwit.py
laanwj,2017-02-28T10:55:45Z,"One item per line is nice for diff-ing, though. Collapsing them can look somewhat nicer, however imagine having to insert an item in the middle and re-layouting. This will change *all* the lines, causing collisions with other patches.\n\nFor this reason we also use one-filename-per-line in makefiles, even though it results in long files.",https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103427772,103427772,qa/rpc-tests/p2p-segwit.py
jnewbery,2017-02-28T16:14:21Z,"I prefer the way @ryanofsky's formatting looks, but I kept the imports as one-item-per-line for the reason @laanwj gives.",https://github.com/bitcoin/bitcoin/pull/9876#discussion_r103490979,103490979,qa/rpc-tests/p2p-segwit.py
