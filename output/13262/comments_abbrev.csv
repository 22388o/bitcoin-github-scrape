jonasschnelli,2018-05-17T16:42:43Z,"* Fixed points found by @promag, ran clang-format\n* Added an example python script that shows the push channel capabilities",https://github.com/bitcoin/bitcoin/pull/13262#issuecomment-389932215,389932215,
promag,2018-05-17T16:53:59Z,You could note that this is not the same as `-walletnotify` because that also notifies when a wallet transaction *state* changes between mempool <-> block.,https://github.com/bitcoin/bitcoin/pull/13262#issuecomment-389935686,389935686,
jonasschnelli,2018-05-17T17:00:12Z,"> You could note that this is not the same as -walletnotify because that also notifies when a wallet transaction state changes between mempool <-> block.\n\nGood point.\nConceptually, I think that confirmation change should be detected with another push function (non wallet general ""tip has changes"" like function).",https://github.com/bitcoin/bitcoin/pull/13262#issuecomment-389937649,389937649,
DrahtBot,2018-07-20T22:39:05Z,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/13262#issuecomment-406743933,406743933,
DrahtBot,2018-10-28T13:41:07Z,"<!--5fd3d806e98f4a0ca80977bb178665a0-->There hasn't been much activity lately and the patch still needs rebase, so I am closing this for now. Please let me know when you want to continue working on this, so the pull request can be re-opened.",https://github.com/bitcoin/bitcoin/pull/13262#issuecomment-433706260,433706260,
promag,2018-05-17T13:08:05Z,"nit, space after `if`.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188950020,188950020,src/wallet/wallet.cpp
promag,2018-05-17T13:09:40Z,Can this be `nullptr`? Could `assert(pwtx)` instead?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188950501,188950501,src/wallet/wallet.cpp
promag,2018-05-17T13:18:29Z,"Could keep `wtxOrdered` back iterator instead:\n```\nTxItems::const_iterator m_latest_wtx = wtxOrdered.rbegin();\n```\nThen above could be:\n```cpp\nif (m_latest_wtxid != wtxOrdered.rbegin()) {\n    ...\n}\n",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188953202,188953202,src/wallet/wallet.h
promag,2018-05-17T13:19:39Z,"```cpp\n... = wtxOrdered.rbegin()->second.first;\n```",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188953584,188953584,src/wallet/wallet.cpp
promag,2018-05-17T13:20:23Z,Missing notify on `m_cond_txadd`?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188953826,188953826,src/wallet/wallet.cpp
promag,2018-05-17T13:22:14Z,"`txid` is required, should be out of `( )`.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188954400,188954400,src/wallet/rpcwallet.cpp
promag,2018-05-17T13:24:01Z,"Should be\n```cpp\nthrow JSONRPCError(RPC_INVALID_ADDRESS_OR_KEY, ""Invalid or non-wallet transaction id"");\n```\nwhich is the error used in other calls.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188954971,188954971,src/wallet/rpcwallet.cpp
promag,2018-05-17T13:24:20Z,nit move up,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188955071,188955071,src/wallet/rpcwallet.cpp
promag,2018-05-17T13:24:46Z,arg name should be `poll`?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188955222,188955222,src/wallet/rpcwallet.cpp
promag,2018-05-17T13:25:16Z,Remove this invalid usage?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r188955379,188955379,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T16:00:39Z,I prefer to keep a non references object in this case.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189013358,189013358,src/wallet/wallet.h
Empact,2018-05-17T16:27:09Z,clang-format would fix a few other minor things as well,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189021638,189021638,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T16:41:55Z,Fixed the above; polltime is correct,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189025909,189025909,src/wallet/rpcwallet.cpp
promag,2018-05-17T16:44:13Z,polltime.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189026632,189026632,src/wallet/rpcwallet.cpp
promag,2018-05-17T16:44:20Z,polltime.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189026676,189026676,src/rpc/client.cpp
promag,2018-05-17T16:44:43Z,"nit, add newline.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189026777,189026777,contrib/push/example_walletnotify.py
promag,2018-05-17T17:18:18Z,"Nit, space `example code`.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189036300,189036300,contrib/push/example_walletnotify.py
promag,2018-05-17T17:19:00Z,Fix usage.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189036505,189036505,contrib/push/example_walletnotify.py
promag,2018-05-17T17:19:37Z,"nit, sort these.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189036712,189036712,contrib/push/example_walletnotify.py
promag,2018-05-17T17:21:30Z,greater than zero,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189037220,189037220,src/wallet/rpcwallet.cpp
promag,2018-05-17T17:23:36Z,Why lock `cs_main`?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189037786,189037786,src/wallet/rpcwallet.cpp
promag,2018-05-17T17:24:02Z,Could have a `limit` argument? Otherwise it would dump the whole wallet?,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189037901,189037901,src/wallet/rpcwallet.cpp
promag,2018-05-17T17:27:58Z,"Should not use `request.params[1].isNum()` otherwise the caller can pass a string (for example) and it won't raise an error. I suggest to change to:\n```cpp\nif (transactions.empty() && !request.params[1].isNull() && request.params[1].get_int() > 0)\n```",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189039047,189039047,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T18:29:34Z,I don't understand that comment.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189057923,189057923,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T18:30:14Z,"I thought of it,... but would like to keep it simple for a first implementation (limit could follow next)",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189058118,189058118,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T18:32:10Z,"IMO `cs_main` should always be locked before cs_wallet, especially with the usage of `ListTransactions()` and its subclass.",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189058704,189058704,src/wallet/rpcwallet.cpp
promag,2018-05-17T18:38:27Z,"s/then/than: `If greater than zero, wait with ...`",https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189060699,189060699,src/wallet/rpcwallet.cpp
jonasschnelli,2018-05-17T18:43:21Z,Fixed.,https://github.com/bitcoin/bitcoin/pull/13262#discussion_r189062164,189062164,contrib/push/example_walletnotify.py
