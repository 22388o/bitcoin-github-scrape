sipa,2015-03-01T10:49:48Z,"Please use the number of blocks on top of a block, rather than the height difference with the best known tip. This shouldn't be hard, as ActivateBestChain knows what tip we're working towards, so it could be passed down.\n\nAlso, I think you need a check to have a reasonable guess that pindexBestHeader is reasonably accurate/recent/valid, so you can't be cheated into skipping validation while bein",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-76591709,76591709,
sipa,2015-03-01T10:52:51Z,"I think in general we can't get rid of checkpoints at this point. But we can reduce them to a performance/security tradeoff, without being a lock-in to a particular chain.\n",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-76591814,76591814,
gmaxwell,2015-03-03T09:56:18Z,@maaku's concern is trivially addressed by making it a one way latch.  E.g. so reorgs are still checked.\n,https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-76916873,76916873,
instagibbs,2015-03-09T02:46:07Z,"I was combing through the code recently with this in mind. \n\nMy idea was to disable checkpoints for accepting blocks once you are done totally catching up with the main chain(IsInitialBlockDownload() ?). You get the security benefits of the checkpoints during spinup, but removes the ""but Bitcoin uses checkpoints!"" idiocy in practice.\n\nWould anyone be interested in this?\n",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-77792708,77792708,
gmaxwell,2015-03-09T02:48:51Z,"@instagibbs with headers first we do not need them during initial sync the benefit there can just be replaced by a work threshold before showing confirmations, or the like.\n",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-77792855,77792855,
instagibbs,2015-03-09T03:01:28Z,@gmaxwell Just looking for small discrete steps that can be taken that answer 90% of the misconception without too much logic/code change. \n,https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-77793631,77793631,
laanwj,2015-03-18T09:19:48Z,"Agree with @sipa. Going to close this for now. Brainstorming can continue, but we can rule out 'cut out checkpoints completely' for the forseeable future.\n",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-82842522,82842522,
maaku,2015-03-18T15:53:38Z,"What did sipa say? It's not in the pull request. I would be for the patch\nif disabled script was constrained to initial block download only.\nOn Mar 18, 2015 2:20 AM, ""Wladimir J. van der Laan"" <\nnotifications@github.com> wrote:\n\n> Agree with @sipa https://github.com/sipa. Going to close this for now.\n> Brainstorming can continue, but we can rule out 'cut out checkpoints\n> completely' for th",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83031425,83031425,
sipa,2015-03-18T16:05:27Z,"@maaku I never really commented on the whole, but I'm with @laanwj: we need intermediate steps first.\n",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83036002,83036002,
instagibbs,2015-03-18T16:36:03Z,Can we get broad agreement about what specific attacks/issues checkpoints solve today in a post-headers first era? As a relative outsider to the codebase I'd make a pull request attempt but don't want to waste my time with inadequate fixes.\n,https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83049565,83049565,
laanwj,2015-03-18T16:53:20Z,"@maaku @sipa I was referring to this:\n\n> I'm generally in favor of reducing the relevance of checkpoints, but I think this patch is a way too large step at once. \n\nThe way forward would be to split this up up, to remove or replace the individual uses of checkpoints one by one, so the advantages and disadvantages can be discussed on a case by case basis. Just ripping it out completely is an int",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83055750,83055750,
pstratem,2015-03-18T17:22:51Z,"Currently checkpoints do two things:\n\nPrincipally they allow for skipping script checks for blocks which are\ncovered by the checkpoint.\n\nThey also prevent a re-org that would change a checkpoint.\n\nThe re-org locking behavior is really a consequence of the first; it is\nnot a useful attack mitigation.\n\nOn 03/18/2015 09:36 AM, instagibbs wrote:\n\n> Can we get broad agreement about what spe",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83066884,83066884,
gmaxwell,2015-03-18T18:29:05Z,"Forcing the consensus with centrally administrated data is not acceptable in my view. It's set far enough back that it has no effect on the network consensus, in practice, but it causes a lot of confusion.\n\nI think it's fundamentally dishonest: we intentionally do it in a way that doesn't influence consensus in practice, but let people who want it to matter because they can't wrap their head aro",https://github.com/bitcoin/bitcoin/pull/5842#issuecomment-83111972,83111972,
