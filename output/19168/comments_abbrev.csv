MarcoFalke,2020-06-04 18:39:18,The first commit can also be a scripted diff with the sed `d` action?,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639040349,639040349,
MarcoFalke,2020-06-04 18:40:07,ACK 6e1a6ad68a9ebf3bc114cc40c96c5075937a93d4,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639041112,639041112,
fjahr,2020-06-04 18:59:33,"> The first commit can also be a scripted diff with the sed `d` action?\n\nYepp, done.",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639055503,639055503,
MarcoFalke,2020-06-04 19:31:38,"@jonatack If you need the blocks in the chain, then loading them from the cache is efficient. If you don't need them, then you may skip the cache, but it wouldn't hurt if you forget to skip the cache.\n\nSetting the default the other way round would risk that tests that need blocks generate them instead of loading them from the cache.",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639070665,639070665,
jonatack,2020-06-04 19:50:38,"Thanks @MarcoFalke, so IIUC the default is for safety. @fjahr from my personal perspective, adding helpful discussion in the docs about the tradeoffs and reasons would be very helpful (I'm less enthusiastic about the current renaming proposal, esp. if it is loading a cached chain rather than doing setup).",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639079589,639079589,
MarcoFalke,2020-06-04 20:05:06,"I like the rename, but naming is always subjective to some extent",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639087111,639087111,
jonatack,2020-06-04 20:54:05,"Maybe I'm thoroughly confused, but isn't the new name inaccurate? :) ISTM it ought to be strictly better to justify a change. For the docs, there is also this recent conversation https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429623460 about when to use this. It's very late here but will revisit this at a better hour and try to come up with a clear addition to the docs that everyone agr",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639110802,639110802,
fjahr,2020-06-04 21:12:28,"> Maybe I'm thoroughly confused, but isn't the new name inaccurate? :) ISTM it ought to be strictly better to justify a change. For the docs, there is also this recent conversation [#18638 (comment)](https://github.com/bitcoin/bitcoin/pull/18638#discussion_r429623460) about when to use this. It's very late here but will revisit this at a better hour and try to come up with a clear addition to the ",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639119037,639119037,
fjahr,2020-06-04 22:19:03,Added some more small adjustments to the docs based on feedback from @jonatack to make sure users understand performance implications.,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639148045,639148045,
DrahtBot,2020-06-04 22:36:26,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #20954 (test: Declare `nodes` type in test_framework.py. by kiminuo)\n* #19013 (test: add v0.20.1 to backwards compatibili",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-639153558,639153558,
fjahr,2020-06-08 11:51:16,"> * Semi-subjective: The new name is more confusing. ""Set to true to not do something"" is not an improvement in clarity.\n\nI don't understand this argument. The naming itself is misleading. So you would like it to be clearly misleading rather than not so clearly non-misleading? Anyway, I think @MarcoFalke 's suggested renaming would solve this. \n\n> * Objective: The change has consequences t",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-640555552,640555552,
MarcoFalke,2020-06-08 11:59:42,"btw, `git blame` on recent versions of git can ignore specific commits (like refactoring scripted diffs)",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-640559196,640559196,
jonatack,2020-06-08 12:18:11,"> > * Objective: The change has consequences that are strictly worse. Changing all these files is noise and churn, messing with git history and erasing all usability of git blame for these settings across the functional test suite. These aren't copyright headers but test settings that are important enough that the convention has been to include them explicitly in almost every file. The only wise r",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-640567575,640567575,
jonatack,2020-06-08 12:21:10,I suggest improving the documentation that can be pointed to in the future regarding the use of this setting.,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-640568886,640568886,
fjahr,2020-06-30 15:35:44,rebased,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-651872735,651872735,
fjahr,2020-06-30 15:36:32,"> I suggest improving the documentation that can be pointed to in the future regarding the use of this setting.\n\nDoesn't 5d94c2ebf70a3bc4634ff97da18a19040fd95cbb do that?",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-651873219,651873219,
fjahr,2020-07-29 13:40:16,Giving this one last effort with the rename to `use_chached_chain` as suggested by @MarcoFalke . Rebased on master to fix silent merge conflicts.,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-665670892,665670892,
fjahr,2020-08-16 21:41:35,Rebased. @jonatack could you check if the latest changes make you reconsider your NACK? Incorrect use of the `setup_clean_chain` config still happens regularly (and slips though reviews) as in this commit that was just recently merged: https://github.com/bitcoin/bitcoin/commit/3bd67ba5a4ef3c20ef1f873b63c9f53a6c8608b6 (and it had a lot of experienced reviewers). ,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-674581570,674581570,
jonatack,2020-08-19 15:41:18,"Sure, sorry about that. Re-reviewing soon.",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-676503620,676503620,
fjahr,2020-08-20 23:56:42,"> I have a question about why `use_cached_chain` is the default instead of the other way around? It seems appropriate to me that, when we‚Äôre trying to test bitcoind behavior, starting with an existing chain and wallets funded represents a typical situation. However, it seems like starting from scratch is more common than using the cached chain in functional tests? I think using the cached chain is",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-677962984,677962984,
fjahr,2020-08-21 17:20:55,"Thanks for the review @jonatack !\n\n> * merging the two manual doc edit commits into one after the scripted diffs\n\ndone\n\n> * possibly automating the misspelled manual renaming by adding it to the scripted diff\n\nSee my answer on your inline comment\n\n> * possibly dropping the commit that removes the default setting from tests, the rationale being that it is helpful and saves time ",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-678400599,678400599,
jonatack,2020-08-23 11:27:10,"Doc improvement commit 55e5bc178cf9e562a36d204c79a01a0d7db1a066: ACK\n\nRenaming commit e081377f85ca2fd39376f5a6d1d7969a0e23d028: Light ACK\n\nI like having the explicit setting in each test setup (and not needing to re-verify the default setting when I don't remember what it is), so I'm not highly supportive of 82e61646b49aec364c990c1f8e08472e181c9d99 but ok if others feel strongly in favor.",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-678762340,678762340,
fjahr,2020-09-01 12:50:05,"Had to do another rebase, no code changes `git range-diff e9b30126545d6ddd8772363e4079d1e4908ad117..55e5bc178cf9e562a36d204c79a01a0d7db1a066 bab4cce1b0eedc1a51692aaf83ba54dd0a9d17e6..708bfc31388cdb7fcf8b3348f012e6753116bfbc`. Would you mind taking another look @MarcoFalke @gzhao408 ?",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-684828446,684828446,
fjahr,2020-10-02 21:15:05,"Ain't no party like a rebase party, 'cause a rebase party don't stop...",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-702961183,702961183,
fjahr,2020-10-16 21:53:26,Rebased,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-710670325,710670325,
fjahr,2020-11-29 22:49:25,herwaardeer (rebased in Afrikaans),https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-735470332,735470332,
DrahtBot,2021-01-31 10:06:39,"<!--cf906140f33d8803c4a75a2196329ecb-->\nüêô This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a ""draft"".</sub>",https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-770357542,770357542,
fjahr,2021-01-31 20:55:43,Closing this since the renaming seems to be too controversial/is not interesting enough to most reviewers. I opened a new PR without the renaming and some improved doc cleanups in #21042.,https://github.com/bitcoin/bitcoin/pull/19168#issuecomment-770449335,770449335,
jonatack,2020-06-04 19:12:45,"The test pre-mines, or it loads the cached data directories?",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r435491290,435491290,test/functional/example_test.py
fjahr,2020-06-04 21:51:36,"Yeah, it loads a pre-mined chain. Given that mostly absolute beginners are going to look at this I was trying to make it easier to understand but in this case was giving the wrong impression. Updated.",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r435573295,435573295,test/functional/example_test.py
MarcoFalke,2020-06-05 11:30:48,"```suggestion\n        self.use_cached_chain = False\n```\n\nThe double negative is a good point. What about this name?",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r435860769,435860769,test/functional/example_test.py
fjahr,2020-06-08 11:52:12,"Sounds good to me, happy to change it to that if other reviewers prefer it. :)",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r436637912,436637912,test/functional/example_test.py
MarcoFalke,2020-06-08 11:57:28,"> Sounds good to me, happy to change it to that if other reviewers prefer it. :)\n\n\nIt would make me feel less guilty of picking the ""clean chain"" name in fac93497986b5f74716383bf26c78406253c625a, so I hope that other reviewers take that into consideration :sweat_smile: ",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r436640239,436640239,test/functional/example_test.py
glozow,2020-08-20 23:40:50,"Noob confession: when I first started tinkering with example_test.py, I struggled a lot because I didn‚Äôt quite understand what a ‚Äúclean chain‚Äù meant and wasn't aware that coinbases needed to mature (I was trying to create transactions with `sendtoaddress` and getting ""insufficient funds""). Maybe comments/docs here or elsewhere could help?",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474329268,474329268,test/functional/example_test.py
fjahr,2020-08-21 00:12:00,"Hm, I get your point but I think explaining coinbase maturity, a very basic part of the protocol, here in the example test or in the functional test README, feels out of place to me. ",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474338008,474338008,test/functional/example_test.py
jonatack,2020-08-21 09:12:12,"s/chached/cached/ throughout commit ee74d239, error which could be avoided by including the renaming in this commit in the previous commit's scripted diff?\n\nCould mention the default is True in the doc here.",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474559825,474559825,test/functional/README.md
jonatack,2020-08-21 09:15:30,Why 199 here when 200 is stated in the other docs?,https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474562651,474562651,test/functional/test-shell.md
fjahr,2020-08-21 16:31:18,Probably because one counted the genesis block and the other didn't. I think I will change it to 200 because that's the actual height and that seems more intuitive to me.,https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474803822,474803822,test/functional/test-shell.md
fjahr,2020-08-21 17:09:58,"Thanks. I fixed the misspelling. I couldn't fully automatically do the renamings through a scripted diff because of the boolean flip (or at least it would have been a lot more work). And I thought it is easier to review if I would leave all the doc changes together in one commit, rather than doing part of it through the scripted diff and another part in a manual commit. Now together with the squas",https://github.com/bitcoin/bitcoin/pull/19168#discussion_r474822529,474822529,test/functional/README.md
