promag,2019-04-04T22:20:13Z,utACK bf58f83.,https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-480084421,480084421,
DrahtBot,2019-04-04T22:56:39Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#15639](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/15639.html) (bitcoin-wallet tool: Drop libbitcoin_server",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-480092343,480092343,
promag,2019-04-09T23:11:18Z,@leto care to elaborate on the down vote?,https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481473475,481473475,
laanwj,2019-04-10T10:51:11Z,"Might want to add a deprecation notice—as well as what to use for replacement—to the documentation of `getaddressinfo`, I expect this to be more often read than a code comment.",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481641368,481641368,
jnewbery,2019-04-10T14:22:49Z,"This was effectively deprecated here: https://github.com/bitcoin/bitcoin/commit/b98bfc5ed0da1efef1eff552a7e1a7ce9caf130f#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3587 and since that commit, the `addresses` field has only been shown when `-deprecatedrpc=validateaddress` was set.\n\nI believe this functionality should have been removed with #12490\n\nWould appreciate input from @leto if he thinks t",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481712089,481712089,
sipa,2019-04-10T14:28:37Z,"I will be very happy to see the addresses field disappear (it's a semi regular question on bitcoin.se asking how an output can have multiple addresses...).\n\nI don't have an opinion on deprecation schedule, so we can keep it around if there are uses for it, but it's been explained in the RPC help and deprecated for a major release already, right?",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481714475,481714475,
jnewbery,2019-04-10T14:37:15Z,"> I don't have an opinion on deprecation schedule, so we can keep it around if there are uses for it, but it's been explained in the RPC help and deprecated for a major release already, right?\n\nYes, deprecation warning was given here: https://github.com/bitcoin/bitcoin/commit/b98bfc5ed0da1efef1eff552a7e1a7ce9caf130f#diff-ad6efdc354b57bd1fa29fc3abb6e2872R45, which was included in V0.17.\n",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481717971,481717971,
MarcoFalke,2019-04-10T14:52:24Z,"Could update the release notes just to be safe? No strong opinion, though.",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481724211,481724211,
jnewbery,2019-04-10T15:20:38Z,"> Could update the release notes just to be safe? No strong opinion, though.\n\nIf there's going to be another v0.18 rc, we should include this PR and update https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.18.0-Release-Notes-Draft#deprecated-or-removed-rpcs. This functionality should have been removed at the same time as #12490.",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481735932,481735932,
leto,2019-04-10T15:21:28Z,"@promag I help maintain software that heavily uses the BTC RPC interface and from the perspective of a 3rd party developer integrating with Bitcoin Core and wanting to support the latest versions, it's frustrating that RPCs keep getting removed and changed. `validateaddress` is used extensively and so breaking the backcompat on `getaddressinfo` because it's ""confusing"" does not seem like a great r",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481736266,481736266,
jnewbery,2019-04-10T15:38:13Z,"@leto - thanks for your input. I understand your point about maintaining compatibility for clients, and it's definitely something that the contributors take into consideration. That needs to be weighed against other considerations like making the RPCs consistent and not confusing for users. The `addresses` field in this RPC return object was confusing. How can an address have multiple addresses?\",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-481743311,481743311,
jnewbery,2019-04-11T19:47:30Z,Rebased on master,https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-482279353,482279353,
jonatack,2019-04-14T12:51:50Z,"If helpful, [here is a functional test for this change](https://github.com/jonatack/bitcoin/commit/237c60c303d7620a9461e83a3331185acd33d148). Feel free to use/adapt/ignore.",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-482968822,482968822,
jnewbery,2019-04-15T14:20:51Z,"Thanks @jonatack . Writing tests is a very helpful way of contributing. In this PR, I don't think a test case is necessary. This PR removes any code that would create an `addresses` field in the return object, and I think adding test code for code that doesn't exist isn't necessary.\n\n(If this PR was putting code behind a deprecation flag, then it would definitely deserve a test case. See https",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-483271656,483271656,
jonatack,2019-04-15T15:33:35Z,"Thanks @jnewbery. I agree the test case does not need to be merged in. It was a sanity check to support my ACK and (maybe) help merge the PR, which I'm glad is in!",https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-483302277,483302277,
fanquake,2019-04-16T11:58:05Z,Backported in #15800.,https://github.com/bitcoin/bitcoin/pull/15750#issuecomment-483629382,483629382,
practicalswift,2019-04-10T09:43:37Z,`UniValue a(UniValue::VARR);` on L3423 is no longer use after this removal? Could be dropped :-),https://github.com/bitcoin/bitcoin/pull/15750#discussion_r273874412,273874412,src/wallet/rpcwallet.cpp
jnewbery,2019-04-10T15:21:37Z,done! Thanks,https://github.com/bitcoin/bitcoin/pull/15750#discussion_r274018568,274018568,src/wallet/rpcwallet.cpp
