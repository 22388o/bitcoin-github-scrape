sipa,2016-11-29T19:28:40Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263672541,263672541,
TheBlueMatt,2016-11-29T19:50:46Z,Concept ACK. Maybe we want to disable for 2 as well?,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263678954,263678954,
luke-jr,2016-11-30T10:37:21Z,"It seems what is exorbitant is a matter of opinion, and it might make sense to allow users to choose it. But I don't care strongly about this. Another possibility is to only have it in the GUI when coin control is enabled, but that may not be worth the effort.",https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263840098,263840098,
jonasschnelli,2016-11-30T10:39:32Z,"Tested ACK e878689e5539d8de30283d1461d6466eac65f894\nAlso tested with a persistent slider position on confirmation target 1.\n\n<img width=""1086"" alt=""bildschirmfoto 2016-11-30 um 11 30 35"" src=""https://cloud.githubusercontent.com/assets/178464/20748942/8a4ea86c-b6f0-11e6-8afe-75260aff75bc.png"">",https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263840698,263840698,
morcos,2016-11-30T13:50:07Z,"@luke-jr Yeah it was hard to explain concisely in the PR description.  It's not necessarily that the answer is a high fee rate, its that it seems to be the case that when it is a high fee rate, (e.g. 1000 sat/byte), that a much lower fee rate (say 100 sat/byte) is almost just as good an answer, maybe being included in a block 93% of the time instead of 95%.\n\nI think any dumb algorithm is alway",https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263877674,263877674,
gmaxwell,2016-11-30T15:23:13Z,"> It seems what is exorbitant is a matter of opinion,\n\nNot really, I've observed returning values that were 5x higher than the highest feerate transaction in the mempool in the brief window before and long after.  That is objectively too high.  A somewhat different approach is probably needed for estimatefee 1-- including ignoring transactions which arrived too soon before the block, clamping ",https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-263900726,263900726,
jtimon,2016-12-01T20:58:28Z,utACK e878689 besides nits.,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-264292860,264292860,
sdaftuar,2016-12-01T21:56:24Z,lightly tested ACK e878689e5539d8de30283d1461d6466eac65f894,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-264307912,264307912,
laanwj,2016-12-02T07:27:21Z,The GUI changes may be difficult to backport here because the fee slider behavior changed in master in the meantime.,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-264391128,264391128,
jonasschnelli,2016-12-02T07:28:46Z,What about backporting https://github.com/bitcoin/bitcoin/pull/8989 (this woulds simplify a backport of this PR),https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-264391332,264391332,
morcos,2016-12-02T13:07:41Z,"@jonasschnelli I think it is perfectly fine to backport without the GUI changes.  As mentioned to @jtimon, that was the intent.  Will create separate PR.\n\nEDIT: Oh it's already a separate commit.  You can just grab the first commit.\nEDIT2: made separate backport",https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-264450132,264450132,
MarcoFalke,2016-12-14T12:03:10Z,This was already backported in #9267,https://github.com/bitcoin/bitcoin/pull/9239#issuecomment-267017400,267017400,
jonasschnelli,2016-11-30T10:33:30Z,Don't we need to explicitly deal with the state where the `nSmartFeeSliderPosition` (persisted position) is set to `1`?,https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90206418,90206418,src/qt/sendcoinsdialog.cpp
jonasschnelli,2016-11-30T10:38:20Z,"Wait, I mean where `nSmartFeeSliderPosition` is `24` (=conf target 1).",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90207189,90207189,src/qt/sendcoinsdialog.cpp
morcos,2016-11-30T13:41:23Z,"I don't think so.  We already weren't bounds checking what was passed in as nTxConfirmTarget and it turns out that QT sliders make values fit between the min and max, so it just works...",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90233263,90233263,src/qt/sendcoinsdialog.cpp
jtimon,2016-12-01T20:52:09Z,"maybe an assert or an exception would be better here?\nEDIT: or return CFeeRate(0) like in CBlockPolicyEstimator::estimateFee",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90534728,90534728,src/policy/fees.cpp
jtimon,2016-12-01T20:56:58Z,"A constant would be nice\n```\n#define MIN_CONFIRM_TARGET 2\n```\n?",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90535576,90535576,src/qt/sendcoinsdialog.cpp
morcos,2016-12-02T00:33:32Z,"@jtimon I wanted to leave the external behavior essentially unchanged.  For estimatefee, it often returned -1, so making it always do that would not be unexpected.  It would be very unexpected for estimatesmartfee to not return a reasonable answer.  Note that because of this the GUI changes are actually optional, but I think provide for a more clear experience.\n",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90567713,90567713,src/policy/fees.cpp
morcos,2016-12-02T00:35:58Z,"I agree this is slightly non-ideal, but it's convoluted a bit by the fact that the sliderSmartFee value is not the actual confirmation target.  I'd rather not make an additional change here, but when we make a change to support estimates greater than 25, we'll have to figure out the right way to do it...",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90567955,90567955,src/qt/sendcoinsdialog.cpp
jtimon,2016-12-02T01:15:40Z,"I don't understand. \nWho is currently calling estimateSmartFee with confTarget = 1 ?\nAnd how is 0 less ""reasonable"" than the answer for another value?\nWhy do we want the GUI changes to be optimal?",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90571501,90571501,src/policy/fees.cpp
jtimon,2016-12-02T01:23:06Z,"Right, I agree it is convoluted. Everything would probably look clearer if the ""fast"" side of the bar was on the left or if we at least had a function that does the conversion ie \n```\nreturn ui->sliderSmartFee->maximum() - ui->sliderSmartFee->value() + 2\n```\nBut I don't see how a constant would make it any less readable.\nAt the same time, it doesn't mean it cannot be done later.",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90572195,90572195,src/qt/sendcoinsdialog.cpp
morcos,2016-12-02T01:55:45Z,"Before this PR anybody could have been using the RPC call estimatesmartfee and not expecting it to return -1 (which is what CFeeRate(0) gets translated into via RPC).  estimatesmartfee **already** gave you the answer for another value when it couldn't give you one for the target you asked for, it would have been exceedingly unusually for it to give you a -1 except right at startup.  So for any out",https://github.com/bitcoin/bitcoin/pull/9239#discussion_r90575029,90575029,src/policy/fees.cpp
