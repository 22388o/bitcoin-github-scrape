prayank23,2021-09-13 05:59:51,"Concept ACK\n\nSince i2p is added in Bitcoin Core which uses a different proxy, it's better if both are shared in `-getinfo`\n\n`-i2psam` is used for proxy and incoming both as documented in [doc/i2p.md](https://github.com/bitcoin/bitcoin/blob/master/doc/i2p.md)",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-917865598,917865598,
Zero-1729,2021-09-15 01:58:12,Concept ACK,https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-919636091,919636091,
laanwj,2021-09-16 17:18:41,"Concept ACK. Showing only one proxy is an artifact from the old `getinfo` RPC call, we can do better now.\n\nSuggestion: maybe add the networks each proxy is used for, example format\n```\nProxies: 127.0.0.1:7656 (i2p) 127.0.0.1:9050 (ipv4,ipv6,onion)\n```",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-921086473,921086473,
prayank23,2021-09-16 17:30:58,"> Suggestion: maybe add the networks each proxy is used for, example format\n\n@laanwj  Is this something similar to checkboxes we have in GUI which I was trying to remove in https://github.com/bitcoin-core/gui/pull/421?\n\nIf yes, this is confusing for me TBH considering the changes and discussions we had for https://github.com/bitcoin/bitcoin/pull/22834\n\nAlso the comments:\n\n> 127 202",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-921094779,921094779,
klementtan,2021-09-19 15:27:48,"@laanwj Thanks for the suggestion.\n\n869ad51 to 7d6f0fa: Updated the PR to display the networks each proxy is used for.\n\n![image](https://user-images.githubusercontent.com/49265907/133933180-4fa5e878-2ec0-4eb0-96c7-d0fc687fa5b0.png)\n",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-922491843,922491843,
klementtan,2021-09-20 10:59:59,"7c3712f changes: \n* Use `, ` to separate proxies\n* s/`N/A`/`n/a`\n* Proxies are displayed in the same order as `getnetworkinfo`. Added a new `std::vector<std::string> ordered_proxies` to store the original ordering of the proxies.\n![image](https://user-images.githubusercontent.com/49265907/133991602-c158c605-1a76-4c16-bdbd-626f35ccdf1b.png)\n",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-922824428,922824428,
laanwj,2021-09-20 13:12:37,"Thank you! Will test.\n\n- :heavy_check_mark:  Node without any proxy configured\n```\nProxies: n/a\n```\n- :heavy_check_mark:  Clearnet node which is also connected to onion/i2p:\n```\nProxies: 127.0.0.1:9050 (onion), 127.0.0.1:7656 (i2p)\n```\n- :heavy_check_mark:  Generic `-proxy=…`:\n```\nProxies: 127.0.0.1:9050 (ipv4, ipv6, onion)\n```\n- :heavy_check_mark:  Different `-proxy=… ",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-922915197,922915197,
prayank23,2021-09-20 14:31:00,"utACK https://github.com/bitcoin/bitcoin/commit/7c3712fa32b79c1c3abc73ef89990c452e22ce2b\n\n",https://github.com/bitcoin/bitcoin/pull/22959#issuecomment-922983228,922983228,
theStack,2021-09-14 16:02:01,"I think you can use our `Join` helper from `src/util/string.h` to achieve the same (this only works on a std::vector though, so you'd need to convert first):\n```suggestion\n    std::string proxies = Join(unique_proxies_vector, "", "");\n```",https://github.com/bitcoin/bitcoin/pull/22959#discussion_r708419871,708419871,src/bitcoin-cli.cpp
klementtan,2021-09-15 01:08:14,Thanks for the suggestion! Updated the PR to use `Join` instead. ,https://github.com/bitcoin/bitcoin/pull/22959#discussion_r708762192,708762192,src/bitcoin-cli.cpp
jonatack,2021-09-19 19:28:49,"a few suggestions to pick/choose/ignore\n\n- maybe separate the proxies with a comma-space\n- maybe add a comment, remove unneeded localvars, and keep the lines together to see a glance that it's one section for the proxies\n- maybe `s/proxies.push_back/proxies.emplace_back/` to construct in-place\n- maybe print ""n/a"" rather than ""N/A"", like line 1001 for -netinfo\n\n```diff\n--- a/src/bit",https://github.com/bitcoin/bitcoin/pull/22959#discussion_r711791529,711791529,src/bitcoin-cli.cpp
klementtan,2021-09-20 10:53:05,Thanks for the suggestion! Updated the PR to adopt the suggestion in 7c3712f,https://github.com/bitcoin/bitcoin/pull/22959#discussion_r712060674,712060674,src/bitcoin-cli.cpp
