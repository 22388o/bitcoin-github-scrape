[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363535207",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363535207",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363535207,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzUzNTIwNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T19:22:11Z",
    "updated_at": "2018-02-06T19:22:11Z",
    "author_association": "MEMBER",
    "body": "Thanks, fixes the test failures for me. (At least the wallet and mempool related ones, heh)\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK 85aa8398f5d13c659299b81cdae377462b4f8316\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQIcBAEBCgAGBQJaefz+AAoJENLqSFDnUoslrz4P/07HOkA1I4XAQTGUcFpWYVgM\r\nLdLJIdSY1HcflR/l9L07oNU7wZgKMGRVYMU+fn6sB1FPmJVJAWURSKBBrq1dr37h\r\nAHIkHG4nZAJuxcU1oi+s0n8/KxPh1mLPi+NsTcUm88c1DcWFQQUripYIiSh0f5tv\r\nuFSdIwVYc7es3BdGoSwHhK4d/+tZIZQ9GCUITYfciqiK0YpHSAZ0RF+xM0nHADdC\r\nXDMr0igQ0DmSGrM4yzdbZUciVcxASC+oeM6i5Jgck9fFNIfaQziNIWOk2PBEsAfg\r\nKBj4mkOPjvqmLyxp8FCWaVKxt2VXE1/bQq0pneGkIyJvEri6I39tU0lG6R1ReBm7\r\nWJtSx+XMvsVQU7A8GvcEQ7oCq0pA63T2+YA9p00TRXBYjireDgmhmzrSXkgmxaD8\r\nbw8WZexF1GfBLkKgR4zgjWkYOKvnRqUOKgPoCfTXkyaSxloeOg3pVF/XDMD0A1Yw\r\npX0ASzgEapm8epJVojF7tLwEEGvzFfaFR/UOA70MHb7k4DtNCjyhgwrjppK3+X32\r\n3BqIzFPaq4w8s4zqJosVKCxP41fzi8uOLPyZetWd2y/JE5dv4FTGuiE5NWIBzyLh\r\n5fGErIBdYAZdQyLQWvCHdJvBVsvscNo/ZL7mXFl4IbdPmUieEz7OnrU82tbb+xMe\r\nngOWNw5mjJFBtkyLuIme\r\n=ovgc\r\n-----END PGP SIGNATURE-----",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363535207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363566834",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363566834",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363566834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzU2NjgzNA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T21:15:17Z",
    "updated_at": "2018-02-06T21:15:17Z",
    "author_association": "MEMBER",
    "body": "re-utACK 02fc8863630a20e75230f8bc3ba1051c480ae560 (second commit obviously not for backport)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363566834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363584547",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363584547",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363584547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzU4NDU0Nw==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T22:20:02Z",
    "updated_at": "2018-02-06T22:20:02Z",
    "author_association": "MEMBER",
    "body": "I don't think this is correct because of lock order. You correctly say\r\n```cpp\r\n// mempool \"read lock\" (held through GetMainSignals().TransactionAddedToMempool())\r\n```\r\nAnd when it hits `CWallet::TransactionAddedToMempool` the lock order will be `cs_main, mempool.cs, cs_wallet`.\r\n\r\nBut, for instance, `listtransactions` RPC when eventually reaches `WalletTxToJSON`, the lock order will be `cs_main, cs_wallet, mempool.cs`.\r\n\r\nCorrect me if I'm wrong, but can't this create a deadlock?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363584547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363585868",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363585868",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363585868,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzU4NTg2OA==",
    "user": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T22:24:44Z",
    "updated_at": "2018-02-06T22:24:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is no lock order across TransactionAddedToMempool as it is called on a background thread (and can wait as long as it wants).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363585868/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363588397",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363588397",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363588397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzU4ODM5Nw==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-06T22:34:15Z",
    "updated_at": "2018-02-06T22:34:15Z",
    "author_association": "MEMBER",
    "body": "Right, `GetMainSignals().TransactionAddedToMempool` enqueues the signal!\r\n\r\nutACK 02fc886.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363588397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363643941",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363643941",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363643941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzY0Mzk0MQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-07T03:21:31Z",
    "updated_at": "2018-02-07T03:21:31Z",
    "author_association": "MEMBER",
    "body": "utACK 02fc8863630a20e75230f8bc3ba1051c480ae560. We probably want to rethink how locking of chainstate/mempool works later on (either by using actual rwlocks, or by allowing the mempool to lag behind chain validation).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363643941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363845440",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363845440",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12368",
    "id": 363845440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mzg0NTQ0MA==",
    "user": {
      "login": "devrandom",
      "id": 107096,
      "node_id": "MDQ6VXNlcjEwNzA5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/107096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devrandom",
      "html_url": "https://github.com/devrandom",
      "followers_url": "https://api.github.com/users/devrandom/followers",
      "following_url": "https://api.github.com/users/devrandom/following{/other_user}",
      "gists_url": "https://api.github.com/users/devrandom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devrandom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devrandom/subscriptions",
      "organizations_url": "https://api.github.com/users/devrandom/orgs",
      "repos_url": "https://api.github.com/users/devrandom/repos",
      "events_url": "https://api.github.com/users/devrandom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devrandom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-07T17:27:45Z",
    "updated_at": "2018-02-07T17:27:45Z",
    "author_association": "NONE",
    "body": "utACK https://github.com/bitcoin/bitcoin/pull/12368/commits/02fc8863630a20e75230f8bc3ba1051c480ae560",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/363845440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]