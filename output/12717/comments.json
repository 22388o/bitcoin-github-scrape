[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374785128",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-374785128",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 374785128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc4NTEyOA==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T22:55:50Z",
    "updated_at": "2018-03-20T22:55:50Z",
    "author_association": "MEMBER",
    "body": "utACK b1038af.\r\n\r\nNit, could get rid of `viewDummy` by using `viewChain` by default:\r\n```cpp\r\n        LOCK2(cs_main, mempool.cs);\r\n\r\n        CCoinsViewCache& viewChain = *pcoinsTip;\r\n        CCoinsViewMemPool viewMempool(&viewChain, mempool);\r\n        CCoinsViewCache view(&viewChain);\r\n        if (fCheckMemPool) {\r\n            // switch cache backend to db+mempool in case user likes to query mempool\r\n            view.SetBackend(viewMempool);\r\n        }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374785128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374810297",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-374810297",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 374810297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDgxMDI5Nw==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T01:22:36Z",
    "updated_at": "2018-03-21T01:23:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "utACK b1038afceadacb640ab1fa4fd9b577bb51d45e84 \r\n\r\nBut since we are nitting, I would probably do it like this\r\n\r\n```c++\r\nCCoinsViewCache view(fCheckMemPool ? &viewMempool : &viewChain);\r\n```\r\n\r\nNot a big deal either way.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374810297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374845762",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-374845762",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 374845762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDg0NTc2Mg==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T06:42:12Z",
    "updated_at": "2018-03-21T06:42:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the review!\r\nI have removed `viewDummy` as suggested.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374845762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374950942",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-374950942",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 374950942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDk1MDk0Mg==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T14:13:22Z",
    "updated_at": "2018-03-21T14:13:22Z",
    "author_association": "MEMBER",
    "body": "@eklitzke that gives:\r\n```cpp\r\nrest.cpp:495:44: error: incompatible operand types ('CCoinsViewMemPool *' and 'CCoinsViewCache *')\r\n```\r\nit needs a cast:\r\n```cpp\r\nCCoinsViewCache view(fCheckMemPool ? (CCoinsView*) &viewMempool : &viewChain);\r\n```\r\nBut yeah, either way.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374950942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374952539",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-374952539",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 374952539,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDk1MjUzOQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T14:18:06Z",
    "updated_at": "2018-03-21T14:18:06Z",
    "author_association": "MEMBER",
    "body": "But I wonder if it pays off dealing with both cases separately:\r\n```cpp\r\nif (fCheckMemPool) {\r\n    LOCK2(cs_main, mempool.cs);\r\n    CCoinsViewCache& viewChain = *pcoinsTip;\r\n    CCoinsViewMemPool viewMempool(&viewChain, mempool);\r\n    CCoinsViewCache view(&viewMempool);\r\n    ...\r\n} else {\r\n    LOCK(cs_main);  // no need to lock mempool!\r\n    CCoinsViewCache& viewChain = *pcoinsTip;\r\n    CCoinsViewCache view(&viewChain);\r\n    ...\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/374952539/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375020462",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375020462",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375020462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTAyMDQ2Mg==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T17:06:52Z",
    "updated_at": "2018-03-21T17:06:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@eklitzke @promag I'm fine with both suggestions, please let me know which is the preferred one :)",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375020462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375124584",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375124584",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375124584,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTEyNDU4NA==",
    "user": {
      "login": "eklitzke",
      "id": 2734,
      "node_id": "MDQ6VXNlcjI3MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2734?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eklitzke",
      "html_url": "https://github.com/eklitzke",
      "followers_url": "https://api.github.com/users/eklitzke/followers",
      "following_url": "https://api.github.com/users/eklitzke/following{/other_user}",
      "gists_url": "https://api.github.com/users/eklitzke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eklitzke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eklitzke/subscriptions",
      "organizations_url": "https://api.github.com/users/eklitzke/orgs",
      "repos_url": "https://api.github.com/users/eklitzke/repos",
      "events_url": "https://api.github.com/users/eklitzke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eklitzke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T23:05:03Z",
    "updated_at": "2018-03-21T23:05:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "The way @promag just suggested is best of all. If you want to do that you'll have to refactor the loop out so it can be called in both code paths. You can do that by adding a new static method or using a lambda.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375124584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375282319",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375282319",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375282319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTI4MjMxOQ==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T12:10:18Z",
    "updated_at": "2018-03-22T13:04:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks!\r\nI have updated the code according to the suggestion above (refactoring the loop into a lambda), and added a few more tests (to make sure that we don't return outputs, being spent by mempool transactions).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375282319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375444680",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375444680",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375444680,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTQ0NDY4MA==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T20:22:46Z",
    "updated_at": "2018-03-22T20:23:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the review and the suggestion!\r\nI agree, and would be happy to fix this issue (together with a general tidying-up of `interface_rest.py` tests) in a following PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375444680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375455058",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375455058",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375455058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTQ1NTA1OA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T20:57:28Z",
    "updated_at": "2018-03-22T20:57:28Z",
    "author_association": "MEMBER",
    "body": "> I agree, and would be happy to fix this issue (together with a general tidying-up of interface_rest.py tests) in a following PR.\r\n\r\nGreat! I already started tidying up the test here: https://github.com/jnewbery/bitcoin/tree/tidy_up_rest_test . I haven't opened a PR yet. Let me know what you think (and feel free to take the branch, modify as you see fit and open a PR if you want to take this on).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375455058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375461695",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375461695",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375461695,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTQ2MTY5NQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T21:22:02Z",
    "updated_at": "2018-03-22T21:22:02Z",
    "author_association": "MEMBER",
    "body": "utACK 5e2cfcba4a46a6d39f38f03dcd30543d259f181b",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375461695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375466352",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-375466352",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 375466352,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NTQ2NjM1Mg==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-22T21:39:00Z",
    "updated_at": "2018-03-25T09:04:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jnewbery The branch looks great :)\r\nI will continue the development at https://github.com/romanz/bitcoin/commits/tidy_up_rest_test in the upcoming days.\r\nMuch appreciated, and thanks again!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/375466352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376212070",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-376212070",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 376212070,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjIxMjA3MA==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-26T15:42:11Z",
    "updated_at": "2018-03-26T15:42:11Z",
    "author_association": "MEMBER",
    "body": "Tested ACK 9cb9af8c41e4a7abd6b3e011127c4274557ca7e4.\r\n\r\nOnly differences are addressing @sipa's and @promag's review comments.\r\n\r\nmeta point - I'm not sure if this conflicted with master and needed rebase. In general it's better to avoid rebase if possible since it makes re-reviewing easier if old and new branches are from the same base commit.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376212070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376252029",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#issuecomment-376252029",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/12717",
    "id": 376252029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjI1MjAyOQ==",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?u=7bddbb9f558c51cf0d8f1754f506d395d776a71a&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-26T17:45:51Z",
    "updated_at": "2018-03-26T17:45:51Z",
    "author_association": "CONTRIBUTOR",
    "body": ">  In general it's better to avoid rebase if possible since it makes re-reviewing easier if old and new branches are from the same base commit.\r\n\r\nWill do, thanks for the tip!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/376252029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176478821",
    "pull_request_review_id": 106189117,
    "id": 176478821,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjQ3ODgyMQ==",
    "diff_hunk": "@@ -151,23 +151,48 @@ def run_test(self):\n         txid = self.nodes[0].sendtoaddress(self.nodes[1].getnewaddress(), 0.1)\n         json_string = http_get_call(url.hostname, url.port, '/rest/tx/'+txid+self.FORMAT_SEPARATOR+\"json\")\n         json_obj = json.loads(json_string)\n-        vintx = json_obj['vin'][0]['txid'] # get the vin to later check for utxo (should be spent by then)\n+        # get the spent output to later check for utxo (should be spent by then)\n+        spent = '{}-{}'.format(json_obj['vin'][0]['txid'], json_obj['vin'][0]['vout'])\n         # get n of 0.1 outpoint\n         n = 0\n         for vout in json_obj['vout']:\n             if vout['value'] == 0.1:\n                 n = vout['n']\n+        spending = '{}-{}'.format(txid, n)\n \n-        json_request = '/'+txid+'-'+str(n)\n+        json_request = '/'+spending\n         json_string = http_get_call(url.hostname, url.port, '/rest/getutxos'+json_request+self.FORMAT_SEPARATOR+'json')\n         json_obj = json.loads(json_string)\n-        assert_equal(len(json_obj['utxos']), 0) #there should be an outpoint because it has just added to the mempool\n+        assert_equal(len(json_obj['utxos']), 0) #there should be no outpoint because it has just added to the mempool",
    "path": "test/functional/interface_rest.py",
    "position": 46,
    "original_position": 46,
    "commit_id": "9cb9af8c41e4a7abd6b3e011127c4274557ca7e4",
    "original_commit_id": "eb0aad1c0b90893caadd1c96d93b3f2572301cf3",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think this comment could be clearer. Something like `# tx not found since it is in the mempool (and /mempool not included in request`\r\n\r\nedit: in fact, I think you could remove all the inline comments and just place a comment at the top of the section explaining what's happening (create a transaction, check that it's found with `/checkmempool`, but not found without, then confirm the transaction and check that it's found with or without `/checkmempool`",
    "created_at": "2018-03-22T16:07:25Z",
    "updated_at": "2018-03-25T08:55:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176478821",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176478821"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176478821"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176478821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 166,
    "original_line": 166,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176568629",
    "pull_request_review_id": 106297437,
    "id": 176568629,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjU2ODYyOQ==",
    "diff_hunk": "@@ -487,26 +487,33 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     std::vector<bool> hits;\n     bitmap.resize((vOutPoints.size() + 7) / 8);\n     {\n-        LOCK2(cs_main, mempool.cs);\n-\n-        CCoinsView viewDummy;\n-        CCoinsViewCache view(&viewDummy);\n-\n-        CCoinsViewCache& viewChain = *pcoinsTip;\n-        CCoinsViewMemPool viewMempool(&viewChain, mempool);\n-\n-        if (fCheckMemPool)\n-            view.SetBackend(viewMempool); // switch cache backend to db+mempool in case user likes to query mempool\n-\n-        for (size_t i = 0; i < vOutPoints.size(); i++) {\n-            bool hit = false;\n-            Coin coin;\n-            if (view.GetCoin(vOutPoints[i], coin) && !mempool.isSpent(vOutPoints[i])) {\n-                hit = true;\n-                outs.emplace_back(std::move(coin));\n+        auto process_utxos = [&vOutPoints, &outs, &hits](const CCoinsViewCache& view, const CTxMemPool& mempool) {\n+            for (const COutPoint& vOutPoint : vOutPoints) {\n+                bool hit = false;\n+                Coin coin;\n+                if (view.GetCoin(vOutPoint, coin) && !mempool.isSpent(vOutPoint)) {\n+                    hit = true;\n+                    outs.emplace_back(std::move(coin));\n+                }\n+                hits.push_back(hit);\n             }\n+        };\n+\n+        if (fCheckMemPool) {\n+            // use db+mempool as cache backend in case user likes to query mempool\n+            LOCK2(cs_main, mempool.cs);\n+            CCoinsViewCache& viewChain = *pcoinsTip;\n+            CCoinsViewMemPool viewMempool(&viewChain, mempool);\n+            CCoinsViewCache view(&viewMempool);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "9cb9af8c41e4a7abd6b3e011127c4274557ca7e4",
    "original_commit_id": "eb0aad1c0b90893caadd1c96d93b3f2572301cf3",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "There's no need for an intermediary cache here anymore. You can make the lambda take a `CCoinsView&` instead, and either pass it `viewMempool` (here) or `*pcoinsTip` (below) directly.",
    "created_at": "2018-03-22T20:52:42Z",
    "updated_at": "2018-03-25T08:55:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176568629",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176568629"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176568629"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176568629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 507,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176573437",
    "pull_request_review_id": 106303297,
    "id": 176573437,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjU3MzQzNw==",
    "diff_hunk": "@@ -487,26 +487,33 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     std::vector<bool> hits;\n     bitmap.resize((vOutPoints.size() + 7) / 8);\n     {\n-        LOCK2(cs_main, mempool.cs);\n-\n-        CCoinsView viewDummy;\n-        CCoinsViewCache view(&viewDummy);\n-\n-        CCoinsViewCache& viewChain = *pcoinsTip;\n-        CCoinsViewMemPool viewMempool(&viewChain, mempool);\n-\n-        if (fCheckMemPool)\n-            view.SetBackend(viewMempool); // switch cache backend to db+mempool in case user likes to query mempool\n-\n-        for (size_t i = 0; i < vOutPoints.size(); i++) {\n-            bool hit = false;\n-            Coin coin;\n-            if (view.GetCoin(vOutPoints[i], coin) && !mempool.isSpent(vOutPoints[i])) {\n-                hit = true;\n-                outs.emplace_back(std::move(coin));\n+        auto process_utxos = [&vOutPoints, &outs, &hits](const CCoinsViewCache& view, const CTxMemPool& mempool) {\n+            for (const COutPoint& vOutPoint : vOutPoints) {\n+                bool hit = false;\n+                Coin coin;\n+                if (view.GetCoin(vOutPoint, coin) && !mempool.isSpent(vOutPoint)) {\n+                    hit = true;\n+                    outs.emplace_back(std::move(coin));\n+                }\n+                hits.push_back(hit);\n             }\n+        };\n+\n+        if (fCheckMemPool) {\n+            // use db+mempool as cache backend in case user likes to query mempool\n+            LOCK2(cs_main, mempool.cs);\n+            CCoinsViewCache& viewChain = *pcoinsTip;\n+            CCoinsViewMemPool viewMempool(&viewChain, mempool);\n+            CCoinsViewCache view(&viewMempool);",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 38,
    "commit_id": "9cb9af8c41e4a7abd6b3e011127c4274557ca7e4",
    "original_commit_id": "eb0aad1c0b90893caadd1c96d93b3f2572301cf3",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You're right, thanks for the catch!\r\nWill amend the commit, and update this PR.",
    "created_at": "2018-03-22T21:10:47Z",
    "updated_at": "2018-03-25T08:55:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176573437",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176573437"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176573437"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176573437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 507,
    "side": "RIGHT",
    "in_reply_to_id": 176568629
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176919689",
    "pull_request_review_id": 106710141,
    "id": 176919689,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjkxOTY4OQ==",
    "diff_hunk": "@@ -487,26 +487,31 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     std::vector<bool> hits;\n     bitmap.resize((vOutPoints.size() + 7) / 8);\n     {\n-        LOCK2(cs_main, mempool.cs);\n-\n-        CCoinsView viewDummy;\n-        CCoinsViewCache view(&viewDummy);\n-\n-        CCoinsViewCache& viewChain = *pcoinsTip;\n-        CCoinsViewMemPool viewMempool(&viewChain, mempool);\n-\n-        if (fCheckMemPool)\n-            view.SetBackend(viewMempool); // switch cache backend to db+mempool in case user likes to query mempool\n-\n-        for (size_t i = 0; i < vOutPoints.size(); i++) {\n-            bool hit = false;\n-            Coin coin;\n-            if (view.GetCoin(vOutPoints[i], coin) && !mempool.isSpent(vOutPoints[i])) {\n-                hit = true;\n-                outs.emplace_back(std::move(coin));\n+        auto process_utxos = [&vOutPoints, &outs, &hits](const CCoinsView& view, const CTxMemPool& mempool) {\n+            for (const COutPoint& vOutPoint : vOutPoints) {\n+                bool hit = false;\n+                Coin coin;\n+                if (view.GetCoin(vOutPoint, coin) && !mempool.isSpent(vOutPoint)) {",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "9cb9af8c41e4a7abd6b3e011127c4274557ca7e4",
    "original_commit_id": "5e2cfcba4a46a6d39f38f03dcd30543d259f181b",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Alternative:\r\n```cpp\r\nCoin coin;\r\nconst bool hit = !mempool.isSpent(vOutPoint) && view.GetCoin(vOutPoint, coin);\r\nhits.push_back(hit);\r\nif (hit) outs.emplace_back(std::move(coin));\r\n```\r\nAlso, cheapest condition to fail should come first, and I think `!isSpent` is the cheapest in both cases.",
    "created_at": "2018-03-24T20:46:34Z",
    "updated_at": "2018-03-25T08:55:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176919689",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176919689"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176919689"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176919689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 494,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176933522",
    "pull_request_review_id": 106723110,
    "id": 176933522,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE3NjkzMzUyMg==",
    "diff_hunk": "@@ -487,26 +487,31 @@ static bool rest_getutxos(HTTPRequest* req, const std::string& strURIPart)\n     std::vector<bool> hits;\n     bitmap.resize((vOutPoints.size() + 7) / 8);\n     {\n-        LOCK2(cs_main, mempool.cs);\n-\n-        CCoinsView viewDummy;\n-        CCoinsViewCache view(&viewDummy);\n-\n-        CCoinsViewCache& viewChain = *pcoinsTip;\n-        CCoinsViewMemPool viewMempool(&viewChain, mempool);\n-\n-        if (fCheckMemPool)\n-            view.SetBackend(viewMempool); // switch cache backend to db+mempool in case user likes to query mempool\n-\n-        for (size_t i = 0; i < vOutPoints.size(); i++) {\n-            bool hit = false;\n-            Coin coin;\n-            if (view.GetCoin(vOutPoints[i], coin) && !mempool.isSpent(vOutPoints[i])) {\n-                hit = true;\n-                outs.emplace_back(std::move(coin));\n+        auto process_utxos = [&vOutPoints, &outs, &hits](const CCoinsView& view, const CTxMemPool& mempool) {\n+            for (const COutPoint& vOutPoint : vOutPoints) {\n+                bool hit = false;\n+                Coin coin;\n+                if (view.GetCoin(vOutPoint, coin) && !mempool.isSpent(vOutPoint)) {",
    "path": "src/rest.cpp",
    "position": null,
    "original_position": 25,
    "commit_id": "9cb9af8c41e4a7abd6b3e011127c4274557ca7e4",
    "original_commit_id": "5e2cfcba4a46a6d39f38f03dcd30543d259f181b",
    "user": {
      "login": "romanz",
      "id": 9900,
      "node_id": "MDQ6VXNlcjk5MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/romanz",
      "html_url": "https://github.com/romanz",
      "followers_url": "https://api.github.com/users/romanz/followers",
      "following_url": "https://api.github.com/users/romanz/following{/other_user}",
      "gists_url": "https://api.github.com/users/romanz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/romanz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
      "organizations_url": "https://api.github.com/users/romanz/orgs",
      "repos_url": "https://api.github.com/users/romanz/repos",
      "events_url": "https://api.github.com/users/romanz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/romanz/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for the suggestion!\r\nI have updated and rebased the PR.",
    "created_at": "2018-03-25T08:56:00Z",
    "updated_at": "2018-03-25T08:56:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176933522",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176933522"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/12717#discussion_r176933522"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/12717"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/176933522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 494,
    "side": "RIGHT",
    "in_reply_to_id": 176919689
  }
]