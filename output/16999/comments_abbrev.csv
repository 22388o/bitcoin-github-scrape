laanwj,2019-09-30 17:32:25,"Only 48 IPv6 seeds might be slightly concerning, dunno. It looks like they're nearly all eliminated in the ASN filer step (introduced in #15840).",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536666493,536666493,
Sjors,2019-09-30 19:36:14,"The script output table might be easier to read if you put the numbers first (ideally padded). The suspicious hosts check removes suspiciously few entries :-)\n\nCan you print a breakdown of the IPv6 ASNs and node count?",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536718096,536718096,
laanwj,2019-10-01 05:19:52,"> The suspicious hosts check removes suspiciously few entries :-)\n\nYea, only 16 ""suspicious hosts"" are defined in the script, which were added a long time ago. TBH I don't really think it makes much sense to maintain such a list in the repository (would make sense to pass it in as an external file, I think).\n\n(But, this is not the time for a large discussion about this script, that can be ",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536869449,536869449,
laanwj,2019-10-01 09:00:14,"It looks like the problem is not the ASN sifting itself, but the way the limiting works. There used to be a limit of 512 IPv4 peers, and no limit on IPv6 or Tor peers (because there are only so few of the latter). However the PR to include the IPv6 addresses in the ASN sifting also included them in the 512 limit. It's split more or less according to how many IPv4/IPv6 there are.\n\nWill make lim",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536940782,536940782,
laanwj,2019-10-01 09:40:22,"Looks better now:\n```\n  IPv4   IPv6  Onion Pass                                               \n418690  55861   2747 Initial\n418690  55861   2747 Skip entries with invalid address\n410342  54085   2718 After removing duplicates\n410341  54085   2718 Skip entries from suspicious hosts\n107151  46381   2622 Enforce minimal number of blocks\n106814  46278   2543 Require service bit 1\n  5",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536956626,536956626,
Sjors,2019-10-01 11:48:42,"A max of 2 seeds per ASN seems a bit strict. E.g. AS33915 contains all Dutch Vodafone mobile (not reachable) and Ziggo cable users (long living IP). It's fine for IPv4 because we still get the max of 512 for that net.\n\nMaybe make it 10 for IPv6? The odds of randomly connecting to two nodes on the same ASN still seems negligible.\n\nShould we bump `MIN_BLOCKS` as well?",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-536999544,536999544,
laanwj,2019-10-01 12:18:27,"> Maybe make it 10 for IPv6? The odds of randomly connecting to two nodes on the same ASN still seems negligible\n> Should we bump MIN_BLOCKS as well?\n\nAll good suggestions, but I'd say, post-0.19. I've already had to do much more maintenance of this script than intended just before a release.",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537009418,537009418,
Sjors,2019-10-01 14:44:09,"ACK 3b09f2b\n\nSomething to consider when we do improve the script, is that it's not very deterministic. E.g. I ran the script on sipa's data from a few days later plus my data (uploaded above), and 400 of the [resulting nodes](https://github.com/Sjors/bitcoin/commit/7c08e20d321928a2654605ac8fe1c0ed26db209b) are different. Even though our numbers are similar at each step:\n\n```\n  IPv4   IPv",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537070141,537070141,
MarcoFalke,2019-10-01 15:54:29,"> Something to consider when we do improve the script, is that it's not very deterministic.\n\nSee also:\n\n* #7398",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537103102,537103102,
jonasschnelli,2019-10-01 16:23:19,"Looks good.\nACK 801d341f3a4b00633aa135407752d21ba868e37b - I just did some random manual checks against my data source (https://bitcointools.jonasschnelli.ch/dnsseed.dump.tar.gz) and it seems like that a lot of the new IPs are not listed in my seeder dump. Though I guess that is okay.\nDid some manual checks with telnet.",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537115091,537115091,
TheBlueMatt,2019-10-01 18:40:40,"Only looked at the address txt file (I'll let other folks look at the python changes and the equivalence between the txt file and the compiled-in seeds), and found the following groups with ore than two IPs per ASN.\n212.33.204.190:8333 should likely be removed as it is RPKI-Invalid (max-length 20, but announced as a 22), so it isn't gonna be accessible from a number of networks. The 2002:: IPs a",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537173086,537173086,
laanwj,2019-10-02 06:42:14,"I'm not going to fix up comment typos here, feel free to do that later.\n\n> Something to consider when we do improve the script, is that it's not very deterministic. \n\nThe deduplication step randomizes the input order (by putting it into a dict, which uses hashing with a random seed in python).\n\nThis is intentional, because the input (potentially) consists of concatenated nodes files fr",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537359020,537359020,
laanwj,2019-10-02 06:53:51,"Removed these in a new commit as suggested by TheBlueMatt:\n```\n174 38.143.66.107:8333\n174 [2001:550:3d05:156::100]:8333\n174 [2602:ffb6:4:739e:f816:3eff:fe00:c2b3]:8333\n4134 14.18.140.45:5559\n4134 180.97.80.213:8333\n4134 182.150.55.96:8333\n4134 222.186.43.66:8333\n6939 [2001:470:1f1d:61f:cd1a::109]:42434\n6939 [2001:470:5:41e::3001]:8333\n6939 [2002:2f5a:562a::2f5a:562a]:8333\n6",https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537362113,537362113,
Sjors,2019-10-02 10:04:57,ACK 0218171. I also checked that `chainparamsseeds.h` is generated from `nodes_main.txt`. Sounds like we should look at this script a bit more outside release moments :-),https://github.com/bitcoin/bitcoin/pull/16999#issuecomment-537425998,537425998,
jkczyz,2019-10-01 18:12:00,s/duplicattes/duplicates,https://github.com/bitcoin/bitcoin/pull/16999#discussion_r330200199,330200199,contrib/seeds/makeseeds.py
jkczyz,2019-10-01 18:17:25,"s/cymry/cymru\n\nnit: s/asn/ASN",https://github.com/bitcoin/bitcoin/pull/16999#discussion_r330202547,330202547,contrib/seeds/makeseeds.py
