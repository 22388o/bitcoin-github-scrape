[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518793486",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-518793486",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 518793486,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODc5MzQ4Ng==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-06T18:40:28Z",
    "updated_at": "2019-08-06T18:40:28Z",
    "author_association": "MEMBER",
    "body": "Reported by @kallewoof \r\n\r\nping @MarcoFalke and @ariard for review.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518793486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518894169",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-518894169",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 518894169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODg5NDE2OQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T00:40:57Z",
    "updated_at": "2019-08-07T00:41:08Z",
    "author_association": "MEMBER",
    "body": "Related discussion in https://github.com/bitcoin/bitcoin/pull/15713/files#r308801356.\r\n\r\nACK 214c4ecb9ab306627a08abb35cf82c73f10ec627.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518894169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518917205",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-518917205",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 518917205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxODkxNzIwNQ==",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T02:45:07Z",
    "updated_at": "2019-08-07T02:45:07Z",
    "author_association": "MEMBER",
    "body": "ACK 214c4ec",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/518917205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519007572",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519007572",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519007572,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTAwNzU3Mg==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T08:56:40Z",
    "updated_at": "2019-08-07T09:06:56Z",
    "author_association": "MEMBER",
    "body": "I applied this patch to my node and restarted it.\r\n\r\n1. This does not only happen during reorgs, it seems to be happening regularly. I think the node has gotten in its head that it needs to rebroadcast *all* transactions.\r\n2. This is not only coinbase transactions. After applying the patch I see tons of txs. Picking two at random, both turned out to be regular txs. See e.g. https://explorer.bc-2.jp/tx/a2ba0e7b09474565c92ef495a35fd932691f3ee3468992cd6a7e5bce100a6b3a (`2019-08-07T08:53:22Z [default wallet] Submitting wtx a2ba0e7b09474565c92ef495a35fd932691f3ee3468992cd6a7e5bce100a6b3a to mempool for relay`)\r\n3. This did not happen in conjunction with a new block, either. It seems the wallet is doing this as part of its regular wallet tx resend. But these have thousands of confirmations.\r\n\r\nThe debug.log file is more or less dominated by these messages, although it may be less severe after the patch.\r\n\r\n```\r\n$ wc debug.log\r\n   77751   776919 10791973 debug.log\r\n$ grep -v \"to mempool for relay\" debug.log|wc\r\n    300    2414   26399\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519007572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519145304",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519145304",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519145304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTE0NTMwNA==",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T15:21:41Z",
    "updated_at": "2019-08-07T15:22:30Z",
    "author_association": "MEMBER",
    "body": "Did you try to run without #15713 but with `IsCoinBase` and `GetDepthInMainChain` checks turn off ? I guess you should see the same logs than right now. Wallet is always trying to rebroadcast, even with thousands of confirmations, removing checks just make it apparent ?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519145304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519150254",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519150254",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519150254,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTE1MDI1NA==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T15:33:24Z",
    "updated_at": "2019-08-07T15:33:24Z",
    "author_association": "MEMBER",
    "body": "@ariard No. If I am the only one seeing these messages, however, this may be a problem with signet. No clue why signet would cause this, though, tbh.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519150254/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519180666",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519180666",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519180666,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTE4MDY2Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-07T16:52:17Z",
    "updated_at": "2019-08-07T16:52:17Z",
    "author_association": "MEMBER",
    "body": " #15713 also changed the logging, IIRC. So the bug can be fixed by either (or both):\r\n\r\n* Fixed logging\r\n* Restored checks",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519180666/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519343272",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519343272",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519343272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTM0MzI3Mg==",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-08T02:56:52Z",
    "updated_at": "2019-08-08T02:56:52Z",
    "author_association": "MEMBER",
    "body": "@kallewoof is not a problem with signet, it's a problem with my PR. I've played a bit with a regtest node on a commit before it. If I generate thousands of coinbase txn, every time we hit `nNextResend` (once in a 30min period), and 5min older than last block we are going to call `RelayWalletTransaction` for every one of them. You can see them in this method if you add a printer before `IsCoinBase` check. Previously printer was only triggered if they have been accepted by mempool. Now, with the new refactored `SubmitMemoryPoolAndRelay` we have removed these checks, because they are already performed in `BroadcastTransaction` or lower, and log print whatever their mempool acceptance/relay are. The resend logic has always been there for unconfirmed txn, it's just now we see it. \r\n\r\nWhile waiting for this logic to be rationalized, to avoid spam we can move log print to `BroadcastTransaction` after inserting successfully in mempool or re-add both `IsCoinBase` and `GetDepthInMainChain` checks in `SubmitMemoryPoolAndRelay`.\r\n\r\nNote: IMO, comment \"only rebroadcast unconfirmed txes older than 5 minutes before the last block was found\" in `ResendWalletTransactions` is ambiguous and suggests confirmation check has already been done at this step, but in fact it relies on the callee function to do so.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519343272/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519956222",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519956222",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519956222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTk1NjIyMg==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T15:11:16Z",
    "updated_at": "2019-08-09T15:11:16Z",
    "author_association": "MEMBER",
    "body": "I've restored the `GetDepthInMainChain()` check in `SubmitMemoryPoolAndRelay()`. That meant passing the `locked_chain` through to `SubmitMemoryPoolAndRelay()` (at least until #15931 is merged).\r\n\r\nAlso clarified comment in `ResendWalletTransactions()`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519956222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519960599",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519960599",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519960599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTk2MDU5OQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T15:23:51Z",
    "updated_at": "2019-08-09T15:23:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#9381](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/9381.html) (Remove CWalletTx merging logic from AddToWallet by ryanofsky)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519960599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519988682",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519988682",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519988682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTk4ODY4Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T16:51:11Z",
    "updated_at": "2019-08-09T16:51:11Z",
    "author_association": "MEMBER",
    "body": "ACK c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc (non-doc changes are mostly a git revert 8753f5652b4710e66b50ce87788bf6f33619b75a)\r\n\r\n<details><summary>Show signature and timestamp</summary>\r\n\r\nSignature:\r\n\r\n```\r\n-----BEGIN PGP SIGNED MESSAGE-----\r\nHash: SHA512\r\n\r\nACK c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc (non-doc changes are mostly a git revert 8753f5652b4710e66b50ce87788bf6f33619b75a)\r\n-----BEGIN PGP SIGNATURE-----\r\n\r\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\r\npUgQAQv/Z6Y5v5REeQFDBT4A4iyBncehSPa36ikjjvjE1SRHw8gMLoYffjC96s0n\r\naZ1vpEUrUPhnQhiOWmr68rEFoAkoW13FeMqdc7iN4UBcW71vX2vGVrDmQilqrkid\r\nTcTdogmucTkRCXyrkU6fjSDgO9TAUoF4ANZNuwusWW9oxcQurt8/86PAGI3jAxmy\r\nyEYTmjoWt55EcnzC57rlMQ7mCR+okiEtgV+pC5tXerJvjdCZRM4LqXhYbto1UtOm\r\ni6Qxn6gp4Z1eRjM86KQ6D9YfsP1sxtdS1xVDLXH2JbCD1EB7kE1FzB/IveFyYg3x\r\n56sBd9tenZ8F6UKbhbbnvfDB/AiZwEnkYyBxclB7fVJsH+2N80pGJMcqUwlKBP3y\r\nbHBr+IJhekG70belcOTK02eoWC9OJR0Ga5cNGJwIKmWPScHItnhjC0lzjE4PO0yA\r\n+aJAnuQpeySSfD9TvunAfPxqQ/4EvYk52WOtBxdqHPbNnr0I7Rhtbk0GKaZYWpn3\r\nO4uPQ/hf\r\n=TlR4\r\n-----END PGP SIGNATURE-----\r\n```\r\n\r\n[Timestamp of file with hash `d299ae4192e52358020d1c810082e7d19625bf7a9adef077079a3e02624e9dd6  -`](https://opentimestamps.org/info/?004f70656e54696d657374616d7073000050726f6f6600bf89e2e884e892940108d299ae4192e52358020d1c810082e7d19625bf7a9adef077079a3e02624e9dd6f010c76ea1979f6acefa491b1c0bec9b3c9908fff0101e34f57cf839ad9703d70b934b87867a08f1045d4da46df008407e1ab46130a1bf0083dfe30d2ef90c8e232268747470733a2f2f6274632e63616c656e6461722e636174616c6c6178792e636f6dfff0105adb4a1aa10c5a620296f804b8b430ca08f1045d4da46ef008d711d73909b18b230083dfe30d2ef90c8e292868747470733a2f2f66696e6e65792e63616c656e6461722e657465726e69747977616c6c2e636f6dfff0105b8ac417acba5f3cc53c6f17633ca48208f1045d4da46ef00801600bbc7fa11bfa0083dfe30d2ef90c8e2e2d68747470733a2f2f616c6963652e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267f0105ba082009be43279626a3f97bef3b35a08f1045d4da46df008a17a92af0a1e3ed90083dfe30d2ef90c8e2c2b68747470733a2f2f626f622e6274632e63616c656e6461722e6f70656e74696d657374616d70732e6f7267)\r\n\r\n</details>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519988682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519990789",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-519990789",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 519990789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTk5MDc4OQ==",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T16:57:39Z",
    "updated_at": "2019-08-09T16:57:39Z",
    "author_association": "MEMBER",
    "body": "utACK c8b53c3",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/519990789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520098596",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#issuecomment-520098596",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/16557",
    "id": 520098596,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDA5ODU5Ng==",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?u=8aa4d0fd79dff5cf64a98205c78bc1c96b0bf4b6&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T23:59:03Z",
    "updated_at": "2019-08-10T00:37:19Z",
    "author_association": "MEMBER",
    "body": "ACK\r\n\r\nApplied this to my node.\r\n\r\nRan for awhile. No spam. Tried sending a tx. Message appeared as appropriately in log. I don't think I am able to test the `CWallet::ResendWalletTransactions` part easily as it depends on a new block without tx being mined. Did try restarting the node though, and the log message appeared as expected.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/520098596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311240349",
    "pull_request_review_id": 271570732,
    "id": 311240349,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTI0MDM0OQ==",
    "diff_hunk": "@@ -2160,6 +2160,9 @@ bool CWalletTx::SubmitMemoryPoolAndRelay(std::string& err_string, bool relay)\n     if (!pwallet->GetBroadcastTransactions()) return false;\n     // Don't relay abandoned transactions\n     if (isAbandoned()) return false;\n+    // Don't try to submit coinbase transactions. These would fail anyway but would\n+    // cause log spam.\n+    if (IsCoinBase()) return false;",
    "path": "src/wallet/wallet.cpp",
    "position": 18,
    "original_position": 6,
    "commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "original_commit_id": "214c4ecb9ab306627a08abb35cf82c73f10ec627",
    "user": {
      "login": "ariard",
      "id": 23310655,
      "node_id": "MDQ6VXNlcjIzMzEwNjU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23310655?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ariard",
      "html_url": "https://github.com/ariard",
      "followers_url": "https://api.github.com/users/ariard/followers",
      "following_url": "https://api.github.com/users/ariard/following{/other_user}",
      "gists_url": "https://api.github.com/users/ariard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ariard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ariard/subscriptions",
      "organizations_url": "https://api.github.com/users/ariard/orgs",
      "repos_url": "https://api.github.com/users/ariard/repos",
      "events_url": "https://api.github.com/users/ariard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ariard/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry for that. You may need also to restore the `GetDepthInMainChain`, if you follow what @kallewoof was saying non-coinbase confirmed txn were also in log spams.",
    "created_at": "2019-08-06T19:39:57Z",
    "updated_at": "2019-08-09T15:10:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r311240349",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311240349"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r311240349"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311240349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2165,
    "original_line": 2165,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311323444",
    "pull_request_review_id": 271674190,
    "id": 311323444,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMTMyMzQ0NA==",
    "diff_hunk": "@@ -2160,6 +2160,9 @@ bool CWalletTx::SubmitMemoryPoolAndRelay(std::string& err_string, bool relay)\n     if (!pwallet->GetBroadcastTransactions()) return false;\n     // Don't relay abandoned transactions\n     if (isAbandoned()) return false;\n+    // Don't try to submit coinbase transactions. These would fail anyway but would\n+    // cause log spam.\n+    if (IsCoinBase()) return false;",
    "path": "src/wallet/wallet.cpp",
    "position": 18,
    "original_position": 6,
    "commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "original_commit_id": "214c4ecb9ab306627a08abb35cf82c73f10ec627",
    "user": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "~~No, I don't believe non-coinbase confirmed txn were in log spams but there were thousands so I can't easily verify.~~\r\n\r\nEdit: With patch it was easily verifiable that non-coinbase txs also appear.",
    "created_at": "2019-08-07T00:06:55Z",
    "updated_at": "2019-08-09T15:10:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r311323444",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311323444"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r311323444"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/311323444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2165,
    "original_line": 2165,
    "side": "RIGHT",
    "in_reply_to_id": 311240349
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312709266",
    "pull_request_review_id": 273432385,
    "id": 312709266,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjcwOTI2Ng==",
    "diff_hunk": "@@ -2377,11 +2379,12 @@ void CWallet::ResendWalletTransactions()\n         // Relay transactions\n         for (std::pair<const uint256, CWalletTx>& item : mapWallet) {\n             CWalletTx& wtx = item.second;\n-            // only rebroadcast unconfirmed txes older than 5 minutes before the\n-            // last block was found\n+            // Attempt to rebroadcast all txes more than 5 minutes older than\n+            // the last block. SubmitMemoryPoolAndRelay() will not rebroadcast\n+            // any confirmed or conflicting txs.",
    "path": "src/wallet/wallet.cpp",
    "position": 32,
    "original_position": 31,
    "commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "original_commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "user": {
      "login": "Sjors",
      "id": 10217,
      "node_id": "MDQ6VXNlcjEwMjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sjors",
      "html_url": "https://github.com/Sjors",
      "followers_url": "https://api.github.com/users/Sjors/followers",
      "following_url": "https://api.github.com/users/Sjors/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sjors/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sjors/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sjors/subscriptions",
      "organizations_url": "https://api.github.com/users/Sjors/orgs",
      "repos_url": "https://api.github.com/users/Sjors/repos",
      "events_url": "https://api.github.com/users/Sjors/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sjors/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Why not move the coinbase check here then?",
    "created_at": "2019-08-10T16:53:27Z",
    "updated_at": "2019-08-10T16:54:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r312709266",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312709266"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r312709266"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312709266/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2384,
    "original_line": 2384,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312961381",
    "pull_request_review_id": 273740206,
    "id": 312961381,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMxMjk2MTM4MQ==",
    "diff_hunk": "@@ -2377,11 +2379,12 @@ void CWallet::ResendWalletTransactions()\n         // Relay transactions\n         for (std::pair<const uint256, CWalletTx>& item : mapWallet) {\n             CWalletTx& wtx = item.second;\n-            // only rebroadcast unconfirmed txes older than 5 minutes before the\n-            // last block was found\n+            // Attempt to rebroadcast all txes more than 5 minutes older than\n+            // the last block. SubmitMemoryPoolAndRelay() will not rebroadcast\n+            // any confirmed or conflicting txs.",
    "path": "src/wallet/wallet.cpp",
    "position": 32,
    "original_position": 31,
    "commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "original_commit_id": "c8b53c3beafa289dcdbd8c2ee9f957bdeca79cbc",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I agree that would make sense - the other callers of `SubmitMemoryPoolAndRelay()` do checks before calling into `SubmitMemoryPoolAndRelay()`. However, this PR is just to restore previous behaviour. There are a few other PRs in progress on the node/wallet interface, so let's keep the existing behaviour and look for ways to tidy it up later.",
    "created_at": "2019-08-12T14:42:57Z",
    "updated_at": "2019-08-12T14:42:57Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r312961381",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312961381"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/16557#discussion_r312961381"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/16557"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/312961381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2384,
    "original_line": 2384,
    "side": "RIGHT",
    "in_reply_to_id": 312709266
  }
]