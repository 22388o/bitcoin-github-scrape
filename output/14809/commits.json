[
  {
    "sha": "45842c3d26098ad6d12f5cb96bbcf9bcde650950",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0NTg0MmMzZDI2MDk4YWQ2ZDEyZjVjYjk2YmJjZjliY2RlNjUwOTUw",
    "commit": {
      "author": {
        "name": "Jameson Lopp",
        "email": "jameson.lopp@gmail.com",
        "date": "2018-11-26T15:22:36Z"
      },
      "committer": {
        "name": "Jameson Lopp",
        "email": "jameson.lopp@gmail.com",
        "date": "2018-12-06T15:41:08Z"
      },
      "message": "Improve documentation for running verify-commits.py script",
      "tree": {
        "sha": "9803b0606d8c879f5b20a6a79b2a0c714feb4f07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9803b0606d8c879f5b20a6a79b2a0c714feb4f07"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/45842c3d26098ad6d12f5cb96bbcf9bcde650950",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEZ78xQc7ThCTV4LTpfhUiLXHG2f0FAlwJQxUACgkQfhUiLXHG\n2f1PYxAAgGjcoqdYhyCGYuMSZHC0QGZsPW/kYGY9Da1VJb0EmOrItFiaWoT3AZuu\nGfGH4spTWVVZFrvy6egph4yCube/wXBs5aUGzszUYW/RnG5YNoRH8VM5v5EikBLO\noUnlQUf6xu0j5kKOKvJwCXDMUk+W6s6BoK3XqJptSgXZK2r1IHDJTICaU/VPaeyW\nrXAQj75rkhKp4LeAERTps7G1SHEen0DL0ejJAgWJmpTjUBUWZZ+f+SUwJJHcfHi2\nmtgrB26wrIt4QohKHsN83muTu6P1cdzLcRp/tTu4icMuGMVV4IAYkq2WptxR0oPm\n7NHfpU+A02C0RB/LmOh8p0OFDiAYGJBwuhLpnXlxY3j8nzXQ43kajeBNtpC/o3E0\nW6MdFsWKkhhl0agPhEEdV0aee7bJBqxjGrdZHYX7CvR9ItTPCWxCFFYHcHwoJR2u\nfkRLdD3kvaoysQ9TUsTqwlN2pkM8zBwiJEwUKSHVbj8Qy01FTocHLJqXAFPfDG1Z\nfJ33DgzIJ1RTWr89C/3/ljgj2PMt6tTTPzj6Ok6km1vJzvin08ZVIn9+vK8bItu8\nqrevTgogjZGpJsCQPkBNUIyFBqKVZIDyGtKt8n/7jZctVo2EtF9S0KtsaFShE0Qe\nG1QcCPucDW/oYn0agzayg49xiwbeaJaJJ2kF2DdzfKhFuxQa33w=\n=/hLR\n-----END PGP SIGNATURE-----",
        "payload": "tree 9803b0606d8c879f5b20a6a79b2a0c714feb4f07\nparent 327129f7a6440e3bbd0a0ea415ea5f8907cf3233\nauthor Jameson Lopp <jameson.lopp@gmail.com> 1543245756 -0500\ncommitter Jameson Lopp <jameson.lopp@gmail.com> 1544110868 -0500\n\nImprove documentation for running verify-commits.py script\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/45842c3d26098ad6d12f5cb96bbcf9bcde650950",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/45842c3d26098ad6d12f5cb96bbcf9bcde650950",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/45842c3d26098ad6d12f5cb96bbcf9bcde650950/comments",
    "author": {
      "login": "jlopp",
      "id": 288011,
      "node_id": "MDQ6VXNlcjI4ODAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlopp",
      "html_url": "https://github.com/jlopp",
      "followers_url": "https://api.github.com/users/jlopp/followers",
      "following_url": "https://api.github.com/users/jlopp/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlopp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
      "organizations_url": "https://api.github.com/users/jlopp/orgs",
      "repos_url": "https://api.github.com/users/jlopp/repos",
      "events_url": "https://api.github.com/users/jlopp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlopp/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jlopp",
      "id": 288011,
      "node_id": "MDQ6VXNlcjI4ODAxMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/288011?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jlopp",
      "html_url": "https://github.com/jlopp",
      "followers_url": "https://api.github.com/users/jlopp/followers",
      "following_url": "https://api.github.com/users/jlopp/following{/other_user}",
      "gists_url": "https://api.github.com/users/jlopp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jlopp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jlopp/subscriptions",
      "organizations_url": "https://api.github.com/users/jlopp/orgs",
      "repos_url": "https://api.github.com/users/jlopp/repos",
      "events_url": "https://api.github.com/users/jlopp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jlopp/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "327129f7a6440e3bbd0a0ea415ea5f8907cf3233",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/327129f7a6440e3bbd0a0ea415ea5f8907cf3233",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/327129f7a6440e3bbd0a0ea415ea5f8907cf3233"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 14,
      "deletions": 5
    },
    "files": [
      {
        "sha": "27ca15acb434c6274b0473a5dd21734752e29199",
        "filename": "contrib/verify-commits/README.md",
        "status": "modified",
        "additions": 13,
        "deletions": 4,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45842c3d26098ad6d12f5cb96bbcf9bcde650950/contrib/verify-commits/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45842c3d26098ad6d12f5cb96bbcf9bcde650950/contrib/verify-commits/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/README.md?ref=45842c3d26098ad6d12f5cb96bbcf9bcde650950",
        "patch": "@@ -3,7 +3,7 @@ Tooling for verification of PGP signed commits\n \n This is an incomplete work in progress, but currently includes a pre-push hook\n script (`pre-push-hook.sh`) for maintainers to ensure that their own commits\n-are PGP signed (nearly always merge commits), as well as a script to verify\n+are PGP signed (nearly always merge commits), as well as a Python 3 script to verify\n commits against a trusted keys list.\n \n \n@@ -17,9 +17,11 @@ be backdoored. Instead, you need to use a trusted version of verify-commits\n prior to checkout to make sure you're checking out only code signed by trusted\n keys:\n \n-    git fetch origin && \\\n-      ./contrib/verify-commits/verify-commits.py origin/master && \\\n-      git checkout origin/master\n+ ```sh\n+ git fetch origin && \\\n+ ./contrib/verify-commits/verify-commits.py origin/master && \\\n+ git checkout origin/master\n+ ```\n \n Note that the above isn't a good UI/UX yet, and needs significant improvements\n to make it more convenient and reduce the chance of errors; pull-reqs\n@@ -33,6 +35,13 @@ Configuration files\n * `trusted-keys`: This file should contain a \\n-delimited list of all PGP fingerprints of authorized commit signers (primary, not subkeys).\n * `allow-revsig-commits`: This file should contain a \\n-delimited list of git commit hashes. See next section for more info.\n \n+Import trusted keys\n+-------------------\n+In order to check the commit signatures you must add the trusted PGP keys to your machine. This can be done in Linux by running\n+```sh\n+gpg --recv-keys $(<contrib/verify-commits/trusted-keys)\n+```\n+\n Key expiry/revocation\n ---------------------\n "
      },
      {
        "sha": "b3c8064ec24c77a0e2a24d005062bc4fa712ea7f",
        "filename": "contrib/verify-commits/verify-commits.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/45842c3d26098ad6d12f5cb96bbcf9bcde650950/contrib/verify-commits/verify-commits.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/45842c3d26098ad6d12f5cb96bbcf9bcde650950/contrib/verify-commits/verify-commits.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/verify-commits/verify-commits.py?ref=45842c3d26098ad6d12f5cb96bbcf9bcde650950",
        "patch": "@@ -139,7 +139,7 @@ def main():\n         if len(parents) == 2 and check_merge and not allow_unclean:\n             current_tree = subprocess.check_output([GIT, 'show', '--format=%T', current_commit], universal_newlines=True, encoding='utf8').splitlines()[0]\n             subprocess.call([GIT, 'checkout', '--force', '--quiet', parents[0]])\n-            subprocess.call([GIT, 'merge', '--no-ff', '--quiet', parents[1]], stdout=subprocess.DEVNULL)\n+            subprocess.call([GIT, 'merge', '--no-ff', '--quiet', '--no-gpg-sign', parents[1]], stdout=subprocess.DEVNULL)\n             recreated_tree = subprocess.check_output([GIT, 'show', '--format=format:%T', 'HEAD'], universal_newlines=True, encoding='utf8').splitlines()[0]\n             if current_tree != recreated_tree:\n                 print(\"Merge commit {} is not clean\".format(current_commit), file=sys.stderr)"
      }
    ]
  }
]