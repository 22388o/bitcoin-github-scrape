[
  {
    "sha": "b33b9a6fefbe832bf45a6c7717d0537f27597bff",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiMzNiOWE2ZmVmYmU4MzJiZjQ1YTZjNzcxN2QwNTM3ZjI3NTk3YmZm",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-25T07:52:53Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-27T06:23:36Z"
      },
      "message": "Fix comparison tool by asking for blocks more aggressively",
      "tree": {
        "sha": "ebfceaa18cc0391e0c10b3cdad4d3a15e21bab7b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ebfceaa18cc0391e0c10b3cdad4d3a15e21bab7b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b33b9a6fefbe832bf45a6c7717d0537f27597bff",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b33b9a6fefbe832bf45a6c7717d0537f27597bff",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b33b9a6fefbe832bf45a6c7717d0537f27597bff",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b33b9a6fefbe832bf45a6c7717d0537f27597bff/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e2130051778027c1120b90bf2975b933b2d02034",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e2130051778027c1120b90bf2975b933b2d02034",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e2130051778027c1120b90bf2975b933b2d02034"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 8,
      "deletions": 3
    },
    "files": [
      {
        "sha": "56bd7a5cfd0bafffaae77e77d76e652421302083",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b33b9a6fefbe832bf45a6c7717d0537f27597bff/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b33b9a6fefbe832bf45a6c7717d0537f27597bff/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=b33b9a6fefbe832bf45a6c7717d0537f27597bff",
        "patch": "@@ -2355,7 +2355,7 @@ bool CheckBlock(const CBlock& block, CValidationState& state, bool fCheckPOW, bo\n         uniqueTx.insert(block.GetTxHash(i));\n     }\n     if (uniqueTx.size() != block.vtx.size())\n-        return state.DoS(100, error(\"CheckBlock() : duplicate transaction\"));\n+        return state.DoS(100, error(\"CheckBlock() : duplicate transaction\"), true);\n \n     unsigned int nSigOps = 0;\n     BOOST_FOREACH(const CTransaction& tx, block.vtx)\n@@ -3783,7 +3783,7 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n         LOCK(cs_main);\n \n         CValidationState state;\n-        if (ProcessBlock(state, pfrom, &block))\n+        if (ProcessBlock(state, pfrom, &block) || state.CorruptionPossible())\n             mapAlreadyAskedFor.erase(inv);\n         int nDoS = 0;\n         if (state.IsInvalid(nDoS))"
      },
      {
        "sha": "2a67747b47fed0ffbe132f1a16bc602df3672af9",
        "filename": "src/main.h",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b33b9a6fefbe832bf45a6c7717d0537f27597bff/src/main.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b33b9a6fefbe832bf45a6c7717d0537f27597bff/src/main.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.h?ref=b33b9a6fefbe832bf45a6c7717d0537f27597bff",
        "patch": "@@ -946,13 +946,15 @@ class CValidationState {\n         MODE_ERROR,   // run-time error\n     } mode;\n     int nDoS;\n+    bool corruptionPossible;\n public:\n     CValidationState() : mode(MODE_VALID), nDoS(0) {}\n-    bool DoS(int level, bool ret = false) {\n+    bool DoS(int level, bool ret = false, bool corruptionIn = false) {\n         if (mode == MODE_ERROR)\n             return ret;\n         nDoS += level;\n         mode = MODE_INVALID;\n+        corruptionPossible = corruptionIn;\n         return ret;\n     }\n     bool Invalid(bool ret = false) {\n@@ -982,6 +984,9 @@ class CValidationState {\n         }\n         return false;\n     }\n+    bool CorruptionPossible() {\n+        return corruptionPossible;\n+    }\n };\n \n /** An in-memory indexed chain of blocks. */"
      }
    ]
  },
  {
    "sha": "95fa14da69b6345f087991ceedcc34c73e66bab8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5NWZhMTRkYTY5YjYzNDVmMDg3OTkxY2VlZGNjMzRjNzNlNjZiYWI4",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-27T05:47:12Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-27T07:38:04Z"
      },
      "message": "Re-enable BitcoindComparisonTool:\n\n * Use the latest version, with limited memory usage, and path to\n   on-disk db (try mouting qa/tmp on a tmpfs)\\\n * enable -debug=net\n * re-enable BitcoindComparisonTool in pull-tester",
      "tree": {
        "sha": "43f22dd997c855ee3e734875060b16c82bb6c826",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/43f22dd997c855ee3e734875060b16c82bb6c826"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/95fa14da69b6345f087991ceedcc34c73e66bab8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/95fa14da69b6345f087991ceedcc34c73e66bab8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/95fa14da69b6345f087991ceedcc34c73e66bab8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/95fa14da69b6345f087991ceedcc34c73e66bab8/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b33b9a6fefbe832bf45a6c7717d0537f27597bff",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b33b9a6fefbe832bf45a6c7717d0537f27597bff",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b33b9a6fefbe832bf45a6c7717d0537f27597bff"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 6,
      "deletions": 7
    },
    "files": [
      {
        "sha": "e5bc9b99c63076bc3f6a56ea00c0a757affd5747",
        "filename": "Makefile.am",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/95fa14da69b6345f087991ceedcc34c73e66bab8/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/95fa14da69b6345f087991ceedcc34c73e66bab8/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/Makefile.am?ref=95fa14da69b6345f087991ceedcc34c73e66bab8",
        "patch": "@@ -118,7 +118,8 @@ test_bitcoin_filtered.info: test_bitcoin.info\n \t$(LCOV) -r $< \"/usr/include/*\" -o $@\n \n block_test.info: test_bitcoin_filtered.info\n-\t-@TIMEOUT=15 qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -Xmx2G -jar $(JAVA_COMPARISON_TOOL) 1 18444\n+\t$(MKDIR_P) qa/tmp\n+\t-@TIMEOUT=15 qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool 1 18444\n \t$(LCOV) -c -d $(abs_builddir)/src --t BitcoinJBlockTest -o $@\n \t$(LCOV) -z -d $(abs_builddir)/src\n \t$(LCOV) -z -d $(abs_builddir)/src/leveldb\n@@ -146,7 +147,8 @@ endif\n \n if USE_COMPARISON_TOOL\n check-local:\n-\t@qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -Xmx2G -jar $(JAVA_COMPARISON_TOOL) 1 18444\n+\t$(MKDIR_P) qa/tmp\n+\t@qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool 1 18444\n endif\n \n EXTRA_DIST = $(top_srcdir)/share/genbuild.sh qa/pull-tester/pull-tester.sh $(WINDOWS_PACKAGING) $(OSX_PACKAGING)"
      },
      {
        "sha": "392ff12dc65701c594f02e00eecae4cacd6ce5cb",
        "filename": "qa/pull-tester/build-tests.sh.in",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/95fa14da69b6345f087991ceedcc34c73e66bab8/qa/pull-tester/build-tests.sh.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/95fa14da69b6345f087991ceedcc34c73e66bab8/qa/pull-tester/build-tests.sh.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/build-tests.sh.in?ref=95fa14da69b6345f087991ceedcc34c73e66bab8",
        "patch": "@@ -32,10 +32,7 @@ cd @abs_top_srcdir@\n make distdir\n mv $DISTDIR linux-build\n cd linux-build\n-# TODO: re-enable blockchain tester tool, as of 11 Oct 2013 is it not working properly\n-# on the pull-tester machine.\n-#./configure --disable-silent-rules --disable-ccache --with-comparison-tool=\"$JAVA_COMPARISON_TOOL\"\n-./configure --disable-silent-rules --disable-ccache\n+./configure --disable-silent-rules --disable-ccache --with-comparison-tool=\"$JAVA_COMPARISON_TOOL\"\n make -j$JOBS\n \n # link interesting binaries to parent out/ directory, if it exists. Do this before"
      },
      {
        "sha": "e8bcb4bf7a06516109c50777c964e528de4942be",
        "filename": "qa/pull-tester/run-bitcoind-for-test.sh.in",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/95fa14da69b6345f087991ceedcc34c73e66bab8/qa/pull-tester/run-bitcoind-for-test.sh.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/95fa14da69b6345f087991ceedcc34c73e66bab8/qa/pull-tester/run-bitcoind-for-test.sh.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/run-bitcoind-for-test.sh.in?ref=95fa14da69b6345f087991ceedcc34c73e66bab8",
        "patch": "@@ -5,7 +5,7 @@ mkdir -p \"$DATADIR\"/regtest\n touch \"$DATADIR/regtest/debug.log\"\n tail -q -n 1 -F \"$DATADIR/regtest/debug.log\" | grep -m 1 -q \"Done loading\" &\n WAITER=$!\n-\"@abs_top_builddir@/src/bitcoind@EXEEXT@\" -connect=0.0.0.0 -datadir=\"$DATADIR\" -rpcuser=user -rpcpassword=pass -listen -keypool=3 -debug -logtimestamps -port=18444 -regtest &\n+\"@abs_top_builddir@/src/bitcoind@EXEEXT@\" -connect=0.0.0.0 -datadir=\"$DATADIR\" -rpcuser=user -rpcpassword=pass -listen -keypool=3 -debug -debug=net -logtimestamps -port=18444 -regtest &\n BITCOIND=$!\n \n #Install a watchdog."
      }
    ]
  },
  {
    "sha": "47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0N2I5Mzc0ZTM5YTAwZDZlOTgxYWExZjRkMDE3NWQ5NDI2ZDkxYWM4",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-28T05:16:41Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-28T05:16:41Z"
      },
      "message": "Make large-reorg tests optional in block-tester",
      "tree": {
        "sha": "3f5c66dc6bdfba373ba194a9d28db307236222ef",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3f5c66dc6bdfba373ba194a9d28db307236222ef"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "95fa14da69b6345f087991ceedcc34c73e66bab8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/95fa14da69b6345f087991ceedcc34c73e66bab8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/95fa14da69b6345f087991ceedcc34c73e66bab8"
      }
    ],
    "stats": {
      "total": 32,
      "additions": 26,
      "deletions": 6
    },
    "files": [
      {
        "sha": "bb950ee9f1423070a77a003ab100c87d671534a9",
        "filename": "Makefile.am",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/Makefile.am?ref=47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
        "patch": "@@ -119,7 +119,7 @@ test_bitcoin_filtered.info: test_bitcoin.info\n \n block_test.info: test_bitcoin_filtered.info\n \t$(MKDIR_P) qa/tmp\n-\t-@TIMEOUT=15 qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool 1 18444\n+\t-@TIMEOUT=15 qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool 0 18444\n \t$(LCOV) -c -d $(abs_builddir)/src --t BitcoinJBlockTest -o $@\n \t$(LCOV) -z -d $(abs_builddir)/src\n \t$(LCOV) -z -d $(abs_builddir)/src/leveldb\n@@ -148,7 +148,7 @@ endif\n if USE_COMPARISON_TOOL\n check-local:\n \t$(MKDIR_P) qa/tmp\n-\t@qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool 1 18444\n+\t@qa/pull-tester/run-bitcoind-for-test.sh $(JAVA) -jar $(JAVA_COMPARISON_TOOL) qa/tmp/compTool $(COMPARISON_TOOL_REORG_TESTS) 18444\n endif\n \n EXTRA_DIST = $(top_srcdir)/share/genbuild.sh qa/pull-tester/pull-tester.sh $(WINDOWS_PACKAGING) $(OSX_PACKAGING)"
      },
      {
        "sha": "f6d870f332da2a5294ef9962bc2c4fa381d1f07b",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 16,
        "deletions": 1,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
        "patch": "@@ -69,10 +69,15 @@ AC_ARG_ENABLE(tests,\n     [use_tests=yes])\n \n AC_ARG_WITH([comparison-tool],\n-    AS_HELP_STRING([with-comparison-tool],[path to java comparison tool (requires --enable-tests)]),\n+    AS_HELP_STRING([--with-comparison-tool],[path to java comparison tool (requires --enable-tests)]),\n     [use_comparison_tool=$withval],\n     [use_comparison_tool=no])\n \n+AC_ARG_ENABLE([comparison-tool-reorg-tests],\n+    AS_HELP_STRING([--enable-comparison-tool-reorg-tests],[enable expensive reorg tests in the comparison tool (default no)]),\n+    [use_comparison_tool_reorg_tests=$enableval],\n+    [use_comparison_tool_reorg_tests=no])\n+\n AC_ARG_WITH([qrencode],\n   [AS_HELP_STRING([--with-qrencode],\n   [enable QR code support (default is yes if qt is enabled and libqrencode is found)])],\n@@ -235,6 +240,15 @@ if test x$use_comparison_tool != xno; then\n   AC_SUBST(JAVA_COMPARISON_TOOL, $use_comparison_tool)\n fi\n \n+if test x$use_comparison_tool_reorg_tests != xno; then\n+  if test x$use_comparison_tool == x; then\n+    AC_MSG_ERROR(\"comparison tool reorg tests but comparison tool was not specified\")\n+  fi\n+  AC_SUBST(COMPARISON_TOOL_REORG_TESTS, 1)\n+else\n+  AC_SUBST(COMPARISON_TOOL_REORG_TESTS, 0)\n+fi\n+\n if test x$use_lcov == xyes; then\n   if test x$LCOV == x; then\n     AC_MSG_ERROR(\"lcov testing requested but lcov not found\")\n@@ -678,6 +692,7 @@ AM_CONDITIONAL([TARGET_WINDOWS], [test x$TARGET_OS = xwindows])\n AM_CONDITIONAL([USE_QRCODE], [test x$use_qr = xyes])\n AM_CONDITIONAL([USE_LCOV],[test x$use_lcov == xyes])\n AM_CONDITIONAL([USE_COMPARISON_TOOL],[test x$use_comparison_tool != xno])\n+AM_CONDITIONAL([USE_COMPARISON_TOOL_REORG_TESTS],[test x$use_comparison_tool_reorg_test != xno])\n \n AC_DEFINE(CLIENT_VERSION_MAJOR, _CLIENT_VERSION_MAJOR, [Major version])\n AC_DEFINE(CLIENT_VERSION_MINOR, _CLIENT_VERSION_MINOR, [Minor version])"
      },
      {
        "sha": "9640bcaf675b9d9041821500e274e32260efc8a3",
        "filename": "qa/pull-tester/build-tests.sh.in",
        "status": "modified",
        "additions": 8,
        "deletions": 3,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/qa/pull-tester/build-tests.sh.in",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/47b9374e39a00d6e981aa1f4d0175d9426d91ac8/qa/pull-tester/build-tests.sh.in",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/build-tests.sh.in?ref=47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
        "patch": "@@ -9,8 +9,9 @@ set -o xtrace\n \n MINGWPREFIX=$1\n JAVA_COMPARISON_TOOL=$2\n-JOBS=${3-1}\n-OUT_DIR=${4-}\n+RUN_LARGE_REORGS=$3\n+JOBS=${4-1}\n+OUT_DIR=${5-}\n \n if [ $# -lt 2 ]; then\n   echo \"Usage: $0 [mingw-prefix] [java-comparison-tool] <make jobs> <save output dir>\"\n@@ -32,7 +33,11 @@ cd @abs_top_srcdir@\n make distdir\n mv $DISTDIR linux-build\n cd linux-build\n-./configure --disable-silent-rules --disable-ccache --with-comparison-tool=\"$JAVA_COMPARISON_TOOL\"\n+if [ $RUN_LARGE_REORGS = 1 ]; then\n+  ./configure --disable-silent-rules --disable-ccache --with-comparison-tool=\"$JAVA_COMPARISON_TOOL\" --enable-comparison-tool-reorg-tests\n+else\n+  ./configure --disable-silent-rules --disable-ccache --with-comparison-tool=\"$JAVA_COMPARISON_TOOL\"\n+fi\n make -j$JOBS\n \n # link interesting binaries to parent out/ directory, if it exists. Do this before"
      }
    ]
  },
  {
    "sha": "a27253dc007faaa37efa090a26c2515522efc141",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphMjcyNTNkYzAwN2ZhYWEzN2VmYTA5MGEyNmMyNTE1NTIyZWZjMTQx",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-28T05:20:09Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "git@bluematt.me",
        "date": "2013-10-28T05:22:07Z"
      },
      "message": "pull-tester.py: Re-enable coverage msg, new args to run test script",
      "tree": {
        "sha": "deeca9ce1aac4329bd5e971dee45e0acdfab2093",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/deeca9ce1aac4329bd5e971dee45e0acdfab2093"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a27253dc007faaa37efa090a26c2515522efc141",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a27253dc007faaa37efa090a26c2515522efc141",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a27253dc007faaa37efa090a26c2515522efc141",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a27253dc007faaa37efa090a26c2515522efc141/comments",
    "author": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "TheBlueMatt",
      "id": 649246,
      "node_id": "MDQ6VXNlcjY0OTI0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/649246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TheBlueMatt",
      "html_url": "https://github.com/TheBlueMatt",
      "followers_url": "https://api.github.com/users/TheBlueMatt/followers",
      "following_url": "https://api.github.com/users/TheBlueMatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/TheBlueMatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TheBlueMatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TheBlueMatt/subscriptions",
      "organizations_url": "https://api.github.com/users/TheBlueMatt/orgs",
      "repos_url": "https://api.github.com/users/TheBlueMatt/repos",
      "events_url": "https://api.github.com/users/TheBlueMatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TheBlueMatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/47b9374e39a00d6e981aa1f4d0175d9426d91ac8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/47b9374e39a00d6e981aa1f4d0175d9426d91ac8"
      }
    ],
    "stats": {
      "total": 9,
      "additions": 7,
      "deletions": 2
    },
    "files": [
      {
        "sha": "6a7c45ccd12b86565d395bca970d304fd25262c6",
        "filename": "qa/pull-tester/pull-tester.py",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a27253dc007faaa37efa090a26c2515522efc141/qa/pull-tester/pull-tester.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a27253dc007faaa37efa090a26c2515522efc141/qa/pull-tester/pull-tester.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/qa/pull-tester/pull-tester.py?ref=a27253dc007faaa37efa090a26c2515522efc141",
        "patch": "@@ -67,7 +67,12 @@ def commentOn(commentUrl, success, inMerge, needTests, linkUrl):\n                                   auth=(os.environ['GITHUB_USER'], os.environ[\"GITHUB_AUTH_TOKEN\"]))\n \n     if success == True:\n-        post_data = { \"body\" : \"Automatic sanity-testing: PASSED, see \" + linkUrl + \" for binaries and test log.\" + common_message}\n+        if needTests:\n+            message = \"Automatic sanity-testing: PLEASE ADD TEST-CASES, though technically passed. See \" + linkUrl + \" for binaries and test log.\"\n+        else:\n+            message = \"Automatic sanity-testing: PASSED, see \" + linkUrl + \" for binaries and test log.\"\n+\n+        post_data = { \"body\" : message + common_message}\n     elif inMerge:\n         post_data = { \"body\" : \"Automatic sanity-testing: FAILED MERGE, see \" + linkUrl + \" for test log.\" + \"\"\"\n \n@@ -113,7 +118,7 @@ def testpull(number, comment_url, clone_url, commit):\n     run(\"chown -R ${BUILD_USER}:${BUILD_GROUP} ${CHROOT_COPY}/${OUT_DIR}\", fail_hard=False)\n \n     script = os.environ[\"BUILD_PATH\"]+\"/qa/pull-tester/pull-tester.sh\"\n-    script += \" ${BUILD_PATH} ${MINGW_DEPS_DIR} ${SCRIPTS_DIR}/BitcoindComparisonTool.jar 6 ${OUT_DIR}\"\n+    script += \" ${BUILD_PATH} ${MINGW_DEPS_DIR} ${SCRIPTS_DIR}/BitcoindComparisonTool_jar/BitcoindComparisonTool.jar 0 6 ${OUT_DIR}\"\n     returncode = run(\"chroot ${CHROOT_COPY} sudo -u ${BUILD_USER} -H timeout ${TEST_TIMEOUT} \"+script,\n                      fail_hard=False, stdout=out, stderr=out)\n "
      }
    ]
  }
]