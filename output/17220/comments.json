[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545335591",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#issuecomment-545335591",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17220",
    "id": 545335591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTMzNTU5MQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-23T08:39:36Z",
    "updated_at": "2019-10-23T08:39:36Z",
    "author_association": "MEMBER",
    "body": "ACK, thanks for adding tests.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545335591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545640828",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#issuecomment-545640828",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/17220",
    "id": 545640828,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NTY0MDgyOA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-23T21:18:23Z",
    "updated_at": "2019-10-23T21:18:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK https://github.com/bitcoin/bitcoin/commit/b05ec410f2d9f209796a5df31860e23efd729dfe",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/545640828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337804740",
    "pull_request_review_id": 305577252,
    "id": 337804740,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzNzgwNDc0MA==",
    "diff_hunk": "@@ -61,4 +62,85 @@ BOOST_AUTO_TEST_CASE(compress_amounts)\n         BOOST_CHECK(TestDecode(i));\n }\n \n+BOOST_AUTO_TEST_CASE(compress_script_to_ckey_id)\n+{\n+    // case CKeyID\n+    CKey key;\n+    key.MakeNewKey(true);\n+    CPubKey pubkey = key.GetPubKey();\n+\n+    CScript script;\n+    script.clear();\n+    script << OP_DUP << OP_HASH160 << ToByteVector(pubkey.GetID()) << OP_EQUALVERIFY << OP_CHECKSIG;",
    "path": "src/test/compress_tests.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "b05ec410f2d9f209796a5df31860e23efd729dfe",
    "original_commit_id": "3208906574ed07cf9c8ae7a6efa69dc20890f664",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: This could be put in one line by immediately assigning the script on the declaration: `CScript script = CScript() << OP_DUP ..... << OP_CHECKSIG` (also applies to the other three functions).",
    "created_at": "2019-10-23T00:24:34Z",
    "updated_at": "2019-10-23T17:50:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r337804740",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337804740"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r337804740"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/337804740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 72,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 74,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338111701",
    "pull_request_review_id": 305974169,
    "id": 338111701,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODExMTcwMQ==",
    "diff_hunk": "@@ -61,4 +62,85 @@ BOOST_AUTO_TEST_CASE(compress_amounts)\n         BOOST_CHECK(TestDecode(i));\n }\n \n+BOOST_AUTO_TEST_CASE(compress_script_to_ckey_id)\n+{\n+    // case CKeyID\n+    CKey key;\n+    key.MakeNewKey(true);\n+    CPubKey pubkey = key.GetPubKey();\n+\n+    CScript script;\n+    script.clear();\n+    script << OP_DUP << OP_HASH160 << ToByteVector(pubkey.GetID()) << OP_EQUALVERIFY << OP_CHECKSIG;",
    "path": "src/test/compress_tests.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "b05ec410f2d9f209796a5df31860e23efd729dfe",
    "original_commit_id": "3208906574ed07cf9c8ae7a6efa69dc20890f664",
    "user": {
      "login": "adamjonas",
      "id": 755825,
      "node_id": "MDQ6VXNlcjc1NTgyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamjonas",
      "html_url": "https://github.com/adamjonas",
      "followers_url": "https://api.github.com/users/adamjonas/followers",
      "following_url": "https://api.github.com/users/adamjonas/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamjonas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
      "organizations_url": "https://api.github.com/users/adamjonas/orgs",
      "repos_url": "https://api.github.com/users/adamjonas/repos",
      "events_url": "https://api.github.com/users/adamjonas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamjonas/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "wouldn't assigning the script on the declaration remove the opportunity to call `.clear()` on it?",
    "created_at": "2019-10-23T15:14:34Z",
    "updated_at": "2019-10-23T17:50:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338111701",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338111701"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338111701"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338111701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 72,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 74,
    "side": "RIGHT",
    "in_reply_to_id": 337804740
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338123981",
    "pull_request_review_id": 305989975,
    "id": 338123981,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODEyMzk4MQ==",
    "diff_hunk": "@@ -61,4 +62,85 @@ BOOST_AUTO_TEST_CASE(compress_amounts)\n         BOOST_CHECK(TestDecode(i));\n }\n \n+BOOST_AUTO_TEST_CASE(compress_script_to_ckey_id)\n+{\n+    // case CKeyID\n+    CKey key;\n+    key.MakeNewKey(true);\n+    CPubKey pubkey = key.GetPubKey();\n+\n+    CScript script;\n+    script.clear();\n+    script << OP_DUP << OP_HASH160 << ToByteVector(pubkey.GetID()) << OP_EQUALVERIFY << OP_CHECKSIG;",
    "path": "src/test/compress_tests.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "b05ec410f2d9f209796a5df31860e23efd729dfe",
    "original_commit_id": "3208906574ed07cf9c8ae7a6efa69dc20890f664",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think that calling `.clear()` is needed here at all, since newly constructed `CScript`s are empty anyway?",
    "created_at": "2019-10-23T15:35:23Z",
    "updated_at": "2019-10-23T17:50:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338123981",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338123981"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338123981"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338123981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 72,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 74,
    "side": "RIGHT",
    "in_reply_to_id": 337804740
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338135215",
    "pull_request_review_id": 306004486,
    "id": 338135215,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDMzODEzNTIxNQ==",
    "diff_hunk": "@@ -61,4 +62,85 @@ BOOST_AUTO_TEST_CASE(compress_amounts)\n         BOOST_CHECK(TestDecode(i));\n }\n \n+BOOST_AUTO_TEST_CASE(compress_script_to_ckey_id)\n+{\n+    // case CKeyID\n+    CKey key;\n+    key.MakeNewKey(true);\n+    CPubKey pubkey = key.GetPubKey();\n+\n+    CScript script;\n+    script.clear();\n+    script << OP_DUP << OP_HASH160 << ToByteVector(pubkey.GetID()) << OP_EQUALVERIFY << OP_CHECKSIG;",
    "path": "src/test/compress_tests.cpp",
    "position": null,
    "original_position": 21,
    "commit_id": "b05ec410f2d9f209796a5df31860e23efd729dfe",
    "original_commit_id": "3208906574ed07cf9c8ae7a6efa69dc20890f664",
    "user": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't think we need to `clear()` it, since the default constructor `CScript()` constructs a (logically) empty `CScript`.",
    "created_at": "2019-10-23T15:55:24Z",
    "updated_at": "2019-10-23T17:50:37Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338135215",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338135215"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/17220#discussion_r338135215"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/17220"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/338135215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 72,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 74,
    "side": "RIGHT",
    "in_reply_to_id": 337804740
  }
]