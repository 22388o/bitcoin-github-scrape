[
  {
    "sha": "4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0YjE4M2QzM2YzNjQ3NzE0YmI2ZWIzOWUxZDFjM2U1NGQyYjJhYWVj",
    "commit": {
      "author": {
        "name": "Marko Bencun",
        "email": "marko.bencun@monetas.net",
        "date": "2017-02-22T07:12:37Z"
      },
      "committer": {
        "name": "Marko Bencun",
        "email": "marko.bencun@monetas.net",
        "date": "2017-02-22T11:32:47Z"
      },
      "message": "Remove block file location upgrade code\n\nAn effort to reduce the size of AppInitMain().\n\nThe removed code upgrades the location of the block files when\nupgrading to 0.8. 0.8 seems to be the oldest version still in use.",
      "tree": {
        "sha": "f41586cd8db0d4eaec423a012e973cc3c100a342",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f41586cd8db0d4eaec423a012e973cc3c100a342"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "5628c70f2a44567695e5331fe2293c5b7f35b629",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5628c70f2a44567695e5331fe2293c5b7f35b629",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5628c70f2a44567695e5331fe2293c5b7f35b629"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 1,
      "deletions": 26
    },
    "files": [
      {
        "sha": "cf4b75a849e9d7ebee4ea2426f3f89f3e7ab1480",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 26,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=4b183d33f3647714bb6eb39e1d1c3e54d2b2aaec",
        "patch": "@@ -1353,32 +1353,7 @@ bool AppInitMain(boost::thread_group& threadGroup, CScheduler& scheduler)\n     fReindex = GetBoolArg(\"-reindex\", false);\n     bool fReindexChainState = GetBoolArg(\"-reindex-chainstate\", false);\n \n-    // Upgrading to 0.8; hard-link the old blknnnn.dat files into /blocks/\n-    boost::filesystem::path blocksDir = GetDataDir() / \"blocks\";\n-    if (!boost::filesystem::exists(blocksDir))\n-    {\n-        boost::filesystem::create_directories(blocksDir);\n-        bool linked = false;\n-        for (unsigned int i = 1; i < 10000; i++) {\n-            boost::filesystem::path source = GetDataDir() / strprintf(\"blk%04u.dat\", i);\n-            if (!boost::filesystem::exists(source)) break;\n-            boost::filesystem::path dest = blocksDir / strprintf(\"blk%05u.dat\", i-1);\n-            try {\n-                boost::filesystem::create_hard_link(source, dest);\n-                LogPrintf(\"Hardlinked %s -> %s\\n\", source.string(), dest.string());\n-                linked = true;\n-            } catch (const boost::filesystem::filesystem_error& e) {\n-                // Note: hardlink creation failing is not a disaster, it just means\n-                // blocks will get re-downloaded from peers.\n-                LogPrintf(\"Error hardlinking blk%04u.dat: %s\\n\", i, e.what());\n-                break;\n-            }\n-        }\n-        if (linked)\n-        {\n-            fReindex = true;\n-        }\n-    }\n+    boost::filesystem::create_directories(GetDataDir() / \"blocks\");\n \n     // cache size calculations\n     int64_t nTotalCache = (GetArg(\"-dbcache\", nDefaultDbCache) << 20);"
      }
    ]
  }
]