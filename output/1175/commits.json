[
  {
    "sha": "aab1f950aaa0f2123bdf2d18cd548709928f2ede",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphYWIxZjk1MGFhYTBmMjEyM2JkZjJkMThjZDU0ODcwOTkyOGYyZWRl",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-01T15:54:07Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2012-05-01T15:54:07Z"
      },
      "message": "small translation-file handling / loading changes and re-work comments to be clearer",
      "tree": {
        "sha": "f12137a1887368831b6a6d63bd8be5326dbefa23",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/f12137a1887368831b6a6d63bd8be5326dbefa23"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/aab1f950aaa0f2123bdf2d18cd548709928f2ede",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aab1f950aaa0f2123bdf2d18cd548709928f2ede",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/aab1f950aaa0f2123bdf2d18cd548709928f2ede",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/aab1f950aaa0f2123bdf2d18cd548709928f2ede/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "bd51e8ef8a388bfd1a7c774fac8e68eefe12da32",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bd51e8ef8a388bfd1a7c774fac8e68eefe12da32",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bd51e8ef8a388bfd1a7c774fac8e68eefe12da32"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 14,
      "deletions": 13
    },
    "files": [
      {
        "sha": "e752269ca1cc05c6e12f579efcb38fd273819cdc",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 14,
        "deletions": 13,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/aab1f950aaa0f2123bdf2d18cd548709928f2ede/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/aab1f950aaa0f2123bdf2d18cd548709928f2ede/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=aab1f950aaa0f2123bdf2d18cd548709928f2ede",
        "patch": "@@ -187,30 +187,31 @@ int main(int argc, char *argv[])\n     // ... then GUI settings:\n     OptionsModel optionsModel;\n \n-    // Get desired locale (\"en_US\") from command line or system locale\n+    // Get desired locale (e.g. \"de_DE\") from command line or use system locale\n     QString lang_territory = QString::fromStdString(GetArg(\"-lang\", QLocale::system().name().toStdString()));\n-    // Load language files for configured locale:\n-    // - First load the translator for the base language, without territory\n-    // - Then load the more specific locale translator\n     QString lang = lang_territory;\n+    // Convert to \"de\" only by truncating \"_DE\"\n+    lang.truncate(lang_territory.lastIndexOf('_'));\n \n-    lang.truncate(lang_territory.lastIndexOf('_')); // \"en\"\n     QTranslator qtTranslatorBase, qtTranslator, translatorBase, translator;\n+    // Load language files for configured locale:\n+    // - First load the translator for the base language, without territory\n+    // - Then load the more specific locale translator\n \n-    qtTranslatorBase.load(QLibraryInfo::location(QLibraryInfo::TranslationsPath) + \"/qt_\" + lang);\n-    if (!qtTranslatorBase.isEmpty())\n+    // Load e.g. qt_de.qm\n+    if (qtTranslatorBase.load(\"qt_\" + lang, QLibraryInfo::location(QLibraryInfo::TranslationsPath)))\n         app.installTranslator(&qtTranslatorBase);\n \n-    qtTranslator.load(QLibraryInfo::location(QLibraryInfo::TranslationsPath) + \"/qt_\" + lang_territory);\n-    if (!qtTranslator.isEmpty())\n+    // Load e.g. qt_de_DE.qm\n+    if (qtTranslator.load(\"qt_\" + lang_territory, QLibraryInfo::location(QLibraryInfo::TranslationsPath)))\n         app.installTranslator(&qtTranslator);\n \n-    translatorBase.load(\":/translations/\"+lang);\n-    if (!translatorBase.isEmpty())\n+    // Load e.g. bitcoin_de.qm (shortcut \"de\" needs to be defined in bitcoin.qrc)\n+    if (translatorBase.load(lang, \":/translations/\"))\n         app.installTranslator(&translatorBase);\n \n-    translator.load(\":/translations/\"+lang_territory);\n-    if (!translator.isEmpty())\n+    // Load e.g. bitcoin_de_DE.qm (shortcut \"de_DE\" needs to be defined in bitcoin.qrc)\n+    if (translator.load(lang_territory, \":/translations/\"))\n         app.installTranslator(&translator);\n \n     QSplashScreen splash(QPixmap(\":/images/splash\"), 0);"
      }
    ]
  }
]