[
  {
    "sha": "2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyZjZmZTRlNGU5ZTllMzVlNzEzYzBhMjBjZjg5MWIwMjM1OTIxMTBh",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-11-26T17:01:19Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-12-03T18:51:39Z"
      },
      "message": "ci: Build with --enable-werror by default, and document exceptions",
      "tree": {
        "sha": "7846bb617b2d8e01c88fd358b74557a677a60dc0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7846bb617b2d8e01c88fd358b74557a677a60dc0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAl/JM7sACgkQQQEIES5+\nqB+iYg/+OXb778doqkftRnCxm9QvB8+VmlC4MBrO/HaLSzdlZflByY8b8FF+sTXX\nOxLmtD6LUU+c3c99ajnkakcHUt5+/QbkAAe53VCGiUVFhkhJUxxDpSyp0IyVuvQ0\nBHayKXdmov2MMkDzjHFFnxv7xZQjFEUBjAkoQ86rmMudKpO49qtxp8ME9NB58e91\nfoIgoaz25o0R2Bvhf1PFOoa5aoReF7wRuGTa/G1YfxMrHQOHA46VOh9CPt5hEZ7x\nzu1GSS+L2HupVVCLsIndc0a738HkeV6hXSclCeNVZNyB5pWSE0+15xogCZ4CsjE6\nlQrAJ29qizVgTBTPxKbRQBqBUcG1i+gNY5L+NWFR9Wi/2IEotL1OXHhKB453exd8\nJyJWIpjchMxNVJcUXTTntOAiELnZqfcfsatJjrj3b8mTdss1fkSW7FAMh4QIwwgp\nmUWVLh2nxfwRl0DHh4397/Uoq3OzKSnOzwbZbD3qSW24KZuY8pVPy5cd1QA1X9VP\n1HWjT9pmknKtrRTV/rdrGQEkV7g75Dn5xB/tDaY/HwBxJN0he2pjh3yNfF1AbQjR\n5xb+AYnKmQUbslqIeuTQws6xRjxeVN78J3k2f/eq176yYsmOGLGpXSWrnB2mI5wX\nNW1TzSfE1hp65kZC8qxuHJnj/sfJQBEr3xgZS2wvpHrBp3HAHco=\n=PO2O\n-----END PGP SIGNATURE-----",
        "payload": "tree 7846bb617b2d8e01c88fd358b74557a677a60dc0\nparent a0489f3472f3799dc1ece32a59556fd239c4c14b\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1606410079 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1607021499 +0200\n\nci: Build with --enable-werror by default, and document exceptions\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a0489f3472f3799dc1ece32a59556fd239c4c14b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0489f3472f3799dc1ece32a59556fd239c4c14b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a0489f3472f3799dc1ece32a59556fd239c4c14b"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 11,
      "deletions": 4
    },
    "files": [
      {
        "sha": "42783197a974a16970603fccbbabe3c0045033f6",
        "filename": "ci/test/00_setup_env_arm.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_arm.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_arm.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_arm.sh?ref=2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
        "patch": "@@ -25,4 +25,4 @@ export RUN_FUNCTIONAL_TESTS=false\n export GOAL=\"install\"\n # -Wno-psabi is to disable ABI warnings: \"note: parameter passing for argument of type ... changed in GCC 7.1\"\n # This could be removed once the ABI change warning does not show up by default\n-export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CXXFLAGS=-Wno-psabi --enable-werror --with-boost-process\"\n+export BITCOIN_CONFIG=\"--enable-glibc-back-compat --enable-reduce-exports CXXFLAGS=-Wno-psabi --with-boost-process\""
      },
      {
        "sha": "5bda37d46dcdbfd6ad0196de917e25d76cc7c5e6",
        "filename": "ci/test/00_setup_env_mac.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_mac.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_mac.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_mac.sh?ref=2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
        "patch": "@@ -15,4 +15,4 @@ export XCODE_BUILD_ID=11C505\n export RUN_UNIT_TESTS=false\n export RUN_FUNCTIONAL_TESTS=false\n export GOAL=\"deploy\"\n-export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --enable-werror --with-boost-process\"\n+export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --with-boost-process\""
      },
      {
        "sha": "274a0d1b7c6fc78ae771cbdda70ae1663a3d329d",
        "filename": "ci/test/00_setup_env_mac_host.sh",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_mac_host.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_mac_host.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_mac_host.sh?ref=2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
        "patch": "@@ -9,7 +9,7 @@ export LC_ALL=C.UTF-8\n export HOST=x86_64-apple-darwin18\n export PIP_PACKAGES=\"zmq\"\n export GOAL=\"install\"\n-export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --enable-werror --with-boost-process\"\n+export BITCOIN_CONFIG=\"--with-gui --enable-reduce-exports --with-boost-process\"\n export CI_OS_NAME=\"macos\"\n export NO_DEPENDS=1\n export OSX_SDK=\"\""
      },
      {
        "sha": "affaaaa1aa2935f9e02b24c2e253fe2b17a24dee",
        "filename": "ci/test/00_setup_env_win64.sh",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_win64.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/00_setup_env_win64.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/00_setup_env_win64.sh?ref=2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
        "patch": "@@ -14,3 +14,7 @@ export RUN_FUNCTIONAL_TESTS=false\n export RUN_SECURITY_TESTS=\"true\"\n export GOAL=\"deploy\"\n export BITCOIN_CONFIG=\"--enable-reduce-exports --disable-gui-tests --without-boost-process\"\n+\n+# Compiler for MinGW-w64 causes false -Wreturn-type warning.\n+# See https://sourceforge.net/p/mingw-w64/bugs/306/\n+export NO_WERROR=1"
      },
      {
        "sha": "d99068cb1095b469285687050828586bc684e8eb",
        "filename": "ci/test/06_script_a.sh",
        "status": "modified",
        "additions": 4,
        "deletions": 1,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/06_script_a.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/2f6fe4e4e9e9e35e713c0a20cf891b023592110a/ci/test/06_script_a.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/ci/test/06_script_a.sh?ref=2f6fe4e4e9e9e35e713c0a20cf891b023592110a",
        "patch": "@@ -6,7 +6,10 @@\n \n export LC_ALL=C.UTF-8\n \n-BITCOIN_CONFIG_ALL=\"--disable-dependency-tracking --prefix=$DEPENDS_DIR/$HOST --bindir=$BASE_OUTDIR/bin --libdir=$BASE_OUTDIR/lib\"\n+BITCOIN_CONFIG_ALL=\"--enable-suppress-external-warnings --disable-dependency-tracking --prefix=$DEPENDS_DIR/$HOST --bindir=$BASE_OUTDIR/bin --libdir=$BASE_OUTDIR/lib\"\n+if [ -z \"$NO_WERROR\" ]; then\n+  BITCOIN_CONFIG_ALL=\"${BITCOIN_CONFIG_ALL} --enable-werror\"\n+fi\n DOCKER_EXEC \"ccache --zero-stats --max-size=$CCACHE_SIZE\"\n \n BEGIN_FOLD autogen"
      }
    ]
  }
]