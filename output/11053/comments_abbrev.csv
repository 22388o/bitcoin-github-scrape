practicalswift,2017-08-15T15:56:50Z,Concept ACK üëç ,https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322509163,322509163,
paveljanik,2017-08-15T16:17:11Z,"```\nqt/notificator.cpp:27:10: error: 'macnotificationhandler.h' file not found with <angled> include; use ""quotes"" instead\n```",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322514476,322514476,
jnewbery,2017-08-15T17:27:42Z,"Concept ACK.\n\nAre you planing on squashing everything to a single commit? Intermediate commits are broken (eg 15d3a6d3343f27e8c01faa5674a2fe406488eac3 breaks building `script_error.cpp`)",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322532910,322532910,
ryanofsky,2017-08-15T17:43:09Z,"I think it is possible to do more of this as a scripted diff. I was looking into this this morning, and the following command seemed to work well for switching all include paths that don't depend on the current directory from `""""` to `<>` syntax:\n\n```bash\nfor f in \\n  src/*.cpp \\n  src/*.h \\n  src/bench/*.cpp \\n  src/bench/*.h \\n  src/compat/*.cpp \\n  src/compat/*.h \\n  src/con",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322537018,322537018,
ryanofsky,2017-08-15T17:54:56Z,"My branch is here (2 commits): https://github.com/ryanofsky/bitcoin/commits/pr/inc\n\nIt also updates developer notes. Feel free to take anything there that might be useful",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322540152,322540152,
laanwj,2017-08-15T18:21:12Z,"> Are you planing on squashing everything to a single commit? Intermediate commits are broken (eg 15d3a6d breaks building script_error.cpp)\n\nYes, before merging we could squash it. Before then, the current order of commits is easer to keep up to date with master.\n\n> I think it is possible to do more of this as a scripted diff\n\nI'm not entirely sure how to rebase on top of your changes,",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322547189,322547189,
jonasschnelli,2017-08-15T18:27:04Z,"Great.\nutACK cbe3ac57583a683a82a05ab93dec1fb4877ba5c4",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322548819,322548819,
laanwj,2017-08-15T19:11:54Z,"@ryanofsky \nI've adopted your script a bit and now it gets even closer:\n```\n  base=${f%/*}/ relbase=${base#src/} sed -i ""s:#include \""\(.*\)\""\(.*\):if test -e \$base'\\1'; then echo '#include <'\$relbase'\\1>\\2'; else echo '#include <\\1>\\2'; fi:e"" $f\n```\n",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322560537,322560537,
laanwj,2017-08-15T19:28:36Z,"Changed the base commit to modified @ryanofsky's script. The rest of the changes is much smaller now.\n\nAlso the individual commits should build because I moved the `-I` build system change to the end. ",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322564542,322564542,
promag,2017-08-16T07:17:44Z,641d4c5 üëè  utACK 895330f.,https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322687253,322687253,
theuni,2017-08-17T00:01:45Z,"This makes me nervous without a subdir-as-a-namespace. gcc (i assume most others as well) searches -I's left-to-right, meaning that something with a generic name like ""config.h"" could end up including something from the system if we manage to add our ""-I(builddir)"" after some other path.\n\nTesting with ```include <amount.h>``` for example, I was able to change ```MAX_MONEY``` by copying amount.",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322931956,322931956,
laanwj,2017-08-17T07:04:19Z,"> This makes me nervous without a subdir-as-a-namespace. gcc (i assume most others as well) searches -I's left-to-right, meaning that something with a generic name like ""config.h"" could end up including something from the system if we manage to add our ""-I(builddir)"" after some other path.\n\nBut isn't that true for `""""` as well?\nThe only difference is that """" tries relative to the current dir",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322986765,322986765,
laanwj,2017-08-17T07:11:22Z,"> Would it make sense to use -I$(top_builddir) and #include <src/amount.h> as a precaution?\n\nDo you know of any projects that do this?\n\nClosing this for now, on further thought, this creates more issues than it solves I guess.\n",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-322988090,322988090,
ryanofsky,2017-08-17T09:28:57Z,"> Closing this for now, on further thought, this creates more issues than it solves I guess.\n\nIs this only being closed because of the issue theuni raised? Or are there other problems?\n\nMy earlier scripted diff ([branch](https://github.com/ryanofsky/bitcoin/commits/pr/inc)) is neutral with respect to the issue theuni is talking about because it leaves includes that are relative to the sour",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323018001,323018001,
laanwj,2017-08-17T10:47:37Z,"> Is this only being closed because of the issue theuni raised? Or are there other problems?\n\nBecause of the issue theuni raised. I don't see any way out of that, he's right and we're already screwed, and this doesn't make it better (though it does make things more consistent, if they mess up! I have to stand by that. You won't have file A including the right copy and file B including the wron",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323034950,323034950,
promag,2017-08-17T11:00:39Z,"In Qt I think each module uses """" for self headers and <> for other module headers and everything else. But *public* headers always use <>.",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323037561,323037561,
laanwj,2017-08-17T11:05:17Z,"> if you do this consistently, I guess you could even remove -I completely for the project itself\n\nI'm somewhat starting to like this idea. Make all includes relative and correct, then lose `-I`. What are the drawbacks?\n\nEdit: To answer this myself, I guess things can become ambiguous if you have chains of include files including each other. E.g. `""primitives/primitives.h""` including `""../",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323038549,323038549,
theuni,2017-08-17T12:10:28Z,"@laanwj I think it's too early to close this. I was thinking outloud about any potential drawbacks, but that's not to say that this creates more problems than it solves. As you mentioned, both of those potential issues are very unlikely.",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323053732,323053732,
ryanofsky,2017-08-17T12:33:02Z,"> As you mentioned, both of those potential issues are very unlikely.\n\nCould someone state clearly what two potential issues this PR causes? I think I might have missed that there is more than one issue...",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323059163,323059163,
theuni,2017-08-17T12:54:37Z,"@ryanofsky \n1. Potentially causing compilation issues with generic header names (util.h for example) if -I$(builddir) isn't first on the list. This is already an issue due to source files in subdirs, but the likelihood increases with this change.\n2. Due to 1., potentially making it easier for someone in a shared dev environment to hijack a header with no indication. I don't think this is reali",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323064966,323064966,
ryanofsky,2017-08-17T13:14:41Z,"Thanks! Just to give my opinion, I think any of the following changes would be simple and minimally disruptive improvements on the status quo:\n\n1) A change using `-Isrc` and `#include<full_path>` everywhere that would make the build slightly more vulnerable to theuni's issues than we already are, but would make it more obvious what file is being included in the normal case where you don't have",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-323069831,323069831,
ryanofsky,2017-10-12T17:55:01Z,"This has acks from me, jonas, and promag, as well as concept acks from jnewbery and practicalswift and cory withdrew his objection. @laanwj can this be rebased and merged?",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-336216108,336216108,
MarcoFalke,2017-11-08T18:55:44Z,I think this is open for grabs,https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-342922191,342922191,
ryanofsky,2017-11-09T20:35:20Z,"> I think this is open for grabs\n\nWhat does this mean? Maybe there should be a tag for PRs where author wants someone to take over or needs help with something.",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-343283115,343283115,
MarcoFalke,2017-11-09T21:28:45Z,"Ah. I think I meant ""this is *up* for grabs"".",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-343297373,343297373,
meshcollider,2017-11-10T01:27:28Z,"I'll rebase and open a new PR, I'm happy to maintain it since it already has so many ACKs",https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-343346868,343346868,
fanquake,2017-11-10T02:02:50Z,Closing now that #11651 is open.,https://github.com/bitcoin/bitcoin/pull/11053#issuecomment-343352691,343352691,
ryanofsky,2017-08-15T20:05:56Z,"The include is being lost here because of the apostophe in the comment. I think replacing `echo '...'` with `echo \""...\""` in the script should fix it.",https://github.com/bitcoin/bitcoin/pull/11053#discussion_r133289177,133289177,src/qt/test/compattests.cpp
laanwj,2017-08-16T06:48:40Z,"Seems to work, apparently we're nowhere using "" in comment after include :-)",https://github.com/bitcoin/bitcoin/pull/11053#discussion_r133369993,133369993,src/qt/test/compattests.cpp
