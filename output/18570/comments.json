[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611431358",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611431358",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611431358,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzMTM1OA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:32:42Z",
    "updated_at": "2020-04-09T09:32:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Concept ACK. Could:\r\n> \r\n> * Add tests\r\n> * Add documentation about this guideline to `doc/developer-notes.md` where `BlockUntilSyncedToCurrentChain` is also documented\r\n\r\nMany thanks. \r\n\r\nHave added a new functional test `rpc_getbalances.py` and a new entry on `getbalances` and that it uses `m_last_block_processed` to populate `lastblock`field.\r\n\r\nHowever, not sure if the docs I added is sufficient enough.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611431358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433136",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611433136",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611433136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzMzEzNg==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:37:01Z",
    "updated_at": "2020-04-09T09:37:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "And again, GitHub closed my pull request. This makes no sense, I just force pushed it.\r\nOk, will have to open a new PR with the same content. Sorry!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433373",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611433373",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611433373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzMzM3Mw==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:37:32Z",
    "updated_at": "2020-04-09T09:37:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fanquake \r\nMaybe you can reopen it?\r\nWe had this problem in the past already. Not sure why GitHub is doing it.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433645",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611433645",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611433645,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzMzY0NQ==",
    "user": {
      "login": "fanquake",
      "id": 863730,
      "node_id": "MDQ6VXNlcjg2MzczMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/863730?u=a0e0040aacd7d4f0787481e8ac30b494fa429e11&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fanquake",
      "html_url": "https://github.com/fanquake",
      "followers_url": "https://api.github.com/users/fanquake/followers",
      "following_url": "https://api.github.com/users/fanquake/following{/other_user}",
      "gists_url": "https://api.github.com/users/fanquake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fanquake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fanquake/subscriptions",
      "organizations_url": "https://api.github.com/users/fanquake/orgs",
      "repos_url": "https://api.github.com/users/fanquake/repos",
      "events_url": "https://api.github.com/users/fanquake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fanquake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:38:12Z",
    "updated_at": "2020-04-09T09:38:12Z",
    "author_association": "MEMBER",
    "body": "I cannot. You'll likely have to open a new PR.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611433645/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611434096",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611434096",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611434096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzNDA5Ng==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:39:14Z",
    "updated_at": "2020-04-09T09:39:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I cannot. You'll likely have to open a new PR.\r\n\r\nOk, no problem. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611434096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611436261",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611436261",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611436261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzNjI2MQ==",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?u=4a9af998e1a560b3f49c3827f453e1bcbe6a5cfb&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:44:29Z",
    "updated_at": "2020-04-09T09:44:29Z",
    "author_association": "MEMBER",
    "body": "@brakmic see this:\r\n\r\n<img width=\"995\" alt=\"Screenshot 2020-04-09 at 10 43 55\" src=\"https://user-images.githubusercontent.com/3534524/78881699-13b73400-7a4f-11ea-8626-25d49dc38b7d.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611436261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611436928",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611436928",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611436928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzNjkyOA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:45:56Z",
    "updated_at": "2020-04-09T09:45:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "@promag \r\nThanks. \r\nI'll try it. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611436928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611439382",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611439382",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611439382,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQzOTM4Mg==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T09:51:48Z",
    "updated_at": "2020-04-09T09:51:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @brakmic see this:\r\n> \r\n> <img alt=\"Screenshot 2020-04-09 at 10 43 55\" width=\"995\" src=\"https://user-images.githubusercontent.com/3534524/78881699-13b73400-7a4f-11ea-8626-25d49dc38b7d.png\">\r\n\r\nReopened. Thanks, @promag ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611439382/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611447394",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611447394",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611447394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQ0NzM5NA==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T10:10:38Z",
    "updated_at": "2020-04-09T10:10:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Concept ACK.\r\n\r\nVery good idea, to add \"valid as of ...\" stamp to the returned data. What about also adding the height to make it easy/obvious which one is newer, assuming a few requests:\r\n\r\n```\r\n\"lastblock\": {\r\n    \"hash\": \"5ba7e8b9a9e6aed88b4641257ef13ecaace1211688f5b5fec99cad36e1650e5d\",\r\n    \"height\": 12345\r\n}\r\n```\r\n\r\nBut it's good even without that.\r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611447394/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611449030",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611449030",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611449030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQ0OTAzMA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T10:14:46Z",
    "updated_at": "2020-04-09T10:14:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Concept ACK.\r\n> \r\n> Very good idea, to add \"valid as of ...\" stamp to the returned data. What about also adding the height to make it easy/obvious which one is newer, assuming a few requests:\r\n> \r\n> ```\r\n> \"lastblock\": {\r\n>     \"hash\": \"5ba7e8b9a9e6aed88b4641257ef13ecaace1211688f5b5fec99cad36e1650e5d\",\r\n>     \"height\": 12345\r\n> }\r\n> ```\r\n> \r\n> But it's good even without that.\r\n> \r\n> Thanks!\r\n\r\nAs wallet already has `GetLastBlockHeight()`we could make `lastblock` a UniValue::VOBJ and populate it with hash and height. ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611449030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611463296",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611463296",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611463296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQ2MzI5Ng==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T10:49:43Z",
    "updated_at": "2020-04-09T10:49:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Concept ACK.\r\n> \r\n> Very good idea, to add \"valid as of ...\" stamp to the returned data. What about also adding the height to make it easy/obvious which one is newer, assuming a few requests:\r\n> \r\n> ```\r\n> \"lastblock\": {\r\n>     \"hash\": \"5ba7e8b9a9e6aed88b4641257ef13ecaace1211688f5b5fec99cad36e1650e5d\",\r\n>     \"height\": 12345\r\n> }\r\n> ```\r\n> \r\n> But it's good even without that.\r\n> \r\n> Thanks!\r\n\r\nHave updated the code, please check.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611463296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611498517",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611498517",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611498517,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQ5ODUxNw==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T12:22:40Z",
    "updated_at": "2020-04-09T12:22:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Code review ACK. Needs git cleanup (squashing). Verified that there are no concurrency issues between getting the balance and the fetching the wallets bestblock.\r\n\r\nnit: i'm not 100% sure about the term `lastblock`. Maybe we should use `lastprocessedblock`.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611498517/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611499444",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-611499444",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 611499444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMTQ5OTQ0NA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-09T12:25:06Z",
    "updated_at": "2020-04-09T12:25:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Code review ACK. Needs git cleanup (squashing). Verified that there are no concurrency issues between getting the balance and the fetching the wallets bestblock.\r\n> \r\n> nit: i'm not 100% sure about the term `lastblock`. Maybe we should use `lastprocessedblock`.\r\n\r\nThanks.\r\nRegarding `lastblock`: yes, it makes more sense. Will update the variable name throughout the code & docs.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/611499444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612143718",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612143718",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612143718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE0MzcxOA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T17:52:58Z",
    "updated_at": "2020-04-10T17:52:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@brakmic: Don't know how strict the rules are with those kinds of nits, but the local diff shows some trailing whitespace:\r\n![grafik](https://user-images.githubusercontent.com/91535/79011371-30915b80-7b64-11ea-8dc8-26a8cf97194d.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612143718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612144447",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612144447",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612144447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE0NDQ0Nw==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T17:54:43Z",
    "updated_at": "2020-04-10T17:54:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @brakmic: Don't know how strict the rules are with those kinds of nits, but the local diff shows some trailing whitespace:\r\n> ![grafik](https://user-images.githubusercontent.com/91535/79011371-30915b80-7b64-11ea-8dc8-26a8cf97194d.png)\r\n\r\nOk, will wait for travis.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612144447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612147183",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612147183",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612147183,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE0NzE4Mw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T18:00:59Z",
    "updated_at": "2020-04-10T18:00:59Z",
    "author_association": "MEMBER",
    "body": "Travis fails as expected",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612147183/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612178446",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612178446",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612178446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE3ODQ0Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T19:16:14Z",
    "updated_at": "2020-04-10T19:16:14Z",
    "author_association": "MEMBER",
    "body": "`gettransaction` and `getwalletinfo` should also be trivial to amend, since they return an object already",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612178446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612179566",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612179566",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612179566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE3OTU2Ng==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T19:19:06Z",
    "updated_at": "2020-04-10T19:19:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> `gettransaction` and `getwalletinfo` should also be trivial to amend, since they return an object already\r\n\r\nOk. Should I try to include them in this PR as well?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612179566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612180150",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612180150",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612180150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE4MDE1MA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T19:20:51Z",
    "updated_at": "2020-04-10T19:20:51Z",
    "author_association": "MEMBER",
    "body": "> Ok. Should I try to include them in this PR as well?\r\n\r\nYes, from what I could tell, adding it there seemed to be uncontroversial.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612180150/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612199644",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612199644",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612199644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjE5OTY0NA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T20:18:54Z",
    "updated_at": "2020-04-10T20:18:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > Ok. Should I try to include them in this PR as well?\r\n> \r\n> Yes, from what I could tell, adding it there seemed to be uncontroversial.\r\n\r\nUpdated PR info, expanded code, tests & release notes.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612199644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612238327",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612238327",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612238327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjIzODMyNw==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-10T22:04:01Z",
    "updated_at": "2020-04-10T22:04:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "> ACK looks good, just nits\r\n\r\nThanks.\r\n\r\nHave added:\r\n\r\n* static _RPCResult_ variable **RESULT_LAST_PROCESSED_BLOCK**\r\n* lock-aware **AppendLastProcessedBlock** function \r\n* fixed styling + removed redundant function call in wallet_balance.py",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612238327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612321664",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612321664",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612321664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjMyMTY2NA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T04:19:21Z",
    "updated_at": "2020-05-07T11:40:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18788 (wallet: tests: Update more tests to work with descriptor wallets by achow101)\n* #18354 (Protect wallet by using shared pointers by bvbfan)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612321664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612412568",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612412568",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612412568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQxMjU2OA==",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T12:42:15Z",
    "updated_at": "2020-04-11T12:42:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "c99444c4f127d9d33c26410206b5ed536e613c14 fails with the functional test `wallet_basic.py` on my machine:\r\n```\r\n...\r\n2020-04-11T12:38:15.577000Z TestFramework (INFO): Testing gettransaction response with different arguments...\r\n2020-04-11T12:38:15.584000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/honeybadger/buidl/bitcoin_thestack/test/functional/test_framework/test_framework.py\", line 112, in main\r\n    self.run_test()\r\n  File \"test/functional/wallet_basic.py\", line 520, in run_test\r\n    assert_equal(set([*tx]), expected_fields)\r\n  File \"/home/honeybadger/buidl/bitcoin_thestack/test/functional/test_framework/util.py\", line 46, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not({'time', 'hex', 'walletconflicts', 'timereceived', 'bip125-replaceable', 'confirmations', 'txid', 'details', 'amount', 'trusted', 'lastprocessedblock', 'fee'} == frozenset({'time', 'hex', 'walletconflicts', 'timereceived', 'bip125-replaceable', 'confirmations', 'txid', 'trusted', 'details', 'amount', 'fee'}))\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612412568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612413476",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612413476",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612413476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQxMzQ3Ng==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T12:46:59Z",
    "updated_at": "2020-04-11T13:21:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "> [c99444c](https://github.com/bitcoin/bitcoin/commit/c99444c4f127d9d33c26410206b5ed536e613c14) fails with the functional test `wallet_basic.py` on my machine:\r\n\r\nOn my machine it looks OK:\r\n\r\n```shell\r\n./test/functional/test_runner.py wallet_basic                                           (4s 289ms)  \r\nTemporary test directory at /var/folders/7q/4ffytzk562dd2ky4bfg9_w7h0000gn/T/test_runner_\u20bf_\ud83c\udfc3_20200411_144508\r\nRemaining jobs: [wallet_basic.py]\r\n1/1 - wallet_basic.py passed, Duration: 51 s                                                          \r\n\r\nTEST            | STATUS    | DURATION\r\n\r\nwallet_basic.py | \u2713 Passed  | 51 s\r\n\r\nALL             | \u2713 Passed  | 51 s (accumulated) \r\nRuntime: 51 s\r\n```\r\n\r\nDo you have the latest version? I just changed a few things, like `rpcdump.cpp`.\r\n\r\n**--EDIT ... sorry, wrong PR. I am also working on another one. \r\nWill check again!**",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612413476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612414879",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612414879",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612414879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQxNDg3OQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T12:53:50Z",
    "updated_at": "2020-04-11T12:53:50Z",
    "author_association": "MEMBER",
    "body": "It fails on travis and appveyor as well",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612414879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612418131",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612418131",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612418131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQxODEzMQ==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T13:11:02Z",
    "updated_at": "2020-04-11T13:11:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "> It fails on travis and appveyor as well\r\n\r\nWill check it again.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612418131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612420327",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612420327",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612420327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQyMDMyNw==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T13:22:50Z",
    "updated_at": "2020-04-11T13:22:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Interesting, on my machine (a macOS Catalina 10.15.4) I am still not getting any errors when executing `./test/functional/test_runner.py wallet_basic`.\r\n\r\nWill have to dig deeper, it seems.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612420327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612420790",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612420790",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612420790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQyMDc5MA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T13:25:29Z",
    "updated_at": "2020-04-11T13:25:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke travis isn't showing any error logs? Only that it wasn't able to fetch them.\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612420790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612422296",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612422296",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612422296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQyMjI5Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T13:32:58Z",
    "updated_at": "2020-04-11T13:32:58Z",
    "author_association": "MEMBER",
    "body": "Error is the same on appveyor: https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/32103450#L4902\r\n\r\nMake sure to run `git log -1 && git status && make clean && make && ./test/functional/wallet_basic.py` to reproduce the issue.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612422296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612427516",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612427516",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612427516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQyNzUxNg==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T13:58:54Z",
    "updated_at": "2020-04-11T13:58:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Error is the same on appveyor: https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/32103450#L4902\r\n> \r\n> Make sure to run `git log -1 && git status && make clean && make && ./test/functional/wallet_basic.py` to reproduce the issue.\r\n\r\nThe frozenset `expected_fields` on line 513 needed `lastprocessedblock` to pass the test.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612427516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612474458",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612474458",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612474458,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQ3NDQ1OA==",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?u=17d35db6d21a792a73c54469705cff5da63abe5f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T17:41:50Z",
    "updated_at": "2020-04-11T17:41:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke \r\n\r\nThe `interface_rest` test fails on appveyor with `OSError: [WinError 10048] Only one usage of each socket address (protocol/network address/port) is normally permitted`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612474458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612487659",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-612487659",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 612487659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxMjQ4NzY1OQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-11T18:44:44Z",
    "updated_at": "2020-04-11T18:44:44Z",
    "author_association": "MEMBER",
    "body": "ACK 0ac3e82d210635b9e5cb72be481ea699902920d8",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/612487659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618172710",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-618172710",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 618172710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODE3MjcxMA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T04:37:54Z",
    "updated_at": "2020-04-23T04:37:54Z",
    "author_association": "MEMBER",
    "body": "I'm not sure this is the right approach, interface-wise, especially for calls like `gettransaction`, where the info gets embedded in the JSON transaction itself.\r\n\r\nMaybe it'd be better to just guarantee atomicity for batch requests?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618172710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618227615",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-618227615",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 618227615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODIyNzYxNQ==",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?u=d06d2903ce6ad8b9d0c66ef9225fa21adfe22c7f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T07:21:29Z",
    "updated_at": "2020-04-23T07:21:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Maybe it'd be better to just guarantee atomicity for batch requests?\r\n\r\nAtomicity of batch requests would be good from user point of view, no doubt about it. But it would not fully cover what this PR is trying to do - provide a kind of \"stamp\" for the returned data - \"this is valid as of block XYZ (height 123)\". I think this is important given the volatility of the data - it may no longer be accurate when it gets to the client or the client may do something with it at a later time.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618227615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618377950",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-618377950",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 618377950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODM3Nzk1MA==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T12:37:53Z",
    "updated_at": "2020-04-23T12:37:53Z",
    "author_association": "MEMBER",
    "body": "You would batch any call with `getstamp`",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618377950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618419227",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-618419227",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 618419227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODQxOTIyNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T14:14:43Z",
    "updated_at": "2020-04-23T14:14:43Z",
    "author_association": "MEMBER",
    "body": "> You would batch any call with getstamp\r\n\r\nSo wallets are unusable by clients that don't have batch support implemented?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618419227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618515706",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-618515706",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 618515706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODUxNTcwNg==",
    "user": {
      "login": "luke-jr",
      "id": 1095675,
      "node_id": "MDQ6VXNlcjEwOTU2NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1095675?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luke-jr",
      "html_url": "https://github.com/luke-jr",
      "followers_url": "https://api.github.com/users/luke-jr/followers",
      "following_url": "https://api.github.com/users/luke-jr/following{/other_user}",
      "gists_url": "https://api.github.com/users/luke-jr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luke-jr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luke-jr/subscriptions",
      "organizations_url": "https://api.github.com/users/luke-jr/orgs",
      "repos_url": "https://api.github.com/users/luke-jr/repos",
      "events_url": "https://api.github.com/users/luke-jr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luke-jr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T16:55:50Z",
    "updated_at": "2020-04-23T16:55:50Z",
    "author_association": "MEMBER",
    "body": "\"Unusable\" seems a bit strong here.\r\n\r\nBut yes, \"I don't want to implement it\" isn't an excuse to pick a bad interface...",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/618515706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619650667",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#issuecomment-619650667",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/18570",
    "id": 619650667,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTY1MDY2Nw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T00:34:57Z",
    "updated_at": "2020-04-27T00:34:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/619650667/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405883771",
    "pull_request_review_id": 390411027,
    "id": 405883771,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg4Mzc3MQ==",
    "diff_hunk": "@@ -2399,6 +2400,11 @@ static UniValue getbalances(const JSONRPCRequest& request)\n     const auto bal = wallet.GetBalance();\n     UniValue balances{UniValue::VOBJ};\n     {\n+        Optional<int> height = locked_chain->getHeight();\n+        if (height) {\n+            uint256 lastblock = locked_chain->getBlockHash(height.get());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "090181649d677feb4cd32fbccceffbc3af7b08d9",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "this is incorrect, I believe. The chain can proceed to the next block after the call to BlockUntilSyncedToCurrentChain, but the wallet may not catch up until the lock is taken in the next line.\r\n\r\nThis should be wallet.m_last_block_processed",
    "created_at": "2020-04-09T00:05:52Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r405883771",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405883771"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r405883771"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405883771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2405,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405887478",
    "pull_request_review_id": 390415193,
    "id": 405887478,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg4NzQ3OA==",
    "diff_hunk": "@@ -2369,6 +2369,7 @@ static UniValue getbalances(const JSONRPCRequest& request)\n         RPCResult{\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n+                {RPCResult::Type::STR_HEX, \"lastblock\", \"The hash of the block the balances were valid on\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "090181649d677feb4cd32fbccceffbc3af7b08d9",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could move this last, since it is the least-important information?",
    "created_at": "2020-04-09T00:18:48Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r405887478",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405887478"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r405887478"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/405887478/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2372,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077208",
    "pull_request_review_id": 390634745,
    "id": 406077208,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA3NzIwOA==",
    "diff_hunk": "@@ -2399,6 +2400,11 @@ static UniValue getbalances(const JSONRPCRequest& request)\n     const auto bal = wallet.GetBalance();\n     UniValue balances{UniValue::VOBJ};\n     {\n+        Optional<int> height = locked_chain->getHeight();\n+        if (height) {\n+            uint256 lastblock = locked_chain->getBlockHash(height.get());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 14,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "090181649d677feb4cd32fbccceffbc3af7b08d9",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks!\r\n\r\nHave changed the code by introducing a new wallet function **GetLastBlockHash()** that returns `m_last_block_processed `.",
    "created_at": "2020-04-09T09:30:31Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406077208",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077208"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406077208"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2405,
    "side": "RIGHT",
    "in_reply_to_id": 405883771
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077343",
    "pull_request_review_id": 390634920,
    "id": 406077343,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA3NzM0Mw==",
    "diff_hunk": "@@ -2369,6 +2369,7 @@ static UniValue getbalances(const JSONRPCRequest& request)\n         RPCResult{\n             RPCResult::Type::OBJ, \"\", \"\",\n             {\n+                {RPCResult::Type::STR_HEX, \"lastblock\", \"The hash of the block the balances were valid on\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "090181649d677feb4cd32fbccceffbc3af7b08d9",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2020-04-09T09:30:46Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406077343",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077343"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406077343"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406077343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2372,
    "side": "RIGHT",
    "in_reply_to_id": 405887478
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406101315",
    "pull_request_review_id": 390664170,
    "id": 406101315,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMTMxNQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "s/m_last_block_processed/lastblock/",
    "created_at": "2020-04-09T10:12:36Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406101315",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406101315"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406101315"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406101315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406102753",
    "pull_request_review_id": 390664170,
    "id": 406102753,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwMjc1Mw==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`\n+  field. As this call locks the chainstate we can also inform about the block\n+  the balances were valid on.",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 6,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Maybe worth mentioning the result shouldn't be cached because importing new keys could invalidate it. Instead of \"were valid on\" maybe say \"were calculated/computed/evaluated on\"?",
    "created_at": "2020-04-09T10:15:11Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406102753",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406102753"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406102753"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406102753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1085,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406106374",
    "pull_request_review_id": 390670159,
    "id": 406106374,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwNjM3NA==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I don't understand, sorry. We are returning `m_last_block_processed` in the field `lastblock`.",
    "created_at": "2020-04-09T10:22:09Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406106374",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406106374"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406106374"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406106374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406101315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406108967",
    "pull_request_review_id": 390673345,
    "id": 406108967,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEwODk2Nw==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`\n+  field. As this call locks the chainstate we can also inform about the block\n+  the balances were valid on.",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 6,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. Have updated the wording and added a warning regarding caching of results.",
    "created_at": "2020-04-09T10:27:06Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406108967",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406108967"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406108967"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406108967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1085,
    "side": "RIGHT",
    "in_reply_to_id": 406102753
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406112111",
    "pull_request_review_id": 390677183,
    "id": 406112111,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExMjExMQ==",
    "diff_hunk": "@@ -2382,6 +2382,7 @@ static UniValue getbalances(const JSONRPCRequest& request)\n                     {RPCResult::Type::STR_AMOUNT, \"untrusted_pending\", \"untrusted pending balance (outputs created by others that are in the mempool)\"},\n                     {RPCResult::Type::STR_AMOUNT, \"immature\", \"balance from immature coinbase outputs\"},\n                 }},\n+                {RPCResult::Type::STR_HEX, \"lastblock\", \"The hash of the block the balances were valid on\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "dc862b6fdac65f174919824ecb8822a2b171877a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "calculated?",
    "created_at": "2020-04-09T10:33:12Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406112111",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406112111"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406112111"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406112111/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2385,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406114879",
    "pull_request_review_id": 390677183,
    "id": 406114879,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExNDg3OQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Sorry, I mean that we could avoid C++ variable names here. I was thinking something like\r\n```\r\n- The `getbalances` RPC now returns `lastblock` which is the wallet's last processed block\r\n  hash at the time the balances were calculated.\r\n```",
    "created_at": "2020-04-09T10:38:39Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406114879",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406114879"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406114879"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406114879/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406101315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406115859",
    "pull_request_review_id": 390677183,
    "id": 406115859,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExNTg1OQ==",
    "diff_hunk": "@@ -0,0 +1,40 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # Check JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Check if lastblock present and of type hash\n+        lastblock1 = balances['lastblock']\n+        assert_is_hash_string(lastblock1)",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 32,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "dc862b6fdac65f174919824ecb8822a2b171877a",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Compare with `self.nodes[0].getbestblockhash()` instead?",
    "created_at": "2020-04-09T10:40:35Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406115859",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406115859"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406115859"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406115859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 32,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406118589",
    "pull_request_review_id": 390684980,
    "id": 406118589,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExODU4OQ==",
    "diff_hunk": "@@ -2382,6 +2382,7 @@ static UniValue getbalances(const JSONRPCRequest& request)\n                     {RPCResult::Type::STR_AMOUNT, \"untrusted_pending\", \"untrusted pending balance (outputs created by others that are in the mempool)\"},\n                     {RPCResult::Type::STR_AMOUNT, \"immature\", \"balance from immature coinbase outputs\"},\n                 }},\n+                {RPCResult::Type::STR_HEX, \"lastblock\", \"The hash of the block the balances were valid on\"},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "dc862b6fdac65f174919824ecb8822a2b171877a",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, this too was changed when I converted `lastblock` into an object that contains both hash and height.",
    "created_at": "2020-04-09T10:46:02Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406118589",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406118589"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406118589"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406118589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2385,
    "side": "RIGHT",
    "in_reply_to_id": 406112111
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406119051",
    "pull_request_review_id": 390685533,
    "id": 406119051,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExOTA1MQ==",
    "diff_hunk": "@@ -0,0 +1,40 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # Check JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Check if lastblock present and of type hash\n+        lastblock1 = balances['lastblock']\n+        assert_is_hash_string(lastblock1)",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 32,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "dc862b6fdac65f174919824ecb8822a2b171877a",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, will update the tests. ",
    "created_at": "2020-04-09T10:47:04Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406119051",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406119051"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406119051"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406119051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 32,
    "side": "RIGHT",
    "in_reply_to_id": 406115859
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406125463",
    "pull_request_review_id": 390693368,
    "id": 406125463,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyNTQ2Mw==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The RPC call `getbalances` also returns `m_last_block_processed` in the `lastblock`",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "eaf28883292315a0a648f19cd94681b5383574f6",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. Have update the docs.",
    "created_at": "2020-04-09T11:00:38Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406125463",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406125463"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406125463"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406125463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406101315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406127831",
    "pull_request_review_id": 390696289,
    "id": 406127831,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEyNzgzMQ==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Keep current best block hash & height\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        # Move the chain again\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: lastblock should be a valid hash",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 35,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO these comments are unnecessary.",
    "created_at": "2020-04-09T11:05:40Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406127831",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406127831"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406127831"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406127831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 35,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406130665",
    "pull_request_review_id": 390699739,
    "id": 406130665,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzMDY2NQ==",
    "diff_hunk": "@@ -197,6 +197,7 @@\n     'feature_minchainwork.py',\n     'rpc_estimatefee.py',\n     'rpc_getblockstats.py',\n+    'rpc_getbalances.py',",
    "path": "test/functional/test_runner.py",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Note that test/functional/wallet_balance.py already exists and these tests could be placed there, particularly as any of the tests in that file that don't call getbalances yet should be converted to it (see #18451 which does that).",
    "created_at": "2020-04-09T11:11:47Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406130665",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406130665"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406130665"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406130665/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131045",
    "pull_request_review_id": 390696289,
    "id": 406131045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzMTA0NQ==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Keep current best block hash & height\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        # Move the chain again\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 34,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "IMO this 2nd round is unnecessary. I think you could factor out a `test_getbalances` function that would call `getbalances` and assert the result (and maybe just use `getblockchaininfo` to get chain tip). Then here you would do\r\n```\r\ntest_getbalances(self.nodes[0], ...)\r\ngeneratetoaddress(...)\r\ntest_getbalances(self.nodes[0], ...)\r\n```",
    "created_at": "2020-04-09T11:12:32Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131302",
    "pull_request_review_id": 390700524,
    "id": 406131302,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzMTMwMg==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block\n+  hash and height at the time the balances were calculated. As this call locks the chainstate we can also inform about the block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 5,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\"we can also inform about the balances\" -> I don't quite understand what this means.",
    "created_at": "2020-04-09T11:13:10Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131302",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131302"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131302"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1084,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131621",
    "pull_request_review_id": 390700893,
    "id": 406131621,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzMTYyMQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This seems to be information for the release note?",
    "created_at": "2020-04-09T11:13:47Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131621",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131621"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406131621"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406131621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406133429",
    "pull_request_review_id": 390703029,
    "id": 406133429,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzMzQyOQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\ud83e\udd23 indeed! my brain read release-notes.md..",
    "created_at": "2020-04-09T11:17:36Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406133429",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406133429"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406133429"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406133429/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406137067",
    "pull_request_review_id": 390707397,
    "id": 406137067,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjEzNzA2Nw==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block\n+  hash and height at the time the balances were calculated. As this call locks the chainstate we can also inform about the block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 5,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I was pointing to this sentence from the original issue:\r\n\r\n`\r\nThose calls could benefit if the block hash they were valid on was included in the response. For example, immature balance can only change when the chainstate changes. \r\n`\r\n\r\nMaybe I should reformulate the sentence.",
    "created_at": "2020-04-09T11:25:07Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406137067",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406137067"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406137067"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406137067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1084,
    "side": "RIGHT",
    "in_reply_to_id": 406131302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406144581",
    "pull_request_review_id": 390717289,
    "id": 406144581,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE0NDU4MQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should I change anything? Add further info?",
    "created_at": "2020-04-09T11:41:05Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406144581",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406144581"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406144581"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406144581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406152685",
    "pull_request_review_id": 390727059,
    "id": 406152685,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE1MjY4NQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Move this hunk to release notes, not developer notes.",
    "created_at": "2020-04-09T11:57:39Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406152685",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406152685"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406152685"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406152685/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406153777",
    "pull_request_review_id": 390728436,
    "id": 406153777,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE1Mzc3Nw==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, but what about the rest of the paragraph in developer-notes? Maybe I should rather keep it there as well?",
    "created_at": "2020-04-09T11:59:52Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406153777",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406153777"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406153777"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406153777/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406160551",
    "pull_request_review_id": 390736880,
    "id": 406160551,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE2MDU1MQ==",
    "diff_hunk": "@@ -197,6 +197,7 @@\n     'feature_minchainwork.py',\n     'rpc_estimatefee.py',\n     'rpc_getblockstats.py',\n+    'rpc_getbalances.py',",
    "path": "test/functional/test_runner.py",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks!\r\nHave updated the test and removed the now redundant rpc_getbalance.",
    "created_at": "2020-04-09T12:13:27Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406160551",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406160551"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406160551"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406160551/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 200,
    "side": "RIGHT",
    "in_reply_to_id": 406130665
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406161082",
    "pull_request_review_id": 390737472,
    "id": 406161082,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE2MTA4Mg==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Keep current best block hash & height\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        # Move the chain again\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: lastblock should be a valid hash",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 35,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Ok, will update (already updated) tests :)",
    "created_at": "2020-04-09T12:14:22Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406161082",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406161082"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406161082"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406161082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 35,
    "side": "RIGHT",
    "in_reply_to_id": 406127831
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406162129",
    "pull_request_review_id": 390738751,
    "id": 406162129,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE2MjEyOQ==",
    "diff_hunk": "@@ -0,0 +1,44 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2014-2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Test the getbalances RPC.\n+\n+- Generate a few blocks\n+- Check for certain fields in returned JSON\n+\"\"\"\n+\n+from test_framework.test_framework import BitcoinTestFramework\n+from test_framework.util import (assert_equal, assert_greater_than,\n+                                assert_is_hash_string)\n+\n+class GetBalancesTest (BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 1\n+        self.setup_clean_chain = True\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def run_test(self):\n+        # Move the chain\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        # TEST: JSON outputs\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+        assert_equal(balances['mine']['trusted'], 0)\n+        # Keep current best block hash & height\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        # Move the chain again\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)",
    "path": "test/functional/rpc_getbalances.py",
    "position": null,
    "original_position": 34,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Meanwhile, I've moved the tests into `wallet_balance`. There I'm just calling a single function to run all those tests: `test_lastblock_json_field`\r\n\r\nPlease, check.",
    "created_at": "2020-04-09T12:16:28Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406162129",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406162129"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406162129"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406162129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 34,
    "side": "RIGHT",
    "in_reply_to_id": 406131045
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406165532",
    "pull_request_review_id": 390742961,
    "id": 406165532,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE2NTUzMg==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@promag It seems, I can only change the 0.20.0 release (draft) notes here: https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.20.0-Release-Notes-Draft\r\n\r\nThe release-notes.md I have is pointing at it. \r\n\r\nI'm not sure if I should put an entry in 0.20.0 release notes when this PR is still unmerged. ",
    "created_at": "2020-04-09T12:23:10Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406165532",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406165532"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406165532"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406165532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406174671",
    "pull_request_review_id": 390754280,
    "id": 406174671,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3NDY3MQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block\n+  hash and height at the time the balances were calculated. As this call locks the chainstate we can also inform about the block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 5,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Have now removed the problematic sentence.",
    "created_at": "2020-04-09T12:40:04Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406174671",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406174671"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406174671"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406174671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1084,
    "side": "RIGHT",
    "in_reply_to_id": 406131302
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406180321",
    "pull_request_review_id": 390761463,
    "id": 406180321,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4MDMyMQ==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@brakmic I don't know if this is for 0.20, as the feature freeze was 3 weeks ago, but see the release notes section in developer-notes.md. Normally you don't edit release-notes.md, rather instead you create a file in doc/release-notes/ called release-note-18570.md.",
    "created_at": "2020-04-09T12:50:27Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406180321",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406180321"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406180321"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406180321/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181316",
    "pull_request_review_id": 390762698,
    "id": 406181316,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4MTMxNg==",
    "diff_hunk": "@@ -1080,6 +1080,9 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastprocessedblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "654d7812e50e78ecb7301f7aee19b3cdcf0cae93",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "returns a `lastprocessedblock` JSON object",
    "created_at": "2020-04-09T12:52:17Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406181316",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181316"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406181316"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181316/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181851",
    "pull_request_review_id": 390763454,
    "id": 406181851,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4MTg1MQ==",
    "diff_hunk": "@@ -11,6 +11,8 @@\n from test_framework.util import (\n     assert_equal,\n     assert_raises_rpc_error,\n+    assert_greater_than,\n+    assert_is_hash_string,",
    "path": "test/functional/wallet_balance.py",
    "position": 5,
    "original_position": 5,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "654d7812e50e78ecb7301f7aee19b3cdcf0cae93",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: sort order",
    "created_at": "2020-04-09T12:53:15Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406181851",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181851"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406181851"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406181851/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 14,
    "original_line": 14,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406182589",
    "pull_request_review_id": 390764429,
    "id": 406182589,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4MjU4OQ==",
    "diff_hunk": "@@ -257,5 +259,22 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock-object by comparing\n+            the hashes & heights between generated blocks.\n+            \"\"\"\n+            self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 18,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "654d7812e50e78ecb7301f7aee19b3cdcf0cae93",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Please add test logging if you retouch this, e.g. `self.log.info(\"Test getbalances returns expected lastprocessedblock json object\")`",
    "created_at": "2020-04-09T12:54:34Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406182589",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406182589"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406182589"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406182589/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 269,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406183398",
    "pull_request_review_id": 390765541,
    "id": 406183398,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4MzM5OA==",
    "diff_hunk": "@@ -257,5 +259,22 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock-object by comparing\n+            the hashes & heights between generated blocks.\n+            \"\"\"\n+            self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 18,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "654d7812e50e78ecb7301f7aee19b3cdcf0cae93",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "self.log.info is enough?",
    "created_at": "2020-04-09T12:56:04Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406183398",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406183398"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406183398"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406183398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 269,
    "side": "RIGHT",
    "in_reply_to_id": 406182589
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406186030",
    "pull_request_review_id": 390768961,
    "id": 406186030,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE4NjAzMA==",
    "diff_hunk": "@@ -257,5 +259,22 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock-object by comparing\n+            the hashes & heights between generated blocks.\n+            \"\"\"\n+            self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 18,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "654d7812e50e78ecb7301f7aee19b3cdcf0cae93",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "(I edited my comment just above with a suggestion)",
    "created_at": "2020-04-09T13:00:32Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406186030",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406186030"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406186030"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406186030/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 269,
    "side": "RIGHT",
    "in_reply_to_id": 406182589
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406194394",
    "pull_request_review_id": 390779864,
    "id": 406194394,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE5NDM5NA==",
    "diff_hunk": "@@ -1080,6 +1080,10 @@ A few guidelines for introducing and reviewing new RPC interfaces:\n     until the wallet is caught up to the chainstate as of the RPC call's entry.\n     This also makes the API much easier for RPC clients to reason about.\n \n+- The `getbalances` RPC now returns `lastblock` which contains the wallet's last processed block",
    "path": "doc/developer-notes.md",
    "position": null,
    "original_position": 4,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0246a6c89fd9987ab648c9f493953bf5db542ed0",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Added respective doc.",
    "created_at": "2020-04-09T13:14:50Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406194394",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406194394"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406194394"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406194394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1083,
    "side": "RIGHT",
    "in_reply_to_id": 406131621
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406841383",
    "pull_request_review_id": 391541717,
    "id": 406841383,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0MTM4Mw==",
    "diff_hunk": "@@ -257,5 +259,23 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock-object by comparing\n+            the hashes & heights between generated blocks.\n+            \"\"\"\n+            self.log.info(\"Test getbalances returns expected lastprocessedblock json object\")\n+            self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+            balances = self.nodes[0].getbalances()\n+            assert_greater_than(balances['mine']['immature'], 0)\n+            prev_hash = self.nodes[0].getbestblockhash()\n+            prev_height = self.nodes[0].getblock(prev_hash)['height']\n+            self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+            lastblock = self.nodes[0].getbalances()['lastprocessedblock']\n+            assert_is_hash_string(lastblock['hash'])\n+            assert_equal((prev_hash == lastblock['hash']), False)\n+            assert_greater_than(lastblock['height'], prev_height)\n+        test_lastprocessedblock_json_field()",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 29,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "d56f3a9558f23ac041f2ff111634b4ac827e32e1",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: would add an empty line in-between here, to mark the end of the function visually (same as for `test_balances()` above).",
    "created_at": "2020-04-10T16:44:49Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406841383",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406841383"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406841383"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406841383/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 277,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 290,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406842739",
    "pull_request_review_id": 391543371,
    "id": 406842739,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg0MjczOQ==",
    "diff_hunk": "@@ -0,0 +1,2 @@\n+- The `getbalances` RPC now returns `lastprocessedblock` JSON object which contains the wallet's last processed block",
    "path": "doc/release-notes-18570.md",
    "position": null,
    "original_position": 1,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "d56f3a9558f23ac041f2ff111634b4ac827e32e1",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: would add the undefined article \"a\" in front of `lastprocessedblock` here\r\n```suggestion\r\n- The `getbalances` RPC now returns a `lastprocessedblock` JSON object which contains the wallet's last processed block\r\n```",
    "created_at": "2020-04-10T16:48:04Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406842739",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406842739"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406842739"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406842739/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406862243",
    "pull_request_review_id": 391566306,
    "id": 406862243,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjg2MjI0Mw==",
    "diff_hunk": "@@ -0,0 +1,2 @@\n+- The `getbalances` RPC now returns `lastprocessedblock` JSON object which contains the wallet's last processed block",
    "path": "doc/release-notes-18570.md",
    "position": null,
    "original_position": 1,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "d56f3a9558f23ac041f2ff111634b4ac827e32e1",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks!",
    "created_at": "2020-04-10T17:34:30Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406862243",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406862243"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406862243"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406862243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1,
    "side": "RIGHT",
    "in_reply_to_id": 406842739
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406945763",
    "pull_request_review_id": 391665690,
    "id": 406945763,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk0NTc2Mw==",
    "diff_hunk": "@@ -1695,6 +1695,11 @@ static UniValue gettransaction(const JSONRPCRequest& request)\n                         {\n                             {RPCResult::Type::ELISION, \"\", \"Equivalent to the RPC decoderawtransaction method, or the RPC getrawtransaction method when `verbose` is passed.\"},\n                         }},\n+                        {RPCResult::Type::OBJ, \"lastprocessedblock\", \"hash and height of the block this transaction information was generated on\",\n+                            {\n+                            {RPCResult::Type::STR_HEX, \"hash\", \"hash of the block this transaction information was generated on\"},\n+                            {RPCResult::Type::NUM, \"height\", \"height of the block this transaction information was generated on\"},\n+                        }},",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 8,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "7c1173049cb51f3f0375a8a5bd3e204f83072175",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could this be made a `static const RPCResult RESULT_LAST_PROCESSED_BLOCK{RPCResult::Type::OBJ, \"lastprocessedbl...` to avoid boilerplate?\r\n```suggestion\r\n                        RESULT_LAST_PROCESSED_BLOCK,\r\n```",
    "created_at": "2020-04-10T21:09:48Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406945763",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406945763"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406945763"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406945763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1702,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946039",
    "pull_request_review_id": 391665690,
    "id": 406946039,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk0NjAzOQ==",
    "diff_hunk": "@@ -1753,6 +1758,11 @@ static UniValue gettransaction(const JSONRPCRequest& request)\n         entry.pushKV(\"decoded\", decoded);\n     }\n \n+    UniValue lastprocessedblock{UniValue::VOBJ};\n+    lastprocessedblock.pushKV(\"hash\", pwallet->GetLastBlockHash().GetHex());\n+    lastprocessedblock.pushKV(\"height\", pwallet->GetLastBlockHeight());\n+    entry.pushKV(\"lastprocessedblock\", lastprocessedblock);",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "7c1173049cb51f3f0375a8a5bd3e204f83072175",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Could this be made a helper to avoid boilerplate?\r\n\r\n```suggestion\r\n    AppendLastProccedBlock(entry);\r\n```",
    "created_at": "2020-04-10T21:10:48Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406946039",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946039"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406946039"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1764,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946747",
    "pull_request_review_id": 391665690,
    "id": 406946747,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk0Njc0Nw==",
    "diff_hunk": "@@ -257,5 +259,35 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock JSON object in getbalances, getwalletinfo \n+            and gettransaction by checking for valid hex strings and by comparing\n+            the hashes & heights between generated blocks.\n+            \"\"\"\n+            self.log.info(\"Test getbalances returns expected lastprocessedblock json object\")\n+            self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+            balances = self.nodes[0].getbalances()\n+            assert_greater_than(balances['mine']['immature'], 0)\n+            prev_hash = self.nodes[0].getbestblockhash()\n+            prev_height = self.nodes[0].getblock(prev_hash)['height']\n+            self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+            lastblock = self.nodes[0].getbalances()['lastprocessedblock']\n+            assert_is_hash_string(lastblock['hash'])\n+            assert_equal((prev_hash == lastblock['hash']), False)\n+            assert_greater_than(lastblock['height'], prev_height)\n+            self.log.info(\"Test getwalletinfo returns expected lastprocessedblock json object\")\n+            walletinfo = self.nodes[0].getwalletinfo()\n+            assert_greater_than(walletinfo['lastprocessedblock']['height'], 0)\n+            assert_is_hash_string(walletinfo['lastprocessedblock']['hash'])\n+            self.log.info(\"Test gettransaction returns expected lastprocessedblock json object\")",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 34,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "7c1173049cb51f3f0375a8a5bd3e204f83072175",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: Could add newlines before every log statement to aid readability?",
    "created_at": "2020-04-10T21:12:57Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406946747",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946747"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406946747"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406946747/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 283,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947242",
    "pull_request_review_id": 391667339,
    "id": 406947242,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk0NzI0Mg==",
    "diff_hunk": "@@ -257,5 +259,35 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():\n+            \"\"\"\n+            Tests the lastprocessedblock JSON object in getbalances, getwalletinfo ",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 15,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "7c1173049cb51f3f0375a8a5bd3e204f83072175",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```suggestion\r\n            Tests the lastprocessedblock JSON object in getbalances, getwalletinfo\r\n```",
    "created_at": "2020-04-10T21:14:17Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406947242",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947242"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406947242"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 264,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947600",
    "pull_request_review_id": 391667731,
    "id": 406947600,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk0NzYwMA==",
    "diff_hunk": "@@ -257,5 +259,35 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        def test_lastprocessedblock_json_field():",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 13,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "7c1173049cb51f3f0375a8a5bd3e204f83072175",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: no need to make this a function, because it is only called once. Could inline?",
    "created_at": "2020-04-10T21:15:30Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406947600",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947600"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406947600"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406947600/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 262,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406964945",
    "pull_request_review_id": 391687257,
    "id": 406964945,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2NDk0NQ==",
    "diff_hunk": "@@ -51,6 +51,19 @@ static inline bool GetAvoidReuseFlag(const CWallet* const pwallet, const UniValu\n     return avoid_reuse;\n }\n \n+static const RPCResult RESULT_LAST_PROCESSED_BLOCK { RPCResult::Type::OBJ, \"lastprocessedblock\", \"hash and height of the block this information was generated on\",{\n+    {RPCResult::Type::STR_HEX, \"hash\", \"hash of the block this information was generated on\"},\n+    {RPCResult::Type::NUM, \"height\", \"height of the block this information was generated on\"}}\n+};\n+\n+void AppendLastProcessedBlock(UniValue& entry, const CWallet* const pwallet) EXCLUSIVE_LOCKS_REQUIRED(pwallet->cs_wallet)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "1914dad299654091688224caeae39e2010615c62",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, to make sure this is not nullptr\r\n\r\n```suggestion\r\nvoid AppendLastProcessedBlock(UniValue& entry, const CWallet& wallet) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)\r\n```",
    "created_at": "2020-04-10T22:13:28Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406964945",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406964945"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406964945"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406964945/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406966094",
    "pull_request_review_id": 391688535,
    "id": 406966094,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2NjA5NA==",
    "diff_hunk": "@@ -51,6 +51,19 @@ static inline bool GetAvoidReuseFlag(const CWallet* const pwallet, const UniValu\n     return avoid_reuse;\n }\n \n+static const RPCResult RESULT_LAST_PROCESSED_BLOCK { RPCResult::Type::OBJ, \"lastprocessedblock\", \"hash and height of the block this information was generated on\",{\n+    {RPCResult::Type::STR_HEX, \"hash\", \"hash of the block this information was generated on\"},\n+    {RPCResult::Type::NUM, \"height\", \"height of the block this information was generated on\"}}\n+};\n+\n+void AppendLastProcessedBlock(UniValue& entry, const CWallet* const pwallet) EXCLUSIVE_LOCKS_REQUIRED(pwallet->cs_wallet)",
    "path": "src/wallet/rpcwallet.cpp",
    "position": null,
    "original_position": 9,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "1914dad299654091688224caeae39e2010615c62",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yeah, in *getbalances* they use a reference, but the other two functions use **pwallet**. My first thought was: let's change this to a reference, but this would be an unrelated task. \r\n\r\nWho knows, maybe later, in a new PR: \"transition from pwallet to wallet&\"...if possible.",
    "created_at": "2020-04-10T22:17:59Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406966094",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406966094"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r406966094"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/406966094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT",
    "in_reply_to_id": 406964945
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407069697",
    "pull_request_review_id": 391770387,
    "id": 407069697,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA2OTY5Nw==",
    "diff_hunk": "@@ -511,7 +511,8 @@ def run_test(self):\n                                  \"category\": baz[\"category\"],\n                                  \"vout\":     baz[\"vout\"]}\n         expected_fields = frozenset({'amount', 'bip125-replaceable', 'confirmations', 'details', 'fee',\n-                                     'hex', 'time', 'timereceived', 'trusted', 'txid', 'walletconflicts'})\n+                                     'hex', 'time', 'timereceived', 'trusted', 'txid', 'walletconflicts',\n+                                     'lastprocessedblock'})",
    "path": "test/functional/wallet_basic.py",
    "position": null,
    "original_position": 6,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0bfce2c16bcd8e85f4ef05849ea414c822a22523",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: sort",
    "created_at": "2020-04-11T14:22:27Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407069697",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407069697"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407069697"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407069697/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 515,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407071045",
    "pull_request_review_id": 391771369,
    "id": 407071045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzA3MTA0NQ==",
    "diff_hunk": "@@ -511,7 +511,8 @@ def run_test(self):\n                                  \"category\": baz[\"category\"],\n                                  \"vout\":     baz[\"vout\"]}\n         expected_fields = frozenset({'amount', 'bip125-replaceable', 'confirmations', 'details', 'fee',\n-                                     'hex', 'time', 'timereceived', 'trusted', 'txid', 'walletconflicts'})\n+                                     'hex', 'time', 'timereceived', 'trusted', 'txid', 'walletconflicts',\n+                                     'lastprocessedblock'})",
    "path": "test/functional/wallet_basic.py",
    "position": null,
    "original_position": 6,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0bfce2c16bcd8e85f4ef05849ea414c822a22523",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks. Corrected.",
    "created_at": "2020-04-11T14:35:05Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407071045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407071045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407071045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407071045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 515,
    "side": "RIGHT",
    "in_reply_to_id": 407069697
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105045",
    "pull_request_review_id": 391796531,
    "id": 407105045,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzEwNTA0NQ==",
    "diff_hunk": "@@ -257,5 +259,33 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        #Tests the lastprocessedblock JSON object in getbalances, getwalletinfo\n+        #and gettransaction by checking for valid hex strings and by comparing\n+        #the hashes & heights between generated blocks.\n+        self.log.info(\"Test getbalances returns expected lastprocessedblock json object\")\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+        lastblock = self.nodes[0].getbalances()['lastprocessedblock']\n+        assert_is_hash_string(lastblock['hash'])\n+        assert_equal((prev_hash == lastblock['hash']), False)\n+        assert_greater_than(lastblock['height'], prev_height)\n+\n+        self.log.info(\"Test getwalletinfo returns expected lastprocessedblock json object\")\n+        walletinfo = self.nodes[0].getwalletinfo()\n+        assert_greater_than(walletinfo['lastprocessedblock']['height'], 0)\n+        assert_is_hash_string(walletinfo['lastprocessedblock']['hash'])\n+\n+        self.log.info(\"Test gettransaction returns expected lastprocessedblock json object\")\n+        txid = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        self.nodes[0].generatetoaddress(6, self.nodes[0].get_deterministic_priv_key().address)\n+        tx_info = self.nodes[0].gettransaction(txid)\n+        assert_greater_than(walletinfo['lastprocessedblock']['height'], 0)",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 38,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0ac3e82d210635b9e5cb72be481ea699902920d8",
    "user": {
      "login": "theStack",
      "id": 91535,
      "node_id": "MDQ6VXNlcjkxNTM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/theStack",
      "html_url": "https://github.com/theStack",
      "followers_url": "https://api.github.com/users/theStack/followers",
      "following_url": "https://api.github.com/users/theStack/following{/other_user}",
      "gists_url": "https://api.github.com/users/theStack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/theStack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/theStack/subscriptions",
      "organizations_url": "https://api.github.com/users/theStack/orgs",
      "repos_url": "https://api.github.com/users/theStack/repos",
      "events_url": "https://api.github.com/users/theStack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/theStack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think you want to access the just one line above returned `tx_info` here, not `walletinfo`?",
    "created_at": "2020-04-11T20:03:15Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407105045",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105045"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407105045"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 287,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105332",
    "pull_request_review_id": 391796759,
    "id": 407105332,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzEwNTMzMg==",
    "diff_hunk": "@@ -257,5 +259,33 @@ def test_balances(*, fee_node_1=0):\n         assert_equal(self.nodes[0].getbalance(minconf=0), total_amount + 1)  # The reorg recovered our fee of 1 coin\n \n \n+        #Tests the lastprocessedblock JSON object in getbalances, getwalletinfo\n+        #and gettransaction by checking for valid hex strings and by comparing\n+        #the hashes & heights between generated blocks.\n+        self.log.info(\"Test getbalances returns expected lastprocessedblock json object\")\n+        self.nodes[0].generatetoaddress(2, self.nodes[0].get_deterministic_priv_key().address)\n+        balances = self.nodes[0].getbalances()\n+        assert_greater_than(balances['mine']['immature'], 0)\n+\n+        prev_hash = self.nodes[0].getbestblockhash()\n+        prev_height = self.nodes[0].getblock(prev_hash)['height']\n+        self.nodes[0].generatetoaddress(5, self.nodes[0].get_deterministic_priv_key().address)\n+        lastblock = self.nodes[0].getbalances()['lastprocessedblock']\n+        assert_is_hash_string(lastblock['hash'])\n+        assert_equal((prev_hash == lastblock['hash']), False)\n+        assert_greater_than(lastblock['height'], prev_height)\n+\n+        self.log.info(\"Test getwalletinfo returns expected lastprocessedblock json object\")\n+        walletinfo = self.nodes[0].getwalletinfo()\n+        assert_greater_than(walletinfo['lastprocessedblock']['height'], 0)\n+        assert_is_hash_string(walletinfo['lastprocessedblock']['hash'])\n+\n+        self.log.info(\"Test gettransaction returns expected lastprocessedblock json object\")\n+        txid = self.nodes[0].sendtoaddress(self.nodes[0].getnewaddress(), 1)\n+        self.nodes[0].generatetoaddress(6, self.nodes[0].get_deterministic_priv_key().address)\n+        tx_info = self.nodes[0].gettransaction(txid)\n+        assert_greater_than(walletinfo['lastprocessedblock']['height'], 0)",
    "path": "test/functional/wallet_balance.py",
    "position": null,
    "original_position": 38,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "0ac3e82d210635b9e5cb72be481ea699902920d8",
    "user": {
      "login": "brakmic",
      "id": 56779,
      "node_id": "MDQ6VXNlcjU2Nzc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56779?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/brakmic",
      "html_url": "https://github.com/brakmic",
      "followers_url": "https://api.github.com/users/brakmic/followers",
      "following_url": "https://api.github.com/users/brakmic/following{/other_user}",
      "gists_url": "https://api.github.com/users/brakmic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/brakmic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/brakmic/subscriptions",
      "organizations_url": "https://api.github.com/users/brakmic/orgs",
      "repos_url": "https://api.github.com/users/brakmic/repos",
      "events_url": "https://api.github.com/users/brakmic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/brakmic/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks!\r\nYes, `walletinfo` in this part is redundant as it got already checked in the previous code block.",
    "created_at": "2020-04-11T20:06:36Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407105332",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105332"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407105332"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407105332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 287,
    "side": "RIGHT",
    "in_reply_to_id": 407105045
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407487763",
    "pull_request_review_id": 392155629,
    "id": 407487763,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ4Nzc2Mw==",
    "diff_hunk": "@@ -51,6 +51,19 @@ static inline bool GetAvoidReuseFlag(const CWallet* const pwallet, const UniValu\n     return avoid_reuse;\n }\n \n+static const RPCResult RESULT_LAST_PROCESSED_BLOCK { RPCResult::Type::OBJ, \"lastprocessedblock\", \"hash and height of the block this information was generated on\",{\n+    {RPCResult::Type::STR_HEX, \"hash\", \"hash of the block this information was generated on\"},\n+    {RPCResult::Type::NUM, \"height\", \"height of the block this information was generated on\"}}\n+};\n+\n+void AppendLastProcessedBlock(UniValue& entry, const CWallet& wallet) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)\n+{\n+    AssertLockHeld(wallet.cs_wallet);\n+    UniValue lastprocessedblock{UniValue::VOBJ};\n+    lastprocessedblock.pushKV(\"hash\", wallet.GetLastBlockHash().GetHex());\n+    lastprocessedblock.pushKV(\"height\", wallet.GetLastBlockHeight());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "81955a0dc1ea0d69c349254721de395f13d3f68c",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`GetLastBlockHeight()` returns `m_last_block_processed_height` and there is this [strange scary comment](https://github.com/bitcoin/bitcoin/blob/d9fd7b5a675d94b99a5ee5b636bbc21088ed02fb/src/wallet/wallet.h#L712-L713) for it:\r\n\r\n> Height is a pointer on node's tip and doesn't imply that the wallet has scanned sequentially all blocks up to this one.\r\n\r\nIntroduced in https://github.com/bitcoin/bitcoin/pull/15931/files#diff-12635a58447c65585f51d32b7e04075bR697-R698\r\n\r\nBefore that it was\r\n\r\n> Note that this is *not* how far we've processed...\r\n\r\nfrom https://github.com/bitcoin/bitcoin/pull/10286/files#diff-12635a58447c65585f51d32b7e04075bR732-R734\r\n\r\nDoes this contradict with what we are trying to do here?",
    "created_at": "2020-04-13T13:50:29Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407487763",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407487763"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407487763"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407487763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 67,
    "original_line": 67,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407503478",
    "pull_request_review_id": 392175135,
    "id": 407503478,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzUwMzQ3OA==",
    "diff_hunk": "@@ -51,6 +51,19 @@ static inline bool GetAvoidReuseFlag(const CWallet* const pwallet, const UniValu\n     return avoid_reuse;\n }\n \n+static const RPCResult RESULT_LAST_PROCESSED_BLOCK { RPCResult::Type::OBJ, \"lastprocessedblock\", \"hash and height of the block this information was generated on\",{\n+    {RPCResult::Type::STR_HEX, \"hash\", \"hash of the block this information was generated on\"},\n+    {RPCResult::Type::NUM, \"height\", \"height of the block this information was generated on\"}}\n+};\n+\n+void AppendLastProcessedBlock(UniValue& entry, const CWallet& wallet) EXCLUSIVE_LOCKS_REQUIRED(wallet.cs_wallet)\n+{\n+    AssertLockHeld(wallet.cs_wallet);\n+    UniValue lastprocessedblock{UniValue::VOBJ};\n+    lastprocessedblock.pushKV(\"hash\", wallet.GetLastBlockHash().GetHex());\n+    lastprocessedblock.pushKV(\"height\", wallet.GetLastBlockHeight());",
    "path": "src/wallet/rpcwallet.cpp",
    "position": 14,
    "original_position": 14,
    "commit_id": "1e868bbbb1b3abdcc23109c10c1715f5a3f8407b",
    "original_commit_id": "81955a0dc1ea0d69c349254721de395f13d3f68c",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "> Does this contradict with what we are trying to do here?\r\n\r\nYes it does. Not sure how we should deal with old wallets that are catching up with the chain after being just loaded.",
    "created_at": "2020-04-13T14:22:25Z",
    "updated_at": "2020-05-10T07:36:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407503478",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407503478"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/18570#discussion_r407503478"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/18570"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/407503478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 67,
    "original_line": 67,
    "side": "RIGHT",
    "in_reply_to_id": 407487763
  }
]