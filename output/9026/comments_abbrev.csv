kazcw,2016-10-26T20:08:52Z,"Block source accounting serves multiple purposes: besides fixing DoS-score updates, doesn't this also eliminate all `nLastBlockTime` updates and some `reject` messages for compact blocks?\n",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-256462228,256462228,
sdaftuar,2016-10-27T13:45:19Z,"Yes, good point -- I'll rework, thanks for the review.\n",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-256644797,256644797,
sdaftuar,2016-10-31T14:45:28Z,"Reworked to try to avoid the problems pointed out by @kazcw.\n\nI don't really like this approach; I was planning to wait for the refactors being done by @TheBlueMatt elsewhere to settle down to try to fix this more cleanly, but he pointed out that we'd want to backport this bugfix to 0.13 so I went ahead and redid this in a way that is close to how the backport would look.\n\nDue to the code move",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-257312895,257312895,
sdaftuar,2016-11-01T15:21:48Z,"I discussed this with @TheBlueMatt, who pointed out that `FillBlock()` was calling `CheckBlock()` and returning READ_STATUS_INVALID on `CheckBlock()` failures that weren't due to merkle-root mismatches.  This would in turn cause peers to be banned.  Since the intention is to only require our peers to check proof-of-work before relaying, I added a way to distinguish a `CheckBlock()` failure from ot",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-257595250,257595250,
TheBlueMatt,2016-11-03T12:34:40Z,"Note that the follow on to #8969 will remove both the pfrom and the new bool parameter from ProcessNewBlock, so I'd really prefer not to create some wrapper to hide net-related crap when it's moving to the callsite soon (or we can discuss then).\n\nOn November 3, 2016 3:14:46 AM EDT, Pieter Wuille notifications@github.com wrote:\n\n> sipa commented on this pull request.\n> \n> > @@ -223,7 +223,7 @",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-258130317,258130317,
sdaftuar,2016-11-03T13:55:13Z,"Draft BIP update is here: https://github.com/bitcoin/bips/pull/473.\n\nIf there are no objections, my preference would be to merge this as-is without further changes to ProcessNewBlock's arguments and defer those discussions to the refactoring PRs that are in progress.\n",https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-258148650,258148650,
sdaftuar,2016-11-03T18:15:30Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-258228580,258228580,
gmaxwell,2016-11-08T00:10:10Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-259005068,259005068,
sipa,2016-11-08T01:52:57Z,utACK d4833ff74701cc97aab733c54adb8f46e602fa5e\n,https://github.com/bitcoin/bitcoin/pull/9026#issuecomment-259022133,259022133,
TheBlueMatt,2016-11-01T17:41:04Z,Nit: would prefer a default argument here so that the diff is simpler.\n,https://github.com/bitcoin/bitcoin/pull/9026#discussion_r85981904,85981904,src/main.h
kazcw,2016-11-01T18:13:16Z,"It might be worth defining a simple ""export version"" wrapper func that just takes (state, params, block), to insulate the mining code that needs to submit blocks from main.cpp internals more generally.\n",https://github.com/bitcoin/bitcoin/pull/9026#discussion_r85989742,85989742,src/main.h
sipa,2016-11-03T07:14:39Z,Agree with @kazcw here.\n,https://github.com/bitcoin/bitcoin/pull/9026#discussion_r86293365,86293365,src/main.h
