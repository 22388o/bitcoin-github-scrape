[
  {
    "sha": "d5f985e51f2863fda0c0d632e836eba42a5c3e15",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNWY5ODVlNTFmMjg2M2ZkYTBjMGQ2MzJlODM2ZWJhNDJhNWMzZTE1",
    "commit": {
      "author": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2017-12-05T20:57:12Z"
      },
      "committer": {
        "name": "Russell Yanofsky",
        "email": "russ@yanofsky.org",
        "date": "2021-09-16T18:17:01Z"
      },
      "message": "multiprocess: Add new bitcoin-gui, bitcoin-qt, bitcoin-wallet init implementations\n\nAdd separate init implementations instead of sharing existing bitcoind\nand bitcoin-node ones, so they can start to be differentiated in\nupcoming commits with node and wallet code no longer linked into the\nbitcoin-gui binary and wallet code no longer linked into the\nbitcoin-node binary.",
      "tree": {
        "sha": "c2c31afc74dff9dc819662b64c76ce0398c62bbf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c2c31afc74dff9dc819662b64c76ce0398c62bbf"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d5f985e51f2863fda0c0d632e836eba42a5c3e15",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d5f985e51f2863fda0c0d632e836eba42a5c3e15",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d5f985e51f2863fda0c0d632e836eba42a5c3e15",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d5f985e51f2863fda0c0d632e836eba42a5c3e15/comments",
    "author": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6ef84e0503994c53f77093e7ea5951a7b0edea7a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6ef84e0503994c53f77093e7ea5951a7b0edea7a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6ef84e0503994c53f77093e7ea5951a7b0edea7a"
      }
    ],
    "stats": {
      "total": 134,
      "additions": 121,
      "deletions": 13
    },
    "files": [
      {
        "sha": "2800a42767b035370a7057fd29afa95af73e10c9",
        "filename": "build_msvc/bitcoin-qt/bitcoin-qt.vcxproj",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/bitcoin-qt/bitcoin-qt.vcxproj",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/bitcoin-qt/bitcoin-qt.vcxproj",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build_msvc/bitcoin-qt/bitcoin-qt.vcxproj?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -9,7 +9,7 @@\n   </PropertyGroup>\n   <ItemGroup>\n     <ClCompile Include=\"..\\..\\src\\qt\\main.cpp\" />\n-    <ClCompile Include=\"..\\..\\src\\init\\bitcoind.cpp\" />\n+    <ClCompile Include=\"..\\..\\src\\init\\bitcoin-qt.cpp\" />\n     <ResourceCompile Include=\"..\\..\\src\\qt\\res\\bitcoin-qt-res.rc\" />\n   </ItemGroup>\n   <ItemGroup>"
      },
      {
        "sha": "affb60425b3d5f8fd23918b529d929b80f0f0cde",
        "filename": "build_msvc/bitcoin-wallet/bitcoin-wallet.vcxproj",
        "status": "modified",
        "additions": 3,
        "deletions": 0,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/bitcoin-wallet/bitcoin-wallet.vcxproj",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/bitcoin-wallet/bitcoin-wallet.vcxproj",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build_msvc/bitcoin-wallet/bitcoin-wallet.vcxproj?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -10,6 +10,9 @@\n   </PropertyGroup>\n   <ItemGroup>\n     <ClCompile Include=\"..\\..\\src\\bitcoin-wallet.cpp\" />\n+    <ClCompile Include=\"..\\..\\src\\init\\bitcoin-wallet.cpp\">\n+      <ObjectFileName>$(IntDir)init_bitcoin-wallet.obj</ObjectFileName>\n+    </ClCompile>\n   </ItemGroup>\n   <ItemGroup>\n     <ProjectReference Include=\"..\\libbitcoinconsensus\\libbitcoinconsensus.vcxproj\">"
      },
      {
        "sha": "f9948b6f1386e29da30a99b1a172a4d229053864",
        "filename": "build_msvc/test_bitcoin-qt/test_bitcoin-qt.vcxproj",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/test_bitcoin-qt/test_bitcoin-qt.vcxproj",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/build_msvc/test_bitcoin-qt/test_bitcoin-qt.vcxproj",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/build_msvc/test_bitcoin-qt/test_bitcoin-qt.vcxproj?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -8,7 +8,7 @@\n     <OutDir>$(SolutionDir)$(Platform)\\$(Configuration)\\</OutDir>\n   </PropertyGroup>\n   <ItemGroup>\n-    <ClCompile Include=\"..\\..\\src\\init\\bitcoind.cpp\" />\n+    <ClCompile Include=\"..\\..\\src\\init\\bitcoin-qt.cpp\" />\n     <ClCompile Include=\"..\\..\\src\\test\\util\\setup_common.cpp\" />\n     <ClCompile Include=\"..\\..\\src\\qt\\test\\addressbooktests.cpp\" />\n     <ClCompile Include=\"..\\..\\src\\qt\\test\\apptests.cpp\" />"
      },
      {
        "sha": "28548c221d19de80c8672986f0c3f7cd98476e2a",
        "filename": "src/Makefile.am",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.am",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.am",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.am?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -710,6 +710,7 @@ bitcoin_tx_LDADD += $(BOOST_LIBS)\n \n # bitcoin-wallet binary #\n bitcoin_wallet_SOURCES = bitcoin-wallet.cpp\n+bitcoin_wallet_SOURCES += init/bitcoin-wallet.cpp\n bitcoin_wallet_CPPFLAGS = $(bitcoin_bin_cppflags)\n bitcoin_wallet_CXXFLAGS = $(bitcoin_bin_cxxflags)\n bitcoin_wallet_LDFLAGS = $(bitcoin_bin_ldflags)"
      },
      {
        "sha": "86d397f163ff2b97868ecb29feb786897eaa1aa7",
        "filename": "src/Makefile.qt.include",
        "status": "modified",
        "additions": 3,
        "deletions": 3,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.qt.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.qt.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qt.include?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -338,15 +338,15 @@ bitcoin_qt_libtoolflags = $(AM_LIBTOOLFLAGS) --tag CXX\n \n qt_bitcoin_qt_CPPFLAGS = $(bitcoin_qt_cppflags)\n qt_bitcoin_qt_CXXFLAGS = $(bitcoin_qt_cxxflags)\n-qt_bitcoin_qt_SOURCES = $(bitcoin_qt_sources) init/bitcoind.cpp\n+qt_bitcoin_qt_SOURCES = $(bitcoin_qt_sources) init/bitcoin-qt.cpp\n qt_bitcoin_qt_LDADD = $(bitcoin_qt_ldadd)\n qt_bitcoin_qt_LDFLAGS = $(bitcoin_qt_ldflags)\n qt_bitcoin_qt_LIBTOOLFLAGS = $(bitcoin_qt_libtoolflags)\n \n bitcoin_gui_CPPFLAGS = $(bitcoin_qt_cppflags)\n bitcoin_gui_CXXFLAGS = $(bitcoin_qt_cxxflags)\n-bitcoin_gui_SOURCES = $(bitcoin_qt_sources) init/bitcoind.cpp\n-bitcoin_gui_LDADD = $(bitcoin_qt_ldadd)\n+bitcoin_gui_SOURCES = $(bitcoin_qt_sources) init/bitcoin-gui.cpp\n+bitcoin_gui_LDADD = $(bitcoin_qt_ldadd) $(LIBBITCOIN_IPC) $(LIBBITCOIN_UTIL) $(LIBMULTIPROCESS_LIBS)\n bitcoin_gui_LDFLAGS = $(bitcoin_qt_ldflags)\n bitcoin_gui_LIBTOOLFLAGS = $(bitcoin_qt_libtoolflags)\n "
      },
      {
        "sha": "797e1f9a978b0218223d9830a942a272af712eaf",
        "filename": "src/Makefile.qttest.include",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.qttest.include",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/Makefile.qttest.include",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/Makefile.qttest.include?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -28,7 +28,7 @@ qt_test_test_bitcoin_qt_CPPFLAGS = $(AM_CPPFLAGS) $(BITCOIN_INCLUDES) $(BITCOIN_\n   $(QT_INCLUDES) $(QT_TEST_INCLUDES)\n \n qt_test_test_bitcoin_qt_SOURCES = \\\n-  init/bitcoind.cpp \\\n+  init/bitcoin-qt.cpp \\\n   qt/test/apptests.cpp \\\n   qt/test/rpcnestedtests.cpp \\\n   qt/test/test_main.cpp \\"
      },
      {
        "sha": "8badc408ecedd87109d7a76fabcedc349e5092c7",
        "filename": "src/bitcoin-wallet.cpp",
        "status": "modified",
        "additions": 8,
        "deletions": 0,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/bitcoin-wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/bitcoin-wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-wallet.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -8,6 +8,7 @@\n \n #include <chainparams.h>\n #include <chainparamsbase.h>\n+#include <interfaces/init.h>\n #include <logging.h>\n #include <util/system.h>\n #include <util/translation.h>\n@@ -83,6 +84,13 @@ int main(int argc, char* argv[])\n     util::WinCmdLineArgs winArgs;\n     std::tie(argc, argv) = winArgs.get();\n #endif\n+\n+    int exit_status;\n+    std::unique_ptr<interfaces::Init> init = interfaces::MakeWalletInit(argc, argv, exit_status);\n+    if (!init) {\n+        return exit_status;\n+    }\n+\n     SetupEnvironment();\n     RandomInit();\n     try {"
      },
      {
        "sha": "c549ed3cc0063f43fa52066b52f84f058a129a44",
        "filename": "src/init/bitcoin-gui.cpp",
        "status": "added",
        "additions": 47,
        "deletions": 0,
        "changes": 47,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-gui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-gui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init/bitcoin-gui.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -0,0 +1,47 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <interfaces/chain.h>\n+#include <interfaces/echo.h>\n+#include <interfaces/init.h>\n+#include <interfaces/ipc.h>\n+#include <interfaces/node.h>\n+#include <interfaces/wallet.h>\n+#include <node/context.h>\n+#include <util/system.h>\n+\n+#include <memory>\n+\n+namespace init {\n+namespace {\n+const char* EXE_NAME = \"bitcoin-gui\";\n+\n+class BitcoinGuiInit : public interfaces::Init\n+{\n+public:\n+    BitcoinGuiInit(const char* arg0) : m_ipc(interfaces::MakeIpc(EXE_NAME, arg0, *this))\n+    {\n+        m_node.args = &gArgs;\n+        m_node.init = this;\n+    }\n+    std::unique_ptr<interfaces::Node> makeNode() override { return interfaces::MakeNode(m_node); }\n+    std::unique_ptr<interfaces::Chain> makeChain() override { return interfaces::MakeChain(m_node); }\n+    std::unique_ptr<interfaces::WalletClient> makeWalletClient(interfaces::Chain& chain) override\n+    {\n+        return MakeWalletClient(chain, *Assert(m_node.args));\n+    }\n+    std::unique_ptr<interfaces::Echo> makeEcho() override { return interfaces::MakeEcho(); }\n+    interfaces::Ipc* ipc() override { return m_ipc.get(); }\n+    NodeContext m_node;\n+    std::unique_ptr<interfaces::Ipc> m_ipc;\n+};\n+} // namespace\n+} // namespace init\n+\n+namespace interfaces {\n+std::unique_ptr<Init> MakeGuiInit(int argc, char* argv[])\n+{\n+    return std::make_unique<init::BitcoinGuiInit>(argc > 0 ? argv[0] : \"\");\n+}\n+} // namespace interfaces"
      },
      {
        "sha": "d71177e8853a4fbdb85e04ad706304dc275d59f4",
        "filename": "src/init/bitcoin-qt.cpp",
        "status": "added",
        "additions": 42,
        "deletions": 0,
        "changes": 42,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-qt.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-qt.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init/bitcoin-qt.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <interfaces/chain.h>\n+#include <interfaces/echo.h>\n+#include <interfaces/init.h>\n+#include <interfaces/node.h>\n+#include <interfaces/wallet.h>\n+#include <node/context.h>\n+#include <util/system.h>\n+\n+#include <memory>\n+\n+namespace init {\n+namespace {\n+class BitcoinQtInit : public interfaces::Init\n+{\n+public:\n+    BitcoinQtInit()\n+    {\n+        m_node.args = &gArgs;\n+        m_node.init = this;\n+    }\n+    std::unique_ptr<interfaces::Node> makeNode() override { return interfaces::MakeNode(m_node); }\n+    std::unique_ptr<interfaces::Chain> makeChain() override { return interfaces::MakeChain(m_node); }\n+    std::unique_ptr<interfaces::WalletClient> makeWalletClient(interfaces::Chain& chain) override\n+    {\n+        return MakeWalletClient(chain, *Assert(m_node.args));\n+    }\n+    std::unique_ptr<interfaces::Echo> makeEcho() override { return interfaces::MakeEcho(); }\n+    NodeContext m_node;\n+};\n+} // namespace\n+} // namespace init\n+\n+namespace interfaces {\n+std::unique_ptr<Init> MakeGuiInit(int argc, char* argv[])\n+{\n+    return std::make_unique<init::BitcoinQtInit>();\n+}\n+} // namespace interfaces"
      },
      {
        "sha": "e9dcde72fe234fd2d4e66cdc99fa817ea957266b",
        "filename": "src/init/bitcoin-wallet.cpp",
        "status": "added",
        "additions": 12,
        "deletions": 0,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/init/bitcoin-wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init/bitcoin-wallet.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -0,0 +1,12 @@\n+// Copyright (c) 2021 The Bitcoin Core developers\n+// Distributed under the MIT software license, see the accompanying\n+// file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\n+#include <interfaces/init.h>\n+\n+namespace interfaces {\n+std::unique_ptr<Init> MakeWalletInit(int argc, char* argv[], int& exit_status)\n+{\n+    return std::make_unique<Init>();\n+}\n+} // namespace interfaces"
      },
      {
        "sha": "4715c7174baab63b1d9e2763e5746fad254ea946",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 4,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -13,7 +13,6 @@\n #include <interfaces/handler.h>\n #include <interfaces/init.h>\n #include <interfaces/node.h>\n-#include <node/context.h>\n #include <node/ui_interface.h>\n #include <noui.h>\n #include <qt/bitcoingui.h>\n@@ -462,9 +461,7 @@ int GuiMain(int argc, char* argv[])\n     std::tie(argc, argv) = winArgs.get();\n #endif\n \n-    NodeContext node_context;\n-    int unused_exit_status;\n-    std::unique_ptr<interfaces::Init> init = interfaces::MakeNodeInit(node_context, argc, argv, unused_exit_status);\n+    std::unique_ptr<interfaces::Init> init = interfaces::MakeGuiInit(argc, argv);\n \n     SetupEnvironment();\n     util::ThreadSetInternalName(\"main\");"
      },
      {
        "sha": "e138704776f920326a7912e331e674760475c7f1",
        "filename": "src/qt/test/test_main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/qt/test/test_main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d5f985e51f2863fda0c0d632e836eba42a5c3e15/src/qt/test/test_main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/test/test_main.cpp?ref=d5f985e51f2863fda0c0d632e836eba42a5c3e15",
        "patch": "@@ -53,9 +53,7 @@ int main(int argc, char* argv[])\n         BasicTestingSetup dummy{CBaseChainParams::REGTEST};\n     }\n \n-    NodeContext node_context;\n-    int unused_exit_status;\n-    std::unique_ptr<interfaces::Init> init = interfaces::MakeNodeInit(node_context, argc, argv, unused_exit_status);\n+    std::unique_ptr<interfaces::Init> init = interfaces::MakeGuiInit(argc, argv);\n     gArgs.ForceSetArg(\"-listen\", \"0\");\n     gArgs.ForceSetArg(\"-listenonion\", \"0\");\n     gArgs.ForceSetArg(\"-discover\", \"0\");"
      }
    ]
  }
]