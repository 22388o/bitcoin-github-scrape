[
  {
    "sha": "079df9609e6ed2a09949ebe5e98a179f61709801",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNzlkZjk2MDllNmVkMmEwOTk0OWViZTVlOThhMTc5ZjYxNzA5ODAx",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-22T18:26:06Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-22T19:26:39Z"
      },
      "message": "build: Drop ZeroMQ patch for Mingw-w64 < 4.0\n\nThe Mingw-w64 5.0 (Ubuntu 18.04 Bionic) is used to build the Windows\nbinaries now.",
      "tree": {
        "sha": "7f3ee494186dc67c7a5509ef7e8a5b00662b2e5b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7f3ee494186dc67c7a5509ef7e8a5b00662b2e5b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/079df9609e6ed2a09949ebe5e98a179f61709801",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAl53u/UACgkQQQEIES5+\nqB9cahAAgDwGjvk9DBHs//5LflReArUIPJ9taJ1wKFhLm523wyjeRfrU8cuGDJTi\nRedY5VWvZARcY6b1+Sm3pzHJCCX+mTmQ0nRC9AgdoRPuKD7ZbiYT9YzJylLQA/qT\ng6iz7KIHjUziIEyLXITKTCKtaBuTTvLDyuJh0TR7FB0x4/EAxlMLBUKO1E3weqru\nZJZgtG6i6T0CuvUW8coUHUyXK/uq9//+yYXrQAqrPMWMaXcNFliF/3i4t1obgN6H\nOLaY0DSrGNreqEU0Y/foMZZmhjpRd1343Hhyn+IlAhpzB4hTt1cBUvjACkFmXrI5\n877G5752fIetylVVF4hcs43QvB4sIvDnnSZBujkeHlYsUHEdsVxOfOANLqI4PE3F\nhrwHShENZaCRxtMrgTPo1iwtQv2jVMAtZAgpHfEPVZSpsRFdVFYlkT/OUZ8J2tV3\n1vf/gVrygsahZtcEMhg4yjAlnROl2/+MKQOKl29VHCm3lLjvpaegJH89+wOyFGH5\ndsHTBTluDwTpQBnlkfP18Bha7O+aJtHW5UOhr4VsTD2F+GIBlPIqGuJBqx56j+L1\nAQpDqFL/KoQwThrlE5APDFG5Yw5gqJBfrjosQZpdMrHgcovrt4bu1LmDUJygJsce\nJwKmBsxCnGYASwUzKczN/iTn7Im5ix/3NNjVRr34oMA7jkpYFqs=\n=H1KC\n-----END PGP SIGNATURE-----",
        "payload": "tree 7f3ee494186dc67c7a5509ef7e8a5b00662b2e5b\nparent 5504703a9f8388dff66d33bd077bcc4c82dff6c8\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584901566 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584905199 +0200\n\nbuild: Drop ZeroMQ patch for Mingw-w64 < 4.0\n\nThe Mingw-w64 5.0 (Ubuntu 18.04 Bionic) is used to build the Windows\nbinaries now.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/079df9609e6ed2a09949ebe5e98a179f61709801",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/079df9609e6ed2a09949ebe5e98a179f61709801",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/079df9609e6ed2a09949ebe5e98a179f61709801/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5504703a9f8388dff66d33bd077bcc4c82dff6c8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5504703a9f8388dff66d33bd077bcc4c82dff6c8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5504703a9f8388dff66d33bd077bcc4c82dff6c8"
      }
    ],
    "stats": {
      "total": 33,
      "additions": 1,
      "deletions": 32
    },
    "files": [
      {
        "sha": "bbb88b3586548ee601fc9665ecf38e3ad73053c6",
        "filename": "depends/packages/zeromq.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 2,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/079df9609e6ed2a09949ebe5e98a179f61709801/depends/packages/zeromq.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/079df9609e6ed2a09949ebe5e98a179f61709801/depends/packages/zeromq.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/zeromq.mk?ref=079df9609e6ed2a09949ebe5e98a179f61709801",
        "patch": "@@ -3,7 +3,7 @@ $(package)_version=4.3.1\n $(package)_download_path=https://github.com/zeromq/libzmq/releases/download/v$($(package)_version)/\n $(package)_file_name=$(package)-$($(package)_version).tar.gz\n $(package)_sha256_hash=bcbabe1e2c7d0eec4ed612e10b94b112dd5f06fcefa994a0c79a45d835cd21eb\n-$(package)_patches=0001-fix-build-with-older-mingw64.patch 0002-disable-pthread_set_name_np.patch\n+$(package)_patches=0002-disable-pthread_set_name_np.patch\n \n define $(package)_set_vars\n   $(package)_config_opts=--without-docs --disable-shared --disable-curve --disable-curve-keygen --disable-perf\n@@ -16,7 +16,6 @@ define $(package)_set_vars\n endef\n \n define $(package)_preprocess_cmds\n-   patch -p1 < $($(package)_patch_dir)/0001-fix-build-with-older-mingw64.patch && \\\n    patch -p1 < $($(package)_patch_dir)/0002-disable-pthread_set_name_np.patch && \\\n    cp -f $(BASEDIR)/config.guess $(BASEDIR)/config.sub config\n endef"
      },
      {
        "sha": "b911ac56724b193f84d0cbdbf0bf0f8d92e0bab6",
        "filename": "depends/patches/zeromq/0001-fix-build-with-older-mingw64.patch",
        "status": "removed",
        "additions": 0,
        "deletions": 30,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5504703a9f8388dff66d33bd077bcc4c82dff6c8/depends/patches/zeromq/0001-fix-build-with-older-mingw64.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5504703a9f8388dff66d33bd077bcc4c82dff6c8/depends/patches/zeromq/0001-fix-build-with-older-mingw64.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/zeromq/0001-fix-build-with-older-mingw64.patch?ref=5504703a9f8388dff66d33bd077bcc4c82dff6c8",
        "patch": "@@ -1,30 +0,0 @@\n-From f6866b0f166ad168618aae64c7fbee8775d3eb23 Mon Sep 17 00:00:00 2001\n-From: mruddy <6440430+mruddy@users.noreply.github.com>\n-Date: Sat, 30 Jun 2018 09:44:58 -0400\n-Subject: [PATCH] fix build with older mingw64\n-\n----\n- src/windows.hpp | 7 +++++++\n- 1 file changed, 7 insertions(+)\n-\n-diff --git a/src/windows.hpp b/src/windows.hpp\n-index 6c3839fd..2c32ec79 100644\n---- a/src/windows.hpp\n-+++ b/src/windows.hpp\n-@@ -58,6 +58,13 @@\n- #include <winsock2.h>\n- #include <windows.h>\n- #include <mswsock.h>\n-+\n-+#if defined __MINGW64_VERSION_MAJOR && __MINGW64_VERSION_MAJOR < 4\n-+// Workaround for mingw-w64 < v4.0 which did not include ws2ipdef.h in iphlpapi.h.\n-+// Fixed in mingw-w64 by 9bd8fe9148924840d315b4c915dd099955ea89d1.\n-+#include <ws2def.h>\n-+#include <ws2ipdef.h>\n-+#endif\n- #include <iphlpapi.h>\n- \n- #if !defined __MINGW32__\n--- \n-2.17.1\n-"
      }
    ]
  },
  {
    "sha": "f642b49af73fedc6dc9af4ac299e4cfa80755583",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmNjQyYjQ5YWY3M2ZlZGM2ZGM5YWY0YWMyOTllNGNmYTgwNzU1NTgz",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-22T19:09:23Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2020-03-22T19:27:56Z"
      },
      "message": "build: Drop ZeroMQ patch for glibc < 2.12\n\nIt is safe to use pthread_setname_np since #17538 when the minimal glibc\nversion is set to 2.17.",
      "tree": {
        "sha": "cc215c5db872b253f58aa988b5f95a3a99cb8cbe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cc215c5db872b253f58aa988b5f95a3a99cb8cbe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f642b49af73fedc6dc9af4ac299e4cfa80755583",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAl53vFcACgkQQQEIES5+\nqB8i5Q/9H55bmqvx+h+ZKqKse4DX56QmtRdzpJEV+oAzvZITNv4jYco2nPScXs7G\ny4KrL4IE+d08DoDkK5cF0zq6XATsx5Yxb3t7u7lL2wgJSV+37dzAnZjJnT++6CLl\nZFSILnWcAUmNIbo8xw1gZqQpi19+ilV8KxxXT5M6J73iW3mlqGhtJQFWaqh4faYg\nC2cALTXY9aZm+S0f29czNZ1Q3blgZZn4Zn40LQcgY5cW2aaHSA0m51IPi5vGNyv5\nx5g+KhGaQN64rvd3e8puCdDHHEI+GR+Sh52R+YBWM5qWUpA7f06Jt/u2FnBj7hct\nwF3H8mh+DjXdYDZiBBwKRntmtvS6hpp34H4+nGTC4IUjkBvYBFzbLNP+aBpDCpmq\nQXJOBEuRMc8oSRKX4ldBTDv2UT8Voovu8RfeIn+RcG4W2KZ1vfaNUDIexj+jwP8t\nu4lNM51LMJ7nOMBzAktTjCeUNTxn2jRX94TUcIQtZfR7z3hwZAtTjhPfeSHJqS1Y\nhzBLSGcLrBg7x1prLePuPkmWM/zu0t8vgU3EZuel9r/uP3bpssodakA0dxO/0Uz+\nkME5WZRGWSGRDd3JeRGr2ZjftkB+WC0Rhi7stFUdeaaSrJtvfBOK7yNqy7bHU0q5\n45+OBB8Cai1HFkM6XY01Rq4fkauLbDTX86rRMbGacCN5GlJJTkI=\n=H+34\n-----END PGP SIGNATURE-----",
        "payload": "tree cc215c5db872b253f58aa988b5f95a3a99cb8cbe\nparent 079df9609e6ed2a09949ebe5e98a179f61709801\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584904163 +0200\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1584905276 +0200\n\nbuild: Drop ZeroMQ patch for glibc < 2.12\n\nIt is safe to use pthread_setname_np since #17538 when the minimal glibc\nversion is set to 2.17.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f642b49af73fedc6dc9af4ac299e4cfa80755583",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f642b49af73fedc6dc9af4ac299e4cfa80755583",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f642b49af73fedc6dc9af4ac299e4cfa80755583/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "079df9609e6ed2a09949ebe5e98a179f61709801",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/079df9609e6ed2a09949ebe5e98a179f61709801",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/079df9609e6ed2a09949ebe5e98a179f61709801"
      }
    ],
    "stats": {
      "total": 37,
      "additions": 0,
      "deletions": 37
    },
    "files": [
      {
        "sha": "ce1b25bcf1d00155bc8baf145bd3d1771f20661c",
        "filename": "depends/packages/zeromq.mk",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f642b49af73fedc6dc9af4ac299e4cfa80755583/depends/packages/zeromq.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f642b49af73fedc6dc9af4ac299e4cfa80755583/depends/packages/zeromq.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/zeromq.mk?ref=f642b49af73fedc6dc9af4ac299e4cfa80755583",
        "patch": "@@ -3,7 +3,6 @@ $(package)_version=4.3.1\n $(package)_download_path=https://github.com/zeromq/libzmq/releases/download/v$($(package)_version)/\n $(package)_file_name=$(package)-$($(package)_version).tar.gz\n $(package)_sha256_hash=bcbabe1e2c7d0eec4ed612e10b94b112dd5f06fcefa994a0c79a45d835cd21eb\n-$(package)_patches=0002-disable-pthread_set_name_np.patch\n \n define $(package)_set_vars\n   $(package)_config_opts=--without-docs --disable-shared --disable-curve --disable-curve-keygen --disable-perf\n@@ -16,7 +15,6 @@ define $(package)_set_vars\n endef\n \n define $(package)_preprocess_cmds\n-   patch -p1 < $($(package)_patch_dir)/0002-disable-pthread_set_name_np.patch && \\\n    cp -f $(BASEDIR)/config.guess $(BASEDIR)/config.sub config\n endef\n "
      },
      {
        "sha": "b1c6f78a7046dbcdf4be20d3cc43e5cb09bc7528",
        "filename": "depends/patches/zeromq/0002-disable-pthread_set_name_np.patch",
        "status": "removed",
        "additions": 0,
        "deletions": 35,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/079df9609e6ed2a09949ebe5e98a179f61709801/depends/patches/zeromq/0002-disable-pthread_set_name_np.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/079df9609e6ed2a09949ebe5e98a179f61709801/depends/patches/zeromq/0002-disable-pthread_set_name_np.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/zeromq/0002-disable-pthread_set_name_np.patch?ref=079df9609e6ed2a09949ebe5e98a179f61709801",
        "patch": "@@ -1,35 +0,0 @@\n-From c9bbdd6581d07acfe8971e4bcebe278a3676cf03 Mon Sep 17 00:00:00 2001\n-From: mruddy <6440430+mruddy@users.noreply.github.com>\n-Date: Sat, 30 Jun 2018 09:57:18 -0400\n-Subject: [PATCH] disable pthread_set_name_np\n-\n-pthread_set_name_np adds a Glibc requirement on >= 2.12.\n----\n- src/thread.cpp | 4 +++-\n- 1 file changed, 3 insertions(+), 1 deletion(-)\n-\n-diff --git a/src/thread.cpp b/src/thread.cpp\n-index a1086b0c..9943f354 100644\n---- a/src/thread.cpp\n-+++ b/src/thread.cpp\n-@@ -308,7 +308,7 @@ void zmq::thread_t::setThreadName (const char *name_)\n-  */\n-     if (!name_)\n-         return;\n--\n-+#if 0\n- #if defined(ZMQ_HAVE_PTHREAD_SETNAME_1)\n-     int rc = pthread_setname_np (name_);\n-     if (rc)\n-@@ -324,6 +324,8 @@ void zmq::thread_t::setThreadName (const char *name_)\n- #elif defined(ZMQ_HAVE_PTHREAD_SET_NAME)\n-     pthread_set_name_np (_descriptor, name_);\n- #endif\n-+#endif\n-+    return;\n- }\n- \n- #endif\n--- \n-2.17.1\n-"
      }
    ]
  }
]