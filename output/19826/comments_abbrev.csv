DrahtBot,2020-08-28 11:34:25,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #19306 (refactor: Replace RecursiveMutex with Mutex in CTxMemPool by hebasto)\n* #18731 (refactor: Make CCheckQueue RAII-s",https://github.com/bitcoin/bitcoin/pull/19826#issuecomment-682476412,682476412,
practicalswift,2020-08-29 09:13:54,Concept ACK: decoupling is good^Wgreat!,https://github.com/bitcoin/bitcoin/pull/19826#issuecomment-683262830,683262830,
fjahr,2020-08-30 16:02:26,Code review ACK b224f98033992cf6d84c5e8d1d81c4e361b88135,https://github.com/bitcoin/bitcoin/pull/19826#issuecomment-683438030,683438030,
promag,2020-08-28 10:36:49,We want to ditch LOCK2?,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479102100,479102100,src/validation.cpp
MarcoFalke,2020-08-28 10:44:44,"No it can stay, but here `LOCK2` doesn't support pointers or interfaces, so if someone wants to pick up #19629 again, `LOCK(cs_main)` will likely end up to be separate anyway.",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479111081,479111081,src/validation.cpp
hebasto,2020-08-30 09:38:51,"While touching this line maybe explicitly mention the global namespace for `cs_main`:\n```suggestion\nstatic void UpdateMempoolForReorg(CTxMemPool& mempool, DisconnectedBlockTransactions& disconnectpool, bool fAddToMempool)\n    EXCLUSIVE_LOCKS_REQUIRED(::cs_main, mempool.cs)\n```\n?",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479746831,479746831,src/validation.cpp
hebasto,2020-08-30 09:41:19,"nit:\n```suggestion\n    AssertLockHeld(::cs_main);\n```",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747084,479747084,src/validation.cpp
hebasto,2020-08-30 09:42:02,"nit:\n```suggestion\n    AssertLockHeld(::cs_main);\n```",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747151,479747151,src/validation.cpp
hebasto,2020-08-30 09:42:35,"nit:\n```suggestion\n            LOCK(::cs_main);\n```",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747199,479747199,src/validation.cpp
hebasto,2020-08-30 09:43:04,"nit:\n```suggestion\n            LOCK(::cs_main);\n```",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747251,479747251,src/validation.cpp
hebasto,2020-08-30 09:44:53,"nit:\n```suggestion\n    bool DisconnectTip(BlockValidationState& state, const CChainParams& chainparams, DisconnectedBlockTransactions* disconnectpool)\n        EXCLUSIVE_LOCKS_REQUIRED(::cs_main, m_mempool.cs);\n```",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747452,479747452,src/validation.h
hebasto,2020-08-30 09:45:36,"nit:\n```suggestion\n    bool ActivateBestChainStep(BlockValidationState& state, const CChainParams& chainparams, CBlockIndex* pindexMostWork, const std::shared_ptr<const CBlock>& pblock, bool& fInvalidFound, ConnectTrace& connectTrace)\n        EXCLUSIVE_LOCKS_REQUIRED(::cs_main, m_mempool.cs);\n    bool ConnectTip(BlockValidationState& state, const CChainParams& chainparams, CBlockIndex* pin",https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479747547,479747547,src/validation.h
MarcoFalke,2020-08-30 10:13:23,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750292,479750292,src/validation.cpp
MarcoFalke,2020-08-30 10:13:31,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750310,479750310,src/validation.cpp
MarcoFalke,2020-08-30 10:13:37,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750320,479750320,src/validation.cpp
MarcoFalke,2020-08-30 10:13:45,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750327,479750327,src/validation.cpp
MarcoFalke,2020-08-30 10:13:51,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750332,479750332,src/validation.cpp
MarcoFalke,2020-08-30 10:13:57,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750339,479750339,src/validation.h
MarcoFalke,2020-08-30 10:14:05,Thanks. Will add the `::` when I have to retouch or on the next commit that touches those lines.,https://github.com/bitcoin/bitcoin/pull/19826#discussion_r479750347,479750347,src/validation.h
