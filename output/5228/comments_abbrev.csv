laanwj,2014-11-07T09:05:23Z,"ACK on the concept.\n\nHowever: 2x as well as 1x splash images? We could save a lot of executable space by doing a bit of scaling. \n(same could be said for recoloring for the testnet/mainnet case, but ok)\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62115837,62115837,
jonasschnelli,2014-11-07T09:12:03Z,"@laanwj With the 2x splash screen i followed apples recommendation. They prefer higher binaries with less cpu usage (by down-scaling) and downscaling can sometime gives bad result.\nGood would be to dynamically build the splash screen with the already available icons.\nI try now to get this working without loosing quality. And you might remember: the splash screens background is not a #fff, there ",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62116461,62116461,
laanwj,2014-11-07T09:42:53Z,"Nah, downscaling an image is very fast, especially if it's by a factor of two. I prefer executable size over less CPU usage in this case. This is a cross-platform project and we're not following Apple's guidelines to the letter.\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62119597,62119597,
jonasschnelli,2014-11-07T20:30:17Z,@laanwj did some changes: the splashscreen now get completely puzzled together. I had to place higher resolution PNGs for mainnet and testnet icons.\nNeeds testing on Win.\nTesten on OSX 10.10 and Ubuntu 10.4.\n,https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62207174,62207174,
theuni,2014-11-07T20:56:05Z,"@jonasschnelli Is it not possible to set some color mask rather than duplicating the PNGs?\nEdit: Heh, @laanwj already mentioned that. +1 to the idea.\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62210377,62210377,
jonasschnelli,2014-11-07T21:13:04Z,"@theuni: i did research but then stopped because i though the tray and window icon might need a file based icon. But your right, it should be possible.\nMaybe the colorize quality is not as good as it comes from Photoshop but still okay for devs (who else needs the testnet!)\n\nLet me try...\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62212406,62212406,
jonasschnelli,2014-11-10T13:39:12Z,"After hard working, i got the splashscreen and also the tray/window icon working by dynamically changing the color of the original icon.\nWith this commit, we get rid of the splashscreen PNG (both net) and the testnet icon. Together we might save around 150kb in the distributed binary.\n\nTested on OSX10.10 and Ubuntu 10.4\nIt would help if someone could test this on windows.\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62384841,62384841,
laanwj,2014-11-10T17:07:06Z,Works for me (Ubuntu 14.04)\n,https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-62417113,62417113,
laanwj,2014-11-14T12:01:28Z,"@jonasschnelli simply using QIcon simplifies the code _a lot_, see here: https://github.com/laanwj/bitcoin/tree/2014_11_jonasschnelli_hidpi\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-63052230,63052230,
jonasschnelli,2014-11-14T12:17:37Z,"@laanwj nice. Yes. I try to adapt this. I went for this solution because the window and tray icon cannot be greater than 256x256. I increased the size of the `bitcoin.png` icon to 1024x1024. Setting this size as tray or window icon will end up in having no icon on my ubuntu vm. And i thought scale first, than change HSL (cpu whise).\nYour solution looks clean. I take it and change it to ensure tha",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-63055635,63055635,
laanwj,2014-11-14T13:35:02Z,"> Your solution looks clean. I take it and change it to ensure that it also works for tray and window icon.\n\nThat's weird. I've had no problems with the tray and window icon here on Ubuntu. The whole purpose of QIcon is that any size can be requested, the client code shouldn't request 1024x1024 if it can't handle that. Maybe MacOSX specific.\n",https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-63064783,63064783,
jonasschnelli,2014-11-19T13:27:59Z,Updated once again with keeping the 256x256 optimized icon in the `NetworkStyles`.\n,https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-63639107,63639107,
jonasschnelli,2014-11-26T12:13:32Z,As #5219 it might be flagged with 0.11 milestone.\n,https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-64595827,64595827,
laanwj,2014-12-16T10:16:33Z,Merged via bb3c75bdf48cf04f97fa84f494f7366fac99e379\n,https://github.com/bitcoin/bitcoin/pull/5228#issuecomment-67138064,67138064,
luke-jr,2014-11-06T15:43:03Z,?\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r19951872,19951872,src/qt/bitcoin.cpp
jonasschnelli,2014-11-06T15:49:25Z,You know how to review.. :)\nThis is/was for testing purposes only.\nWill Amend-Commiting this away right now.\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r19952432,19952432,src/qt/bitcoin.cpp
fanquake,2014-11-10T13:25:18Z,s/sens/sense\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20081108,20081108,src/qt/splashscreen.cpp
fanquake,2014-11-10T13:25:50Z,s/pixelration/pixelratio\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20081137,20081137,src/qt/splashscreen.cpp
jonasschnelli,2014-11-10T13:26:20Z,thanks! My english is just so bad.\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20081164,20081164,src/qt/splashscreen.cpp
laanwj,2014-11-10T16:48:31Z,"Ha `iconColorHueShift`, very cool\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20094107,20094107,src/qt/networkstyle.cpp
laanwj,2014-11-13T12:09:31Z,Shouldn't we cache these or such? Looks to me that calling this every time results in unnecessary overhead.\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20286749,20286749,src/qt/networkstyle.cpp
laanwj,2014-11-13T12:11:31Z,"_BTW_ you are reimplementing part of the QIcon functionality here. See QIcon.pixmap(QSize).\nApart from the hue-shift part, but that could be done once on instantiation?\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20286857,20286857,src/qt/networkstyle.cpp
jonasschnelli,2014-11-13T12:25:35Z,"1)Cache\ndo you think kind of a file cache for the resized image? The hue shifted testnet icon could also be cached, but it's kinda dev only things where some used cputicks maybe are tolerated. But filecaching it brings us a little bit back to the apple recommended @2x strategy. Maybe the distributed binary is not unnecessary bloated, but we use disk space (very minor indeed).\nI think the rescali",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20287541,20287541,src/qt/networkstyle.cpp
laanwj,2014-11-13T12:37:54Z,"@jonasschnelli Nonono, a file cache shouldn't be necessary. I just like to avoid doing the same scaling multiple times within the same invocation of Bitcoin-Qt. I think QIcon already implements such functionality to maintain the image at multiple sizes, so there would be no need for us to do anything complex here.\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20287981,20287981,src/qt/networkstyle.cpp
jonasschnelli,2014-11-13T12:47:13Z,"Ah, right. On windows and posix there are two invocations with the same size (windowIcon, tryIcon).\nLet me implement a simple mem-cache or see what Qt provides here.\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20288288,20288288,src/qt/networkstyle.cpp
jonasschnelli,2014-11-14T16:23:26Z,for me it only works with this resize.\nOtherwise i have the following tray icon in Ubuntu:\n\n![unbenannt-2](https://cloud.githubusercontent.com/assets/178464/5049075/ec57aa6a-6c22-11e4-8be2-a089ac0263f4.png)\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20368583,20368583,src/qt/bitcoingui.cpp
laanwj,2014-11-19T10:13:20Z,Wow :/\nI wonder if this could be  solved by explicitly adding a 256x256 scaled bitmap to the icon in the `NetworkStyle::NetworkStyle` constructor using `void QIcon::addPixmap ( const QPixmap & pixmap )`. That at least moves the code away from here.\n,https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20566468,20566468,src/qt/bitcoingui.cpp
laanwj,2014-11-19T13:47:33Z,"It doesn't work if you add both of these pixmaps to the same QIcon, as I suggested?\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20574959,20574959,src/qt/networkstyle.cpp
jonasschnelli,2014-11-21T08:42:36Z,"I tested the following some minutes ago:\n\nAddad a 256,256 pixmap to the `appIcon` with:\n`appIcon.addPixmap(pixmap.scaled(QSize(256,256)));`\n\nBut this does not fix the Ubuntu-No-Tray-Icon-Error (see screenshot above).\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20703725,20703725,src/qt/networkstyle.cpp
laanwj,2014-11-21T08:56:53Z,"This is really strange.\nAnyhow, current solution is fine then, thanks for testing!\n",https://github.com/bitcoin/bitcoin/pull/5228#discussion_r20704266,20704266,src/qt/networkstyle.cpp
