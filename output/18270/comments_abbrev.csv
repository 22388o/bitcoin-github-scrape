MarcoFalke,2020-03-05 21:44:59,ACK 5a507f508b90e5e12800b9218dc54d52dcd38d05,https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-595463137,595463137,
laanwj,2020-03-06 20:48:00,"> utACK, though I prefer doing it another way\n\nSame, this seems something that's better handled in the parsing code itself than as a pre-check calling out to an external function. Still, it's a good catch.\n\nDo we need to accept trailing and leading whitespace at all here?",https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-595958910,595958910,
practicalswift,2020-03-07 14:41:47,"> Do we need to accept trailing and leading whitespace at all here?\n\nI don't have any strong opinions as long as it is done consistently (in order to avoid any gotchas for the callers of the function).\n\nPerhaps we can move forward with this PR as-is to get the current behaviour consistent, and then take the discussion of removal of existing logic in a follow-up issue/PR?",https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-596095334,596095334,
MarcoFalke,2020-03-12 13:25:34,ACK 43e4f1249ae2a9a1a150637c2d1d5aa8f544f46e,https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-598184357,598184357,
practicalswift,2020-03-12 13:41:47,"@laanwj Updated. Does my implementation seem to be in line with your your suggestion? :)\n\n@MarcoFalke Could you please re-review in light of the latest update? :)",https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-598192037,598192037,
Empact,2020-03-12 21:38:52,ACK https://github.com/bitcoin/bitcoin/pull/18270/commits/100213c5c29ebd7bd50aa885e54594ae10bf87a4,https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-598429776,598429776,
practicalswift,2020-03-26 21:25:14,Ready for merge? :),https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-604695102,604695102,
sipa,2020-03-26 22:34:14,ACK 100213c5c29ebd7bd50aa885e54594ae10bf87a4,https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-604722052,604722052,
practicalswift,2020-03-27 16:01:01,"> `TrimString` drops ` \f\n\r\t\v`, is this intended?\n\nThat is consistent with how the previously used `IsSpace` works, no?",https://github.com/bitcoin/bitcoin/pull/18270#issuecomment-605080563,605080563,
luke-jr,2020-03-05 20:47:35,Why not just check `!p[0]` below (after line 48)?,https://github.com/bitcoin/bitcoin/pull/18270#discussion_r388556065,388556065,src/util/moneystr.cpp
practicalswift,2020-03-05 20:54:15,"TMTOWTDI :)  I find the current formulation more idiomatic and clear, but I'll let others chime in and I'll happily change if your opinion is the consensus opinion :)",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r388559623,388559623,src/util/moneystr.cpp
MarcoFalke,2020-03-05 20:58:54,"```suggestion\n\n   // Parsing two numbers should fail\n   BOOST_CHECK(!ParseMoney(""1 2"", ret));\n```",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r388562057,388562057,src/test/util_tests.cpp
practicalswift,2020-03-05 21:20:01,Good idea! Tests added. Please re-review :),https://github.com/bitcoin/bitcoin/pull/18270#discussion_r388571975,388571975,src/test/util_tests.cpp
Empact,2020-03-07 16:24:47,"Why not the default pattern, which covers other whitespace?\n(asking again because I think this was lost in the resolved thread above)",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r389265730,389265730,src/util/moneystr.cpp
practicalswift,2020-03-07 16:28:31,~~Only spaces are handled in the existing code and I want to keep the changes to the minimum required to make the function consistent in its handling of spaces (which is the only whitespace considered).~~,https://github.com/bitcoin/bitcoin/pull/18270#discussion_r389265993,389265993,src/util/moneystr.cpp
laanwj,2020-03-12 12:46:28,"OK, I would prefer to do a `str = TrimString(str, "" "")` here, to at least avoid going over the spaces twice!\n(and keep the empty-check as it, after that)\n",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r391596110,391596110,src/util/moneystr.cpp
MarcoFalke,2020-03-12 13:27:18,"The signature needs to be changed to `bool ParseMoney(std::string str, CAmount& nRet)`",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r391618897,391618897,src/util/moneystr.cpp
promag,2020-03-26 23:12:42,"nit, `if (IsSpace(*p)) return false;`",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r398946084,398946084,src/util/moneystr.cpp
promag,2020-03-26 23:13:55,"Move to L58, replace `break;` with `if (*p) return false;`.",https://github.com/bitcoin/bitcoin/pull/18270#discussion_r398946515,398946515,src/util/moneystr.cpp
