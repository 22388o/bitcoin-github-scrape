[
  {
    "sha": "ee1f884229736da6f5443157ccba97f4e8f50f82",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZTFmODg0MjI5NzM2ZGE2ZjU0NDMxNTdjY2JhOTdmNGU4ZjUwZjgy",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-01T23:03:07Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-07-01T23:46:22Z"
      },
      "message": "Make UPnP default on Bitcoin but not on Bitcoind.\n\nThis is a bit of an ugly hack, but its the only way to do it.",
      "tree": {
        "sha": "2fd1059c6ddb572a9af4ed20454aefe931fa5f1f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2fd1059c6ddb572a9af4ed20454aefe931fa5f1f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ee1f884229736da6f5443157ccba97f4e8f50f82",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ee1f884229736da6f5443157ccba97f4e8f50f82",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ee1f884229736da6f5443157ccba97f4e8f50f82",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ee1f884229736da6f5443157ccba97f4e8f50f82/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "c4286dc6eeea90c9ddb509a2019423d032cbad38",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c4286dc6eeea90c9ddb509a2019423d032cbad38",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c4286dc6eeea90c9ddb509a2019423d032cbad38"
      }
    ],
    "stats": {
      "total": 58,
      "additions": 38,
      "deletions": 20
    },
    "files": [
      {
        "sha": "994f47c8254f3a446fb098fca21ab499d5eba217",
        "filename": "src/makefile.mingw",
        "status": "modified",
        "additions": 16,
        "deletions": 8,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.mingw?ref=ee1f884229736da6f5443157ccba97f4e8f50f82",
        "patch": "@@ -2,8 +2,6 @@\n # Distributed under the MIT/X11 software license, see the accompanying\n # file license.txt or http://www.opensource.org/licenses/mit-license.php.\n \n-USE_UPNP:=0\n-\n INCLUDEPATHS= \\\n  -I\"C:\\boost-1.43.0-mgw\" \\\n  -I\"C:\\db-4.7.25.NC-mgw\\build_unix\" \\\n@@ -35,12 +33,22 @@ CFLAGS=-mthreads -O2 -w -Wno-invalid-offsetof -Wformat $(DEBUGFLAGS) $(DEFS) $(I\n HEADERS=headers.h strlcpy.h serialize.h uint256.h util.h key.h bignum.h base58.h \\\n     script.h db.h net.h irc.h keystore.h main.h wallet.h rpc.h uibase.h ui.h noui.h init.h\n \n-ifdef USE_UPNP\n- INCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n- LIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n- LIBS += -l miniupnpc -l iphlpapi\n- DEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n-endif\n+\n+bitcoin.exe: USE_UPNP:=1\n+\tifdef USE_UPNP\n+\t\tINCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n+\t\tLIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n+\t\tLIBS += -l miniupnpc -l iphlpapi\n+\t\tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n+\n+bitcoind.exe: USE_UPNP:=0\n+\tifdef USE_UPNP\n+\t\tINCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n+\t\tLIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n+\t\tLIBS += -l miniupnpc -l iphlpapi\n+\t\tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n \n LIBS += -l kernel32 -l user32 -l gdi32 -l comdlg32 -l winspool -l winmm -l shell32 -l comctl32 -l ole32 -l oleaut32 -l uuid -l rpcrt4 -l advapi32 -l ws2_32 -l shlwapi\n "
      },
      {
        "sha": "36890f98685a5aad0cc6b7a2de338d7fdfb1eec8",
        "filename": "src/makefile.osx",
        "status": "modified",
        "additions": 11,
        "deletions": 6,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.osx",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.osx",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.osx?ref=ee1f884229736da6f5443157ccba97f4e8f50f82",
        "patch": "@@ -16,8 +16,6 @@ LIBPATHS= \\\n \n WXLIBS=$(shell $(DEPSDIR)/bin/wx-config --libs --static)\n \n-USE_UPNP:=0\n-\n LIBS= -dead_strip \\\n  $(DEPSDIR)/lib/libdb_cxx-4.8.a \\\n  $(DEPSDIR)/lib/libboost_system.a \\\n@@ -49,10 +47,17 @@ OBJS= \\\n     cryptopp/obj/sha.o \\\n     cryptopp/obj/cpu.o\n \n-ifdef USE_UPNP\n-\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n-\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-endif\n+bitcoin: USE_UPNP:=1\n+\tifdef USE_UPNP\n+\t\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n+\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n+\n+bitcoind: USE_UPNP:=0\n+\tifdef USE_UPNP\n+\t\tLIBS += $(DEPSDIR)/lib/libminiupnpc.a\n+\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n \t\n \n all: bitcoin"
      },
      {
        "sha": "82d2a9f5c1da80d9bdcfb9d5bc952cb737df120b",
        "filename": "src/makefile.unix",
        "status": "modified",
        "additions": 11,
        "deletions": 6,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.unix",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ee1f884229736da6f5443157ccba97f4e8f50f82/src/makefile.unix",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.unix?ref=ee1f884229736da6f5443157ccba97f4e8f50f82",
        "patch": "@@ -8,8 +8,6 @@ WXINCLUDEPATHS=$(shell wx-config --cxxflags)\n \n WXLIBS=$(shell wx-config --libs)\n \n-USE_UPNP:=0\n-\n DEFS=-DNOPCH -DFOURWAYSSE2 -DUSE_SSL\n \n # for boost 1.37, add -mt to the boost libraries\n@@ -23,10 +21,17 @@ LIBS= \\\n    -l ssl \\\n    -l crypto\n \n-ifdef USE_UPNP\n-\tLIBS += -l miniupnpc\n-\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n-endif\n+bitcoin: USE_UPNP:=1\n+\tifdef USE_UPNP\n+\t\tLIBS += -l miniupnpc\n+\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n+\n+bitcoind: USE_UPNP:=0\n+\tifdef USE_UPNP\n+\t\tLIBS += -l miniupnpc\n+\t\tDEFS += -DUSE_UPNP=$(USE_UPNP)\n+\tendif\n \n LIBS+= \\\n  -Wl,-Bdynamic \\"
      }
    ]
  }
]