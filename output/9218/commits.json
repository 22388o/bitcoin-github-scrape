[
  {
    "sha": "827d9a3be8209587c532f061753e99730b9be4c4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MjdkOWEzYmU4MjA5NTg3YzUzMmYwNjE3NTNlOTk3MzBiOWJlNGM0",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-11-24T13:26:20Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-11-24T13:35:03Z"
      },
      "message": "qt: Replace NetworkToggleStatusBarControl with generic ClickableLabel\n\nGeneralize the clickable label functionality.\n\nWe will use this to add similar functionality to the sync icon.",
      "tree": {
        "sha": "95ef51b6773b4d9f2ef8b2ff999188bd96632a9c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/95ef51b6773b4d9f2ef8b2ff999188bd96632a9c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/827d9a3be8209587c532f061753e99730b9be4c4",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/827d9a3be8209587c532f061753e99730b9be4c4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/827d9a3be8209587c532f061753e99730b9be4c4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/827d9a3be8209587c532f061753e99730b9be4c4/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "bc121b0eb19713ec72002b5be03ba5ac35903a17",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bc121b0eb19713ec72002b5be03ba5ac35903a17",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bc121b0eb19713ec72002b5be03ba5ac35903a17"
      }
    ],
    "stats": {
      "total": 66,
      "additions": 35,
      "deletions": 31
    },
    "files": [
      {
        "sha": "0f046f30e9fbff0c23a8418608ef94135136f322",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 10,
        "deletions": 16,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=827d9a3be8209587c532f061753e99730b9be4c4",
        "patch": "@@ -199,7 +199,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n     unitDisplayControl = new UnitDisplayStatusBarControl(platformStyle);\n     labelWalletEncryptionIcon = new QLabel();\n     labelWalletHDStatusIcon = new QLabel();\n-    connectionsControl = new NetworkToggleStatusBarControl();\n+    connectionsControl = new GUIUtil::ClickableLabel();\n     labelBlocksIcon = new QLabel();\n     if(enableWallet)\n     {\n@@ -244,6 +244,8 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n     // Subscribe to notifications from core\n     subscribeToCoreSignals();\n \n+    connect(connectionsControl, SIGNAL(clicked(QPoint)), this, SLOT(toggleNetworkActive()));\n+\n     modalOverlay = new ModalOverlay(this->centralWidget());\n #ifdef ENABLE_WALLET\n     if(enableWallet)\n@@ -490,7 +492,6 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n         }\n #endif // ENABLE_WALLET\n         unitDisplayControl->setOptionsModel(_clientModel->getOptionsModel());\n-        connectionsControl->setClientModel(_clientModel);\n         \n         OptionsModel* optionsModel = _clientModel->getOptionsModel();\n         if(optionsModel)\n@@ -517,7 +518,6 @@ void BitcoinGUI::setClientModel(ClientModel *_clientModel)\n         walletFrame->setClientModel(nullptr);\n #endif // ENABLE_WALLET\n         unitDisplayControl->setOptionsModel(nullptr);\n-        connectionsControl->setClientModel(nullptr);\n     }\n }\n \n@@ -1171,6 +1171,13 @@ void BitcoinGUI::unsubscribeFromCoreSignals()\n     uiInterface.ThreadSafeQuestion.disconnect(boost::bind(ThreadSafeMessageBox, this, _1, _3, _4));\n }\n \n+void BitcoinGUI::toggleNetworkActive()\n+{\n+    if (clientModel) {\n+        clientModel->setNetworkActive(!clientModel->getNetworkActive());\n+    }\n+}\n+\n UnitDisplayStatusBarControl::UnitDisplayStatusBarControl(const PlatformStyle *platformStyle) :\n     optionsModel(0),\n     menu(0)\n@@ -1244,16 +1251,3 @@ void UnitDisplayStatusBarControl::onMenuSelection(QAction* action)\n         optionsModel->setDisplayUnit(action->data());\n     }\n }\n-\n-void NetworkToggleStatusBarControl::mousePressEvent(QMouseEvent *event)\n-{\n-    if (clientModel) {\n-        clientModel->setNetworkActive(!clientModel->getNetworkActive());\n-    }\n-}\n-\n-/** Lets the control know about the Client Model */\n-void NetworkToggleStatusBarControl::setClientModel(ClientModel *_clientModel)\n-{\n-    this->clientModel = _clientModel;\n-}"
      },
      {
        "sha": "59540bfe6baa7656f50eda1a80ddc15ab62d664e",
        "filename": "src/qt/bitcoingui.h",
        "status": "modified",
        "additions": 4,
        "deletions": 15,
        "changes": 19,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/bitcoingui.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/bitcoingui.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.h?ref=827d9a3be8209587c532f061753e99730b9be4c4",
        "patch": "@@ -26,7 +26,6 @@ class PlatformStyle;\n class RPCConsole;\n class SendCoinsRecipient;\n class UnitDisplayStatusBarControl;\n-class NetworkToggleStatusBarControl;\n class WalletFrame;\n class WalletModel;\n class HelpMessageDialog;\n@@ -86,7 +85,7 @@ class BitcoinGUI : public QMainWindow\n     UnitDisplayStatusBarControl *unitDisplayControl;\n     QLabel *labelWalletEncryptionIcon;\n     QLabel *labelWalletHDStatusIcon;\n-    NetworkToggleStatusBarControl *connectionsControl;\n+    QLabel *connectionsControl;\n     QLabel *labelBlocksIcon;\n     QLabel *progressBarLabel;\n     QProgressBar *progressBar;\n@@ -238,6 +237,9 @@ private Q_SLOTS:\n     /** When hideTrayIcon setting is changed in OptionsModel hide or show the icon accordingly. */\n     void setTrayIconVisible(bool);\n \n+    /** Toggle networking */\n+    void toggleNetworkActive();\n+\n     void showModalOverlay();\n };\n \n@@ -270,17 +272,4 @@ private Q_SLOTS:\n     void onMenuSelection(QAction* action);\n };\n \n-class NetworkToggleStatusBarControl : public QLabel\n-{\n-    Q_OBJECT\n-    \n-public:\n-    void setClientModel(ClientModel *clientModel);\n-protected:\n-    void mousePressEvent(QMouseEvent *event);\n-    \n-private:\n-    ClientModel *clientModel;\n-};\n-\n #endif // BITCOIN_QT_BITCOINGUI_H"
      },
      {
        "sha": "b2e811929939b4f80f6f8df16a91a8c09332499a",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 0,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=827d9a3be8209587c532f061753e99730b9be4c4",
        "patch": "@@ -55,6 +55,7 @@\n #include <QSettings>\n #include <QTextDocument> // for Qt::mightBeRichText\n #include <QThread>\n+#include <QMouseEvent>\n \n #if QT_VERSION < 0x050000\n #include <QUrl>\n@@ -986,4 +987,10 @@ QString formateNiceTimeOffset(qint64 secs)\n     }\n     return timeBehindText;\n }\n+\n+void ClickableLabel::mousePressEvent(QMouseEvent *event)\n+{\n+    Q_EMIT clicked(event->pos());\n+}\n+\n } // namespace GUIUtil"
      },
      {
        "sha": "9a17d24f07863c1967d57af22ce2b6ebcb35d97a",
        "filename": "src/qt/guiutil.h",
        "status": "modified",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/guiutil.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/827d9a3be8209587c532f061753e99730b9be4c4/src/qt/guiutil.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.h?ref=827d9a3be8209587c532f061753e99730b9be4c4",
        "patch": "@@ -14,6 +14,7 @@\n #include <QProgressBar>\n #include <QString>\n #include <QTableView>\n+#include <QLabel>\n \n #include <boost/filesystem.hpp>\n \n@@ -215,6 +216,19 @@ namespace GUIUtil\n     typedef QProgressBar ProgressBar;\n #endif\n \n+    class ClickableLabel : public QLabel\n+    {\n+        Q_OBJECT\n+\n+    Q_SIGNALS:\n+        /** Emitted when the label is clicked. The relative mouse coordinates of the click are\n+         * passed to the signal.\n+         */\n+        void clicked(const QPoint& point);\n+    protected:\n+        void mousePressEvent(QMouseEvent *event);\n+    };\n+\n } // namespace GUIUtil\n \n #endif // BITCOIN_QT_GUIUTIL_H"
      }
    ]
  },
  {
    "sha": "042f9fa071fd76ab310cd47b73d0e620a7850660",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowNDJmOWZhMDcxZmQ3NmFiMzEwY2Q0N2I3M2QwZTYyMGE3ODUwNjYw",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-11-24T13:37:36Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2016-11-24T13:37:36Z"
      },
      "message": "qt: Show progress overlay when clicking spinner icon\n\nBring up the modal progress overlay when the user clicks the spinner\nicon in the task bar.\n\nI think this is the intuitive thing to do when that icon is clicked.",
      "tree": {
        "sha": "5ac719423c89e0035cba4b7ba09e9624162e8fce",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ac719423c89e0035cba4b7ba09e9624162e8fce"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/042f9fa071fd76ab310cd47b73d0e620a7850660",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/042f9fa071fd76ab310cd47b73d0e620a7850660",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/042f9fa071fd76ab310cd47b73d0e620a7850660",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/042f9fa071fd76ab310cd47b73d0e620a7850660/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "827d9a3be8209587c532f061753e99730b9be4c4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/827d9a3be8209587c532f061753e99730b9be4c4",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/827d9a3be8209587c532f061753e99730b9be4c4"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 4,
      "deletions": 2
    },
    "files": [
      {
        "sha": "54ed867de0ea381af310c1df36dcec7a8335d533",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 2,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/042f9fa071fd76ab310cd47b73d0e620a7850660/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/042f9fa071fd76ab310cd47b73d0e620a7850660/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=042f9fa071fd76ab310cd47b73d0e620a7850660",
        "patch": "@@ -200,7 +200,7 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n     labelWalletEncryptionIcon = new QLabel();\n     labelWalletHDStatusIcon = new QLabel();\n     connectionsControl = new GUIUtil::ClickableLabel();\n-    labelBlocksIcon = new QLabel();\n+    labelBlocksIcon = new GUIUtil::ClickableLabel();\n     if(enableWallet)\n     {\n         frameBlocksLayout->addStretch();\n@@ -248,8 +248,10 @@ BitcoinGUI::BitcoinGUI(const PlatformStyle *_platformStyle, const NetworkStyle *\n \n     modalOverlay = new ModalOverlay(this->centralWidget());\n #ifdef ENABLE_WALLET\n-    if(enableWallet)\n+    if(enableWallet) {\n         connect(walletFrame, SIGNAL(requestedSyncWarningInfo()), this, SLOT(showModalOverlay()));\n+        connect(labelBlocksIcon, SIGNAL(clicked(QPoint)), this, SLOT(showModalOverlay()));\n+    }\n #endif\n }\n "
      }
    ]
  }
]