[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635170430",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-635170430",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 635170430,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNTE3MDQzMA==",
    "user": {
      "login": "jonasschnelli",
      "id": 178464,
      "node_id": "MDQ6VXNlcjE3ODQ2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/178464?u=eab5d0cdbb6cc25087cb61d4ca4a6f85255f42a7&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonasschnelli",
      "html_url": "https://github.com/jonasschnelli",
      "followers_url": "https://api.github.com/users/jonasschnelli/followers",
      "following_url": "https://api.github.com/users/jonasschnelli/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonasschnelli/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonasschnelli/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonasschnelli/subscriptions",
      "organizations_url": "https://api.github.com/users/jonasschnelli/orgs",
      "repos_url": "https://api.github.com/users/jonasschnelli/repos",
      "events_url": "https://api.github.com/users/jonasschnelli/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonasschnelli/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-28T07:39:26Z",
    "updated_at": "2020-05-28T07:39:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Test seems to fail:\r\nhttps://bitcoinbuilds.org/index.php?job=b27a270b-c15a-4a48-bf46-26b3cc36a464\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/635170430/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637235804",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-637235804",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 637235804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzIzNTgwNA==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-02T02:43:35Z",
    "updated_at": "2021-09-29T11:23:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/637235804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639673738",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-639673738",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 639673738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTY3MzczOA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-05T18:05:47Z",
    "updated_at": "2020-06-05T18:20:50Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.\r\n\r\nSeeing this error: Assertion `new_tx' failed:\r\n```\r\n2020-06-05T18:01:34.518000Z TestFramework (INFO): Initializing test directory /tmp/bitcoin_func_test_hf5xwzyh\r\n2020-06-05T18:01:34.975000Z TestFramework (INFO): Testing that various invalid commands raise with specific error messages\r\n2020-06-05T18:01:35.809000Z TestFramework (INFO): Calling wallet tool info, testing output\r\n2020-06-05T18:01:36.535000Z TestFramework (INFO): Generating transaction to mutate wallet\r\n2020-06-05T18:01:39.036000Z TestFramework (INFO): Calling wallet tool info after generating a transaction, testing output\r\n2020-06-05T18:01:39.238000Z TestFramework (INFO): Calling wallet tool create on an existing wallet, testing output\r\n2020-06-05T18:01:41.947000Z TestFramework (INFO): Starting node with arg -wallet=foo\r\n2020-06-05T18:01:42.716000Z TestFramework (INFO): Calling getwalletinfo on a different wallet (\"foo\"), testing output\r\n2020-06-05T18:01:42.975000Z TestFramework (INFO): Check salvage\r\n2020-06-05T18:01:51.543000Z TestFramework (ERROR): Assertion failed\r\nTraceback (most recent call last):\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/test_framework.py\", line 119, in main\r\n    self.run_test()\r\n  File \"test/functional/tool_wallet.py\", line 245, in run_test\r\n    self.test_salvage()\r\n  File \"test/functional/tool_wallet.py\", line 232, in test_salvage\r\n    self.assert_tool_output('', '-wallet=salvage', 'salvage')\r\n  File \"test/functional/tool_wallet.py\", line 52, in assert_tool_output\r\n    assert_equal(stderr, '')\r\n  File \"/home/jon/projects/bitcoin/bitcoin/test/functional/test_framework/util.py\", line 46, in assert_equal\r\n    raise AssertionError(\"not(%s)\" % \" == \".join(str(arg) for arg in (thing1, thing2) + args))\r\nAssertionError: not(bitcoin-wallet: wallet/walletdb.cpp:289: auto ReadKeyValue(CWallet *, CDataStream &, CDataStream &, CWalletScanState &, std::string &, std::string &)::(anonymous class)::operator()(CWalletTx &, bool) const: Assertion `new_tx' failed.\r\n == )\r\n2020-06-05T18:01:51.595000Z TestFramework (INFO): Stopping nodes\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/639673738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680166791",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-680166791",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 680166791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDE2Njc5MQ==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-25T17:29:48Z",
    "updated_at": "2020-08-25T17:29:48Z",
    "author_association": "MEMBER",
    "body": "#19805 is a potential solution to the test failure as it just avoids deserializing those records entirely.\r\n\r\n#19793 is a another potential solution to the test failure where the assert is removed.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680166791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680210564",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-680210564",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 680210564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDIxMDU2NA==",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-25T18:56:41Z",
    "updated_at": "2020-08-25T18:56:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "> #19805 is a potential solution to the test failure as it just avoids deserializing those records entirely.\r\n> \r\n> #19793 is a another potential solution to the test failure where the assert is removed.\r\n\r\nMaybe I should look at the test to understand better, but both of these changes are avoiding failures when there are duplicate transactions in the database. But we still don't know how duplicate transactions are winding up in the database to begin with?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680210564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680214016",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-680214016",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 680214016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDIxNDAxNg==",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-25T19:03:37Z",
    "updated_at": "2020-08-25T19:14:44Z",
    "author_association": "MEMBER",
    "body": "> But we still don't know how duplicate transactions are winding up in the database to begin with?\r\n\r\nThe duplicate transactions are showing up in the records the salvage pulls from the database. This doesn't mean the database actually contains duplicate transactions but is actually more of an artifact of the aggressive salvage.\r\n\r\nSpecifically, the aggressive salvage will likely recover deleted data as such data is not actually overwritten, just marked deleted. The aggressive salvage ignores the deletion flag so it will pull up those records. In this test, the Btree ends up being rebalanced which involves moving data around and this is done via copy and delete. So the aggressive salvage is finding records in the \"deleted space\".",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/680214016/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708983312",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-708983312",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 708983312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODk4MzMxMg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-15T08:16:57Z",
    "updated_at": "2020-10-15T08:16:57Z",
    "author_association": "MEMBER",
    "body": "Rebased",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/708983312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721307686",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-721307686",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 721307686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTMwNzY4Ng==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T18:40:25Z",
    "updated_at": "2020-11-03T18:40:25Z",
    "author_association": "MEMBER",
    "body": "Please don't merge this. The failure still happens intermittently.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/721307686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929022312",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-929022312",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 929022312,
    "node_id": "IC_kwDOABII5843X8Fo",
    "user": {
      "login": "meshcollider",
      "id": 3211283,
      "node_id": "MDQ6VXNlcjMyMTEyODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3211283?u=447cdc9e2966cbee415545c8ff452954ee1209af&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/meshcollider",
      "html_url": "https://github.com/meshcollider",
      "followers_url": "https://api.github.com/users/meshcollider/followers",
      "following_url": "https://api.github.com/users/meshcollider/following{/other_user}",
      "gists_url": "https://api.github.com/users/meshcollider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/meshcollider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/meshcollider/subscriptions",
      "organizations_url": "https://api.github.com/users/meshcollider/orgs",
      "repos_url": "https://api.github.com/users/meshcollider/repos",
      "events_url": "https://api.github.com/users/meshcollider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/meshcollider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T09:33:30Z",
    "updated_at": "2021-09-28T09:37:59Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke how often does the intermittent test failure occur? I've rebased this on [a branch](https://github.com/meshcollider/bitcoin/commits/202109_salvage) which incorporates a few other salvage things, which fixes the assert(new_tx) thing again. I haven't been able to hit #20151 yet after multiple re-runs locally.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929022312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929049998",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#issuecomment-929049998",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/19078",
    "id": 929049998,
    "node_id": "IC_kwDOABII5843YC2O",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-28T10:12:07Z",
    "updated_at": "2021-09-28T10:12:07Z",
    "author_association": "MEMBER",
    "body": "How often did you try? I am running \r\n\r\n```\r\nwhile test/functional/tool_wallet.py --legacy-wallet ; do ( echo 1 >> /tmp/runs )  ; done\r\n```\r\n\r\nand it fails after 36 tries:\r\n\r\n```\r\n$ wc -l  /tmp/runs \r\n36 /tmp/runs\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/929049998/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458929932",
    "pull_request_review_id": 453493727,
    "id": 458929932,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkyOTkzMg==",
    "diff_hunk": "@@ -207,10 +215,25 @@ def test_salvage(self):\n         # TODO: Check salvage actually salvages and doesn't break things. https://github.com/bitcoin/bitcoin/issues/7463\n         self.log.info('Check salvage')\n         self.start_node(0, ['-wallet=salvage'])\n+        address_gen_rand = random.Random(123)\n+\n+        def gna():\n+            return self.nodes[0].getnewaddress(\n+                address_type=address_gen_rand.choice(['legacy', 'p2sh-segwit', 'bech32']))\n+\n+        for _ in range(101):\n+            # Generate to fresh address each time\n+            self.nodes[0].generatetoaddress(1, gna())\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        balances_before = self.nodes[0].getbalances()\n         self.stop_node(0)\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')\n \n+        self.start_node(0, ['-wallet=salvage'])",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 44,
    "commit_id": "8d600d6b3eacd3d57c2628886dcfb2b3de72a362",
    "original_commit_id": "fab4fa1cadb85b5f6e53dcd9fdf5ab9b605969e9",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I had to add `self.nodes[0].rescanblockchain(0)` to make this pass after merging with #19457",
    "created_at": "2020-07-22T16:36:11Z",
    "updated_at": "2020-10-30T10:52:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r458929932",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458929932"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r458929932"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/458929932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 233,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509798005",
    "pull_request_review_id": 514265744,
    "id": 509798005,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTc5ODAwNQ==",
    "diff_hunk": "@@ -213,11 +215,25 @@ def test_getwalletinfo_on_different_wallet(self):\n     def test_salvage(self):\n         # TODO: Check salvage actually salvages and doesn't break things. https://github.com/bitcoin/bitcoin/issues/7463\n         self.log.info('Check salvage')\n-        self.start_node(0, ['-wallet=salvage'])\n+        self.start_node(0, ['-nowallet', '-wallet=salvage'])\n+        address_gen_rand = random.Random(123)\n+\n+        def gna():\n+            return self.nodes[0].getnewaddress(address_type=address_gen_rand.choice(['legacy', 'p2sh-segwit', 'bech32']))\n+\n+        for _ in range(101):\n+            # Generate to fresh address each time\n+            self.nodes[0].generatetoaddress(1, gna())\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        balances_before = self.nodes[0].getbalances()\n         self.stop_node(0)\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')",
    "path": "test/functional/tool_wallet.py",
    "position": 40,
    "original_position": 35,
    "commit_id": "8d600d6b3eacd3d57c2628886dcfb2b3de72a362",
    "original_commit_id": "fa6154b3aa904eb39e6e537ff99106b6e022701b",
    "user": {
      "login": "ryanofsky",
      "id": 7133040,
      "node_id": "MDQ6VXNlcjcxMzMwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7133040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanofsky",
      "html_url": "https://github.com/ryanofsky",
      "followers_url": "https://api.github.com/users/ryanofsky/followers",
      "following_url": "https://api.github.com/users/ryanofsky/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanofsky/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanofsky/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanofsky/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanofsky/orgs",
      "repos_url": "https://api.github.com/users/ryanofsky/repos",
      "events_url": "https://api.github.com/users/ryanofsky/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanofsky/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "In commit \"test: Add salvage test for wallet tool\" (fa6154b3aa904eb39e6e537ff99106b6e022701b)\r\n\r\n\r\nIt seems the test is failing on this line due to stderr output https://travis-ci.org/github/bitcoin/bitcoin/jobs/735969416#L2582:\r\n\r\n```\r\nSalvage: WARNING: Number of keys in data does not match number of values.\r\nSalvage: WARNING: Unexpected end of file while reading salvage output.\r\nWARNING: WalletBatch::Recover skipping key: CDataStream::read(): end of data: unspecified iostream_category error\r\nWARNING: WalletBatch::Recover skipping key: CDataStream::read(): end of data: unspecified iostream_category error\r\nWARNING: WalletBatch::Recover skipping key: Error reading wallet database: CPubKey/CPrivKey corrupt\r\n```",
    "created_at": "2020-10-21T23:46:27Z",
    "updated_at": "2020-10-30T10:52:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r509798005",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509798005"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r509798005"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509798005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 331,
    "original_line": 331,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509931859",
    "pull_request_review_id": 514424722,
    "id": 509931859,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTkzMTg1OQ==",
    "diff_hunk": "@@ -213,11 +215,25 @@ def test_getwalletinfo_on_different_wallet(self):\n     def test_salvage(self):\n         # TODO: Check salvage actually salvages and doesn't break things. https://github.com/bitcoin/bitcoin/issues/7463\n         self.log.info('Check salvage')\n-        self.start_node(0, ['-wallet=salvage'])\n+        self.start_node(0, ['-nowallet', '-wallet=salvage'])\n+        address_gen_rand = random.Random(123)\n+\n+        def gna():\n+            return self.nodes[0].getnewaddress(address_type=address_gen_rand.choice(['legacy', 'p2sh-segwit', 'bech32']))\n+\n+        for _ in range(101):\n+            # Generate to fresh address each time\n+            self.nodes[0].generatetoaddress(1, gna())\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        self.nodes[0].sendmany(amounts={gna(): 0.05 for _ in range(50)})\n+        balances_before = self.nodes[0].getbalances()\n         self.stop_node(0)\n \n         self.assert_tool_output('', '-wallet=salvage', 'salvage')",
    "path": "test/functional/tool_wallet.py",
    "position": 40,
    "original_position": 35,
    "commit_id": "8d600d6b3eacd3d57c2628886dcfb2b3de72a362",
    "original_commit_id": "fa6154b3aa904eb39e6e537ff99106b6e022701b",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "#20151 ",
    "created_at": "2020-10-22T07:17:22Z",
    "updated_at": "2020-10-30T10:52:14Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r509931859",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509931859"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/19078#discussion_r509931859"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/19078"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/509931859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 331,
    "original_line": 331,
    "side": "RIGHT",
    "in_reply_to_id": 509798005
  }
]