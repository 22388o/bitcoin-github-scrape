laanwj,2019-08-05 12:44:42,ACK e11aa5a6f2683741567f0aaa08d3b198d219913f,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-518219018,518219018,
DrahtBot,2019-08-14 02:07:59,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-521074876,521074876,
promag,2019-08-19 00:26:19,Rebased.,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-522372708,522372708,
promag,2019-08-25 10:21:44,IMO this is ready to merge.,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-524618251,524618251,
MarcoFalke,2019-08-26 13:14:24,Indeed. Thanks for the ping,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-524855471,524855471,
MarcoFalke,2019-08-27 19:31:19,This test fails on travis,https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-525449503,525449503,
promag,2019-08-27 21:46:25,"The test should run pretty fast, on my system around 1s:\n```\n2019-08-27T20:59:50.749000Z TestFramework (INFO): Test the getzmqnotifications RPC\n2019-08-27T20:59:51.603000Z TestFramework (INFO): Stopping nodes\n```\nBut on one travis failure it takes around 60s to fail:\n```\n2019-08-27T17:18:36.885000Z TestFramework (INFO): Test the getzmqnotifications RPC\n2019-08-27T17:19:37.373000Z T",https://github.com/bitcoin/bitcoin/pull/16404#issuecomment-525495998,525495998,
kallewoof,2019-08-05 09:19:43,Is it normal to import stuff in the middle of a file in python? Don't see it often. And you could remove the one below in `test_reorg` if you just moved this to top..,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310510854,310510854,test/functional/interface_zmq.py
promag,2019-08-05 09:29:15,This was already the case.  It's like this to not break if zmq module is not available. See `skip_if_no_py3_zmq()` above.,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310514821,310514821,test/functional/interface_zmq.py
kallewoof,2019-08-05 09:36:59,"Ah, that makes sense..",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310518006,310518006,test/functional/interface_zmq.py
MarcoFalke,2019-08-05 12:52:17,"`invalidateblock` is not for production purposes, so I'd rather not mention that here. At most I'd mention this in the invalidateblock rpc itself.",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310588340,310588340,doc/zmq.md
MarcoFalke,2019-08-05 12:53:10,Can move the `import zmq` right after the line `skip_if_no_bitcoind_zmq`? :),https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310588739,310588739,test/functional/interface_zmq.py
promag,2019-08-05 12:55:10,"Good point, I'll improve `invalidateblock` help then.",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310589608,310589608,doc/zmq.md
MarcoFalke,2019-08-05 12:55:53,"in commit be08278a3f7348a346b60421b2c929a86020a4db\n\nWould be nice to give a rationale for this ""refactor"". Otherwise, I'd be NACK on this commit",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310589934,310589934,test/functional/interface_zmq.py
promag,2019-08-05 12:56:09,Really? It's then available to other scopes? I'll try.,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310590062,310590062,test/functional/interface_zmq.py
laanwj,2019-08-05 13:16:06,"I think this was moved into the specific test because the other test uses a different address, so there's no reason to share this globally",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310598581,310598581,test/functional/interface_zmq.py
promag,2019-08-05 13:18:36,"Yes, the refactor is to avoid state and constants across test cases.",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310599647,310599647,test/functional/interface_zmq.py
laanwj,2019-08-05 13:44:34,"Avoiding constants across test cases is not a goal in itself though. If you can share, say, constants for magic values that's good. Just in this specific caseâ€¦",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310611402,310611402,test/functional/interface_zmq.py
promag,2019-08-05 13:52:00,"I mean that each test case needs a different address and I thought having a constant for each test is pointless, that's why I moved the value inline.\n\nBut I'll happily revert, the refactor is just to simplify the next commit - I'll add a rationale.",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310614921,310614921,test/functional/interface_zmq.py
MarcoFalke,2019-08-05 14:11:17,"Sorry, didn't realize they were different addresses. ACK in that case.",https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310624361,310624361,test/functional/interface_zmq.py
promag,2019-08-05 14:24:27,If I remove import `zmq` and keep the one you said I get `NameError: name 'zmq' is not defined`.,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310630984,310630984,test/functional/interface_zmq.py
promag,2019-08-05 14:25:22,Rationale added.,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310631448,310631448,test/functional/interface_zmq.py
promag,2019-08-05 14:25:39,Done.,https://github.com/bitcoin/bitcoin/pull/16404#discussion_r310631614,310631614,doc/zmq.md
