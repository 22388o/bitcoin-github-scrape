laanwj,2016-10-18T16:45:00Z,"I don't think this change is correct. Expected is `hash`, the actual value is `hdr.pchChecksum`. Which are in the right order already, or am I missing something?\n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83898516,83898516,src/main.cpp
paveljanik,2016-10-18T19:42:02Z,"No, you are correct of course. As `hash` is computed locally a few lines above, it is the expected value, thus the first one. And the current code is OK.\n\nBut 'was' is strange here (it _was_ received). There is similar code a few lines above:\n\n```\n%x expected, %x received\n```\n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83934429,83934429,src/main.cpp
paveljanik,2016-10-18T19:42:44Z,TAB here?\n,https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83934554,83934554,src/main.cpp
laanwj,2016-10-18T21:25:42Z,Agreed.\n\nAlso it makes sense to move this to `net` debug category I think.\n,https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83954415,83954415,src/main.cpp
rebroad,2016-10-19T00:25:15Z,will fix. thanks.\n,https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83978484,83978484,src/main.cpp
rebroad,2016-10-19T00:26:37Z,"hdr.pchChecksum is the checksum we are told it will be once received, therefore this is the ""expected"" (as the real checksum has not been calculated yet) checksum. When we receive the message, the computed checksum is the actual checksum. Is this correct?\n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83978614,83978614,src/main.cpp
paveljanik,2016-10-19T05:05:06Z,"This is the ""was"" I mentioned. The message was received with some declared checksum. When checking the checksum, we calculate the real checksum and expect it will be the same. It is not. Expected (calculated here, locally - `hash`) doesn't match the _received_ one (declared by the sender, actual one in the message).\n\nWe do not expect the checksum received (provided by the peer) will match. We do",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r83997907,83997907,src/main.cpp
rebroad,2016-10-19T05:40:18Z,"@paveljanik I see what you are saying now. Ok, so ""was"" and ""expected"" are both ambiguous it seems. Perhaps ""declared"" and ""calculated""?\n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r84000218,84000218,src/main.cpp
paveljanik,2016-10-19T06:03:11Z,expected and received used in other places...\n,https://github.com/bitcoin/bitcoin/pull/8962#discussion_r84001895,84001895,src/main.cpp
laanwj,2016-10-19T07:06:06Z,"Still NACK on swapping them, \n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r84007812,84007812,src/main.cpp
laanwj,2016-10-19T07:06:12Z,"Still NACK on swapping them, \n",https://github.com/bitcoin/bitcoin/pull/8962#discussion_r84007823,84007823,src/main.cpp
rebroad,2016-10-19T09:13:17Z,Why do you want them to be the wrong way around?\n,https://github.com/bitcoin/bitcoin/pull/8962#discussion_r84027619,84027619,src/main.cpp
