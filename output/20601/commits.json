[
  {
    "sha": "c17569056105d221053a839d5430df5b3e94f746",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjMTc1NjkwNTYxMDVkMjIxMDUzYTgzOWQ1NDMwZGY1YjNlOTRmNzQ2",
    "commit": {
      "author": {
        "name": "Jarol Rodriguez",
        "email": "jarolrod@tutanota.com",
        "date": "2020-12-08T06:43:02Z"
      },
      "committer": {
        "name": "Jarol Rodriguez",
        "email": "jarolrod@tutanota.com",
        "date": "2020-12-10T20:38:20Z"
      },
      "message": "doc: Update for FreeBSD 12.2, add GUI Build Instructions\n\nThe current FreeBSD Build documentation is a little outdated and underwhelming. This PR updates the doc to\nbe more informative. It also adds new instructions for building the GUI and adding support for  descriptor\nwallets.\n\non vasild's recommendation: it is ok to point the user to download db5 which has an active port package\ninstead of building db4 from the provided script.\n\nCo-authored-by: Vasil Dimov <vd@freebsd.org>",
      "tree": {
        "sha": "0d059d728deb48e32c7a394809d749e7234faf77",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0d059d728deb48e32c7a394809d749e7234faf77"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c17569056105d221053a839d5430df5b3e94f746",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJKBAABCAA0FiEE0/IqOkw2bC3LZtNyLanFp/qB6jUFAl/Sh6AWHGphcm9scm9k\nQHR1dGFub3RhLmNvbQAKCRAtqcWn+oHqNaFSEACfL2uoo6jN0f8clWO2AgsaEUIh\ndHMzkYKAvac/LlePH/vQ6bVgeAX/sb0TVaMDpMCjz06sMxi2lYRi4nUcVkCyLZr1\nOinflbL0HbabaN+WNS4JsUksDhNzT0FfNLBv4IOYLTDL8971p2Z3YW2maQcO/Awg\nmwrBiMNMSxFXZaRG1TSRj+qCK6MHLYY0WQ9b4DtK9WsxvT2o91kmA8SdZ3U8xJkR\nnVRNfu0zAN68FJk2Y+6uZrZGbv3GgAnwhHbp0EDDJB9Zhovh1W7VDukwajuPTwAK\nmUVhH2EvYjkkIinFqwHvoJ95i2DYH/PRyYViTuIjne+RPfwVhRUAtfz1UDrlDpQs\nFfaaLqAcGpfzKLRr03FTxtzKb+GoGz1Sls3+PAhngrKbVFsPWJ6RbiTQDUmrqWLP\nRC+keuALdkS5U3IwLJaVGqrg6LyEXb7FCvvYABn0u4eX0Z+w521CyO4+wf6RRsuE\n+ILSWltV91y89LaAcNyLGPOTvyGicAvlLkQ2UrrfnxgJavYoVyEuforLU2IUIPRJ\nB44B1T67aqFfVn8UKClvspSZ/KkT5Ow6nO4SzWTiLMWMWdiDlW7vcIYdtsdKDZU3\n3VsO1El0RfqWzrbgFy3d+4tX0ig/7OUFYQdDo7xe5YbMdBjyaMD6EwUDq25RBjY8\npth9gC9A/DDb1u7DBQ==\n=cOEd\n-----END PGP SIGNATURE-----",
        "payload": "tree 0d059d728deb48e32c7a394809d749e7234faf77\nparent 1a9fa4c5ba27f5e32b547a77264ca0d4462bd168\nauthor Jarol Rodriguez <jarolrod@tutanota.com> 1607409782 -0500\ncommitter Jarol Rodriguez <jarolrod@tutanota.com> 1607632700 -0500\n\ndoc: Update for FreeBSD 12.2, add GUI Build Instructions\n\nThe current FreeBSD Build documentation is a little outdated and underwhelming. This PR updates the doc to\nbe more informative. It also adds new instructions for building the GUI and adding support for  descriptor\nwallets.\n\non vasild's recommendation: it is ok to point the user to download db5 which has an active port package\ninstead of building db4 from the provided script.\n\nCo-authored-by: Vasil Dimov <vd@freebsd.org>\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c17569056105d221053a839d5430df5b3e94f746",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c17569056105d221053a839d5430df5b3e94f746",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c17569056105d221053a839d5430df5b3e94f746/comments",
    "author": {
      "login": "jarolrod",
      "id": 23396902,
      "node_id": "MDQ6VXNlcjIzMzk2OTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jarolrod",
      "html_url": "https://github.com/jarolrod",
      "followers_url": "https://api.github.com/users/jarolrod/followers",
      "following_url": "https://api.github.com/users/jarolrod/following{/other_user}",
      "gists_url": "https://api.github.com/users/jarolrod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
      "organizations_url": "https://api.github.com/users/jarolrod/orgs",
      "repos_url": "https://api.github.com/users/jarolrod/repos",
      "events_url": "https://api.github.com/users/jarolrod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jarolrod/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jarolrod",
      "id": 23396902,
      "node_id": "MDQ6VXNlcjIzMzk2OTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/23396902?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jarolrod",
      "html_url": "https://github.com/jarolrod",
      "followers_url": "https://api.github.com/users/jarolrod/followers",
      "following_url": "https://api.github.com/users/jarolrod/following{/other_user}",
      "gists_url": "https://api.github.com/users/jarolrod/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jarolrod/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jarolrod/subscriptions",
      "organizations_url": "https://api.github.com/users/jarolrod/orgs",
      "repos_url": "https://api.github.com/users/jarolrod/repos",
      "events_url": "https://api.github.com/users/jarolrod/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jarolrod/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "1a9fa4c5ba27f5e32b547a77264ca0d4462bd168",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1a9fa4c5ba27f5e32b547a77264ca0d4462bd168",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1a9fa4c5ba27f5e32b547a77264ca0d4462bd168"
      }
    ],
    "stats": {
      "total": 112,
      "additions": 90,
      "deletions": 22
    },
    "files": [
      {
        "sha": "18ea84c579a3659d0cf3005a76545b7ff287a86d",
        "filename": "doc/build-freebsd.md",
        "status": "modified",
        "additions": 90,
        "deletions": 22,
        "changes": 112,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c17569056105d221053a839d5430df5b3e94f746/doc/build-freebsd.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c17569056105d221053a839d5430df5b3e94f746/doc/build-freebsd.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-freebsd.md?ref=c17569056105d221053a839d5430df5b3e94f746",
        "patch": "@@ -1,59 +1,127 @@\n-FreeBSD build guide\n-======================\n-(updated for FreeBSD 12.0)\n+# FreeBSD Build Guide\n \n-This guide describes how to build bitcoind and command-line utilities on FreeBSD.\n+**Updated for FreeBSD [12.2](https://www.freebsd.org/releases/12.2R/announce.html)**\n \n-This guide does not contain instructions for building the GUI.\n+This guide describes how to build bitcoind, command-line utilities, and GUI on FreeBSD.\n+\n+## Dependencies\n+\n+The following dependencies are **required**:\n+\n+ Library                                                               | Purpose    | Description\n+ ----------------------------------------------------------------------|------------|----------------------\n+ [autoconf](https://svnweb.freebsd.org/ports/head/devel/autoconf/)     | Build      | Automatically configure software source code\n+ [automake](https://svnweb.freebsd.org/ports/head/devel/automake/)     | Build      | Generate makefile (requires autoconf)\n+ [libtool](https://svnweb.freebsd.org/ports/head/devel/libtool/)       | Build      | Shared library support\n+ [pkgconf](https://svnweb.freebsd.org/ports/head/devel/pkgconf/)       | Build      | Configure compiler and linker flags\n+ [git](https://svnweb.freebsd.org/ports/head/devel/git/)               | Clone      | Version control system\n+ [gmake](https://svnweb.freebsd.org/ports/head/devel/gmake/)           | Compile    | Generate executables\n+ [boost-libs](https://svnweb.freebsd.org/ports/head/devel/boost-libs/) | Utility    | Library for threading, data structures, etc\n+ [libevent](https://svnweb.freebsd.org/ports/head/devel/libevent/)     | Networking | OS independent asynchronous networking\n+\n+\n+The following dependencies are **optional**:\n+\n+  Library                                                                    | Purpose          | Description\n+  ---------------------------------------------------------------------------|------------------|----------------------\n+  [db5](https://svnweb.freebsd.org/ports/head/databases/db5/)                | Berkeley DB      | Wallet storage (only needed when wallet enabled)\n+  [qt5](https://svnweb.freebsd.org/ports/head/devel/qt5/)                    | GUI              | GUI toolkit (only needed when GUI enabled)\n+  [libqrencode](https://svnweb.freebsd.org/ports/head/graphics/libqrencode/) | QR codes in GUI  | Generating QR codes (only needed when GUI enabled)\n+  [libzmq4](https://svnweb.freebsd.org/ports/head/net/libzmq4/)              | ZMQ notification | Allows generating ZMQ notifications (requires ZMQ version >= 4.0.0)\n+  [sqlite3](https://svnweb.freebsd.org/ports/head/databases/sqlite3/)        | SQLite DB        | Wallet storage (only needed when wallet enabled)\n+  [python3](https://svnweb.freebsd.org/ports/head/lang/python3/)             | Testing          | Python Interpreter (only needed when running the test suite)\n+\n+  See [dependencies.md](dependencies.md) for a complete overview.\n \n ## Preparation\n \n-You will need the following dependencies, which can be installed as root via pkg:\n+### 1. Install Required Dependencies\n+Install the required dependencies the usual way you [install software on FreeBSD](https://www.freebsd.org/doc/en/books/handbook/ports.html) - either with `pkg` or via the Ports collection. The example commands below use `pkg` which is usually run as `root` or via `sudo`. If you want to use `sudo`, and you haven't set it up: [use this guide](http://www.freebsdwiki.net/index.php/Sudo%2C_configuring) to setup `sudo` access on FreeBSD.\n \n ```bash\n pkg install autoconf automake boost-libs git gmake libevent libtool pkgconf\n \n+```\n+\n+### 2. Clone Bitcoin Repo\n+Now that `git` and all the required dependencies are installed, let's clone the Bitcoin Core repository to a directory. All build scripts and commands will run from this directory.\n+``` bash\n git clone https://github.com/bitcoin/bitcoin.git\n ```\n \n-In order to run the test suite (recommended), you will need to have Python 3 installed:\n+### 3. Install Optional Dependencies\n+\n+#### Wallet Dependencies\n+It is not necessary to build wallet functionality to run bitcoind or the GUI. To enable legacy wallets, you must install `db5`. To enable [descriptor wallets](https://github.com/bitcoin/bitcoin/blob/master/doc/descriptors.md), `sqlite3` is required. Skip `db5` if you intend to *exclusively* use descriptor wallets\n+\n+###### Legacy Wallet Support\n+`db5` is required to enable support for legacy wallets. Skip if you don't intend to use legacy wallets\n \n ```bash\n-pkg install python3\n+pkg install db5\n ```\n \n-See [dependencies.md](dependencies.md) for a complete overview.\n+###### Descriptor Wallet Support\n \n-### Building BerkeleyDB\n+`sqlite3` is required to enable support for descriptor wallets. Skip if you don't intend to use descriptor wallets.\n+``` bash\n+pkg install sqlite3\n+```\n+---\n \n-BerkeleyDB is only necessary for the wallet functionality. To skip this, pass\n-`--disable-wallet` to `./configure` and skip to the next section.\n+#### GUI Dependencies\n+###### Qt5\n \n+Bitcoin Core includes a GUI built with the cross-platform Qt Framework. To compile the GUI, we need to install `qt5`. Skip if you don't intend to use the GUI.\n ```bash\n-./contrib/install_db4.sh `pwd`\n-export BDB_PREFIX=\"$PWD/db4\"\n+pkg install qt5\n ```\n+###### libqrencode\n+\n+The GUI can encode addresses in a QR Code. To build in QR support for the GUI, install `libqrencode`. Skip if not using the GUI or don't want QR code functionality.\n+```bash\n+pkg install libqrencode\n+```\n+---\n+\n+#### Test Suite Dependencies\n+There is an included test suite that is useful for testing code changes when developing.\n+To run the test suite (recommended), you will need to have Python 3 installed:\n+\n+```bash\n+pkg install python3\n+```\n+---\n \n ## Building Bitcoin Core\n \n-**Important**: Use `gmake` (the non-GNU `make` will exit with an error).\n+### 1. Configuration\n \n-With wallet:\n+There are many ways to configure Bitcoin Core, here are a few common examples:\n+##### Wallet (BDB + SQlite) Support, No GUI:\n+This explicitly enables legacy wallet support and disables the GUI. If `sqlite3` is installed, then descriptor wallet support will be built.\n ```bash\n ./autogen.sh\n-./configure --with-gui=no \\\n-    BDB_LIBS=\"-L${BDB_PREFIX}/lib -ldb_cxx-4.8\" \\\n-    BDB_CFLAGS=\"-I${BDB_PREFIX}/include\" \\\n+./configure --with-gui=no --with-incompatible-bdb \\\n+    BDB_LIBS=\"-ldb_cxx-5\" \\\n+    BDB_CFLAGS=\"-I/usr/local/include/db5\" \\\n     MAKE=gmake\n ```\n \n-Without wallet:\n+##### Wallet (only SQlite) and GUI Support:\n+This explicitly enables the GUI and disables legacy wallet support. If `qt5` is not installed, this will throw an error. If `sqlite3` is installed then descriptor wallet functionality will be built. If `sqlite3` is not installed, then wallet functionality will be disabled.\n ```bash\n ./autogen.sh\n-./configure --with-gui=no --disable-wallet MAKE=gmake\n+./configure --without-bdb --with-gui=yes MAKE=gmake\n+```\n+##### No Wallet or GUI\n+``` bash\n+./autogen.sh\n+./configure --without-wallet --with-gui=no MAKE=gmake\n ```\n \n-followed by:\n+### 2. Compile\n+**Important**: Use `gmake` (the non-GNU `make` will exit with an error).\n \n ```bash\n gmake # use -jX here for parallelism"
      }
    ]
  }
]