sdaftuar,2015-10-13T20:09:21Z,"Thanks for trying to address this issue; I agree it is suboptimal that we could be in a situation where we're requesting the same headers from the same peer, multiple times.\n\nHowever, I believe that sending a getheaders when a new block is announced is currently the only protection a node has against having chosen a bad peer for its initial headers sync.  That is, if the peer a node chooses for ",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-147837945,147837945,
domob1812,2015-10-14T05:18:44Z,"I thought about doing something like this per-node as well; but in that case, couldn't the peer still start one redundant ""getheaders request chain"" per peer when it receives inv messages?  This still seems like a lot of waste.\n\nI understand your point about selecting a bad peer, though.  My impression, however, is that this is only a related but otherwise independent issue; no?  In that case, w",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-147937469,147937469,
laanwj,2016-04-19T08:46:19Z,"I don't think there's agreement on this, and development seems to be stuck. @sdaftuar @domob1812 how to proceed here?\n",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-211804009,211804009,
domob1812,2016-04-19T17:18:11Z,"I think that this issue should be resolved - while it usually is not a big problem for Bitcoin, it is simply wrong (and could lead to instability) to send duplicate getheaders requests.  I think (obviously) that my patch improves the situation, but if there is a better solution, I'm all in favour of it as well.\n",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-212024169,212024169,
sdaftuar,2016-04-19T23:57:49Z,"No objection to solving the underlying issue, but I don't think we should adopt the approach taken in this PR.  This is a relatively minor problem (triggered only when your sync peer announces a new block during initial headers synchronization), and I don't think it makes sense to patch up a minor problem in a way that could create new problems.  In addition to opening up a node to never syncing u",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-212177582,212177582,
laanwj,2016-04-25T09:47:06Z,"Closing this PR, then. I agree it would be nice if this is fixed, but seems too minor an issue to need a quick fix that potentially breaks syncing.\n",https://github.com/bitcoin/bitcoin/pull/6821#issuecomment-214238262,214238262,
