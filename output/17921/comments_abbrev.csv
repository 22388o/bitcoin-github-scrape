theStack,2020-01-14 15:56:11,"@instagibbs: Thanks for reviewing! Before I get into action: should I really put in all those suggested changes (magic numbers elimination/explanation, reject reason checking, adding empty stack test case) in one single PR?\nI feel it may make more sense to start off with a new PR that only includes reject reason checking for *all* places (not just the ones concerning the new test add here) first",https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-574242905,574242905,
instagibbs,2020-01-14 16:02:55,"Minimally I want to know that it's being rejected for the right reasons, not ""oops the script is wrong in a different way"".\n\nSecondary is the magic numbers floating around, but that can be held off for now(though I'd really appreciate it, magic numbers in tests make them very brittle and hard to understand). ",https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-574246056,574246056,
theStack,2020-01-14 18:30:18,@jimmysong: Thanks for reviewing! Feels funny to have ones code reviewed by the author of a book that I am just reading right now :joy:,https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-574310316,574310316,
jimmysong,2020-01-14 18:35:16,glad you're reading it!,https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-574312249,574312249,
DrahtBot,2020-01-18 21:46:20,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #17959 (test: check specific reject reasons in feature_csv_activation.py by theStack)\n\nIf you consider this pull request",https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-575941180,575941180,
DrahtBot,2020-02-28 05:55:33,<!--cf906140f33d8803c4a75a2196329ecb-->Needs rebase,https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-592327257,592327257,
theStack,2020-02-28 08:08:04,Rebased.,https://github.com/bitcoin/bitcoin/pull/17921#issuecomment-592398894,592398894,
instagibbs,2020-01-14 13:54:21,since we're touching this line: wat,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366349494,366349494,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 13:55:27,magic numbers :(,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366350058,366350058,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 13:57:12,"s/stack CSV tx/stack CSV tx should succeed/\n\nto mirror the comments below doing the opposite",https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366351010,366351010,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 13:57:25,"s/stack CSV tx/stack CSV tx should succeed/\n\nto mirror the comments below doing the opposite",https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366351130,366351130,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 13:59:36,not for this PR but I think a more self-describing variable would be something like `bip112tx_emptystack_inert` and `bip112tx_emptystack_active`,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366352351,366352351,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 14:01:11,Let's check the reject reason,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366353161,366353161,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 14:01:16,Let's check the reject reason,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366353208,366353208,test/functional/feature_csv_activation.py
theStack,2020-01-14 16:10:56,"Note that the suffixes 'v1' and 'v2' don't say anything about whether BIP112 is already activated or not, it merely describes what the version field of the tx is set to. ",https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366429630,366429630,test/functional/feature_csv_activation.py
instagibbs,2020-01-14 16:13:37,"that's still an indirect way of naming it for the reader, not your fault of course",https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366431295,366431295,test/functional/feature_csv_activation.py
jimmysong,2020-01-14 16:24:44,might be worth putting 83 in a variable,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366438051,366438051,test/functional/feature_csv_activation.py
jimmysong,2020-01-14 16:26:22,what's the justification for this change? Is the CSV activation at block 344 instead of 345?,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366439077,366439077,test/functional/feature_csv_activation.py
theStack,2020-01-14 16:28:21,Done.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366440333,366440333,test/functional/feature_csv_activation.py
theStack,2020-01-14 16:28:31,Done.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366440428,366440428,test/functional/feature_csv_activation.py
theStack,2020-01-14 18:22:47,Done in commit https://github.com/bitcoin/bitcoin/pull/17921/commits/3330bcec758e83e2e76f8d4f1cca1c4c3d543a83.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366498263,366498263,test/functional/feature_csv_activation.py
theStack,2020-01-14 18:22:58,Done in commit https://github.com/bitcoin/bitcoin/pull/17921/commits/3330bcec758e83e2e76f8d4f1cca1c4c3d543a83.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366498325,366498325,test/functional/feature_csv_activation.py
theStack,2020-01-14 18:24:08,Done in commit https://github.com/bitcoin/bitcoin/pull/17921/commits/93f5ee06e5cc620fdea5e990b46f3d23165cd9b0.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366498946,366498946,test/functional/feature_csv_activation.py
theStack,2020-01-14 18:24:28,Eliminated in commit https://github.com/bitcoin/bitcoin/pull/17921/commits/93f5ee06e5cc620fdea5e990b46f3d23165cd9b0.,https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366499085,366499085,test/functional/feature_csv_activation.py
theStack,2020-01-14 18:28:02,"The CSV activation height didn't change (is hardcoded as 432 in regtest mode), but since we are generating one coinbase block more, one block less has to be generated at this point to reach the desired height -- which turned out to be the CSV activation height minus five. Tried to get rid of most magic numbers in commit https://github.com/bitcoin/bitcoin/pull/17921/commits/93f5ee06e5cc620fdea5e990",https://github.com/bitcoin/bitcoin/pull/17921#discussion_r366500791,366500791,test/functional/feature_csv_activation.py
