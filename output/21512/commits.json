[
  {
    "sha": "fa2b95f8615453cb1c2829292afed8d2fbd4f045",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTJiOTVmODYxNTQ1M2NiMWMyODI5MjkyYWZlZDhkMmZiZDRmMDQ1",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-03-23T10:04:18Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-03-23T09:58:32Z"
      },
      "message": "fuzz: Style fixups",
      "tree": {
        "sha": "3456304a284bffa4abffabf24257e55867428d5f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3456304a284bffa4abffabf24257e55867428d5f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa2b95f8615453cb1c2829292afed8d2fbd4f045",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiGqQv+PKU8dCQ/Rd6wUW8t3rJsvfkKdjyK49dRKMirI0rbvj5vk+asG8mfRA4W\nxswdTXvlIZz05IXI1xgbQ8vxDnS9EJX6qAu6wuizXBB2HMwUIiobx01Wvvg+O1VV\nqBZXXCt72/tpmyjQEwpSuZj28JZ0upbHGBQVvaisxhKpUS2cQsdJ4JkhYsIPGyZE\nrDtY2Ar4gQsX13agH+QIOmSag5ATRVvpseTISLm/lMBkuBaiS2U8PwElmlw8Gj9n\ng4gySmrcVN7Vp/giEcomCVRsi+DFmzDZAcMJW2TBHC2eh3UotLt1VOu0sUTnktNT\n8RIjOEtkQEqVbyDt4FTxivwtquGH0XZvAgcNxs0SOI7IHAGrLZhQAzcx9JQWg784\nOViI1Og1+CoJpDW7Exo4ePrbM0Qh3cSkNpDuXe2z1tf57opOULiz282DzHF2qJWC\nG9sKCrdoBHhXcKxNh9rXb+zbrxK9o49t84WPGnAyDyrMhCk+oRYjEZaEuTFWQVsO\nAe5ek5+C\n=n+Or\n-----END PGP SIGNATURE-----",
        "payload": "tree 3456304a284bffa4abffabf24257e55867428d5f\nparent fd2b22bf24d81027d9908d1e8aff498d6cf1a463\nauthor MarcoFalke <falke.marco@gmail.com> 1616493858 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1616493512 +0100\n\nfuzz: Style fixups\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2b95f8615453cb1c2829292afed8d2fbd4f045",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2b95f8615453cb1c2829292afed8d2fbd4f045",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2b95f8615453cb1c2829292afed8d2fbd4f045/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fd2b22bf24d81027d9908d1e8aff498d6cf1a463",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fd2b22bf24d81027d9908d1e8aff498d6cf1a463",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fd2b22bf24d81027d9908d1e8aff498d6cf1a463"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 6,
      "deletions": 7
    },
    "files": [
      {
        "sha": "96e1cfa08fb818f8534c995251539d02f0111242",
        "filename": "src/test/fuzz/process_message.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/process_message.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/process_message.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_message.cpp?ref=fa2b95f8615453cb1c2829292afed8d2fbd4f045",
        "patch": "@@ -68,8 +68,8 @@ void fuzz_target(FuzzBufferType buffer, const std::string& LIMIT_TO_MESSAGE_TYPE\n {\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n \n-    ConnmanTestMsg& connman = *(ConnmanTestMsg*)g_setup->m_node.connman.get();\n-    TestChainState& chainstate = *(TestChainState*)&g_setup->m_node.chainman->ActiveChainstate();\n+    ConnmanTestMsg& connman = *static_cast<ConnmanTestMsg*>(g_setup->m_node.connman.get());\n+    TestChainState& chainstate = *static_cast<TestChainState*>(&g_setup->m_node.chainman->ActiveChainstate());\n     SetMockTime(1610000000); // any time to successfully reset ibd\n     chainstate.ResetIbd();\n "
      },
      {
        "sha": "00050391b09dc3aca96e61be4ca865f475f43ba9",
        "filename": "src/test/fuzz/process_messages.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/process_messages.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/process_messages.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/process_messages.cpp?ref=fa2b95f8615453cb1c2829292afed8d2fbd4f045",
        "patch": "@@ -35,8 +35,8 @@ FUZZ_TARGET_INIT(process_messages, initialize_process_messages)\n {\n     FuzzedDataProvider fuzzed_data_provider(buffer.data(), buffer.size());\n \n-    ConnmanTestMsg& connman = *(ConnmanTestMsg*)g_setup->m_node.connman.get();\n-    TestChainState& chainstate = *(TestChainState*)&g_setup->m_node.chainman->ActiveChainstate();\n+    ConnmanTestMsg& connman = *static_cast<ConnmanTestMsg*>(g_setup->m_node.connman.get());\n+    TestChainState& chainstate = *static_cast<TestChainState*>(&g_setup->m_node.chainman->ActiveChainstate());\n     SetMockTime(1610000000); // any time to successfully reset ibd\n     chainstate.ResetIbd();\n "
      },
      {
        "sha": "799de3b9d2f402fb921c5af61eaa95d8828c4f25",
        "filename": "src/test/fuzz/tx_pool.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/tx_pool.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa2b95f8615453cb1c2829292afed8d2fbd4f045/src/test/fuzz/tx_pool.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/tx_pool.cpp?ref=fa2b95f8615453cb1c2829292afed8d2fbd4f045",
        "patch": "@@ -96,14 +96,13 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     constexpr CAmount SUPPLY_TOTAL{COINBASE_MATURITY * 50 * COIN};\n \n     CTxMemPool tx_pool_{/* estimator */ nullptr, /* check_ratio */ 1};\n-    MockedTxPool& tx_pool = *(MockedTxPool*)&tx_pool_;\n+    MockedTxPool& tx_pool = *static_cast<MockedTxPool*>(&tx_pool_);\n \n     // Helper to query an amount\n     const CCoinsViewMemPool amount_view{WITH_LOCK(::cs_main, return &chainstate.CoinsTip()), tx_pool};\n     const auto GetAmount = [&](const COutPoint& outpoint) {\n         Coin c;\n-        amount_view.GetCoin(outpoint, c);\n-        Assert(!c.IsSpent());\n+        Assert(amount_view.GetCoin(outpoint, c));\n         return c.out.nValue;\n     };\n "
      }
    ]
  },
  {
    "sha": "fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWM5MjFmMjNmMWE5Y2QxZWI5ZGE5MDNlMGI5YTM1YWEzOTFhMWI4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-03-23T09:58:33Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2021-03-23T09:58:36Z"
      },
      "message": "fuzz: Fix tx_pool target to properly fuzz immature outpoints",
      "tree": {
        "sha": "a5c25057896873dbf1ac125e6bea2f09bb3d8fbe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a5c25057896873dbf1ac125e6bea2f09bb3d8fbe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUgOXAwAytEX29+Pw2qhSWXCM53nU08HyMIUyKPLEeeNmsmQGVD5Lvjafz6eSJJU\nNfRfcQO4BUWA4ulVZrws+RuU+O2pTvETVBXNT71SS3r35Q+vMn1n+4EC1ZYdFZKp\nVoSck5H8xHV58ZfyTqYA1rPgm9G1dz8va/up2F8sClVO0TwDFC5+yj0JFstEKVW7\noR/w84a491a8SlAO2EHcnJ4xiW8oSyd8/NWJLmKIiSoUH5ocTPu0etrF+e9TP73W\ngfb6RL/5vHbZg+A0pkL1r5UTmu21sE6IH1Y2UxB6mcqiWwxyFBOGMR86SSD9OFzS\nx2GESQKkIL2aJVTWPklS/lUbdarEalCjAAbHWJ4stDXyak/1XAJ6FYQxz3eZYU0R\nWpBZ9wA2rloH9CyRt5Oya8DDLdjq9JB985gtf/E1oxebUnSYtng5bDy13Hzc4qzX\nZzYPvNBfdsheac8cf21FZ5EzKJ26MK9V/9VNfqlvno3HUILYYbu2NVJwI68B/S96\n98AbjfBI\n=j/c4\n-----END PGP SIGNATURE-----",
        "payload": "tree a5c25057896873dbf1ac125e6bea2f09bb3d8fbe\nparent fa2b95f8615453cb1c2829292afed8d2fbd4f045\nauthor MarcoFalke <falke.marco@gmail.com> 1616493513 +0100\ncommitter MarcoFalke <falke.marco@gmail.com> 1616493516 +0100\n\nfuzz: Fix tx_pool target to properly fuzz immature outpoints\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa2b95f8615453cb1c2829292afed8d2fbd4f045",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa2b95f8615453cb1c2829292afed8d2fbd4f045",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa2b95f8615453cb1c2829292afed8d2fbd4f045"
      }
    ],
    "stats": {
      "total": 16,
      "additions": 9,
      "deletions": 7
    },
    "files": [
      {
        "sha": "f84d6702a700670453182651c4259bfa7d573aac",
        "filename": "src/test/fuzz/tx_pool.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 7,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8/src/test/fuzz/tx_pool.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8/src/test/fuzz/tx_pool.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/fuzz/tx_pool.cpp?ref=fac921f23f1a9cd1eb9da903e0b9a35aa391a1b8",
        "patch": "@@ -16,7 +16,8 @@\n namespace {\n \n const TestingSetup* g_setup;\n-std::vector<COutPoint> g_outpoints_coinbase_init;\n+std::vector<COutPoint> g_outpoints_coinbase_init_mature;\n+std::vector<COutPoint> g_outpoints_coinbase_init_immature;\n \n struct MockedTxPool : public CTxMemPool {\n     void RollingFeeUpdate()\n@@ -34,7 +35,10 @@ void initialize_tx_pool()\n     for (int i = 0; i < 2 * COINBASE_MATURITY; ++i) {\n         CTxIn in = MineBlock(g_setup->m_node, P2WSH_OP_TRUE);\n         // Remember the txids to avoid expensive disk acess later on\n-        g_outpoints_coinbase_init.push_back(in.prevout);\n+        auto& outpoints = i < COINBASE_MATURITY ?\n+                              g_outpoints_coinbase_init_mature :\n+                              g_outpoints_coinbase_init_immature;\n+        outpoints.push_back(in.prevout);\n     }\n     SyncWithValidationInterfaceQueue();\n }\n@@ -86,9 +90,8 @@ FUZZ_TARGET_INIT(tx_pool_standard, initialize_tx_pool)\n     std::set<COutPoint> outpoints_rbf;\n     // All outpoints counting toward the total supply (subset of outpoints_rbf)\n     std::set<COutPoint> outpoints_supply;\n-    for (const auto& outpoint : g_outpoints_coinbase_init) {\n+    for (const auto& outpoint : g_outpoints_coinbase_init_mature) {\n         Assert(outpoints_supply.insert(outpoint).second);\n-        if (outpoints_supply.size() >= COINBASE_MATURITY) break;\n     }\n     outpoints_rbf = outpoints_supply;\n \n@@ -253,13 +256,12 @@ FUZZ_TARGET_INIT(tx_pool, initialize_tx_pool)\n     const auto& node = g_setup->m_node;\n \n     std::vector<uint256> txids;\n-    for (const auto& outpoint : g_outpoints_coinbase_init) {\n+    for (const auto& outpoint : g_outpoints_coinbase_init_mature) {\n         txids.push_back(outpoint.hash);\n-        if (txids.size() >= COINBASE_MATURITY) break;\n     }\n     for (int i{0}; i <= 3; ++i) {\n         // Add some immature and non-existent outpoints\n-        txids.push_back(g_outpoints_coinbase_init.at(i).hash);\n+        txids.push_back(g_outpoints_coinbase_init_immature.at(i).hash);\n         txids.push_back(ConsumeUInt256(fuzzed_data_provider));\n     }\n "
      }
    ]
  }
]