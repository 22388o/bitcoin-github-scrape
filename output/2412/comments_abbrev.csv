jonls,2013-03-26T02:35:27Z,The feature was suggested earlier in issue #1958 and may also alleviate some problems from #273.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15437779,15437779,
Diapolo,2013-03-26T06:21:39Z,"Nice feature, but for the GUI I think it should a) show the current state in the debug window and b) allow a click or double-klick on the connection symbol in the main window, instead of a new button in the debug window. What do you think?\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15443198,15443198,
jonls,2013-03-26T09:45:03Z,"Regarding a: The debug window actually shows the state (but maybe not in the best way), in that it appends ""(Disabled)"" to the number of connections when network activity is disabled. Are you suggesting a row in the debug window showing for example ""Network state:  <state>""?\n\nI think double clicking on the connection symbol could also be a solution. I'm wondering though if the feature will be to",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15448961,15448961,
Diapolo,2013-03-26T11:16:52Z,"The button `Toggle Network activity`(activity lowercase IMO) is fine, perhaps the toggle could just also be added to the connection symbol in the main window + a tray message that gives a small warning (use BitcoinGUI::message() for that), when the state is changed.\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15452540,15452540,
jonls,2013-03-26T14:50:56Z,"I've updated the patches: 1) ToggleNetworkActive() renamed to SetNetworkActive(). I think this name makes more sense and is more consistent with naming of other functions. 2) SetNetworkActive() prints log ouput if fDebug is set, 3) ClientModel now has a method to control network activity state setNetworkActive(). This is used by RPCConsole. 4) The string in RPCConsole is the same as the string in ",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15462624,15462624,
Diapolo,2013-03-26T14:58:14Z,"I'm no core-developer, but did some Qt things, so thanks for your update. I like the pull and when I have more time I'll compile it and see how it feels when using it :).\n\n@laanwj What do you think?\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15463122,15463122,
laanwj,2013-03-29T08:34:57Z,"I'm OK with the GUI code changes -- nice work.\n\nAbout the general idea:\n- Can you give a use case for this? What are you using this for?\n- I am not sure about the consequences for the network of accepting connections but immediately dropping them, and what would be proper behavior in this case. I _think_ closing the socket so that clients get ""connection refused"" is preferable. Maybe @sipa or ",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15632632,15632632,
jonls,2013-03-29T10:27:28Z,"Use case: Sometimes the bitcoin client can put a lot of load on the internet connection of the user resulting in a high latency for other internet activities. This may be acceptable for the user most of the time, but in some cases the user temporarily needs a low latency connection. In this case the only option currently is to close the client and reopen it later, which can take quite a while and ",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15635717,15635717,
jonls,2013-03-29T16:25:53Z,"Update: 1) RPC commands togglenetwork and getinfo return info on current network state. 2) Signal about network active state change is sent with a separate signal NotifyNetworkActiveChanged. This means that the gui will update immediately when the button is clicked.\n\nI've looked into adding the suggestion of having the connection symbol toggle the network state as well, however the Qt label does",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15648518,15648518,
Diapolo,2013-03-29T20:35:55Z,I also think this is nice during IBD to get a new peer from which the client is downloading it's blocks.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15659416,15659416,
rebroad,2013-03-30T00:31:42Z,"Can transactions still be sent while the network activity is switched off? It might be nice to be able to do this still at least, and optionally download new blocks too. (I recently added an ""-antisocial"" command line option which stops transaction relaying due to using a limited internet connection here which charges per MB, but a toggleable version of this would be much nicer - for when I switch",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15666732,15666732,
jonls,2013-03-30T10:09:54Z,"@rebroad Ok, but that seems to require a different implementation. This patch simply cuts all connections, so I think your proposal is better suited for another issue. Also it seems that any kind of throttling or filtering of the connections eventually end up being too controversial to get anywhere (e.g. #273).\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15672261,15672261,
BitcoinPullTester,2013-03-30T11:26:08Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/b1ff0108f94a2a6365f9957708041269c63a351c for binaries and test log.\nThis is an automated test script which runs test cases on each commit every time is updated.\nIt, however, dies sometimes and fails to test properly, if you are waiting on a test, please check timestamps and if the test.log is moving at http://jenkins.bl",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15673069,15673069,
laanwj,2013-03-31T05:22:00Z,"IMO the current implementation of simply cutting the whole connection is best. It is also clearest to the user. Once you start making exceptions there's a large chance of introducing bugs or even network-breaking bugs, which are why such features are unlikely to make it into the reference client.\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15687162,15687162,
Diapolo,2013-04-02T08:23:31Z,"@sipa @gavinandresen I'm asking myself, if the core-devs are willing to pull such a thing or if this should be GUI-only?\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-15762518,15762518,
luke-jr,2013-04-08T05:33:12Z,Needs rebase.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16033275,16033275,
jonls,2013-04-08T09:59:22Z,@luke-jr I will be happy to do rebases if this has a chance of actually being pulled but so far I'm not sure. Whet do you think?\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16041969,16041969,
gavinandresen,2013-04-08T13:34:44Z,"Testing is our bottleneck.\n\nThis gives use Yet Another State to test, which is a bad thing because it just makes one more thing that can break.\n\nI'm against it.\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16050450,16050450,
sipa,2013-04-12T21:04:15Z,Haven't tested but the code changes to core look sane to me.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16317518,16317518,
Diapolo,2013-04-12T23:37:19Z,I still like the idea!\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16323023,16323023,
jonls,2013-04-22T00:46:18Z,Rebased.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-16749799,16749799,
Diapolo,2013-05-07T21:11:13Z,@gavinandresen What do you think about that? Would be sad to just forget about it :).\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-17570929,17570929,
gmaxwell,2013-05-07T21:13:59Z,"I missed the rebase, I'll test it some.\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-17571065,17571065,
jonasschnelli,2013-09-11T18:38:15Z,@jonls could you rebase once more?\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-24265042,24265042,
jonls,2013-09-13T01:14:55Z,@jonasschnelli done\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-24367295,24367295,
Diapolo,2013-10-20T00:53:04Z,What is the current state for this?\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-26662382,26662382,
BitcoinPullTester,2013-10-20T00:59:56Z,"Automatic sanity-testing: PASSED, see http://jenkins.bluematt.me/pull-tester/22570316ad74df51e459c17d72e02ce76e03751d for binaries and test log.\nThis test script verifies pulls every time they are updated. It, however, dies sometimes and fails to test properly.  If you are waiting on a test, please check timestamps to verify that the test.log is moving at http://jenkins.bluematt.me/pull-tester/cu",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-26662456,26662456,
gavinandresen,2013-10-21T01:37:52Z,"Needs testing, and a test plan that has tests like:\n\nToggle networking on and off as rapidly as possible eleven times using the GUI. EXPECT: no crashes, always ends up in properly connected or disconnected state.\n\nToggle networking on and off using the JSON-RPC call. EXPECT: no crashes...\n\nToggle networking off, send a transaction. EXPECT: ??? what is reasonable to expect here? Message to us",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-26688550,26688550,
gavinandresen,2013-11-29T21:00:38Z,Closing due to inactivity.  Feel free to bring back a rebased version that has a test plan.\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-29537370,29537370,
luke-jr,2014-09-13T08:03:11Z,@jonls Do you plan to update this?\n,https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-55485071,55485071,
jonls,2014-09-13T20:24:05Z,"@luke-jr No, I have no plans to update it.\n",https://github.com/bitcoin/bitcoin/pull/2412#issuecomment-55505628,55505628,
Diapolo,2013-03-26T06:25:27Z,I think we should avoid direct access to net.h here... best way perhaps is to use the ClientModel and introduce a `setNetworkActive()` function.\n,https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3526328,3526328,src/qt/rpcconsole.cpp
Diapolo,2013-03-26T06:26:41Z,Is there something in here that needs our attention if it fails (catch errors / handle problems)?\n\nEdit: Perhaps it would be good to have a message for the debug.log in here with an `if (fDebug)` in front.\n,https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3526334,3526334,src/net.cpp
jonls,2013-03-26T09:36:58Z,Makes sense. Using ClientModel would be a better solution.\n,https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3527823,3527823,src/qt/rpcconsole.cpp
Diapolo,2013-03-26T11:12:37Z,"May I suggest to use something like:\n`ui->numberOfConnections->setText(QString::number(count) + "" ("" + tr(""Network activity disabled"") + "")"");`\n\nThis has the advantage to re-use the string (and translation of) `Network activity disabled` without the need for another translation + it is clearer than just `(Disabled)`.\n",https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3528954,3528954,src/qt/rpcconsole.cpp
Diapolo,2013-03-26T14:54:36Z,Is there any way to query via RPC if the network was disabled?\n,https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3532320,3532320,src/rpcnet.cpp
Diapolo,2013-03-26T14:56:42Z,"Nit-pick, I'm unsure whether to write all uppercase or just the first word.\n",https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3532361,3532361,src/qt/forms/rpcconsole.ui
jonls,2013-03-26T14:58:52Z,"Not currently. Do you think this could be returned in ""getinfo"" or should there rather be a separate command? Perhaps togglenetwork itself should return the new state as well.\n",https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3532410,3532410,src/rpcnet.cpp
jonls,2013-03-26T15:01:50Z,"I'm unsure as well whether there is a policy regarding this. I see ""Backup Wallet"" in the File menu and then below ""Sign message"" so it seems there are some inconsistencies already.\n",https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3532489,3532489,src/qt/forms/rpcconsole.ui
jonls,2013-03-29T16:18:59Z,"The state is returned now in ""getinfo"" and as the return value of ""togglenetwork"".\n",https://github.com/bitcoin/bitcoin/pull/2412#discussion_r3587817,3587817,src/rpcnet.cpp
