laanwj,2014-12-02T05:44:39Z,"Thanks a lot\nutACK apart from above comment, I'd like to get rid of accounts as much as you do, but suddenly losing that check is going to result in confusion at least.\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65186117,65186117,
paveljanik,2014-12-02T07:33:01Z,"The check was removed on purpose. Before this change, SendMoney did NOT throw anything, it just returned strings and then the calling code threw generic RPC error. This was the cause of the issue #3007. Now we do not return anything but we directly throw JSONRPCError. This means it doesn't make sense to check GetBalance() twice. Once outside this function in the calling code and inside for sure in",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65192850,65192850,
laanwj,2014-12-02T08:11:39Z,"Indeed, that check is account-specific. It is necessary in addition to the global balance check\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65195623,65195623,
jtimon,2014-12-02T11:28:03Z,utACK.\nMaybe the function should take pwalletMain explicitly as a parameter instead of using the extern global variable directly?\nNot important but seems more flexible for future refactors (or if someone implements multi-wallet support or something).\n,https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65216957,65216957,
laanwj,2014-12-03T08:49:49Z,"@jtimon I like the idea of passing the wallet as an argument, although indeed the need for that is cosmetic right now.\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65373138,65373138,
paveljanik,2014-12-05T16:08:47Z,"Ad return: 1. it is also used in other functions - see e.g. void CWallet::EraseFromWallet(const uint256 &hash). 2. I'm used to it. But sure I can remove it, if you want to.\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-65811120,65811120,
Diapolo,2014-12-09T14:19:06Z,"I'm sorry, didn't even bother to look :-(... now we've got this twice ^^ (#5452). And pretty similar also...\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-66288573,66288573,
laanwj,2014-12-09T14:35:40Z,"@diapolo This one was first, and 'Ive already reviewed this one, so please rebase to this.\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-66291047,66291047,
Diapolo,2014-12-09T14:37:17Z,"No problem, if this is merged I'm rebasing my pull :).\n",https://github.com/bitcoin/bitcoin/pull/5399#issuecomment-66291287,66291287,
laanwj,2014-12-02T05:43:48Z,You removed the account balance check!\n,https://github.com/bitcoin/bitcoin/pull/5399#discussion_r21141186,21141186,src/rpcwallet.cpp
laanwj,2014-12-05T15:41:46Z,"~~Shouldn't this be RPC_WALLET_INSUFFICIENT_FUNDS too?~~\nOoops, no. Maybe RPC_INVALID_PARAMETER.\n",https://github.com/bitcoin/bitcoin/pull/5399#discussion_r21378636,21378636,src/rpcwallet.cpp
laanwj,2014-12-05T15:43:02Z,No need for a return statement at end of function if you return nothing :)\n,https://github.com/bitcoin/bitcoin/pull/5399#discussion_r21378712,21378712,src/rpcwallet.cpp
paveljanik,2014-12-05T15:59:53Z,"I moved the code, not changed :-) I think RPC_INVALID_PARAMETER is better, yes.\n",https://github.com/bitcoin/bitcoin/pull/5399#discussion_r21379812,21379812,src/rpcwallet.cpp
