[
  {
    "sha": "faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWFiNTVmYmIxN2YyZWE1MDgwYmYwMmJjNTllZWVmNWNhNzQ2ZjA3",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-05-04T21:38:49Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-05-04T21:40:52Z"
      },
      "message": "Make CMutableTransaction constructor explicit\n\nSilently converting to a CMutableTransaction will drop all caches\nand should thus be done explicitly",
      "tree": {
        "sha": "6f1c03fd468c4f63ab681af33c47370cb9179b95",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6f1c03fd468c4f63ab681af33c47370cb9179b95"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJa7NNkAAoJEM4rdWl+aaVIL24L+wSZUYsxCENjTDGI8erEiT8c\ndr5CWF8Iu5mOk9VEB4PhLqzl/Akm+FtJTen2MftMuJSs6qRbzLDKQsS1gI3OFAk2\nZUEIbNpBIIdBcn9swtofOQzeKdsOSZBI7g9FXKbby6fiMHp1oUxRUA7lD1YnexLD\ncCEti6V5ZgIIKg/fra5UVI6KeIqaCChNUp3XsHp2c6Yk+KZM45QlvxCTIyUEBLP1\nlaDPgkcoNbY7hYSXmaaPCFIEDmOmH7GakNVvQJ84xgtD8n8Xe3Fi6aWvPvJDI3IR\nnqrK/VSK8q3EV5C5HXx6ApC8Dbn5/PG1ktvRr1RiUnA0wUOnLAB1OlDbujWgB13n\nML/RbxMe/tUJ6VFhH+/R5ucOElvE3E7nMioUu9dhqs4j4Hlbh46A2YP9oOkVGvU5\n3HmwPixL3ZJNhVIyrWVqCWhLIaLF3ybdERf9qLP4NPyjogMGR6Hvm9pEzGQEPpfd\ndZTZGrDXMwiy3tx1zpMmjuNCBrLRLelSvFd+RBLaeg==\n=K0ZS\n-----END PGP SIGNATURE-----",
        "payload": "tree 6f1c03fd468c4f63ab681af33c47370cb9179b95\nparent f82e1c94821212cc8962775a7a29599ebd92eee0\nauthor MarcoFalke <falke.marco@gmail.com> 1525469929 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1525470052 -0400\n\nMake CMutableTransaction constructor explicit\n\nSilently converting to a CMutableTransaction will drop all caches\nand should thus be done explicitly\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f82e1c94821212cc8962775a7a29599ebd92eee0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f82e1c94821212cc8962775a7a29599ebd92eee0",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f82e1c94821212cc8962775a7a29599ebd92eee0"
      }
    ],
    "stats": {
      "total": 24,
      "additions": 12,
      "deletions": 12
    },
    "files": [
      {
        "sha": "5ece6c4050b2600c0e23e529770bc113c0f8c943",
        "filename": "src/bitcoin-tx.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/bitcoin-tx.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/bitcoin-tx.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-tx.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -548,7 +548,7 @@ static void MutateTxSign(CMutableTransaction& tx, const std::string& flagStr)\n     // mergedTx will end up with all the signatures; it\n     // starts as a clone of the raw tx:\n     CMutableTransaction mergedTx{tx};\n-    const CTransaction txv{tx};\n+    const CMutableTransaction txv{tx};\n     CCoinsView viewDummy;\n     CCoinsViewCache view(&viewDummy);\n "
      },
      {
        "sha": "692b5539286b1b3242c608f7b84363389c867b87",
        "filename": "src/primitives/transaction.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/primitives/transaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/primitives/transaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.h?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -367,7 +367,7 @@ struct CMutableTransaction\n     uint32_t nLockTime;\n \n     CMutableTransaction();\n-    CMutableTransaction(const CTransaction& tx);\n+    explicit CMutableTransaction(const CTransaction& tx);\n \n     template <typename Stream>\n     inline void Serialize(Stream& s) const {"
      },
      {
        "sha": "b792ff8b45a9cea48d3e662406648cfa434f3609",
        "filename": "src/test/coins_tests.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/coins_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/coins_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/coins_tests.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -312,7 +312,7 @@ BOOST_AUTO_TEST_CASE(updatecoins_simulation_test)\n                 if (InsecureRandRange(10) == 0 && coinbase_coins.size()) {\n                     auto utxod = FindRandomFrom(coinbase_coins);\n                     // Reuse the exact same coinbase\n-                    tx = std::get<0>(utxod->second);\n+                    tx = CMutableTransaction{std::get<0>(utxod->second)};\n                     // shouldn't be available for reconnection if it's been duplicated\n                     disconnected_coins.erase(utxod->first);\n \n@@ -331,7 +331,7 @@ BOOST_AUTO_TEST_CASE(updatecoins_simulation_test)\n                 // 1/20 times reconnect a previously disconnected tx\n                 if (randiter % 20 == 2 && disconnected_coins.size()) {\n                     auto utxod = FindRandomFrom(disconnected_coins);\n-                    tx = std::get<0>(utxod->second);\n+                    tx = CMutableTransaction{std::get<0>(utxod->second)};\n                     prevout = tx.vin[0].prevout;\n                     if (!CTransaction(tx).IsCoinBase() && !utxoset.count(prevout)) {\n                         disconnected_coins.erase(utxod->first);"
      },
      {
        "sha": "868f95983f75f644e0ecf2439c3f646d7edd8ab1",
        "filename": "src/test/script_tests.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/script_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/script_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/script_tests.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -135,7 +135,7 @@ CMutableTransaction BuildCreditingTransaction(const CScript& scriptPubKey, int n\n     return txCredit;\n }\n \n-CMutableTransaction BuildSpendingTransaction(const CScript& scriptSig, const CScriptWitness& scriptWitness, const CMutableTransaction& txCredit)\n+CMutableTransaction BuildSpendingTransaction(const CScript& scriptSig, const CScriptWitness& scriptWitness, const CTransaction& txCredit)\n {\n     CMutableTransaction txSpend;\n     txSpend.nVersion = 1;\n@@ -161,7 +161,7 @@ void DoTest(const CScript& scriptPubKey, const CScript& scriptSig, const CScript\n         flags |= SCRIPT_VERIFY_WITNESS;\n     }\n     ScriptError err;\n-    CMutableTransaction txCredit = BuildCreditingTransaction(scriptPubKey, nValue);\n+    const CTransaction txCredit{BuildCreditingTransaction(scriptPubKey, nValue)};\n     CMutableTransaction tx = BuildSpendingTransaction(scriptSig, scriptWitness, txCredit);\n     CMutableTransaction tx2 = tx;\n     BOOST_CHECK_MESSAGE(VerifyScript(scriptSig, scriptPubKey, &scriptWitness, flags, MutableTransactionSignatureChecker(&tx, 0, txCredit.vout[0].nValue), &err) == expect, message);\n@@ -1071,7 +1071,7 @@ BOOST_AUTO_TEST_CASE(script_CHECKMULTISIG12)\n     CScript scriptPubKey12;\n     scriptPubKey12 << OP_1 << ToByteVector(key1.GetPubKey()) << ToByteVector(key2.GetPubKey()) << OP_2 << OP_CHECKMULTISIG;\n \n-    CMutableTransaction txFrom12 = BuildCreditingTransaction(scriptPubKey12);\n+    const CTransaction txFrom12{BuildCreditingTransaction(scriptPubKey12)};\n     CMutableTransaction txTo12 = BuildSpendingTransaction(CScript(), CScriptWitness(), txFrom12);\n \n     CScript goodsig1 = sign_multisig(scriptPubKey12, key1, txTo12);\n@@ -1102,7 +1102,7 @@ BOOST_AUTO_TEST_CASE(script_CHECKMULTISIG23)\n     CScript scriptPubKey23;\n     scriptPubKey23 << OP_2 << ToByteVector(key1.GetPubKey()) << ToByteVector(key2.GetPubKey()) << ToByteVector(key3.GetPubKey()) << OP_3 << OP_CHECKMULTISIG;\n \n-    CMutableTransaction txFrom23 = BuildCreditingTransaction(scriptPubKey23);\n+    const CTransaction txFrom23{BuildCreditingTransaction(scriptPubKey23)};\n     CMutableTransaction txTo23 = BuildSpendingTransaction(CScript(), CScriptWitness(), txFrom23);\n \n     std::vector<CKey> keys;"
      },
      {
        "sha": "06497667c39de5bb7b6ff9b7fcf67ad193604f33",
        "filename": "src/test/txvalidationcache_tests.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/txvalidationcache_tests.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/test/txvalidationcache_tests.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/test/txvalidationcache_tests.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -24,7 +24,7 @@ bool CheckInputs(const CTransaction& tx, CValidationState &state, const CCoinsVi\n BOOST_AUTO_TEST_SUITE(tx_validationcache_tests)\n \n static bool\n-ToMemPool(CMutableTransaction& tx)\n+ToMemPool(const CMutableTransaction& tx)\n {\n     LOCK(cs_main);\n "
      },
      {
        "sha": "b26fd28d48069adebffe99d5e6e31160fb1bf641",
        "filename": "src/wallet/feebumper.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/wallet/feebumper.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/wallet/feebumper.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/feebumper.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -185,7 +185,7 @@ Result CreateTransaction(const CWallet* wallet, const uint256& txid, const CCoin\n     // If the output is not large enough to pay the fee, fail.\n     CAmount nDelta = new_fee - old_fee;\n     assert(nDelta > 0);\n-    mtx =  *wtx.tx;\n+    mtx = CMutableTransaction{*wtx.tx};\n     CTxOut* poutput = &(mtx.vout[nOutput]);\n     if (poutput->nValue < nDelta) {\n         errors.push_back(\"Change output is too small to bump the fee\");"
      },
      {
        "sha": "fb772bfc4d775fc5748e68537a62e7e1d60e495e",
        "filename": "src/wallet/wallet.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/wallet/wallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/faab55fbb17f2ea5080bf02bc59eeef5ca746f07/src/wallet/wallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/wallet.cpp?ref=faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "patch": "@@ -2065,8 +2065,8 @@ bool CWalletTx::IsTrusted() const\n \n bool CWalletTx::IsEquivalentTo(const CWalletTx& _tx) const\n {\n-        CMutableTransaction tx1 = *this->tx;\n-        CMutableTransaction tx2 = *_tx.tx;\n+        CMutableTransaction tx1 {*this->tx};\n+        CMutableTransaction tx2 {*_tx.tx};\n         for (auto& txin : tx1.vin) txin.scriptSig = CScript();\n         for (auto& txin : tx2.vin) txin.scriptSig = CScript();\n         return CTransaction(tx1) == CTransaction(tx2);"
      }
    ]
  },
  {
    "sha": "fac1223a568fa1ad6dd602350598eed278d115e8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWMxMjIzYTU2OGZhMWFkNmRkNjAyMzUwNTk4ZWVkMjc4ZDExNWU4",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-04-09T23:16:24Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2018-05-04T21:55:12Z"
      },
      "message": "Cache witness hash in CTransaction",
      "tree": {
        "sha": "66c5077c8be0a0146387aea0968baace97603d14",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/66c5077c8be0a0146387aea0968baace97603d14"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fac1223a568fa1ad6dd602350598eed278d115e8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGcBAABCgAGBQJa7NbAAAoJEM4rdWl+aaVIw74L/iqe0XoqyOfiJnc5U+tvhPKg\nnhkTeT5q4c/WT5Ak6McTKYICvUuiKdaijoeN521VQHvpHrmb2g/s6APx9c2OGJ0A\ncEtTEqSQ2rfpipXpurwih/wF9Wuvrh6uSxUh7IwNyPoayL6ybQ6Y0DD9BfSXBLf2\n1Mtt/ZyajngwzmvRF908TEBFcE4x+BCYfVtNT/OFzy0qf9w0oEIpLDuXkhi+14lq\nuMMVjWzdVYK2ZB/cTBrsRoK0tVYHyrFOqibMvmZGamj2VuGF3VMta1CsXgVAvxPk\nYGcruIrR4Cbc/xrXd56X1g943pCGWEVhZVs1An0JgA8aBLK27UE7FV6tyVHJQUbQ\nUBpFN+pZuvw/+IpTIFAMXonlrUjAv99YkyeeK0Hq2pvuWa+ZcV894+Rldj9Lc0IT\n7IJdIrpzEvKN8Ke6TXZJ3IURXrwCm+GRtxmb/OuiBPf5LExNrJzCsDK4/ot5PbMi\nh8+2QRjFqrBSvDB0ul1XgmZcBCvoZ19nFewtAWC33A==\n=IsXY\n-----END PGP SIGNATURE-----",
        "payload": "tree 66c5077c8be0a0146387aea0968baace97603d14\nparent faab55fbb17f2ea5080bf02bc59eeef5ca746f07\nauthor MarcoFalke <falke.marco@gmail.com> 1523315784 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1525470912 -0400\n\nCache witness hash in CTransaction\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fac1223a568fa1ad6dd602350598eed278d115e8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fac1223a568fa1ad6dd602350598eed278d115e8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fac1223a568fa1ad6dd602350598eed278d115e8/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/faab55fbb17f2ea5080bf02bc59eeef5ca746f07",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/faab55fbb17f2ea5080bf02bc59eeef5ca746f07"
      }
    ],
    "stats": {
      "total": 20,
      "additions": 9,
      "deletions": 11
    },
    "files": [
      {
        "sha": "230f762a1bcc5c48abbac29448c846707b1b79ed",
        "filename": "src/primitives/transaction.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fac1223a568fa1ad6dd602350598eed278d115e8/src/primitives/transaction.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fac1223a568fa1ad6dd602350598eed278d115e8/src/primitives/transaction.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.cpp?ref=fac1223a568fa1ad6dd602350598eed278d115e8",
        "patch": "@@ -67,18 +67,18 @@ uint256 CTransaction::ComputeHash() const\n     return SerializeHash(*this, SER_GETHASH, SERIALIZE_TRANSACTION_NO_WITNESS);\n }\n \n-uint256 CTransaction::GetWitnessHash() const\n+uint256 CTransaction::ComputeWitnessHash() const\n {\n     if (!HasWitness()) {\n-        return GetHash();\n+        return hash;\n     }\n     return SerializeHash(*this, SER_GETHASH, 0);\n }\n \n /* For backward compatibility, the hash is initialized to 0. TODO: remove the need for this default constructor entirely. */\n-CTransaction::CTransaction() : vin(), vout(), nVersion(CTransaction::CURRENT_VERSION), nLockTime(0), hash() {}\n-CTransaction::CTransaction(const CMutableTransaction &tx) : vin(tx.vin), vout(tx.vout), nVersion(tx.nVersion), nLockTime(tx.nLockTime), hash(ComputeHash()) {}\n-CTransaction::CTransaction(CMutableTransaction &&tx) : vin(std::move(tx.vin)), vout(std::move(tx.vout)), nVersion(tx.nVersion), nLockTime(tx.nLockTime), hash(ComputeHash()) {}\n+CTransaction::CTransaction() : vin(), vout(), nVersion(CTransaction::CURRENT_VERSION), nLockTime(0), hash{}, m_witness_hash{} {}\n+CTransaction::CTransaction(const CMutableTransaction& tx) : vin(tx.vin), vout(tx.vout), nVersion(tx.nVersion), nLockTime(tx.nLockTime), hash{ComputeHash()}, m_witness_hash{ComputeWitnessHash()} {}\n+CTransaction::CTransaction(CMutableTransaction&& tx) : vin(std::move(tx.vin)), vout(std::move(tx.vout)), nVersion(tx.nVersion), nLockTime(tx.nLockTime), hash{ComputeHash()}, m_witness_hash{ComputeWitnessHash()} {}\n \n CAmount CTransaction::GetValueOut() const\n {"
      },
      {
        "sha": "1c846d38eca5decc7f8b2ec3e9eb87f4d6ba55a8",
        "filename": "src/primitives/transaction.h",
        "status": "modified",
        "additions": 4,
        "deletions": 6,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fac1223a568fa1ad6dd602350598eed278d115e8/src/primitives/transaction.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fac1223a568fa1ad6dd602350598eed278d115e8/src/primitives/transaction.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/primitives/transaction.h?ref=fac1223a568fa1ad6dd602350598eed278d115e8",
        "patch": "@@ -286,8 +286,10 @@ class CTransaction\n private:\n     /** Memory only. */\n     const uint256 hash;\n+    const uint256 m_witness_hash;\n \n     uint256 ComputeHash() const;\n+    uint256 ComputeWitnessHash() const;\n \n public:\n     /** Construct a CTransaction that qualifies as IsNull() */\n@@ -311,12 +313,8 @@ class CTransaction\n         return vin.empty() && vout.empty();\n     }\n \n-    const uint256& GetHash() const {\n-        return hash;\n-    }\n-\n-    // Compute a hash that includes both transaction and witness data\n-    uint256 GetWitnessHash() const;\n+    const uint256& GetHash() const { return hash; }\n+    const uint256& GetWitnessHash() const { return m_witness_hash; };\n \n     // Return sum of txouts.\n     CAmount GetValueOut() const;"
      }
    ]
  }
]