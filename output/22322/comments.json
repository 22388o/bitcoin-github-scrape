[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866740351",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#issuecomment-866740351",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22322",
    "id": 866740351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Njc0MDM1MQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T11:00:44Z",
    "updated_at": "2021-06-23T11:00:44Z",
    "author_association": "MEMBER",
    "body": "Concept ACK, good idea.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/866740351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867511027",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#issuecomment-867511027",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22322",
    "id": 867511027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzUxMTAyNw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-24T10:05:01Z",
    "updated_at": "2021-06-24T10:05:01Z",
    "author_association": "MEMBER",
    "body": "Addressed feedback",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867511027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867647317",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#issuecomment-867647317",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22322",
    "id": 867647317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzY0NzMxNw==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-24T13:42:55Z",
    "updated_at": "2021-06-24T13:42:55Z",
    "author_association": "MEMBER",
    "body": "Thanks for updating.\r\n\r\nTested ACK fa57878340e6e9e34b01e26091d9d57f1c26f771",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/867647317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/868252392",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#issuecomment-868252392",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/22322",
    "id": 868252392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2ODI1MjM5Mg==",
    "user": {
      "login": "practicalswift",
      "id": 7826565,
      "node_id": "MDQ6VXNlcjc4MjY1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7826565?u=5ff13e375b40ea55ecd3c108337dd6a23f68eddf&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/practicalswift",
      "html_url": "https://github.com/practicalswift",
      "followers_url": "https://api.github.com/users/practicalswift/followers",
      "following_url": "https://api.github.com/users/practicalswift/following{/other_user}",
      "gists_url": "https://api.github.com/users/practicalswift/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/practicalswift/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/practicalswift/subscriptions",
      "organizations_url": "https://api.github.com/users/practicalswift/orgs",
      "repos_url": "https://api.github.com/users/practicalswift/repos",
      "events_url": "https://api.github.com/users/practicalswift/events{/privacy}",
      "received_events_url": "https://api.github.com/users/practicalswift/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-25T06:14:49Z",
    "updated_at": "2021-06-25T06:14:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "cr ACK fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/868252392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657092084",
    "pull_request_review_id": 690644108,
    "id": 657092084,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzA5MjA4NA==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {\n+                assert(it1->first == it2->first);\n+                assert(it1->second.ToJson().write() == it2->second.ToJson().write());\n+            }\n+        }",
    "path": "src/test/fuzz/banman.cpp",
    "position": 50,
    "original_position": 43,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "proposed docs if you like\r\n```diff\r\n-        BanMan ban_man{banlist_file, nullptr, offset};\r\n+        BanMan ban_man{banlist_file, /* client_interface */ nullptr, /* default_ban_time */ offset};\r\n         while (--limit_max_ops >= 0 && fuzzed_data_provider.ConsumeBool()) {\r\n             CallOneOf(\r\n                 fuzzed_data_provider,\r\n@@ -100,15 +100,15 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\r\n             SetMockTime(ConsumeTime(fuzzed_data_provider));\r\n             banmap_t banmap;\r\n             ban_man.GetBanned(banmap);\r\n-            BanMan ban_man_read{banlist_file, nullptr, offset};\r\n+            BanMan ban_man_read{banlist_file, /* client_interface */ nullptr, /* default_ban_time */ offset};\r\n             banmap_t banmap_read;\r\n             ban_man_read.GetBanned(banmap_read);\r\n             assert(banmap.size() == banmap_read.size());\r\n             auto it1{banmap.begin()};\r\n             auto it2{banmap_read.begin()};\r\n             for (; it1 != banmap.end(); ++it1, ++it2) {\r\n-                assert(it1->first == it2->first);\r\n-                assert(it1->second.ToJson().write() == it2->second.ToJson().write());\r\n+                assert(it1->first == it2->first); // CSubNet\r\n+                assert(it1->second.ToJson().write() == it2->second.ToJson().write()); // CBanEntry\r\n             }\r\n         }\r\n     }\r\n```\r\n",
    "created_at": "2021-06-23T13:21:01Z",
    "updated_at": "2021-06-23T13:22:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657092084",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657092084"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657092084"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657092084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 113,
    "original_line": 113,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657233544",
    "pull_request_review_id": 690837367,
    "id": 657233544,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzIzMzU0NA==",
    "diff_hunk": "@@ -43,19 +43,21 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n     fs::path banlist_file = gArgs.GetDataDirNet() / \"fuzzed_banlist\";\n \n     const bool start_with_corrupted_banlist{fuzzed_data_provider.ConsumeBool()};\n+    bool force_read_and_write_to_err{false};\n     if (start_with_corrupted_banlist) {\n         const std::string sfx{fuzzed_data_provider.ConsumeBool() ? \".dat\" : \".json\"};\n         assert(WriteBinaryFile(banlist_file.string() + sfx,\n                                fuzzed_data_provider.ConsumeRandomLengthString()));\n     } else {\n-        const bool force_read_and_write_to_err{fuzzed_data_provider.ConsumeBool()};\n+        force_read_and_write_to_err = fuzzed_data_provider.ConsumeBool();\n         if (force_read_and_write_to_err) {\n             banlist_file = fs::path{\"path\"} / \"to\" / \"inaccessible\" / \"fuzzed_banlist\";\n         }\n     }\n \n     {\n-        BanMan ban_man{banlist_file, nullptr, ConsumeBanTimeOffset(fuzzed_data_provider)};\n+        const auto offset{ConsumeBanTimeOffset(fuzzed_data_provider)};",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Unrelated to this PR, why is this called \"offset\"? It is actually \"ban_time\" - number of seconds to keep the ban entry after the misbehavior occurred.\r\n\r\n~~There is some \"offset\" involved in `BanMan::Ban()`, but that is completely internal to `BanMan`.~~",
    "created_at": "2021-06-23T15:41:42Z",
    "updated_at": "2021-06-24T07:13:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657233544",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657233544"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657233544"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657233544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657241603",
    "pull_request_review_id": 690837367,
    "id": 657241603,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzI0MTYwMw==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The dumped data may end up containing more entries than `banmap` and `banmap_read` because `SweepBanned()` may leave them when called from `DumpBanlist()` but when called from `GetBanned()` after `SetMockTime()` it may remove \"expired\" entries.\r\n\r\nIt is ok since both `banmap` and `banmap_read` will contain the same, but if somebody ends up debugging this and looking at the file, then it may be confusing. Maybe swap lines 99 and 100.",
    "created_at": "2021-06-23T15:49:44Z",
    "updated_at": "2021-06-23T15:58:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657241603",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657241603"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657241603"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657241603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 99,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 111,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657248949",
    "pull_request_review_id": 690837367,
    "id": 657248949,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzI0ODk0OQ==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This may brick if `banmap_t` is changed from `std::map` to `std::unordered_map`. It should be changed because the latter is faster and we don't need an order into this container.\r\n\r\nMaybe add something like `static_assert(std::is_base_of<std::map, banmap_t>::value)` to ensure this gets adjusted if `banmap_t` is changed in the future?\r\n\r\nOr a slower, but more robust variant: for each entry in `banmap` ensure that it can be found in `banmap_read` and that both maps have the same size.",
    "created_at": "2021-06-23T15:57:17Z",
    "updated_at": "2021-06-23T15:58:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657248949",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657248949"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657248949"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657248949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 107,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 109,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657283978",
    "pull_request_review_id": 690906380,
    "id": 657283978,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzI4Mzk3OA==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This was done on purpose to check `SweepBanned` is called on read",
    "created_at": "2021-06-23T16:42:15Z",
    "updated_at": "2021-06-23T16:42:15Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657283978",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657283978"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657283978"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657283978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 99,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 111,
    "side": "RIGHT",
    "in_reply_to_id": 657241603
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657694907",
    "pull_request_review_id": 691423050,
    "id": 657694907,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzY5NDkwNw==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The 3rd argument `offset` is only used by `BanMan::Ban()` which we never call on `ban_man_read`. So this can be \r\n```suggestion\r\n            BanMan ban_man_read{banlist_file, nullptr, 0};\r\n```\r\nand then the `offset` variable is not necessary.",
    "created_at": "2021-06-24T07:28:20Z",
    "updated_at": "2021-06-24T07:31:32Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657694907",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657694907"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657694907"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657694907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 103,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657712467",
    "pull_request_review_id": 691445187,
    "id": 657712467,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzcxMjQ2Nw==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 35,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Hmm, then maybe add one entry that will certainly expire? This will also make the intention more explicit:\r\n\r\n```diff\r\ndiff --git i/src/test/fuzz/banman.cpp w/src/test/fuzz/banman.cpp\r\nindex 6aa95b484f..b3b10da084 100644\r\n--- i/src/test/fuzz/banman.cpp\r\n+++ w/src/test/fuzz/banman.cpp\r\n@@ -93,16 +93,23 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\r\n                 },\r\n                 [&] {\r\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\r\n                 });\r\n         }\r\n         if (!force_read_and_write_to_err) {\r\n+            const auto mock_time = ConsumeTime(fuzzed_data_provider);\r\n+            SetMockTime(mock_time);\r\n+            // Add one ban entry that will expire to check that on read expired entries are removed.\r\n+            ban_man.Ban(ConsumeNetAddr(fuzzed_data_provider), mock_time + 5, true);\r\n             ban_man.DumpBanlist();\r\n-            SetMockTime(ConsumeTime(fuzzed_data_provider));\r\n+            banmap_t banmap_unexpired;\r\n+            ban_man.GetBanned(banmap_unexpired);\r\n+            SetMockTime(mock_time + 10);\r\n             banmap_t banmap;\r\n             ban_man.GetBanned(banmap);\r\n+            assert(banmap.size() < banmap_unexpired.size()); // At least one should have expired.\r\n             BanMan ban_man_read{banlist_file, nullptr, offset};\r\n             banmap_t banmap_read;\r\n             ban_man_read.GetBanned(banmap_read);\r\n             assert(banmap.size() == banmap_read.size());\r\n             auto it1{banmap.begin()};\r\n             auto it2{banmap_read.begin()};\r\n```",
    "created_at": "2021-06-24T07:53:41Z",
    "updated_at": "2021-06-24T07:53:41Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657712467",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657712467"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657712467"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657712467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 99,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 111,
    "side": "RIGHT",
    "in_reply_to_id": 657241603
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657719745",
    "pull_request_review_id": 691454226,
    "id": 657719745,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzcxOTc0NQ==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "```diff\r\n             assert(banmap.size() == banmap_read.size());\r\n-            auto it1{banmap.begin()};\r\n-            auto it2{banmap_read.begin()};\r\n-            for (; it1 != banmap.end(); ++it1, ++it2) {\r\n-                assert(it1->first == it2->first);\r\n-                assert(it1->second.ToJson().write() == it2->second.ToJson().write());\r\n+            for (const auto& [subnet, ban_entry] : banmap) {\r\n+                const auto it = banmap_read.find(subnet);\r\n+                assert(it != banmap_read.end());\r\n+                assert(it->second.ToJson().write() == ban_entry.ToJson().write());\r\n             }\r\n```",
    "created_at": "2021-06-24T08:03:22Z",
    "updated_at": "2021-06-24T08:03:23Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657719745",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657719745"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657719745"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657719745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 107,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 109,
    "side": "RIGHT",
    "in_reply_to_id": 657248949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657731261",
    "pull_request_review_id": 691468674,
    "id": 657731261,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzczMTI2MQ==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Or even better:\r\n```diff\r\ndiff --git i/src/test/fuzz/banman.cpp w/src/test/fuzz/banman.cpp\r\nindex 6aa95b484f..15ccd9df3c 100644\r\n--- i/src/test/fuzz/banman.cpp\r\n+++ w/src/test/fuzz/banman.cpp\r\n@@ -29,12 +29,18 @@ int64_t ConsumeBanTimeOffset(FuzzedDataProvider& fuzzed_data_provider) noexcept\r\n \r\n void initialize_banman()\r\n {\r\n     static const auto testing_setup = MakeNoLogFileContext<>();\r\n }\r\n \r\n+static bool operator==(const CBanEntry& lhs, const CBanEntry& rhs)\r\n+{\r\n+    return lhs.nVersion == rhs.nVersion && lhs.nCreateTime == rhs.nCreateTime &&\r\n+           lhs.nBanUntil == rhs.nBanUntil;\r\n+}\r\n+\r\n FUZZ_TARGET_INIT(banman, initialize_banman)\r\n {\r\n     // The complexity is O(N^2), where N is the input size, because each call\r\n     // might call DumpBanlist (or other methods that are at least linear\r\n     // complexity of the input size).\r\n     int limit_max_ops{300};\r\n@@ -100,18 +106,12 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\r\n             SetMockTime(ConsumeTime(fuzzed_data_provider));\r\n             banmap_t banmap;\r\n             ban_man.GetBanned(banmap);\r\n             BanMan ban_man_read{banlist_file, nullptr, offset};\r\n             banmap_t banmap_read;\r\n             ban_man_read.GetBanned(banmap_read);\r\n-            assert(banmap.size() == banmap_read.size());\r\n-            auto it1{banmap.begin()};\r\n-            auto it2{banmap_read.begin()};\r\n-            for (; it1 != banmap.end(); ++it1, ++it2) {\r\n-                assert(it1->first == it2->first);\r\n-                assert(it1->second.ToJson().write() == it2->second.ToJson().write());\r\n-            }\r\n+            assert(banmap_read == banmap);\r\n         }\r\n     }\r\n     fs::remove(banlist_file.string() + \".dat\");\r\n     fs::remove(banlist_file.string() + \".json\");\r\n }\r\n```",
    "created_at": "2021-06-24T08:18:55Z",
    "updated_at": "2021-06-24T08:20:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657731261",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657731261"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657731261"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657731261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 107,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 109,
    "side": "RIGHT",
    "in_reply_to_id": 657248949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810116",
    "pull_request_review_id": 691570955,
    "id": 657810116,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzgxMDExNg==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {\n+                assert(it1->first == it2->first);\n+                assert(it1->second.ToJson().write() == it2->second.ToJson().write());\n+            }\n+        }",
    "path": "src/test/fuzz/banman.cpp",
    "position": 50,
    "original_position": 43,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, added comments",
    "created_at": "2021-06-24T10:04:01Z",
    "updated_at": "2021-06-24T10:04:02Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810116",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810116"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810116"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 113,
    "original_line": 113,
    "side": "RIGHT",
    "in_reply_to_id": 657092084
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810294",
    "pull_request_review_id": 691571206,
    "id": 657810294,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzgxMDI5NA==",
    "diff_hunk": "@@ -43,19 +43,21 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n     fs::path banlist_file = gArgs.GetDataDirNet() / \"fuzzed_banlist\";\n \n     const bool start_with_corrupted_banlist{fuzzed_data_provider.ConsumeBool()};\n+    bool force_read_and_write_to_err{false};\n     if (start_with_corrupted_banlist) {\n         const std::string sfx{fuzzed_data_provider.ConsumeBool() ? \".dat\" : \".json\"};\n         assert(WriteBinaryFile(banlist_file.string() + sfx,\n                                fuzzed_data_provider.ConsumeRandomLengthString()));\n     } else {\n-        const bool force_read_and_write_to_err{fuzzed_data_provider.ConsumeBool()};\n+        force_read_and_write_to_err = fuzzed_data_provider.ConsumeBool();\n         if (force_read_and_write_to_err) {\n             banlist_file = fs::path{\"path\"} / \"to\" / \"inaccessible\" / \"fuzzed_banlist\";\n         }\n     }\n \n     {\n-        BanMan ban_man{banlist_file, nullptr, ConsumeBanTimeOffset(fuzzed_data_provider)};\n+        const auto offset{ConsumeBanTimeOffset(fuzzed_data_provider)};",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 19,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Removed `offset`",
    "created_at": "2021-06-24T10:04:17Z",
    "updated_at": "2021-06-24T10:04:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810294",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810294"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810294"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 59,
    "side": "RIGHT",
    "in_reply_to_id": 657233544
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810548",
    "pull_request_review_id": 691571539,
    "id": 657810548,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzgxMDU0OA==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Made it a compile failure to change the type without touching this file",
    "created_at": "2021-06-24T10:04:40Z",
    "updated_at": "2021-06-24T10:04:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810548",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810548"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810548"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810548/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 107,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 109,
    "side": "RIGHT",
    "in_reply_to_id": 657248949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810658",
    "pull_request_review_id": 691571705,
    "id": 657810658,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzgxMDY1OA==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 33,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks, done",
    "created_at": "2021-06-24T10:04:49Z",
    "updated_at": "2021-06-24T10:04:49Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810658",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810658"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657810658"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657810658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 103,
    "side": "RIGHT",
    "in_reply_to_id": 657694907
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657828550",
    "pull_request_review_id": 691595708,
    "id": 657828550,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1NzgyODU1MA==",
    "diff_hunk": "@@ -93,6 +95,22 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, nullptr, offset};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap.size() == banmap_read.size());\n+            auto it1{banmap.begin()};\n+            auto it2{banmap_read.begin()};\n+            for (; it1 != banmap.end(); ++it1, ++it2) {",
    "path": "src/test/fuzz/banman.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fabadb7702a9cbe477e9e5f91706620456154903",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is now addressed in another way. Just out of curiosity - why not the `assert(banmap_read == banmap);` variant? It is shorter and works for both `map` and `unordered_map`.",
    "created_at": "2021-06-24T10:32:53Z",
    "updated_at": "2021-06-24T10:32:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657828550",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657828550"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r657828550"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/657828550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 107,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 109,
    "side": "RIGHT",
    "in_reply_to_id": 657248949
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684250327",
    "pull_request_review_id": 724377601,
    "id": 684250327,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDI1MDMyNw==",
    "diff_hunk": "@@ -93,6 +101,16 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, /* client_interface */ nullptr, /* default_ban_time */ 0};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap == banmap_read);",
    "path": "src/test/fuzz/banman.cpp",
    "position": 49,
    "original_position": 49,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "user": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Errors in CI job (https://cirrus-ci.com/task/6055643191705600?logs=ci#L2769):\r\n```\r\nfuzz: test/fuzz/banman.cpp:112: void banman_fuzz_target(FuzzBufferType): Assertion `banmap == banmap_read' failed.\r\n```",
    "created_at": "2021-08-06T13:48:56Z",
    "updated_at": "2021-08-06T13:48:56Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r684250327",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684250327"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r684250327"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684250327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 112,
    "original_line": 112,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684279440",
    "pull_request_review_id": 724417274,
    "id": 684279440,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY4NDI3OTQ0MA==",
    "diff_hunk": "@@ -93,6 +101,16 @@ FUZZ_TARGET_INIT(banman, initialize_banman)\n                     ban_man.Discourage(ConsumeNetAddr(fuzzed_data_provider));\n                 });\n         }\n+        if (!force_read_and_write_to_err) {\n+            ban_man.DumpBanlist();\n+            SetMockTime(ConsumeTime(fuzzed_data_provider));\n+            banmap_t banmap;\n+            ban_man.GetBanned(banmap);\n+            BanMan ban_man_read{banlist_file, /* client_interface */ nullptr, /* default_ban_time */ 0};\n+            banmap_t banmap_read;\n+            ban_man_read.GetBanned(banmap_read);\n+            assert(banmap == banmap_read);",
    "path": "src/test/fuzz/banman.cpp",
    "position": 49,
    "original_position": 49,
    "commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "original_commit_id": "fa485d06ec10acd9a791f8d29689e1e82591fb70",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Is there a way to retrieve `./crash-0671aac15e619e99522e2119487eaa9cc97e5a34` from the CI machine or make the fuzzer print it in base64?\r\n\r\nLatest `master` (d67330d11245b11fbdd5e2dd5343ee451186931e) has been changed to:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/d67330d11245b11fbdd5e2dd5343ee451186931e/src/test/fuzz/banman.cpp#L111-L113",
    "created_at": "2021-08-06T14:28:20Z",
    "updated_at": "2021-08-06T14:28:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r684279440",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684279440"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/22322#discussion_r684279440"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/22322"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/684279440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 112,
    "original_line": 112,
    "side": "RIGHT",
    "in_reply_to_id": 684250327
  }
]