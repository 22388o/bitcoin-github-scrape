[
  {
    "sha": "629ff8c35845af95c95e24cfdda25f9991f95ae5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MjlmZjhjMzU4NDVhZjk1Yzk1ZTI0Y2ZkZGEyNWY5OTkxZjk1YWU1",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-04-18T05:35:44Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-04-26T03:46:28Z"
      },
      "message": "-includeconf=<path> support in config handler, for including external configuration files",
      "tree": {
        "sha": "9c2cfc75b67631be7c21cb19a81fe63d750edf03",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9c2cfc75b67631be7c21cb19a81fe63d750edf03"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/629ff8c35845af95c95e24cfdda25f9991f95ae5",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlrhS5QACgkQV692LbM1\nMyLXoA/+Ldtdas7bfSqaVRQFtWW7y+UwEltrDwHjhf6Np25GSIQAISC9lUKvpV1J\ny0yW5rkGFAMj8GP2s+fjX6k5wfGzekziQCtRYpmMSXk6ZhEerjvtadk/tUOIkdO8\nt7sXu+QQNkurebjdMaBh1+mNHARIWev9QLHiX7WMdGhRU3hLtnwYjlY311xtcGir\ntRK+h8Alhtv9ePI3WCz6b9t/pdf3PR0jvxbW8bCtcM43Fkap9Vepz3rZ+4Qj0aE5\nXO5jltiVftlpnWbEYABwlzzMqYLsUJeKvNOoNxtKOziEMicxGGz3k9jGDnQGCjSi\nXMbH+R6lBS//DZoXOPQwtsJDCJqVcG0vem/Mx2VpelHH26qGqDkPpEouwENcVqRM\nSGdfIri3CTdFbwjpPuU+1tDf0cUDDu/kNwgHNkRIbnbz6O8Q1Uu6Z6KbEcCVG0F4\neg5l5drJOqurisvXUw34xHoRP7xGXKPgt7On/BO6wyHDtF3eN4k++5gRJ2k7SJQL\nzpYOHVB1wR7SZxU4v0jV5WqPiBS1uAxJ2ZXDPAd8+cVrJOqR5Lex9XBnvSPipy8W\nUTLZD0K0hVLbYpiK9A2NMI5pNy6t5i+KAXku5JhYAY3RVw7SlU43kHRXCAy5EqGG\nF2DOt4ZAj1rQTVHY1jOp0d71UVEUYwENN5dIPwOJCGc/07Zckrw=\n=umnj\n-----END PGP SIGNATURE-----",
        "payload": "tree 9c2cfc75b67631be7c21cb19a81fe63d750edf03\nparent a0079d4b6dc67be3889af9a16eda89b3c4b33bc5\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1524029744 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1524714388 +0900\n\n-includeconf=<path> support in config handler, for including external configuration files\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/629ff8c35845af95c95e24cfdda25f9991f95ae5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/629ff8c35845af95c95e24cfdda25f9991f95ae5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/629ff8c35845af95c95e24cfdda25f9991f95ae5/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a0079d4b6dc67be3889af9a16eda89b3c4b33bc5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a0079d4b6dc67be3889af9a16eda89b3c4b33bc5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a0079d4b6dc67be3889af9a16eda89b3c4b33bc5"
      }
    ],
    "stats": {
      "total": 48,
      "additions": 41,
      "deletions": 7
    },
    "files": [
      {
        "sha": "c1f6c2294dc1bc02ce70168ca2ed9083c6463ab9",
        "filename": "src/bitcoin-cli.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/bitcoin-cli.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/bitcoin-cli.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoin-cli.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -107,7 +107,7 @@ static int AppInitRPC(int argc, char* argv[])\n         return EXIT_FAILURE;\n     }\n     try {\n-        gArgs.ReadConfigFile(gArgs.GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+        gArgs.ReadConfigFiles();\n     } catch (const std::exception& e) {\n         fprintf(stderr,\"Error reading configuration file: %s\\n\", e.what());\n         return EXIT_FAILURE;"
      },
      {
        "sha": "38d5bb7aa18d7a04e0515b3403122c896774fff0",
        "filename": "src/bitcoind.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/bitcoind.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/bitcoind.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/bitcoind.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -92,7 +92,7 @@ bool AppInit(int argc, char* argv[])\n         }\n         try\n         {\n-            gArgs.ReadConfigFile(gArgs.GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+            gArgs.ReadConfigFiles();\n         } catch (const std::exception& e) {\n             fprintf(stderr,\"Error reading configuration file: %s\\n\", e.what());\n             return false;"
      },
      {
        "sha": "1bd2e4c9923e3c6c669652a5e554156f68320a4f",
        "filename": "src/init.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/init.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/init.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/init.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -361,6 +361,7 @@ std::string HelpMessage(HelpMessageMode mode)\n     strUsage += HelpMessageOpt(\"-debuglogfile=<file>\", strprintf(_(\"Specify location of debug log file. Relative paths will be prefixed by a net-specific datadir location. (default: %s)\"), DEFAULT_DEBUGLOGFILE));\n     if (showDebug)\n         strUsage += HelpMessageOpt(\"-feefilter\", strprintf(\"Tell other nodes to filter invs to us by our mempool min fee (default: %u)\", DEFAULT_FEEFILTER));\n+    strUsage += HelpMessageOpt(\"-includeconf=<file>\", _(\"Specify additional configuration file, relative to the -datadir path (only useable from configuration file, not command line)\"));\n     strUsage += HelpMessageOpt(\"-loadblock=<file>\", _(\"Imports blocks from external blk000??.dat file on startup\"));\n     strUsage += HelpMessageOpt(\"-maxmempool=<n>\", strprintf(_(\"Keep the transaction memory pool below <n> megabytes (default: %u)\"), DEFAULT_MAX_MEMPOOL_SIZE));\n     strUsage += HelpMessageOpt(\"-maxorphantx=<n>\", strprintf(_(\"Keep at most <n> unconnectable transactions in memory (default: %u)\"), DEFAULT_MAX_ORPHAN_TRANSACTIONS));"
      },
      {
        "sha": "14af44f924b145088e7c5355de360c10a3b27da7",
        "filename": "src/interfaces/node.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/interfaces/node.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/interfaces/node.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -52,7 +52,7 @@ class NodeImpl : public Node\n     {\n         gArgs.ParseParameters(argc, argv);\n     }\n-    void readConfigFile(const std::string& conf_path) override { gArgs.ReadConfigFile(conf_path); }\n+    void readConfigFiles() override { gArgs.ReadConfigFiles(); }\n     bool softSetArg(const std::string& arg, const std::string& value) override { return gArgs.SoftSetArg(arg, value); }\n     bool softSetBoolArg(const std::string& arg, bool value) override { return gArgs.SoftSetBoolArg(arg, value); }\n     void selectParams(const std::string& network) override { SelectParams(network); }"
      },
      {
        "sha": "d9a48e2563037a72849982109dbb14988e766405",
        "filename": "src/interfaces/node.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/interfaces/node.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/interfaces/node.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/interfaces/node.h?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -48,7 +48,7 @@ class Node\n     virtual bool softSetBoolArg(const std::string& arg, bool value) = 0;\n \n     //! Load settings from configuration file.\n-    virtual void readConfigFile(const std::string& conf_path) = 0;\n+    virtual void readConfigFiles() = 0;\n \n     //! Choose network parameters.\n     virtual void selectParams(const std::string& network) = 0;"
      },
      {
        "sha": "c0fb641b1cc9e94ef6727dc72dfd90fdf6539121",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -616,7 +616,7 @@ int main(int argc, char *argv[])\n         return EXIT_FAILURE;\n     }\n     try {\n-        node->readConfigFile(gArgs.GetArg(\"-conf\", BITCOIN_CONF_FILENAME));\n+        node->readConfigFiles();\n     } catch (const std::exception& e) {\n         QMessageBox::critical(0, QObject::tr(PACKAGE_NAME),\n                               QObject::tr(\"Error: Cannot parse configuration file: %1. Only use key=value syntax.\").arg(e.what()));"
      },
      {
        "sha": "58ef27b94f0628d8e24995f84adb52b681ed6bd4",
        "filename": "src/util.cpp",
        "status": "modified",
        "additions": 34,
        "deletions": 1,
        "changes": 35,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/util.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/util.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.cpp?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -445,6 +445,17 @@ void ArgsManager::ParseParameters(int argc, const char* const argv[])\n             m_override_args[key].push_back(val);\n         }\n     }\n+\n+    // we do not allow -includeconf from command line, so we clear it here\n+    auto it = m_override_args.find(\"-includeconf\");\n+    if (it != m_override_args.end()) {\n+        if (it->second.size() > 0) {\n+            for (const auto& ic : it->second) {\n+                fprintf(stderr, \"warning: -includeconf cannot be used from commandline; ignoring -includeconf=%s\\n\", ic.c_str());\n+            }\n+            m_override_args.erase(it);\n+        }\n+    }\n }\n \n std::vector<std::string> ArgsManager::GetArgs(const std::string& strArg) const\n@@ -706,18 +717,40 @@ void ArgsManager::ReadConfigStream(std::istream& stream)\n     }\n }\n \n-void ArgsManager::ReadConfigFile(const std::string& confPath)\n+void ArgsManager::ReadConfigFiles()\n {\n     {\n         LOCK(cs_args);\n         m_config_args.clear();\n     }\n \n+    const std::string confPath = GetArg(\"-conf\", BITCOIN_CONF_FILENAME);\n     fs::ifstream stream(GetConfigFile(confPath));\n \n     // ok to not have a config file\n     if (stream.good()) {\n         ReadConfigStream(stream);\n+        // if there is an -includeconf in the override args, but it is empty, that means the user\n+        // passed '-noincludeconf' on the command line, in which case we should not include anything\n+        if (m_override_args.count(\"-includeconf\") == 0) {\n+            std::vector<std::string> includeconf(GetArgs(\"-includeconf\"));\n+            {\n+                // We haven't set m_network yet (that happens in SelectParams()), so manually check\n+                // for network.includeconf args.\n+                std::vector<std::string> includeconf_net(GetArgs(std::string(\"-\") + GetChainName() + \".includeconf\"));\n+                includeconf.insert(includeconf.end(), includeconf_net.begin(), includeconf_net.end());\n+            }\n+\n+            for (const std::string& to_include : includeconf) {\n+                fs::ifstream include_config(GetConfigFile(to_include));\n+                if (include_config.good()) {\n+                    ReadConfigStream(include_config);\n+                    LogPrintf(\"Included configuration file %s\\n\", to_include.c_str());\n+                } else {\n+                    fprintf(stderr, \"Failed to include configuration file %s\\n\", to_include.c_str());\n+                }\n+            }\n+        }\n     }\n \n     // If datadir is changed in .conf file:"
      },
      {
        "sha": "420ce7a1ea440ffe9ff959075b6afeb86130e983",
        "filename": "src/util.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/util.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/629ff8c35845af95c95e24cfdda25f9991f95ae5/src/util.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/util.h?ref=629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "patch": "@@ -140,7 +140,7 @@ class ArgsManager\n     void SelectConfigNetwork(const std::string& network);\n \n     void ParseParameters(int argc, const char*const argv[]);\n-    void ReadConfigFile(const std::string& confPath);\n+    void ReadConfigFiles();\n \n     /**\n      * Log warnings for options in m_section_only_args when"
      }
    ]
  },
  {
    "sha": "0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowZjBiYWRkNWEzYjcxNzIwZWM4MWY3ZGI4ZWRmNmU3OWU3NDBjNzZh",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2017-05-02T01:26:33Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-05-02T05:26:45Z"
      },
      "message": "test: Test includeconf parameter.",
      "tree": {
        "sha": "a2f8a4bf5be8186a458f24bd626f9938d659ec1c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/a2f8a4bf5be8186a458f24bd626f9938d659ec1c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlrpTBUACgkQV692LbM1\nMyIaqBAAiEycZ746tCW9ob14qXoHdtAlXWW3kpCY+26LGb+KqoziiOaupRglimsp\nQIh2f2A3h4rbQRpcBkdSpesCjCVhxswQru1o8zBYQezIr4+/yKTAqvhkJuWhfYQT\n9ro+FI+MLViDexs5B7Nxpp+6qsGYk4OL0usnvVjR2WLxJOVKvTgkXlgRJ39nyqqS\nGNQpdKscCoL6s+0M4A+mEUzPs7O43ALxG56BFy0Le3LL/rvaJJ9D1Ylp8sfd7guV\n7S/Wi6AyVlFEoxrNlaZMfn0OmKYcyagkO6WXpq2gwSwLin9QH1fLfywVeKIjyyza\n+GHj/Tdi1e/V2n8bTH65CASk0MIujQwgYtMrJuolw9a4ORvCFdhRbPv5KrpvGJ66\nNh9IvkcI7VjprmJ4q7Z9OliddHpHP/1T1Gw/fp4tPF4b5LQ3a/QWsMKbZknkOKPF\nBQBH473gU8v1fcbaToVenCTzN49Gpm0SVs6weNwXwQt1YUGA42t16w+VQkszApct\nU3t0gH0a1VBfFiEHfDLWADk8827pW5BXIZVdQ2mJTCAheI8AuS9QChzGF608+i9j\n/IaHkNcDe+TepQlxsJayet4AsFxWDQDcsVIoSErZ/wRqHwKMB4lISF278yGENPQC\nCBfc7FY8en/4pCAF3Vnkm7AVX/1+hfJb5WxYwyju643VtFpeZvw=\n=mhsu\n-----END PGP SIGNATURE-----",
        "payload": "tree a2f8a4bf5be8186a458f24bd626f9938d659ec1c\nparent 629ff8c35845af95c95e24cfdda25f9991f95ae5\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1493688393 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1525238805 +0900\n\ntest: Test includeconf parameter.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0badd5a3b71720ec81f7db8edf6e79e740c76a/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/629ff8c35845af95c95e24cfdda25f9991f95ae5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/629ff8c35845af95c95e24cfdda25f9991f95ae5"
      }
    ],
    "stats": {
      "total": 79,
      "additions": 79,
      "deletions": 0
    },
    "files": [
      {
        "sha": "d3f1be6c3a00d0a9579d1308831c82675b48bf99",
        "filename": "test/functional/feature_includeconf.py",
        "status": "added",
        "additions": 78,
        "deletions": 0,
        "changes": 78,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0f0badd5a3b71720ec81f7db8edf6e79e740c76a/test/functional/feature_includeconf.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0f0badd5a3b71720ec81f7db8edf6e79e740c76a/test/functional/feature_includeconf.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/feature_includeconf.py?ref=0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
        "patch": "@@ -0,0 +1,78 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2018 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"Tests the includeconf argument\n+\n+Verify that:\n+\n+1. adding includeconf to the configuration file causes the includeconf\n+   file to be loaded in the correct order.\n+2. includeconf cannot be used as a command line argument.\n+3. includeconf cannot be used recursively (ie includeconf can only\n+   be used from the base config file).\n+4. multiple includeconf arguments can be specified in the main config\n+   file.\n+\"\"\"\n+import os\n+import tempfile\n+\n+from test_framework.test_framework import BitcoinTestFramework, assert_equal\n+\n+class IncludeConfTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.setup_clean_chain = False\n+        self.num_nodes = 1\n+\n+    def setup_chain(self):\n+        super().setup_chain()\n+        # Create additional config files\n+        # - tmpdir/node0/relative.conf\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"w\", encoding=\"utf8\") as f:\n+            f.write(\"uacomment=relative\\n\")\n+        # - tmpdir/node0/relative2.conf\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"relative2.conf\"), \"w\", encoding=\"utf8\") as f:\n+            f.write(\"uacomment=relative2\\n\")\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"bitcoin.conf\"), \"a\", encoding='utf8') as f:\n+            f.write(\"uacomment=main\\nincludeconf=relative.conf\\n\")\n+\n+    def run_test(self):\n+        self.log.info(\"-includeconf works from config file. subversion should end with 'main; relative)/'\")\n+\n+        subversion = self.nodes[0].getnetworkinfo()[\"subversion\"]\n+        assert subversion.endswith(\"main; relative)/\")\n+\n+        self.log.info(\"-includeconf cannot be used as command-line arg. subversion should still end with 'main; relative)/'\")\n+        self.stop_node(0)\n+        with tempfile.SpooledTemporaryFile(max_size=2**16) as log_stderr:\n+            self.start_node(0, extra_args=[\"-includeconf=relative2.conf\"], stderr=log_stderr)\n+\n+            subversion = self.nodes[0].getnetworkinfo()[\"subversion\"]\n+            assert subversion.endswith(\"main; relative)/\")\n+            log_stderr.seek(0)\n+            stderr = log_stderr.read().decode('utf-8').strip()\n+            assert_equal(stderr, 'warning: -includeconf cannot be used from commandline; ignoring -includeconf=relative2.conf')\n+\n+        self.log.info(\"-includeconf cannot be used recursively. subversion should end with 'main; relative)/'\")\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"a\", encoding=\"utf8\") as f:\n+            f.write(\"includeconf=relative2.conf\\n\")\n+\n+        self.restart_node(0)\n+\n+        subversion = self.nodes[0].getnetworkinfo()[\"subversion\"]\n+        assert subversion.endswith(\"main; relative)/\")\n+\n+        self.log.info(\"multiple -includeconf args can be used from the base config file. subversion should end with 'main; relative; relative2)/'\")\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"relative.conf\"), \"w\", encoding=\"utf8\") as f:\n+            f.write(\"uacomment=relative\\n\")\n+\n+        with open(os.path.join(self.options.tmpdir, \"node0\", \"bitcoin.conf\"), \"a\", encoding='utf8') as f:\n+            f.write(\"includeconf=relative2.conf\\n\")\n+\n+        self.restart_node(0)\n+\n+        subversion = self.nodes[0].getnetworkinfo()[\"subversion\"]\n+        assert subversion.endswith(\"main; relative; relative2)/\")\n+\n+if __name__ == '__main__':\n+    IncludeConfTest().main()"
      },
      {
        "sha": "8a82db222be4dfc7d78779834d4d2de253f8d949",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0f0badd5a3b71720ec81f7db8edf6e79e740c76a/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0f0badd5a3b71720ec81f7db8edf6e79e740c76a/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
        "patch": "@@ -138,6 +138,7 @@\n     'p2p_fingerprint.py',\n     'feature_uacomment.py',\n     'p2p_unrequested_blocks.py',\n+    'feature_includeconf.py',\n     'feature_logging.py',\n     'p2p_node_network_limited.py',\n     'feature_blocksdir.py',"
      }
    ]
  },
  {
    "sha": "25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyNWI3YWI5YzAyZjY5MWJlNmMxYWE3MWE5Y2Y1MWFjMWE2ZWE5ZGI0",
    "commit": {
      "author": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-03-23T04:51:34Z"
      },
      "committer": {
        "name": "Karl-Johan Alm",
        "email": "karljohan-alm@garage.co.jp",
        "date": "2018-05-02T05:26:46Z"
      },
      "message": "doc: Add release notes for -includeconf",
      "tree": {
        "sha": "4ceacfccf30d32f42ea000786baa64af750f9fdb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ceacfccf30d32f42ea000786baa64af750f9fdb"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIyBAABCAAdFiEExCr/fGGz5EoUVM01V692LbM1MyIFAlrpTBYACgkQV692LbM1\nMyJeKw/3UJB0449xowlkPMsEofCIPznEH9DXstcuo641FOLuxRR6praUQwLhHd2p\n5XaVIgMRTuQkLMpb499oQODBja3+NfDRAM8D6gwUhvTYpUZGu3wjJUgJqX7hOSK9\nH3rlJMHggUDzY5C/ZklrSoqXNYcxQuU0S4xTpQ1tEovwIunKbRquxoi9J4aGL4iI\nVuU2hNPlPzZqwv6Hc1kORBGBQslU6fW5lVrV6EuMCxz/6DdiMrwQ40u6bJwTchms\nvOUuS0+TL+ivPeEjZJ3lYxZiWQxREQtLB0DNeoAswHG6JFX0U7Aa9mixTKVEg+84\nXZcZL7hbGClJvi438sWh71LwHUxj7PCHtBcBjV8VDdOj6eGEVnAU1KOq/mOqzKPb\nzi4uU/g8b5PKC0ke5ODLkw3/0Xzxz/nLf3vLH9BeC67vdguEFIrTwe3D2yZMKRhX\nh2iN1y07GQZmB/VrberFSTuEeC/Y5Le+O7+9I7rbWQuCqaRQwV3wDEPCQ5NeB7hJ\n7wtZxodHbRmkSrfbo2F7jSrKqZygbEnrRvkV4a2Qpdlonhit2BlQE5ENkuNhbaP+\nLukZrXBgzvokCcv3NYu1+saLEmnMtm65SZqSAwPwHE0ZBBE4JOkLUmDunCrwTnDk\n3il/pynAzWVxKhnGez7QAsiaMu0qPi6a6iKQiB/1nRTcDG5QDg==\n=HA8k\n-----END PGP SIGNATURE-----",
        "payload": "tree 4ceacfccf30d32f42ea000786baa64af750f9fdb\nparent 0f0badd5a3b71720ec81f7db8edf6e79e740c76a\nauthor Karl-Johan Alm <karljohan-alm@garage.co.jp> 1521780694 +0900\ncommitter Karl-Johan Alm <karljohan-alm@garage.co.jp> 1525238806 +0900\n\ndoc: Add release notes for -includeconf\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4/comments",
    "author": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "kallewoof",
      "id": 250224,
      "node_id": "MDQ6VXNlcjI1MDIyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/250224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kallewoof",
      "html_url": "https://github.com/kallewoof",
      "followers_url": "https://api.github.com/users/kallewoof/followers",
      "following_url": "https://api.github.com/users/kallewoof/following{/other_user}",
      "gists_url": "https://api.github.com/users/kallewoof/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kallewoof/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kallewoof/subscriptions",
      "organizations_url": "https://api.github.com/users/kallewoof/orgs",
      "repos_url": "https://api.github.com/users/kallewoof/repos",
      "events_url": "https://api.github.com/users/kallewoof/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kallewoof/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0f0badd5a3b71720ec81f7db8edf6e79e740c76a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0f0badd5a3b71720ec81f7db8edf6e79e740c76a"
      }
    ],
    "stats": {
      "total": 13,
      "additions": 13,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7e1967daf020a50c2cc98cdb59bc44fae623b349",
        "filename": "doc/release-notes-pr10267.md",
        "status": "added",
        "additions": 13,
        "deletions": 0,
        "changes": 13,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4/doc/release-notes-pr10267.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4/doc/release-notes-pr10267.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-pr10267.md?ref=25b7ab9c02f691be6c1aa71a9cf51ac1a6ea9db4",
        "patch": "@@ -0,0 +1,13 @@\n+Changed command-line options\n+----------------------------\n+\n+- `-includeconf=<file>` can be used to include additional configuration files.\n+  Only works inside the `bitcoin.conf` file, not inside included files or from\n+  command-line. Multiple files may be included. Can be disabled from command-\n+  line via `-noincludeconf`. Note that multi-argument commands like\n+  `-includeconf` will override preceding `-noincludeconf`, i.e.\n+\n+    noincludeconf=1\n+    includeconf=relative.conf\n+\n+  as bitcoin.conf will still include `relative.conf`."
      }
    ]
  }
]