DrahtBot,2019-10-29 22:49:31,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#17265](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/17265.html) (Remove OpenSSL by fanquake)\n* [#15382](htt",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-547663618,547663618,
MarcoFalke,2019-10-30 19:00:37,ok fine. I don't understand any of this. CC @sipsorcery ,https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548065068,548065068,
MarcoFalke,2019-10-30 19:01:34,"Maybe this should just wait until openssl is removed, so it wouldn't have to be updated twice.",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548065412,548065412,
sipsorcery,2019-10-30 19:28:32,"I think it's good to do this now. The Qt openssl dependency was solely for BIP70 as best I could tell. The openssl dependency for other parts of Bitcoin Core comes from random number generation etc. Removing openssl from the Qt build instructions as a first step will make it a LOT easier for anyone attempting to do their own Qt static build.\n\nI hadn't spotted the Boost vcpkg changes. Will do a",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548075499,548075499,
fanquake,2019-10-30 19:33:54,"> I think it's good to do this now.\n\nI agree. @sipsorcery I can also add a commit here to change our appveyor so that we are always [pulling the latest version of `vcpkg`](https://www.appveyor.com/docs/lang/cpp/#vc-packaging-tool).",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548077356,548077356,
sipsorcery,2019-10-30 19:50:44,"@fanquake keeping vcpkg up to date would be nice but due to time limits I don't think it's currently feasible. Appveyor limits jobs to 60 minutes and the last Bitcoin Core build I ran a couple of days days ago took 57min 29sec. Within that time the restore of the vcpkg directory with the required packages already installed took 22sec,\n\nUpdating and rebuilding vcpkg itself only takes a minute o",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548083497,548083497,
fanquake,2019-10-30 19:52:29,@sipsorcery Ok. I'll leave this PR as is.,https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548084182,548084182,
sipsorcery,2019-10-31 15:06:49,"@fanquake an additional instruction for building a Bitcoin Core compatible version of Qt is:\n\n````\nModify settings below in file qt-everywhere-opensource-src-5.9.8\qtbase\mkspecs\common\msvc-desktop.conf:\nQMAKE_CFLAGS_RELEASE    = $$QMAKE_CFLAGS_OPTIMIZE -MT\nQMAKE_CFLAGS_RELEASE_WITH_DEBUGINFO += $$QMAKE_CFLAGS_OPTIMIZE -Zi -MT\nQMAKE_CFLAGS_DEBUG      = -Zi -MTd\n````\n\nWithout doi",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548420625,548420625,
sipsorcery,2019-10-31 15:14:34,"Oh and one other minor thing worth adjusting is the vcpkg path in the `configure` command. Changing to `-IC:\tools\vcpkg\installed\x64-windows-static\include -LC:\tools\vcpkg\installed\x64-windows-static\lib` makes it compatible with the AppVeyor location rather than my dev machine, Full command I used was:\n\n````\n..\qt-everywhere-opensource-src-5.9.8\qt-everywhere-opensource-src-5.9.8\config",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548424312,548424312,
fanquake,2019-10-31 16:23:09,"> an additional instruction for building a Bitcoin Core compatible version of Qt is:\n\nWhat's the change here? Those flags look like what is already present in `\qtbase\mkspecs\common\msvc-desktop.conf:`.\n\n> Oh and one other minor thing worth adjusting is the vcpkg path in the configure command. \n\nI've rebased, updated the paths and added an additional commit to mention that Visual Stud",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548456106,548456106,
sipsorcery,2019-10-31 16:37:32,"> What's the change here? Those flags look like what is already present in `\qtbase\mkspecs\common\msvc-desktop.conf:`.\n\nThe change is the last flag on each line from `/MD` to `/MT` which determines whether the libs generated as static or dynamic link libraries.\n",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548462304,548462304,
fanquake,2019-11-01 18:31:00,"> The change is the last flag on each line from..\n\nRight. Do you just want to have that diff mentioned in the notes? Can you also make a mention of it here: https://github.com/sipsorcery/qt_win_binary/releases/tag/v1.3 ?\n\nWould you like me to swap Appveyor to using the new Qt in this PR? (If you wanted to push some changes up, I can cherry pick them in.)",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548901248,548901248,
sipsorcery,2019-11-01 18:49:15,"> Right. Do you just want to have that diff mentioned in the notes? Can you also make a mention of it here: https://github.com/sipsorcery/qt_win_binary/releases/tag/v1.3 ?\n\nI'd already added the note on the main [Readme](https://github.com/sipsorcery/qt_win_binary). I'll add a link from each release as well.\n\nMaybe it'd be better not to include the Qt build steps in the `build_msvc\README.",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548907448,548907448,
fanquake,2019-11-01 19:26:49,"> This README could stick to saying what's needed\n\nSounds good. I've pushed some changes. Will leave further updates to you.",https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548920469,548920469,
sipsorcery,2019-11-01 20:14:46,tACK 162d0038e772bf6210b9218df35c14fd9719d3f7.,https://github.com/bitcoin/bitcoin/pull/17309#issuecomment-548935091,548935091,
MarcoFalke,2019-10-30 18:53:16,"Why are they required here, but not in https://github.com/bitcoin/bitcoin/blob/08e29473126d5cc4df6d2b3f368c6f6f641c0bd8/.appveyor.yml#L10 ?",https://github.com/bitcoin/bitcoin/pull/17309#discussion_r340800999,340800999,build_msvc/README.md
fanquake,2019-10-30 18:58:14,I'd assume our appveyor image is using an older version of `vcpkg`.,https://github.com/bitcoin/bitcoin/pull/17309#discussion_r340803430,340803430,build_msvc/README.md
fanquake,2019-10-30 19:02:34,"Yep, looks like `boost-multi-index` used to be built as part of `boost-signals2`, but that [recently changed](https://github.com/microsoft/vcpkg/commit/9433136b22b5e443d550ca7665a562637c8a86b9#diff-4bdbb65fe1fa280aae9a260f6139daab). Assume the same is true for `boost-thread`.",https://github.com/bitcoin/bitcoin/pull/17309#discussion_r340805385,340805385,build_msvc/README.md
