[
  {
    "sha": "b4ada906c03111404c29b115ab37afbad92f4cf1",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNGFkYTkwNmMwMzExMTQwNGMyOWIxMTVhYjM3YWZiYWQ5MmY0Y2Yx",
    "commit": {
      "author": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-11T22:20:07Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-23T17:00:34Z"
      },
      "message": "Upgrade dependancies and tweak build process.\n\n* Upgrade to use miniupnpc 1.6\n* Upgrade to wxWidgets 2.9.2\n* Upgrade to Bost 1.47 for Win32 Builds",
      "tree": {
        "sha": "37e382dcb41fbb09a0d49724ec1e55928dd6796e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/37e382dcb41fbb09a0d49724ec1e55928dd6796e"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4ada906c03111404c29b115ab37afbad92f4cf1",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4ada906c03111404c29b115ab37afbad92f4cf1",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b4ada906c03111404c29b115ab37afbad92f4cf1",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4ada906c03111404c29b115ab37afbad92f4cf1/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "865ed8a1e5c587468a40756d46bcbc1c5a12bb06",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/865ed8a1e5c587468a40756d46bcbc1c5a12bb06",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/865ed8a1e5c587468a40756d46bcbc1c5a12bb06"
      }
    ],
    "stats": {
      "total": 303,
      "additions": 88,
      "deletions": 215
    },
    "files": [
      {
        "sha": "d4b0843e740c6bd02ab957076e915c86446c1437",
        "filename": "contrib/gitian-win32.yml",
        "status": "modified",
        "additions": 18,
        "deletions": 24,
        "changes": 42,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/contrib/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/contrib/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-win32.yml?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -14,17 +14,15 @@ remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n   \"dir\": \"bitcoin\"\n files:\n-- \"wxWidgets-2.9.1.tar.bz2\"\n-- \"boost_1_43_0.tar.bz2\"\n+- \"wxWidgets-2.9.2.tar.bz2\"\n+- \"boost_1_47_0.tar.bz2\"\n - \"openssl-1.0.0d.tar.gz\"\n-- \"db-4.7.25.NC.tar.gz\"\n-- \"upnpc-exe-win32-20110215.zip\"\n-- \"miniupnpc-1.5.20110215.tar.gz\"\n-- \"WSPiApi.h\"\n+- \"db-4.8.30.NC.tar.gz\"\n+- \"miniupnpc-1.6.tar.gz\"\n script: |\n   #\n-  tar xjf wxWidgets-2.9.1.tar.bz2\n-  cd wxWidgets-2.9.1\n+  tar xjf wxWidgets-2.9.2.tar.bz2\n+  cd wxWidgets-2.9.2\n   ./configure --host=i586-mingw32msvc --build=i686-linux --disable-shared --enable-monolithic --without-libpng --disable-svg\n   perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n   make $MAKEOPTS\n@@ -36,14 +34,14 @@ script: |\n   make\n   cd ..\n   #\n-  tar xzf db-4.7.25.NC.tar.gz\n-  cd db-4.7.25.NC/build_unix\n+  tar xzf db-4.8.30.NC.tar.gz\n+  cd db-4.8.30.NC/build_unix\n   ../dist/configure --enable-mingw --enable-cxx --host=i586-mingw32msvc CFLAGS=\"-I/usr/i586-mingw32msvc/include\"\n   make $MAKEOPTS\n   cd ../..\n   #\n-  tar xjf boost_1_43_0.tar.bz2\n-  cd boost_1_43_0\n+  tar xjf boost_1_47_0.tar.bz2\n+  cd boost_1_47_0\n   echo \"using gcc : 4.4 : i586-mingw32msvc-g++\n         :\n         <rc>i586-mingw32msvc-windres\n@@ -53,16 +51,13 @@ script: |\n   ./bjam toolset=gcc target-os=windows threadapi=win32 threading=multi --user-config=user-config.jam --without-mpi --without-python -sNO_BZIP2=1 -sNO_ZLIB=1 --layout=tagged --build-type=complete $MAKEOPTS stage\n   cd ..\n   #\n-  mkdir upnpc-exe-win32-20110215\n-  cd upnpc-exe-win32-20110215\n-  unzip ../upnpc-exe-win32-20110215.zip\n-  mkdir miniupnpc\n-  cd miniupnpc\n-  tar xzf ../../miniupnpc-1.5.20110215.tar.gz\n-  mv ./miniupnpc-1.5.20110215/* ./\n-  cd ../..\n-  #\n-  cp WSPiApi.h $HOME/build\n+  tar xzf miniupnpc-1.6.tar.gz\n+  cd miniupnpc-1.6\n+  sed 's/dllwrap -k --driver-name gcc/$(DLLWRAP) -k --driver-name $(CC)/' -i Makefile.mingw\n+  sed 's|wingenminiupnpcstrings $< $@|./wingenminiupnpcstrings $< $@|' -i Makefile.mingw\n+  make -f Makefile.mingw DLLWRAP=i586-mingw32msvc-dllwrap CC=i586-mingw32msvc-gcc AR=i586-mingw32msvc-ar\n+  cd ..\n+  mv miniupnpc-1.6 miniupnpc\n   #\n   cd bitcoin\n   mkdir -p $OUTDIR/src\n@@ -72,8 +67,7 @@ script: |\n   cp $OUTDIR/src/doc/README_windows.txt $OUTDIR/readme.txt\n   cp $OUTDIR/src/COPYING $OUTDIR/license.txt\n   cd src\n-  sed 's/$(DEBUGFLAGS)//' < makefile.linux-mingw > makefile.linux-mingw.2 && mv makefile.linux-mingw.2 makefile.linux-mingw\n-  sed 's|//#include <WSPiApi.h>|#include <WSPiApi.h>|' < net.cpp > net.cpp.2 && mv net.cpp.2 net.cpp\n+  sed 's/$(DEBUGFLAGS)//' -i makefile.linux-mingw\n   make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoin.exe USE_UPNP=1\n   make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoind.exe USE_UPNP=0\n   i586-mingw32msvc-strip bitcoin.exe"
      },
      {
        "sha": "c4cdc89911cb4a162bf3853b800c7ee295fa8f97",
        "filename": "contrib/gitian.yml",
        "status": "modified",
        "additions": 8,
        "deletions": 15,
        "changes": 23,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/contrib/gitian.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/contrib/gitian.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian.yml?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -6,7 +6,7 @@ architectures:\n - \"i386\"\n - \"amd64\"\n packages: \n-- \"libdb4.7++-dev\"\n+- \"libdb4.8++-dev\"\n - \"libxxf86vm-dev\"\n - \"libgtk2.0-dev\"\n - \"libboost-all-dev\"\n@@ -17,26 +17,19 @@ remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n   \"dir\": \"bitcoin\"\n files:\n-- \"wxWidgets-2.9.1.tar.bz2\"\n-- \"miniupnpc-1.5.tar.gz\"\n-- \"toplevel.h.diff\"\n-- \"toplevel.cpp.diff\"\n+- \"wxWidgets-2.9.2.tar.bz2\"\n+- \"miniupnpc-1.6.tar.gz\"\n script: |\n   INSTDIR=\"$HOME/install\"\n   export LIBRARY_PATH=\"$INSTDIR/lib\"\n   #\n-  tar xzf miniupnpc-1.5.tar.gz\n-  cd miniupnpc-1.5\n+  tar xzf miniupnpc-1.6.tar.gz\n+  cd miniupnpc-1.6\n   INSTALLPREFIX=$INSTDIR make $MAKEOPTS install\n   cd ..\n   #\n-  tar xjf wxWidgets-2.9.1.tar.bz2\n-  cd wxWidgets-2.9.1\n-  cd include/wx/gtk\n-  patch < ../../../../toplevel.h.diff\n-  cd ../../../src/gtk\n-  patch < ../../../toplevel.cpp.diff\n-  cd ../..\n+  tar xjf wxWidgets-2.9.2.tar.bz2\n+  cd wxWidgets-2.9.2\n   ./configure --prefix=$INSTDIR --enable-monolithic --disable-shared\n   perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n   make $MAKEOPTS install\n@@ -50,7 +43,7 @@ script: |\n   cp $OUTDIR/src/doc/README $OUTDIR\n   cp $OUTDIR/src/COPYING $OUTDIR\n   cd src\n-  sed 's/$(DEBUGFLAGS)//' < makefile.unix > makefile.unix.2 && mv makefile.unix.2 makefile.unix\n+  sed 's/$(DEBUGFLAGS)//' -i makefile.unix\n   PATH=$INSTDIR/bin:$PATH make -f makefile.unix CXX=\"g++ -I$INSTDIR/include -L$INSTDIR/lib\" $MAKEOPTS bitcoin USE_UPNP=1\n   PATH=$INSTDIR/bin:$PATH make -f makefile.unix CXX=\"g++ -I$INSTDIR/include -L$INSTDIR/lib\" $MAKEOPTS bitcoind USE_UPNP=0\n   mkdir -p $OUTDIR/bin/$GBUILD_BITS"
      },
      {
        "sha": "2afb4a9e91aea19fc40bce6187538ed3871ad817",
        "filename": "contrib/wx-patches/README",
        "status": "removed",
        "additions": 0,
        "deletions": 4,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/README",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/README",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/wx-patches/README?ref=865ed8a1e5c587468a40756d46bcbc1c5a12bb06",
        "patch": "@@ -1,4 +0,0 @@\n-This folder contains two patches which are applied to wxWidgets\n-2.9.1 before building the wxWidgets which is used for release\n-versions of bitcoin.  They make the GUI show up on newer OSs\n-with new libgtks, such as Ubuntu 11.04."
      },
      {
        "sha": "359abf28d44f28cb945ab90296108e81bf997d03",
        "filename": "contrib/wx-patches/toplevel.cpp.diff",
        "status": "removed",
        "additions": 0,
        "deletions": 86,
        "changes": 86,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/toplevel.cpp.diff",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/toplevel.cpp.diff",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/wx-patches/toplevel.cpp.diff?ref=865ed8a1e5c587468a40756d46bcbc1c5a12bb06",
        "patch": "@@ -1,86 +0,0 @@\n---- /wxWidgets/trunk/src/gtk/toplevel.cpp (revision 67326)\r\n-+++ /wxWidgets/trunk/src/gtk/toplevel.cpp (revision 67496)\r\n-@@ -72,4 +72,8 @@\r\n- // send any activate events at all\r\n- static int g_sendActivateEvent = -1;\r\n-+\r\n-+// Whether _NET_REQUEST_FRAME_EXTENTS support is working\r\n-+//   0 == not tested yet, 1 == working, 2 == broken\r\n-+static int gs_requestFrameExtentsStatus;\r\n- \r\n- //-----------------------------------------------------------------------------\r\n-@@ -432,4 +436,12 @@\r\n-     if (event->state == GDK_PROPERTY_NEW_VALUE && event->atom == property)\r\n-     {\r\n-+        if (win->m_netFrameExtentsTimerId)\r\n-+        {\r\n-+            // WM support for _NET_REQUEST_FRAME_EXTENTS is working\r\n-+            gs_requestFrameExtentsStatus = 1;\r\n-+            g_source_remove(win->m_netFrameExtentsTimerId);\r\n-+            win->m_netFrameExtentsTimerId = 0;\r\n-+        }\r\n-+\r\n-         wxSize decorSize = win->m_decorSize;\r\n-         int left, right, top, bottom;\r\n-@@ -439,4 +451,22 @@\r\n-         win->GTKUpdateDecorSize(decorSize);\r\n-     }\r\n-+    return false;\r\n-+}\r\n-+}\r\n-+\r\n-+extern \"C\" {\r\n-+static gboolean request_frame_extents_timeout(void* data)\r\n-+{\r\n-+    // WM support for _NET_REQUEST_FRAME_EXTENTS is broken\r\n-+    gs_requestFrameExtentsStatus = 2;\r\n-+    gdk_threads_enter();\r\n-+    wxTopLevelWindowGTK* win = static_cast<wxTopLevelWindowGTK*>(data);\r\n-+    win->m_netFrameExtentsTimerId = 0;\r\n-+    wxSize decorSize = win->m_decorSize;\r\n-+    int left, right, top, bottom;\r\n-+    if (wxGetFrameExtents(gtk_widget_get_window(win->m_widget), &left, &right, &top, &bottom))\r\n-+        decorSize.Set(left + right, top + bottom);\r\n-+    win->GTKUpdateDecorSize(decorSize);\r\n-+    gdk_threads_leave();\r\n-     return false;\r\n- }\r\n-@@ -459,4 +489,5 @@\r\n-     m_deferShowAllowed = true;\r\n-     m_updateDecorSize = true;\r\n-+    m_netFrameExtentsTimerId = 0;\r\n- \r\n-     m_urgency_hint = -2;\r\n-@@ -811,5 +842,6 @@\r\n-     if (deferShow)\r\n-     {\r\n--        deferShow = m_deferShowAllowed && !GTK_WIDGET_REALIZED(m_widget);\r\n-+        deferShow = gs_requestFrameExtentsStatus != 2 &&\r\n-+            m_deferShowAllowed && !gtk_widget_get_realized(m_widget);\r\n-         if (deferShow)\r\n-         {\r\n-@@ -829,11 +861,4 @@\r\n-             // GetSize()/SetSize() because it makes window bigger between each\r\n-             // restore and save.\r\n--            m_updateDecorSize = deferShow;\r\n--        }\r\n--        if (deferShow)\r\n--        {\r\n--            // Fluxbox support for _NET_REQUEST_FRAME_EXTENTS is broken\r\n--            const char* name = gdk_x11_screen_get_window_manager_name(screen);\r\n--            deferShow = strcmp(name, \"Fluxbox\") != 0;\r\n-             m_updateDecorSize = deferShow;\r\n-         }\r\n-@@ -875,4 +900,12 @@\r\n-             (XEvent*)&xevent);\r\n- \r\n-+        if (gs_requestFrameExtentsStatus == 0)\r\n-+        {\r\n-+            // if WM does not respond to request within 1 second,\r\n-+            // we assume support for _NET_REQUEST_FRAME_EXTENTS is not working\r\n-+            m_netFrameExtentsTimerId =\r\n-+                g_timeout_add(1000, request_frame_extents_timeout, this);\r\n-+        }\r\n-+\r\n-         // defer calling gtk_widget_show()\r\n-         m_isShown = true;\r"
      },
      {
        "sha": "c2718d46377de80c47eed6d85626b04d52a3a71d",
        "filename": "contrib/wx-patches/toplevel.h.diff",
        "status": "removed",
        "additions": 0,
        "deletions": 9,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/toplevel.h.diff",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/865ed8a1e5c587468a40756d46bcbc1c5a12bb06/contrib/wx-patches/toplevel.h.diff",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/wx-patches/toplevel.h.diff?ref=865ed8a1e5c587468a40756d46bcbc1c5a12bb06",
        "patch": "@@ -1,9 +0,0 @@\n---- /wxWidgets/trunk/include/wx/gtk/toplevel.h (revision 65373)\r\n-+++ /wxWidgets/trunk/include/wx/gtk/toplevel.h (revision 67496)\r\n-@@ -114,4 +114,6 @@\r\n-     // wxUSER_ATTENTION_ERROR difference, -2 for no hint, -1 for ERROR hint, rest for GtkTimeout handle.\r\n-     int m_urgency_hint;\r\n-+    // timer for detecting WM with broken _NET_REQUEST_FRAME_EXTENTS handling\r\n-+    unsigned m_netFrameExtentsTimerId;\r\n- \r\n-     // return the size of the window without WM decorations\r"
      },
      {
        "sha": "d08e3a23b7c7072338318c5d25f36d2b38279550",
        "filename": "doc/build-msw.txt",
        "status": "modified",
        "additions": 16,
        "deletions": 20,
        "changes": 36,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-msw.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-msw.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-msw.txt?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -27,11 +27,11 @@ Dependencies\n Libraries you need to download separately and build:\n \n                 default path               download\n-wxWidgets       \\wxwidgets-2.9.1-mgw       http://www.wxwidgets.org/downloads/\n+wxWidgets       \\wxwidgets-2.9.2-mgw       http://www.wxwidgets.org/downloads/\n OpenSSL         \\openssl-1.0.0d-mgw        http://www.openssl.org/source/\n-Berkeley DB     \\db-4.7.25.NC-mgw          http://www.oracle.com/technology/software/products/berkeley-db/index.html\n-Boost           \\boost-1.43.0-mgw          http://www.boost.org/users/download/\n-miniupnpc       \\upnpc-exe-win32-20110215  http://miniupnp.tuxfamily.org/files/\n+Berkeley DB     \\db-4.8.30.NC-mgw          http://www.oracle.com/technology/software/products/berkeley-db/index.html\n+Boost           \\boost-1.47.0-mgw          http://www.boost.org/users/download/\n+miniupnpc       \\miniupnpc-1.6-mgw         http://miniupnp.tuxfamily.org/files/\n \n Their licenses:\n wxWidgets      LGPL 2.1 with very liberal exceptions\n@@ -41,11 +41,11 @@ Boost          MIT-like license\n miniupnpc      New (3-clause) BSD license\n \n Versions used in this release:\n-wxWidgets    2.9.1\n+wxWidgets    2.9.2\n OpenSSL      1.0.0d\n-Berkeley DB  4.7.25.NC\n-Boost        1.43.0\n-miniupnpc    1.5-20110215\n+Berkeley DB  4.8.30.NC\n+Boost        1.47.0\n+miniupnpc    1.6\n \n \n Notes\n@@ -57,7 +57,7 @@ classes that do the rote work of constructing all the UI elements.\n wxWidgets\n ---------\n DOS shell:\n-cd \\wxWidgets-2.9.1-mgw\\build\\msw\n+cd \\wxWidgets-2.9.2-mgw\\build\\msw\n mingw32-make -f makefile.gcc\n \n OpenSSL\n@@ -73,30 +73,26 @@ make\n Berkeley DB\n -----------\n MSYS shell:\n-cd /c/db-4.7.25.NC-mgw/build_unix\n+cd /c/db-4.8.30.NC-mgw/build_unix\n sh ../dist/configure --enable-mingw --enable-cxx\n make\n \n-\n Boost\n -----\n DOS prompt:\n downloaded boost jam 3.1.18\n-cd \\boost-1.43.0-mgw\n+cd \\boost-1.47.0-mgw\n bjam toolset=gcc --build-type=complete stage\n \n-Note:\n-building with boost 1.45.0 failed because of boost ticket 4614, 4258\n-builds fine with boost 1.43.0\n-\n MiniUPnPc\n ---------\n-Building miniupnpc failed on Windows Server 2003, thus it is expected that a binary copy will be used.\n-See http://miniupnp.tuxfamily.org/forum/viewtopic.php?t=642\n UPnP support is optional, make with USE_UPNP= to disable it.\n \n-Get upnpc-exe-win32-20110215.zip and unzip it to \\upnpc-exe-win32-20110215\n-Get miniupnpc-1.5.20110215.tar.gz and copy *.h to \\upnpc-exe-win32-20110215\\miniupnpc\n+MSYS shell:\n+cd /c/miniupnpc-1.6-mgw\n+make -f Makefile.mingw\n+mkdir miniupnpc\n+cp *.h miniupnpc/\n \n Bitcoin\n -------"
      },
      {
        "sha": "52d876d82b3c0d35acbcd72e72588dcff5fbc615",
        "filename": "doc/build-osx.txt",
        "status": "modified",
        "additions": 9,
        "deletions": 9,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-osx.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-osx.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-osx.txt?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -135,26 +135,26 @@ The process for miniupnpc (optional) is similar to that of OpenSSL.\n Download from http://miniupnp.tuxfamily.org/files/.\n \n cd ~/bitcoin/deps\n-tar xvf ~/Downloads/miniupnpc-1.5.tar\n-mv miniupnpc-1.5 miniupnpc-1.5-x86_64\n-tar xvf ~/Downloads/miniupnpc-1.5.tar\n-mv miniupnpc-1.5 miniupnpc-1.5-i386\n+tar xvf ~/Downloads/miniupnpc-1.6.tar\n+mv miniupnpc-1.6 miniupnpc-1.6-x86_64\n+tar xvf ~/Downloads/miniupnpc-1.6.tar\n+mv miniupnpc-1.6 miniupnpc-1.6-i386\n # build x86_64 (64 bit intel) binary\n-cd miniupnpc-1.5-x86_64\n+cd miniupnpc-1.6-x86_64\n export CFLAGS=\"-arch x86_64\"\n export LDFLAGS=\"-arch x86_64\"\n export PREFIX=\"/Users/macuser/bitcoin/deps\"\n make && make install\n # build i386 (32 bit intel) binary\n-cd miniupnpc-1.5-i386\n+cd miniupnpc-1.6-i386\n export CFLAGS=\"-arch i386\"\n export LDFLAGS=\"-arch i386\"\n export PREFIX=\"/Users/macuser/bitcoin/deps\"\n make\n \n # combine the libs\n cd ~/bitcoin/deps\n-lipo -arch i386 miniupnpc-1.5-i386/libminiupnpc.a -arch x86_64 miniupnpc-1.5-x86_64/libminiupnpc.a -o lib/libminiupnpc.a -create\n+lipo -arch i386 miniupnpc-1.6-i386/libminiupnpc.a -arch x86_64 miniupnpc-1.6-x86_64/libminiupnpc.a -o lib/libminiupnpc.a -create\n \n Verify your binaries\n \n@@ -175,8 +175,8 @@ Berkeley DB\n Download from http://freshmeat.net/projects/berkeleydb/\n \n cd ~/bitcoin/deps\n-tar xvf ~/Downloads/db-4.8.26.tar\n-cd db-4.8.26/build_unix\n+tar xvf ~/Downloads/db-4.8.30.tar\n+cd db-4.8.30/build_unix\n ../dist/configure --prefix=/Users/macosuser/bitcoin/deps --enable-cxx && make && make install\n \n "
      },
      {
        "sha": "8f0c568eda7e5023534e641028b7e60e10808214",
        "filename": "doc/build-unix.txt",
        "status": "modified",
        "additions": 10,
        "deletions": 11,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-unix.txt",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/doc/build-unix.txt",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/build-unix.txt?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -25,8 +25,8 @@ Dependencies\n sudo apt-get install build-essential\n sudo apt-get install libgtk2.0-dev\n sudo apt-get install libssl-dev\n-sudo apt-get install libdb4.7-dev\n-sudo apt-get install libdb4.7++-dev\n+sudo apt-get install libdb4.8-dev\n+sudo apt-get install libdb4.8++-dev\n Boost 1.40+: sudo apt-get install libboost-all-dev\n or Boost 1.37: sudo apt-get install libboost1.37-dev\n \n@@ -55,10 +55,10 @@ miniupnpc      New (3-clause) BSD license\n Versions used in this release:\n GCC          4.3.3\n OpenSSL      0.9.8g\n-wxWidgets    2.9.0\n-Berkeley DB  4.7.25.NC\n+wxWidgets    2.9.2\n+Berkeley DB  4.8.30.NC\n Boost        1.37\n-miniupnpc    1.5\n+miniupnpc    1.6\n \n \n Notes\n@@ -74,8 +74,8 @@ symbols, which reduces the executable size by about 90%.\n wxWidgets\n ---------\n cd /usr/local\n-tar -xzvf wxWidgets-2.9.0.tar.gz\n-cd wxWidgets-2.9.0\n+tar -xzvf wxWidgets-2.9.2.tar.gz\n+cd wxWidgets-2.9.2\n mkdir buildgtk\n cd buildgtk\n ../configure --with-gtk --enable-debug --disable-shared --enable-monolithic --without-libpng --disable-svg\n@@ -87,17 +87,16 @@ ldconfig\n \n miniupnpc\n ---------\n-tar -xzvf miniupnpc-1.5.tar.gz\n-cd miniupnpc-1.5\n+tar -xzvf miniupnpc-1.6.tar.gz\n+cd miniupnpc-1.6\n make\n sudo su\n make install\n \n \n Berkeley DB\n -----------\n-You need Berkeley DB 4.7.  Don't use 4.8, the database/log0000* files\n-are incompatible.  If you have to build Berkeley DB yourself:\n+You need Berkeley DB 4.8.  If you have to build Berkeley DB yourself:\n ../dist/configure --enable-cxx\n make\n "
      },
      {
        "sha": "ddf9769055b92e29e5e3e38a63479dbc53f2cf25",
        "filename": "src/makefile.linux-mingw",
        "status": "modified",
        "additions": 10,
        "deletions": 11,
        "changes": 21,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/src/makefile.linux-mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/src/makefile.linux-mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.linux-mingw?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -7,19 +7,19 @@ DEPSDIR:=/usr/i586-mingw32msvc\n USE_UPNP:=0\n \n INCLUDEPATHS= \\\n- -I\"$(DEPSDIR)/boost_1_43_0\" \\\n- -I\"$(DEPSDIR)/db-4.7.25.NC/build_unix\" \\\n+ -I\"$(DEPSDIR)/boost_1_47_0\" \\\n+ -I\"$(DEPSDIR)/db-4.8.30.NC/build_unix\" \\\n  -I\"$(DEPSDIR)/openssl-1.0.0d/include\" \\\n- -I\"$(DEPSDIR)/wxWidgets-2.9.1/lib/gcc_lib/mswud\" \\\n- -I\"$(DEPSDIR)/wxWidgets-2.9.1/include\" \\\n- -I\"$(DEPSDIR)/wxWidgets-2.9.1/lib/wx/include/i586-mingw32msvc-msw-unicode-static-2.9/\" \\\n+ -I\"$(DEPSDIR)/wxWidgets-2.9.2/lib/gcc_lib/mswud\" \\\n+ -I\"$(DEPSDIR)/wxWidgets-2.9.2/include\" \\\n+ -I\"$(DEPSDIR)/wxWidgets-2.9.2/lib/wx/include/i586-mingw32msvc-msw-unicode-static-2.9/\" \\\n  -I\"$(DEPSDIR)\"\n \n LIBPATHS= \\\n- -L\"$(DEPSDIR)/boost_1_43_0/stage/lib\" \\\n- -L\"$(DEPSDIR)/db-4.7.25.NC/build_unix\" \\\n+ -L\"$(DEPSDIR)/boost_1_47_0/stage/lib\" \\\n+ -L\"$(DEPSDIR)/db-4.8.30.NC/build_unix\" \\\n  -L\"$(DEPSDIR)/openssl-1.0.0d\" \\\n- -L\"$(DEPSDIR)/wxWidgets-2.9.1/lib\"\n+ -L\"$(DEPSDIR)/wxWidgets-2.9.2/lib\"\n \n WXLIBS= -l wx_mswu-2.9-i586-mingw32msvc\n \n@@ -32,16 +32,15 @@ LIBS= \\\n  -l ssl \\\n  -l crypto\n \n-DEFS=-D_MT -DWIN32 -D__WXMSW__ -D_WINDOWS -DNOPCH -DUSE_SSL\n+DEFS=-D_MT -DWIN32 -D__WXMSW__ -D_WINDOWS -DNOPCH -DUSE_SSL -DBOOST_THREAD_USE_LIB\n DEBUGFLAGS=-g -D__WXDEBUG__\n CFLAGS=-O2 -w -Wno-invalid-offsetof -Wformat $(DEBUGFLAGS) $(DEFS) $(INCLUDEPATHS)\n HEADERS=headers.h strlcpy.h serialize.h uint256.h util.h key.h bignum.h base58.h \\\n     script.h db.h net.h irc.h keystore.h main.h wallet.h rpc.h uibase.h ui.h noui.h \\\n     crypter.h init.h\n \n ifdef USE_UPNP\n-\tINCLUDEPATHS += -I\"$(DEPSDIR)/upnpc-exe-win32-20110215\"\n-\tLIBPATHS += -L\"$(DEPSDIR)/upnpc-exe-win32-20110215\"\n+\tLIBPATHS += -L\"$(DEPSDIR)/miniupnpc\"\n \tLIBS += -l miniupnpc -l iphlpapi\n \tDEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n endif"
      },
      {
        "sha": "a6654f30a9a50f039102de6234f0310e816c1663",
        "filename": "src/makefile.mingw",
        "status": "modified",
        "additions": 14,
        "deletions": 14,
        "changes": 28,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/src/makefile.mingw",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/src/makefile.mingw",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/makefile.mingw?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -5,40 +5,40 @@\n USE_UPNP:=0\n \n INCLUDEPATHS= \\\n- -I\"C:\\boost-1.43.0-mgw\" \\\n- -I\"C:\\db-4.7.25.NC-mgw\\build_unix\" \\\n+ -I\"C:\\boost-1.47.0-mgw\" \\\n+ -I\"C:\\db-4.8.30.NC-mgw\\build_unix\" \\\n  -I\"C:\\openssl-1.0.0d-mgw\\include\" \\\n- -I\"C:\\wxWidgets-2.9.1-mgw\\lib\\gcc_lib\\mswud\" \\\n- -I\"C:\\wxWidgets-2.9.1-mgw\\include\"\n+ -I\"C:\\wxWidgets-2.9.2-mgw\\lib\\gcc_lib\\mswud\" \\\n+ -I\"C:\\wxWidgets-2.9.2-mgw\\include\"\n \n LIBPATHS= \\\n- -L\"C:\\boost-1.43.0-mgw\\stage\\lib\" \\\n- -L\"C:\\db-4.7.25.NC-mgw\\build_unix\" \\\n+ -L\"C:\\boost-1.47.0-mgw\\stage\\lib\" \\\n+ -L\"C:\\db-4.8.30.NC-mgw\\build_unix\" \\\n  -L\"C:\\openssl-1.0.0d-mgw\" \\\n- -L\"C:\\wxWidgets-2.9.1-mgw\\lib\\gcc_lib\"\n+ -L\"C:\\wxWidgets-2.9.2-mgw\\lib\\gcc_lib\"\n \n WXLIBS= \\\n  -l wxmsw29ud_html -l wxmsw29ud_core -l wxmsw29ud_adv -l wxbase29ud -l wxtiffd -l wxjpegd -l wxpngd -l wxzlibd\n \n LIBS= \\\n- -l boost_system-mgw45-mt-s-1_43 \\\n- -l boost_filesystem-mgw45-mt-s-1_43 \\\n- -l boost_program_options-mgw45-mt-s-1_43 \\\n- -l boost_thread-mgw45-mt-s-1_43 \\\n+ -l boost_system-mgw45-mt-s-1_47 \\\n+ -l boost_filesystem-mgw45-mt-s-1_47 \\\n+ -l boost_program_options-mgw45-mt-s-1_47 \\\n+ -l boost_thread-mgw45-mt-s-1_47 \\\n  -l db_cxx \\\n  -l ssl \\\n  -l crypto\n \n-DEFS=-DWIN32 -D__WXMSW__ -D_WINDOWS -DNOPCH -DUSE_SSL\n+DEFS=-DWIN32 -D__WXMSW__ -D_WINDOWS -DNOPCH -DUSE_SSL -DBOOST_THREAD_USE_LIB\n DEBUGFLAGS=-g -D__WXDEBUG__\n CFLAGS=-mthreads -O2 -w -Wno-invalid-offsetof -Wformat $(DEBUGFLAGS) $(DEFS) $(INCLUDEPATHS)\n HEADERS=headers.h strlcpy.h serialize.h uint256.h util.h key.h bignum.h base58.h \\\n     script.h db.h net.h irc.h keystore.h main.h wallet.h rpc.h uibase.h ui.h noui.h \\\n     init.h crypter.h\n \n ifdef USE_UPNP\n- INCLUDEPATHS += -I\"C:\\upnpc-exe-win32-20110215\"\n- LIBPATHS += -L\"C:\\upnpc-exe-win32-20110215\"\n+ INCLUDEPATHS += -I\"C:\\miniupnpc-1.6-mgw\"\n+ LIBPATHS += -L\"C:\\miniupnpc-1.6-mgw\"\n  LIBS += -l miniupnpc -l iphlpapi\n  DEFS += -DSTATICLIB -DUSE_UPNP=$(USE_UPNP)\n endif"
      },
      {
        "sha": "c498c4010673be3d4130eebaca9a7adad50c9dfc",
        "filename": "src/net.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 12,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4ada906c03111404c29b115ab37afbad92f4cf1/src/net.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4ada906c03111404c29b115ab37afbad92f4cf1/src/net.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.cpp?ref=b4ada906c03111404c29b115ab37afbad92f4cf1",
        "patch": "@@ -12,11 +12,6 @@\n \n #ifdef __WXMSW__\n #include <string.h>\n-// This file can be downloaded as a part of the Windows Platform SDK\n-// and is required for Bitcoin binaries to work properly on versions\n-// of Windows before XP.  If you are doing builds of Bitcoin for\n-// public release, you should uncomment this line.\n-//#include <WSPiApi.h>\n #endif\n \n #ifdef USE_UPNP\n@@ -1079,10 +1074,11 @@ void ThreadMapPort2(void* parg)\n     const char * rootdescurl = 0;\n     const char * multicastif = 0;\n     const char * minissdpdpath = 0;\n+    int error = 0;\n     struct UPNPDev * devlist = 0;\n     char lanaddr[64];\n \n-    devlist = upnpDiscover(2000, multicastif, minissdpdpath, 0);\n+    devlist = upnpDiscover(2000, multicastif, minissdpdpath, 0, 0, &error);\n \n     struct UPNPUrls urls;\n     struct IGDdatas data;\n@@ -1094,14 +1090,9 @@ void ThreadMapPort2(void* parg)\n         char intClient[16];\n         char intPort[6];\n         string strDesc = \"Bitcoin \" + FormatFullVersion();\n-\n-#ifndef __WXMSW__\n-        r = UPNP_AddPortMapping(urls.controlURL, data.first.servicetype,\n-\t                        port, port, lanaddr, strDesc.c_str(), \"TCP\", 0);\n-#else\n         r = UPNP_AddPortMapping(urls.controlURL, data.first.servicetype,\n \t                        port, port, lanaddr, strDesc.c_str(), \"TCP\", 0, \"0\");\n-#endif\n+\n         if(r!=UPNPCOMMAND_SUCCESS)\n             printf(\"AddPortMapping(%s, %s, %s) failed with code %d (%s)\\n\",\n                 port, port, lanaddr, r, strupnperror(r));"
      }
    ]
  },
  {
    "sha": "d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkMmNiYjE0ZDdjNzI1OGUwOGNkNWU2N2Q2NGJmMTYzYTY4ZTFhOGQ4",
    "commit": {
      "author": {
        "name": "Dev Random",
        "email": "c1.github@niftybox.net",
        "date": "2011-08-23T12:33:53Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-23T17:00:34Z"
      },
      "message": "Linux gitian config with separate wxWidgets build",
      "tree": {
        "sha": "32c3256c534f11cea32eaadabb17d6047af3f46c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/32c3256c534f11cea32eaadabb17d6047af3f46c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "b4ada906c03111404c29b115ab37afbad92f4cf1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4ada906c03111404c29b115ab37afbad92f4cf1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b4ada906c03111404c29b115ab37afbad92f4cf1"
      }
    ],
    "stats": {
      "total": 17,
      "additions": 12,
      "deletions": 5
    },
    "files": [
      {
        "sha": "9f03ba1bc4136b493a9f4deb0d57341b5f3284a8",
        "filename": "contrib/gitian.yml",
        "status": "modified",
        "additions": 12,
        "deletions": 5,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8/contrib/gitian.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8/contrib/gitian.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian.yml?ref=d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
        "patch": "@@ -12,12 +12,13 @@ packages:\n - \"libboost-all-dev\"\n - \"libssl-dev\"\n - \"git-core\"\n+- \"unzip\"\n reference_datetime: \"2011-01-30 00:00:00\"\n remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n   \"dir\": \"bitcoin\"\n files:\n-- \"wxWidgets-2.9.2.tar.bz2\"\n+- \"wxWidgets-2.9.2-gitian.zip\"\n - \"miniupnpc-1.6.tar.gz\"\n script: |\n   INSTDIR=\"$HOME/install\"\n@@ -28,11 +29,17 @@ script: |\n   INSTALLPREFIX=$INSTDIR make $MAKEOPTS install\n   cd ..\n   #\n-  tar xjf wxWidgets-2.9.2.tar.bz2\n+  mkdir -p $INSTDIR/bin $INSTDIR/lib/wx $INSTDIR/include\n+  mkdir wxWidgets-2.9.2\n   cd wxWidgets-2.9.2\n-  ./configure --prefix=$INSTDIR --enable-monolithic --disable-shared\n-  perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n-  make $MAKEOPTS install\n+  unzip ../wxWidgets-2.9.2-gitian.zip\n+  cp -a bin/$GBUILD_BITS/wx/config/gtk2-unicode-static-2.9 $INSTDIR/bin/wx-config\n+  for lib in wx_gtk2u wxregexu wxtiff; do\n+    ar rc $INSTDIR/lib/lib${lib}-2.9.a bin/$GBUILD_BITS/$lib/*.o\n+    ranlib $INSTDIR/lib/lib${lib}-2.9.a\n+  done\n+  cp -a include/wx-2.9/* $INSTDIR/include\n+  cp -a bin/$GBUILD_BITS/wx/include $INSTDIR/lib/wx\n   cd ..\n   #\n   cd bitcoin"
      }
    ]
  },
  {
    "sha": "bef41ada0d708053a80c4a141221c8f6efbd1626",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiZWY0MWFkYTBkNzA4MDUzYTgwYzRhMTQxMjIxYzhmNmVmYmQxNjI2",
    "commit": {
      "author": {
        "name": "Dev Random",
        "email": "c1.github@niftybox.net",
        "date": "2011-08-23T12:42:11Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-23T17:00:34Z"
      },
      "message": "Mingw gitian with separate wxWidgets and boost",
      "tree": {
        "sha": "11d9f11a8f3ac55474755828371d9372a8609f53",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/11d9f11a8f3ac55474755828371d9372a8609f53"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/bef41ada0d708053a80c4a141221c8f6efbd1626",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bef41ada0d708053a80c4a141221c8f6efbd1626",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/bef41ada0d708053a80c4a141221c8f6efbd1626",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bef41ada0d708053a80c4a141221c8f6efbd1626/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d2cbb14d7c7258e08cd5e67d64bf163a68e1a8d8"
      }
    ],
    "stats": {
      "total": 43,
      "additions": 26,
      "deletions": 17
    },
    "files": [
      {
        "sha": "9dce28fbac5f92ccb652e0c3893309fb5c4813e7",
        "filename": "contrib/gitian-win32.yml",
        "status": "modified",
        "additions": 26,
        "deletions": 17,
        "changes": 43,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/bef41ada0d708053a80c4a141221c8f6efbd1626/contrib/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/bef41ada0d708053a80c4a141221c8f6efbd1626/contrib/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-win32.yml?ref=bef41ada0d708053a80c4a141221c8f6efbd1626",
        "patch": "@@ -14,18 +14,38 @@ remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n   \"dir\": \"bitcoin\"\n files:\n-- \"wxWidgets-2.9.2.tar.bz2\"\n-- \"boost_1_47_0.tar.bz2\"\n+- \"wxwidgets-win32-2.9.2-gitian.zip\"\n+- \"boost-win32-1.47.0-gitian.zip\"\n - \"openssl-1.0.0d.tar.gz\"\n - \"db-4.8.30.NC.tar.gz\"\n - \"miniupnpc-1.6.tar.gz\"\n script: |\n   #\n-  tar xjf wxWidgets-2.9.2.tar.bz2\n+  mkdir wxWidgets-2.9.2\n   cd wxWidgets-2.9.2\n-  ./configure --host=i586-mingw32msvc --build=i686-linux --disable-shared --enable-monolithic --without-libpng --disable-svg\n-  perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n-  make $MAKEOPTS\n+  mkdir lib\n+  unzip ../wxwidgets-win32-2.9.2-gitian.zip\n+  cd bin/$GBUILD_BITS\n+  for lib in wx_mswu; do\n+    i586-mingw32msvc-ar rc ../../lib/lib${lib}-2.9-i586-mingw32msvc.a $lib/*.o\n+    i586-mingw32msvc-ranlib ../../lib/lib${lib}-2.9-i586-mingw32msvc.a\n+  done\n+  cp -a wx ../../lib\n+  cd ../..\n+  mv include/wx-2.9/wx include\n+  cd ..\n+  #\n+  mkdir boost_1_47_0\n+  cd boost_1_47_0\n+  mkdir -p stage/lib\n+  unzip ../boost-win32-1.47.0-gitian.zip\n+  cd bin/$GBUILD_BITS\n+  for lib in *; do\n+    i586-mingw32msvc-ar rc ../../stage/lib/libboost_${lib}-mt-s.a $lib/*.o\n+    i586-mingw32msvc-ranlib ../../stage/lib/libboost_${lib}-mt-s.a\n+  done\n+  cd ../..\n+  mv include/boost .\n   cd ..\n   #\n   tar xzf openssl-1.0.0d.tar.gz\n@@ -40,17 +60,6 @@ script: |\n   make $MAKEOPTS\n   cd ../..\n   #\n-  tar xjf boost_1_47_0.tar.bz2\n-  cd boost_1_47_0\n-  echo \"using gcc : 4.4 : i586-mingw32msvc-g++\n-        :\n-        <rc>i586-mingw32msvc-windres\n-        <archiver>i586-mingw32msvc-ar\n-  ;\" > user-config.jam\n-  ./bootstrap.sh --without-icu\n-  ./bjam toolset=gcc target-os=windows threadapi=win32 threading=multi --user-config=user-config.jam --without-mpi --without-python -sNO_BZIP2=1 -sNO_ZLIB=1 --layout=tagged --build-type=complete $MAKEOPTS stage\n-  cd ..\n-  #\n   tar xzf miniupnpc-1.6.tar.gz\n   cd miniupnpc-1.6\n   sed 's/dllwrap -k --driver-name gcc/$(DLLWRAP) -k --driver-name $(CC)/' -i Makefile.mingw"
      }
    ]
  },
  {
    "sha": "3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzozYmIyM2U1YzhiMGQ3NjBmNTg3YTZhOTcwODliNTBlOWQ0NWI5YTk1",
    "commit": {
      "author": {
        "name": "Dev Random",
        "email": "c1.github@niftybox.net",
        "date": "2011-08-23T12:43:24Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-23T17:00:34Z"
      },
      "message": "Mingw gitian build with deterministic bitcoin.exe by use of faketime",
      "tree": {
        "sha": "6e2cc32ddd4f5e6c50484c1d3336ab5c79f93069",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6e2cc32ddd4f5e6c50484c1d3336ab5c79f93069"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "bef41ada0d708053a80c4a141221c8f6efbd1626",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/bef41ada0d708053a80c4a141221c8f6efbd1626",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/bef41ada0d708053a80c4a141221c8f6efbd1626"
      }
    ],
    "stats": {
      "total": 6,
      "additions": 5,
      "deletions": 1
    },
    "files": [
      {
        "sha": "963c38139332aa886b27867b71cbf7157c0eb44f",
        "filename": "contrib/gitian-win32.yml",
        "status": "modified",
        "additions": 5,
        "deletions": 1,
        "changes": 6,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95/contrib/gitian-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95/contrib/gitian-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-win32.yml?ref=3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
        "patch": "@@ -9,6 +9,7 @@ packages:\n - \"git-core\"\n - \"unzip\"\n - \"nsis\"\n+- \"faketime\"\n reference_datetime: \"2011-01-30 00:00:00\"\n remotes:\n - \"url\": \"https://github.com/bitcoin/bitcoin.git\"\n@@ -76,7 +77,10 @@ script: |\n   cp $OUTDIR/src/doc/README_windows.txt $OUTDIR/readme.txt\n   cp $OUTDIR/src/COPYING $OUTDIR/license.txt\n   cd src\n-  sed 's/$(DEBUGFLAGS)//' -i makefile.linux-mingw\n+  sed 's/$(DEBUGFLAGS)/-frandom-seed=bitcoin/' -i makefile.linux-mingw\n+  export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n+  export FAKETIME=$REFERENCE_DATETIME\n+  export TZ=UTC\n   make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoin.exe USE_UPNP=1\n   make -f makefile.linux-mingw $MAKEOPTS DEPSDIR=$HOME/build bitcoind.exe USE_UPNP=0\n   i586-mingw32msvc-strip bitcoin.exe"
      }
    ]
  },
  {
    "sha": "e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDBiZWYzYzBhMWEyMDhmNzk1YzFlMjY1ZDZlOGE3MjQ0YWZlNWY2",
    "commit": {
      "author": {
        "name": "Dev Random",
        "email": "c1.github@niftybox.net",
        "date": "2011-08-23T16:46:45Z"
      },
      "committer": {
        "name": "Matt Corallo",
        "email": "matt@bluematt.me",
        "date": "2011-08-25T18:34:41Z"
      },
      "message": "Add Gitian Build descriptors for Boost and wxWidgets.",
      "tree": {
        "sha": "988ff9cdbb07f532e0ce37b82d38f6894e8ea555",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/988ff9cdbb07f532e0ce37b82d38f6894e8ea555"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3bb23e5c8b0d760f587a6a97089b50e9d45b9a95"
      }
    ],
    "stats": {
      "total": 120,
      "additions": 120,
      "deletions": 0
    },
    "files": [
      {
        "sha": "61ea50e4fed266a01622cad5c6a154d40fccca02",
        "filename": "contrib/boost-win32.yml",
        "status": "added",
        "additions": 38,
        "deletions": 0,
        "changes": 38,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/boost-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/boost-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/boost-win32.yml?ref=e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
        "patch": "@@ -0,0 +1,38 @@\n+---\n+name: \"boost\"\n+suites:\n+- \"lucid\"\n+architectures:\n+- \"i386\"\n+packages: \n+- \"mingw32\"\n+- \"faketime\"\n+- \"zip\"\n+reference_datetime: \"2011-01-30 00:00:00\"\n+remotes: []\n+files:\n+- \"boost_1_47_0.tar.bz2\"\n+script: |\n+  TMPDIR=\"$HOME/tmpdir\"\n+  mkdir -p $TMPDIR/bin/$GBUILD_BITS $TMPDIR/include\n+  tar xjf boost_1_47_0.tar.bz2\n+  cd boost_1_47_0\n+  echo \"using gcc : 4.4 : i586-mingw32msvc-g++\n+        :\n+        <rc>i586-mingw32msvc-windres\n+        <archiver>i586-mingw32msvc-ar\n+        <cxxflags>-frandom-seed=boost1\n+  ;\" > user-config.jam\n+  ./bootstrap.sh --without-icu\n+  ./bjam toolset=gcc target-os=windows threadapi=win32 threading=multi variant=release link=static --user-config=user-config.jam --without-mpi --without-python -sNO_BZIP2=1 -sNO_ZLIB=1 --layout=tagged --build-type=complete $MAKEOPTS stage\n+  for lib in chrono date_time exception filesystem graph iostreams math_c99f math_c99l math_c99 math_tr1f math_tr1l math_tr1 prg_exec_monitor program_options random regex serialization signals system test_exec_monitor thread_win32 unit_test_framework wave wserialization; do\n+      mkdir $lib\n+      (cd $lib ; ar xf ../stage/lib/libboost_${lib}-mt-s.a)\n+      mv $lib $TMPDIR/bin/$GBUILD_BITS\n+  done\n+  cp -a boost $TMPDIR/include\n+  cd $TMPDIR\n+  export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n+  export FAKETIME=$REFERENCE_DATETIME\n+  zip -r boost-win32-1.47.0-gitian.zip *\n+  cp boost-win32-1.47.0-gitian.zip $OUTDIR"
      },
      {
        "sha": "3d49d7b35e403b75fe944675e7d305a320f31d6d",
        "filename": "contrib/wxwidgets-win32.yml",
        "status": "added",
        "additions": 40,
        "deletions": 0,
        "changes": 40,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/wxwidgets-win32.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/wxwidgets-win32.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/wxwidgets-win32.yml?ref=e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
        "patch": "@@ -0,0 +1,40 @@\n+---\n+name: \"wxwidgets\"\n+suites:\n+- \"lucid\"\n+architectures:\n+- \"i386\"\n+packages: \n+- \"mingw32\"\n+- \"faketime\"\n+- \"zip\"\n+reference_datetime: \"2011-01-30 00:00:00\"\n+remotes: []\n+files:\n+- \"wxWidgets-2.9.2.tar.bz2\"\n+script: |\n+  INSTDIR=\"$HOME/install\"\n+  TMPDIR=\"$HOME/tmpdir\"\n+  export LIBRARY_PATH=\"$INSTDIR/lib\"\n+  #\n+  tar xjf wxWidgets-2.9.2.tar.bz2\n+  cd wxWidgets-2.9.2\n+  CXXFLAGS=-frandom-seed=wx1 ./configure --host=i586-mingw32msvc --build=i686-linux --prefix=$INSTDIR --disable-shared --enable-monolithic --without-libpng --disable-svg\n+  perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n+  make $MAKEOPTS install\n+  mkdir $TMPDIR\n+  cd $TMPDIR\n+  cp -af $INSTDIR/include .\n+  mkdir -p $TMPDIR/bin/$GBUILD_BITS\n+  cd $TMPDIR/bin/$GBUILD_BITS\n+  cp -af $INSTDIR/lib/wx .\n+  for lib in wx_mswu; do\n+      mkdir $lib\n+      (cd $lib ; ar xf $INSTDIR/lib/lib${lib}-2.9-i586-mingw32msvc.a)\n+  done\n+  chmod -R +w $TMPDIR\n+  cd $TMPDIR\n+  export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n+  export FAKETIME=$REFERENCE_DATETIME\n+  zip -r wxwidgets-win32-2.9.2-gitian.zip *\n+  cp wxwidgets-win32-2.9.2-gitian.zip $OUTDIR"
      },
      {
        "sha": "a2406936d3dc1bacf5e6c9c31b511f22690d7dd8",
        "filename": "contrib/wxwidgets.yml",
        "status": "added",
        "additions": 42,
        "deletions": 0,
        "changes": 42,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/wxwidgets.yml",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e40bef3c0a1a208f795c1e265d6e8a7244afe5f6/contrib/wxwidgets.yml",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/wxwidgets.yml?ref=e40bef3c0a1a208f795c1e265d6e8a7244afe5f6",
        "patch": "@@ -0,0 +1,42 @@\n+---\n+name: \"wxwidgets\"\n+suites:\n+- \"lucid\"\n+architectures:\n+- \"i386\"\n+- \"amd64\"\n+packages: \n+- \"libxxf86vm-dev\"\n+- \"libgtk2.0-dev\"\n+- \"faketime\"\n+- \"zip\"\n+reference_datetime: \"2011-01-30 00:00:00\"\n+remotes: []\n+files:\n+- \"wxWidgets-2.9.2.tar.bz2\"\n+script: |\n+  INSTDIR=\"$HOME/install\"\n+  TMPDIR=\"$HOME/tmpdir\"\n+  export LIBRARY_PATH=\"$INSTDIR/lib\"\n+  #\n+  tar xjf wxWidgets-2.9.2.tar.bz2\n+  cd wxWidgets-2.9.2\n+  ./configure --prefix=$INSTDIR --enable-monolithic --disable-shared\n+  perl -i -p -e \"s/__TIME__/\\\"$REFERENCE_TIME\\\"/;s/__DATE__/\\\"$REFERENCE_DATE\\\"/\" include/wx/chartype.h\n+  make $MAKEOPTS install\n+  mkdir $TMPDIR\n+  cd $TMPDIR\n+  cp -af $INSTDIR/include .\n+  mkdir -p $TMPDIR/bin/$GBUILD_BITS\n+  cd $TMPDIR/bin/$GBUILD_BITS\n+  cp -af $INSTDIR/lib/wx .\n+  for lib in wxtiff wxregexu wx_gtk2u; do\n+      mkdir $lib\n+      (cd $lib ; ar xf $INSTDIR/lib/lib${lib}-2.9.a)\n+  done\n+  chmod -R +w $TMPDIR\n+  cd $TMPDIR\n+  export LD_PRELOAD=/usr/lib/faketime/libfaketime.so.1\n+  export FAKETIME=$REFERENCE_DATETIME\n+  zip -r wxWidgets-2.9.2-gitian.zip *\n+  cp wxWidgets-2.9.2-gitian.zip $OUTDIR"
      }
    ]
  }
]