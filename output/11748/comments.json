[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346216831",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346216831",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346216831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIxNjgzMQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-22T01:39:52Z",
    "updated_at": "2017-11-22T01:39:52Z",
    "author_association": "MEMBER",
    "body": "> blockchain.cpp has low unit test coverage.\r\n\r\nIs that statement only about the unit tests as such, or does it include coverage from the RPC functional tests? As rpc/blockchain.cpp is an externally visible RPC interface implementation, I would expect most of its testing to happen through functional tests. Of course, I'm not opposed to improving unit tests too, where possible.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346216831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346217384",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346217384",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346217384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIxNzM4NA==",
    "user": {
      "login": "merehap",
      "id": 180403,
      "node_id": "MDQ6VXNlcjE4MDQwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/180403?u=2c0bd79b8fad007d4af23ed9669f5ed458defb3e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merehap",
      "html_url": "https://github.com/merehap",
      "followers_url": "https://api.github.com/users/merehap/followers",
      "following_url": "https://api.github.com/users/merehap/following{/other_user}",
      "gists_url": "https://api.github.com/users/merehap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merehap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merehap/subscriptions",
      "organizations_url": "https://api.github.com/users/merehap/orgs",
      "repos_url": "https://api.github.com/users/merehap/repos",
      "events_url": "https://api.github.com/users/merehap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merehap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-22T01:43:13Z",
    "updated_at": "2017-11-22T01:43:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@sipa I've only checked the results of \"make cov\". I don't know anything about the RPC functional test coverage.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346217384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346232467",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346232467",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346232467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjIzMjQ2Nw==",
    "user": {
      "login": "merehap",
      "id": 180403,
      "node_id": "MDQ6VXNlcjE4MDQwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/180403?u=2c0bd79b8fad007d4af23ed9669f5ed458defb3e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merehap",
      "html_url": "https://github.com/merehap",
      "followers_url": "https://api.github.com/users/merehap/followers",
      "following_url": "https://api.github.com/users/merehap/following{/other_user}",
      "gists_url": "https://api.github.com/users/merehap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merehap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merehap/subscriptions",
      "organizations_url": "https://api.github.com/users/merehap/orgs",
      "repos_url": "https://api.github.com/users/merehap/repos",
      "events_url": "https://api.github.com/users/merehap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merehap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-22T03:25:44Z",
    "updated_at": "2017-11-22T07:42:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm unable to reproduce locally the errors that Travis is seeing with \"make -j3 check VERBOSE=1\".\r\n\r\nIt appears that either CChain.SetTip() or GetDifficulty() has undefined behavior in certain cases, such that my tests succeed on certain build targets but fail on others. For my new test get_difficulty_for_null_block_index, GetDifficulty() is returning 0.0 for Travis jobs X.4 and X.6, but returning the correct value of 0.00402 for all of the other Travis Jobs.\r\n\r\nI'll keep looking.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346232467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346400758",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346400758",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346400758,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjQwMDc1OA==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-22T16:22:31Z",
    "updated_at": "2017-11-22T16:22:31Z",
    "author_association": "MEMBER",
    "body": "We have two targets for coverage builds: `test_bitcoin` (just the unit tests) and `total` (including functional tests). See for example here: https://marcofalke.github.io/btc_cov/",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346400758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346506096",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346506096",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346506096,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjUwNjA5Ng==",
    "user": {
      "login": "merehap",
      "id": 180403,
      "node_id": "MDQ6VXNlcjE4MDQwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/180403?u=2c0bd79b8fad007d4af23ed9669f5ed458defb3e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merehap",
      "html_url": "https://github.com/merehap",
      "followers_url": "https://api.github.com/users/merehap/followers",
      "following_url": "https://api.github.com/users/merehap/following{/other_user}",
      "gists_url": "https://api.github.com/users/merehap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merehap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merehap/subscriptions",
      "organizations_url": "https://api.github.com/users/merehap/orgs",
      "repos_url": "https://api.github.com/users/merehap/repos",
      "events_url": "https://api.github.com/users/merehap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merehap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-23T00:11:34Z",
    "updated_at": "2017-11-23T00:11:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke It looks like the test coverage with functional tests included is almost 70%, but is still missing some functions entirely. For the time being I'll only be working on unit test coverage though.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346506096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346507262",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-346507262",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 346507262,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjUwNzI2Mg==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-23T00:21:01Z",
    "updated_at": "2017-11-23T00:21:08Z",
    "author_association": "MEMBER",
    "body": "@merehap That is fine. Unit test run way quicker and are probably run more often (compared to the extended functional tests).",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/346507262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348000981",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-348000981",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 348000981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0ODAwMDk4MQ==",
    "user": {
      "login": "merehap",
      "id": 180403,
      "node_id": "MDQ6VXNlcjE4MDQwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/180403?u=2c0bd79b8fad007d4af23ed9669f5ed458defb3e&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merehap",
      "html_url": "https://github.com/merehap",
      "followers_url": "https://api.github.com/users/merehap/followers",
      "following_url": "https://api.github.com/users/merehap/following{/other_user}",
      "gists_url": "https://api.github.com/users/merehap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merehap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merehap/subscriptions",
      "organizations_url": "https://api.github.com/users/merehap/orgs",
      "repos_url": "https://api.github.com/users/merehap/repos",
      "events_url": "https://api.github.com/users/merehap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merehap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-29T21:24:42Z",
    "updated_at": "2017-11-29T21:24:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MarcoFalke @sipa As far as I know I've done everything needed for this PR. Is there anything else I need to do to move this along? Or just wait until someone else has time to review and test this?\r\n\r\nThanks! And apologies if I'm being overly impatient.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/348000981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353718293",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-353718293",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 353718293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcxODI5Mw==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T10:15:44Z",
    "updated_at": "2017-12-23T10:15:44Z",
    "author_association": "MEMBER",
    "body": "utACK 3e1ee31, thanks for adding tests.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353718293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353718429",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#issuecomment-353718429",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/11748",
    "id": 353718429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzcxODQyOQ==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-23T10:18:55Z",
    "updated_at": "2017-12-23T10:18:55Z",
    "author_association": "MEMBER",
    "body": "Regarding future direction, I think it's ok to add unit tests for utility functions used by RPC functions, such as this `GetDifficulty`. It is not directly testable externally.\r\n\r\nBut for really testing RPC functions, it is better to do so in the functional test framework than in unit tests as this directly tests API usability.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/353718429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152613717",
    "pull_request_review_id": 78502540,
    "id": 152613717,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjYxMzcxNw==",
    "diff_hunk": "@@ -0,0 +1,118 @@\n+#include <boost/test/unit_test.hpp>\n+\n+#include \"stdlib.h\"\n+\n+#include \"rpc/blockchain.cpp\"\n+#include \"test/test_bitcoin.h\"\n+\n+/* Equality between doubles is imprecise. Comparison should be done\n+ * with a small threshold of tolerance, rather than exact equality.\n+ */\n+bool DoubleEquals(double a, double b, double epsilon)\n+{\n+    return std::abs(a - b) < epsilon;\n+}\n+\n+CBlockIndex CreateBlockIndexWithNbits(uint32_t nbits)\n+{\n+    CBlockIndex block_index;\n+    block_index.nHeight = 46367;\n+    block_index.nTime = 1269211443;\n+    block_index.nBits = nbits;\n+    return block_index;\n+}\n+\n+CChain CreateChainWithNbits(uint32_t nbits)\n+{\n+    CBlockIndex block_index = CreateBlockIndexWithNbits(nbits);\n+    CChain chain;\n+    chain.SetTip(&block_index);",
    "path": "src/test/blockchain_tests.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "3e1ee310437f4c93113f6121425beffdc94702c2",
    "original_commit_id": "9992424a129b8881c2d34c2ca7c1fdceeb32e71c",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "That pointer will most likely point to something unwanted after `return` in the line below.",
    "created_at": "2017-11-22T16:20:47Z",
    "updated_at": "2017-11-22T23:49:36Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#discussion_r152613717",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11748",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152613717"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11748#discussion_r152613717"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11748"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152613717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 29,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152704894",
    "pull_request_review_id": 78607261,
    "id": 152704894,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDE1MjcwNDg5NA==",
    "diff_hunk": "@@ -0,0 +1,118 @@\n+#include <boost/test/unit_test.hpp>\n+\n+#include \"stdlib.h\"\n+\n+#include \"rpc/blockchain.cpp\"\n+#include \"test/test_bitcoin.h\"\n+\n+/* Equality between doubles is imprecise. Comparison should be done\n+ * with a small threshold of tolerance, rather than exact equality.\n+ */\n+bool DoubleEquals(double a, double b, double epsilon)\n+{\n+    return std::abs(a - b) < epsilon;\n+}\n+\n+CBlockIndex CreateBlockIndexWithNbits(uint32_t nbits)\n+{\n+    CBlockIndex block_index;\n+    block_index.nHeight = 46367;\n+    block_index.nTime = 1269211443;\n+    block_index.nBits = nbits;\n+    return block_index;\n+}\n+\n+CChain CreateChainWithNbits(uint32_t nbits)\n+{\n+    CBlockIndex block_index = CreateBlockIndexWithNbits(nbits);\n+    CChain chain;\n+    chain.SetTip(&block_index);",
    "path": "src/test/blockchain_tests.cpp",
    "position": null,
    "original_position": 29,
    "commit_id": "3e1ee310437f4c93113f6121425beffdc94702c2",
    "original_commit_id": "9992424a129b8881c2d34c2ca7c1fdceeb32e71c",
    "user": {
      "login": "merehap",
      "id": 180403,
      "node_id": "MDQ6VXNlcjE4MDQwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/180403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/merehap",
      "html_url": "https://github.com/merehap",
      "followers_url": "https://api.github.com/users/merehap/followers",
      "following_url": "https://api.github.com/users/merehap/following{/other_user}",
      "gists_url": "https://api.github.com/users/merehap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/merehap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/merehap/subscriptions",
      "organizations_url": "https://api.github.com/users/merehap/orgs",
      "repos_url": "https://api.github.com/users/merehap/repos",
      "events_url": "https://api.github.com/users/merehap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/merehap/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yep, you're right! That was the cause of the non-deterministic test failures. Please forgive my C++ inexperience. Fixed.",
    "created_at": "2017-11-23T00:09:19Z",
    "updated_at": "2017-11-23T00:09:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/11748#discussion_r152704894",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11748",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152704894"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/11748#discussion_r152704894"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/11748"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/152704894/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 29,
    "side": "RIGHT",
    "in_reply_to_id": 152613717
  }
]