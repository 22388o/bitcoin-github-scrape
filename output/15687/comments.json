[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477725049",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-477725049",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 477725049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NzcyNTA0OQ==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-28T18:48:06Z",
    "updated_at": "2019-05-29T10:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/477725049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480239739",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-480239739",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 480239739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MDIzOTczOQ==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-05T11:19:20Z",
    "updated_at": "2019-04-05T11:19:20Z",
    "author_association": "MEMBER",
    "body": "Lowered the buffer size for the shasum function to 16Kb and hoisted that value to a constant. Rebased.\r\n\r\nThis should be ready for review.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/480239739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502688526",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-502688526",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 502688526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMjY4ODUyNg==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-17T13:45:39Z",
    "updated_at": "2019-06-17T13:45:39Z",
    "author_association": "MEMBER",
    "body": "Looks good to me\r\nACK 96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/502688526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507829580",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-507829580",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 507829580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzgyOTU4MA==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-02T20:19:57Z",
    "updated_at": "2019-07-08T10:11:35Z",
    "author_association": "MEMBER",
    "body": "Linter is complaining about unused code because it is in the commented-out tests and Appveyor seems to keep file perms at 666. Reworking.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/507829580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509165722",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-509165722",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 509165722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTE2NTcyMg==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-08T10:10:33Z",
    "updated_at": "2019-07-08T10:10:33Z",
    "author_association": "MEMBER",
    "body": "Thanks for the review @laanwj and @MarcoFalke. I've pushed rebased commits that address your feedback. Are you able to rereview/retest?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509165722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509214110",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-509214110",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 509214110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTIxNDExMA==",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?u=13b19d1ff2f5f914e180c41418f451a4ba6f8bd1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-08T12:56:46Z",
    "updated_at": "2019-07-08T12:56:46Z",
    "author_association": "MEMBER",
    "body": "code review ACK 7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509214110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509297462",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#issuecomment-509297462",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/15687",
    "id": 509297462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTI5NzQ2Mg==",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?u=3f68150a5f30acd541d1ed279376cd20b78046b1&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-08T16:29:58Z",
    "updated_at": "2019-07-08T16:29:58Z",
    "author_association": "MEMBER",
    "body": "The lone Travis failure appears to be an unrelated `wait_until` timeout > 60 sec in `feature_block.py`.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/509297462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270115880",
    "pull_request_review_id": 220167521,
    "id": 270115880,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDExNTg4MA==",
    "diff_hunk": "@@ -36,8 +39,29 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, \"regtest\", \"wallets\", \"wallet.dat\")",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 22,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "6d9b033e3d2261d753f29b8c970583978c595430",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Use single quotes here like the rest of the file.",
    "created_at": "2019-03-28T17:26:08Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270115880",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270115880"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270115880"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270115880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 43,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194549",
    "pull_request_review_id": 220267894,
    "id": 270194549,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDE5NDU0OQ==",
    "diff_hunk": "@@ -36,8 +39,29 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, \"regtest\", \"wallets\", \"wallet.dat\")\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        ba = bytearray(128*1024)\n+        mv = memoryview(ba)\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_timestamp_comparison(self, new, old):\n+        result = 'unchanged' if new == old else 'increased! **FIX ME**'\n+        self.log.info('Wallet file timestamp {0}\\n'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 40,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "6d9b033e3d2261d753f29b8c970583978c595430",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit: instead of logging the timestamps and whether they changed, you might use `assert_equal` (or explicitly comment it out, if it currently fails)",
    "created_at": "2019-03-28T20:52:32Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270194549",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194549"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270194549"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 61,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194858",
    "pull_request_review_id": 220268348,
    "id": 270194858,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MDE5NDg1OA==",
    "diff_hunk": "@@ -46,9 +70,23 @@ def run_test(self):\n         self.assert_raises_tool_error('Error loading wallet.dat. Is wallet being used by other process?', '-wallet=wallet.dat', 'info')\n         self.assert_raises_tool_error('Error: no wallet file at nonexistent.dat', '-wallet=nonexistent.dat', 'info')\n \n-        # stop the node to close the wallet to call info command\n+        # Stop the node to close the wallet to call the info command.\n+        self.log.info('Stop node\\n')\n         self.stop_node(0)\n \n+        # Wallet tool info should work with wallet file permissions set to read-only.\n+        # This needs to be fixed.\n+        self.log.info('Set wallet file permissions to read-only')\n+        os.chmod(self.wallet_path(), 0o400)\n+        self.log.info('Call wallet tool info')\n+        self.assert_raises_tool_error('Error loading . Is wallet being used by another process?', 'info')\n+        self.log.info('Wallet tool info command raises loading error! **FIX ME**')",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 62,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "6d9b033e3d2261d753f29b8c970583978c595430",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "TODO's shouldn't be logged, but added as inline comments",
    "created_at": "2019-03-28T20:53:28Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270194858",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194858"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r270194858"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/270194858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 83,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271350408",
    "pull_request_review_id": 221716094,
    "id": 271350408,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM1MDQwOA==",
    "diff_hunk": "@@ -36,8 +39,29 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, \"regtest\", \"wallets\", \"wallet.dat\")\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        ba = bytearray(128*1024)\n+        mv = memoryview(ba)\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_timestamp_comparison(self, new, old):\n+        result = 'unchanged' if new == old else 'increased! **FIX ME**'\n+        self.log.info('Wallet file timestamp {0}\\n'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 40,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "6d9b033e3d2261d753f29b8c970583978c595430",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for reviewing! I added both logs and assertions with the logs serving as a sanity check for the assertions. Based on your feedback, I switched the assertions from passing ones that need to be inverted, to failing ones that need to be uncommented.",
    "created_at": "2019-04-02T14:59:30Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r271350408",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271350408"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r271350408"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271350408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 61,
    "side": "RIGHT",
    "in_reply_to_id": 270194549
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271351032",
    "pull_request_review_id": 221716865,
    "id": 271351032,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI3MTM1MTAzMg==",
    "diff_hunk": "@@ -46,9 +70,23 @@ def run_test(self):\n         self.assert_raises_tool_error('Error loading wallet.dat. Is wallet being used by other process?', '-wallet=wallet.dat', 'info')\n         self.assert_raises_tool_error('Error: no wallet file at nonexistent.dat', '-wallet=nonexistent.dat', 'info')\n \n-        # stop the node to close the wallet to call info command\n+        # Stop the node to close the wallet to call the info command.\n+        self.log.info('Stop node\\n')\n         self.stop_node(0)\n \n+        # Wallet tool info should work with wallet file permissions set to read-only.\n+        # This needs to be fixed.\n+        self.log.info('Set wallet file permissions to read-only')\n+        os.chmod(self.wallet_path(), 0o400)\n+        self.log.info('Call wallet tool info')\n+        self.assert_raises_tool_error('Error loading . Is wallet being used by another process?', 'info')\n+        self.log.info('Wallet tool info command raises loading error! **FIX ME**')",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 62,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "6d9b033e3d2261d753f29b8c970583978c595430",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done. Waiting for Travis CI to pass locally and then will push a rebased update.",
    "created_at": "2019-04-02T15:00:34Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r271351032",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271351032"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r271351032"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/271351032/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 83,
    "side": "RIGHT",
    "in_reply_to_id": 270194858
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/294304432",
    "pull_request_review_id": 250503590,
    "id": 294304432,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5NDMwNDQzMg==",
    "diff_hunk": "@@ -87,15 +161,32 @@ def run_test(self):\n             Address Book: 0\n         ''')\n         self.assert_tool_output(out, '-wallet=foo', 'create')\n-\n+        shasum_after = self.wallet_shasum()",
    "path": "test/functional/tool_wallet.py",
    "position": 149,
    "original_position": 137,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I understand surrounding the `info` methods, but what is the logic here? creating a wallet that already exists should leave it untouched?",
    "created_at": "2019-06-17T13:44:37Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r294304432",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/294304432"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r294304432"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/294304432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 165,
    "original_line": 165,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296843161",
    "pull_request_review_id": 253566459,
    "id": 296843161,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Njg0MzE2MQ==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 25,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style-nit: Could be a \"const\" member, set in the first line of `run_test`?\r\n\r\n```py\r\nself.wallet_path = os.path.join(...",
    "created_at": "2019-06-24T17:55:21Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296843161",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296843161"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296843161"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296843161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 46,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846078",
    "pull_request_review_id": 253566459,
    "id": 296846078,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Njg0NjA3OA==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 37,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "style-nit: Is it required to log the timestamp in a simple getter method? I'd prefer if it was logged by the caller or just asserted (Looks like you already do both of that)",
    "created_at": "2019-06-24T18:02:16Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296846078",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846078"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296846078"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 58,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846588",
    "pull_request_review_id": 253566459,
    "id": 296846588,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Njg0NjU4OA==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_permissions(self):\n+        result = oct(os.lstat(self.wallet_path()).st_mode)[-3:]\n+        self.log.info('Verifying wallet file permissions: {}'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 42,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "You aren't verifying anything here, it seems. I'd prefer if this was just a simple getter util method and the caller logs/asserts if appropriate.",
    "created_at": "2019-06-24T18:03:32Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296846588",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846588"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296846588"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296846588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296847292",
    "pull_request_review_id": 253566459,
    "id": 296847292,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Njg0NzI5Mg==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_permissions(self):\n+        result = oct(os.lstat(self.wallet_path()).st_mode)[-3:]\n+        self.log.info('Verifying wallet file permissions: {}'.format(result))\n+\n+    def log_wallet_timestamp_comparison(self, old, new):\n+        result = 'unchanged' if new == old else 'increased!'\n+        self.log.info('Wallet file timestamp {}\\n'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 46,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This looks like a test-dev debug statement. Maybe use `self.log.debug`?",
    "created_at": "2019-06-24T18:05:18Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296847292",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296847292"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296847292"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296847292/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 67,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296848599",
    "pull_request_review_id": 253566459,
    "id": 296848599,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5Njg0ODU5OQ==",
    "diff_hunk": "@@ -59,12 +101,32 @@ def run_test(self):\n             Address Book: 3\n         ''')\n         self.assert_tool_output(out, '-wallet=wallet.dat', 'info')\n-\n-        # mutate the wallet to check the info command output changes accordingly\n+        shasum_after = self.wallet_shasum()\n+        timestamp_after = self.wallet_timestamp(' after info')\n+        self.log.info('Setting wallet file permissions to read/write')\n+        os.chmod(self.wallet_path(), stat.S_IRUSR | stat.S_IWUSR) # Set wallet permissions to 600\n+        self.log_wallet_permissions()\n+        assert_equal(shasum_before, shasum_after)\n+        self.log.info('Wallet file shasum unchanged')\n+        self.log_wallet_timestamp_comparison(timestamp_before, timestamp_after)\n+        #\n+        # TODO: Wallet tool info should not write to the wallet file.\n+        # This assertion should be uncommented and succeed:\n+        # assert_equal(timestamp_before, timestamp_after)\n+\n+        # Mutate the wallet to verify that the info command output changes accordingly.\n+        self.log.info('Starting node')\n         self.start_node(0)\n+\n+        self.log.info('Generating transaction to mutate wallet')\n         self.nodes[0].generate(1)\n+\n+        self.log.info('Stopping node\\n')\n         self.stop_node(0)\n \n+        self.log.info('Calling wallet tool info after generating a transaction')\n+        shasum_before = self.wallet_shasum()",
    "path": "test/functional/tool_wallet.py",
    "position": 114,
    "original_position": 106,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Looks like you are overwriting a previous symbol with the same name. I think it is clearer to split the tests into smaller ones, so that overwriting does not happen. I.e.\r\n\r\n```py\r\n  self run_test(self):\r\n   self.run_test_foo_bar()\r\n   self.run_test_gen_tx()\r\n\r\n  def run_test_foo_bar(self):\r\n    assert True\r\n\r\n...",
    "created_at": "2019-06-24T18:08:41Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296848599",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296848599"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r296848599"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/296848599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 125,
    "original_line": 125,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299653789",
    "pull_request_review_id": 257110066,
    "id": 299653789,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1Mzc4OQ==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 25,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2019-07-02T19:43:05Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299653789",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299653789"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299653789"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299653789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 46,
    "side": "RIGHT",
    "in_reply_to_id": 296843161
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654108",
    "pull_request_review_id": 257110463,
    "id": 299654108,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1NDEwOA==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 37,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2019-07-02T19:43:58Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299654108",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654108"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299654108"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 58,
    "side": "RIGHT",
    "in_reply_to_id": 296846078
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654541",
    "pull_request_review_id": 257111022,
    "id": 299654541,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1NDU0MQ==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_permissions(self):\n+        result = oct(os.lstat(self.wallet_path()).st_mode)[-3:]\n+        self.log.info('Verifying wallet file permissions: {}'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 42,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2019-07-02T19:45:16Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299654541",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654541"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299654541"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299654541/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 63,
    "side": "RIGHT",
    "in_reply_to_id": 296846588
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655015",
    "pull_request_review_id": 257111583,
    "id": 299655015,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1NTAxNQ==",
    "diff_hunk": "@@ -36,8 +42,32 @@ def assert_tool_output(self, output, *args):\n         assert_equal(stderr, '')\n         assert_equal(stdout, output)\n \n-    def run_test(self):\n+    def wallet_path(self):\n+        return os.path.join(self.nodes[0].datadir, 'regtest', 'wallets', 'wallet.dat')\n+\n+    def wallet_shasum(self):\n+        h = hashlib.sha1()\n+        mv = memoryview(bytearray(BUFFER_SIZE))\n+        with open(self.wallet_path(), 'rb', buffering=0) as f:\n+            for n in iter(lambda : f.readinto(mv), 0):\n+                h.update(mv[:n])\n+        return h.hexdigest()\n+\n+    def wallet_timestamp(self, op):\n+        timestamp = os.path.getmtime(self.wallet_path())\n+        self.log.info('Wallet file timestamp {0}: {1}'.format(op, timestamp))\n+        return timestamp\n \n+    def log_wallet_permissions(self):\n+        result = oct(os.lstat(self.wallet_path()).st_mode)[-3:]\n+        self.log.info('Verifying wallet file permissions: {}'.format(result))\n+\n+    def log_wallet_timestamp_comparison(self, old, new):\n+        result = 'unchanged' if new == old else 'increased!'\n+        self.log.info('Wallet file timestamp {}\\n'.format(result))",
    "path": "test/functional/tool_wallet.py",
    "position": null,
    "original_position": 46,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done, switched to loglevel `debug` for all the timestamp and shasum logging.",
    "created_at": "2019-07-02T19:46:26Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299655015",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655015"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299655015"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 67,
    "side": "RIGHT",
    "in_reply_to_id": 296847292
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655199",
    "pull_request_review_id": 257111799,
    "id": 299655199,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1NTE5OQ==",
    "diff_hunk": "@@ -59,12 +101,32 @@ def run_test(self):\n             Address Book: 3\n         ''')\n         self.assert_tool_output(out, '-wallet=wallet.dat', 'info')\n-\n-        # mutate the wallet to check the info command output changes accordingly\n+        shasum_after = self.wallet_shasum()\n+        timestamp_after = self.wallet_timestamp(' after info')\n+        self.log.info('Setting wallet file permissions to read/write')\n+        os.chmod(self.wallet_path(), stat.S_IRUSR | stat.S_IWUSR) # Set wallet permissions to 600\n+        self.log_wallet_permissions()\n+        assert_equal(shasum_before, shasum_after)\n+        self.log.info('Wallet file shasum unchanged')\n+        self.log_wallet_timestamp_comparison(timestamp_before, timestamp_after)\n+        #\n+        # TODO: Wallet tool info should not write to the wallet file.\n+        # This assertion should be uncommented and succeed:\n+        # assert_equal(timestamp_before, timestamp_after)\n+\n+        # Mutate the wallet to verify that the info command output changes accordingly.\n+        self.log.info('Starting node')\n         self.start_node(0)\n+\n+        self.log.info('Generating transaction to mutate wallet')\n         self.nodes[0].generate(1)\n+\n+        self.log.info('Stopping node\\n')\n         self.stop_node(0)\n \n+        self.log.info('Calling wallet tool info after generating a transaction')\n+        shasum_before = self.wallet_shasum()",
    "path": "test/functional/tool_wallet.py",
    "position": 114,
    "original_position": 106,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2019-07-02T19:46:56Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299655199",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655199"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299655199"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299655199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 125,
    "original_line": 125,
    "side": "RIGHT",
    "in_reply_to_id": 296848599
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299656330",
    "pull_request_review_id": 257113217,
    "id": 299656330,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDI5OTY1NjMzMA==",
    "diff_hunk": "@@ -87,15 +161,32 @@ def run_test(self):\n             Address Book: 0\n         ''')\n         self.assert_tool_output(out, '-wallet=foo', 'create')\n-\n+        shasum_after = self.wallet_shasum()",
    "path": "test/functional/tool_wallet.py",
    "position": 149,
    "original_position": 137,
    "commit_id": "7195fa792fcc19e9c064c4e38814c3b46a210b34",
    "original_commit_id": "96e69a2ace8b0db496a0c429f05ccd5cb2f39c94",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, updated test name and logging to clarify that a bit. Happy to remove if you reckon it isn't a useful safeguard while fixing the issue.",
    "created_at": "2019-07-02T19:50:00Z",
    "updated_at": "2019-07-08T11:24:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299656330",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299656330"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/15687#discussion_r299656330"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/15687"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/299656330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 165,
    "original_line": 165,
    "side": "RIGHT",
    "in_reply_to_id": 294304432
  }
]