[
  {
    "sha": "c7654af6f830577a54df12b5d65df93532db0dc2",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjNzY1NGFmNmY4MzA1NzdhNTRkZjEyYjVkNjVkZjkzNTMyZGIwZGMy",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-09T16:11:54Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-09T16:29:49Z"
      },
      "message": "doc: address pr17578 review feedback\n\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r363975411\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r363969721\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r362703553",
      "tree": {
        "sha": "6b994f86bd2865258818782318ffe6d6b7c43a93",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/6b994f86bd2865258818782318ffe6d6b7c43a93"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/c7654af6f830577a54df12b5d65df93532db0dc2",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl4XVT4ACgkQT1chs9Dj\nkh2QPw/6Ar50mkTft7soVjgvMc6T7S86Uw40qjhzJdMXHd4bsbMQGqisH68Mv6nY\nrVwXT2GaT3E6X4iuco+V168zLrS1DTwQccY6G5D7gLkP1AHABxTFKdnlDtEcm39m\ne6Pfkm4Ju1eMWIVAlBjhPr5tmVxeh+GQE4GTjZIGb9Jy0G63fRIOIGNgjyUiB5N3\nS9BgXjp25fhjgd4LUrZS/QzD9s+fgc2E5gjfe9oAhpzaYSfQDSbXHbV/Le3gGk6d\nreDgV0lPV0UnxCnSkj1M3Vb2IQQfgYmCvZ4jXLrHfyedEZ8RdAsFkkXn679BVvz2\nwY+WOoOamYj+S1Qo0Hy346NU0mE0292BITtAK4FsOJDhyw585VBp84gVXMutdrmM\n+kmWZ70ORdLAVFubzhTx04iCM5di/zexCtv8Jnusj7KjM0e/NdonVTtr6x37N8We\nzyML3Dij5teQ3hUYgt8AlOWBXHm1LZ/orovFGprdigNMrR+C3yxU0K6ZPHWckIkS\nIkk+OVMUV+HiRHq42Yjow78Do3cMwtn86CdDB9W6guFb+1mhXBV3j5X7PN7/R4zw\nDjL45fqgGl/wveV1hjo0FfqB3Kw7ncCAHGpTISFX1glEgf91qR22jIyESWN+p2Zb\nmXS0zIoBuI/ftMw3jpIIxyBg/GNRxZWIZNJ03OQvCmMkpNSDsyE=\n=E0JV\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIPqLZr1iKuaYZmKxrHxjKiakTZoxTUb3D1aPmpLWn0/kCP/wEB2dyjcsYHIs\nFFRhlw2tW1kI8QReF1VC8Ai2y33jbY/nGgCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wELmpADa9SmeTqBNsjab7p0cI\n8QReF1VB8Ai+kdFLfe7h+gCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQyORi94MjdnHLYdy/OjVEHgjxIDuM\nlPL+TM8b5C5ddORvy+yVOuqmpaD6EQJQDcXjTn0mCPEEXhdVP/AI4IR2itdoQrYA\ng9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1w\ncy5vcmfwEOD8h4Agf5dzbSKE1VBSWUQI8QReF1VB8Ajc6UEwhSGZewCD3+MNLvkM\njiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIuY2F0YWxsYXh5LmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 6b994f86bd2865258818782318ffe6d6b7c43a93\nparent 6196e930018181301b5972842ae384ea4288ff34\nauthor Jon Atack <jon@atack.com> 1578586314 +0100\ncommitter Jon Atack <jon@atack.com> 1578587389 +0100\n\ndoc: address pr17578 review feedback\n\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r363975411\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r363969721\n- https://github.com/bitcoin/bitcoin/pull/17578#discussion_r362703553\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c7654af6f830577a54df12b5d65df93532db0dc2",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/c7654af6f830577a54df12b5d65df93532db0dc2",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c7654af6f830577a54df12b5d65df93532db0dc2/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6196e930018181301b5972842ae384ea4288ff34",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6196e930018181301b5972842ae384ea4288ff34",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6196e930018181301b5972842ae384ea4288ff34"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 5,
      "deletions": 6
    },
    "files": [
      {
        "sha": "90156d608152d9ed7ae53ec09841d0c2246f5d17",
        "filename": "doc/release-notes-17578.md",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c7654af6f830577a54df12b5d65df93532db0dc2/doc/release-notes-17578.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c7654af6f830577a54df12b5d65df93532db0dc2/doc/release-notes-17578.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-17578.md?ref=c7654af6f830577a54df12b5d65df93532db0dc2",
        "patch": "@@ -4,5 +4,5 @@ Deprecated or removed RPCs\n - The `getaddressinfo` RPC `labels` field now returns an array of label name\n   strings. Previously, it returned an array of JSON objects containing `name` and\n   `purpose` key/value pairs, which is now deprecated and will be removed in\n-  0.21. To re-enable the previous behavior, launch bitcoind with\n+  0.21. To re-enable the previous behavior, launch with\n   `-deprecatedrpc=labelspurpose`."
      },
      {
        "sha": "e14e9157ca022092baa9d851f116a8bc76d60ecd",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 3,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c7654af6f830577a54df12b5d65df93532db0dc2/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c7654af6f830577a54df12b5d65df93532db0dc2/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=c7654af6f830577a54df12b5d65df93532db0dc2",
        "patch": "@@ -3843,12 +3843,11 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n     // associated with an address, but we return an array so the API remains\n     // stable if we allow multiple labels to be associated with an address in\n     // the future.\n-    //\n-    // DEPRECATED: The previous behavior of returning an array containing a JSON\n-    // object of `name` and `purpose` key/value pairs has been deprecated.\n     UniValue labels(UniValue::VARR);\n     std::map<CTxDestination, CAddressBookData>::iterator mi = pwallet->mapAddressBook.find(dest);\n     if (mi != pwallet->mapAddressBook.end()) {\n+        // DEPRECATED: The previous behavior of returning an array containing a\n+        // JSON object of `name` and `purpose` key/value pairs is deprecated.\n         if (pwallet->chain().rpcEnableDeprecated(\"labelspurpose\")) {\n             labels.push_back(AddressBookDataToJSON(mi->second, true));\n         } else {"
      },
      {
        "sha": "903f5536b91cc31ce9c43bb5ac3e27cd9cdb0631",
        "filename": "test/functional/rpc_getaddressinfo_labels_purpose_deprecation.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/c7654af6f830577a54df12b5d65df93532db0dc2/test/functional/rpc_getaddressinfo_labels_purpose_deprecation.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/c7654af6f830577a54df12b5d65df93532db0dc2/test/functional/rpc_getaddressinfo_labels_purpose_deprecation.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_getaddressinfo_labels_purpose_deprecation.py?ref=c7654af6f830577a54df12b5d65df93532db0dc2",
        "patch": "@@ -4,8 +4,8 @@\n # file COPYING or http://www.opensource.org/licenses/mit-license.php.\n \"\"\"\n Test deprecation of RPC getaddressinfo `labels` returning an array\n-containing a JSON hash of `name` and purpose` key-value pairs. It now\n-returns an array of label names.\n+containing a JSON object of `name` and purpose` key-value pairs. It now\n+returns an array containing only the label name.\n \n \"\"\"\n from test_framework.test_framework import BitcoinTestFramework"
      }
    ]
  },
  {
    "sha": "dc0cabeda49a7edbfa71df22846721b6f6224aea",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkYzBjYWJlZGE0OWE3ZWRiZmE3MWRmMjI4NDY3MjFiNmY2MjI0YWVh",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-25T00:31:38Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-09T16:30:58Z"
      },
      "message": "test: remove getaddressinfo label tests",
      "tree": {
        "sha": "4ceaf47e587ca5c4ca33ab71595d1ffde3a2c96a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4ceaf47e587ca5c4ca33ab71595d1ffde3a2c96a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/dc0cabeda49a7edbfa71df22846721b6f6224aea",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl4XVUMACgkQT1chs9Dj\nkh3HhhAAmdb/2K1N5OPbuK69L3j1Qi0fdKXoT/xj5negA+y6pc2r9yP6kZeqFwNO\nCXN+ysv9mSReDnh+8jCHtjN3VXpsdnPvQ+AtfT09Q8SSKgyCprBYzEB/uUQ348AT\n+uVda0DiaXaAuWRobTX41KOw4S4UOtQ5EYpoucBd1oOqduW/WVjcHGHRyS9ffgU3\nZAMWRSAg4eUp8IX1WNr89wB1ZwIkCl3dWjx2sFGu2sYQML/vy9acYvD8I0EIkZWB\nUDaoZbfwGjmuqSadX1bCstM0AeYILBiKORiiKvra0NiX+TOH49WwdQhOrXsY70LT\nABOpodDvpAMjZ8YXqZq4cUzcLV7mhhxXhDwsviM7dXPCB2TfD9q7l+QApQmOWIba\n55Z8JC+Lpd9OmsMnml1qzXRQTIqM+E4ezT+agR5AppmE5cjQ02wZJ8PXTUi/RL/t\ntzEDyoKqL5qnC2qG5V0rBAp/fvfgziTD7QfDCguWxH24ID3AgRgSKdgMHaI/bRRA\nkO/rV1EfJCwKtddFYHXHDfXBmnRwPZnPD8T7Ao6MERQUGlhjHQMb9izHepEO56Ef\nuBFnmaTHqklO4tnPGKaV5NIovSoA2CCyD2KqjJIgptALgs5SJNhflWbiQAnpySP9\nVyBylW+8k5kBo1MiTlpy9sDmujT/Cq7GOsB8Zy+8VxJpmfRQ89o=\n=1Z78\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIHy02+n41eSProPOvq6aiB3SWilMUyYvOjTCUthUF3bcCP/wEBKszBbW6/x7\nksTuYsRPVPYI8QReF1VG8AjFS3wRGnw6cgCD3+MNLvkMjikoaHR0cHM6Ly9maW5u\nZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbf/wED+fXOPhkyrhyjd9zkfXyTkI\n8QReF1VG8AgO1RiGwzzJ/QCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2Fs\nZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn8BDVZnJqpado4UKYZanefXVwCPEEXhdV\nRvAI7k3eEqhRQfMAg9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5v\ncGVudGltZXN0YW1wcy5vcmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 4ceaf47e587ca5c4ca33ab71595d1ffde3a2c96a\nparent c7654af6f830577a54df12b5d65df93532db0dc2\nauthor Jon Atack <jon@atack.com> 1574641898 +0100\ncommitter Jon Atack <jon@atack.com> 1578587458 +0100\n\ntest: remove getaddressinfo label tests\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc0cabeda49a7edbfa71df22846721b6f6224aea",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/dc0cabeda49a7edbfa71df22846721b6f6224aea",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc0cabeda49a7edbfa71df22846721b6f6224aea/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "c7654af6f830577a54df12b5d65df93532db0dc2",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/c7654af6f830577a54df12b5d65df93532db0dc2",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/c7654af6f830577a54df12b5d65df93532db0dc2"
      }
    ],
    "stats": {
      "total": 22,
      "additions": 8,
      "deletions": 14
    },
    "files": [
      {
        "sha": "15746d312c1fbd2f27652a4c0a4c4d60a352684b",
        "filename": "test/functional/wallet_basic.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_basic.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_basic.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_basic.py?ref=dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "patch": "@@ -392,7 +392,7 @@ def run_test(self):\n             for label in [u'\u0440\u044b\u0431\u0430', u'\ud834\udd61']:\n                 addr = self.nodes[0].getnewaddress()\n                 self.nodes[0].setlabel(addr, label)\n-                test_address(self.nodes[0], addr, label=label, labels=[label])\n+                test_address(self.nodes[0], addr, labels=[label])\n                 assert label in self.nodes[0].listlabels()\n         self.nodes[0].rpc.ensure_ascii = True  # restore to default\n "
      },
      {
        "sha": "afb740b858b8ad51a1e85eaea01590778ed45a43",
        "filename": "test/functional/wallet_import_with_label.py",
        "status": "modified",
        "additions": 5,
        "deletions": 9,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_import_with_label.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_import_with_label.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_import_with_label.py?ref=dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "patch": "@@ -36,7 +36,6 @@ def run_test(self):\n                      address,\n                      iswatchonly=True,\n                      ismine=False,\n-                     label=label,\n                      labels=[label])\n \n         self.log.info(\n@@ -45,7 +44,7 @@ def run_test(self):\n         )\n         priv_key = self.nodes[0].dumpprivkey(address)\n         self.nodes[1].importprivkey(priv_key)\n-        test_address(self.nodes[1], address, label=label, labels=[label])\n+        test_address(self.nodes[1], address, labels=[label])\n \n         self.log.info(\n             \"Test importaddress without label and importprivkey with label.\"\n@@ -57,7 +56,6 @@ def run_test(self):\n                      address2,\n                      iswatchonly=True,\n                      ismine=False,\n-                     label=\"\",\n                      labels=[\"\"])\n \n         self.log.info(\n@@ -68,7 +66,7 @@ def run_test(self):\n         label2 = \"Test Label 2\"\n         self.nodes[1].importprivkey(priv_key2, label2)\n \n-        test_address(self.nodes[1], address2, label=label2, labels=[label2])\n+        test_address(self.nodes[1], address2, labels=[label2])\n \n         self.log.info(\"Test importaddress with label and importprivkey with label.\")\n         self.log.info(\"Import a watch-only address with a label.\")\n@@ -79,7 +77,6 @@ def run_test(self):\n                      address3,\n                      iswatchonly=True,\n                      ismine=False,\n-                     label=label3_addr,\n                      labels=[label3_addr])\n \n         self.log.info(\n@@ -90,7 +87,7 @@ def run_test(self):\n         label3_priv = \"Test Label 3 for importprivkey\"\n         self.nodes[1].importprivkey(priv_key3, label3_priv)\n \n-        test_address(self.nodes[1], address3, label=label3_priv, labels=[label3_priv])\n+        test_address(self.nodes[1], address3, labels=[label3_priv])\n \n         self.log.info(\n             \"Test importprivkey won't label new dests with the same \"\n@@ -104,7 +101,6 @@ def run_test(self):\n                      address4,\n                      iswatchonly=True,\n                      ismine=False,\n-                     label=label4_addr,\n                      labels=[label4_addr],\n                      embedded=None)\n \n@@ -118,9 +114,9 @@ def run_test(self):\n         self.nodes[1].importprivkey(priv_key4)\n         embedded_addr = self.nodes[1].getaddressinfo(address4)['embedded']['address']\n \n-        test_address(self.nodes[1], embedded_addr, label=\"\", labels=[\"\"])\n+        test_address(self.nodes[1], embedded_addr, labels=[\"\"])\n \n-        test_address(self.nodes[1], address4, label=label4_addr, labels=[label4_addr])\n+        test_address(self.nodes[1], address4, labels=[label4_addr])\n \n         self.stop_nodes()\n "
      },
      {
        "sha": "f152fcd1a424875846d8033e3caacb0f33c2efb2",
        "filename": "test/functional/wallet_importmulti.py",
        "status": "modified",
        "additions": 0,
        "deletions": 2,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_importmulti.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_importmulti.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_importmulti.py?ref=dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "patch": "@@ -569,7 +569,6 @@ def run_test(self):\n                      key.p2sh_p2wpkh_addr,\n                      solvable=True,\n                      ismine=True,\n-                     label=p2sh_p2wpkh_label,\n                      labels=[p2sh_p2wpkh_label])\n \n         # Test ranged descriptor fails if range is not specified\n@@ -641,7 +640,6 @@ def run_test(self):\n                      key.p2pkh_addr,\n                      solvable=True,\n                      ismine=False,\n-                     label=p2pkh_label,\n                      labels=[p2pkh_label])\n \n         # Test import fails if both desc and scriptPubKey are provided"
      },
      {
        "sha": "95a180ad27adf45da699de25667bf083a9420195",
        "filename": "test/functional/wallet_labels.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_labels.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_labels.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_labels.py?ref=dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "patch": "@@ -155,7 +155,7 @@ def verify(self, node):\n         if self.receive_address is not None:\n             assert self.receive_address in self.addresses\n         for address in self.addresses:\n-            test_address(node, address, label=self.name, labels=[self.name])\n+            test_address(node, address, labels=[self.name])\n         assert self.name in node.listlabels()\n         assert_equal(\n             node.getaddressesbylabel(self.name),"
      },
      {
        "sha": "b0590b149a798ec71567015a011a080abf688925",
        "filename": "test/functional/wallet_listreceivedby.py",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_listreceivedby.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/dc0cabeda49a7edbfa71df22846721b6f6224aea/test/functional/wallet_listreceivedby.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/wallet_listreceivedby.py?ref=dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "patch": "@@ -128,7 +128,7 @@ def run_test(self):\n         # set pre-state\n         label = ''\n         address = self.nodes[1].getnewaddress()\n-        test_address(self.nodes[1], address, label=label, labels=[label])\n+        test_address(self.nodes[1], address, labels=[label])\n         received_by_label_json = [r for r in self.nodes[1].listreceivedbylabel() if r[\"label\"] == label][0]\n         balance_by_label = self.nodes[1].getreceivedbylabel(label)\n "
      }
    ]
  },
  {
    "sha": "d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkNDg4NzVmYTIwZDBiNzFiOTc4Y2IzZDFmODVkZDllYzE0ZTY2NGNj",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-25T00:20:59Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-09T17:08:18Z"
      },
      "message": "rpc: deprecate getaddressinfo label field",
      "tree": {
        "sha": "8adb550801095b930324f6bd20c0025f03d5de99",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8adb550801095b930324f6bd20c0025f03d5de99"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl4XXgMACgkQT1chs9Dj\nkh2aeA/9E6X3BIQW1mgVZUjdiFRSNaQcZb7Rz7ATvEfwoPufGArY6aY2hn3Z/iQE\nMUQa6Qm8yfPfILlQa0X6HXHAY3J5TVsn5l+sHbH287FVCNWgJnSWwrkg4CpZ7sNA\nROypupfFH3D4wgr5g24h4oDsBFHhQB9uLzI4R240tzqi6b0OyO8+hr+USeQCEorj\nEIKFb3+OpuC0MdaV1bYRgagQuYLIBP0cB1E7r45EIM3qWuzCV/Mmj8vzFL8y4JQc\n/BfB3ZkIaV1aLu4gqZKjLB3IbE1Kj8aBlmI7lxNSeImbozLT+skztjM9BPrCgvSN\n9AsnzUJNqg5U1lOYD26hYNf62L0MWtTVYVLia31tjGmuQAuNJ3NiUnF8o9LdiSiQ\nwWFe3aWchJt74X+m9wgZ2a52aJGERtT2qDxTU/g1tNzyQym1bOSvDb3kyR0VGNuw\n0PbT0uvlVDwmdr/06oSaCGr9CAHnIYal88bpwcXeTjFQVrrUSAhsj3+TzADr5PdY\nCCEIWQ5nD3IOgl5Q+Ai1X9rJgi+AdJFiv5+F6HJsF2M3hivFi9qNuaWOePO1XTfV\nzb846ykze/pn7ETk/+oUit8DWP922z6/rv8b9OPL6TNk+kanNY/ktPhcYhKE9x1C\nE9ZlqYgTy3YzrzUIG8mo+0kc0AhStq8M7VWl86ZcU0eSBXws+Ik=\n=I/sP\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIFPvZdQdBS4yrbiLMQ48C4zQSm2/NFZgw6vZOSNup/V8CP/wEDxxKlFlEDj2\nfetusZ8AxakI8QReF14F8AgU1DW85quhtQCD3+MNLvkMji4taHR0cHM6Ly9hbGlj\nZS5idGMuY2FsZW5kYXIub3BlbnRpbWVzdGFtcHMub3Jn//AQU8Y+IV4btwgKqxIP\n97MXgQjxIJoNJ+dPxnA992ELzFbkM1Cfv6qogj15P8yHbCwp6DLWCPEEXhdeBPAI\n94qiWurwQ+EAg9/jDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVu\ndGltZXN0YW1wcy5vcmf/8BBz97PE4glw2F/uvygSiQNOCPEgTxIK8uttBOmf4gHc\nGXYk7kwonLkHeAffs9s81fGqzI4I8QReF14E8AifjN1hPv9JHgCD3+MNLvkMjiko\naHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRlcm5pdHl3YWxsLmNvbfAQrotx0THn\njt3oZt0N4XXnKQjxBF4XXgXwCP5QKQXsSNv8AIPf4w0u+QyOIyJodHRwczovL2J0\nYy5jYWxlbmRhci5jYXRhbGxheHkuY29t\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 8adb550801095b930324f6bd20c0025f03d5de99\nparent dc0cabeda49a7edbfa71df22846721b6f6224aea\nauthor Jon Atack <jon@atack.com> 1574641259 +0100\ncommitter Jon Atack <jon@atack.com> 1578589698 +0100\n\nrpc: deprecate getaddressinfo label field\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/dc0cabeda49a7edbfa71df22846721b6f6224aea",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/dc0cabeda49a7edbfa71df22846721b6f6224aea"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 9,
      "deletions": 9
    },
    "files": [
      {
        "sha": "581590e7550b7055fe617fd3f06e255c73ede478",
        "filename": "src/wallet/rpcwallet.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 9,
        "changes": 18,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc/src/wallet/rpcwallet.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc/src/wallet/rpcwallet.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/wallet/rpcwallet.cpp?ref=d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
        "patch": "@@ -3762,18 +3762,18 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n             \"                                                         getaddressinfo output fields for the embedded address, excluding metadata (timestamp, hdkeypath,\\n\"\n             \"                                                         hdseedid) and relation to the wallet (ismine, iswatchonly).\\n\"\n             \"  \\\"iscompressed\\\" : true|false,        (boolean, optional) If the pubkey is compressed.\\n\"\n-            \"  \\\"label\\\" :  \\\"label\\\"                  (string) The label associated with the address. Defaults to \\\"\\\". Equivalent to the label name in the labels array below.\\n\"\n+            \"  \\\"label\\\" :  \\\"label\\\"                  (string) DEPRECATED. The label associated with the address. Defaults to \\\"\\\". Replaced by the labels array below.\\n\"\n             \"  \\\"timestamp\\\" : timestamp,            (number, optional) The creation time of the key, if available, expressed in \" + UNIX_EPOCH_TIME + \".\\n\"\n             \"  \\\"hdkeypath\\\" : \\\"keypath\\\"             (string, optional) The HD keypath, if the key is HD and available.\\n\"\n             \"  \\\"hdseedid\\\" : \\\"<hash160>\\\"            (string, optional) The Hash160 of the HD seed.\\n\"\n             \"  \\\"hdmasterfingerprint\\\" : \\\"<hash160>\\\" (string, optional) The fingerprint of the master key.\\n\"\n-            \"  \\\"labels\\\"                            (json object) An array of labels associated with the address. Currently limited to one label but returned\\n\"\n-            \"                                               as an array to keep the API stable if multiple labels are enabled in the future.\\n\"\n+            \"  \\\"labels\\\"                            (array) Array of labels associated with the address. Currently limited to one label but returned\\n\"\n+            \"                                              as an array to keep the API stable if multiple labels are enabled in the future.\\n\"\n             \"    [\\n\"\n-            \"      \\\"label name\\\" (string) The label name. Defaults to \\\"\\\". Equivalent to the label field above.\\n\\n\"\n+            \"      \\\"label name\\\" (string) The label name. Defaults to \\\"\\\".\\n\"\n             \"      DEPRECATED, will be removed in 0.21. To re-enable, launch bitcoind with `-deprecatedrpc=labelspurpose`:\\n\"\n-            \"      { (json object of label data)\\n\"\n-            \"        \\\"name\\\" : \\\"label name\\\" (string) The label name. Defaults to \\\"\\\". Equivalent to the label field above.\\n\"\n+            \"      {\\n\"\n+            \"        \\\"name\\\" : \\\"label name\\\" (string) The label name. Defaults to \\\"\\\".\\n\"\n             \"        \\\"purpose\\\" : \\\"purpose\\\" (string) The purpose of the associated address (send or receive).\\n\"\n             \"      }\\n\"\n             \"    ]\\n\"\n@@ -3817,10 +3817,10 @@ UniValue getaddressinfo(const JSONRPCRequest& request)\n     UniValue detail = DescribeWalletAddress(pwallet, dest);\n     ret.pushKVs(detail);\n \n-    // Return label field if existing. Currently only one label can be\n-    // associated with an address, so the label should be equivalent to the\n+    // DEPRECATED: Return label field if existing. Currently only one label can\n+    // be associated with an address, so the label should be equivalent to the\n     // value of the name key/value pair in the labels array below.\n-    if (pwallet->mapAddressBook.count(dest)) {\n+    if ((pwallet->chain().rpcEnableDeprecated(\"label\")) && (pwallet->mapAddressBook.count(dest))) {\n         ret.pushKV(\"label\", pwallet->mapAddressBook[dest].name);\n     }\n "
      }
    ]
  },
  {
    "sha": "72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MmFmOTNmMzY0NzlkYzEyZDc5NWYxZDA1ZmEzZDhmYmQ5YjI5M2Jk",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-11-25T01:04:14Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-09T17:08:24Z"
      },
      "message": "test: getaddressinfo label deprecation test",
      "tree": {
        "sha": "aaafbe30b028e1622c74c54d8ea0d576b5feaee0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aaafbe30b028e1622c74c54d8ea0d576b5feaee0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl4XXhEACgkQT1chs9Dj\nkh1VIBAAl2Jdncgl+8uDCefWGOmVnDiMVqNSMAtHGl4Fxuq9dOmqiEsgNVOJSuQ0\n+Iws0ZG0hROWHAlDGgblyE7iHDb/USRTfQ3ccinQplxeUwTc1cfQV15ajwMImB4T\n5Qp83LXdYG8+iXx5BcHAwJBDEgLaLf0l+xLUBnac2qAy1AYvUfhhN/Q2e2xx5fBJ\ntFTJYrE/tlH1K6imMlUMfd/LpSIUtKBEN3P6MkgWiyToPYbxOIXNJB/dlK9hH/L0\nABowl1+49j13Hyr7l8Zkgk9jmVLD+5dxMzOsSiFHdRDyUdjlZMmigZsul+HkHu3i\nx5ARxY0OAq1pWnfceEAi/yo9M3viMgLscOO0jNSMdLcEiATSk60Vw0bTu/+sZUWB\nxXeRsBg+Om2WL+WLcOPeg/m8Rj1hXvTi0Jsdje2pa/OspLPaJ+19g9A8veazWa4c\nWABnoF/uOv9KvMfbGeJlIPwWA1Ea5O6Or/n4WHA57/PZOQge25A7YWggDX3dgMf+\nGf69UzGCIMxwjoSGdnGbUWblQ9qOdixczu8iOhrtyJrl4Bpcq9rnJbEgogvaw28P\nmhLp242J40lgOmD2bA3qyglCnFPfKva+j1yUP+YKWUtxpa/xULSkxXk+Kh1WLlgp\n/4xA51cSii4NHS9TtwA85lC3BRbyAZW2Pxg43xCfRmiSRqmcJvU=\n=lNpn\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwIJjJRdF2uRFKIN8DsIChMKtmhXwpQflwT0ipOTxjWq/uCP/wEIfvhVFGhRa6\nuTsaF78CRe0I8QReF14S8AjolzBQ83zS5QCD3+MNLvkMjiMiaHR0cHM6Ly9idGMu\nY2FsZW5kYXIuY2F0YWxsYXh5LmNvbf/wEIrmQIXDmDQOqSPXddhtRZ0I8QReF14T\n8AiqKqd5859ITQCD3+MNLvkMjikoaHR0cHM6Ly9maW5uZXkuY2FsZW5kYXIuZXRl\ncm5pdHl3YWxsLmNvbf/wEJdK7bSxWLufnZak6mVP8VgI8QReF14T8AgG9xehjRa7\nQQCD3+MNLvkMji4taHR0cHM6Ly9hbGljZS5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn8BDWIU/DLwdWeHBXluOtSmGQCPEEXhdeE/AIp5hDwsgvXCAAg9/j\nDS75DI4sK2h0dHBzOi8vYm9iLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1wcy5v\ncmc=\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree aaafbe30b028e1622c74c54d8ea0d576b5feaee0\nparent d48875fa20d0b71b978cb3d1f85dd9ec14e664cc\nauthor Jon Atack <jon@atack.com> 1574643854 +0100\ncommitter Jon Atack <jon@atack.com> 1578589704 +0100\n\ntest: getaddressinfo label deprecation test\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/72af93f36479dc12d795f1d05fa3d8fbd9b293bd/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/d48875fa20d0b71b978cb3d1f85dd9ec14e664cc"
      }
    ],
    "stats": {
      "total": 44,
      "additions": 44,
      "deletions": 0
    },
    "files": [
      {
        "sha": "5e739ebede51a4e922b06ab54d8b9420e23a53fc",
        "filename": "test/functional/rpc_getaddressinfo_label_deprecation.py",
        "status": "added",
        "additions": 43,
        "deletions": 0,
        "changes": 43,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/72af93f36479dc12d795f1d05fa3d8fbd9b293bd/test/functional/rpc_getaddressinfo_label_deprecation.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/72af93f36479dc12d795f1d05fa3d8fbd9b293bd/test/functional/rpc_getaddressinfo_label_deprecation.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/rpc_getaddressinfo_label_deprecation.py?ref=72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
        "patch": "@@ -0,0 +1,43 @@\n+#!/usr/bin/env python3\n+# Copyright (c) 2020 The Bitcoin Core developers\n+# Distributed under the MIT software license, see the accompanying\n+# file COPYING or http://www.opensource.org/licenses/mit-license.php.\n+\"\"\"\n+Test deprecation of the RPC getaddressinfo `label` field. It has been\n+superceded by the `labels` field.\n+\n+\"\"\"\n+from test_framework.test_framework import BitcoinTestFramework\n+\n+class GetAddressInfoLabelDeprecationTest(BitcoinTestFramework):\n+    def set_test_params(self):\n+        self.num_nodes = 2\n+        self.setup_clean_chain = False\n+        # Start node[0] with -deprecatedrpc=label, and node[1] without.\n+        self.extra_args = [[\"-deprecatedrpc=label\"], []]\n+\n+    def skip_test_if_missing_module(self):\n+        self.skip_if_no_wallet()\n+\n+    def test_label_with_deprecatedrpc_flag(self):\n+        self.log.info(\"Test getaddressinfo label with -deprecatedrpc flag\")\n+        node = self.nodes[0]\n+        address = node.getnewaddress()\n+        info = node.getaddressinfo(address)\n+        assert \"label\" in info\n+\n+    def test_label_without_deprecatedrpc_flag(self):\n+        self.log.info(\"Test getaddressinfo label without -deprecatedrpc flag\")\n+        node = self.nodes[1]\n+        address = node.getnewaddress()\n+        info = node.getaddressinfo(address)\n+        assert \"label\" not in info\n+\n+    def run_test(self):\n+        \"\"\"Test getaddressinfo label with and without -deprecatedrpc flag.\"\"\"\n+        self.test_label_with_deprecatedrpc_flag()\n+        self.test_label_without_deprecatedrpc_flag()\n+\n+\n+if __name__ == '__main__':\n+    GetAddressInfoLabelDeprecationTest().main()"
      },
      {
        "sha": "8b527bcff08e69bfbd20cc606c5b3480f3946f33",
        "filename": "test/functional/test_runner.py",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/72af93f36479dc12d795f1d05fa3d8fbd9b293bd/test/functional/test_runner.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/72af93f36479dc12d795f1d05fa3d8fbd9b293bd/test/functional/test_runner.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/test_runner.py?ref=72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
        "patch": "@@ -213,6 +213,7 @@\n     'feature_blocksdir.py',\n     'feature_config_args.py',\n     'rpc_getaddressinfo_labels_purpose_deprecation.py',\n+    'rpc_getaddressinfo_label_deprecation.py',\n     'rpc_help.py',\n     'feature_help.py',\n     'feature_shutdown.py',"
      }
    ]
  },
  {
    "sha": "d3bc18408146e91b3836f72360ff6fa2420b6887",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpkM2JjMTg0MDgxNDZlOTFiMzgzNmY3MjM2MGZmNmZhMjQyMGI2ODg3",
    "commit": {
      "author": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2019-12-13T14:15:24Z"
      },
      "committer": {
        "name": "Jon Atack",
        "email": "jon@atack.com",
        "date": "2020-01-11T12:35:10Z"
      },
      "message": "doc: update release notes with getaddressinfo label deprecation",
      "tree": {
        "sha": "0ba281775b315f0105650aa10360c3fd6a106822",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/0ba281775b315f0105650aa10360c3fd6a106822"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/d3bc18408146e91b3836f72360ff6fa2420b6887",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEd6u7+MhX7zEv6RP5T1chs9Djkh0FAl4ZwScACgkQT1chs9Dj\nkh24TxAAtNrpqisxHGphQT17cGXQ4k4N15eWPDmhe6FBWB6E3X2yycA6bXg/h4+l\n0ofQl9J4kt5Z9aE5Imgf4r2qOt89091iOXCi0Fsw+2P9ydDujWQsHlBjr18F4cFH\nq/6RH4FtknVR+5F10UnYRWs6Bq5c3Vpt6QUW/ZQAdAckxfrLzCnVPvXhiMbg69qM\nqLRdodOjLwflAzxPUdgqW7dyKtD0JFoqD/6UIc+Zfw7l9XkB6rXAvHwuq2gPg+mJ\nWpHrSyGf/PH8UlbOJFpSyeignLUJEC8kPdrPt7bqxApVyJ7C5PZ9AvMpDfnodogL\n+PSnIIh2QmZ/Whsv/vMWuZmYgcrRy0hKlYbdvy34ms533lcOdUKcUlllz2jhWSbH\nYJVSyoEzQUgB7LifQJlLUlIDgge9/1kBsc5S5kLiMUZcATW5gfUBdkPdx1a8vNs5\n+YdY2QJlg2wFVs90yLxgFc/IFpmLovjiIGwqiudqf9gZYsYWL7sUYDjITfDAz6/G\nu+Fe+ICFbcRMn8x+pDmd8qcnrQ0u3u7hN6QwYDmlnFR1PDFbhUYy3vKWyfnsvLHp\nbJJbLCovhi0aeIJdu78KUyC67t9aMYgkMBnNK0ZnK3Z44rMKmTkV3hK9AARep6OB\nl1VunVcATEoUQCl0hzGsMH0RfhrhcUCSVv1WfqZy7OG3Klr6qAI=\n=JVe8\n-----END PGP SIGNATURE-----\n-----BEGIN OPENTIMESTAMPS GIT TIMESTAMP-----\n\nAQHwILjXJDinLw+GcM843VKE4G1tYdP7ZpBi9i9uEUktCNkzCP/wEDpikJKuRohr\nuLF36vzORMcI8SAyayzsWASf3mNS0fBWnURLGAHm+wc2T7ImTYMuGoLb0QjxBF4Z\nwSjwCN6jPi98N/5AAIPf4w0u+QyOKShodHRwczovL2Zpbm5leS5jYWxlbmRhci5l\ndGVybml0eXdhbGwuY29t//AQc56VHh7Js/IeMGl4GnLWOgjxBF4ZwSnwCG5sPsbM\nqkzfAIPf4w0u+QyOLCtodHRwczovL2JvYi5idGMuY2FsZW5kYXIub3BlbnRpbWVz\ndGFtcHMub3Jn//AQwy3E+HYmahVziuCGQ4f8DwjxBF4ZwSjwCGFTQKbLxAgXAIPf\n4w0u+QyOLi1odHRwczovL2FsaWNlLmJ0Yy5jYWxlbmRhci5vcGVudGltZXN0YW1w\ncy5vcmfwEMnDCHwBBi4NKhMvLyu/MxkI8QReGcEp8Ajtg7DTbspz9QCD3+MNLvkM\njiMiaHR0cHM6Ly9idGMuY2FsZW5kYXIuY2F0YWxsYXh5LmNvbQ==\n-----END OPENTIMESTAMPS GIT TIMESTAMP-----",
        "payload": "tree 0ba281775b315f0105650aa10360c3fd6a106822\nparent 72af93f36479dc12d795f1d05fa3d8fbd9b293bd\nauthor Jon Atack <jon@atack.com> 1576246524 +0100\ncommitter Jon Atack <jon@atack.com> 1578746110 +0100\n\ndoc: update release notes with getaddressinfo label deprecation\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d3bc18408146e91b3836f72360ff6fa2420b6887",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/d3bc18408146e91b3836f72360ff6fa2420b6887",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/d3bc18408146e91b3836f72360ff6fa2420b6887/comments",
    "author": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/72af93f36479dc12d795f1d05fa3d8fbd9b293bd",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/72af93f36479dc12d795f1d05fa3d8fbd9b293bd"
      }
    ],
    "stats": {
      "total": 15,
      "additions": 10,
      "deletions": 5
    },
    "files": [
      {
        "sha": "664d17fd78dba20e3a5af52be6b6fbd26bd72c83",
        "filename": "doc/release-notes-17578.md",
        "status": "modified",
        "additions": 10,
        "deletions": 5,
        "changes": 15,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/d3bc18408146e91b3836f72360ff6fa2420b6887/doc/release-notes-17578.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/d3bc18408146e91b3836f72360ff6fa2420b6887/doc/release-notes-17578.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/release-notes-17578.md?ref=d3bc18408146e91b3836f72360ff6fa2420b6887",
        "patch": "@@ -1,8 +1,13 @@\n Deprecated or removed RPCs\n --------------------------\n \n-- The `getaddressinfo` RPC `labels` field now returns an array of label name\n-  strings. Previously, it returned an array of JSON objects containing `name` and\n-  `purpose` key/value pairs, which is now deprecated and will be removed in\n-  0.21. To re-enable the previous behavior, launch with\n-  `-deprecatedrpc=labelspurpose`.\n+- RPC `getaddressinfo` changes:\n+\n+  - the `label` field has been deprecated in favor of the `labels` field and\n+    will be removed in 0.21. It can be re-enabled in the interim by launching\n+    with `-deprecatedrpc=label`.\n+\n+  - the `labels` behavior of returning an array of JSON objects containing name\n+    and purpose key/value pairs has been deprecated in favor of an array of\n+    label names and will be removed in 0.21. The previous behavior can be\n+    re-enabled in the interim by launching with `-deprecatedrpc=labelspurpose`."
      }
    ]
  }
]