[
  {
    "sha": "caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpjYWY5MWZhYzkwM2JjZDZkZDZmM2VlOWE4ZGVhNTNlN2IwNmFkYjRk",
    "commit": {
      "author": {
        "name": "Sanjay K",
        "email": "sanjaykdragon@gmail.com",
        "date": "2019-12-28T16:43:27Z"
      },
      "committer": {
        "name": "Sanjay K",
        "email": "sanjaykdragon@gmail.com",
        "date": "2019-12-28T16:43:27Z"
      },
      "message": "consensus refactor: changed for loops to range based for loops (modern cpp).\nShould not change behavior of consensus itself.",
      "tree": {
        "sha": "ab94c78fe8402c74ddf66e81b5e9d118a52275f0",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/ab94c78fe8402c74ddf66e81b5e9d118a52275f0"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d/comments",
    "author": {
      "login": "sanjaykdragon",
      "id": 10261698,
      "node_id": "MDQ6VXNlcjEwMjYxNjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/10261698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanjaykdragon",
      "html_url": "https://github.com/sanjaykdragon",
      "followers_url": "https://api.github.com/users/sanjaykdragon/followers",
      "following_url": "https://api.github.com/users/sanjaykdragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanjaykdragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanjaykdragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanjaykdragon/subscriptions",
      "organizations_url": "https://api.github.com/users/sanjaykdragon/orgs",
      "repos_url": "https://api.github.com/users/sanjaykdragon/repos",
      "events_url": "https://api.github.com/users/sanjaykdragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanjaykdragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "sanjaykdragon",
      "id": 10261698,
      "node_id": "MDQ6VXNlcjEwMjYxNjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/10261698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanjaykdragon",
      "html_url": "https://github.com/sanjaykdragon",
      "followers_url": "https://api.github.com/users/sanjaykdragon/followers",
      "following_url": "https://api.github.com/users/sanjaykdragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanjaykdragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanjaykdragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanjaykdragon/subscriptions",
      "organizations_url": "https://api.github.com/users/sanjaykdragon/orgs",
      "repos_url": "https://api.github.com/users/sanjaykdragon/repos",
      "events_url": "https://api.github.com/users/sanjaykdragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanjaykdragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "6cb80a068dc198832febe456139bed3ae7a1145c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/6cb80a068dc198832febe456139bed3ae7a1145c",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/6cb80a068dc198832febe456139bed3ae7a1145c"
      }
    ],
    "stats": {
      "total": 44,
      "additions": 22,
      "deletions": 22
    },
    "files": [
      {
        "sha": "99aa1cbd31d16c2be039680002290648b5d1d742",
        "filename": "src/consensus/tx_verify.cpp",
        "status": "modified",
        "additions": 22,
        "deletions": 22,
        "changes": 44,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d/src/consensus/tx_verify.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d/src/consensus/tx_verify.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/consensus/tx_verify.cpp?ref=caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
        "patch": "@@ -106,54 +106,54 @@ bool SequenceLocks(const CTransaction &tx, int flags, std::vector<int>* prevHeig\n \n unsigned int GetLegacySigOpCount(const CTransaction& tx)\n {\n-    unsigned int nSigOps = 0;\n+    unsigned int num_sig_ops = 0;\n     for (const auto& txin : tx.vin)\n     {\n-        nSigOps += txin.scriptSig.GetSigOpCount(false);\n+        num_sig_ops += txin.scriptSig.GetSigOpCount(false);\n     }\n     for (const auto& txout : tx.vout)\n     {\n-        nSigOps += txout.scriptPubKey.GetSigOpCount(false);\n+        num_sig_ops += txout.scriptPubKey.GetSigOpCount(false);\n     }\n-    return nSigOps;\n+    return num_sig_ops;\n }\n \n unsigned int GetP2SHSigOpCount(const CTransaction& tx, const CCoinsViewCache& inputs)\n {\n     if (tx.IsCoinBase())\n         return 0;\n \n-    unsigned int nSigOps = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n+    unsigned int num_sig_ops = 0;\n+    for (const auto txin : tx.vin)\n     {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+        const Coin& coin = inputs.AccessCoin(txin.prevout);\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n         if (prevout.scriptPubKey.IsPayToScriptHash())\n-            nSigOps += prevout.scriptPubKey.GetSigOpCount(tx.vin[i].scriptSig);\n+            num_sig_ops += prevout.scriptPubKey.GetSigOpCount(txin.scriptSig);\n     }\n-    return nSigOps;\n+    return num_sig_ops;\n }\n \n int64_t GetTransactionSigOpCost(const CTransaction& tx, const CCoinsViewCache& inputs, int flags)\n {\n-    int64_t nSigOps = GetLegacySigOpCount(tx) * WITNESS_SCALE_FACTOR;\n+    int64_t num_sig_ops = GetLegacySigOpCount(tx) * WITNESS_SCALE_FACTOR;\n \n     if (tx.IsCoinBase())\n-        return nSigOps;\n+        return num_sig_ops;\n \n     if (flags & SCRIPT_VERIFY_P2SH) {\n-        nSigOps += GetP2SHSigOpCount(tx, inputs) * WITNESS_SCALE_FACTOR;\n+        num_sig_ops += GetP2SHSigOpCount(tx, inputs) * WITNESS_SCALE_FACTOR;\n     }\n \n-    for (unsigned int i = 0; i < tx.vin.size(); i++)\n+    for (const auto txin : tx.vin)\n     {\n-        const Coin& coin = inputs.AccessCoin(tx.vin[i].prevout);\n+        const Coin& coin = inputs.AccessCoin(txin.prevout);\n         assert(!coin.IsSpent());\n         const CTxOut &prevout = coin.out;\n-        nSigOps += CountWitnessSigOps(tx.vin[i].scriptSig, prevout.scriptPubKey, &tx.vin[i].scriptWitness, flags);\n+        num_sig_ops += CountWitnessSigOps(txin.scriptSig, prevout.scriptPubKey, &txin.scriptWitness, flags);\n     }\n-    return nSigOps;\n+    return num_sig_ops;\n }\n \n bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state, const CCoinsViewCache& inputs, int nSpendHeight, CAmount& txfee)\n@@ -164,9 +164,9 @@ bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state,\n                          strprintf(\"%s: inputs missing/spent\", __func__));\n     }\n \n-    CAmount nValueIn = 0;\n-    for (unsigned int i = 0; i < tx.vin.size(); ++i) {\n-        const COutPoint &prevout = tx.vin[i].prevout;\n+    CAmount value_in = 0;\n+    for (const auto txin : tx.vin) {\n+        const COutPoint& prevout = txin.prevout;\n         const Coin& coin = inputs.AccessCoin(prevout);\n         assert(!coin.IsSpent());\n \n@@ -177,8 +177,8 @@ bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state,\n         }\n \n         // Check for negative or overflow input values\n-        nValueIn += coin.out.nValue;\n-        if (!MoneyRange(coin.out.nValue) || !MoneyRange(nValueIn)) {\n+        value_in += coin.out.nValue;\n+        if (!MoneyRange(coin.out.nValue) || !MoneyRange(value_in)) {\n             return state.Invalid(TxValidationResult::TX_CONSENSUS, \"bad-txns-inputvalues-outofrange\");\n         }\n     }\n@@ -190,7 +190,7 @@ bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state,\n     }\n \n     // Tally transaction fees\n-    const CAmount txfee_aux = nValueIn - value_out;\n+    const CAmount txfee_aux = value_in - value_out;\n     if (!MoneyRange(txfee_aux)) {\n         return state.Invalid(TxValidationResult::TX_CONSENSUS, \"bad-txns-fee-outofrange\");\n     }"
      }
    ]
  },
  {
    "sha": "99d84fcd6a6147d47063108bb7f0a7caf6a91a7f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5OWQ4NGZjZDZhNjE0N2Q0NzA2MzEwOGJiN2YwYTdjYWY2YTkxYTdm",
    "commit": {
      "author": {
        "name": "Sanjay K",
        "email": "sanjaykdragon@gmail.com",
        "date": "2019-12-28T16:55:20Z"
      },
      "committer": {
        "name": "Sanjay K",
        "email": "sanjaykdragon@gmail.com",
        "date": "2019-12-28T16:55:20Z"
      },
      "message": "fixed some stuff, im an idiot",
      "tree": {
        "sha": "aa09ffae4d48933fde69cd6a1908e6f4cad7f2d1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/aa09ffae4d48933fde69cd6a1908e6f4cad7f2d1"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f/comments",
    "author": {
      "login": "sanjaykdragon",
      "id": 10261698,
      "node_id": "MDQ6VXNlcjEwMjYxNjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/10261698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanjaykdragon",
      "html_url": "https://github.com/sanjaykdragon",
      "followers_url": "https://api.github.com/users/sanjaykdragon/followers",
      "following_url": "https://api.github.com/users/sanjaykdragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanjaykdragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanjaykdragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanjaykdragon/subscriptions",
      "organizations_url": "https://api.github.com/users/sanjaykdragon/orgs",
      "repos_url": "https://api.github.com/users/sanjaykdragon/repos",
      "events_url": "https://api.github.com/users/sanjaykdragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanjaykdragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "sanjaykdragon",
      "id": 10261698,
      "node_id": "MDQ6VXNlcjEwMjYxNjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/10261698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanjaykdragon",
      "html_url": "https://github.com/sanjaykdragon",
      "followers_url": "https://api.github.com/users/sanjaykdragon/followers",
      "following_url": "https://api.github.com/users/sanjaykdragon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanjaykdragon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanjaykdragon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanjaykdragon/subscriptions",
      "organizations_url": "https://api.github.com/users/sanjaykdragon/orgs",
      "repos_url": "https://api.github.com/users/sanjaykdragon/repos",
      "events_url": "https://api.github.com/users/sanjaykdragon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanjaykdragon/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/caf91fac903bcd6dd6f3ee9a8dea53e7b06adb4d"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "03b63f5570c0719a6276c61861c4e041d55f833a",
        "filename": "src/consensus/tx_verify.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f/src/consensus/tx_verify.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/99d84fcd6a6147d47063108bb7f0a7caf6a91a7f/src/consensus/tx_verify.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/consensus/tx_verify.cpp?ref=99d84fcd6a6147d47063108bb7f0a7caf6a91a7f",
        "patch": "@@ -184,9 +184,9 @@ bool Consensus::CheckTxInputs(const CTransaction& tx, TxValidationState& state,\n     }\n \n     const CAmount value_out = tx.GetValueOut();\n-    if (nValueIn < value_out) {\n+    if (value_in < value_out) {\n         return state.Invalid(TxValidationResult::TX_CONSENSUS, \"bad-txns-in-belowout\",\n-            strprintf(\"value in (%s) < value out (%s)\", FormatMoney(nValueIn), FormatMoney(value_out)));\n+            strprintf(\"value in (%s) < value out (%s)\", FormatMoney(value_in), FormatMoney(value_out)));\n     }\n \n     // Tally transaction fees"
      }
    ]
  }
]