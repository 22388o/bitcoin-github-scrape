sipa,2016-10-30T22:28:07Z,utACK. Somehow I thought we were already doing this.\n,https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257184364,257184364,
gmaxwell,2016-10-31T06:30:19Z,ACK\n,https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257222496,257222496,
rebroad,2016-10-31T08:50:13Z,@TheBlueMatt Did you time how long the hashing was taking on a typical full block?\n,https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257241369,257241369,
paveljanik,2016-10-31T12:16:23Z,@rebroad This is about P2P messages and their checksums...\n,https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257279125,257279125,
paveljanik,2016-10-31T12:16:45Z,ACK https://github.com/bitcoin/bitcoin/pull/9045/commits/fe1dc62cef88280d2490a619beded052f313c6fc\n,https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257279182,257279182,
TheBlueMatt,2016-10-31T12:33:32Z,"I did not Rome the hashing, though I expect it to be between 3 and 10 ms (we use a particularly slow SHA256 implementation, as we don't incorporate any handcoded asm), but the lower bound is about 3, assuming it's cache-hot.\n\nOn October 31, 2016 4:50:20 AM EDT, R E Broadley notifications@github.com wrote:\n\n> @TheBlueMatt Did you time how long the hashing was taking on a typical\n> full block?\",https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257282105,257282105,
theuni,2016-10-31T20:48:17Z,"mm, NACK unless there are numbers that show that this is preferable.\n1. This removes our ability to selectively hash. If we're flooded with thousands of messages that we would otherwise drop after the first, we still end up hashing them.\n2. Removes the ability to skip hashing for known values. For example, hashing for ""sendheaders"" could be skipped and we could just check against the known-corre",https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257416177,257416177,
TheBlueMatt,2016-10-31T22:46:58Z,"@theuni While hashing is incredibly fast, it can be cause a big hit to latency for time-from-block-receive-to-relay (lower bound on hashing 1MB is around 3ms, whereas total runtime for deserialize and AcceptBlock, not including storage, is something like 15ms), especially if you received the full ""block"" message. Doing it as packets come in off the wire should never be a bottleneck - hashing is, m",https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-257442811,257442811,
theuni,2016-11-07T19:07:46Z,"@TheBlueMatt ok, I've come around on this. Thanks to @gmaxwell and @sipa for the discussion over the weekend. utACK https://github.com/bitcoin/bitcoin/pull/9045/commits/fe1dc62cef88280d2490a619beded052f313c6fc.\n",https://github.com/bitcoin/bitcoin/pull/9045#issuecomment-258931057,258931057,
