[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/736996062",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-736996062",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 736996062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjk5NjA2Mg==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-02T05:16:00Z",
    "updated_at": "2021-08-24T00:22:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#22778](https://github.com/bitcoin/bitcoin/pull/22778) (net processing: Reduce resource usage for inbound block-relay-only connections by jnewbery)\n* [#22777](https://github.com/bitcoin/bitcoin/pull/22777) (net processing: don't request tx relay on feeler connections by jnewbery)\n* [#21160](https://github.com/bitcoin/bitcoin/pull/21160) (net/net processing: Move tx inventory into net_processing by jnewbery)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/736996062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737147335",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-737147335",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 737147335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzE0NzMzNQ==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-02T10:41:31Z",
    "updated_at": "2020-12-02T10:41:31Z",
    "author_association": "MEMBER",
    "body": "Concept ACK.\r\n\r\nDoes this conflict with any backports we might want to do for 0.21?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737147335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737556164",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-737556164",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 737556164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzU1NjE2NA==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-02T23:23:54Z",
    "updated_at": "2020-12-02T23:23:54Z",
    "author_association": "MEMBER",
    "body": "@MarcoFalke I don't think so. It doesn't conflict with #20516 (either can be backported without affecting the other). Anything else you're thinking of?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737556164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737720567",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-737720567",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 737720567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzcyMDU2Nw==",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-03T07:28:25Z",
    "updated_at": "2020-12-03T07:28:25Z",
    "author_association": "MEMBER",
    "body": "> It is somewhat worrying that all tests passed with the swapped services and address\r\n\r\nIndeed. I think we should add unit test vectors for all message types with an example message and the expected deserialization? Assert that both are identical. Though, message format (deserialization) is handled in the same function that does the processing, so I am not sure how to test this in general without rewriting net_processing.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/737720567/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738232497",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-738232497",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 738232497,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODIzMjQ5Nw==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-03T19:08:57Z",
    "updated_at": "2020-12-03T19:09:21Z",
    "author_association": "MEMBER",
    "body": "> It is somewhat worrying that all tests passed with the swapped services and address\r\n\r\nIt is, but that's at least partially explained by the fact that we barely use these values. One is ignored entirely, the other is used for statistics about our local IP. The nService fields are also ignored entirely.\r\n\r\n> I think we should add unit test vectors for all message types with an example message and the expected deserialization? \r\n\r\nThat makes sense.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738232497/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738501249",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-738501249",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 738501249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODUwMTI0OQ==",
    "user": {
      "login": "naumenkogs",
      "id": 7975071,
      "node_id": "MDQ6VXNlcjc5NzUwNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7975071?u=06eb9ae4f9b3f954056098860decccbf1340e40f&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/naumenkogs",
      "html_url": "https://github.com/naumenkogs",
      "followers_url": "https://api.github.com/users/naumenkogs/followers",
      "following_url": "https://api.github.com/users/naumenkogs/following{/other_user}",
      "gists_url": "https://api.github.com/users/naumenkogs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/naumenkogs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/naumenkogs/subscriptions",
      "organizations_url": "https://api.github.com/users/naumenkogs/orgs",
      "repos_url": "https://api.github.com/users/naumenkogs/repos",
      "events_url": "https://api.github.com/users/naumenkogs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/naumenkogs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-04T01:48:49Z",
    "updated_at": "2020-12-04T01:48:49Z",
    "author_association": "MEMBER",
    "body": "Concept ACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738501249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738529623",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-738529623",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 738529623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczODUyOTYyMw==",
    "user": {
      "login": "lontivero",
      "id": 127973,
      "node_id": "MDQ6VXNlcjEyNzk3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lontivero",
      "html_url": "https://github.com/lontivero",
      "followers_url": "https://api.github.com/users/lontivero/followers",
      "following_url": "https://api.github.com/users/lontivero/following{/other_user}",
      "gists_url": "https://api.github.com/users/lontivero/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lontivero/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
      "organizations_url": "https://api.github.com/users/lontivero/orgs",
      "repos_url": "https://api.github.com/users/lontivero/repos",
      "events_url": "https://api.github.com/users/lontivero/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lontivero/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-04T02:55:53Z",
    "updated_at": "2020-12-04T02:55:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "ACK 158c0ec",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/738529623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/873312291",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-873312291",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 873312291,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzMxMjI5MQ==",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?u=7999a16349f0df0fb273fffa18e5a955c9d3f11c&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-03T00:13:41Z",
    "updated_at": "2021-07-03T00:13:41Z",
    "author_association": "MEMBER",
    "body": "Rebased.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/873312291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874575197",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-874575197",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 874575197,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDU3NTE5Nw==",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-06T08:41:16Z",
    "updated_at": "2021-07-06T08:41:16Z",
    "author_association": "MEMBER",
    "body": "When we receive a `version` message, we ignore the following fields:\r\n\r\n- (4) receiver's services\r\n- (7) sender's services (duplicate with field 2 - services)\r\n- (8/9) sender's ipv6 addr/port\r\n\r\nPerhaps in the next p2p version bump, we should explicitly document those fields as unused, since there's no purpose for them.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/874575197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903921493",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-903921493",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 903921493,
    "node_id": "IC_kwDOABII58414L9V",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T16:20:09Z",
    "updated_at": "2021-08-23T16:20:09Z",
    "author_association": "MEMBER",
    "body": "crACK",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/903921493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905635787",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-905635787",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 905635787,
    "node_id": "IC_kwDOABII5841-ufL",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?u=71263a00d1269c7f0ed6660aa0c15c894df78a88&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T15:47:38Z",
    "updated_at": "2021-08-25T15:47:38Z",
    "author_association": "MEMBER",
    "body": "Code review ACK 75290ae61e37f9b7c432b59d03eca6f07f7529cd\r\n\r\nThe comment here:\r\n\r\nhttps://github.com/bitcoin/bitcoin/blob/75290ae61e37f9b7c432b59d03eca6f07f7529cd/src/protocol.h#L439\r\n\r\nCan probably be removed at this point.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905635787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905638156",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#issuecomment-905638156",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/20541",
    "id": 905638156,
    "node_id": "IC_kwDOABII5841-vEM",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?u=0691974eedcc2ab5366cc1080fb1c030e87244c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T15:49:16Z",
    "updated_at": "2021-08-25T15:49:16Z",
    "author_association": "MEMBER",
    "body": "#22780 ",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/905638156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533980130",
    "pull_request_review_id": 542597014,
    "id": 533980130,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk4MDEzMA==",
    "diff_hunk": "@@ -495,18 +495,17 @@ static void PushNodeVersion(CNode& pnode, CConnman& connman, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n-    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            addr_you, (uint64_t)addr.nServices, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n+            CService(), (uint64_t)nLocalNodeServices, // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "\"services\" must go before the address and port.\r\n\r\n```suggestion\r\n            (uint64_t)addr.nServices, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\r\n            (uint64_t)nLocalNodeServices, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\r\n```",
    "created_at": "2020-12-02T08:31:10Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533980130",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533980130"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533980130"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533980130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 501,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 502,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533983581",
    "pull_request_review_id": 542597014,
    "id": 533983581,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk4MzU4MQ==",
    "diff_hunk": "@@ -2295,15 +2294,15 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int nStartingHeight = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n-        nServices = ServiceFlags(nServiceInt);\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "What is `31402`?\r\n\r\n```sh\r\n$ git grep 31402\r\n$\r\n```",
    "created_at": "2020-12-02T08:36:56Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533983581",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533983581"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533983581"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533983581/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2454,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986388",
    "pull_request_review_id": 542597014,
    "id": 533986388,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk4NjM4OA==",
    "diff_hunk": "@@ -2295,15 +2294,15 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int nStartingHeight = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n-        nServices = ServiceFlags(nServiceInt);\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):\n+        vRecv >> static_cast<CService&>(addrMe) >> Using<CustomUintFormatter<8>>(addrMe.nServices);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ditto: swap services and address",
    "created_at": "2020-12-02T08:41:53Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533986388",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986388"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533986388"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2305,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986961",
    "pull_request_review_id": 542597014,
    "id": 533986961,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk4Njk2MQ==",
    "diff_hunk": "@@ -2322,8 +2321,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> static_cast<CService&>(addrFrom) >> Using<CustomUintFormatter<8>>(addrFrom.nServices);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 52,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "ditto: swap services and address\r\n",
    "created_at": "2020-12-02T08:42:50Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533986961",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986961"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r533986961"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/533986961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2326,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534021680",
    "pull_request_review_id": 542597014,
    "id": 534021680,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyMTY4MA==",
    "diff_hunk": "@@ -373,16 +373,7 @@ class CAddress : public CService\n         if (s.GetType() & SER_DISK) {\n             READWRITE(nVersion);\n         }\n-        if ((s.GetType() & SER_DISK) ||\n-            (nVersion != INIT_PROTO_VERSION && !(s.GetType() & SER_GETHASH))) {",
    "path": "src/protocol.h",
    "position": null,
    "original_position": 5,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "vasild",
      "id": 266751,
      "node_id": "MDQ6VXNlcjI2Njc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/266751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vasild",
      "html_url": "https://github.com/vasild",
      "followers_url": "https://api.github.com/users/vasild/followers",
      "following_url": "https://api.github.com/users/vasild/following{/other_user}",
      "gists_url": "https://api.github.com/users/vasild/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vasild/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vasild/subscriptions",
      "organizations_url": "https://api.github.com/users/vasild/orgs",
      "repos_url": "https://api.github.com/users/vasild/repos",
      "events_url": "https://api.github.com/users/vasild/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vasild/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "By removing this we assume that for non-disk serialization `s.GetType() & SER_GETHASH` is always false. I.e. `SER_GETHASH` is not used in non-disk ser/deser of `CAddress`. I think this is the case indeed.",
    "created_at": "2020-12-02T09:35:16Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534021680",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534021680"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534021680"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534021680/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 377,
    "side": "LEFT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534027133",
    "pull_request_review_id": 542656744,
    "id": 534027133,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyNzEzMw==",
    "diff_hunk": "@@ -2295,15 +2294,15 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int nStartingHeight = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n-        nServices = ServiceFlags(nServiceInt);\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 39,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "31402 is the protocol version that introduced the `nTime` field in CAddress. INIT_PROTO_VERSION (=209) being below it is the reason why the addresses inside the version message don't have it. There is no code left that depends on this, as all connections must be MIN_PEER_PROTO_VERSION (31800) after version negotiation now.\r\n\r\n* 209 is from may 2010\r\n* 31402 is from october 2010\r\n* 31800 is from december 2010",
    "created_at": "2020-12-02T09:43:14Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534027133",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534027133"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534027133"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534027133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2454,
    "side": "RIGHT",
    "in_reply_to_id": 533983581
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534233283",
    "pull_request_review_id": 542920903,
    "id": 534233283,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIzMzI4Mw==",
    "diff_hunk": "@@ -495,18 +495,17 @@ static void PushNodeVersion(CNode& pnode, CConnman& connman, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n-    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            addr_you, (uint64_t)addr.nServices, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n+            CService(), (uint64_t)nLocalNodeServices, // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "lontivero",
      "id": 127973,
      "node_id": "MDQ6VXNlcjEyNzk3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/127973?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lontivero",
      "html_url": "https://github.com/lontivero",
      "followers_url": "https://api.github.com/users/lontivero/followers",
      "following_url": "https://api.github.com/users/lontivero/following{/other_user}",
      "gists_url": "https://api.github.com/users/lontivero/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lontivero/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lontivero/subscriptions",
      "organizations_url": "https://api.github.com/users/lontivero/orgs",
      "repos_url": "https://api.github.com/users/lontivero/repos",
      "events_url": "https://api.github.com/users/lontivero/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lontivero/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes. No test caught this. ",
    "created_at": "2020-12-02T14:58:36Z",
    "updated_at": "2020-12-02T23:21:09Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534233283",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534233283"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534233283"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534233283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 501,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 502,
    "side": "RIGHT",
    "in_reply_to_id": 533980130
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549791",
    "pull_request_review_id": 543320436,
    "id": 534549791,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU0OTc5MQ==",
    "diff_hunk": "@@ -495,18 +495,17 @@ static void PushNodeVersion(CNode& pnode, CConnman& connman, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n-    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            addr_you, (uint64_t)addr.nServices, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\n+            CService(), (uint64_t)nLocalNodeServices, // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2020-12-02T23:21:40Z",
    "updated_at": "2020-12-02T23:21:40Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549791",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549791"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549791"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 501,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 502,
    "side": "RIGHT",
    "in_reply_to_id": 533980130
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549840",
    "pull_request_review_id": 543320494,
    "id": 534549840,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU0OTg0MA==",
    "diff_hunk": "@@ -2295,15 +2294,15 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int nStartingHeight = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n-        nServices = ServiceFlags(nServiceInt);\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):\n+        vRecv >> static_cast<CService&>(addrMe) >> Using<CustomUintFormatter<8>>(addrMe.nServices);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 40,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2020-12-02T23:21:47Z",
    "updated_at": "2020-12-02T23:21:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549840",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549840"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549840"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2305,
    "side": "RIGHT",
    "in_reply_to_id": 533986388
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549874",
    "pull_request_review_id": 543320540,
    "id": 534549874,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU0OTg3NA==",
    "diff_hunk": "@@ -2322,8 +2321,11 @@ void PeerManager::ProcessMessage(CNode& pfrom, const std::string& msg_type, CDat\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> static_cast<CService&>(addrFrom) >> Using<CustomUintFormatter<8>>(addrFrom.nServices);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 52,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2020-12-02T23:21:54Z",
    "updated_at": "2020-12-02T23:21:55Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549874",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549874"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534549874"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534549874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 2326,
    "side": "RIGHT",
    "in_reply_to_id": 533986961
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534550305",
    "pull_request_review_id": 543321069,
    "id": 534550305,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU1MDMwNQ==",
    "diff_hunk": "@@ -373,16 +373,7 @@ class CAddress : public CService\n         if (s.GetType() & SER_DISK) {\n             READWRITE(nVersion);\n         }\n-        if ((s.GetType() & SER_DISK) ||\n-            (nVersion != INIT_PROTO_VERSION && !(s.GetType() & SER_GETHASH))) {",
    "path": "src/protocol.h",
    "position": null,
    "original_position": 5,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "2eef441a1cb11edb234ba4571e0d4de1749e6734",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Yes, this is the case. #20516 adds an assert for this, actually.",
    "created_at": "2020-12-02T23:23:04Z",
    "updated_at": "2020-12-02T23:23:04Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534550305",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534550305"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r534550305"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/534550305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 377,
    "side": "LEFT",
    "in_reply_to_id": 534021680
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664332315",
    "pull_request_review_id": 699658253,
    "id": 664332315,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDMzMjMxNQ==",
    "diff_hunk": "@@ -2472,8 +2471,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> Using<CustomUintFormatter<8>>(addrFrom.nServices) >> static_cast<CService&>(addrFrom);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Since `addFrom` is just thrown away, maybe make this more explicit:\r\n\r\n```diff\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -2439,7 +2439,6 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\r\n \r\n         int64_t nTime;\r\n         CAddress addrMe;\r\n-        CAddress addrFrom;\r\n         uint64_t nNonce = 1;\r\n         ServiceFlags nServices;\r\n         int nVersion;\r\n@@ -2472,8 +2471,12 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\r\n         }\r\n \r\n         if (!vRecv.empty()) {\r\n-            // The pre-31402 serialization of addrFrom (which didn't include nTime).\r\n-            vRecv >> Using<CustomUintFormatter<8>>(addrFrom.nServices) >> static_cast<CService&>(addrFrom);\r\n+            // The version message includes information about the sending node which we don't use:\r\n+            //   - 8 bytes (service bits)\r\n+            //   - 16 bytes (ipv6 address)\r\n+            //   - 2 bytes (port)\r\n+            uint8_t unused[26];\r\n+            vRecv >> unused;\r\n             vRecv >> nNonce;\r\n         }\r\n         if (!vRecv.empty()) {\r\n```",
    "created_at": "2021-07-06T08:10:02Z",
    "updated_at": "2021-07-06T08:33:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664332315",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664332315"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664332315"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664332315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2475,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2476,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664336347",
    "pull_request_review_id": 699658253,
    "id": 664336347,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDMzNjM0Nw==",
    "diff_hunk": "@@ -2442,18 +2441,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int starting_height = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n         if (nTime < 0) {\n             nTime = 0;\n         }\n-        nServices = ServiceFlags(nServiceInt);\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):\n+        vRecv >> Using<CustomUintFormatter<8>>(addrMe.nServices) >> static_cast<CService&>(addrMe);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 44,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "The service bits here are never used (we don't care what the peer thinks our services are), so we can be more explicit in discarding them and only using the `CService` data:\r\n\r\n```diff\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -2438,7 +2438,7 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\r\n         }\r\n \r\n         int64_t nTime;\r\n-        CAddress addrMe;\r\n+        CService addrMe;\r\n         CAddress addrFrom;\r\n         uint64_t nNonce = 1;\r\n         ServiceFlags nServices;\r\n@@ -2451,8 +2451,10 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\r\n         if (nTime < 0) {\r\n             nTime = 0;\r\n         }\r\n-        // The pre-31402 serialization of addrMe (which didn't include nTime):\r\n-        vRecv >> Using<CustomUintFormatter<8>>(addrMe.nServices) >> static_cast<CService&>(addrMe);\r\n+        // Ignore the addrMe service bits sent by the peer\r\n+        uint8_t unused_service_bits[8];\r\n+        vRecv >> unused_service_bits;\r\n+        vRecv >> addrMe;\r\n         if (!pfrom.IsInboundConn())\r\n         {\r\n             m_addrman.SetServices(pfrom.addr, nServices);\r\n```",
    "created_at": "2021-07-06T08:15:29Z",
    "updated_at": "2021-07-06T08:33:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664336347",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664336347"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664336347"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664336347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2454,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2455,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664347584",
    "pull_request_review_id": 699658253,
    "id": 664347584,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDM0NzU4NA==",
    "diff_hunk": "@@ -1040,19 +1040,18 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Rather than having these casts in the `Make()` call, perhaps it's a bit more legible as:\r\n\r\n```diff\r\n--- a/src/net_processing.cpp\r\n+++ b/src/net_processing.cpp\r\n@@ -1034,18 +1034,19 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\r\n     // Note that pnode->GetLocalServices() is a reflection of the local\r\n     // services we were offering when the CNode object was created for this\r\n     // peer.\r\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\r\n+    auto my_services = static_cast<uint64_t>(pnode.GetLocalServices());\r\n     uint64_t nonce = pnode.GetLocalNonce();\r\n     const int nNodeStartingHeight{m_best_height};\r\n     NodeId nodeid = pnode.GetId();\r\n     CAddress addr = pnode.addr;\r\n \r\n     CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\r\n+    auto your_services = static_cast<uint64_t>(addr.nServices);\r\n \r\n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\r\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\r\n-            (uint64_t)addr.nServices, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\r\n-            (uint64_t)nLocalNodeServices, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\r\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, my_services, nTime,\r\n+            your_services, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)\r\n+            my_services, CService(), // Together the pre-version-31402 serialization of CAddress \"addrMe\" (without nTime)\r\n             nonce, strSubVersion, nNodeStartingHeight, tx_relay));\r\n \r\n     if (fLogIPs) {\r\n\r\n```",
    "created_at": "2021-07-06T08:29:55Z",
    "updated_at": "2021-07-06T08:33:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664347584",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664347584"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664347584"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664347584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1046,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664349865",
    "pull_request_review_id": 699658253,
    "id": 664349865,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2NDM0OTg2NQ==",
    "diff_hunk": "@@ -1040,19 +1040,18 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            (uint64_t)addr.nServices, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I'm not sure that references to version 31402 are very useful (beyond being a historical footnote). The `version` message contains {services, ipv6 addr, port} elements - the fact that that also used to be how address records used to be serialized in `addr` messages is not helpful in understanding the current protocol.",
    "created_at": "2021-07-06T08:32:51Z",
    "updated_at": "2021-07-06T08:33:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664349865",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664349865"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r664349865"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/664349865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1047,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666875768",
    "pull_request_review_id": 702949656,
    "id": 666875768,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY2Njg3NTc2OA==",
    "diff_hunk": "@@ -2472,8 +2471,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> Using<CustomUintFormatter<8>>(addrFrom.nServices) >> static_cast<CService&>(addrFrom);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree that `addrFrom` can be removed completely if it is never read from",
    "created_at": "2021-07-09T11:20:21Z",
    "updated_at": "2021-07-09T11:20:21Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r666875768",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666875768"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r666875768"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/666875768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2475,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2476,
    "side": "RIGHT",
    "in_reply_to_id": 664332315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167654",
    "pull_request_review_id": 735320504,
    "id": 693167654,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzE2NzY1NA==",
    "diff_hunk": "@@ -2472,8 +2471,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> Using<CustomUintFormatter<8>>(addrFrom.nServices) >> static_cast<CService&>(addrFrom);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done (using `vRecv.Ignore(26);` instead).",
    "created_at": "2021-08-20T19:17:30Z",
    "updated_at": "2021-08-20T19:17:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167654",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167654"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167654"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2475,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2476,
    "side": "RIGHT",
    "in_reply_to_id": 664332315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167862",
    "pull_request_review_id": 735320760,
    "id": 693167862,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzE2Nzg2Mg==",
    "diff_hunk": "@@ -2442,18 +2441,18 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n         CAddress addrMe;\n         CAddress addrFrom;\n         uint64_t nNonce = 1;\n-        uint64_t nServiceInt;\n         ServiceFlags nServices;\n         int nVersion;\n         std::string cleanSubVer;\n         int starting_height = -1;\n         bool fRelay = true;\n \n-        vRecv >> nVersion >> nServiceInt >> nTime >> addrMe;\n+        vRecv >> nVersion >> Using<CustomUintFormatter<8>>(nServices) >> nTime;\n         if (nTime < 0) {\n             nTime = 0;\n         }\n-        nServices = ServiceFlags(nServiceInt);\n+        // The pre-31402 serialization of addrMe (which didn't include nTime):\n+        vRecv >> Using<CustomUintFormatter<8>>(addrMe.nServices) >> static_cast<CService&>(addrMe);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 44,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done (using `vRecv.ignore(8);` instead).",
    "created_at": "2021-08-20T19:17:51Z",
    "updated_at": "2021-08-20T19:17:51Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167862",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167862"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167862"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2454,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2455,
    "side": "RIGHT",
    "in_reply_to_id": 664336347
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167932",
    "pull_request_review_id": 735320855,
    "id": 693167932,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzE2NzkzMg==",
    "diff_hunk": "@@ -1040,19 +1040,18 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 12,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2021-08-20T19:18:00Z",
    "updated_at": "2021-08-20T19:18:00Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167932",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167932"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693167932"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693167932/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1046,
    "side": "RIGHT",
    "in_reply_to_id": 664347584
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693168220",
    "pull_request_review_id": 735321289,
    "id": 693168220,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzE2ODIyMA==",
    "diff_hunk": "@@ -1040,19 +1040,18 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            (uint64_t)addr.nServices, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think they're useful for the time being, as I'd expect more descriptions and documentations of the protocol will keep referring to these fields as `CAddress`es.",
    "created_at": "2021-08-20T19:18:36Z",
    "updated_at": "2021-08-20T19:18:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693168220",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693168220"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693168220"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693168220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1047,
    "side": "RIGHT",
    "in_reply_to_id": 664349865
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358001",
    "pull_request_review_id": 735497704,
    "id": 693358001,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzM1ODAwMQ==",
    "diff_hunk": "@@ -2520,8 +2519,13 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The version message includes information about the sending node which we don't use:\n+            //   - 8 bytes (service bits)\n+            //   - 16 bytes (ipv6 address)\n+            //   - 2 bytes (port)\n+            vRecv.ignore(26);",
    "path": "src/net_processing.cpp",
    "position": 71,
    "original_position": 71,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nNonce uninitialized?",
    "created_at": "2021-08-21T13:56:46Z",
    "updated_at": "2021-08-21T14:00:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358001",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358001"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358001"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2527,
    "original_line": 2527,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358185",
    "pull_request_review_id": 735497704,
    "id": 693358185,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzM1ODE4NQ==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    auto my_services = (uint64_t)pnode.GetLocalServices();",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "`uint64_t my_services{pnode.GetLocalServices()};` is shorter, safer, and looks better",
    "created_at": "2021-08-21T13:58:28Z",
    "updated_at": "2021-08-21T14:00:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358185",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358185"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358185"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1090,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358244",
    "pull_request_review_id": 735497704,
    "id": 693358244,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzM1ODI0NA==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    auto my_services = (uint64_t)pnode.GetLocalServices();\n     uint64_t nonce = pnode.GetLocalNonce();\n     const int nNodeStartingHeight{m_best_height};\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n+    auto your_services = (uint64_t)addr.nServices;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "same",
    "created_at": "2021-08-21T13:59:43Z",
    "updated_at": "2021-08-21T14:00:29Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358244",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358244"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693358244"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693358244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1097,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416005",
    "pull_request_review_id": 735527857,
    "id": 693416005,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzQxNjAwNQ==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    auto my_services = (uint64_t)pnode.GetLocalServices();\n     uint64_t nonce = pnode.GetLocalNonce();\n     const int nNodeStartingHeight{m_best_height};\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n+    auto your_services = (uint64_t)addr.nServices;",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 16,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done.",
    "created_at": "2021-08-21T23:53:11Z",
    "updated_at": "2021-08-21T23:53:11Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416005",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416005"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416005"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1097,
    "side": "RIGHT",
    "in_reply_to_id": 693358244
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416011",
    "pull_request_review_id": 735527864,
    "id": 693416011,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzQxNjAxMQ==",
    "diff_hunk": "@@ -2520,8 +2519,13 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The version message includes information about the sending node which we don't use:\n+            //   - 8 bytes (service bits)\n+            //   - 16 bytes (ipv6 address)\n+            //   - 2 bytes (port)\n+            vRecv.ignore(26);",
    "path": "src/net_processing.cpp",
    "position": 71,
    "original_position": 71,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Fixed.",
    "created_at": "2021-08-21T23:53:21Z",
    "updated_at": "2021-08-21T23:53:22Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416011",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416011"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416011"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 2527,
    "original_line": 2527,
    "side": "RIGHT",
    "in_reply_to_id": 693358001
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416029",
    "pull_request_review_id": 735527874,
    "id": 693416029,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzQxNjAyOQ==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    auto my_services = (uint64_t)pnode.GetLocalServices();",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 5,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "79aa69c08423c6dc86f15fbfcdd430307a906abd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Agree, done.",
    "created_at": "2021-08-21T23:53:30Z",
    "updated_at": "2021-08-21T23:53:31Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416029",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416029"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693416029"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693416029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1090,
    "side": "RIGHT",
    "in_reply_to_id": 693358185
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693515258",
    "pull_request_review_id": 735585657,
    "id": 693515258,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5MzUxNTI1OA==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    uint64_t my_services{pnode.GetLocalServices()};\n     uint64_t nonce = pnode.GetLocalNonce();\n     const int nNodeStartingHeight{m_best_height};\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n+    uint64_t your_services{addr.nServices};",
    "path": "src/net_processing.cpp",
    "position": 16,
    "original_position": 16,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "user": {
      "login": "jonatack",
      "id": 2415484,
      "node_id": "MDQ6VXNlcjI0MTU0ODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2415484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonatack",
      "html_url": "https://github.com/jonatack",
      "followers_url": "https://api.github.com/users/jonatack/followers",
      "following_url": "https://api.github.com/users/jonatack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonatack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonatack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonatack/subscriptions",
      "organizations_url": "https://api.github.com/users/jonatack/orgs",
      "repos_url": "https://api.github.com/users/jonatack/repos",
      "events_url": "https://api.github.com/users/jonatack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonatack/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "nit, can be const\r\n```diff\r\n-    uint64_t my_services{pnode.GetLocalServices()};\r\n-    uint64_t nonce = pnode.GetLocalNonce();\r\n+    const uint64_t my_services{pnode.GetLocalServices()};\r\n+    const uint64_t nonce{pnode.GetLocalNonce()};\r\n     const int nNodeStartingHeight{m_best_height};\r\n-    NodeId nodeid = pnode.GetId();\r\n+    const NodeId nodeid{pnode.GetId()};\r\n     CAddress addr = pnode.addr;\r\n \r\n-    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\r\n-    uint64_t your_services{addr.nServices};\r\n+    const CService addr_you{addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService()};\r\n+    const uint64_t your_services{addr.nServices};\r\n```\r\n",
    "created_at": "2021-08-22T15:04:40Z",
    "updated_at": "2021-08-22T15:07:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693515258",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693515258"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r693515258"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/693515258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1097,
    "original_line": 1097,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694032533",
    "pull_request_review_id": 736204524,
    "id": 694032533,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NDAzMjUzMw==",
    "diff_hunk": "@@ -1087,25 +1087,25 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     // Note that pnode->GetLocalServices() is a reflection of the local\n     // services we were offering when the CNode object was created for this\n     // peer.\n-    ServiceFlags nLocalNodeServices = pnode.GetLocalServices();\n+    uint64_t my_services{pnode.GetLocalServices()};\n     uint64_t nonce = pnode.GetLocalNonce();\n     const int nNodeStartingHeight{m_best_height};\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n+    uint64_t your_services{addr.nServices};",
    "path": "src/net_processing.cpp",
    "position": 16,
    "original_position": 16,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "user": {
      "login": "sipa",
      "id": 548488,
      "node_id": "MDQ6VXNlcjU0ODQ4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sipa",
      "html_url": "https://github.com/sipa",
      "followers_url": "https://api.github.com/users/sipa/followers",
      "following_url": "https://api.github.com/users/sipa/following{/other_user}",
      "gists_url": "https://api.github.com/users/sipa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sipa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
      "organizations_url": "https://api.github.com/users/sipa/orgs",
      "repos_url": "https://api.github.com/users/sipa/repos",
      "events_url": "https://api.github.com/users/sipa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sipa/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Will include this if I have to retouch for other reasons.",
    "created_at": "2021-08-23T14:37:34Z",
    "updated_at": "2021-08-23T14:37:34Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r694032533",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694032533"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r694032533"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/694032533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 1097,
    "original_line": 1097,
    "side": "RIGHT",
    "in_reply_to_id": 693515258
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695873779",
    "pull_request_review_id": 738515537,
    "id": 695873779,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTg3Mzc3OQ==",
    "diff_hunk": "@@ -2472,8 +2471,11 @@ void PeerManagerImpl::ProcessMessage(CNode& pfrom, const std::string& msg_type,\n             return;\n         }\n \n-        if (!vRecv.empty())\n-            vRecv >> addrFrom >> nNonce;\n+        if (!vRecv.empty()) {\n+            // The pre-31402 serialization of addrFrom (which didn't include nTime).\n+            vRecv >> Using<CustomUintFormatter<8>>(addrFrom.nServices) >> static_cast<CService&>(addrFrom);",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 56,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Thanks for teaching me about `CDataStream.ignore()`!",
    "created_at": "2021-08-25T15:35:18Z",
    "updated_at": "2021-08-25T15:35:19Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r695873779",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695873779"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r695873779"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695873779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 2475,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 2476,
    "side": "RIGHT",
    "in_reply_to_id": 664332315
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695874141",
    "pull_request_review_id": 738516016,
    "id": 695874141,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY5NTg3NDE0MQ==",
    "diff_hunk": "@@ -1040,19 +1040,18 @@ void PeerManagerImpl::PushNodeVersion(CNode& pnode, int64_t nTime)\n     NodeId nodeid = pnode.GetId();\n     CAddress addr = pnode.addr;\n \n-    CAddress addrYou = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ?\n-                           addr :\n-                           CAddress(CService(), addr.nServices);\n-    CAddress addrMe = CAddress(CService(), nLocalNodeServices);\n+    CService addr_you = addr.IsRoutable() && !IsProxy(addr) && addr.IsAddrV1Compatible() ? addr : CService();\n \n     const bool tx_relay = !m_ignore_incoming_txs && pnode.m_tx_relay != nullptr;\n-    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime, addrYou, addrMe,\n+    m_connman.PushMessage(&pnode, CNetMsgMaker(INIT_PROTO_VERSION).Make(NetMsgType::VERSION, PROTOCOL_VERSION, (uint64_t)nLocalNodeServices, nTime,\n+            (uint64_t)addr.nServices, addr_you, // Together the pre-version-31402 serialization of CAddress \"addrYou\" (without nTime)",
    "path": "src/net_processing.cpp",
    "position": null,
    "original_position": 13,
    "commit_id": "75290ae61e37f9b7c432b59d03eca6f07f7529cd",
    "original_commit_id": "775954ac5ffd2b0d6f89a5b35e4120f0d170c884",
    "user": {
      "login": "jnewbery",
      "id": 1063656,
      "node_id": "MDQ6VXNlcjEwNjM2NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1063656?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnewbery",
      "html_url": "https://github.com/jnewbery",
      "followers_url": "https://api.github.com/users/jnewbery/followers",
      "following_url": "https://api.github.com/users/jnewbery/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnewbery/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnewbery/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnewbery/subscriptions",
      "organizations_url": "https://api.github.com/users/jnewbery/orgs",
      "repos_url": "https://api.github.com/users/jnewbery/repos",
      "events_url": "https://api.github.com/users/jnewbery/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnewbery/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Seems reasonable",
    "created_at": "2021-08-25T15:35:44Z",
    "updated_at": "2021-08-25T15:35:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r695874141",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695874141"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/20541#discussion_r695874141"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/20541"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/695874141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 1047,
    "side": "RIGHT",
    "in_reply_to_id": 664349865
  }
]