[
  {
    "sha": "1c28feb7d026bc18304149d96f81888059d52670",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoxYzI4ZmViN2QwMjZiYzE4MzA0MTQ5ZDk2ZjgxODg4MDU5ZDUyNjcw",
    "commit": {
      "author": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-11-28T12:19:04Z"
      },
      "committer": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2018-11-29T07:58:40Z"
      },
      "message": "qt: Remove hidden columns in coin control dialog",
      "tree": {
        "sha": "792ee3f5f9a128084f6a72952f9b247d00761887",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/792ee3f5f9a128084f6a72952f9b247d00761887"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/1c28feb7d026bc18304149d96f81888059d52670",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c28feb7d026bc18304149d96f81888059d52670",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/1c28feb7d026bc18304149d96f81888059d52670",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1c28feb7d026bc18304149d96f81888059d52670/comments",
    "author": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "600b85bb417295f4d9c7d5b9fd8502f3c8f113e3",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/600b85bb417295f4d9c7d5b9fd8502f3c8f113e3",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/600b85bb417295f4d9c7d5b9fd8502f3c8f113e3"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 17,
      "deletions": 14
    },
    "files": [
      {
        "sha": "77f8bcf9016afc869c7cad5033d39e0b6707daac",
        "filename": "src/qt/coincontroldialog.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 11,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1c28feb7d026bc18304149d96f81888059d52670/src/qt/coincontroldialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1c28feb7d026bc18304149d96f81888059d52670/src/qt/coincontroldialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.cpp?ref=1c28feb7d026bc18304149d96f81888059d52670",
        "patch": "@@ -129,8 +129,6 @@ CoinControlDialog::CoinControlDialog(const PlatformStyle *_platformStyle, QWidge\n     ui->treeWidget->setColumnWidth(COLUMN_ADDRESS, 320);\n     ui->treeWidget->setColumnWidth(COLUMN_DATE, 130);\n     ui->treeWidget->setColumnWidth(COLUMN_CONFIRMATIONS, 110);\n-    ui->treeWidget->setColumnHidden(COLUMN_TXHASH, true);         // store transaction hash in this column, but don't show it\n-    ui->treeWidget->setColumnHidden(COLUMN_VOUT_INDEX, true);     // store vout index in this column, but don't show it\n \n     // default view is sorted by amount desc\n     sortView(COLUMN_AMOUNT, Qt::DescendingOrder);\n@@ -203,10 +201,10 @@ void CoinControlDialog::showMenu(const QPoint &point)\n         contextMenuItem = item;\n \n         // disable some items (like Copy Transaction ID, lock, unlock) for tree roots in context menu\n-        if (item->text(COLUMN_TXHASH).length() == 64) // transaction hash is 64 characters (this means it is a child node, so it is not a parent node in tree mode)\n+        if (item->data(COLUMN_ADDRESS, TxHashRole).toString().length() == 64) // transaction hash is 64 characters (this means it is a child node, so it is not a parent node in tree mode)\n         {\n             copyTransactionHashAction->setEnabled(true);\n-            if (model->wallet().isLockedCoin(COutPoint(uint256S(item->text(COLUMN_TXHASH).toStdString()), item->text(COLUMN_VOUT_INDEX).toUInt())))\n+            if (model->wallet().isLockedCoin(COutPoint(uint256S(item->data(COLUMN_ADDRESS, TxHashRole).toString().toStdString()), item->data(COLUMN_ADDRESS, VOutRole).toUInt())))\n             {\n                 lockAction->setEnabled(false);\n                 unlockAction->setEnabled(true);\n@@ -256,7 +254,7 @@ void CoinControlDialog::copyAddress()\n // context menu action: copy transaction id\n void CoinControlDialog::copyTransactionHash()\n {\n-    GUIUtil::setClipboard(contextMenuItem->text(COLUMN_TXHASH));\n+    GUIUtil::setClipboard(contextMenuItem->data(COLUMN_ADDRESS, TxHashRole).toString());\n }\n \n // context menu action: lock coin\n@@ -265,7 +263,7 @@ void CoinControlDialog::lockCoin()\n     if (contextMenuItem->checkState(COLUMN_CHECKBOX) == Qt::Checked)\n         contextMenuItem->setCheckState(COLUMN_CHECKBOX, Qt::Unchecked);\n \n-    COutPoint outpt(uint256S(contextMenuItem->text(COLUMN_TXHASH).toStdString()), contextMenuItem->text(COLUMN_VOUT_INDEX).toUInt());\n+    COutPoint outpt(uint256S(contextMenuItem->data(COLUMN_ADDRESS, TxHashRole).toString().toStdString()), contextMenuItem->data(COLUMN_ADDRESS, VOutRole).toUInt());\n     model->wallet().lockCoin(outpt);\n     contextMenuItem->setDisabled(true);\n     contextMenuItem->setIcon(COLUMN_CHECKBOX, platformStyle->SingleColorIcon(\":/icons/lock_closed\"));\n@@ -275,7 +273,7 @@ void CoinControlDialog::lockCoin()\n // context menu action: unlock coin\n void CoinControlDialog::unlockCoin()\n {\n-    COutPoint outpt(uint256S(contextMenuItem->text(COLUMN_TXHASH).toStdString()), contextMenuItem->text(COLUMN_VOUT_INDEX).toUInt());\n+    COutPoint outpt(uint256S(contextMenuItem->data(COLUMN_ADDRESS, TxHashRole).toString().toStdString()), contextMenuItem->data(COLUMN_ADDRESS, VOutRole).toUInt());\n     model->wallet().unlockCoin(outpt);\n     contextMenuItem->setDisabled(false);\n     contextMenuItem->setIcon(COLUMN_CHECKBOX, QIcon());\n@@ -371,9 +369,9 @@ void CoinControlDialog::radioListMode(bool checked)\n // checkbox clicked by user\n void CoinControlDialog::viewItemChanged(QTreeWidgetItem* item, int column)\n {\n-    if (column == COLUMN_CHECKBOX && item->text(COLUMN_TXHASH).length() == 64) // transaction hash is 64 characters (this means it is a child node, so it is not a parent node in tree mode)\n+    if (column == COLUMN_CHECKBOX && item->data(COLUMN_ADDRESS, TxHashRole).toString().length() == 64) // transaction hash is 64 characters (this means it is a child node, so it is not a parent node in tree mode)\n     {\n-        COutPoint outpt(uint256S(item->text(COLUMN_TXHASH).toStdString()), item->text(COLUMN_VOUT_INDEX).toUInt());\n+        COutPoint outpt(uint256S(item->data(COLUMN_ADDRESS, TxHashRole).toString().toStdString()), item->data(COLUMN_ADDRESS, VOutRole).toUInt());\n \n         if (item->checkState(COLUMN_CHECKBOX) == Qt::Unchecked)\n             coinControl()->UnSelect(outpt);\n@@ -693,10 +691,10 @@ void CoinControlDialog::updateView()\n             itemOutput->setData(COLUMN_CONFIRMATIONS, Qt::UserRole, QVariant((qlonglong)out.depth_in_main_chain));\n \n             // transaction hash\n-            itemOutput->setText(COLUMN_TXHASH, QString::fromStdString(output.hash.GetHex()));\n+            itemOutput->setData(COLUMN_ADDRESS, TxHashRole, QString::fromStdString(output.hash.GetHex()));\n \n             // vout index\n-            itemOutput->setText(COLUMN_VOUT_INDEX, QString::number(output.n));\n+            itemOutput->setData(COLUMN_ADDRESS, VOutRole, output.n);\n \n              // disable locked coins\n             if (model->wallet().isLockedCoin(output))"
      },
      {
        "sha": "8f15ae4b20496ac403d63b672c0d0b202f3ffd7e",
        "filename": "src/qt/coincontroldialog.h",
        "status": "modified",
        "additions": 7,
        "deletions": 2,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1c28feb7d026bc18304149d96f81888059d52670/src/qt/coincontroldialog.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1c28feb7d026bc18304149d96f81888059d52670/src/qt/coincontroldialog.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/coincontroldialog.h?ref=1c28feb7d026bc18304149d96f81888059d52670",
        "patch": "@@ -80,9 +80,14 @@ class CoinControlDialog : public QDialog\n         COLUMN_ADDRESS,\n         COLUMN_DATE,\n         COLUMN_CONFIRMATIONS,\n-        COLUMN_TXHASH,\n-        COLUMN_VOUT_INDEX,\n     };\n+\n+    enum\n+    {\n+        TxHashRole = Qt::UserRole,\n+        VOutRole\n+    };\n+\n     friend class CCoinControlWidgetItem;\n \n private Q_SLOTS:"
      },
      {
        "sha": "bd7f3c5f56b864baeb407dca479f5ace50b914ec",
        "filename": "src/qt/forms/coincontroldialog.ui",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/1c28feb7d026bc18304149d96f81888059d52670/src/qt/forms/coincontroldialog.ui",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/1c28feb7d026bc18304149d96f81888059d52670/src/qt/forms/coincontroldialog.ui",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/forms/coincontroldialog.ui?ref=1c28feb7d026bc18304149d96f81888059d52670",
        "patch": "@@ -402,7 +402,7 @@\n       <bool>false</bool>\n      </property>\n      <property name=\"columnCount\">\n-      <number>10</number>\n+      <number>6</number>\n      </property>\n      <attribute name=\"headerShowSortIndicator\" stdset=\"0\">\n       <bool>true</bool>"
      }
    ]
  }
]