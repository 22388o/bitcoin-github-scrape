MarcoFalke,2020-05-20 19:15:23,"The fuzz tests are complaining:\n```\ntest/fuzz/string.cpp:111:15: error: no template named 'LimitedString'\n\n        const LimitedString<10> limited_string = LIMITED_STRING(random_string_1, 10);",https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-631671836,631671836,
practicalswift,2020-05-21 07:14:05,"Concept ACK\n\nThe new serialization code is clearer and thus much easier to reason about.",https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-631926143,631926143,
MarcoFalke,2020-05-24 12:42:04,"re-ACK 81caf8a869 only changes since previous review üè∫\n\n* Change author email address in one commit\n* Restore uncorrupted documentation for m_pre_split\n* Remove one overly eager hunk in CMerkleTx to minimize the diff\n* Make the fuzz tests compile again\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA51",https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-633225390,633225390,
jonatack,2020-05-25 10:05:10,"ACK 71f016c6eb42e1ac2 reviewed diff, builds/tests/re-fuzzed.\n\n<details><summary>changes since 81caf8a: avoiding use before initialization of <code>nVersion</code> in <code>ScriptPubKeyMan::Unserialize()</code> and documentation fixup</summary><p>\n\n```diff\n\ndiff --git a/src/wallet/scriptpubkeyman.h b/src/wallet/scriptpubkeyman.h\n--- a/src/wallet/scriptpubkeyman.h\n+++ b/src/wallet/sc",https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-633493223,633493223,
laanwj,2020-05-26 13:44:22,Code review ACK 71f016c6eb42e1ac2c905e04ba4d20c2009e533f,https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-634034066,634034066,
MarcoFalke,2020-06-08 14:29:36,"re-ACK 71f016c ü§¥\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nre-ACK 71f016c ü§¥\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiCcgv9FZxj/YquESruZvS2FcLiLs55nDP0DClnbFBcYts6JsuqkeMwNIiBY1Oa\nA8Qx6zv8qN1PdFVXsOhzoA86abTQMGxzJkBHRqC73eDtB9n9DsS",https://github.com/bitcoin/bitcoin/pull/19032#issuecomment-640660694,640660694,
MarcoFalke,2020-05-20 18:49:23,"in commit 3fc67497b85b1f465beb5c3d52303a7828c8cacc:\n\nWhy change the documentation?\n\n```suggestion\n            /* flag as external address if we can't read the m_pre_split boolean\n```",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r428235753,428235753,src/wallet/scriptpubkeyman.h
MarcoFalke,2020-05-20 18:49:56,"```suggestion\n               (this will be the case for any wallet that upgrades to HD chain split)*/\n```\n\nSame",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r428236072,428236072,src/wallet/scriptpubkeyman.h
MarcoFalke,2020-05-20 18:51:48,"in commit 3fc67497b85b1f465beb5c3d52303a7828c8cacc:\n\nLooks like the change in this file isn't needed? I don't mind either way, just noting.",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r428237089,428237089,src/wallet/wallet.h
sipa,2020-05-21 23:09:31,"You're right. I think this code was originally written before the Serialize method was removed here, and through rebases now reintroduces it. I'm happy to remove it, but perhaps it's desirable for consistency reasons.",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r428962263,428962263,src/wallet/wallet.h
MarcoFalke,2020-05-21 23:38:39,"The serialization code has been removed in 05b56d1c937b7667ad51400d2f9fb674af72953f, just for reference.",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r428970248,428970248,src/wallet/wallet.h
sipa,2020-05-24 07:00:28,"Ok, removed here. No need to effectively revert that change.",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429606219,429606219,src/wallet/wallet.h
MarcoFalke,2020-05-24 12:45:18,"```suggestion\n            /* flag as postsplit address if we can't read the m_pre_split boolean\n```\n\nI think this is still wrong",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429632989,429632989,src/wallet/scriptpubkeyman.h
jonatack,2020-05-24 14:16:15,"309a653 s/external/postsplit/?\n\n```diff\n-            /* flag as external address if we can't read the m_pre_split boolean\n+            /* flag as postsplit address if we can't read the m_pre_split boolean\n```",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429641302,429641302,src/wallet/scriptpubkeyman.h
sipa,2020-05-24 17:38:04,Fixed.,https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429658655,429658655,src/wallet/scriptpubkeyman.h
sipa,2020-05-24 17:38:13,Fixed.,https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429658667,429658667,src/wallet/scriptpubkeyman.h
jonatack,2020-05-25 09:26:27,"ef17c03 is this new change from 309a653 intentional (needed for deserializing)?\n```diff\n-        int nVersion;\n+        int nVersion = s.GetVersion();\n```",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429832792,429832792,src/wallet/scriptpubkeyman.h
sipa,2020-05-25 15:28:37,"I doubt it's needed, as I don't think this class is ever deserialized with SER_GETHASH. However, if it were ever invoked that way, the old code was UB (nVersion would be used without being initialized).",https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429990753,429990753,src/wallet/scriptpubkeyman.h
jonatack,2020-05-25 15:52:22,Thank you. Good catch and reminder.,https://github.com/bitcoin/bitcoin/pull/19032#discussion_r429999558,429999558,src/wallet/scriptpubkeyman.h
