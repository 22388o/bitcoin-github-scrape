[
  {
    "sha": "a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzphOGI1MTVjMzE3ZjBiNTU2MGY2MmM3MmE4ZjRlYjY1NjBkOGYxYzc1",
    "commit": {
      "author": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-07-06T06:57:23Z"
      },
      "committer": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-07-06T06:57:23Z"
      },
      "message": "configure: keep relative paths in debug info\n\nRevert to the state prior to e507acbe and allow debugging\nfrom project root dir with `gdb src/bitcoind`.",
      "tree": {
        "sha": "df30bbecbfe3c1b2865801f8925ad9266f5aeb21",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/df30bbecbfe3c1b2865801f8925ad9266f5aeb21"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75/comments",
    "author": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "3f56ef7bef22f0c8c94ad7e401d50b188dae2cbe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/3f56ef7bef22f0c8c94ad7e401d50b188dae2cbe",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/3f56ef7bef22f0c8c94ad7e401d50b188dae2cbe"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "20ba0f72d74a127d67acb74318f5d06858a8ce70",
        "filename": "configure.ac",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75/configure.ac",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75/configure.ac",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/configure.ac?ref=a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
        "patch": "@@ -1627,8 +1627,8 @@ if test \"x$use_ccache\" != \"xno\"; then\n   fi\n   AC_MSG_RESULT($use_ccache)\n   if test \"x$use_ccache\" = \"xyes\"; then\n-    AX_CHECK_COMPILE_FLAG([-fdebug-prefix-map=A=B],[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -fdebug-prefix-map=\\$(abs_srcdir)=.\"],,[[$CXXFLAG_WERROR]])\n-    AX_CHECK_PREPROC_FLAG([-fmacro-prefix-map=A=B],[DEBUG_CPPFLAGS=\"$DEBUG_CPPFLAGS -fmacro-prefix-map=\\$(abs_srcdir)=.\"],,[[$CXXFLAG_WERROR]])\n+    AX_CHECK_COMPILE_FLAG([-fdebug-prefix-map=A=B],[DEBUG_CXXFLAGS=\"$DEBUG_CXXFLAGS -fdebug-prefix-map=\\$(abs_top_srcdir)=.\"],,[[$CXXFLAG_WERROR]])\n+    AX_CHECK_PREPROC_FLAG([-fmacro-prefix-map=A=B],[DEBUG_CPPFLAGS=\"$DEBUG_CPPFLAGS -fmacro-prefix-map=\\$(abs_top_srcdir)=.\"],,[[$CXXFLAG_WERROR]])\n   fi\n fi\n "
      }
    ]
  },
  {
    "sha": "0bc666b053b8f4883c3f5de43959e2bbd91b95c5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowYmM2NjZiMDUzYjhmNDg4M2MzZjVkZTQzOTU5ZTJiYmQ5MWI5NWM1",
    "commit": {
      "author": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-07-06T07:15:07Z"
      },
      "committer": {
        "name": "S3RK",
        "email": "1466284+S3RK@users.noreply.github.com",
        "date": "2021-08-21T18:42:42Z"
      },
      "message": "doc: add info for debugging with relative paths",
      "tree": {
        "sha": "dcddd8edf45b38e6358261344e37fb25516ea054",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/dcddd8edf45b38e6358261344e37fb25516ea054"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0bc666b053b8f4883c3f5de43959e2bbd91b95c5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0bc666b053b8f4883c3f5de43959e2bbd91b95c5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0bc666b053b8f4883c3f5de43959e2bbd91b95c5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0bc666b053b8f4883c3f5de43959e2bbd91b95c5/comments",
    "author": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "S3RK",
      "id": 1466284,
      "node_id": "MDQ6VXNlcjE0NjYyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1466284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/S3RK",
      "html_url": "https://github.com/S3RK",
      "followers_url": "https://api.github.com/users/S3RK/followers",
      "following_url": "https://api.github.com/users/S3RK/following{/other_user}",
      "gists_url": "https://api.github.com/users/S3RK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/S3RK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/S3RK/subscriptions",
      "organizations_url": "https://api.github.com/users/S3RK/orgs",
      "repos_url": "https://api.github.com/users/S3RK/repos",
      "events_url": "https://api.github.com/users/S3RK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/S3RK/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a8b515c317f0b5560f62c72a8f4eb6560d8f1c75"
      }
    ],
    "stats": {
      "total": 30,
      "additions": 30,
      "deletions": 0
    },
    "files": [
      {
        "sha": "be832577409bdef0707f25cb3540f0156777993f",
        "filename": "doc/developer-notes.md",
        "status": "modified",
        "additions": 30,
        "deletions": 0,
        "changes": 30,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0bc666b053b8f4883c3f5de43959e2bbd91b95c5/doc/developer-notes.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0bc666b053b8f4883c3f5de43959e2bbd91b95c5/doc/developer-notes.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/doc/developer-notes.md?ref=0bc666b053b8f4883c3f5de43959e2bbd91b95c5",
        "patch": "@@ -12,6 +12,7 @@ Developer Notes\n       - [Generating Documentation](#generating-documentation)\n     - [Development tips and tricks](#development-tips-and-tricks)\n         - [Compiling for debugging](#compiling-for-debugging)\n+        - [Show sources in debugging](#show-sources-in-debugging)\n         - [Compiling for gprof profiling](#compiling-for-gprof-profiling)\n         - [`debug.log`](#debuglog)\n         - [Signet, testnet, and regtest modes](#signet-testnet-and-regtest-modes)\n@@ -249,6 +250,35 @@ Development tips and tricks\n Run configure with `--enable-debug` to add additional compiler flags that\n produce better debugging builds.\n \n+### Show sources in debugging\n+\n+If you have ccache enabled, absolute paths are stripped from debug information\n+with the -fdebug-prefix-map and -fmacro-prefix-map options (if supported by the\n+compiler). This might break source file detection in case you move binaries\n+after compilation, debug from the directory other than the project root or use\n+an IDE that only supports absolute paths for debugging.\n+\n+There are a few possible fixes:\n+\n+1. Configure source file mapping.\n+\n+For `gdb` create or append to `.gdbinit` file:\n+```\n+set substitute-path ./src /path/to/project/root/src\n+```\n+\n+For `lldb` create or append to `.lldbinit` file:\n+```\n+settings set target.source-map ./src /path/to/project/root/src\n+```\n+\n+2. Add a symlink to the `./src` directory:\n+```\n+ln -s /path/to/project/root/src src\n+```\n+\n+3. Use `debugedit` to modify debug information in the binary.\n+\n ### Compiling for gprof profiling\n \n Run configure with the `--enable-gprof` option, then make."
      }
    ]
  }
]