DrahtBot,2020-04-27 12:30:00,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* #18471 (qa: Test shared validation interface by promag)\n* #18267 (BIP-325: Signet [consensus] by kallewoof)\n\nIf you con",https://github.com/bitcoin/bitcoin/pull/18780#issuecomment-619955829,619955829,
laanwj,2020-04-29 06:35:19,ACK 692f8307fc1449299b90182e7d79efb81a55d7ab,https://github.com/bitcoin/bitcoin/pull/18780#issuecomment-621016665,621016665,
MarcoFalke,2020-04-29 14:18:14,"ACK 692f8307fc1449299b90182e7d79efb81a55d7ab ðŸŒµ\n\n<details><summary>Show signature and timestamp</summary>\n\nSignature:\n\n```\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA512\n\nACK 692f8307fc1449299b90182e7d79efb81a55d7ab ðŸŒµ\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUichAwAuEMVEDQF3EgTUf50uRHePnrKLa4HtuTzm7DoVwZYx/7h2WHmnO",https://github.com/bitcoin/bitcoin/pull/18780#issuecomment-621241055,621241055,
ajtowns,2020-04-30 02:32:28,ACK 692f8307fc1449299b90182e7d79efb81a55d7ab,https://github.com/bitcoin/bitcoin/pull/18780#issuecomment-621576716,621576716,
MarcoFalke,2020-04-27 11:45:14,"style-nit: If you reformat this, might as well make it conform to clang-format:\n\n```diff\ndiff --git a/src/validation.cpp b/src/validation.cpp\nindex 28538cfbbd..5411e45d7d 100644\n--- a/src/validation.cpp\n+++ b/src/validation.cpp\n@@ -3387,13 +3387,13 @@ int GetWitnessCommitmentIndex(const CBlock& block)\n     if (!block.vtx.empty()) {\n         for (size_t o = 0; o < block.vtx[0]->vo",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r415742457,415742457,src/validation.cpp
fanquake,2020-04-28 00:30:39,Done.,https://github.com/bitcoin/bitcoin/pull/18780#discussion_r416241285,416241285,src/validation.cpp
ajtowns,2020-04-28 10:26:33,"Could consider adding `vout[3]` as an invalid commitment (too short, or not starting with OP_RETURN?), and `vout[2]` having `scriptPubKey.resize(MIN_WIT_COM + 1)` ?",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r416503632,416503632,src/test/validation_block_tests.cpp
MarcoFalke,2020-04-28 12:16:51,"```suggestion\n            const CTxOut& vout = block.vtx[0]->vout[o];\n```\n\nfor read-only access this can be a const ref?",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r416564510,416564510,src/validation.cpp
MarcoFalke,2020-04-28 12:20:46,"```suggestion\nstatic constexpr size_t MINIMUM_WITNESS_COMMITMENT{38};\n```\n\nThe type where this is passed in our out seems to be `size_t`. See https://en.cppreference.com/w/cpp/container/vector/size and https://en.cppreference.com/w/cpp/container/vector/resize. So might as well use that type here.",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r416566630,416566630,src/validation.h
MarcoFalke,2020-04-28 12:22:55,"Doesn't need to be a shared pointer, since you are not passing it around?\n\n```suggestion\n    CBlock block = ptemplate->block;\n```",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r416567939,416567939,src/test/validation_block_tests.cpp
fanquake,2020-04-29 03:26:08,"Thanks, I've added an additional vout with `OP_VERIFY` and modified [2] to be 38 + 1.",https://github.com/bitcoin/bitcoin/pull/18780#discussion_r417046888,417046888,src/test/validation_block_tests.cpp
