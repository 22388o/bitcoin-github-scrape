[
  {
    "sha": "fa8614aea9b8dc0f135a1221c7435014adb71c89",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYTg2MTRhZWE5YjhkYzBmMTM1YTEyMjFjNzQzNTAxNGFkYjcxYzg5",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-01T12:36:04Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-01T12:36:35Z"
      },
      "message": "test: Fix intermittent p2p_segwit issue",
      "tree": {
        "sha": "cd4f7f1141a944fc39fa4fb342ebab609dac894c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/cd4f7f1141a944fc39fa4fb342ebab609dac894c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fa8614aea9b8dc0f135a1221c7435014adb71c89",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUj+/gv+NkB31ymftZVA78Cf/rHSoSVF5bV6vupLZEsjZM/+x1DkGxFgU4GS/IZa\nUPs9aH/R9Nfi8CIAFlpNckreVmkwsL5JVYpkOREYY0SGRs9ATf2P05Nk3RawrlXf\nbw6mnLIH/rdF8pLyrOUkr0PzgdoOSfLn2gYnkVGjMHLsun20uvjT7wGD84CzlQ9z\n0s6/h11r1Veqc1e00dVfqV1fbWyAqhjwctzsJAq9ZLjFMtaQ8BcXcZWR0BKyYEkj\nAhwcTYWud3/sRcohIb7r+dZ4aZW+9xWnKsJgBqFhrYY6QcBADT3812iCLRh36Q2C\nFm6+vAkt/xtDgmXcxgnhUwdl9UiFS7OZr95tgrLW4IwpuzoZkFlJfkiiKoqw5sqn\n3VNBVcCmq5aKdV5hIpStWwgaLJW3scBM8Bbpt+NAKDXnRN/QPRx6+kCYuFryRDCd\nYAD5ZyjoGh0xg+Bw/WowBQHmgKK6a3K8pQjPOMNRNVkPAyi+B6n087P1zj3kPxFQ\nCTHW84wD\n=O07k\n-----END PGP SIGNATURE-----",
        "payload": "tree cd4f7f1141a944fc39fa4fb342ebab609dac894c\nparent ae32e5ce3d268881cbf631de1903b2a414bb64e1\nauthor MarcoFalke <falke.marco@gmail.com> 1588336564 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1588336595 -0400\n\ntest: Fix intermittent p2p_segwit issue\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8614aea9b8dc0f135a1221c7435014adb71c89",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8614aea9b8dc0f135a1221c7435014adb71c89",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8614aea9b8dc0f135a1221c7435014adb71c89/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "ae32e5ce3d268881cbf631de1903b2a414bb64e1",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ae32e5ce3d268881cbf631de1903b2a414bb64e1",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/ae32e5ce3d268881cbf631de1903b2a414bb64e1"
      }
    ],
    "stats": {
      "total": 4,
      "additions": 2,
      "deletions": 2
    },
    "files": [
      {
        "sha": "6fb0fec32bae9d3c9a8ca111c769bab08662c8e6",
        "filename": "test/functional/p2p_segwit.py",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fa8614aea9b8dc0f135a1221c7435014adb71c89/test/functional/p2p_segwit.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fa8614aea9b8dc0f135a1221c7435014adb71c89/test/functional/p2p_segwit.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_segwit.py?ref=fa8614aea9b8dc0f135a1221c7435014adb71c89",
        "patch": "@@ -1896,12 +1896,12 @@ def test_non_standard_witness(self):\n     def test_upgrade_after_activation(self):\n         \"\"\"Test the behavior of starting up a segwit-aware node after the softfork has activated.\"\"\"\n \n-        # Restart with the new binary\n         self.stop_node(2)\n         self.start_node(2, extra_args=[\"-segwitheight={}\".format(SEGWIT_HEIGHT)])\n         connect_nodes(self.nodes[0], 2)\n \n-        self.sync_blocks()\n+        # We reconnect more than 100 blocks, give it plenty of time\n+        self.sync_blocks(timeout=240)\n \n         # Make sure that this peer thinks segwit has activated.\n         assert softfork_active(self.nodes[2], 'segwit')"
      }
    ]
  },
  {
    "sha": "fab7ee39900d128cd305f530b643e2e62999ec74",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmYWI3ZWUzOTkwMGQxMjhjZDMwNWY1MzBiNjQzZTJlNjI5OTllYzc0",
    "commit": {
      "author": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-01T12:46:16Z"
      },
      "committer": {
        "name": "MarcoFalke",
        "email": "falke.marco@gmail.com",
        "date": "2020-05-01T12:45:26Z"
      },
      "message": "test: Fix p2p_leak intermittent issue",
      "tree": {
        "sha": "e268b178cc1b11462da5c3bf524c646325176f66",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e268b178cc1b11462da5c3bf524c646325176f66"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/fab7ee39900d128cd305f530b643e2e62999ec74",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unknown_key",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE+rVPoUahrI9sLGYTzit1aX5ppUgFAlwqrYAACgkQzit1aX5p\npUiAxgv9HZGCUw+ufxWFNGn4gXPu0qq3hpvr/9rZzVIeNSb2TU+E2y79xQ9ttfGg\n+TpfAFxdChgkdOvN1yDk1qbnCYGnA9/VuLRnzXdYUcJtzcmKNoNwZt7L8B1f6PmJ\nqWgbm+lUcjeQzQ3Gp0ybq3bNdsg+ZCxlmgPzvCxnontFb45a78YSD//CNVfEtS6/\nqulIrfvGlhfjeiwIxZ0JGq8b0qN0m2oPpgLvz0Tgh8xztGFekuh7CUhHS3Pbv/+y\n9kcOV6/yZ4cWHal8PcQJ3a000p3vYT3fcrDAGbeNSoYLtqPsjCVXzrpchuErvOuP\nXmDAa3CGr/HJfmSnwnq2Et2TLlx+xvgHPDc+sIjmebnmGN3w747IW7fUOjdU7OZT\nRSx6ZnhT6aMzyrK8WGcmijYPC5ugNfK/r+kiVCzvd3TOzb7cZy8+a1SBTHD3d2te\nqvoWjtzgRwwKuVGNvxJZDNfMPefeYXRm6Bcgx6wZCwLfTssOd48VA6jxopEJFVOh\nEuT2N4pu\n=cSno\n-----END PGP SIGNATURE-----",
        "payload": "tree e268b178cc1b11462da5c3bf524c646325176f66\nparent fa8614aea9b8dc0f135a1221c7435014adb71c89\nauthor MarcoFalke <falke.marco@gmail.com> 1588337176 -0400\ncommitter MarcoFalke <falke.marco@gmail.com> 1588337126 -0400\n\ntest: Fix p2p_leak intermittent issue\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fab7ee39900d128cd305f530b643e2e62999ec74",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/fab7ee39900d128cd305f530b643e2e62999ec74",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fab7ee39900d128cd305f530b643e2e62999ec74/comments",
    "author": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "MarcoFalke",
      "id": 6399679,
      "node_id": "MDQ6VXNlcjYzOTk2Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6399679?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarcoFalke",
      "html_url": "https://github.com/MarcoFalke",
      "followers_url": "https://api.github.com/users/MarcoFalke/followers",
      "following_url": "https://api.github.com/users/MarcoFalke/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarcoFalke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarcoFalke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarcoFalke/subscriptions",
      "organizations_url": "https://api.github.com/users/MarcoFalke/orgs",
      "repos_url": "https://api.github.com/users/MarcoFalke/repos",
      "events_url": "https://api.github.com/users/MarcoFalke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarcoFalke/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "fa8614aea9b8dc0f135a1221c7435014adb71c89",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/fa8614aea9b8dc0f135a1221c7435014adb71c89",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/fa8614aea9b8dc0f135a1221c7435014adb71c89"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 3,
      "deletions": 4
    },
    "files": [
      {
        "sha": "157af6820377e433090853beb556bfe032945a1c",
        "filename": "test/functional/p2p_leak.py",
        "status": "modified",
        "additions": 3,
        "deletions": 4,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/fab7ee39900d128cd305f530b643e2e62999ec74/test/functional/p2p_leak.py",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/fab7ee39900d128cd305f530b643e2e62999ec74/test/functional/p2p_leak.py",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/test/functional/p2p_leak.py?ref=fab7ee39900d128cd305f530b643e2e62999ec74",
        "patch": "@@ -141,12 +141,11 @@ def run_test(self):\n         assert no_verack_idlenode.unexpected_msg == False\n \n         self.log.info('Check that the version message does not leak the local address of the node')\n-        time_begin = int(time.time())\n         p2p_version_store = self.nodes[0].add_p2p_connection(P2PVersionStore())\n-        time_end = time.time()\n         ver = p2p_version_store.version_received\n-        assert_greater_than_or_equal(ver.nTime, time_begin)\n-        assert_greater_than_or_equal(time_end, ver.nTime)\n+        # Check that received time is within one hour of now\n+        assert_greater_than_or_equal(ver.nTime, time.time() - 3600)\n+        assert_greater_than_or_equal(time.time() + 3600, ver.nTime)\n         assert_equal(ver.addrFrom.port, 0)\n         assert_equal(ver.addrFrom.ip, '0.0.0.0')\n         assert_equal(ver.nStartingHeight, 201)"
      }
    ]
  }
]