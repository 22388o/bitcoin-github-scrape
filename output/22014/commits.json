[
  {
    "sha": "5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1YzMwMzNkNDVlNWVjMTU0OTljZTdhMDIyMmZmYTAyMTBhMGY2NmJj",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T07:15:52Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T07:33:32Z"
      },
      "message": "Add thread safety annotations to CBlockPolicyEstimator public functions",
      "tree": {
        "sha": "308152e63a55ccaaecfd6417d7309c1d176419e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/308152e63a55ccaaecfd6417d7309c1d176419e4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCnYkwACgkQQQEIES5+\nqB+yXw/9F9HF2cbBXayWqlq9hjpP4g/fEATIAnoyQASpYuYMa7OdgQEahSCx/L6E\nYRYhyz3h/X0ohDDR4RJ0QAc6WA7Rhyh/YAkSA/A0KOjJdzqUfdiogXvmVmA4M0v8\n+pORpN0ENMwq8bp7HLyi6KZhnvP6a9QkyNZAFNpM2GahXoFSGrPWWXcAtWlU9M9j\nC2DJriHgWl8MdppmCrDBL+P7BqqvuLG8nwWZig33tDOxtCu395exHQCN/X+OLWZp\nwadZVHGayLHx9d8FI7DuSMVWkE3RnJlyTdi4yx1Pn8Hf6twsEpxd4dgwWYoFIEi4\nJMQpB5NjWPjPSEQnqKV3hJKo6vMnKrMd2dqnjmnKBwfMsZGFgIFLZTOSc2fDkyxI\nqn+ds40yDXzR+Rq0DY7g+4snLQeyIinNh1roSH8fovt5wLIepb6kpubkhc8gCE+U\nfl0xopgutQmukXNEdaVQsvMVNYUb8Pgk9CPunQIerteshw2Qbtnrc+uhdV0glWBx\nuHmThU+0I6NqUvJyQUdRTCaJ4jixNhNqoGgyVipO46+s1ZvxXVpo/05pj4kSywN7\n1erihVyyM3vaBolbj9dwbIOvqOaj4k66kqxC2oQ5p/S4kt/FGQOVZBvn6t/RCYgt\nN1kAUQlBuLGEt7kgEYiF0ZV/n2e+SLa886Cm77hsUxjk4tu078s=\n=XQgs\n-----END PGP SIGNATURE-----",
        "payload": "tree 308152e63a55ccaaecfd6417d7309c1d176419e4\nparent e2b55cd201031d53b6496688e8b7e628e0c25faf\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621581352 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621582412 +0300\n\nAdd thread safety annotations to CBlockPolicyEstimator public functions\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e2b55cd201031d53b6496688e8b7e628e0c25faf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e2b55cd201031d53b6496688e8b7e628e0c25faf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e2b55cd201031d53b6496688e8b7e628e0c25faf"
      }
    ],
    "stats": {
      "total": 31,
      "additions": 21,
      "deletions": 10
    },
    "files": [
      {
        "sha": "a1fddc9562534b69d9aa2d2624bf46a949f7883b",
        "filename": "src/policy/fees.h",
        "status": "modified",
        "additions": 21,
        "deletions": 10,
        "changes": 31,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc/src/policy/fees.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc/src/policy/fees.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.h?ref=5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
        "patch": "@@ -186,44 +186,55 @@ class CBlockPolicyEstimator\n \n     /** Process all the transactions that have been included in a block */\n     void processBlock(unsigned int nBlockHeight,\n-                      std::vector<const CTxMemPoolEntry*>& entries);\n+                      std::vector<const CTxMemPoolEntry*>& entries)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Process a transaction accepted to the mempool*/\n-    void processTransaction(const CTxMemPoolEntry& entry, bool validFeeEstimate);\n+    void processTransaction(const CTxMemPoolEntry& entry, bool validFeeEstimate)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Remove a transaction from the mempool tracking stats*/\n     bool removeTx(uint256 hash, bool inBlock);\n \n     /** DEPRECATED. Return a feerate estimate */\n-    CFeeRate estimateFee(int confTarget) const;\n+    CFeeRate estimateFee(int confTarget) const\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Estimate feerate needed to get be included in a block within confTarget\n      *  blocks. If no answer can be given at confTarget, return an estimate at\n      *  the closest target where one can be given.  'conservative' estimates are\n      *  valid over longer time horizons also.\n      */\n-    CFeeRate estimateSmartFee(int confTarget, FeeCalculation *feeCalc, bool conservative) const;\n+    CFeeRate estimateSmartFee(int confTarget, FeeCalculation *feeCalc, bool conservative) const\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Return a specific fee estimate calculation with a given success\n      * threshold and time horizon, and optionally return detailed data about\n      * calculation\n      */\n-    CFeeRate estimateRawFee(int confTarget, double successThreshold, FeeEstimateHorizon horizon, EstimationResult *result = nullptr) const;\n+    CFeeRate estimateRawFee(int confTarget, double successThreshold, FeeEstimateHorizon horizon,\n+                            EstimationResult* result = nullptr) const\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Write estimation data to a file */\n-    bool Write(CAutoFile& fileout) const;\n+    bool Write(CAutoFile& fileout) const\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Read estimation data from a file */\n-    bool Read(CAutoFile& filein);\n+    bool Read(CAutoFile& filein)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Empty mempool transactions on shutdown to record failure to confirm for txs still in mempool */\n-    void FlushUnconfirmed();\n+    void FlushUnconfirmed()\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Calculation of highest target that estimates are tracked for */\n-    unsigned int HighestTargetTracked(FeeEstimateHorizon horizon) const;\n+    unsigned int HighestTargetTracked(FeeEstimateHorizon horizon) const\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Drop still unconfirmed transactions and record current estimations, if the fee estimation file is present. */\n-    void Flush();\n+    void Flush()\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n private:\n     mutable RecursiveMutex m_cs_fee_estimator;"
      }
    ]
  },
  {
    "sha": "5ee5b696b588695ff78aaac08d5d85154f1953cf",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1ZWU1YjY5NmI1ODg2OTVmZjc4YWFhYzA4ZDVkODUxNTRmMTk1M2Nm",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T07:47:37Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T08:35:47Z"
      },
      "message": "refactor: Add non-thread-safe CBlockPolicyEstimator::_removeTx helper\n\nThis changes removes recursion in the m_cs_fee_estimator locks.",
      "tree": {
        "sha": "290f7fb552b79c18387250b522c2f1304ff372e6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/290f7fb552b79c18387250b522c2f1304ff372e6"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/5ee5b696b588695ff78aaac08d5d85154f1953cf",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCncOMACgkQQQEIES5+\nqB9evA/8CRtYPEOCLPASUiN7UHVIUEbuJ49SHCzEStLBrCQ2XVbzttgVaaeWxGF6\nh7N8yWgBY7tBWibdCULykp/PPeU3HnPGKQlfJ64jK2XlQDfRgO4I/4VE7ggTwFnB\nNIpD2eB7svRXRQkxRgzBxQlDiSnk8WbacBZEctHWiiw/nFVVHuLaElBayWyy+SwM\nwIthTbb+mCzkcjLKqKv1AG8IFOlmc0FEniWxGNup4JzVbdSZXwhQX/+ECDlcZVin\nruD9wIXm0ruDL9in4QZZapfEnL57ludka9F80nHvIQ5pNjGxKOSim97Qvf6Pqbs8\ndNGlZ8jj6Pb27Ns5zCUU6ULgQcOo0M3YzsBAA6Mci8fDwqpx58l9mnL9dgful3fM\nfE3D7VhEU+Rp8uMHw6IrjJJxSt7Xkd/vzbUk7HlJ3Bq7fT3dXmLE6hdDMIZdHIEn\nND+xywyo8OywzV3lFXqQZVirxn9mXSLNH+BJEGovGlLUCN+nIDw1KfZwArR+6ebG\nafEM6w9hcmMrF5N9/gjT2VWC8ZLHH+DhLDxFi1rnXsFsYJlRgVulJQ7Gm3nQ7uvM\nx6Bw9ocHI8yi7aWEDRuKXYL7gyDD4Lc1muDlXh/CPhpMB5QkUkQQypZz3R39F7Sm\nGGTgamayqDKnoEHEM+OtR/nmoW5Mbs5W4hsr95cr6Ja+TvBYJjg=\n=8foj\n-----END PGP SIGNATURE-----",
        "payload": "tree 290f7fb552b79c18387250b522c2f1304ff372e6\nparent 5c3033d45e5ec15499ce7a0222ffa0210a0f66bc\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621583257 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621586147 +0300\n\nrefactor: Add non-thread-safe CBlockPolicyEstimator::_removeTx helper\n\nThis changes removes recursion in the m_cs_fee_estimator locks.\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ee5b696b588695ff78aaac08d5d85154f1953cf",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/5ee5b696b588695ff78aaac08d5d85154f1953cf",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ee5b696b588695ff78aaac08d5d85154f1953cf/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5c3033d45e5ec15499ce7a0222ffa0210a0f66bc"
      }
    ],
    "stats": {
      "total": 18,
      "additions": 15,
      "deletions": 3
    },
    "files": [
      {
        "sha": "2b70c18b7efb8820b9832c9964d069148d512cd9",
        "filename": "src/policy/fees.cpp",
        "status": "modified",
        "additions": 9,
        "deletions": 2,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5ee5b696b588695ff78aaac08d5d85154f1953cf/src/policy/fees.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5ee5b696b588695ff78aaac08d5d85154f1953cf/src/policy/fees.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.cpp?ref=5ee5b696b588695ff78aaac08d5d85154f1953cf",
        "patch": "@@ -473,6 +473,12 @@ void TxConfirmStats::removeTx(unsigned int entryHeight, unsigned int nBestSeenHe\n bool CBlockPolicyEstimator::removeTx(uint256 hash, bool inBlock)\n {\n     LOCK(m_cs_fee_estimator);\n+    return _removeTx(hash, inBlock);\n+}\n+\n+bool CBlockPolicyEstimator::_removeTx(const uint256& hash, bool inBlock)\n+{\n+    AssertLockHeld(m_cs_fee_estimator);\n     std::map<uint256, TxStatsInfo>::iterator pos = mapMemPoolTxs.find(hash);\n     if (pos != mapMemPoolTxs.end()) {\n         feeStats->removeTx(pos->second.blockHeight, nBestSeenHeight, pos->second.bucketIndex, inBlock);\n@@ -556,7 +562,8 @@ void CBlockPolicyEstimator::processTransaction(const CTxMemPoolEntry& entry, boo\n \n bool CBlockPolicyEstimator::processBlockTx(unsigned int nBlockHeight, const CTxMemPoolEntry* entry)\n {\n-    if (!removeTx(entry->GetTx().GetHash(), true)) {\n+    AssertLockHeld(m_cs_fee_estimator);\n+    if (!_removeTx(entry->GetTx().GetHash(), true)) {\n         // This transaction wasn't being tracked for fee estimation\n         return false;\n     }\n@@ -965,7 +972,7 @@ void CBlockPolicyEstimator::FlushUnconfirmed() {\n     // Remove every entry in mapMemPoolTxs\n     while (!mapMemPoolTxs.empty()) {\n         auto mi = mapMemPoolTxs.begin();\n-        removeTx(mi->first, false); // this calls erase() on mapMemPoolTxs\n+        _removeTx(mi->first, false); // this calls erase() on mapMemPoolTxs\n     }\n     int64_t endclear = GetTimeMicros();\n     LogPrint(BCLog::ESTIMATEFEE, \"Recorded %u unconfirmed txs from mempool in %gs\\n\", num_entries, (endclear - startclear)*0.000001);"
      },
      {
        "sha": "fdbf95693061f71de0608af948e335edf114b8a4",
        "filename": "src/policy/fees.h",
        "status": "modified",
        "additions": 6,
        "deletions": 1,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/5ee5b696b588695ff78aaac08d5d85154f1953cf/src/policy/fees.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/5ee5b696b588695ff78aaac08d5d85154f1953cf/src/policy/fees.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.h?ref=5ee5b696b588695ff78aaac08d5d85154f1953cf",
        "patch": "@@ -194,7 +194,8 @@ class CBlockPolicyEstimator\n         EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** Remove a transaction from the mempool tracking stats*/\n-    bool removeTx(uint256 hash, bool inBlock);\n+    bool removeTx(uint256 hash, bool inBlock)\n+        EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n     /** DEPRECATED. Return a feerate estimate */\n     CFeeRate estimateFee(int confTarget) const\n@@ -278,6 +279,10 @@ class CBlockPolicyEstimator\n     unsigned int HistoricalBlockSpan() const EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);\n     /** Calculation of highest target that reasonable estimate can be provided for */\n     unsigned int MaxUsableEstimate() const EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);\n+\n+    /** A non-thread-safe helper for the removeTx function */\n+    bool _removeTx(const uint256& hash, bool inBlock)\n+        EXCLUSIVE_LOCKS_REQUIRED(m_cs_fee_estimator);\n };\n \n class FeeFilterRounder"
      }
    ]
  },
  {
    "sha": "8c277b19c8f262e550cffe263e6d910b687ac882",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4YzI3N2IxOWM4ZjI2MmU1NTBjZmZlMjYzZTZkOTEwYjY4N2FjODgy",
    "commit": {
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T07:53:05Z"
      },
      "committer": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2021-05-21T08:35:47Z"
      },
      "message": "refactor: Make m_cs_fee_estimator non-recursive",
      "tree": {
        "sha": "4a8366b7ac1a6060dadcd6f3dc53b467fee6e206",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/4a8366b7ac1a6060dadcd6f3dc53b467fee6e206"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8c277b19c8f262e550cffe263e6d910b687ac882",
      "comment_count": 0,
      "verification": {
        "verified": true,
        "reason": "valid",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE0dvyxLlvLev0wWZUQQEIES5+qB8FAmCncOMACgkQQQEIES5+\nqB+pihAAgNOfv6KdXDQAXGVReYrhjzw4doml/WQVBuUq963sczT5qxeuC6ZgU9in\n9F3wAFul/IVfz0gtLom3NWCGXNXFxzU7Xyx9xupM7Nki9IF2pZP1NXjKqDV24Mju\n5k2X9IqSPyQdV7G1wrN10DcnILKTMIdMhtvWfNiRyVHJcSZpHKnrtl6I04+xb/28\ncCeGEF12CFAcfOPOydsOamJNIOkYEXfEvXqhqCpTkdiuHKWw4oBjZhIiPFdxnwZP\nDdpUB2vGlOktj2Xw0IBq0atmdb1UWgKeHYE5BhOcWaZgMw1gVj3BYxWyoJGqiqiZ\n66+uKsIfDv2gEGHG4voJx4xRAqKm5B8UYUGc5s1Qr2jpeT/t9l+Sg+weKHWoY1+V\nKKSXq0WjffN0SCF8s4lvSC45LFt6rg4FyUN+bn+bKizcbMVjqb9I2xg+yxLZMExW\nbGYCRo7DYxcnM4yngNJmhf75ruuAnuR1anak11579r3YHryA2Mc6641nrTdCwsIS\nqT62u80E02zHqYAlc0ZaxCfRjIWbpqyaNP62lBaMl5qoFarSirpJAOL2M1ZZx6qV\n3W9ayZ3YsqlIEqbuoMURamBBF/1c8Ye9luBgrMY0pWkYUtIfA8VcKIfbyQ7NKwio\nLPwxZ+pouduUiP/6LcgUd3/x4SX0MLfm9Yqq6zxm08GjlB5rOLo=\n=d2zy\n-----END PGP SIGNATURE-----",
        "payload": "tree 4a8366b7ac1a6060dadcd6f3dc53b467fee6e206\nparent 5ee5b696b588695ff78aaac08d5d85154f1953cf\nauthor Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621583585 +0300\ncommitter Hennadii Stepanov <32963518+hebasto@users.noreply.github.com> 1621586147 +0300\n\nrefactor: Make m_cs_fee_estimator non-recursive\n"
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c277b19c8f262e550cffe263e6d910b687ac882",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8c277b19c8f262e550cffe263e6d910b687ac882",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8c277b19c8f262e550cffe263e6d910b687ac882/comments",
    "author": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "hebasto",
      "id": 32963518,
      "node_id": "MDQ6VXNlcjMyOTYzNTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hebasto",
      "html_url": "https://github.com/hebasto",
      "followers_url": "https://api.github.com/users/hebasto/followers",
      "following_url": "https://api.github.com/users/hebasto/following{/other_user}",
      "gists_url": "https://api.github.com/users/hebasto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hebasto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
      "organizations_url": "https://api.github.com/users/hebasto/orgs",
      "repos_url": "https://api.github.com/users/hebasto/repos",
      "events_url": "https://api.github.com/users/hebasto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hebasto/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "5ee5b696b588695ff78aaac08d5d85154f1953cf",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/5ee5b696b588695ff78aaac08d5d85154f1953cf",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/5ee5b696b588695ff78aaac08d5d85154f1953cf"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "c05cabadf9470ac9abcc9aae4ba15e6046342271",
        "filename": "src/policy/fees.h",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8c277b19c8f262e550cffe263e6d910b687ac882/src/policy/fees.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8c277b19c8f262e550cffe263e6d910b687ac882/src/policy/fees.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/policy/fees.h?ref=8c277b19c8f262e550cffe263e6d910b687ac882",
        "patch": "@@ -238,7 +238,7 @@ class CBlockPolicyEstimator\n         EXCLUSIVE_LOCKS_REQUIRED(!m_cs_fee_estimator);\n \n private:\n-    mutable RecursiveMutex m_cs_fee_estimator;\n+    mutable Mutex m_cs_fee_estimator;\n \n     unsigned int nBestSeenHeight GUARDED_BY(m_cs_fee_estimator);\n     unsigned int firstRecordedHeight GUARDED_BY(m_cs_fee_estimator);"
      }
    ]
  }
]