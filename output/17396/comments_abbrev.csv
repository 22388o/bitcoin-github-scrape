DrahtBot,2019-11-06 20:08:00,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-550479512,550479512,
greenaddress,2019-12-14 00:09:40,"Seems to improve some issues found on android but not all - on top of doing checks for ""xlinux-android"" it should also do checks for ""xlinux-androideabi"" otherwise you cut off armv7\n\nI'm doing some testing on this, will report my findings",https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-565656346,565656346,
greenaddress,2019-12-14 13:21:40,@icota I can confirm that with xlinux-androideabi as well as xlinux-android all android ndk builds work fine for me/abcore - see https://github.com/greenaddress/bitcoin_ndk/blob/master/0001-android-patches-1bc9988993ee84bc814e5a7f33cc90f670a19f6a.patch,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-565716813,565716813,
icota,2019-12-14 21:26:18,"Thanks @greenaddress! In that case for the case statement we should probably use wildcard(s) to look for `xlinux-android*` or even `*android*`. \n\nI'm not sure if the `test ""x$host_os"" = ""x...` bits allow for wildcards, if not I'd convert them to use `case` since it's neater. I'll investigate.",https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-565754713,565754713,
icota,2019-12-19 14:01:29,Rebased and in `ax_boost_thread.m4` converted `if test` to `case` statements for easier matching of Android flavours.,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-567501325,567501325,
MarcoFalke,2020-06-21 17:34:31,Concept ACK,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-647158167,647158167,
fanquake,2020-08-15 00:50:12,"@icota If you'd like to move forward here, can you do the following. 77a347c7115125263561ab76389b5a47e1fb5a4a and dfdc8b3df58024884049db057a3d9d1312aa2722 should be combined into a single commit, that is actually just pulling in the latest version of the macro from upstream (looks like all the changes you made have been upstreamed), with an appropriate commit message. See 9c5bef450f7bf4dd4307cae8b",https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-674324266,674324266,
icota,2020-08-16 16:34:26,"Thanks @fanquake. I've rebased and done exactly that.\n\nDid a test Android ARM64 full build which completed successfully. I ran a normal native build as well and it also completed without error.",https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-674548153,674548153,
DrahtBot,2020-08-19 14:53:10,<!--9cd9c72976c961c55c7acef8f6ba82cd-->\n### Guix builds\n\n| File | commit 1bc8e8eae2dc4b47ef67afc6880ea48b8e84a086<br>(master) | commit 87e946cc0e0c936ab3e9e4051f021b7c5dda9e05<br>(master and this pull) |\n|--|--|--|\n| *-aarch64-linux-gnu-debug.tar.gz | [`ba41f394f562c9ec...`](https://drahtbot.space/guix/bitcoin/bitcoin/1bc8e8eae2dc4b47ef67afc6880ea48b8e84a086/bitcoin-1bc8e8eae2dc-aarch64-linux,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-676475749,676475749,
fanquake,2020-08-20 01:51:11,"> Thanks @fanquake. I've rebased and done exactly that.\n\n@icota Thanks for following up, this looks good now. Just waiting for the gitian build.",https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-676848963,676848963,
DrahtBot,2020-08-22 21:05:40,<!--a722867cd34abeea1fadc8d60700f111-->\n### Gitian builds\n\n| File | commit e9b30126545d6ddd8772363e4079d1e4908ad117<br>(master) | commit 3ecb83dcfed9e763d28adcea79cff53f65cd3e41<br>(master and this pull) |\n|--|--|--|\n| bitcoin-core-linux-0.21-res.yml | [`cea1ba265603d02f...`](https://drahtbot.space/gitian/bitcoin/bitcoin/e9b30126545d6ddd8772363e4079d1e4908ad117/bitcoin-core-linux-0.21-res.yml,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-678694557,678694557,
practicalswift,2020-08-23 05:36:27,Concept ACK,https://github.com/bitcoin/bitcoin/pull/17396#issuecomment-678732042,678732042,
laanwj,2019-11-06 18:00:50,"Please update the help message above for `--with-qtdbus`'s default\n\nEdit: Though if you don't want dbus, why build QtDbus at all?\n",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r343243581,343243581,build-aux/m4/bitcoin_qt.m4
icota,2019-11-07 08:46:17,"I was considering that but I feel that the configuration should be as independent as possible from the depends build or whatever libs we decide to use. For example a user might point to prebuilt Qt for Android libs (with QtDbus) and if that breaks the build he is going to blame the `configure` script.\n\nThere's definitely no use for D-Bus on Android so I think it okay to disable even if the lib",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r343531500,343531500,build-aux/m4/bitcoin_qt.m4
luke-jr,2019-11-09 18:39:03,Does `-pthread` actually *fail* targeting Android?,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344456530,344456530,build-aux/m4/ax_boost_thread.m4
luke-jr,2019-11-09 18:40:05,"Maybe some Android fork might add D-Bus, though? At least allow --with-dbus to override...",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344456571,344456571,build-aux/m4/bitcoin_qt.m4
luke-jr,2019-11-09 18:40:48,Better to bundle a shared library than to link statically.,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344456600,344456600,configure.ac
icota,2019-11-11 10:20:38,"Yes it does, see [here](https://github.com/protocolbuffers/protobuf/issues/1373). I'm not sure why it worked before but right now building the master branch on Linux is broken.",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344643137,344643137,build-aux/m4/ax_boost_thread.m4
icota,2019-11-11 10:25:48,Google [recommends static](https://developer.android.com/ndk/guides/cpp-support#important_considerations).,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344645350,344645350,configure.ac
luke-jr,2019-11-11 13:13:13,"""If all of your application's native code is contained in a single shared library, ...""\n\nWhich it isn't.",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344704403,344704403,configure.ac
icota,2019-11-11 14:36:51,I assumed that most people will want `bitcoind` without the utils. I don't have strong opinions about this so if you think bundling more than one bin + shared lib is a more common usecase I'll drop this commit.,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344739910,344739910,configure.ac
luke-jr,2019-11-11 16:43:07,More likely `bitcoin-qt`!,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r344802564,344802564,configure.ac
fanquake,2019-12-19 14:24:58,"Have you sent these changes upstream? If so, can you link to the upstream commits/PR. I'd rather not modify the macros in our tree unless absolutely necessary. ",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r359884861,359884861,build-aux/m4/ax_boost_thread.m4
icota,2019-12-19 14:43:52,To be honest I didn't even know there was an upstream. I'll send a patch file (or whatever GNU people do nowadays) and report back here.,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r359894958,359894958,build-aux/m4/ax_boost_thread.m4
fanquake,2019-12-19 14:53:17,"Great, thanks. You should be able to open a PR against the [autoconf-archive](https://github.com/autoconf-archive/autoconf-archive) repo on GitHub.",https://github.com/bitcoin/bitcoin/pull/17396#discussion_r359900201,359900201,build-aux/m4/ax_boost_thread.m4
icota,2019-12-31 09:29:17,[Done](https://github.com/autoconf-archive/autoconf-archive/pull/211).,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r362180083,362180083,build-aux/m4/ax_boost_thread.m4
icota,2020-01-26 17:43:47,[Merged upstream](https://github.com/autoconf-archive/autoconf-archive/commit/3eaf1697e4734e2ed2e9960fa755733e01042223).,https://github.com/bitcoin/bitcoin/pull/17396#discussion_r371017329,371017329,build-aux/m4/ax_boost_thread.m4
