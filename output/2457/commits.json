[
  {
    "sha": "7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3Y2I2OGE1MzA2Y2YxZGNkYTEwMTFhMGQxNjNjMGViZGI5MTZjYjU1",
    "commit": {
      "author": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-04-04T10:03:10Z"
      },
      "committer": {
        "name": "Philip Kaufmann",
        "email": "phil.kaufmann@t-online.de",
        "date": "2013-04-08T09:31:05Z"
      },
      "message": "Bitcoin-Qt: full Qt5 support\n\n- re-work included headers and used functions to be fully Qt5 compliant,\n  while maintaining Qt4 compatibility\n- also includes some small GUI layout changes (remove hard-coded column\n  sizes)",
      "tree": {
        "sha": "d5c20d94f92de5835ee4aec6136697280c53fcf5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/d5c20d94f92de5835ee4aec6136697280c53fcf5"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "1828133c6278eb485744d842801251d99838fb54",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/1828133c6278eb485744d842801251d99838fb54",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/1828133c6278eb485744d842801251d99838fb54"
      }
    ],
    "stats": {
      "total": 100,
      "additions": 75,
      "deletions": 25
    },
    "files": [
      {
        "sha": "7f0717e37ad90c4d53bb24efd3b9170259ca57ab",
        "filename": "bitcoin-qt.pro",
        "status": "modified",
        "additions": 3,
        "deletions": 1,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/bitcoin-qt.pro",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/bitcoin-qt.pro",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/bitcoin-qt.pro?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -3,7 +3,8 @@ TARGET = bitcoin-qt\n macx:TARGET = \"Bitcoin-Qt\"\n VERSION = 0.8.0\n INCLUDEPATH += src src/json src/qt\n-QT += network\n+QT += core gui network\n+greaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n DEFINES += QT_GUI BOOST_THREAD_USE_LIB BOOST_SPIRIT_THREADSAFE\n CONFIG += no_include_pwd\n CONFIG += thread\n@@ -310,6 +311,7 @@ DEFINES += BITCOIN_QT_TEST\n   macx: CONFIG -= app_bundle\n }\n \n+# Todo: Remove this line when switching to Qt5, as that option was removed\n CODECFORTR = UTF-8\n \n # for lrelease/lupdate"
      },
      {
        "sha": "b6829ed4d43887e90cfae5a164b849449c1957ef",
        "filename": "src/qt/addressbookpage.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 0,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/addressbookpage.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/addressbookpage.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/addressbookpage.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -139,8 +139,13 @@ void AddressBookPage::setModel(AddressTableModel *model)\n     ui->tableView->sortByColumn(0, Qt::AscendingOrder);\n \n     // Set column widths\n+#if QT_VERSION < 0x050000\n     ui->tableView->horizontalHeader()->setResizeMode(AddressTableModel::Label, QHeaderView::Stretch);\n     ui->tableView->horizontalHeader()->setResizeMode(AddressTableModel::Address, QHeaderView::ResizeToContents);\n+#else\n+    ui->tableView->horizontalHeader()->setSectionResizeMode(AddressTableModel::Label, QHeaderView::Stretch);\n+    ui->tableView->horizontalHeader()->setSectionResizeMode(AddressTableModel::Address, QHeaderView::ResizeToContents);\n+#endif\n \n     connect(ui->tableView->selectionModel(), SIGNAL(selectionChanged(QItemSelection,QItemSelection)),\n             this, SLOT(selectionChanged()));"
      },
      {
        "sha": "57b43834104f19c328a544891a9d149c8f330373",
        "filename": "src/qt/bitcoin.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/bitcoin.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/bitcoin.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoin.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -16,7 +16,9 @@\n #include \"paymentserver.h\"\n \n #include <QMessageBox>\n+#if QT_VERSION < 0x050000\n #include <QTextCodec>\n+#endif\n #include <QLocale>\n #include <QTimer>\n #include <QTranslator>\n@@ -111,9 +113,11 @@ int main(int argc, char *argv[])\n     // Command-line options take precedence:\n     ParseParameters(argc, argv);\n \n+#if QT_VERSION < 0x050000\n     // Internal string conversion is all UTF-8\n     QTextCodec::setCodecForTr(QTextCodec::codecForName(\"UTF-8\"));\n     QTextCodec::setCodecForCStrings(QTextCodec::codecForTr());\n+#endif\n \n     Q_INIT_RESOURCE(bitcoin);\n     QApplication app(argc, argv);"
      },
      {
        "sha": "5789a145e592314683326d24409e5bb7577c478e",
        "filename": "src/qt/bitcoingui.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/bitcoingui.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/bitcoingui.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/bitcoingui.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -42,11 +42,11 @@\n #include <QStackedWidget>\n #include <QDateTime>\n #include <QMovie>\n-#include <QFileDialog>\n-#include <QDesktopServices>\n #include <QTimer>\n #include <QDragEnterEvent>\n+#if QT_VERSION < 0x050000\n #include <QUrl>\n+#endif\n #include <QMimeData>\n #include <QStyle>\n #include <QSettings>"
      },
      {
        "sha": "6937febfeebd50d8a499bb1654e29eaf15cac946",
        "filename": "src/qt/guiutil.cpp",
        "status": "modified",
        "additions": 19,
        "deletions": 1,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/guiutil.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/guiutil.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/guiutil.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -13,8 +13,12 @@\n #include <QDoubleValidator>\n #include <QFont>\n #include <QLineEdit>\n+#if QT_VERSION >= 0x050000\n+#include <QUrlQuery>\n+#else\n #include <QUrl>\n-#include <QTextDocument> // For Qt::escape\n+#endif\n+#include <QTextDocument> // for Qt::mightBeRichText\n #include <QAbstractItemView>\n #include <QClipboard>\n #include <QFileDialog>\n@@ -86,7 +90,13 @@ bool parseBitcoinURI(const QUrl &uri, SendCoinsRecipient *out)\n     SendCoinsRecipient rv;\n     rv.address = uri.path();\n     rv.amount = 0;\n+\n+#if QT_VERSION < 0x050000\n     QList<QPair<QString, QString> > items = uri.queryItems();\n+#else\n+    QUrlQuery uriQuery(uri);\n+    QList<QPair<QString, QString> > items = uriQuery.queryItems();\n+#endif\n     for (QList<QPair<QString, QString> >::iterator i = items.begin(); i != items.end(); i++)\n     {\n         bool fShouldReturnFalse = false;\n@@ -139,7 +149,11 @@ bool parseBitcoinURI(QString uri, SendCoinsRecipient *out)\n \n QString HtmlEscape(const QString& str, bool fMultiLine)\n {\n+#if QT_VERSION < 0x050000\n     QString escaped = Qt::escape(str);\n+#else\n+    QString escaped = str.toHtmlEscaped();\n+#endif\n     if(fMultiLine)\n     {\n         escaped = escaped.replace(\"\\n\", \"<br>\\n\");\n@@ -176,7 +190,11 @@ QString getSaveFileName(QWidget *parent, const QString &caption,\n     QString myDir;\n     if(dir.isEmpty()) // Default to user documents location\n     {\n+#if QT_VERSION < 0x050000\n         myDir = QDesktopServices::storageLocation(QDesktopServices::DocumentsLocation);\n+#else\n+        myDir = QStandardPaths::writableLocation(QStandardPaths::DocumentsLocation);\n+#endif\n     }\n     else\n     {"
      },
      {
        "sha": "ad2d682b7bb644b90ba894dbb684ed377ddba1e4",
        "filename": "src/qt/overviewpage.cpp",
        "status": "modified",
        "additions": 3,
        "deletions": 2,
        "changes": 5,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/overviewpage.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/overviewpage.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/overviewpage.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -46,9 +46,10 @@ class TxViewDelegate : public QAbstractItemDelegate\n         bool confirmed = index.data(TransactionTableModel::ConfirmedRole).toBool();\n         QVariant value = index.data(Qt::ForegroundRole);\n         QColor foreground = option.palette.color(QPalette::Text);\n-        if(qVariantCanConvert<QColor>(value))\n+        if(value.canConvert<QBrush>())\n         {\n-            foreground = qvariant_cast<QColor>(value);\n+            QBrush brush = qvariant_cast<QBrush>(value);\n+            foreground = brush.color();\n         }\n \n         painter->setPen(foreground);"
      },
      {
        "sha": "0b0bce55bb0284cf1eda1d01058897eddd59437f",
        "filename": "src/qt/paymentserver.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/paymentserver.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/paymentserver.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/paymentserver.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -18,7 +18,9 @@\n #include <QLocalServer>\n #include <QLocalSocket>\n #include <QStringList>\n+#if QT_VERSION < 0x050000\n #include <QUrl>\n+#endif\n \n using namespace boost;\n "
      },
      {
        "sha": "6ddcaaf5d9491ddd968d54a83ea26ca3c95a8c06",
        "filename": "src/qt/qrcodedialog.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/qrcodedialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/qrcodedialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/qrcodedialog.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -7,7 +7,9 @@\n #include \"optionsmodel.h\"\n \n #include <QPixmap>\n+#if QT_VERSION < 0x050000\n #include <QUrl>\n+#endif\n \n #include <qrencode.h>\n "
      },
      {
        "sha": "7f90f4a551d2c8d7f7d5b9a22dada95f04e01879",
        "filename": "src/qt/rpcconsole.cpp",
        "status": "modified",
        "additions": 2,
        "deletions": 0,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/rpcconsole.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/rpcconsole.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/rpcconsole.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -8,7 +8,9 @@\n #include <QTime>\n #include <QThread>\n #include <QKeyEvent>\n+#if QT_VERSION < 0x050000\n #include <QUrl>\n+#endif\n #include <QScrollBar>\n \n #include <openssl/crypto.h>"
      },
      {
        "sha": "2c7bab2045a040738e0261cd87bdea08ee72b7d5",
        "filename": "src/qt/sendcoinsdialog.cpp",
        "status": "modified",
        "additions": 4,
        "deletions": 0,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/sendcoinsdialog.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/sendcoinsdialog.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/sendcoinsdialog.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -93,7 +93,11 @@ void SendCoinsDialog::on_sendButton_clicked()\n     QStringList formatted;\n     foreach(const SendCoinsRecipient &rcp, recipients)\n     {\n+#if QT_VERSION < 0x050000\n         formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount), Qt::escape(rcp.label), rcp.address));\n+#else\n+        formatted.append(tr(\"<b>%1</b> to %2 (%3)\").arg(BitcoinUnits::formatWithUnit(BitcoinUnits::BTC, rcp.amount), rcp.label.toHtmlEscaped(), rcp.address));\n+#endif\n     }\n \n     fNewRecipientAllowed = false;"
      },
      {
        "sha": "ed6edd84d9a41bd7cc6bf6f6e61462f3365a6cf2",
        "filename": "src/qt/transactionview.cpp",
        "status": "modified",
        "additions": 12,
        "deletions": 4,
        "changes": 16,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/transactionview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/transactionview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/transactionview.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -173,11 +173,19 @@ void TransactionView::setModel(WalletModel *model)\n         transactionView->sortByColumn(TransactionTableModel::Status, Qt::DescendingOrder);\n         transactionView->verticalHeader()->hide();\n \n-        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Status, 23);\n-        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Date, 120);\n-        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Type, 120);\n+#if QT_VERSION < 0x050000\n+        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Status, QHeaderView::ResizeToContents);\n+        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Date, QHeaderView::ResizeToContents);\n+        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Type, QHeaderView::ResizeToContents);\n         transactionView->horizontalHeader()->setResizeMode(TransactionTableModel::ToAddress, QHeaderView::Stretch);\n-        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Amount, 100);\n+        transactionView->horizontalHeader()->resizeSection(TransactionTableModel::Amount, QHeaderView::ResizeToContents);\n+#else\n+        transactionView->horizontalHeader()->setSectionResizeMode(TransactionTableModel::Status, QHeaderView::ResizeToContents);\n+        transactionView->horizontalHeader()->setSectionResizeMode(TransactionTableModel::Date, QHeaderView::ResizeToContents);\n+        transactionView->horizontalHeader()->setSectionResizeMode(TransactionTableModel::Type, QHeaderView::ResizeToContents);\n+        transactionView->horizontalHeader()->setSectionResizeMode(TransactionTableModel::ToAddress, QHeaderView::Stretch);\n+        transactionView->horizontalHeader()->setSectionResizeMode(TransactionTableModel::Amount, QHeaderView::ResizeToContents);\n+#endif\n     }\n }\n "
      },
      {
        "sha": "e20cd16586920676c6c00f7859d0afe0808563fd",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 3,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -8,11 +8,9 @@\n #include \"bitcoingui.h\"\n #include \"walletstack.h\"\n \n-#include <QVBoxLayout>\n+#include <QHBoxLayout>\n #include <QMessageBox>\n \n-#include <stdio.h>\n-\n WalletFrame::WalletFrame(BitcoinGUI *_gui) :\n     QFrame(_gui),\n     gui(_gui),"
      },
      {
        "sha": "d7092f9879456c70ca09ee66ac1b27ae23a8cfcc",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -17,8 +17,9 @@ class WalletStack;\n class WalletFrame : public QFrame\n {\n     Q_OBJECT\n+\n public:\n-    explicit WalletFrame(BitcoinGUI *_gui);\n+    explicit WalletFrame(BitcoinGUI *_gui = 0);\n     ~WalletFrame();\n \n     void setClientModel(ClientModel *clientModel);"
      },
      {
        "sha": "506d595c0fb383d9659089a1b4018e511f407e51",
        "filename": "src/qt/walletstack.h",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletstack.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletstack.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletstack.h?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -40,6 +40,7 @@ QT_END_NAMESPACE\n class WalletStack : public QStackedWidget\n {\n     Q_OBJECT\n+\n public:\n     explicit WalletStack(QWidget *parent = 0);\n     ~WalletStack();"
      },
      {
        "sha": "bce284a375643c53665d5b61c87f72115a3b1ab4",
        "filename": "src/qt/walletview.cpp",
        "status": "modified",
        "additions": 13,
        "deletions": 11,
        "changes": 24,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletview.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7cb68a5306cf1dcda1011a0d163c0ebdb916cb55/src/qt/walletview.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletview.cpp?ref=7cb68a5306cf1dcda1011a0d163c0ebdb916cb55",
        "patch": "@@ -19,9 +19,12 @@\n #include \"ui_interface.h\"\n \n #include <QVBoxLayout>\n-#include <QActionGroup>\n #include <QAction>\n+#if QT_VERSION < 0x050000\n #include <QDesktopServices>\n+#else\n+#include <QStandardPaths>\n+#endif\n #include <QFileDialog>\n \n WalletView::WalletView(QWidget *parent, BitcoinGUI *_gui):\n@@ -126,14 +129,10 @@ void WalletView::incomingTransaction(const QModelIndex& parent, int start, int /\n \n     TransactionTableModel *ttm = walletModel->getTransactionTableModel();\n \n-    QString date = ttm->index(start, TransactionTableModel::Date, parent)\n-                     .data().toString();\n-    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent)\n-                      .data(Qt::EditRole).toULongLong();\n-    QString type = ttm->index(start, TransactionTableModel::Type, parent)\n-                     .data().toString();\n-    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent)\n-                        .data().toString();\n+    QString date = ttm->index(start, TransactionTableModel::Date, parent).data().toString();\n+    qint64 amount = ttm->index(start, TransactionTableModel::Amount, parent).data(Qt::EditRole).toULongLong();\n+    QString type = ttm->index(start, TransactionTableModel::Type, parent).data().toString();\n+    QString address = ttm->index(start, TransactionTableModel::ToAddress, parent).data().toString();\n \n     gui->incomingTransaction(date, walletModel->getOptionsModel()->getDisplayUnit(), amount, type, address);\n }\n@@ -233,8 +232,7 @@ void WalletView::encryptWallet(bool status)\n {\n     if(!walletModel)\n         return;\n-    AskPassphraseDialog dlg(status ? AskPassphraseDialog::Encrypt:\n-                                     AskPassphraseDialog::Decrypt, this);\n+    AskPassphraseDialog dlg(status ? AskPassphraseDialog::Encrypt: AskPassphraseDialog::Decrypt, this);\n     dlg.setModel(walletModel);\n     dlg.exec();\n \n@@ -243,7 +241,11 @@ void WalletView::encryptWallet(bool status)\n \n void WalletView::backupWallet()\n {\n+#if QT_VERSION < 0x050000\n     QString saveDir = QDesktopServices::storageLocation(QDesktopServices::DocumentsLocation);\n+#else\n+    QString saveDir = QStandardPaths::writableLocation(QStandardPaths::DocumentsLocation);\n+#endif\n     QString filename = QFileDialog::getSaveFileName(this, tr(\"Backup Wallet\"), saveDir, tr(\"Wallet Data (*.dat)\"));\n     if (!filename.isEmpty()) {\n         if (!walletModel->backupWallet(filename)) {"
      }
    ]
  }
]