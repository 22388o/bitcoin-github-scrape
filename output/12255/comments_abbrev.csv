laanwj,2018-01-24T14:35:09Z,Last update was in PR #10529 - please try to coordinate the changes with the people replying there.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360154426,360154426,
dongcarl,2018-01-24T19:26:18Z,@laanwj Sorry I'm not sure I entirely know what you mean. Am I to bring up this PR on that thread or shall I tag them in a comment here?,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360245640,360245640,
MarcoFalke,2018-01-24T19:43:18Z,I think the link was supposed to be  #12102,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-360250576,360250576,
laanwj,2018-01-29T10:18:54Z,"> Sorry I'm not sure I entirely know what you mean. Am I to bring up this PR on that thread or shall I tag them in a comment here?\n\nEither, or both, is fine!",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-361200481,361200481,
dongcarl,2018-02-06T21:28:47Z,@laanwj @MarcoFalke should I be waiting for the other PR to get merged? Seems like the OP has been unresponsive.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363570562,363570562,
MarcoFalke,2018-02-06T22:02:31Z,I think the only thing left is give people time to review and then merge both whenever they are reviewed.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363579905,363579905,
dongcarl,2018-02-06T22:04:37Z,Cool beans.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363580474,363580474,
Flowdalic,2018-02-07T07:48:33Z,"Thanks for your ping in https://github.com/bitcoin/bitcoin/pull/12102#issuecomment-362968939, here are my thoughts on this PR:\n\nThis PR contains the following changes to the systemd bitcoind.service file\n1. Provide `-datadir` argument to bitcoind via ExecStart\n2. Create various runtime directories and set their access mode\n3. Set the Group to bitcoin\n\nI deliberately did not put (1) i",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-363684576,363684576,
dongcarl,2018-02-25T02:21:44Z,"@Flowdalic The spirit of my PR is to follow in the footsteps of `doc/init.md`. Which states that these changes are to be made.\n\n(1) `doc/init.md` states that the data directory should be at `/var/lib/bitcoind`, but if it's not indicated in the service file, the data directory is not at `/var/lib/bitcoind`, but rather at `~/.bitcoin`\n(2, 3) `doc/init.md` states that ""The configuration file, P",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-368277297,368277297,
randolf,2018-03-04T20:15:08Z,utACK.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-370260043,370260043,
sugarjig,2018-07-10T01:03:22Z,"I'd like to throw in a vote for (1). I recently stood up an Ubuntu 18.04 server, using the instructions in `doc/init.md` to install the service. Like @dongcarl is saying, I was a bit confused when it came to configuring the data directory. It worked when I added the `-datadir` option to the service file.\n\nI tried adding `datadir=/var/lib/bitcoind` to `bitcoin.conf` like @Flowdalic suggested, b",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-403666092,403666092,
Flowdalic,2018-07-10T06:36:31Z,"I had a look at the code and it appears that bitcoind init first checks the datadir and then reads the config file, which would explain why `datadir` in the config file has no effect if the default datadir (or the datadir specified by command line argument) is for some reason inaccessible. I have created https://github.com/bitcoin/bitcoin/pull/13621 in an attempt to fix this. ",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-403716449,403716449,
DrahtBot,2018-07-20T20:30:04Z,"<!--5d09a71f8925f3f132321140b44b946d-->The last travis run for this pull request was 177 days ago and is thus outdated. To trigger a fresh travis build, this pull request should be closed and re-opened.",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-406718442,406718442,
DrahtBot,2018-10-09T21:46:53Z,<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nNo conflicts as of last run.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-428364354,428364354,
dongcarl,2018-12-05T06:32:51Z,"> I think Flowdalic is right that dropping the `Group=bitcoin` line would be less fragile. This should be safe because we aren't giving the group any permissions, and systemd.exec specifies ""If no group is set, the default group of the user is used"". But I would want the group to be specified explicitly if we were granting the group any permissions (even read only).\n\nI believe that there are v",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-444374994,444374994,
dongcarl,2018-12-05T06:39:06Z,"> Add release-notes-pr12255.md file mentioning that contrib/init/bitcoind.service has changed to use /var/lib/bitcoind as the datadir instead of $HOME/.bitcoin (which is typically /var/lib/bitcoin/.bitcoin or /home/bitcoin/.bitcoin). The change makes bitcoin more consistent with other services, makes the systemd config more consistent with existing upstart and openrc configs. The release notes sho",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-444376233,444376233,
ryanofsky,2018-12-05T14:38:12Z,"> I believe that there are valid uses for the bitcoin group\n\nSure, I'm just agreeing with previous commenters that bitcoin group should either be required to exist and given permissions or it should be dropped. It's unnecessarily fragile to reference a group that doesn't need to exist and doesn't have any permissions for no reason.\n\n> Just to verify I understand what you're saying\n\nI'm",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-444507113,444507113,
dongcarl,2019-01-03T15:19:06Z,"- Cleaned up commits\n- Given `bitcoin` group exec permission on directories\n- Modified `doc/init.md`\n- Added release note",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-451173913,451173913,
ryanofsky,2019-02-01T19:47:22Z,"I think this could be merged. It looks like the only outstanding suggestion is to mention the openrc config file in the documentation (https://github.com/bitcoin/bitcoin/pull/12255#discussion_r248015409), which could be done in a followup later.",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-459845300,459845300,
dongcarl,2019-02-01T19:58:06Z,"@ryanofsky Perhaps I should just omit the other init systems in the release notes, as it is unrelated to this PR and I don't have enough confidence that they don't have a way of overriding. If that seems acceptable I will make the wording changes.",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-459848677,459848677,
ryanofsky,2019-02-01T20:44:45Z,"The sentence:\n\n> It is not currently possible to override `datadir` in `/etc/bitcoin/bitcoin.conf` with the current systemd, OpenRC, and Upstart init files\n\nis correct as written. If you want to mention that OpenRC and Upstart have other config mechanisms that  would be wonderful but not necessary. I do think it is important to mention that out of the box in all three init systems trying t",https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-459861758,459861758,
dongcarl,2019-02-01T22:19:56Z,Pushed clearer wording,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-459887689,459887689,
dongcarl,2019-02-04T14:18:30Z,Fixed @laanwj's suggestion.,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-460265116,460265116,
laanwj,2019-02-04T18:51:52Z,Thanks! utACK bad1716c6d30fdf4be6d5050a04e1211f920bbd6,https://github.com/bitcoin/bitcoin/pull/12255#issuecomment-460366068,460366068,
ryanofsky,2019-01-04T18:51:53Z,"In commit ""init: Don't daemonize when runnning under systemd"" (558dddfa8a493a3fa521d7bd098ec6d87e148ced)\n\nI don't think changing from a forking service to a simple service is actually a good idea, and I wonder if there any downsides at all to just dropping this commit, while keeping the other two commits, because:\n\n- Simple services are more limited that forking services. You can't tell th",https://github.com/bitcoin/bitcoin/pull/12255#discussion_r245387019,245387019,contrib/init/bitcoind.service
dongcarl,2019-01-05T05:31:11Z,"You are right! After doing some digging I think `forking` is superior right now. Perhaps the following changes can be made in future PRs:\n\n1. Use `sd_notify` to give `systemd` more information on the state of the process if a compile flag `--enable-systemd-notify` is supplied to `./configure`\n2. Make logs available in `journald` in a sane way somehow",https://github.com/bitcoin/bitcoin/pull/12255#discussion_r245467737,245467737,contrib/init/bitcoind.service
fanquake,2019-01-05T09:53:26Z,"nit: s/has changed/has been changed\nnit: s/bitcoin/Bitcoin Core",https://github.com/bitcoin/bitcoin/pull/12255#discussion_r245472982,245472982,doc/release-notes/release-notes-pr12255.md
dongcarl,2019-01-05T10:35:14Z,Addressed. Thanks!,https://github.com/bitcoin/bitcoin/pull/12255#discussion_r245473805,245473805,doc/release-notes/release-notes-pr12255.md
luke-jr,2019-01-15T18:43:34Z,At least OpenRC's init allows for setting `BITCOIND_DATADIR` to override it.,https://github.com/bitcoin/bitcoin/pull/12255#discussion_r248015409,248015409,doc/init.md
ryanofsky,2019-01-18T18:44:00Z,"re: https://github.com/bitcoin/bitcoin/pull/12255#discussion_r248015409\n\n> At least OpenRC's init allows for setting BITCOIND_DATADIR to override it.\n\nre: http://www.erisian.com.au/bitcoin-core-dev/log-2019-01-17.html#l-365\n\n> I see... I think I'll make it easy to override for systemd as well then. Thanks!\n\nIt would be good to mention `/etc/conf.d/bitcoind` for OpenRC, but I wouldn",https://github.com/bitcoin/bitcoin/pull/12255#discussion_r249146473,249146473,doc/init.md
laanwj,2019-02-02T16:42:54Z,"Thanks for adding a release notes item.\nI'd suggest `systemd init file` as title, the PR number won't tell most users much",https://github.com/bitcoin/bitcoin/pull/12255#discussion_r253270905,253270905,doc/release-notes/release-notes-pr12255.md
