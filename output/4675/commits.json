[
  {
    "sha": "ea100c73fae8a134c6ae2f1e39f557448734e012",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplYTEwMGM3M2ZhZThhMTM0YzZhZTJmMWUzOWY1NTc0NDg3MzRlMDEy",
    "commit": {
      "author": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-11T06:43:06Z"
      },
      "committer": {
        "name": "Wladimir J. van der Laan",
        "email": "laanwj@gmail.com",
        "date": "2014-08-11T06:43:06Z"
      },
      "message": "Reduce maximum coinscache size during verification\n\nDue to growing coinsviewcaches, the memory usage with checklevel=3\n(and standard settings for dbcache) could be up to 500MiB on a\n64-bit system. This is about twice the peak during reindexing,\nunnecessarily extending bitcoind's memory envelope.\n\nThis commit reduces the maximum total size of the caches used during\nverification to just nCoinCacheSize, which should be the limit.",
      "tree": {
        "sha": "76a3261affb42d68d12f9758683bc9f0730711b8",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/76a3261affb42d68d12f9758683bc9f0730711b8"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ea100c73fae8a134c6ae2f1e39f557448734e012",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ea100c73fae8a134c6ae2f1e39f557448734e012",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ea100c73fae8a134c6ae2f1e39f557448734e012",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ea100c73fae8a134c6ae2f1e39f557448734e012/comments",
    "author": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "laanwj",
      "id": 126646,
      "node_id": "MDQ6VXNlcjEyNjY0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/126646?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/laanwj",
      "html_url": "https://github.com/laanwj",
      "followers_url": "https://api.github.com/users/laanwj/followers",
      "following_url": "https://api.github.com/users/laanwj/following{/other_user}",
      "gists_url": "https://api.github.com/users/laanwj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/laanwj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/laanwj/subscriptions",
      "organizations_url": "https://api.github.com/users/laanwj/orgs",
      "repos_url": "https://api.github.com/users/laanwj/repos",
      "events_url": "https://api.github.com/users/laanwj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/laanwj/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f5d99075bfe57006270e7f6271b1340148f45b84",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f5d99075bfe57006270e7f6271b1340148f45b84",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f5d99075bfe57006270e7f6271b1340148f45b84"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "55206600e2c04fcd3e3c1deeeb251339585cf903",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ea100c73fae8a134c6ae2f1e39f557448734e012/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ea100c73fae8a134c6ae2f1e39f557448734e012/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=ea100c73fae8a134c6ae2f1e39f557448734e012",
        "patch": "@@ -3052,7 +3052,7 @@ bool CVerifyDB::VerifyDB(int nCheckLevel, int nCheckDepth)\n             }\n         }\n         // check level 3: check for inconsistencies during memory-only disconnect of tip blocks\n-        if (nCheckLevel >= 3 && pindex == pindexState && (coins.GetCacheSize() + pcoinsTip->GetCacheSize()) <= 2*nCoinCacheSize + 32000) {\n+        if (nCheckLevel >= 3 && pindex == pindexState && (coins.GetCacheSize() + pcoinsTip->GetCacheSize()) <= nCoinCacheSize) {\n             bool fClean = true;\n             if (!DisconnectBlock(block, state, pindex, coins, &fClean))\n                 return error(\"VerifyDB() : *** irrecoverable inconsistency in block data at %d, hash=%s\", pindex->nHeight, pindex->GetBlockHash().ToString());"
      }
    ]
  }
]