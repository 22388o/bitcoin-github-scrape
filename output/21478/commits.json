[
  {
    "sha": "70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3MGQ0ODg3ZGRlOTM4YzY1YTFiZjM3ZDNhNGQ1OWJmM2I5YmIxZGE1",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-02-22T22:04:19Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:02:46Z"
      },
      "message": "guix: Use --cores instead of --max-jobs\n\nIn Guix, there are two flags for controlling parallelism:\n\nNote: When I say \"derivation,\" think \"package\"\n\n--cores=n\n  - controls the number of CPU cores to build each derivation. This is\n    the value passed to `make`'s `--jobs=` flag.\n  - defaults to 0: as many cores as is available\n\n--max-jobs=n\n  - controls how many derivations can be built in parallel\n  - defaults to 1\n\nTherefore, if set --max-jobs=$MAX_JOBS and don't set --cores, Guix could\ntheoretically spin up $MAX_JOBS * $(nproc) number of threads, and that's\nno good.\n\nSo we could either default to --cores=1, --max-jobs=$MAX_JOBS\n\n  - Pro: --cores=1 means that `make` will be invoked with `-j1`,\n         avoiding problems with package whose build systems and test\n         suites break when running multi-threaded.\n\n  - Con: There will be times when only 1 or 2 derivations can be built\n         at a time, because the rest of the dependency graph all depend\n         on those 1 or 2 derivations. During these times, the machine\n         will be severely under-utilized.\n\nor --cores=$MAX_JOBS, --max-jobs=1\n\n  - Pro: We don't encounter prolonged periods of\n         severe under-utilization mentioned above.\n\n  - Con: Many packages' build systems and test suites break when running\n         multi-threaded.\n\nor --cores=1, --max-jobs=1 and let the user override with\n$ADDITIONAL_GUIX_COMMON_FLAGS",
      "tree": {
        "sha": "245c5a03b4358f7ab13326d4f7b516ad232347e4",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/245c5a03b4358f7ab13326d4f7b516ad232347e4"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "a9d1b40d53ec417eefbe767aa66701ef8e1801d5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/a9d1b40d53ec417eefbe767aa66701ef8e1801d5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/a9d1b40d53ec417eefbe767aa66701ef8e1801d5"
      }
    ],
    "stats": {
      "total": 78,
      "additions": 63,
      "deletions": 15
    },
    "files": [
      {
        "sha": "133f250ad29fc54c7e9654055071f6a62a560926",
        "filename": "contrib/guix/README.md",
        "status": "modified",
        "additions": 53,
        "deletions": 5,
        "changes": 58,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/README.md?ref=70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
        "patch": "@@ -80,6 +80,50 @@ at the end of the `guix pull`)\n export PATH=\"${HOME}/.config/guix/current/bin${PATH:+:}$PATH\"\n ```\n \n+### Controlling the number of threads used by `guix` build commands\n+\n+By default, the scripts under `./contrib/guix` will invoke all `guix` build\n+commands with `--cores=\"$JOBS\"`. Note that `$JOBS` defaults to `$(nproc)` if not\n+specified. However, astute manual readers will also notice that there is a\n+`--max-jobs=` flag (which defaults to 1 if unspecified).\n+\n+Here is the difference between `--cores=` and `--max-jobs=`:\n+\n+> Note: When I say \"derivation,\" think \"package\"\n+\n+`--cores=`\n+\n+  - controls the number of CPU cores to build each derivation. This is the value\n+    passed to `make`'s `--jobs=` flag.\n+\n+`--max-jobs=`\n+\n+  - controls how many derivations can be built in parallel\n+  - defaults to 1\n+\n+Therefore, the default is for `guix` build commands to build one derivation at a\n+time, utilizing `$JOBS` threads.\n+\n+Specifying the `$JOBS` environment variable will only modify `--cores=`, but you\n+can also modify the value for `--max-jobs=` by specifying\n+`$ADDITIONAL_GUIX_COMMON_FLAGS`. For example, if you have a LOT of memory, you\n+may want to set:\n+\n+```sh\n+export ADDITIONAL_GUIX_COMMON_FLAGS='--max-jobs=8'\n+```\n+\n+Which allows for a maximum of 8 derivations to be built at the same time, each\n+utilizing `$JOBS` threads.\n+\n+Or, if you'd like to avoid spurious build failures caused by issues with\n+parallelism within a single package, but would still like to build multiple\n+packages when the dependency graph allows for it, you may want to try:\n+\n+```sh\n+export JOBS=1 ADDITIONAL_GUIX_COMMON_FLAGS='--max-jobs=8'\n+```\n+\n ## Usage\n \n ### As a Tool for Deterministic Builds\n@@ -125,12 +169,16 @@ find output/ -type f -print0 | sort -z | xargs -r0 sha256sum\n   the actual SDK (e.g. SDK_PATH=$HOME/Downloads/macOS-SDKs instead of\n   $HOME/Downloads/macOS-SDKs/Xcode-11.3.1-11C505-extracted-SDK-with-libcxx-headers).\n \n-* _**MAX_JOBS**_\n+* _**JOBS**_\n+\n+  Override the number of jobs to run simultaneously, you might want to do so on\n+  a memory-limited machine. This may be passed to:\n+\n+  - `guix` build commands as in `guix environment --cores=\"$JOBS\"`\n+  - `make` as in `make --jobs=\"$JOBS\"`\n+  - `xargs` as in `xargs -P\"$JOBS\"`\n \n-  Override the maximum number of jobs to run simultaneously, you might want to\n-  do so on a memory-limited machine. This may be passed to `make` as in `make\n-  --jobs=\"$MAX_JOBS\"` or `xargs` as in `xargs -P\"$MAX_JOBS\"`. _(defaults to the\n-  value of `nproc` outside the container)_\n+  _(defaults to the value of `nproc` outside the container)_\n \n * _**SOURCE_DATE_EPOCH**_\n "
      },
      {
        "sha": "430b7c320954e2dcb5da812c797aabaeec0540cc",
        "filename": "contrib/guix/guix-build.sh",
        "status": "modified",
        "additions": 6,
        "deletions": 6,
        "changes": 12,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/guix-build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/guix-build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build.sh?ref=70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
        "patch": "@@ -134,7 +134,7 @@ done\n \n # Determine the maximum number of jobs to run simultaneously (overridable by\n # environment)\n-MAX_JOBS=\"${MAX_JOBS:-$(nproc)}\"\n+JOBS=\"${JOBS:-$(nproc)}\"\n \n # Usage: host_to_commonname HOST\n #\n@@ -152,7 +152,7 @@ host_to_commonname() {\n # Download the depends sources now as we won't have internet access in the build\n # container\n for host in $HOSTS; do\n-  make -C \"${PWD}/depends\" -j\"$MAX_JOBS\" download-\"$(host_to_commonname \"$host\")\" ${V:+V=1} ${SOURCES_PATH:+SOURCES_PATH=\"$SOURCES_PATH\"}\n+    make -C \"${PWD}/depends\" -j\"$JOBS\" download-\"$(host_to_commonname \"$host\")\" ${V:+V=1} ${SOURCES_PATH:+SOURCES_PATH=\"$SOURCES_PATH\"}\n done\n \n # Determine the reference time used for determinism (overridable by environment)\n@@ -164,7 +164,7 @@ time-machine() {\n     # shellcheck disable=SC2086\n     guix time-machine --url=https://github.com/dongcarl/guix.git \\\n                       --commit=490e39ff303f4f6873a04bfb8253755bdae1b29c \\\n-                      --max-jobs=\"$MAX_JOBS\" \\\n+                      --cores=\"$JOBS\" \\\n                       --keep-failed \\\n                       ${SUBSTITUTE_URLS:+--substitute-urls=\"$SUBSTITUTE_URLS\"} \\\n                       ${ADDITIONAL_GUIX_COMMON_FLAGS} ${ADDITIONAL_GUIX_TIMEMACHINE_FLAGS} \\\n@@ -218,7 +218,7 @@ for host in $HOSTS; do\n cat << EOF\n INFO: Building commit ${GIT_COMMIT:?not set} for platform triple ${HOST:?not set}:\n       ...using reference timestamp: ${SOURCE_DATE_EPOCH:?not set}\n-      ...running at most ${MAX_JOBS:?not set} jobs\n+      ...running at most ${JOBS:?not set} jobs\n       ...from worktree directory: '${PWD}'\n           ...bind-mounted in container to: '/bitcoin'\n       ...in build directory: '$(distsrc_for_host \"$HOST\")'\n@@ -304,12 +304,12 @@ EOF\n                                  ${SOURCES_PATH:+--share=\"$SOURCES_PATH\"} \\\n                                  ${BASE_CACHE:+--share=\"$BASE_CACHE\"} \\\n                                  ${SDK_PATH:+--share=\"$SDK_PATH\"} \\\n-                                 --max-jobs=\"$MAX_JOBS\" \\\n+                                 --cores=\"$JOBS\" \\\n                                  --keep-failed \\\n                                  ${SUBSTITUTE_URLS:+--substitute-urls=\"$SUBSTITUTE_URLS\"} \\\n                                  ${ADDITIONAL_GUIX_COMMON_FLAGS} ${ADDITIONAL_GUIX_ENVIRONMENT_FLAGS} \\\n                                  -- env HOST=\"$host\" \\\n-                                        MAX_JOBS=\"$MAX_JOBS\" \\\n+                                        JOBS=\"$JOBS\" \\\n                                         SOURCE_DATE_EPOCH=\"${SOURCE_DATE_EPOCH:?unable to determine value}\" \\\n                                         ${V:+V=1} \\\n                                         ${SOURCES_PATH:+SOURCES_PATH=\"$SOURCES_PATH\"} \\"
      },
      {
        "sha": "0301d10522329e46593c83e8ea8331a10a0c2a0b",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 4,
        "deletions": 4,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
        "patch": "@@ -26,7 +26,7 @@ cat << EOF\n Required environment variables as seen inside the container:\n     HOST: ${HOST:?not set}\n     SOURCE_DATE_EPOCH: ${SOURCE_DATE_EPOCH:?not set}\n-    MAX_JOBS: ${MAX_JOBS:?not set}\n+    JOBS: ${JOBS:?not set}\n     DISTSRC: ${DISTSRC:?not set}\n     OUTDIR: ${OUTDIR:?not set}\n EOF\n@@ -173,7 +173,7 @@ esac\n ####################\n \n # Build the depends tree, overriding variables that assume multilib gcc\n-make -C depends --jobs=\"$MAX_JOBS\" HOST=\"$HOST\" \\\n+make -C depends --jobs=\"$JOBS\" HOST=\"$HOST\" \\\n                                    ${V:+V=1} \\\n                                    ${SOURCES_PATH+SOURCES_PATH=\"$SOURCES_PATH\"} \\\n                                    ${BASE_CACHE+BASE_CACHE=\"$BASE_CACHE\"} \\\n@@ -267,7 +267,7 @@ mkdir -p \"$DISTSRC\"\n     sed -i.old 's/-lstdc++ //g' config.status libtool src/univalue/config.status src/univalue/libtool\n \n     # Build Bitcoin Core\n-    make --jobs=\"$MAX_JOBS\" ${V:+V=1}\n+    make --jobs=\"$JOBS\" ${V:+V=1}\n \n     # Perform basic ELF security checks on a series of executables.\n     make -C src --jobs=1 check-security ${V:+V=1}\n@@ -344,7 +344,7 @@ mkdir -p \"$DISTSRC\"\n                 {\n                     find \"${DISTNAME}/bin\" -type f -executable -print0\n                     find \"${DISTNAME}/lib\" -type f -print0\n-                } | xargs -0 -n1 -P\"$MAX_JOBS\" -I{} \"${DISTSRC}/contrib/devtools/split-debug.sh\" {} {} {}.dbg\n+                } | xargs -0 -n1 -P\"$JOBS\" -I{} \"${DISTSRC}/contrib/devtools/split-debug.sh\" {} {} {}.dbg\n                 ;;\n         esac\n "
      }
    ]
  },
  {
    "sha": "f194de43d20e471fcffb04018f83bb6a1c4078cb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMTk0ZGU0M2QyMGU0NzFmY2ZmYjA0MDE4ZjgzYmI2YTFjNDA3OGNi",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-02-26T22:38:35Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:02:46Z"
      },
      "message": "contrib: Silence git-describe when looking for tag\n\nOtherwise, it prints a rather disturbing message to stderr:\n\n    fatal: no tag exactly matches '<hash>'",
      "tree": {
        "sha": "1fde3ed55e0d736459c0bda2d75d49b812e0aded",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/1fde3ed55e0d736459c0bda2d75d49b812e0aded"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f194de43d20e471fcffb04018f83bb6a1c4078cb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f194de43d20e471fcffb04018f83bb6a1c4078cb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f194de43d20e471fcffb04018f83bb6a1c4078cb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f194de43d20e471fcffb04018f83bb6a1c4078cb/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/70d4887dde938c65a1bf37d3a4d59bf3b9bb1da5"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "330fbc041b31ac8f1a828f7eccca76f866cc51b7",
        "filename": "contrib/gitian-descriptors/assign_DISTNAME",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f194de43d20e471fcffb04018f83bb6a1c4078cb/contrib/gitian-descriptors/assign_DISTNAME",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f194de43d20e471fcffb04018f83bb6a1c4078cb/contrib/gitian-descriptors/assign_DISTNAME",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/gitian-descriptors/assign_DISTNAME?ref=f194de43d20e471fcffb04018f83bb6a1c4078cb",
        "patch": "@@ -4,7 +4,7 @@\n #\n # A helper script to be sourced into the gitian descriptors\n \n-if RECENT_TAG=\"$(git describe --exact-match HEAD)\"; then\n+if RECENT_TAG=\"$(git describe --exact-match HEAD 2> /dev/null)\"; then\n     VERSION=\"${RECENT_TAG#v}\"\n else\n     VERSION=\"$(git rev-parse --short=12 HEAD)\""
      }
    ]
  },
  {
    "sha": "48837c2598e38f3b799396b0310675346e1ba2b6",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo0ODgzN2MyNTk4ZTM4ZjNiNzk5Mzk2YjAzMTA2NzUzNDZlMWJhMmI2",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-02-26T22:39:44Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:02:46Z"
      },
      "message": "guix: Create windeploy inside distsrc-*\n\n./windeploy is a \"working directory\", and therefore belongs inside\ndistsrc-*. Many people have noticed their Guix builds failing after\nhours simply because they did not remove windeploy (but did remove the\ndistsrc-* directories).",
      "tree": {
        "sha": "e53c4f0d0c2f3930fefd111a806655edc17482ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/e53c4f0d0c2f3930fefd111a806655edc17482ee"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/48837c2598e38f3b799396b0310675346e1ba2b6",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48837c2598e38f3b799396b0310675346e1ba2b6",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/48837c2598e38f3b799396b0310675346e1ba2b6",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48837c2598e38f3b799396b0310675346e1ba2b6/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "f194de43d20e471fcffb04018f83bb6a1c4078cb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f194de43d20e471fcffb04018f83bb6a1c4078cb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/f194de43d20e471fcffb04018f83bb6a1c4078cb"
      }
    ],
    "stats": {
      "total": 34,
      "additions": 17,
      "deletions": 17
    },
    "files": [
      {
        "sha": "9888a84c9dfe3346508c531e8fb0f0e71da3b869",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 17,
        "deletions": 17,
        "changes": 34,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/48837c2598e38f3b799396b0310675346e1ba2b6/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/48837c2598e38f3b799396b0310675346e1ba2b6/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=48837c2598e38f3b799396b0310675346e1ba2b6",
        "patch": "@@ -394,21 +394,21 @@ mkdir -p \"$DISTSRC\"\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-${HOST//x86_64-apple-darwin18/osx64}.tar.gz\" && exit 1 )\n                 ;;\n         esac\n-    )\n-)\n+    )  # $DISTSRC/installed\n \n-case \"$HOST\" in\n-    *mingw*)\n-        cp -rf --target-directory=. contrib/windeploy\n-        (\n-            cd ./windeploy\n-            mkdir unsigned\n-            cp --target-directory=unsigned/ \"${OUTDIR}/${DISTNAME}-win64-setup-unsigned.exe\"\n-            find . -print0 \\\n-                | sort --zero-terminated \\\n-                | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                | gzip -9n > \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" \\\n-                || ( rm -f \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" && exit 1 )\n-        )\n-        ;;\n-esac\n+    case \"$HOST\" in\n+        *mingw*)\n+            cp -rf --target-directory=. contrib/windeploy\n+            (\n+                cd ./windeploy\n+                mkdir -p unsigned\n+                cp --target-directory=unsigned/ \"${OUTDIR}/${DISTNAME}-win64-setup-unsigned.exe\"\n+                find . -print0 \\\n+                    | sort --zero-terminated \\\n+                    | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n+                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" \\\n+                    || ( rm -f \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" && exit 1 )\n+            )\n+            ;;\n+    esac\n+)  # $DISTSRC"
      }
    ]
  },
  {
    "sha": "73b2dbe4db9087d1510a358727d4cedd086d59aa",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3M2IyZGJlNGRiOTA4N2QxNTEwYTM1ODcyN2Q0Y2VkZDA4NmQ1OWFh",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T16:36:55Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:51:23Z"
      },
      "message": "guix: Add souce-able bash prelude and utils",
      "tree": {
        "sha": "161ffb15cde00fd91dd4ed6b381b0cc31a1e0d09",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/161ffb15cde00fd91dd4ed6b381b0cc31a1e0d09"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73b2dbe4db9087d1510a358727d4cedd086d59aa",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b2dbe4db9087d1510a358727d4cedd086d59aa",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/73b2dbe4db9087d1510a358727d4cedd086d59aa",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b2dbe4db9087d1510a358727d4cedd086d59aa/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "48837c2598e38f3b799396b0310675346e1ba2b6",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/48837c2598e38f3b799396b0310675346e1ba2b6",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/48837c2598e38f3b799396b0310675346e1ba2b6"
      }
    ],
    "stats": {
      "total": 145,
      "additions": 145,
      "deletions": 0
    },
    "files": [
      {
        "sha": "33a319012cb9edc93df3568c7ac4fefdcdad0ea3",
        "filename": "contrib/guix/libexec/prelude.bash",
        "status": "added",
        "additions": 60,
        "deletions": 0,
        "changes": 60,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/guix/libexec/prelude.bash",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/guix/libexec/prelude.bash",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/prelude.bash?ref=73b2dbe4db9087d1510a358727d4cedd086d59aa",
        "patch": "@@ -0,0 +1,60 @@\n+#!/usr/bin/env bash\n+export LC_ALL=C\n+set -e -o pipefail\n+\n+# shellcheck source=../../shell/realpath.bash\n+source contrib/shell/realpath.bash\n+\n+# shellcheck source=../../shell/git-utils.bash\n+source contrib/shell/git-utils.bash\n+\n+################\n+# Required non-builtin commands should be invokable\n+################\n+\n+check_tools() {\n+    for cmd in \"$@\"; do\n+        if ! command -v \"$cmd\" > /dev/null 2>&1; then\n+            echo \"ERR: This script requires that '$cmd' is installed and available in your \\$PATH\"\n+            exit 1\n+        fi\n+    done\n+}\n+\n+check_tools cat env readlink dirname basename git\n+\n+################\n+# We should be at the top directory of the repository\n+################\n+\n+same_dir() {\n+    local resolved1 resolved2\n+    resolved1=\"$(bash_realpath \"${1}\")\"\n+    resolved2=\"$(bash_realpath \"${2}\")\"\n+    [ \"$resolved1\" = \"$resolved2\" ]\n+}\n+\n+if ! same_dir \"${PWD}\" \"$(git_root)\"; then\n+cat << EOF\n+ERR: This script must be invoked from the top level of the git repository\n+\n+Hint: This may look something like:\n+    env FOO=BAR ./contrib/guix/guix-<blah>\n+\n+EOF\n+exit 1\n+fi\n+\n+################\n+# Set common variables\n+################\n+\n+VERSION=\"${VERSION:-$(git_head_version)}\"\n+DISTNAME=\"${DISTNAME:-bitcoin-${VERSION}}\"\n+\n+version_base_prefix=\"${PWD}/guix-build-\"\n+VERSION_BASE=\"${version_base_prefix}${VERSION}\"  # TOP\n+\n+DISTSRC_BASE=\"${DISTSRC_BASE:-${VERSION_BASE}}\"\n+\n+OUTDIR_BASE=\"${OUTDIR_BASE:-${VERSION_BASE}/output}\""
      },
      {
        "sha": "37bac1f38d8f087b4b0e073141bdd29a6a33f8ac",
        "filename": "contrib/shell/git-utils.bash",
        "status": "added",
        "additions": 14,
        "deletions": 0,
        "changes": 14,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/shell/git-utils.bash",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/shell/git-utils.bash",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/shell/git-utils.bash?ref=73b2dbe4db9087d1510a358727d4cedd086d59aa",
        "patch": "@@ -0,0 +1,14 @@\n+#!/usr/bin/env bash\n+\n+git_root() {\n+    git rev-parse --show-toplevel 2> /dev/null\n+}\n+\n+git_head_version() {\n+    local recent_tag\n+    if recent_tag=\"$(git describe --exact-match HEAD 2> /dev/null)\"; then\n+        echo \"${recent_tag#v}\"\n+    else\n+        git rev-parse --short=12 HEAD\n+    fi\n+}"
      },
      {
        "sha": "389b77b56266d3e753598d5aa90d9642b2e7c30f",
        "filename": "contrib/shell/realpath.bash",
        "status": "added",
        "additions": 71,
        "deletions": 0,
        "changes": 71,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/shell/realpath.bash",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73b2dbe4db9087d1510a358727d4cedd086d59aa/contrib/shell/realpath.bash",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/shell/realpath.bash?ref=73b2dbe4db9087d1510a358727d4cedd086d59aa",
        "patch": "@@ -0,0 +1,71 @@\n+#!/usr/bin/env bash\n+\n+# Based on realpath.sh written by Michael Kropat\n+# Found at: https://github.com/mkropat/sh-realpath/blob/65512368b8155b176b67122aa395ac580d9acc5b/realpath.sh\n+\n+bash_realpath() {\n+    canonicalize_path \"$(resolve_symlinks \"$1\")\"\n+}\n+\n+resolve_symlinks() {\n+    _resolve_symlinks \"$1\"\n+}\n+\n+_resolve_symlinks() {\n+    _assert_no_path_cycles \"$@\" || return\n+\n+    local dir_context path\n+    if path=$(readlink -- \"$1\"); then\n+        dir_context=$(dirname -- \"$1\")\n+        _resolve_symlinks \"$(_prepend_dir_context_if_necessary \"$dir_context\" \"$path\")\" \"$@\"\n+    else\n+        printf '%s\\n' \"$1\"\n+    fi\n+}\n+\n+_prepend_dir_context_if_necessary() {\n+    if [ \"$1\" = . ]; then\n+        printf '%s\\n' \"$2\"\n+    else\n+        _prepend_path_if_relative \"$1\" \"$2\"\n+    fi\n+}\n+\n+_prepend_path_if_relative() {\n+    case \"$2\" in\n+        /* ) printf '%s\\n' \"$2\" ;;\n+         * ) printf '%s\\n' \"$1/$2\" ;;\n+    esac\n+}\n+\n+_assert_no_path_cycles() {\n+    local target path\n+\n+    target=$1\n+    shift\n+\n+    for path in \"$@\"; do\n+        if [ \"$path\" = \"$target\" ]; then\n+            return 1\n+        fi\n+    done\n+}\n+\n+canonicalize_path() {\n+    if [ -d \"$1\" ]; then\n+        _canonicalize_dir_path \"$1\"\n+    else\n+        _canonicalize_file_path \"$1\"\n+    fi\n+}\n+\n+_canonicalize_dir_path() {\n+    (cd \"$1\" 2>/dev/null && pwd -P)\n+}\n+\n+_canonicalize_file_path() {\n+    local dir file\n+    dir=$(dirname -- \"$1\")\n+    file=$(basename -- \"$1\")\n+    (cd \"$dir\" 2>/dev/null && printf '%s/%s\\n' \"$(pwd -P)\" \"$file\")\n+}"
      }
    ]
  },
  {
    "sha": "e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNDYzZjk4ZmJkNmViMTliMTdjZDliMTZkZTE4ZGJlMTJhODQyYjk0",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T18:33:10Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Remove guix-build.sh filename extension",
      "tree": {
        "sha": "21accb8b934479b20b27f9938ee593dfec76704f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/21accb8b934479b20b27f9938ee593dfec76704f"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e463f98fbd6eb19b17cd9b16de18dbe12a842b94/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "73b2dbe4db9087d1510a358727d4cedd086d59aa",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b2dbe4db9087d1510a358727d4cedd086d59aa",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/73b2dbe4db9087d1510a358727d4cedd086d59aa"
      }
    ],
    "stats": {
      "total": 0,
      "additions": 0,
      "deletions": 0
    },
    "files": [
      {
        "sha": "430b7c320954e2dcb5da812c797aabaeec0540cc",
        "filename": "contrib/guix/guix-build",
        "status": "renamed",
        "additions": 0,
        "deletions": 0,
        "changes": 0,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e463f98fbd6eb19b17cd9b16de18dbe12a842b94/contrib/guix/guix-build",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e463f98fbd6eb19b17cd9b16de18dbe12a842b94/contrib/guix/guix-build",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build?ref=e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
        "previous_filename": "contrib/guix/guix-build.sh"
      }
    ]
  },
  {
    "sha": "0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzowMjcyYWU2ZjM2NGM5MWRhODQ5N2RjOGJmNWIzOWNlZTY2ZGFiM2U1",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T16:59:18Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Adapt guix-build to prelude, restructure hier",
      "tree": {
        "sha": "26710a354a6db506677a35d31caeb8cda0322946",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/26710a354a6db506677a35d31caeb8cda0322946"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0272ae6f364c91da8497dc8bf5b39cee66dab3e5/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e463f98fbd6eb19b17cd9b16de18dbe12a842b94",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/e463f98fbd6eb19b17cd9b16de18dbe12a842b94"
      }
    ],
    "stats": {
      "total": 76,
      "additions": 44,
      "deletions": 32
    },
    "files": [
      {
        "sha": "a1c120f412b46b13829a3b4f3f574ecf5d2ecaf7",
        "filename": "contrib/guix/guix-build",
        "status": "modified",
        "additions": 40,
        "deletions": 27,
        "changes": 67,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0272ae6f364c91da8497dc8bf5b39cee66dab3e5/contrib/guix/guix-build",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0272ae6f364c91da8497dc8bf5b39cee66dab3e5/contrib/guix/guix-build",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build?ref=0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
        "patch": "@@ -2,22 +2,26 @@\n export LC_ALL=C\n set -e -o pipefail\n \n+# Source the common prelude, which:\n+#   1. Checks if we're at the top directory of the Bitcoin Core repository\n+#   2. Defines a few common functions and variables\n+#\n+# shellcheck source=libexec/prelude.bash\n+source \"$(dirname \"${BASH_SOURCE[0]}\")/libexec/prelude.bash\"\n+\n+\n ###################\n-## Sanity Checks ##\n+## SANITY CHECKS ##\n ###################\n \n ################\n-# Check 1: Make sure that we can invoke required tools\n+# Required non-builtin commands should be invokable\n ################\n-for cmd in git make guix cat mkdir curl; do\n-    if ! command -v \"$cmd\" > /dev/null 2>&1; then\n-        echo \"ERR: This script requires that '$cmd' is installed and available in your \\$PATH\"\n-        exit 1\n-    fi\n-done\n+\n+check_tools cat mkdir make git guix\n \n ################\n-# Check 2: Make sure GUIX_BUILD_OPTIONS is empty\n+# GUIX_BUILD_OPTIONS should be empty\n ################\n #\n # GUIX_BUILD_OPTIONS is an environment variable recognized by guix commands that\n@@ -45,8 +49,9 @@ exit 1\n fi\n \n ################\n-# Check 3: Make sure that we're not in a dirty worktree\n+# The git worktree should not be dirty\n ################\n+\n if ! git diff-index --quiet HEAD -- && [ -z \"$FORCE_DIRTY_WORKTREE\" ]; then\n cat << EOF\n ERR: The current git worktree is dirty, which may lead to broken builds.\n@@ -60,27 +65,25 @@ Hint: To make your git worktree clean, You may want to:\n          using a dirty worktree\n EOF\n exit 1\n-else\n-    GIT_COMMIT=$(git rev-parse --short=12 HEAD)\n fi\n \n+mkdir -p \"$VERSION_BASE\"\n+\n ################\n-# Check 4: Make sure that build directories do not exist\n+# Build directories should not exist\n ################\n \n # Default to building for all supported HOSTs (overridable by environment)\n export HOSTS=\"${HOSTS:-x86_64-linux-gnu arm-linux-gnueabihf aarch64-linux-gnu riscv64-linux-gnu powerpc64-linux-gnu powerpc64le-linux-gnu\n                        x86_64-w64-mingw32\n                        x86_64-apple-darwin18}\"\n \n-DISTSRC_BASE=\"${DISTSRC_BASE:-${PWD}}\"\n-\n # Usage: distsrc_for_host HOST\n #\n #   HOST: The current platform triple we're building for\n #\n distsrc_for_host() {\n-    echo \"${DISTSRC_BASE}/distsrc-${GIT_COMMIT}-${1}\"\n+    echo \"${DISTSRC_BASE}/distsrc-${VERSION}-${1}\"\n }\n \n # Accumulate a list of build directories that already exist...\n@@ -106,12 +109,11 @@ for host in $hosts_distsrc_exists; do\n done\n exit 1\n else\n-\n     mkdir -p \"$DISTSRC_BASE\"\n fi\n \n ################\n-# Check 5: When building for darwin, make sure that the macOS SDK exists\n+# When building for darwin, the macOS SDK should exists\n ################\n \n for host in $HOSTS; do\n@@ -129,7 +131,7 @@ for host in $HOSTS; do\n done\n \n #########\n-# Setup #\n+# SETUP #\n #########\n \n # Determine the maximum number of jobs to run simultaneously (overridable by\n@@ -172,11 +174,20 @@ time-machine() {\n }\n \n # Make sure an output directory exists for our builds\n-OUTDIR=\"${OUTDIR:-${PWD}/output}\"\n-[ -e \"$OUTDIR\" ] || mkdir -p \"$OUTDIR\"\n+OUTDIR_BASE=\"${OUTDIR_BASE:-${VERSION_BASE}/output}\"\n+mkdir -p \"$OUTDIR_BASE\"\n+\n+# Usage: outdir_for_host HOST\n+#\n+#   HOST: The current platform triple we're building for\n+#\n+outdir_for_host() {\n+    echo \"${OUTDIR_BASE}/${1}\"\n+}\n+\n \n #########\n-# Build #\n+# BUILD #\n #########\n \n # Function to be called when building for host ${1} and the user interrupts the\n@@ -216,15 +227,15 @@ for host in $HOSTS; do\n \n         # shellcheck disable=SC2030\n cat << EOF\n-INFO: Building commit ${GIT_COMMIT:?not set} for platform triple ${HOST:?not set}:\n+INFO: Building ${VERSION:?not set} for platform triple ${HOST:?not set}:\n       ...using reference timestamp: ${SOURCE_DATE_EPOCH:?not set}\n       ...running at most ${JOBS:?not set} jobs\n       ...from worktree directory: '${PWD}'\n           ...bind-mounted in container to: '/bitcoin'\n       ...in build directory: '$(distsrc_for_host \"$HOST\")'\n           ...bind-mounted in container to: '$(DISTSRC_BASE=/distsrc-base && distsrc_for_host \"$HOST\")'\n-      ...outputting in: '${OUTDIR:?not set}'\n-          ...bind-mounted in container to: '/outdir'\n+      ...outdirting in: '$(outdir_for_host \"$HOST\")'\n+          ...bind-mounted in container to: '$(OUTDIR_BASE=/outdir-base && outdir_for_host \"$HOST\")'\n EOF\n \n         # Run the build script 'contrib/guix/libexec/build.sh' in the build\n@@ -299,7 +310,7 @@ EOF\n                                  --no-cwd \\\n                                  --share=\"$PWD\"=/bitcoin \\\n                                  --share=\"$DISTSRC_BASE\"=/distsrc-base \\\n-                                 --share=\"$OUTDIR\"=/outdir \\\n+                                 --share=\"$OUTDIR_BASE\"=/outdir-base \\\n                                  --expose=\"$(git rev-parse --git-common-dir)\" \\\n                                  ${SOURCES_PATH:+--share=\"$SOURCES_PATH\"} \\\n                                  ${BASE_CACHE:+--share=\"$BASE_CACHE\"} \\\n@@ -309,14 +320,16 @@ EOF\n                                  ${SUBSTITUTE_URLS:+--substitute-urls=\"$SUBSTITUTE_URLS\"} \\\n                                  ${ADDITIONAL_GUIX_COMMON_FLAGS} ${ADDITIONAL_GUIX_ENVIRONMENT_FLAGS} \\\n                                  -- env HOST=\"$host\" \\\n+                                        DISTNAME=\"$DISTNAME\" \\\n                                         JOBS=\"$JOBS\" \\\n                                         SOURCE_DATE_EPOCH=\"${SOURCE_DATE_EPOCH:?unable to determine value}\" \\\n                                         ${V:+V=1} \\\n                                         ${SOURCES_PATH:+SOURCES_PATH=\"$SOURCES_PATH\"} \\\n                                         ${BASE_CACHE:+BASE_CACHE=\"$BASE_CACHE\"} \\\n                                         ${SDK_PATH:+SDK_PATH=\"$SDK_PATH\"} \\\n                                         DISTSRC=\"$(DISTSRC_BASE=/distsrc-base && distsrc_for_host \"$HOST\")\" \\\n-                                        OUTDIR=/outdir \\\n+                                        OUTDIR=\"$(OUTDIR_BASE=/outdir-base && outdir_for_host \"$HOST\")\" \\\n+                                        DIST_ARCHIVE_BASE=/outdir-base/dist-archive \\\n                                       bash -c \"cd /bitcoin && bash contrib/guix/libexec/build.sh\"\n     )\n "
      },
      {
        "sha": "bb83516f8919d6decaee6241be460ec78bff9570",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 4,
        "deletions": 5,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/0272ae6f364c91da8497dc8bf5b39cee66dab3e5/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/0272ae6f364c91da8497dc8bf5b39cee66dab3e5/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
        "patch": "@@ -24,6 +24,8 @@ fi\n # Check that required environment variables are set\n cat << EOF\n Required environment variables as seen inside the container:\n+    DIST_ARCHIVE_BASE: ${DIST_ARCHIVE_BASE:?not set}\n+    DISTNAME: ${DISTNAME:?not set}\n     HOST: ${HOST:?not set}\n     SOURCE_DATE_EPOCH: ${SOURCE_DATE_EPOCH:?not set}\n     JOBS: ${JOBS:?not set}\n@@ -198,11 +200,7 @@ make -C depends --jobs=\"$JOBS\" HOST=\"$HOST\" \\\n # Source Tarball Building #\n ###########################\n \n-# Define DISTNAME variable.\n-# shellcheck source=contrib/gitian-descriptors/assign_DISTNAME\n-source contrib/gitian-descriptors/assign_DISTNAME\n-\n-GIT_ARCHIVE=\"${OUTDIR}/src/${DISTNAME}.tar.gz\"\n+GIT_ARCHIVE=\"${DIST_ARCHIVE_BASE}/${DISTNAME}.tar.gz\"\n \n # Create the source tarball if not already there\n if [ ! -e \"$GIT_ARCHIVE\" ]; then\n@@ -275,6 +273,7 @@ mkdir -p \"$DISTSRC\"\n     # version symbols for Linux distro back-compatibility.\n     make -C src --jobs=1 check-symbols  ${V:+V=1}\n \n+    mkdir -p ${OUTDIR}\n     # Make the os-specific installers\n     case \"$HOST\" in\n         *mingw*)"
      }
    ]
  },
  {
    "sha": "63288001801acbda889856d245a1db1b89889e8d",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MzI4ODAwMTgwMWFjYmRhODg5ODU2ZDI0NWExZGIxYjg5ODg5ZThk",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:01:07Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Add troubleshooting documentation entries",
      "tree": {
        "sha": "827b8f0a32e62594326a13a15c72c9d77aa86957",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/827b8f0a32e62594326a13a15c72c9d77aa86957"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/63288001801acbda889856d245a1db1b89889e8d",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/63288001801acbda889856d245a1db1b89889e8d",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/63288001801acbda889856d245a1db1b89889e8d",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/63288001801acbda889856d245a1db1b89889e8d/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/0272ae6f364c91da8497dc8bf5b39cee66dab3e5",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/0272ae6f364c91da8497dc8bf5b39cee66dab3e5"
      }
    ],
    "stats": {
      "total": 54,
      "additions": 54,
      "deletions": 0
    },
    "files": [
      {
        "sha": "4a7edf73cd43659cf7ab2fbb55e12e8acf9f1230",
        "filename": "contrib/guix/README.md",
        "status": "modified",
        "additions": 54,
        "deletions": 0,
        "changes": 54,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/63288001801acbda889856d245a1db1b89889e8d/contrib/guix/README.md",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/63288001801acbda889856d245a1db1b89889e8d/contrib/guix/README.md",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/README.md?ref=63288001801acbda889856d245a1db1b89889e8d",
        "patch": "@@ -265,6 +265,60 @@ To use dongcarl's substitute server for Bitcoin Core builds after having\n export SUBSTITUTE_URLS='https://guix.carldong.io https://ci.guix.gnu.org'\n ```\n \n+## Troubleshooting\n+\n+### Derivation failed to build\n+\n+When you see a build failure like below:\n+\n+```\n+building /gnu/store/...-foo-3.6.12.drv...\n+/ 'check' phasenote: keeping build directory `/tmp/guix-build-foo-3.6.12.drv-0'\n+builder for `/gnu/store/...-foo-3.6.12.drv' failed with exit code 1\n+build of /gnu/store/...-foo-3.6.12.drv failed\n+View build log at '/var/log/guix/drvs/../...-foo-3.6.12.drv.bz2'.\n+cannot build derivation `/gnu/store/...-qux-7.69.1.drv': 1 dependencies couldn't be built\n+cannot build derivation `/gnu/store/...-bar-3.16.5.drv': 1 dependencies couldn't be built\n+cannot build derivation `/gnu/store/...-baz-2.0.5.drv': 1 dependencies couldn't be built\n+guix time-machine: error: build of `/gnu/store/...-baz-2.0.5.drv' failed\n+```\n+\n+It means that `guix` failed to build a package named `foo`, which was a\n+dependency of `qux`, `bar`, and `baz`. Importantly, note that the last \"failed\"\n+line is not necessarily the root cause, the first \"failed\" line is.\n+\n+Most of the time, the build failure is due to a spurious test failure or the\n+package's build system/test suite breaking when running multi-threaded. To\n+rebuild _just_ this derivation in a single-threaded fashion:\n+\n+```sh\n+$ guix build --cores=1 /gnu/store/...-foo-3.6.12.drv\n+```\n+\n+If the single-threaded rebuild stil did not succeed, you may need to dig deeper.\n+You may view `foo`'s build logs in `less` like so (please replace paths with the\n+path you see in the build failure output):\n+\n+```sh\n+$ bzcat /var/log/guix/drvs/../...-foo-3.6.12.drv.bz2 | less\n+```\n+\n+`foo`'s build directory is also preserved and available at\n+`/tmp/guix-build-foo-3.6.12.drv-0`. However, if you fail to build `foo` multiple\n+times, it may be `/tmp/...drv-1` or `/tmp/...drv-2`. Always consult the build\n+failure output for the most accurate, up-to-date information.\n+\n+#### python(-minimal): [Errno 84] Invalid or incomplete multibyte or wide character\n+\n+This error occurs when your `$TMPDIR` (default: /tmp) exists on a filesystem\n+which rejects characters not present in the UTF-8 character code set. An example\n+is ZFS with the utf8only=on option set.\n+\n+It is probably best to siwtch to using tmpfs for your `$TMPDIR`. It is the\n+default for most Linux distribution.\n+\n+More information: https://bugs.python.org/issue37584\n+\n ## FAQ\n \n ### How can I trust the binary installation?"
      }
    ]
  },
  {
    "sha": "b4e6b4e8153418aac0b069642beba2684deca3eb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpiNGU2YjRlODE1MzQxOGFhYzBiMDY5NjQyYmViYTI2ODRkZWNhM2Vi",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:03:46Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Supply --link-profile",
      "tree": {
        "sha": "3a4eb60c2f569241b50db146551fdb0a3814c01d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/3a4eb60c2f569241b50db146551fdb0a3814c01d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/b4e6b4e8153418aac0b069642beba2684deca3eb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4e6b4e8153418aac0b069642beba2684deca3eb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/b4e6b4e8153418aac0b069642beba2684deca3eb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4e6b4e8153418aac0b069642beba2684deca3eb/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "63288001801acbda889856d245a1db1b89889e8d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/63288001801acbda889856d245a1db1b89889e8d",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/63288001801acbda889856d245a1db1b89889e8d"
      }
    ],
    "stats": {
      "total": 5,
      "additions": 3,
      "deletions": 2
    },
    "files": [
      {
        "sha": "6c0930df1826e7bd0bff651ba0f78941f20f50cf",
        "filename": "contrib/guix/guix-build",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4e6b4e8153418aac0b069642beba2684deca3eb/contrib/guix/guix-build",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4e6b4e8153418aac0b069642beba2684deca3eb/contrib/guix/guix-build",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build?ref=b4e6b4e8153418aac0b069642beba2684deca3eb",
        "patch": "@@ -317,6 +317,7 @@ EOF\n                                  ${SDK_PATH:+--share=\"$SDK_PATH\"} \\\n                                  --cores=\"$JOBS\" \\\n                                  --keep-failed \\\n+                                 --link-profile \\\n                                  ${SUBSTITUTE_URLS:+--substitute-urls=\"$SUBSTITUTE_URLS\"} \\\n                                  ${ADDITIONAL_GUIX_COMMON_FLAGS} ${ADDITIONAL_GUIX_ENVIRONMENT_FLAGS} \\\n                                  -- env HOST=\"$host\" \\"
      },
      {
        "sha": "dadb21515a42b5a541f4cdff786da41dd904f4fd",
        "filename": "depends/Makefile",
        "status": "modified",
        "additions": 2,
        "deletions": 2,
        "changes": 4,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/b4e6b4e8153418aac0b069642beba2684deca3eb/depends/Makefile",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/b4e6b4e8153418aac0b069642beba2684deca3eb/depends/Makefile",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/Makefile?ref=b4e6b4e8153418aac0b069642beba2684deca3eb",
        "patch": "@@ -141,8 +141,8 @@ build_id_string+=system_clang\n $(host_arch)_$(host_os)_id_string+=system_clang\n endif\n \n-build_id_string+=GUIX_ENVIRONMENT=$(GUIX_ENVIRONMENT)\n-$(host_arch)_$(host_os)_id_string+=GUIX_ENVIRONMENT=$(GUIX_ENVIRONMENT)\n+build_id_string+=GUIX_ENVIRONMENT=$(realpath $(GUIX_ENVIRONMENT))\n+$(host_arch)_$(host_os)_id_string+=GUIX_ENVIRONMENT=$(realpath $(GUIX_ENVIRONMENT))\n \n qrencode_packages_$(NO_QR) = $(qrencode_packages)\n "
      }
    ]
  },
  {
    "sha": "9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo5ZjAzNmY5M2EzYmNmZTM4YzhkMjRkODUzYzEwZmZlMzE3Yzc4YWFj",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:07:40Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: More thoroughly control native toolchain",
      "tree": {
        "sha": "2aea9c87c97db544e52fd2393dd8b1eeb8072b3d",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2aea9c87c97db544e52fd2393dd8b1eeb8072b3d"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "b4e6b4e8153418aac0b069642beba2684deca3eb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/b4e6b4e8153418aac0b069642beba2684deca3eb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/b4e6b4e8153418aac0b069642beba2684deca3eb"
      }
    ],
    "stats": {
      "total": 46,
      "additions": 41,
      "deletions": 5
    },
    "files": [
      {
        "sha": "7d4609c17a98f13b8311b5304d784df008d1be3a",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 22,
        "deletions": 4,
        "changes": 26,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
        "patch": "@@ -54,16 +54,34 @@ store_path() {\n # Set environment variables to point the NATIVE toolchain to the right\n # includes/libs\n NATIVE_GCC=\"$(store_path gcc-toolchain)\"\n-export LIBRARY_PATH=\"${NATIVE_GCC}/lib:${NATIVE_GCC}/lib64\"\n-export CPATH=\"${NATIVE_GCC}/include\"\n+\n+unset LIBRARY_PATH\n+unset CPATH\n unset C_INCLUDE_PATH\n unset CPLUS_INCLUDE_PATH\n+unset OBJC_INCLUDE_PATH\n+unset OBJCPLUS_INCLUDE_PATH\n+\n+export LIBRARY_PATH=\"${NATIVE_GCC}/lib:${NATIVE_GCC}/lib64\"\n+export C_INCLUDE_PATH=\"${NATIVE_GCC}/include\"\n+export CPLUS_INCLUDE_PATH=\"${NATIVE_GCC}/include/c++:${NATIVE_GCC}/include\"\n+export OBJC_INCLUDE_PATH=\"${NATIVE_GCC}/include\"\n+export OBJCPLUS_INCLUDE_PATH=\"${NATIVE_GCC}/include/c++:${NATIVE_GCC}/include\"\n+\n+prepend_to_search_env_var() {\n+    export \"${1}=${2}${!1:+:}${!1}\"\n+}\n+\n case \"$HOST\" in\n     *darwin*)\n         # When targeting darwin, zlib is required by native_libdmg-hfsplus.\n         zlib_store_path=$(store_path \"zlib\")\n-        export LIBRARY_PATH=\"${zlib_store_path}/lib:${LIBRARY_PATH}\"\n-        export CPATH=\"${zlib_store_path}/include:${CPATH}\"\n+\n+        prepend_to_search_env_var LIBRARY_PATH \"${zlib_store_path}/lib\"\n+        prepend_to_search_env_var C_INCLUDE_PATH \"${zlib_store_path}/include\"\n+        prepend_to_search_env_var CPLUS_INCLUDE_PATH \"${zlib_store_path}/include\"\n+        prepend_to_search_env_var OBJC_INCLUDE_PATH \"${zlib_store_path}/include\"\n+        prepend_to_search_env_var OBJCPLUS_INCLUDE_PATH \"${zlib_store_path}/include\"\n esac\n \n # Set environment variables to point the CROSS toolchain to the right"
      },
      {
        "sha": "b2eba929749630f67e744b8a3b3b5f801d5f821f",
        "filename": "depends/packages/qt.mk",
        "status": "modified",
        "additions": 2,
        "deletions": 1,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/depends/packages/qt.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/depends/packages/qt.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/qt.mk?ref=9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
        "patch": "@@ -9,7 +9,7 @@ $(package)_qt_libs=corelib network widgets gui plugins testlib\n $(package)_patches=fix_qt_pkgconfig.patch mac-qmake.conf fix_no_printer.patch no-xlib.patch\n $(package)_patches+= fix_android_qmake_conf.patch fix_android_jni_static.patch dont_hardcode_pwd.patch\n $(package)_patches+= drop_lrelease_dependency.patch no_sdk_version_check.patch\n-$(package)_patches+= fix_qpainter_non_determinism.patch fix_lib_paths.patch\n+$(package)_patches+= fix_qpainter_non_determinism.patch fix_lib_paths.patch qtbase-moc-ignore-gcc-macro.patch\n \n $(package)_qttranslations_file_name=qttranslations-$($(package)_suffix)\n $(package)_qttranslations_sha256_hash=e1de58ed108b7e0a138815ea60fd46a2c4e1fc31396a707e5630e92de79c53de\n@@ -227,6 +227,7 @@ define $(package)_preprocess_cmds\n   patch -p1 -i $($(package)_patch_dir)/fix_qpainter_non_determinism.patch &&\\\n   patch -p1 -i $($(package)_patch_dir)/no_sdk_version_check.patch && \\\n   patch -p1 -i $($(package)_patch_dir)/fix_lib_paths.patch && \\\n+  patch -p1 -i $($(package)_patch_dir)/qtbase-moc-ignore-gcc-macro.patch && \\\n   sed -i.old \"s|updateqm.commands = \\$$$$\\$$$$LRELEASE|updateqm.commands = $($(package)_extract_dir)/qttools/bin/lrelease|\" qttranslations/translations/translations.pro && \\\n   mkdir -p qtbase/mkspecs/macx-clang-linux &&\\\n   cp -f qtbase/mkspecs/macx-clang/qplatformdefs.h qtbase/mkspecs/macx-clang-linux/ &&\\"
      },
      {
        "sha": "0358bea6e940384ada32e83fa8ed5bf987b90a14",
        "filename": "depends/patches/qt/qtbase-moc-ignore-gcc-macro.patch",
        "status": "added",
        "additions": 17,
        "deletions": 0,
        "changes": 17,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/depends/patches/qt/qtbase-moc-ignore-gcc-macro.patch",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/9f036f93a3bcfe38c8d24d853c10ffe317c78aac/depends/patches/qt/qtbase-moc-ignore-gcc-macro.patch",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/patches/qt/qtbase-moc-ignore-gcc-macro.patch?ref=9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
        "patch": "@@ -0,0 +1,17 @@\n+The moc executable loops through headers on CPLUS_INCLUDE_PATH and stumbles\n+on the GCC internal _GLIBCXX_VISIBILITY macro.  Tell it to ignore it as it is\n+not supposed to be looking there to begin with.\n+\n+Upstream report: https://bugreports.qt.io/browse/QTBUG-83160\n+\n+diff --git a/qtbase/src/tools/moc/main.cpp b/qtbase/src/tools/moc/main.cpp\n+--- a/qtbase/src/tools/moc/main.cpp\n++++ b/qtbase/src/tools/moc/main.cpp\n+@@ -188,6 +188,7 @@ int runMoc(int argc, char **argv)\n+     dummyVariadicFunctionMacro.arguments += Symbol(0, PP_IDENTIFIER, \"__VA_ARGS__\");\n+     pp.macros[\"__attribute__\"] = dummyVariadicFunctionMacro;\n+     pp.macros[\"__declspec\"] = dummyVariadicFunctionMacro;\n++    pp.macros[\"_GLIBCXX_VISIBILITY\"] = dummyVariadicFunctionMacro;\n+ \n+     QString filename;\n+     QString output;"
      }
    ]
  },
  {
    "sha": "23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzoyM2U0M2M5Y2NhYzFmNDNkN2NkY2QzMDk3ZTM5NTZkMDk2NTJiNDdm",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:14:00Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Add early health check for guix-daemon",
      "tree": {
        "sha": "9abc2cdeb4b02bf6ddab57315132ac5d86479d6c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/9abc2cdeb4b02bf6ddab57315132ac5d86479d6c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/23e43c9ccac1f43d7cdcd3097e3956d09652b47f/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/9f036f93a3bcfe38c8d24d853c10ffe317c78aac",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/9f036f93a3bcfe38c8d24d853c10ffe317c78aac"
      }
    ],
    "stats": {
      "total": 27,
      "additions": 27,
      "deletions": 0
    },
    "files": [
      {
        "sha": "7f74524ddc33da235363cfcb15cb180a53619cd3",
        "filename": "contrib/guix/guix-build",
        "status": "modified",
        "additions": 27,
        "deletions": 0,
        "changes": 27,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/23e43c9ccac1f43d7cdcd3097e3956d09652b47f/contrib/guix/guix-build",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/23e43c9ccac1f43d7cdcd3097e3956d09652b47f/contrib/guix/guix-build",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build?ref=23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
        "patch": "@@ -130,6 +130,33 @@ for host in $HOSTS; do\n     esac\n done\n \n+################\n+# Check that we can connect to the guix-daemon\n+################\n+\n+cat << EOF\n+Checking that we can connect to the guix-daemon...\n+\n+Hint: If this hangs, you may want to try turning your guix-daemon off and on\n+      again.\n+\n+EOF\n+if ! guix gc --list-failures > /dev/null; then\n+cat << EOF\n+\n+ERR: Failed to connect to the guix-daemon, please ensure that one is running and\n+     reachable.\n+EOF\n+exit 1\n+fi\n+\n+# Developer note: we could use `guix repl` for this check and run:\n+#\n+#     (import (guix store)) (close-connection (open-connection))\n+#\n+# However, the internal API is likely to change more than the CLI invocation\n+\n+\n #########\n # SETUP #\n #########"
      }
    ]
  },
  {
    "sha": "7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3YmNjZjdjZmE4MjMwNDBjMzIwMWM0ZWE4ZWNhZjU1MWM3ZDlkNWQ5",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:14:21Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Fallback to local build for substitute-enabled Guix users",
      "tree": {
        "sha": "c947d88ce915cc1773f691204739b21a39bda89c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c947d88ce915cc1773f691204739b21a39bda89c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/23e43c9ccac1f43d7cdcd3097e3956d09652b47f",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/23e43c9ccac1f43d7cdcd3097e3956d09652b47f"
      }
    ],
    "stats": {
      "total": 1,
      "additions": 1,
      "deletions": 0
    },
    "files": [
      {
        "sha": "2f5f54ebba3d9c777027ebc4eb050c611a2ee32b",
        "filename": "contrib/guix/guix-build",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9/contrib/guix/guix-build",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9/contrib/guix/guix-build",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/guix-build?ref=7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
        "patch": "@@ -344,6 +344,7 @@ EOF\n                                  ${SDK_PATH:+--share=\"$SDK_PATH\"} \\\n                                  --cores=\"$JOBS\" \\\n                                  --keep-failed \\\n+                                 --fallback \\\n                                  --link-profile \\\n                                  ${SUBSTITUTE_URLS:+--substitute-urls=\"$SUBSTITUTE_URLS\"} \\\n                                  ${ADDITIONAL_GUIX_COMMON_FLAGS} ${ADDITIONAL_GUIX_ENVIRONMENT_FLAGS} \\"
      }
    ]
  },
  {
    "sha": "73b254c184646885e028f0663e9e4c154e2363bb",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo3M2IyNTRjMTg0NjQ2ODg1ZTAyOGYwNjYzZTllNGMxNTRlMjM2M2Ji",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T17:15:08Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Use clang-toolchain instead of clang",
      "tree": {
        "sha": "8c83b14219a0478cf41416f5bdd9c24b872b21fe",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/8c83b14219a0478cf41416f5bdd9c24b872b21fe"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/73b254c184646885e028f0663e9e4c154e2363bb",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b254c184646885e028f0663e9e4c154e2363bb",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/73b254c184646885e028f0663e9e4c154e2363bb",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b254c184646885e028f0663e9e4c154e2363bb/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/7bccf7cfa823040c3201c4ea8ecaf551c7d9d5d9"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "3fc3f4d404d5ee126a0a16957d1552216229c9ca",
        "filename": "contrib/guix/manifest.scm",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/73b254c184646885e028f0663e9e4c154e2363bb/contrib/guix/manifest.scm",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/73b254c184646885e028f0663e9e4c154e2363bb/contrib/guix/manifest.scm",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/manifest.scm?ref=73b254c184646885e028f0663e9e4c154e2363bb",
        "patch": "@@ -237,5 +237,5 @@ chain for \" target \" development.\"))\n           ((string-contains target \"-linux-\")\n            (list (make-bitcoin-cross-toolchain target)))\n           ((string-contains target \"darwin\")\n-           (list clang-8 binutils imagemagick libtiff librsvg font-tuffy cmake xorriso))\n+           (list clang-toolchain-8 binutils imagemagick libtiff librsvg font-tuffy cmake xorriso))\n           (else '())))))"
      }
    ]
  },
  {
    "sha": "61194db48c87f4510daec8e89c2c99799573b96a",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo2MTE5NGRiNDhjODdmNDUxMGRhZWM4ZTg5YzJjOTk3OTk1NzNiOTZh",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:33:18Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-17T19:52:22Z"
      },
      "message": "guix: Remove codesign_allocate+pagestuff from unsigned tarball",
      "tree": {
        "sha": "de5e6e0a6868d96be29e146b3bd8747f2380f34c",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/de5e6e0a6868d96be29e146b3bd8747f2380f34c"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/61194db48c87f4510daec8e89c2c99799573b96a",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61194db48c87f4510daec8e89c2c99799573b96a",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/61194db48c87f4510daec8e89c2c99799573b96a",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61194db48c87f4510daec8e89c2c99799573b96a/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "73b254c184646885e028f0663e9e4c154e2363bb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/73b254c184646885e028f0663e9e4c154e2363bb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/73b254c184646885e028f0663e9e4c154e2363bb"
      }
    ],
    "stats": {
      "total": 3,
      "additions": 0,
      "deletions": 3
    },
    "files": [
      {
        "sha": "4a6b7792a9769eba6d68602ac4631a4e313792d1",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 0,
        "deletions": 3,
        "changes": 3,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/61194db48c87f4510daec8e89c2c99799573b96a/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/61194db48c87f4510daec8e89c2c99799573b96a/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=61194db48c87f4510daec8e89c2c99799573b96a",
        "patch": "@@ -323,9 +323,6 @@ mkdir -p \"$DISTSRC\"\n                 osx_volname \\\n                 contrib/macdeploy/detached-sig-{apply,create}.sh \\\n                 \"${BASEPREFIX}/${HOST}\"/native/bin/dmg\n-            for util in codesign_allocate pagestuff; do\n-                cp --no-target-directory {\"${BASEPREFIX}/${HOST}/native/bin/${HOST}-\",\"unsigned-app-${HOST}/\"}\"$util\"\n-            done\n             mv --target-directory=\"unsigned-app-${HOST}\" dist\n             (\n                 cd \"unsigned-app-${HOST}\""
      }
    ]
  },
  {
    "sha": "8170456b5b0b5f20e869e9a59b694383c57de28e",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo4MTcwNDU2YjViMGI1ZjIwZTg2OWU5YTU5YjY5NDM4M2M1N2RlMjhl",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-18T20:20:18Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-18T20:20:25Z"
      },
      "message": "depends: libdmg-hfsplus: Skip CMake RPATH patching",
      "tree": {
        "sha": "5ac89ac6d87e443ac8fe1813cd3ab5075bc94993",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/5ac89ac6d87e443ac8fe1813cd3ab5075bc94993"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/8170456b5b0b5f20e869e9a59b694383c57de28e",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8170456b5b0b5f20e869e9a59b694383c57de28e",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/8170456b5b0b5f20e869e9a59b694383c57de28e",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8170456b5b0b5f20e869e9a59b694383c57de28e/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "61194db48c87f4510daec8e89c2c99799573b96a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/61194db48c87f4510daec8e89c2c99799573b96a",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/61194db48c87f4510daec8e89c2c99799573b96a"
      }
    ],
    "stats": {
      "total": 2,
      "additions": 1,
      "deletions": 1
    },
    "files": [
      {
        "sha": "f9d4b0797f726213f3abae28fac8dd2dd962a1a8",
        "filename": "depends/packages/native_libdmg-hfsplus.mk",
        "status": "modified",
        "additions": 1,
        "deletions": 1,
        "changes": 2,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/8170456b5b0b5f20e869e9a59b694383c57de28e/depends/packages/native_libdmg-hfsplus.mk",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/8170456b5b0b5f20e869e9a59b694383c57de28e/depends/packages/native_libdmg-hfsplus.mk",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/depends/packages/native_libdmg-hfsplus.mk?ref=8170456b5b0b5f20e869e9a59b694383c57de28e",
        "patch": "@@ -12,7 +12,7 @@ define $(package)_preprocess_cmds\n endef\n \n define $(package)_config_cmds\n-  $($(package)_cmake) -DCMAKE_C_FLAGS=\"$$($(1)_cflags) -Wl,--build-id=none\" ..\n+  $($(package)_cmake) -DCMAKE_C_FLAGS=\"$$($(1)_cflags) -Wl,--build-id=none\" -DCMAKE_SKIP_RPATH=\"ON\" ..\n endef\n \n define $(package)_build_cmds"
      }
    ]
  },
  {
    "sha": "ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplZDhjZmRkNTMxZGVlYmJlMWI5MjQ0ZDE2Y2QwNjdiYmQ3ODcyYjU4",
    "commit": {
      "author": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-18T20:46:32Z"
      },
      "committer": {
        "name": "Carl Dong",
        "email": "contact@carldong.me",
        "date": "2021-03-19T01:30:41Z"
      },
      "message": "guix: Use pigz for compression",
      "tree": {
        "sha": "2c103e69293f66a3071b060c3fb497fa71fcf05a",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2c103e69293f66a3071b060c3fb497fa71fcf05a"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/ed8cfdd531deebbe1b9244d16cd067bbd7872b58/comments",
    "author": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "dongcarl",
      "id": 3445290,
      "node_id": "MDQ6VXNlcjM0NDUyOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3445290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dongcarl",
      "html_url": "https://github.com/dongcarl",
      "followers_url": "https://api.github.com/users/dongcarl/followers",
      "following_url": "https://api.github.com/users/dongcarl/following{/other_user}",
      "gists_url": "https://api.github.com/users/dongcarl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dongcarl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dongcarl/subscriptions",
      "organizations_url": "https://api.github.com/users/dongcarl/orgs",
      "repos_url": "https://api.github.com/users/dongcarl/repos",
      "events_url": "https://api.github.com/users/dongcarl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dongcarl/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "8170456b5b0b5f20e869e9a59b694383c57de28e",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/8170456b5b0b5f20e869e9a59b694383c57de28e",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/8170456b5b0b5f20e869e9a59b694383c57de28e"
      }
    ],
    "stats": {
      "total": 11,
      "additions": 6,
      "deletions": 5
    },
    "files": [
      {
        "sha": "190df3cf47050be75fb002d86971b8c24e2e24a3",
        "filename": "contrib/guix/libexec/build.sh",
        "status": "modified",
        "additions": 5,
        "deletions": 5,
        "changes": 10,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ed8cfdd531deebbe1b9244d16cd067bbd7872b58/contrib/guix/libexec/build.sh",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ed8cfdd531deebbe1b9244d16cd067bbd7872b58/contrib/guix/libexec/build.sh",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/libexec/build.sh?ref=ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
        "patch": "@@ -329,7 +329,7 @@ mkdir -p \"$DISTSRC\"\n                 find . -print0 \\\n                     | sort --zero-terminated \\\n                     | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-osx-unsigned.tar.gz\" \\\n+                    | pigz -9n > \"${OUTDIR}/${DISTNAME}-osx-unsigned.tar.gz\" \\\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-osx-unsigned.tar.gz\" && exit 1 )\n             )\n             make deploy ${V:+V=1} OSX_DMG=\"${OUTDIR}/${DISTNAME}-osx-unsigned.dmg\"\n@@ -392,19 +392,19 @@ mkdir -p \"$DISTSRC\"\n                 find \"${DISTNAME}\" -not -name \"*.dbg\" -print0 \\\n                     | sort --zero-terminated \\\n                     | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-${HOST}.tar.gz\" \\\n+                    | pigz -9n > \"${OUTDIR}/${DISTNAME}-${HOST}.tar.gz\" \\\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-${HOST}.tar.gz\" && exit 1 )\n                 find \"${DISTNAME}\" -name \"*.dbg\" -print0 \\\n                     | sort --zero-terminated \\\n                     | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-${HOST}-debug.tar.gz\" \\\n+                    | pigz -9n > \"${OUTDIR}/${DISTNAME}-${HOST}-debug.tar.gz\" \\\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-${HOST}-debug.tar.gz\" && exit 1 )\n                 ;;\n             *darwin*)\n                 find \"${DISTNAME}\" -print0 \\\n                     | sort --zero-terminated \\\n                     | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-${HOST//x86_64-apple-darwin18/osx64}.tar.gz\" \\\n+                    | pigz -9n > \"${OUTDIR}/${DISTNAME}-${HOST//x86_64-apple-darwin18/osx64}.tar.gz\" \\\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-${HOST//x86_64-apple-darwin18/osx64}.tar.gz\" && exit 1 )\n                 ;;\n         esac\n@@ -420,7 +420,7 @@ mkdir -p \"$DISTSRC\"\n                 find . -print0 \\\n                     | sort --zero-terminated \\\n                     | tar --create --no-recursion --mode='u+rw,go+r-w,a+X' --null --files-from=- \\\n-                    | gzip -9n > \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" \\\n+                    | pigz -9n > \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" \\\n                     || ( rm -f \"${OUTDIR}/${DISTNAME}-win-unsigned.tar.gz\" && exit 1 )\n             )\n             ;;"
      },
      {
        "sha": "7129fba5fc54b600656f682bb2761cc2cd4af782",
        "filename": "contrib/guix/manifest.scm",
        "status": "modified",
        "additions": 1,
        "deletions": 0,
        "changes": 1,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/ed8cfdd531deebbe1b9244d16cd067bbd7872b58/contrib/guix/manifest.scm",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/ed8cfdd531deebbe1b9244d16cd067bbd7872b58/contrib/guix/manifest.scm",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/contrib/guix/manifest.scm?ref=ed8cfdd531deebbe1b9244d16cd067bbd7872b58",
        "patch": "@@ -214,6 +214,7 @@ chain for \" target \" development.\"))\n         gzip\n         xz\n         zlib\n+        pigz\n         ;; Build tools\n         gnu-make\n         libtool"
      }
    ]
  }
]