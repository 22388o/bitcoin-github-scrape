MarcoFalke,2018-03-26T19:31:36Z,utACK fc7c32fc68f2c2618644f9bea6176c63940706b3,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376284372,376284372,
promag,2018-03-26T20:19:23Z,"Tested ACK fc7c32f.\n\nRunning `bitcoin-qt -regtest -wallet=w1 -wallet=w2  -wallet=/tmp/foo.dat -wallet=/tmp/foo`:\n\n - RPC `listwallets`:\n<img width=""310"" alt=""screen shot 2018-03-26 at 21 17 36"" src=""https://user-images.githubusercontent.com/3534524/37930615-2c2f58b4-313b-11e8-90ec-5e589ae243d8.png"">\n\n - Console selector:\n<img width=""288"" alt=""screen shot 2018-03-26 at 21 17 28"" src",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376298175,376298175,
instagibbs,2018-03-26T20:40:41Z,@promag could you also check you can do wallet calls with `*.dat` properly?,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376304353,376304353,
practicalswift,2018-03-26T20:55:02Z,utACK fc7c32fc68f2c2618644f9bea6176c63940706b3,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376308480,376308480,
jnewbery,2018-03-26T21:02:39Z,utACK fc7c32fc68f2c2618644f9bea6176c63940706b3,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376310655,376310655,
promag,2018-03-26T21:24:08Z,"@instagibbs switching between `foo.dat` and `foo` and calling `getbalance` yields different results, so works as expected.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376316595,376316595,
instagibbs,2018-03-26T21:39:34Z,@MarcoFalke 2nd time this particular job timed out: https://travis-ci.org/bitcoin/bitcoin/jobs/358567658,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376320944,376320944,
MarcoFalke,2018-03-26T21:49:35Z,"@instagibbs Its fine to ignore, I guess.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376323446,376323446,
jamesob,2018-03-26T22:17:39Z,"Tested ACK https://github.com/bitcoin/bitcoin/pull/12795/commits/fc7c32fc68f2c2618644f9bea6176c63940706b3\n\n![selection_012](https://user-images.githubusercontent.com/73197/37936024-f0e12c7e-3121-11e8-9c40-c11e5499195d.jpg)\n",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376330151,376330151,
luke-jr,2018-03-26T22:33:37Z,"NACK, users should not be exposed to file extensions...",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376333537,376333537,
instagibbs,2018-03-26T22:37:08Z,"@luke-jr they already are, they're just not exposed to `.dat`...\n\nIf we simply disallow files with names that clash, maybe?",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376334242,376334242,
promag,2018-03-26T22:40:17Z,"> users should not be exposed to file extensions\n\nWhy? Is that a some sort of UI best practice? Specially after #11687 I fail to see an alternative.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376334896,376334896,
luke-jr,2018-03-26T22:41:51Z,"What do you mean they already are?\n\nI don't see any reason to disallow names that clash - but it should be harmless as well since that would be immensely confusing to users anyway.\n\n> Why? Is that a some sort of UI best practice? Specially after #11687 I fail to see an alternative.\n\nThe alternative is to use the wallet selected, despite visual appearance (which shouldn't matter).\n\n",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376335211,376335211,
instagibbs,2018-03-26T22:44:48Z,"@luke-jr current behavior in master allows `blah.wallet`, `blah.dat`, `blah`, side by side. Which is why I suggested disallowing collisions as a different fix.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376335884,376335884,
luke-jr,2018-03-26T22:46:10Z,"@instagibbs They should all show simply ""blah"", and work correctly if the user bothers to figure out which is which.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376336163,376336163,
ryanofsky,2018-03-26T22:47:10Z,"> NACK, users should not be exposed to file extensions...\n\nShould be little risk of this, because since #11687 new wallets are created as directories instead of files. The only way a user would be shown a .dat extension (or any berkeleydb data filename) is if they explicitly configured bitcoin to load a .dat file rather than a wallet directory.",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376336367,376336367,
instagibbs,2018-03-26T22:49:07Z,@luke-jr I'm sorry that's far more unfriendly; users shouldn't be confronted with two identical labels,https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376336742,376336742,
luke-jr,2018-03-26T22:51:06Z,"@instagibbs Ordinarily, they won't be, because naming two wallets the same thing is dumb.\n\n@ryanofsky That only affects new wallets AFAIK?",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376337145,376337145,
ryanofsky,2018-03-26T23:09:09Z,"> @ryanofsky That only affects new wallets AFAIK?\n\nThat's right, new wallets are created as directories with separate berkeleydb environments, but for backwards compatibility it's still possible to load individual .dat files in a shared environment.\n\nIn general I agree that it's bad to expose file extensions in the UI, and thankfully going forward this will not happen in either the gui or ",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376340884,376340884,
jonasschnelli,2018-03-27T08:12:55Z,"utACK fc7c32fc68f2c2618644f9bea6176c63940706b3\nTravis issue seems unrelated.\n\nFrom the GUI perspective, users don't want to deal with filename. They want to create wallets and give them a name and eventually rename them later as well as use all sorts of special characters.\n\nIn the long run, the GUI should allow to dynamically create wallets where the user given wallet name could be compl",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376436089,376436089,
Sjors,2018-03-27T08:55:13Z,"I think it makes sense to show the full file name for older wallets, to prevent confusion.\n\nIt would be nice if there was a way to ""upgrade"" them.\n\nIf we do want to make legacy wallet file names look pretty, I would suggest stripping the file extension, then checking for duplicates and showing the full file name in those cases.\n\nAdding name metadata to the wallet payload makes sense to",https://github.com/bitcoin/bitcoin/pull/12795#issuecomment-376448091,376448091,
