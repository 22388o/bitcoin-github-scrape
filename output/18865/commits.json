[
  {
    "sha": "f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzpmMWExNTE4NWViYmUxY2Y3OTVjMWJiZThjYjU2MzBjMmI5N2Y5MDNi",
    "commit": {
      "author": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2020-05-04T11:33:23Z"
      },
      "committer": {
        "name": "Jo\u00e3o Barbosa",
        "email": "joao.paulo.barbosa@gmail.com",
        "date": "2020-05-04T11:49:00Z"
      },
      "message": "gui: Refactor WalletFrame to extend QStackView",
      "tree": {
        "sha": "c86d6945a27ae0575cdc862aafee2ad748460a3b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/c86d6945a27ae0575cdc862aafee2ad748460a3b"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b/comments",
    "author": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "committer": {
      "login": "promag",
      "id": 3534524,
      "node_id": "MDQ6VXNlcjM1MzQ1MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3534524?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/promag",
      "html_url": "https://github.com/promag",
      "followers_url": "https://api.github.com/users/promag/followers",
      "following_url": "https://api.github.com/users/promag/following{/other_user}",
      "gists_url": "https://api.github.com/users/promag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/promag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/promag/subscriptions",
      "organizations_url": "https://api.github.com/users/promag/orgs",
      "repos_url": "https://api.github.com/users/promag/repos",
      "events_url": "https://api.github.com/users/promag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/promag/received_events",
      "type": "User",
      "site_admin": false
    },
    "parents": [
      {
        "sha": "afa577c323dcaedf641897fab43af2540e230bcb",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/afa577c323dcaedf641897fab43af2540e230bcb",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/afa577c323dcaedf641897fab43af2540e230bcb"
      }
    ],
    "stats": {
      "total": 29,
      "additions": 9,
      "deletions": 20
    },
    "files": [
      {
        "sha": "d9f8890fb488df8308dffac6508d2fbf75f1bb60",
        "filename": "src/qt/walletframe.cpp",
        "status": "modified",
        "additions": 7,
        "deletions": 13,
        "changes": 20,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b/src/qt/walletframe.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b/src/qt/walletframe.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.cpp?ref=f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
        "patch": "@@ -14,20 +14,14 @@\n #include <QLabel>\n \n WalletFrame::WalletFrame(const PlatformStyle *_platformStyle, BitcoinGUI *_gui) :\n-    QFrame(_gui),\n+    QStackedWidget(_gui),\n     gui(_gui),\n     platformStyle(_platformStyle)\n {\n-    // Leave HBox hook for adding a list view later\n-    QHBoxLayout *walletFrameLayout = new QHBoxLayout(this);\n     setContentsMargins(0,0,0,0);\n-    walletStack = new QStackedWidget(this);\n-    walletFrameLayout->setContentsMargins(0,0,0,0);\n-    walletFrameLayout->addWidget(walletStack);\n-\n     QLabel *noWallet = new QLabel(tr(\"No wallet has been loaded.\"));\n     noWallet->setAlignment(Qt::AlignCenter);\n-    walletStack->addWidget(noWallet);\n+    addWidget(noWallet);\n }\n \n WalletFrame::~WalletFrame()\n@@ -61,7 +55,7 @@ bool WalletFrame::addWallet(WalletModel *walletModel)\n         walletView->gotoOverviewPage();\n     }\n \n-    walletStack->addWidget(walletView);\n+    addWidget(walletView);\n     mapWalletViews[walletModel] = walletView;\n \n     connect(walletView, &WalletView::outOfSyncWarningClicked, this, &WalletFrame::outOfSyncWarningClicked);\n@@ -82,7 +76,7 @@ void WalletFrame::setCurrentWallet(WalletModel* wallet_model)\n     if (mapWalletViews.count(wallet_model) == 0) return;\n \n     WalletView *walletView = mapWalletViews.value(wallet_model);\n-    walletStack->setCurrentWidget(walletView);\n+    setCurrentWidget(walletView);\n     assert(walletView);\n     walletView->updateEncryptionStatus();\n }\n@@ -92,15 +86,15 @@ void WalletFrame::removeWallet(WalletModel* wallet_model)\n     if (mapWalletViews.count(wallet_model) == 0) return;\n \n     WalletView *walletView = mapWalletViews.take(wallet_model);\n-    walletStack->removeWidget(walletView);\n+    removeWidget(walletView);\n     delete walletView;\n }\n \n void WalletFrame::removeAllWallets()\n {\n     QMap<WalletModel*, WalletView*>::const_iterator i;\n     for (i = mapWalletViews.constBegin(); i != mapWalletViews.constEnd(); ++i)\n-        walletStack->removeWidget(i.value());\n+        removeWidget(i.value());\n     mapWalletViews.clear();\n }\n \n@@ -215,7 +209,7 @@ void WalletFrame::usedReceivingAddresses()\n \n WalletView* WalletFrame::currentWalletView() const\n {\n-    return qobject_cast<WalletView*>(walletStack->currentWidget());\n+    return qobject_cast<WalletView*>(currentWidget());\n }\n \n WalletModel* WalletFrame::currentWalletModel() const"
      },
      {
        "sha": "ed542e7aba7243e1e35b9974d35e110298f1e12b",
        "filename": "src/qt/walletframe.h",
        "status": "modified",
        "additions": 2,
        "deletions": 7,
        "changes": 9,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b/src/qt/walletframe.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b/src/qt/walletframe.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/qt/walletframe.h?ref=f1a15185ebbe1cf795c1bbe8cb5630c2b97f903b",
        "patch": "@@ -5,7 +5,7 @@\n #ifndef BITCOIN_QT_WALLETFRAME_H\n #define BITCOIN_QT_WALLETFRAME_H\n \n-#include <QFrame>\n+#include <QStackedWidget>\n #include <QMap>\n \n class BitcoinGUI;\n@@ -15,18 +15,14 @@ class SendCoinsRecipient;\n class WalletModel;\n class WalletView;\n \n-QT_BEGIN_NAMESPACE\n-class QStackedWidget;\n-QT_END_NAMESPACE\n-\n /**\n  * A container for embedding all wallet-related\n  * controls into BitcoinGUI. The purpose of this class is to allow future\n  * refinements of the wallet controls with minimal need for further\n  * modifications to BitcoinGUI, thus greatly simplifying merges while\n  * reducing the risk of breaking top-level stuff.\n  */\n-class WalletFrame : public QFrame\n+class WalletFrame : public QStackedWidget\n {\n     Q_OBJECT\n \n@@ -50,7 +46,6 @@ class WalletFrame : public QFrame\n     void requestedSyncWarningInfo();\n \n private:\n-    QStackedWidget *walletStack;\n     BitcoinGUI *gui;\n     ClientModel *clientModel;\n     QMap<WalletModel*, WalletView*> mapWalletViews;"
      }
    ]
  }
]