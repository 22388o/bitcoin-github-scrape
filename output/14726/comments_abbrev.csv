DrahtBot,2018-11-14T02:16:28Z,"<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#14707](https://drahtbot.github.io/bitcoin_core_issue_redirect/r/14707.html) ([RPC] Include coinbase transactions in rece",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438512523,438512523,
laanwj,2018-11-14T10:23:19Z,Concept ACK!,https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438612621,438612621,
practicalswift,2018-11-14T15:02:32Z,"Concept ACK\n\nExtra credit for adding a linting which makes sure we'll never have to think about this again :-)",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438692534,438692534,
promag,2018-11-14T15:50:11Z,Concept ACK.,https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438710846,438710846,
MarcoFalke,2018-11-14T16:43:14Z,"For reference the diff in the resulting rpc doc is:\n\n```diff\ndiff --git a/bumpfee b/bumpfee\nindex b47ef5b..892a1e6 100644\n--- a/bumpfee\n+++ b/bumpfee\n@@ -1,4 +1,4 @@\n-bumpfee ""txid"" ( options ) \n+bumpfee ""txid"" ( options )\n \n Bumps the fee of an opt-in-RBF transaction T, replacing it with a new transaction B.\n An opt-in RBF transaction with the given txid must be in the wal",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438731118,438731118,
ryanofsky,2018-11-14T17:52:22Z,"I think in some of these cases, the previous output might be more readable than the new output. Examples:\n\n```diff\n-scantxoutset ""action"" [scanobjects,...]\n+scantxoutset ""action"" [{""desc"":""str"",""range"":n},...]\n```\n\n```diff\n-sendmany """" {""address"":amount,...} ( minconf ""comment"" [""address"",...] replaceable conf_target ""estimate_mode"")\n+sendmany ""dummy"" {""address"":amount} ( minconf",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438755675,438755675,
MarcoFalke,2018-11-14T20:47:06Z,Restored the inconsistencies. Resulting changes should be formatting-only.,https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438812354,438812354,
fanquake,2018-11-15T08:32:12Z,Concept ACK,https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-438958835,438958835,
MarcoFalke,2018-11-15T17:19:56Z,Added a separate commit for the documentation fixups requested by @practicalswift and @ryanofsky ,https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-439119570,439119570,
laanwj,2018-11-23T08:42:27Z,"utACK fa5e0452e875a7ca6bf6fe61fdd652d341eece40\n\nThis is a nice step forward in the consistency of RPC help.",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-441181199,441181199,
Sjors,2018-11-27T15:16:05Z,"Nice! Does this allow us to get rid of [CRPCConvertParam](https://github.com/bitcoin/bitcoin/blob/master/src/rpc/client.cpp#L28), which is quite easy to forget?",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-442095117,442095117,
MarcoFalke,2018-12-03T19:47:17Z,"@Sjors Not so quick. It could potentially help with those, but I'd suggest to first focus on the formatting and getting all parameters in correctly, which is being done in #14796. I have some fun changes piled up locally, but I can only do them after #14796.",https://github.com/bitcoin/bitcoin/pull/14726#issuecomment-443845013,443845013,
practicalswift,2018-11-14T12:18:29Z,Add a description of what the linter does :-),https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233423597,233423597,test/lint/lint-rpc-help.sh
practicalswift,2018-11-14T12:18:58Z,I'm afraid BSD grep does not support `--perl-regexp` and `--null-data` :-\,https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233423719,233423719,test/lint/lint-rpc-help.sh
ryanofsky,2018-11-14T17:24:24Z,"I probably should have asked this in #14530. But is there a plan for:\n\n```c++\n{""template_request"", RPCArg::Type::OBJ,\n    {\n        {""mode"", RPCArg::Type::STR, true},\n        {""capabilities"", RPCArg::Type::ARR,\n            {\n                {""support"", RPCArg::Type::STR, true},\n            },\n            true},\n        {""rules"", RPCArg::Type::ARR,\n            {\n          ",https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233543554,233543554,src/rpc/mining.cpp
MarcoFalke,2018-11-14T17:33:49Z,"@ryanofsky You simply pass through the description string for each arg. Though the resulting diff will be larger because in the verbose description the types are not named in the same way across all docs, so I'd like to do that as a follow up pull request.",https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233546874,233546874,src/rpc/mining.cpp
promag,2018-11-14T17:50:22Z,I had the same doubt as @ryanofsky. Before merging it would be great to see a POC of that @MarcoFalke.,https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233552593,233552593,src/rpc/mining.cpp
ryanofsky,2018-11-15T15:58:10Z,"This linter doesn't seem like very reliable. Maybe we can just keep it temporarily (add a comment to remove in 6 months)?\n\nIf we're are going to keep this, I would suggest adding a comment that describes what this regex is looking for. It seems like it just looking for std::runtime_error constructions with a specifically formatted type of multiline string, which could miss non-uses of RPCHelpM",https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233902087,233902087,test/lint/lint-rpc-help.sh
ryanofsky,2018-11-15T16:15:38Z,"Not directly related (space was missing previously) but maybe add space between ""in"" and ""bitcoin-cli""",https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233909535,233909535,src/rpc/misc.cpp
MarcoFalke,2018-11-15T16:51:34Z,"@ryanofsky @promag See the code in 92377d37cc0e59713874d5af406abfd84a7d972a, which produces\n\n```\n1. template_request    (json object, optional, default=m_default) m_description\n     {                 (json object)\n       ""mode"":""str""    (string, optional, default=m_default) m_description\n       [               (json array)\n         ""support""     (string, optional, default=m_default) ",https://github.com/bitcoin/bitcoin/pull/14726#discussion_r233924506,233924506,src/rpc/mining.cpp
practicalswift,2018-11-15T21:11:35Z,Perhaps the linter can just `exit 0` with an information message if BSD grep is used?,https://github.com/bitcoin/bitcoin/pull/14726#discussion_r234009323,234009323,test/lint/lint-rpc-help.sh
