[
  {
    "sha": "59090133c0ffae33a4f5a186567ba6a514d2c11b",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzo1OTA5MDEzM2MwZmZhZTMzYTRmNWExODY1NjdiYTZhNTE0ZDJjMTFi",
    "commit": {
      "author": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-09-17T16:29:41Z"
      },
      "committer": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-09-17T16:29:41Z"
      },
      "message": "log low-level network messages only when fDebug is set",
      "tree": {
        "sha": "2b1cb0f9f610d27c29a45f7b95171f10cb0f0835",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/2b1cb0f9f610d27c29a45f7b95171f10cb0f0835"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/59090133c0ffae33a4f5a186567ba6a514d2c11b",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/59090133c0ffae33a4f5a186567ba6a514d2c11b",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/59090133c0ffae33a4f5a186567ba6a514d2c11b",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/59090133c0ffae33a4f5a186567ba6a514d2c11b/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "217208a36d210e7d51e405d0e531ac2b75a3a087",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/217208a36d210e7d51e405d0e531ac2b75a3a087",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/217208a36d210e7d51e405d0e531ac2b75a3a087"
      }
    ],
    "stats": {
      "total": 19,
      "additions": 12,
      "deletions": 7
    },
    "files": [
      {
        "sha": "6a3bacc78e97b081992d156b6bf0c9670cd9e7b8",
        "filename": "src/main.cpp",
        "status": "modified",
        "additions": 5,
        "deletions": 3,
        "changes": 8,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/59090133c0ffae33a4f5a186567ba6a514d2c11b/src/main.cpp",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/59090133c0ffae33a4f5a186567ba6a514d2c11b/src/main.cpp",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/main.cpp?ref=59090133c0ffae33a4f5a186567ba6a514d2c11b",
        "patch": "@@ -1744,9 +1744,10 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n {\n     static map<unsigned int, vector<unsigned char> > mapReuseKey;\n     RandAddSeedPerfmon();\n-    if (fDebug)\n+    if (fDebug) {\n         printf(\"%s \", DateTimeStrFormat(\"%x %H:%M:%S\", GetTime()).c_str());\n-    printf(\"received: %s (%d bytes)\\n\", strCommand.c_str(), vRecv.size());\n+        printf(\"received: %s (%d bytes)\\n\", strCommand.c_str(), vRecv.size());\n+    }\n     if (mapArgs.count(\"-dropmessagestest\") && GetRand(atoi(mapArgs[\"-dropmessagestest\"])) == 0)\n     {\n         printf(\"dropmessagestest DROPPING RECV MESSAGE\\n\");\n@@ -1934,7 +1935,8 @@ bool static ProcessMessage(CNode* pfrom, string strCommand, CDataStream& vRecv)\n             pfrom->AddInventoryKnown(inv);\n \n             bool fAlreadyHave = AlreadyHave(txdb, inv);\n-            printf(\"  got inventory: %s  %s\\n\", inv.ToString().c_str(), fAlreadyHave ? \"have\" : \"new\");\n+            if (fDebug)\n+                printf(\"  got inventory: %s  %s\\n\", inv.ToString().c_str(), fAlreadyHave ? \"have\" : \"new\");\n \n             if (!fAlreadyHave)\n                 pfrom->AskFor(inv);"
      },
      {
        "sha": "a8356eade1501e22bdb58453a83ef40223020ff9",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 7,
        "deletions": 4,
        "changes": 11,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/59090133c0ffae33a4f5a186567ba6a514d2c11b/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/59090133c0ffae33a4f5a186567ba6a514d2c11b/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=59090133c0ffae33a4f5a186567ba6a514d2c11b",
        "patch": "@@ -282,9 +282,10 @@ class CNode\n         nHeaderStart = vSend.size();\n         vSend << CMessageHeader(pszCommand, 0);\n         nMessageStart = vSend.size();\n-        if (fDebug)\n+        if (fDebug) {\n             printf(\"%s \", DateTimeStrFormat(\"%x %H:%M:%S\", GetTime()).c_str());\n-        printf(\"sending: %s \", pszCommand);\n+            printf(\"sending: %s \", pszCommand);\n+        }\n     }\n \n     void AbortMessage()\n@@ -324,8 +325,10 @@ class CNode\n             memcpy((char*)&vSend[nHeaderStart] + offsetof(CMessageHeader, nChecksum), &nChecksum, sizeof(nChecksum));\n         }\n \n-        printf(\"(%d bytes) \", nSize);\n-        printf(\"\\n\");\n+        if (fDebug) {\n+            printf(\"(%d bytes) \", nSize);\n+            printf(\"\\n\");\n+        }\n \n         nHeaderStart = -1;\n         nMessageStart = -1;"
      }
    ]
  },
  {
    "sha": "e674680ddd17382e0605472385e1bd5d0cf4e502",
    "node_id": "MDY6Q29tbWl0MTE4MTkyNzplNjc0NjgwZGRkMTczODJlMDYwNTQ3MjM4NWUxYmQ1ZDBjZjRlNTAy",
    "commit": {
      "author": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-09-17T19:36:58Z"
      },
      "committer": {
        "name": "Nils Schneider",
        "email": "nils.schneider@gmail.com",
        "date": "2011-09-17T19:36:58Z"
      },
      "message": "missed printf in AbortMessage(); merged printfs in EndMessage",
      "tree": {
        "sha": "7b493cdcb371320ac1b039f2b975be5bbfe739ee",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/git/trees/7b493cdcb371320ac1b039f2b975be5bbfe739ee"
      },
      "url": "https://api.github.com/repos/bitcoin/bitcoin/git/commits/e674680ddd17382e0605472385e1bd5d0cf4e502",
      "comment_count": 0,
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "signature": null,
        "payload": null
      }
    },
    "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e674680ddd17382e0605472385e1bd5d0cf4e502",
    "html_url": "https://github.com/bitcoin/bitcoin/commit/e674680ddd17382e0605472385e1bd5d0cf4e502",
    "comments_url": "https://api.github.com/repos/bitcoin/bitcoin/commits/e674680ddd17382e0605472385e1bd5d0cf4e502/comments",
    "author": null,
    "committer": null,
    "parents": [
      {
        "sha": "59090133c0ffae33a4f5a186567ba6a514d2c11b",
        "url": "https://api.github.com/repos/bitcoin/bitcoin/commits/59090133c0ffae33a4f5a186567ba6a514d2c11b",
        "html_url": "https://github.com/bitcoin/bitcoin/commit/59090133c0ffae33a4f5a186567ba6a514d2c11b"
      }
    ],
    "stats": {
      "total": 7,
      "additions": 4,
      "deletions": 3
    },
    "files": [
      {
        "sha": "0026e402c2cfc2fa3ddb0f9d4fa078f16fa8b51a",
        "filename": "src/net.h",
        "status": "modified",
        "additions": 4,
        "deletions": 3,
        "changes": 7,
        "blob_url": "https://github.com/bitcoin/bitcoin/blob/e674680ddd17382e0605472385e1bd5d0cf4e502/src/net.h",
        "raw_url": "https://github.com/bitcoin/bitcoin/raw/e674680ddd17382e0605472385e1bd5d0cf4e502/src/net.h",
        "contents_url": "https://api.github.com/repos/bitcoin/bitcoin/contents/src/net.h?ref=e674680ddd17382e0605472385e1bd5d0cf4e502",
        "patch": "@@ -296,7 +296,9 @@ class CNode\n         nHeaderStart = -1;\n         nMessageStart = -1;\n         cs_vSend.Leave();\n-        printf(\"(aborted)\\n\");\n+\n+        if (fDebug)\n+            printf(\"(aborted)\\n\");\n     }\n \n     void EndMessage()\n@@ -326,8 +328,7 @@ class CNode\n         }\n \n         if (fDebug) {\n-            printf(\"(%d bytes) \", nSize);\n-            printf(\"\\n\");\n+            printf(\"(%d bytes)\\n\", nSize);\n         }\n \n         nHeaderStart = -1;"
      }
    ]
  }
]