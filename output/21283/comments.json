[
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784639363",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-784639363",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 784639363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDYzOTM2Mw==",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T00:38:20Z",
    "updated_at": "2021-11-28T08:19:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--e57a25ab6845829454e8d69fc972939a-->\n\nThe following sections might be updated with supplementary metadata relevant to reviewers and maintainers.\n\n<!--174a7506f384e20aa4161008e828411d-->\n### Conflicts\nReviewers, this pull request conflicts with the following ones:\n\n* [#23602](https://github.com/bitcoin/bitcoin/pull/23602) (wallet: Split stuff from rpcwallet by MarcoFalke)\n* [#23578](https://github.com/bitcoin/bitcoin/pull/23578) (Add external signer taproot support by Sjors)\n* [#23507](https://github.com/bitcoin/bitcoin/pull/23507) (Refactor: Improve API design of `ScriptToUniv`, `TxToUniv` etc to return the `UniValue` instead of mutating a parameter/reference by mjdietzx)\n* [#23413](https://github.com/bitcoin/bitcoin/pull/23413) (Replace MakeSpan helper with Span deduction guide by sipa)\n* [#22924](https://github.com/bitcoin/bitcoin/pull/22924) (refactor: cleanup/followup of Remove -deprecatedrpc=addresses flag by mjdietzx)\n* [#22558](https://github.com/bitcoin/bitcoin/pull/22558) (psbt: Taproot fields for PSBT by achow101)\n* [#22514](https://github.com/bitcoin/bitcoin/pull/22514) (psbt: Actually use SIGHASH_DEFAULT for PSBT signing by achow101)\n* [#22513](https://github.com/bitcoin/bitcoin/pull/22513) (rpc: Allow walletprocesspsbt to sign without finalizing by achow101)\n* [#17034](https://github.com/bitcoin/bitcoin/pull/17034) ([BIP 174] PSBT version, proprietary, and xpub fields by achow101)\n* [#15294](https://github.com/bitcoin/bitcoin/pull/15294) (refactor: Extract RipeMd160 by Empact)\n\nIf you consider this pull request important, please also help to review the conflicting pull requests. Ideally, start with the one that should be merged first.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/784639363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932161256",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932161256",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 932161256,
    "node_id": "IC_kwDOABII5843j6bo",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T11:52:14Z",
    "updated_at": "2021-10-01T11:52:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "In c8b879609f02288975e3a6f714fbcfa1a93edcbc (*moveonly: Move (Un)Serialize(To/From)Vector, (De)SerializeHDKeypaths to psbt module*), should you possibly move/copy `#include <streams.h>`, `#include <span.h>` and `#include <script/keyorigin.h>`?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932161256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932807463",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932807463",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 932807463,
    "node_id": "IC_kwDOABII5843mYMn",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-02T19:20:00Z",
    "updated_at": "2021-10-02T19:20:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "In commit 0bd656b64e72e29f255a860c71c542f5a9f18c17 (*Separate individual HD Keypath serialization into separate functions*)\r\n\r\nShould line:\r\n\r\n```cpp\r\nif (value_len % 4 || value_len == 0) {\r\n```\r\n\r\nbe\r\n\r\n```cpp\r\nif (value_len % 4 != 0 || value_len == 0) {\r\n```\r\n\r\nto make it more explicit?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932807463/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932810576",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932810576",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 932810576,
    "node_id": "IC_kwDOABII5843mY9Q",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?u=b48a1208deda9bd1756f21a35341ce98265355c2&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-02T19:41:52Z",
    "updated_at": "2021-10-02T19:41:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is it possible that in commit 459fd3b0cc646f5ab02dd3cfd239c7a0418e6a32 (*Implement operator< for KeyOriginInfo and CExtPubKey *)\r\n\r\n```cpp\r\nelse if (a.pubkey > b.pubkey) {\r\n    return false;\r\n}\r\n```\r\n\r\nis missing?",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932810576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932993789",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-932993789",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 932993789,
    "node_id": "IC_kwDOABII5843nFr9",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?u=9791e96cd4268d48e3517bac41eaf2b1d09759fd&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-03T17:34:40Z",
    "updated_at": "2021-10-03T17:34:40Z",
    "author_association": "MEMBER",
    "body": "@kiminuo\r\n\r\n\r\n\r\n> In commit [0bd656b](https://github.com/bitcoin/bitcoin/commit/0bd656b64e72e29f255a860c71c542f5a9f18c17) (_Separate individual HD Keypath serialization into separate functions_)\r\n> \r\n> Should line:\r\n> \r\n> ```c++\r\n> if (value_len % 4 || value_len == 0) {\r\n> ```\r\n> \r\n> be\r\n> \r\n> ```c++\r\n> if (value_len % 4 != 0 || value_len == 0) {\r\n> ```\r\n> \r\n> to make it more explicit?\r\n\r\nThis is moved code, so I will not be changing it.\r\n\r\n\r\n\r\n> Is it possible that in commit [459fd3b](https://github.com/bitcoin/bitcoin/commit/459fd3b0cc646f5ab02dd3cfd239c7a0418e6a32) (*Implement operator< for KeyOriginInfo and CExtPubKey *)\r\n> \r\n> ```c++\r\n> else if (a.pubkey > b.pubkey) {\r\n>     return false;\r\n> }\r\n> ```\r\n> \r\n> is missing?\r\n\r\nDone.\r\n\r\n***\r\n\r\nIn the future, please leave such comments on the code as inline comments rather than comments like this. It makes it much easier to respond directly to specific questions such as these.",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/932993789/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815689",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#issuecomment-981815689",
    "issue_url": "https://api.github.com/repos/bitcoin/bitcoin/issues/21283",
    "id": 981815689,
    "node_id": "IC_kwDOABII5846hVGJ",
    "user": {
      "login": "DrahtBot",
      "id": 39886733,
      "node_id": "MDQ6VXNlcjM5ODg2NzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/39886733?u=3c1e73d828cf5a5850dfc25c8397c1cf751db5ac&v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DrahtBot",
      "html_url": "https://github.com/DrahtBot",
      "followers_url": "https://api.github.com/users/DrahtBot/followers",
      "following_url": "https://api.github.com/users/DrahtBot/following{/other_user}",
      "gists_url": "https://api.github.com/users/DrahtBot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DrahtBot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DrahtBot/subscriptions",
      "organizations_url": "https://api.github.com/users/DrahtBot/orgs",
      "repos_url": "https://api.github.com/users/DrahtBot/repos",
      "events_url": "https://api.github.com/users/DrahtBot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DrahtBot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-29T16:46:44Z",
    "updated_at": "2021-11-29T16:46:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "<!--cf906140f33d8803c4a75a2196329ecb-->\n\ud83d\udc19 This pull request conflicts with the target branch and [needs rebase](https://github.com/bitcoin/bitcoin/blob/master/CONTRIBUTING.md#rebasing-changes).\n\n<sub>Want to unsubscribe from rebase notifications on this pull request? Just convert this pull request to a \"draft\".</sub>",
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/issues/comments/981815689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588408910",
    "pull_request_review_id": 605359794,
    "id": 588408910,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODQwODkxMA==",
    "diff_hunk": "@@ -1107,10 +1157,61 @@ static RPCHelpMan decodepsbt()\n \n     UniValue result(UniValue::VOBJ);\n \n-    // Add the decoded tx\n-    UniValue tx_univ(UniValue::VOBJ);\n-    TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n-    result.pushKV(\"tx\", tx_univ);\n+    if (psbtx.tx != std::nullopt) {\n+        // Add the decoded tx\n+        UniValue tx_univ(UniValue::VOBJ);\n+        TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n+        result.pushKV(\"tx\", tx_univ);\n+    }\n+\n+    // Add the global xpubs\n+    UniValue global_xpubs(UniValue::VARR);\n+    for (std::pair<KeyOriginInfo, std::set<CExtPubKey>> xpub_pair : psbtx.m_xpubs) {\n+        for (auto& xpub : xpub_pair.second) {\n+            std::vector<unsigned char> ser_xpub;\n+            ser_xpub.assign(BIP32_EXTKEY_WITH_VERSION_SIZE, 0);\n+            xpub.EncodeWithVersion(ser_xpub.data());\n+\n+            UniValue keypath(UniValue::VOBJ);\n+            keypath.pushKV(\"xpub\", EncodeBase58Check(ser_xpub));\n+            keypath.pushKV(\"master_fingerprint\", HexStr(Span<unsigned char>(xpub_pair.first.fingerprint, xpub_pair.first.fingerprint + 4)));\n+            keypath.pushKV(\"path\", WriteHDKeypath(xpub_pair.first.path));\n+            global_xpubs.push_back(keypath);\n+        }\n+    }\n+    result.pushKV(\"global_xpubs\", global_xpubs);\n+\n+    // Add PSBTv2 stuff\n+    if (psbtx.GetVersion() == 2) {\n+        if (psbtx.tx_version != std::nullopt) {\n+            result.pushKV(\"tx_version\", *psbtx.tx_version);\n+        }\n+        if (psbtx.fallback_locktime != std::nullopt) {\n+            result.pushKV(\"fallback_locktime\", static_cast<uint64_t>(*psbtx.fallback_locktime));\n+        }\n+        result.pushKV(\"input_count\", psbtx.inputs.size());\n+        result.pushKV(\"output_count\", psbtx.inputs.size());",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 127,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "6e4c04e3a2f376b3f0f2c0a3ccbada2b7a6d845f",
    "user": {
      "login": "adamjonas",
      "id": 755825,
      "node_id": "MDQ6VXNlcjc1NTgyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamjonas",
      "html_url": "https://github.com/adamjonas",
      "followers_url": "https://api.github.com/users/adamjonas/followers",
      "following_url": "https://api.github.com/users/adamjonas/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamjonas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
      "organizations_url": "https://api.github.com/users/adamjonas/orgs",
      "repos_url": "https://api.github.com/users/adamjonas/repos",
      "events_url": "https://api.github.com/users/adamjonas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamjonas/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Getting a compile error consistent with the CI for these two lines:\r\n\r\n```\r\nrpc/rawtransaction.cpp:1192:16: error: call to member function 'pushKV' is ambiguous\r\n        result.pushKV(\"input_count\", psbtx.inputs.size());\r\n        ~~~~~~~^~~~~~\r\n./univalue/include/univalue.h:127:10: note: candidate function\r\n    bool pushKV(const std::string& key, int64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:131:10: note: candidate function\r\n    bool pushKV(const std::string& key, uint64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:135:10: note: candidate function\r\n    bool pushKV(const std::string& key, bool val_) {\r\n         ^\r\n./univalue/include/univalue.h:139:10: note: candidate function\r\n    bool pushKV(const std::string& key, int val_) {\r\n         ^\r\n./univalue/include/univalue.h:143:10: note: candidate function\r\n    bool pushKV(const std::string& key, double val_) {\r\n         ^\r\n./univalue/include/univalue.h:118:10: note: candidate function\r\n    bool pushKV(const std::string& key, const UniValue& val);\r\n         ^\r\n./univalue/include/univalue.h:119:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const std::string' (aka 'const basic_string<char, char_traits<char>, allocator<char> >') for 2nd argument\r\n    bool pushKV(const std::string& key, const std::string& val_) {\r\n         ^\r\n./univalue/include/univalue.h:123:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const char *' for 2nd argument\r\n    bool pushKV(const std::string& key, const char *val_) {\r\n         ^\r\nrpc/rawtransaction.cpp:1193:16: error: call to member function 'pushKV' is ambiguous\r\n        result.pushKV(\"output_count\", psbtx.inputs.size());\r\n        ~~~~~~~^~~~~~\r\n./univalue/include/univalue.h:127:10: note: candidate function\r\n    bool pushKV(const std::string& key, int64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:131:10: note: candidate function\r\n    bool pushKV(const std::string& key, uint64_t val_) {\r\n         ^\r\n./univalue/include/univalue.h:135:10: note: candidate function\r\n    bool pushKV(const std::string& key, bool val_) {\r\n         ^\r\n./univalue/include/univalue.h:139:10: note: candidate function\r\n    bool pushKV(const std::string& key, int val_) {\r\n         ^\r\n./univalue/include/univalue.h:143:10: note: candidate function\r\n    bool pushKV(const std::string& key, double val_) {\r\n         ^\r\n./univalue/include/univalue.h:118:10: note: candidate function\r\n    bool pushKV(const std::string& key, const UniValue& val);\r\n         ^\r\n./univalue/include/univalue.h:119:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const std::string' (aka 'const basic_string<char, char_traits<char>, allocator<char> >') for 2nd argument\r\n    bool pushKV(const std::string& key, const std::string& val_) {\r\n         ^\r\n./univalue/include/univalue.h:123:10: note: candidate function not viable: no known conversion from 'std::__1::vector<PSBTInput, std::__1::allocator<PSBTInput> >::size_type' (aka 'unsigned long') to 'const char *' for 2nd argument\r\n    bool pushKV(const std::string& key, const char *val_) {\r\n         ^\r\n2 errors generated.\r\n```",
    "created_at": "2021-03-05T15:50:58Z",
    "updated_at": "2021-05-11T17:52:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588408910",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588408910"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588408910"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588408910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 1192,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 1193,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588524887",
    "pull_request_review_id": 605464591,
    "id": 588524887,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODUyNDg4Nw==",
    "diff_hunk": "@@ -1107,10 +1157,61 @@ static RPCHelpMan decodepsbt()\n \n     UniValue result(UniValue::VOBJ);\n \n-    // Add the decoded tx\n-    UniValue tx_univ(UniValue::VOBJ);\n-    TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n-    result.pushKV(\"tx\", tx_univ);\n+    if (psbtx.tx != std::nullopt) {\n+        // Add the decoded tx\n+        UniValue tx_univ(UniValue::VOBJ);\n+        TxToUniv(CTransaction(*psbtx.tx), uint256(), tx_univ, false);\n+        result.pushKV(\"tx\", tx_univ);\n+    }\n+\n+    // Add the global xpubs\n+    UniValue global_xpubs(UniValue::VARR);\n+    for (std::pair<KeyOriginInfo, std::set<CExtPubKey>> xpub_pair : psbtx.m_xpubs) {\n+        for (auto& xpub : xpub_pair.second) {\n+            std::vector<unsigned char> ser_xpub;\n+            ser_xpub.assign(BIP32_EXTKEY_WITH_VERSION_SIZE, 0);\n+            xpub.EncodeWithVersion(ser_xpub.data());\n+\n+            UniValue keypath(UniValue::VOBJ);\n+            keypath.pushKV(\"xpub\", EncodeBase58Check(ser_xpub));\n+            keypath.pushKV(\"master_fingerprint\", HexStr(Span<unsigned char>(xpub_pair.first.fingerprint, xpub_pair.first.fingerprint + 4)));\n+            keypath.pushKV(\"path\", WriteHDKeypath(xpub_pair.first.path));\n+            global_xpubs.push_back(keypath);\n+        }\n+    }\n+    result.pushKV(\"global_xpubs\", global_xpubs);\n+\n+    // Add PSBTv2 stuff\n+    if (psbtx.GetVersion() == 2) {\n+        if (psbtx.tx_version != std::nullopt) {\n+            result.pushKV(\"tx_version\", *psbtx.tx_version);\n+        }\n+        if (psbtx.fallback_locktime != std::nullopt) {\n+            result.pushKV(\"fallback_locktime\", static_cast<uint64_t>(*psbtx.fallback_locktime));\n+        }\n+        result.pushKV(\"input_count\", psbtx.inputs.size());\n+        result.pushKV(\"output_count\", psbtx.inputs.size());",
    "path": "src/rpc/rawtransaction.cpp",
    "position": null,
    "original_position": 127,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "6e4c04e3a2f376b3f0f2c0a3ccbada2b7a6d845f",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I can't replicate this error at all, but I think I have fixed it.",
    "created_at": "2021-03-05T17:51:42Z",
    "updated_at": "2021-05-11T17:52:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588524887",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588524887"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r588524887"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/588524887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": 1192,
    "start_side": "RIGHT",
    "line": null,
    "original_line": 1193,
    "side": "RIGHT",
    "in_reply_to_id": 588408910
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617606053",
    "pull_request_review_id": 641170499,
    "id": 617606053,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYxNzYwNjA1Mw==",
    "diff_hunk": "@@ -19,6 +19,14 @@ PartiallySignedTransaction::PartiallySignedTransaction(const CMutableTransaction\n     SetupFromTx(tx);\n }\n \n+PartiallySignedTransaction::PartiallySignedTransaction(uint32_t version) :\n+    m_version(version)\n+{\n+    if (GetVersion() >= 2) {\n+        tx_version = CTransaction::CURRENT_VERSION;",
    "path": "src/psbt.cpp",
    "position": 26,
    "original_position": 8,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "776419b72e3408db736667ccbcda399564b6110b",
    "user": {
      "login": "adamjonas",
      "id": 755825,
      "node_id": "MDQ6VXNlcjc1NTgyNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/755825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamjonas",
      "html_url": "https://github.com/adamjonas",
      "followers_url": "https://api.github.com/users/adamjonas/followers",
      "following_url": "https://api.github.com/users/adamjonas/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamjonas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamjonas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamjonas/subscriptions",
      "organizations_url": "https://api.github.com/users/adamjonas/orgs",
      "repos_url": "https://api.github.com/users/adamjonas/repos",
      "events_url": "https://api.github.com/users/adamjonas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamjonas/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is erroring for me: `psbt.cpp:(.text+0x4ca): undefined reference to 'CTransaction::CURRENT_VERSION'`",
    "created_at": "2021-04-21T14:33:41Z",
    "updated_at": "2021-05-11T17:52:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r617606053",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617606053"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r617606053"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/617606053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 26,
    "original_line": 26,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629810121",
    "pull_request_review_id": 656238966,
    "id": 629810121,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyOTgxMDEyMQ==",
    "diff_hunk": "@@ -661,6 +804,10 @@ struct PartiallySignedTransaction\n \n         // Read global data\n         bool found_sep = false;\n+        uint32_t input_count = 0;\n+        uint32_t output_count = 0;",
    "path": "src/psbt.h",
    "position": null,
    "original_position": 211,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "dd0ea68a16dfe761ba3864a5a170b55a1e82e422",
    "user": {
      "login": "sanket1729",
      "id": 6881849,
      "node_id": "MDQ6VXNlcjY4ODE4NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6881849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sanket1729",
      "html_url": "https://github.com/sanket1729",
      "followers_url": "https://api.github.com/users/sanket1729/followers",
      "following_url": "https://api.github.com/users/sanket1729/following{/other_user}",
      "gists_url": "https://api.github.com/users/sanket1729/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sanket1729/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sanket1729/subscriptions",
      "organizations_url": "https://api.github.com/users/sanket1729/orgs",
      "repos_url": "https://api.github.com/users/sanket1729/repos",
      "events_url": "https://api.github.com/users/sanket1729/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sanket1729/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "@achow101, the BIP says that this should CompactSize which I assume means VarInt in bitcoin context? But the implementation serializes this as uint32_t",
    "created_at": "2021-05-11T02:49:52Z",
    "updated_at": "2021-05-11T17:52:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r629810121",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629810121"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r629810121"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/629810121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 808,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630401901",
    "pull_request_review_id": 657040599,
    "id": 630401901,
    "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMDQwMTkwMQ==",
    "diff_hunk": "@@ -661,6 +804,10 @@ struct PartiallySignedTransaction\n \n         // Read global data\n         bool found_sep = false;\n+        uint32_t input_count = 0;\n+        uint32_t output_count = 0;",
    "path": "src/psbt.h",
    "position": null,
    "original_position": 211,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "dd0ea68a16dfe761ba3864a5a170b55a1e82e422",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Oops, fixed.",
    "created_at": "2021-05-11T17:52:19Z",
    "updated_at": "2021-05-11T17:52:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r630401901",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630401901"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r630401901"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/630401901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 808,
    "side": "RIGHT",
    "in_reply_to_id": 629810121
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858",
    "pull_request_review_id": 768858112,
    "id": 720172858,
    "node_id": "PRRC_kwDOABII584q7Pc6",
    "diff_hunk": "@@ -428,6 +433,12 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // PSBT version\n+        if (m_version != std::nullopt && m_version > 0) {",
    "path": "src/psbt.h",
    "position": null,
    "original_position": 31,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "015f133e9a2a19c36b637e41306fd17831d615d7",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I think it should be:\r\n\r\n`if (m_version != std::nullopt && m_version > 0) {`\r\n->\r\n`if (m_version != std::nullopt && *m_version > 0) {`\r\n\r\nat least your next commit makes me think so (https://github.com/bitcoin/bitcoin/pull/21283/commits/92ff609c1ef9d3cd848d08b4bbec1cdbf4ae4f0b#diff-2fb519d85c6ae99cd87c94e5b7cba43ff2ddd031b2c523dd2ffb12e991c16494R438)",
    "created_at": "2021-10-01T11:37:42Z",
    "updated_at": "2021-10-01T11:37:43Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720172858",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720172858"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720172858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 437,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967",
    "pull_request_review_id": 769194788,
    "id": 720405967,
    "node_id": "PRRC_kwDOABII584q8IXP",
    "diff_hunk": "@@ -428,6 +433,12 @@ struct PartiallySignedTransaction\n         OverrideStream<Stream> os(&s, s.GetType(), s.GetVersion() | SERIALIZE_TRANSACTION_NO_WITNESS);\n         SerializeToVector(os, *tx);\n \n+        // PSBT version\n+        if (m_version != std::nullopt && m_version > 0) {",
    "path": "src/psbt.h",
    "position": null,
    "original_position": 31,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "015f133e9a2a19c36b637e41306fd17831d615d7",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-01T17:02:16Z",
    "updated_at": "2021-10-01T17:02:17Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720405967",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r720405967"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/720405967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": null,
    "original_line": 437,
    "side": "RIGHT",
    "in_reply_to_id": 720172858
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968",
    "pull_request_review_id": 771058571,
    "id": 721951968,
    "node_id": "PRRC_kwDOABII584rCBzg",
    "diff_hunk": "@@ -305,8 +307,20 @@ struct CExtPubKey {\n         return !(a == b);\n     }\n \n+    friend bool operator<(const CExtPubKey &a, const CExtPubKey &b)\n+    {\n+        if (a.pubkey < b.pubkey) {\n+            return true;\n+        } else if (a.pubkey > b.pubkey) {",
    "path": "src/pubkey.h",
    "position": 36,
    "original_position": 24,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "I believe that `operator>` implementation is missing for `CPubKey` class:\r\n\r\n```cpp\r\n    friend bool operator>(const CPubKey& a, const CPubKey& b)\r\n    {\r\n        return a.vch[0] > b.vch[0] ||\r\n               (a.vch[0] == b.vch[0] && memcmp(a.vch, b.vch, a.size()) > 0);\r\n    }\r\n```\r\n\r\nfor this line to work and that's why tests fail at the moment.",
    "created_at": "2021-10-05T07:13:29Z",
    "updated_at": "2021-10-05T07:13:30Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721951968",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721951968"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721951968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 319,
    "original_line": 319,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484",
    "pull_request_review_id": 771060650,
    "id": 721953484,
    "node_id": "PRRC_kwDOABII584rCCLM",
    "diff_hunk": "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;",
    "path": "src/psbt.h",
    "position": 169,
    "original_position": 168,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should `#include <uint256.h>` be added?",
    "created_at": "2021-10-05T07:15:44Z",
    "updated_at": "2021-10-05T07:15:44Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721953484",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721953484"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721953484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 188,
    "original_line": 188,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741",
    "pull_request_review_id": 771063735,
    "id": 721955741,
    "node_id": "PRRC_kwDOABII584rCCud",
    "diff_hunk": "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;\n+    std::optional<uint32_t> prev_out;\n+    std::optional<uint32_t> sequence;\n+    std::optional<uint32_t> time_locktime;\n+    std::optional<uint32_t> height_locktime;\n     std::map<std::vector<unsigned char>, std::vector<unsigned char>> unknown;\n+    std::set<PSBTProprietary> m_proprietary;\n     int sighash_type = 0;\n \n+    uint32_t m_psbt_version;\n+\n     bool IsNull() const;\n     void FillSignatureData(SignatureData& sigdata) const;\n     void FromSignatureData(const SignatureData& sigdata);\n     void Merge(const PSBTInput& input);\n-    PSBTInput() {}\n+    bool GetUTXO(CTxOut& utxo) const;",
    "path": "src/psbt.h",
    "position": 191,
    "original_position": 184,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "kiminuo",
      "id": 58662979,
      "node_id": "MDQ6VXNlcjU4NjYyOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/58662979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kiminuo",
      "html_url": "https://github.com/kiminuo",
      "followers_url": "https://api.github.com/users/kiminuo/followers",
      "following_url": "https://api.github.com/users/kiminuo/following{/other_user}",
      "gists_url": "https://api.github.com/users/kiminuo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kiminuo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kiminuo/subscriptions",
      "organizations_url": "https://api.github.com/users/kiminuo/orgs",
      "repos_url": "https://api.github.com/users/kiminuo/repos",
      "events_url": "https://api.github.com/users/kiminuo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kiminuo/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Should the [original comment](https://github.com/bitcoin/bitcoin/pull/21283/commits/7d6ac06858d5f15de5fd86b2c055efd6c3bc8345#diff-2fb519d85c6ae99cd87c94e5b7cba43ff2ddd031b2c523dd2ffb12e991c16494L748) be preserved in some way?",
    "created_at": "2021-10-05T07:19:06Z",
    "updated_at": "2021-10-05T07:19:06Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721955741",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "CONTRIBUTOR",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r721955741"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/721955741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 209,
    "original_line": 209,
    "side": "RIGHT"
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290",
    "pull_request_review_id": 771816940,
    "id": 722491290,
    "node_id": "PRRC_kwDOABII584rEFea",
    "diff_hunk": "@@ -305,8 +307,20 @@ struct CExtPubKey {\n         return !(a == b);\n     }\n \n+    friend bool operator<(const CExtPubKey &a, const CExtPubKey &b)\n+    {\n+        if (a.pubkey < b.pubkey) {\n+            return true;\n+        } else if (a.pubkey > b.pubkey) {",
    "path": "src/pubkey.h",
    "position": 36,
    "original_position": 24,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done. Keep in mind this commit (and the first 15 of this PR) are part of #17034 so comments on them are better suited for that PR.",
    "created_at": "2021-10-05T18:13:42Z",
    "updated_at": "2021-10-05T18:13:42Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491290",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491290"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 319,
    "original_line": 319,
    "side": "RIGHT",
    "in_reply_to_id": 721951968
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348",
    "pull_request_review_id": 771817138,
    "id": 722491348,
    "node_id": "PRRC_kwDOABII584rEFfU",
    "diff_hunk": "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;",
    "path": "src/psbt.h",
    "position": 169,
    "original_position": 168,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-05T18:13:47Z",
    "updated_at": "2021-10-05T18:13:47Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491348",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491348"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491348/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 188,
    "original_line": 188,
    "side": "RIGHT",
    "in_reply_to_id": 721953484
  },
  {
    "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407",
    "pull_request_review_id": 771817339,
    "id": 722491407,
    "node_id": "PRRC_kwDOABII584rEFgP",
    "diff_hunk": "@@ -56,68 +184,109 @@ struct PSBTInput\n     CScriptWitness final_script_witness;\n     std::map<CPubKey, KeyOriginInfo> hd_keypaths;\n     std::map<CKeyID, SigPair> partial_sigs;\n+    uint256 prev_txid;\n+    std::optional<uint32_t> prev_out;\n+    std::optional<uint32_t> sequence;\n+    std::optional<uint32_t> time_locktime;\n+    std::optional<uint32_t> height_locktime;\n     std::map<std::vector<unsigned char>, std::vector<unsigned char>> unknown;\n+    std::set<PSBTProprietary> m_proprietary;\n     int sighash_type = 0;\n \n+    uint32_t m_psbt_version;\n+\n     bool IsNull() const;\n     void FillSignatureData(SignatureData& sigdata) const;\n     void FromSignatureData(const SignatureData& sigdata);\n     void Merge(const PSBTInput& input);\n-    PSBTInput() {}\n+    bool GetUTXO(CTxOut& utxo) const;",
    "path": "src/psbt.h",
    "position": 191,
    "original_position": 184,
    "commit_id": "537afb3715cbff65f90c33da91b86ad093723ed8",
    "original_commit_id": "4130efb9cdd70987ee77284b9ea0fbd964c25f6b",
    "user": {
      "login": "achow101",
      "id": 3782274,
      "node_id": "MDQ6VXNlcjM3ODIyNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3782274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/achow101",
      "html_url": "https://github.com/achow101",
      "followers_url": "https://api.github.com/users/achow101/followers",
      "following_url": "https://api.github.com/users/achow101/following{/other_user}",
      "gists_url": "https://api.github.com/users/achow101/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/achow101/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/achow101/subscriptions",
      "organizations_url": "https://api.github.com/users/achow101/orgs",
      "repos_url": "https://api.github.com/users/achow101/repos",
      "events_url": "https://api.github.com/users/achow101/events{/privacy}",
      "received_events_url": "https://api.github.com/users/achow101/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Done",
    "created_at": "2021-10-05T18:13:52Z",
    "updated_at": "2021-10-05T18:13:53Z",
    "html_url": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491407",
    "pull_request_url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283",
    "author_association": "MEMBER",
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407"
      },
      "html": {
        "href": "https://github.com/bitcoin/bitcoin/pull/21283#discussion_r722491407"
      },
      "pull_request": {
        "href": "https://api.github.com/repos/bitcoin/bitcoin/pulls/21283"
      }
    },
    "reactions": {
      "url": "https://api.github.com/repos/bitcoin/bitcoin/pulls/comments/722491407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "start_line": null,
    "original_start_line": null,
    "start_side": null,
    "line": 209,
    "original_line": 209,
    "side": "RIGHT",
    "in_reply_to_id": 721955741
  }
]