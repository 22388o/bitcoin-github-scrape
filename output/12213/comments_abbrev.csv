promag,2018-01-18T00:00:48Z,Another option to avoid `addwitnessaddress` is to have another node with `addresstype=...`. Not sure which is preferable.,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358490908,358490908,
olledik,2018-01-18T03:34:58Z,👍 ,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358527613,358527613,
MarcoFalke,2018-01-18T21:02:16Z,Concept ACK. Should probably do the same for createmultisig?,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358780475,358780475,
promag,2018-01-18T21:50:26Z,In this PR?,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358793147,358793147,
MarcoFalke,2018-01-18T22:10:10Z,"I mean they are related. To me it makes sense to update atomically, since I fail to see why you'd want the one but not the other.",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358798421,358798421,
promag,2018-01-18T22:21:58Z,"The test framework only calls `addwitnessaddress` on multisig addresses returned by `addmultisigaddress`, and this pull changes that.\n\nBut I guess it can be extended to `createmultisig`.",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358801413,358801413,
MarcoFalke,2018-01-18T22:28:32Z,"When this is only about tests, we can untag from 0.16, imo. When this is about a needed feature for users, I don't see why createmultisig shouldn't support it.",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358802971,358802971,
meshcollider,2018-01-19T09:19:10Z,"utACK https://github.com/bitcoin/bitcoin/commit/d1d17607eba0cae096bfa0d2dbdc977a071385bd\nAnd createmultisig change suggested by Marco would be nice too IMO",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-358909811,358909811,
Sjors,2018-01-19T19:41:33Z,"If I set the default address type to bech32 and then create a 1 of 2 multisig address using a wallet address and the public key of some external bech32 address, and I set the type to legacy:\n\n```sh\nbitcoin-cli addmultisigaddress 1 '[""bcrt1q0uh7xeh8jmnfzd0se9n39ut9n64sf7mt3ndhal"",""034c534e0cd400f69a948f7d6eecb891deca140c9e2035658033d5ebbaccd88058""]' """" legacy\n```\n\nThe result of `validat",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359068852,359068852,
sipa,2018-01-19T19:56:09Z,"@Sjors The 'addresses' field is very confusing, and I'd like to get rid of it, but it's there for backward compatibility. Historically there was no difference between addresses (shorthands for scriptPubKeys) and key identifiers, and it lives on in a number of calls. In this case, it's effectively the same as the 'pubkeys' field (which was added in #11403), but encoding the public keys as P2PKH add",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359072620,359072620,
promag,2018-01-21T22:19:26Z,Pushed `createmultisig` with `address_type` option. Please review. Meanwhile I'll add tests.,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359286417,359286417,
promag,2018-01-22T11:18:48Z,"@sipa currently when `ENABLE_WALLET` is false, `createmultisig` will always create legacy addresses. WDYT?",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359394746,359394746,
jnewbery,2018-01-22T17:08:11Z,needs rebase and comments addressed,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359494735,359494735,
jnewbery,2018-01-23T21:07:51Z,"utACK the first and third commits:\n- *[rpc] Add address type option to addmultisigaddress*\n- *[qa] Use address type in addmultisigaddress to avoid addwitnessaddress*\n\nI'm NACKish on the second commit (*[rpc] Add address type option to createmultisig*) because it adds a wallet dependency to server which will be difficult to unpick, and will make substatial work for #11415.",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359930807,359930807,
promag,2018-01-23T21:41:37Z,I can move *[rpc] Add address type option to createmultisig* to a new PR so it doesn't hold the rest. I don't feel both must be updated in one shot.,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359940306,359940306,
jnewbery,2018-01-23T22:49:46Z,"> I can move [rpc] Add address type option to createmultisig to a new PR\n\nI'd be in favour of that, but several other contributors asked for the opposite (for createmultisig to be added to this PR). I think wait to hear what they think.",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-359958448,359958448,
laanwj,2018-01-24T12:12:00Z,"Needs rebase.\n",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-360111767,360111767,
meshcollider,2018-01-24T12:13:40Z,"> I'd be in favour of that, but several other contributors asked for the opposite (for createmultisig to be added to this PR). I think wait to hear what they think.\n\nOn second thought yeah, the wallet dependency complicates that part so separating it out for separate discussion would be good, makes this PR easier to merge",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-360112114,360112114,
jonasschnelli,2018-01-24T19:01:22Z,Re-utACK f523c6bec,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-360238455,360238455,
MarcoFalke,2018-01-24T20:18:17Z,"Is there a pull request for createmultisig, or am I blind?",https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-360260380,360260380,
promag,2018-01-24T21:00:05Z,@MarcoFalke not yet.,https://github.com/bitcoin/bitcoin/pull/12213#issuecomment-360271465,360271465,
laanwj,2018-01-19T11:18:10Z,"You need to update the RPC command table as well with this added argument, to make named arguments work.",https://github.com/bitcoin/bitcoin/pull/12213#discussion_r162597117,162597117,src/wallet/rpcwallet.cpp
MarcoFalke,2018-01-19T19:38:22Z,Maybe even add a test for all new options,https://github.com/bitcoin/bitcoin/pull/12213#discussion_r162713463,162713463,src/wallet/rpcwallet.cpp
meshcollider,2018-01-22T11:13:25Z,Should be `3.` not `4.`,https://github.com/bitcoin/bitcoin/pull/12213#discussion_r162907505,162907505,src/rpc/misc.cpp
meshcollider,2018-01-22T13:09:00Z,@promag you missed this update to the RPC command table for `addmultisigaddress`,https://github.com/bitcoin/bitcoin/pull/12213#discussion_r162931174,162931174,src/wallet/rpcwallet.cpp
ryanofsky,2018-01-24T16:05:31Z,"This line currently causes failure, but appending `['address']` fixes it. Similar changes are needed in segwit.py. This is due to #11415 merge.",https://github.com/bitcoin/bitcoin/pull/12213#discussion_r163593060,163593060,test/functional/nulldummy.py
promag,2018-01-24T16:11:21Z,"Right, like above.",https://github.com/bitcoin/bitcoin/pull/12213#discussion_r163595014,163595014,test/functional/nulldummy.py
jnewbery,2018-01-24T17:27:55Z,"nit: use named arguments (specifically, it's not clear what the third argument `''` is for). Same for segwit.py",https://github.com/bitcoin/bitcoin/pull/12213#discussion_r163619590,163619590,test/functional/nulldummy.py
